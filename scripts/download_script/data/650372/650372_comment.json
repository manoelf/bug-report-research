{"bugs": {"650372": {"comments": [{"bug_id": 650372, "text": "User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; en-us) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\nBuild Identifier: \n\nWhen defining an @font-face with multiple source files of different formats, Firefox fails to download and render the font unless the format() listed after the src url is wrapped in quotes.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Create @font-face definition with the following src property: src: url(../fonts/vimeo.eot) format(eot), url(../fonts/vimeo.woff) format(woff)\n2. Reference the font in the css somewhere with a fallback font-family (like sans-serif)\nActual Results:  \nThe font is rendered using the fallback.\n\nExpected Results:  \nThe font should be rendered with the referenced file.\n\nThe spec (http://www.w3.org/TR/css3-fonts/#descdef-src) is silent on whether it requires quotes, but other browsers work without quotes.", "creation_time": "2011-04-15T20:29:11Z", "tags": [], "attachment_id": null, "raw_text": "User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; en-us) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\nBuild Identifier: \n\nWhen defining an @font-face with multiple source files of different formats, Firefox fails to download and render the font unless the format() listed after the src url is wrapped in quotes.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Create @font-face definition with the following src property: src: url(../fonts/vimeo.eot) format(eot), url(../fonts/vimeo.woff) format(woff)\n2. Reference the font in the css somewhere with a fallback font-family (like sans-serif)\nActual Results:  \nThe font is rendered using the fallback.\n\nExpected Results:  \nThe font should be rendered with the referenced file.\n\nThe spec (http://www.w3.org/TR/css3-fonts/#descdef-src) is silent on whether it requires quotes, but other browsers work without quotes.", "creator": "me@brad.is", "id": 5412712, "is_private": false, "time": "2011-04-15T20:29:11Z", "author": "me@brad.is", "count": 0}, {"creation_time": "2011-04-15T20:37:06Z", "tags": [], "attachment_id": null, "bug_id": 650372, "author": "jfkthame@gmail.com", "is_private": false, "id": 5412723, "raw_text": "Firefox behavior is correct according to the spec, AFAICS. The spec says that the format hint is a <string> (or a comma-separated list of <string>s):\n\n  Name:\tsrc\n  Value:\t[ <uri> [format(<string> [, <string>]*)] | <font-face-name> ] [, <uri> [format(<string> [, <string>]*)] | <font-face-name> ]*\n  Initial:\tN/A\n\nAnd CSS syntax requires a <string> to be quoted; see http://www.w3.org/TR/css3-syntax/#tokenization.", "creator": "jfkthame@gmail.com", "text": "Firefox behavior is correct according to the spec, AFAICS. The spec says that the format hint is a <string> (or a comma-separated list of <string>s):\n\n  Name:\tsrc\n  Value:\t[ <uri> [format(<string> [, <string>]*)] | <font-face-name> ] [, <uri> [format(<string> [, <string>]*)] | <font-face-name> ]*\n  Initial:\tN/A\n\nAnd CSS syntax requires a <string> to be quoted; see http://www.w3.org/TR/css3-syntax/#tokenization.", "time": "2011-04-15T20:37:06Z", "count": 1}, {"count": 2, "time": "2011-04-15T20:51:26Z", "text": "Looks like you're right. Either way though, not wrapping in quotes still works in other browsers. IMHO, Firefox should work the same way.", "creator": "me@brad.is", "raw_text": "Looks like you're right. Either way though, not wrapping in quotes still works in other browsers. IMHO, Firefox should work the same way.", "id": 5412752, "is_private": false, "author": "me@brad.is", "bug_id": 650372, "attachment_id": null, "creation_time": "2011-04-15T20:51:26Z", "tags": []}, {"count": 3, "time": "2011-04-16T01:01:30Z", "text": "Brad, it sounds like you want the spec changed.  If so, I suggest mailing www-style@w3.org; at the moment it just looks like other browsers have buggy implementations.", "creator": "bzbarsky@mit.edu", "raw_text": "Brad, it sounds like you want the spec changed.  If so, I suggest mailing www-style@w3.org; at the moment it just looks like other browsers have buggy implementations.", "id": 5413333, "author": "bzbarsky@mit.edu", "is_private": false, "bug_id": 650372, "attachment_id": null, "tags": [], "creation_time": "2011-04-16T01:01:30Z"}, {"count": 4, "author": "drott@google.com", "time": "2021-06-09T13:13:14Z", "is_private": false, "id": 15441772, "creator": "drott@google.com", "raw_text": "In its most recent form, since July 2018 [1] the CSS Fonts level 4 spec does expect keywords or strings (strings likely for backwards compatibility). \n\nMay I nudge this issue? I am working on reliable feature detection for supported font formats and supported font technologies, in that sense arriving at better web compat for the format() stance and the \" supports <font-technology>\" stance would help a lot. Thanks for considering implementing parsing keywords correctly here and implementing throwing out unsupported entries instead of dropping the src: line as unparseable.\n\n[1] https://github.com/w3c/csswg-drafts/commit/4d3684100754e06cf840a46b7d198df5066902dd", "attachment_id": null, "tags": [], "creation_time": "2021-06-09T13:13:14Z", "text": "In its most recent form, since July 2018 [1] the CSS Fonts level 4 spec does expect keywords or strings (strings likely for backwards compatibility). \n\nMay I nudge this issue? I am working on reliable feature detection for supported font formats and supported font technologies, in that sense arriving at better web compat for the format() stance and the \" supports <font-technology>\" stance would help a lot. Thanks for considering implementing parsing keywords correctly here and implementing throwing out unsupported entries instead of dropping the src: line as unparseable.\n\n[1] https://github.com/w3c/csswg-drafts/commit/4d3684100754e06cf840a46b7d198df5066902dd", "bug_id": 650372}]}}, "comments": {}}