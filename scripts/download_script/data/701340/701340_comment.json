{"bugs": {"701340": {"comments": [{"tags": [], "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.0) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.106 Safari/535.2\n\nSteps to reproduce:\n\nDemo http://jsfiddle.net/laukstein/9AyLy/2/show/\n\nFF8 breaks CSS `font-family` for `b` element/s when parent element/s has `font-weight: bold`\n\n\nActual results:\n\nFF8 breaks CSS font-family property\n\n\nExpected results:\n\nfont-family must be sans-serif", "attachment_id": null, "time": "2011-11-10T12:45:53Z", "creation_time": "2011-11-10T12:45:53Z", "is_private": false, "bug_id": 701340, "id": 5839776, "count": 0, "text": "User Agent: Mozilla/5.0 (Windows NT 6.0) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.106 Safari/535.2\n\nSteps to reproduce:\n\nDemo http://jsfiddle.net/laukstein/9AyLy/2/show/\n\nFF8 breaks CSS `font-family` for `b` element/s when parent element/s has `font-weight: bold`\n\n\nActual results:\n\nFF8 breaks CSS font-family property\n\n\nExpected results:\n\nfont-family must be sans-serif", "author": "7raivis@inbox.lv", "creator": "7raivis@inbox.lv"}, {"creation_time": "2011-11-10T12:59:26Z", "is_private": false, "id": 5839792, "bug_id": 701340, "author": "mardeg@inbox.ru", "count": 1, "text": "Created attachment 573486\nScreenshot of testcase", "creator": "mardeg@inbox.ru", "tags": [], "attachment_id": 573486, "raw_text": "", "time": "2011-11-10T12:59:26Z"}, {"creation_time": "2011-11-10T13:29:44Z", "is_private": false, "creator": "7raivis@inbox.lv", "tags": [], "attachment_id": 573492, "bug_id": 701340, "id": 5839830, "author": "7raivis@inbox.lv", "text": "Created attachment 573492\nFF8 print-screen for http://jsfiddle.net/laukstein/9AyLy/2/show/", "count": 2, "time": "2011-11-10T13:29:44Z", "raw_text": ""}, {"raw_text": "This print-screen is not related for the bug, it is not taken form FF8.", "time": "2011-11-10T13:31:58Z", "author": "7raivis@inbox.lv", "text": "Comment on attachment 573486\nScreenshot of testcase\n\nThis print-screen is not related for the bug, it is not taken form FF8.", "count": 3, "id": 5839836, "bug_id": 701340, "attachment_id": 573486, "tags": [], "creator": "7raivis@inbox.lv", "creation_time": "2011-11-10T13:31:58Z", "is_private": false}, {"time": "2011-11-10T15:24:12Z", "raw_text": "<b> is styled font-weight: bolder so presumably your chosen sans-serif font has a very bold weight.\n\nLooking in a style viewer the 1st example has weight 900, 2nd and third 700.\n\nIf you add an \"i\" (say) to your test you will see that the font-family is still sans-serif.", "attachment_id": null, "tags": [], "creator": "john.p.baker@bristol.ac.uk", "count": 4, "text": "<b> is styled font-weight: bolder so presumably your chosen sans-serif font has a very bold weight.\n\nLooking in a style viewer the 1st example has weight 900, 2nd and third 700.\n\nIf you add an \"i\" (say) to your test you will see that the font-family is still sans-serif.", "author": "john.p.baker@bristol.ac.uk", "bug_id": 701340, "id": 5839994, "is_private": false, "creation_time": "2011-11-10T15:24:12Z"}, {"tags": [], "time": "2011-11-10T20:59:50Z", "raw_text": "John P Baker, you are not right. See this attached image and http://jsfiddle.net/9AyLy/3/show/ on FF8.", "attachment_id": 573611, "bug_id": 701340, "id": 5841078, "creation_time": "2011-11-10T20:59:50Z", "is_private": false, "creator": "7raivis@inbox.lv", "count": 5, "text": "Created attachment 573611\nprint screen for http://jsfiddle.net/9AyLy/3/show/\n\nJohn P Baker, you are not right. See this attached image and http://jsfiddle.net/9AyLy/3/show/ on FF8.", "author": "7raivis@inbox.lv"}, {"author": "moz@jeka.info", "count": 6, "text": "> John P Baker, you are not right\n\nJohn is right, that's the \"<b> is bolder than bold issue\". More explanation see bug 661790.\nThis is basically a dup of that bug. The font should look better, maybe.\nMoving to  Core/Layout:Text.", "creator": "moz@jeka.info", "creation_time": "2011-11-10T22:24:53Z", "is_private": false, "id": 5841398, "bug_id": 701340, "attachment_id": null, "raw_text": "> John P Baker, you are not right\n\nJohn is right, that's the \"<b> is bolder than bold issue\". More explanation see bug 661790.\nThis is basically a dup of that bug. The font should look better, maybe.\nMoving to  Core/Layout:Text.", "time": "2011-11-10T22:24:53Z", "tags": []}, {"creator": "7raivis@inbox.lv", "creation_time": "2011-11-10T23:37:42Z", "is_private": false, "attachment_id": null, "tags": [], "text": "O.K. The bug appears for `font-weight` value 800px till 900px.", "count": 7, "author": "7raivis@inbox.lv", "bug_id": 701340, "id": 5841639, "raw_text": "O.K. The bug appears for `font-weight` value 800px till 900px.", "time": "2011-11-10T23:37:42Z"}, {"raw_text": "This bug is related to hardware acceleration", "time": "2011-11-11T16:21:16Z", "count": 8, "text": "Created attachment 573820\nFont issue in hardware acceleration\n\nThis bug is related to hardware acceleration", "author": "over68@hotmail.com", "bug_id": 701340, "id": 5842815, "attachment_id": 573820, "tags": [], "creator": "over68@hotmail.com", "is_private": false, "creation_time": "2011-11-11T16:21:16Z"}, {"attachment_id": null, "raw_text": "The result shown in attachment 573820 is correct behavior: the enhanced font family support in DirectWrite (compared to the old GDI model) means that the Arial Black face is recognized as a very-bold member of the Arial family. So when the base style already has \"font-weight:bold\", and you then use a <b> element which is styled as \"font-weight:bolder\", you get the face that is bolder than Arial Bold, namely Arial Black.\n\nI'm confirming this bug because of the problem with the Hebrew example shown in attachment 573611. This arises because CSS style resolution leads us to Arial Black (as just described); but it turns out that Arial Black doesn't support Hebrew (whereas the Regular and Bold faces do). So once we've determined that the requested font weight, in the default sans-serif family, resolves to Arial Black, we then find that it doesn't have the necessary characters, and then font fallback kicks in and finds a different font.\n\nIMO, it would be preferable in this case to try falling back to the nearest weight *of the same family* that does have the required characters, rather than deciding the family is not usable for this text. That would mean we'd end up with Arial Bold for the Hebrew here.\n\nThis is closely related to the behavior we see with italic-styled text with several font families that support Arabic only in their Regular face, but not in Italic; see bug 668813. I'm not sure offhand whether the patch there will also fix this example as it stands, but in any case that patch was backed out due to unexpected crashiness, and needs further debugging.\n\nMarking as dependent on bug 668813, though it may actually be a dupe.", "time": "2011-11-11T21:06:09Z", "tags": [], "author": "jfkthame@gmail.com", "text": "The result shown in attachment 573820 is correct behavior: the enhanced font family support in DirectWrite (compared to the old GDI model) means that the Arial Black face is recognized as a very-bold member of the Arial family. So when the base style already has \"font-weight:bold\", and you then use a <b> element which is styled as \"font-weight:bolder\", you get the face that is bolder than Arial Bold, namely Arial Black.\n\nI'm confirming this bug because of the problem with the Hebrew example shown in attachment 573611. This arises because CSS style resolution leads us to Arial Black (as just described); but it turns out that Arial Black doesn't support Hebrew (whereas the Regular and Bold faces do). So once we've determined that the requested font weight, in the default sans-serif family, resolves to Arial Black, we then find that it doesn't have the necessary characters, and then font fallback kicks in and finds a different font.\n\nIMO, it would be preferable in this case to try falling back to the nearest weight *of the same family* that does have the required characters, rather than deciding the family is not usable for this text. That would mean we'd end up with Arial Bold for the Hebrew here.\n\nThis is closely related to the behavior we see with italic-styled text with several font families that support Arabic only in their Regular face, but not in Italic; see bug 668813. I'm not sure offhand whether the patch there will also fix this example as it stands, but in any case that patch was backed out due to unexpected crashiness, and needs further debugging.\n\nMarking as dependent on bug 668813, though it may actually be a dupe.", "count": 9, "creator": "jfkthame@gmail.com", "is_private": false, "creation_time": "2011-11-11T21:06:09Z", "id": 5843552, "bug_id": 701340}]}}, "comments": {}}