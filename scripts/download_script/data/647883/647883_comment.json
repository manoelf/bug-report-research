{"bugs": {"647883": {"comments": [{"creator": "bugzilla@x.colbyrussell.com", "raw_text": "0. Make sure strict JS error reporting is turned on.\n1. Get at any tree which has at least one row which is a container and where the tree has few enough rows for there to be extra whitespace in the treebody after the last row (e.g., the Firefox history sidebar, with the browser sized large enough).\n2. Select a container row, (e.g., \"Today\").\n3. Double click in the whitespace after the last row.\n\nResults:\nError: col.value is null\nSource File: chrome://global/content/bindings/tree.xml\nLine: 1140\n\n> 1129 > var col = {};\n> 1130 > var obj = {};\n> 1131 > tbo.getCellAt(event.clientX, event.clientY, {}, col, obj);\n> 1132 > \n> 1133 > if (obj.value != \"twisty\")\n> 1134 >   this.parentNode.startEditing(row, col.value);\n> 1135 > \n> 1136 > if (this.parentNode._editingColumn || !tbo.view.isContainer(row))\n> 1137 >   return;\n> 1138 > \n> 1139 > // Cyclers and twisties respond to single clicks, not double clicks\n> 1140 > if (col.value != -1 && !col.value.cycler && obj.value != \"twisty\")\n> 1141 >   this.parentNode.changeOpenState(row);\n\nThe troublesome bit is the check for |col.value != -1|.  |col.value| isn't expected to be an index, so -1 is the wrong thing to be checking for.  It should be an nsITreeColumn or null.", "attachment_id": null, "tags": [], "creation_time": "2011-04-05T20:24:10Z", "text": "0. Make sure strict JS error reporting is turned on.\n1. Get at any tree which has at least one row which is a container and where the tree has few enough rows for there to be extra whitespace in the treebody after the last row (e.g., the Firefox history sidebar, with the browser sized large enough).\n2. Select a container row, (e.g., \"Today\").\n3. Double click in the whitespace after the last row.\n\nResults:\nError: col.value is null\nSource File: chrome://global/content/bindings/tree.xml\nLine: 1140\n\n> 1129 > var col = {};\n> 1130 > var obj = {};\n> 1131 > tbo.getCellAt(event.clientX, event.clientY, {}, col, obj);\n> 1132 > \n> 1133 > if (obj.value != \"twisty\")\n> 1134 >   this.parentNode.startEditing(row, col.value);\n> 1135 > \n> 1136 > if (this.parentNode._editingColumn || !tbo.view.isContainer(row))\n> 1137 >   return;\n> 1138 > \n> 1139 > // Cyclers and twisties respond to single clicks, not double clicks\n> 1140 > if (col.value != -1 && !col.value.cycler && obj.value != \"twisty\")\n> 1141 >   this.parentNode.changeOpenState(row);\n\nThe troublesome bit is the check for |col.value != -1|.  |col.value| isn't expected to be an index, so -1 is the wrong thing to be checking for.  It should be an nsITreeColumn or null.", "bug_id": 647883, "count": 0, "time": "2011-04-05T20:24:10Z", "author": "bugzilla@x.colbyrussell.com", "is_private": false, "id": 5391484}, {"time": "2018-04-30T20:12:30Z", "count": 1, "text": "Moving to Core:XUL per https://bugzilla.mozilla.org/show_bug.cgi?id=1455336", "raw_text": "Moving to Core:XUL per https://bugzilla.mozilla.org/show_bug.cgi?id=1455336", "creator": "bug-husbandry-bot@mozilla.bugs", "id": 13244499, "is_private": false, "author": "bug-husbandry-bot@mozilla.bugs", "bug_id": 647883, "creation_time": "2018-04-30T20:12:30Z", "tags": [], "attachment_id": null}]}}, "comments": {}}