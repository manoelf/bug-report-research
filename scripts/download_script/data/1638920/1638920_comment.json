{"comments": {}, "bugs": {"1638920": {"comments": [{"time": "2020-05-18T18:08:20Z", "creator": "lina@yakshaving.ninja", "tags": [], "count": 0, "creation_time": "2020-05-18T18:08:20Z", "raw_text": "`do_construct_cert_storage` currently [spins up its own thread](https://searchfox.org/mozilla-central/rev/9193635dca8cfdcb68f114306194ffc860456044/security/manager/ssl/cert_storage/src/lib.rs#928) for async persistence. We'd like to move away from one-off threads toward background task queues, and `moz_task` now exposes `create_background_task_queue` with a similar API.\n\nThe new a-s Rust components [already use them](https://searchfox.org/mozilla-central/rev/9193635dca8cfdcb68f114306194ffc860456044/toolkit/components/extensions/storage/webext_storage_bridge/src/area.rs#57,79-81) for background I/O, and I think we can give cert storage the same treatment without changing too much code! \ud83c\udf89", "bug_id": 1638920, "is_private": false, "text": "`do_construct_cert_storage` currently [spins up its own thread](https://searchfox.org/mozilla-central/rev/9193635dca8cfdcb68f114306194ffc860456044/security/manager/ssl/cert_storage/src/lib.rs#928) for async persistence. We'd like to move away from one-off threads toward background task queues, and `moz_task` now exposes `create_background_task_queue` with a similar API.\n\nThe new a-s Rust components [already use them](https://searchfox.org/mozilla-central/rev/9193635dca8cfdcb68f114306194ffc860456044/toolkit/components/extensions/storage/webext_storage_bridge/src/area.rs#57,79-81) for background I/O, and I think we can give cert storage the same treatment without changing too much code! \ud83c\udf89", "author": "lina@yakshaving.ninja", "id": 14829052, "attachment_id": null}, {"tags": [], "creator": "dkeeler@mozilla.com", "time": "2020-05-28T21:42:50Z", "raw_text": "", "count": 1, "creation_time": "2020-05-28T21:42:50Z", "is_private": false, "bug_id": 1638920, "id": 14850528, "author": "dkeeler@mozilla.com", "attachment_id": 9152559, "text": "Created attachment 9152559\nBug 1638920 - use a background task queue in cert_storage rather than a dedicated thread r?lina"}, {"count": 2, "creation_time": "2020-06-01T17:55:58Z", "raw_text": "Pushed by dkeeler@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/6ee922ee7cc0\nuse a background task queue in cert_storage rather than a dedicated thread r=lina", "creator": "pulsebot@bots.tld", "time": "2020-06-01T17:55:58Z", "tags": [], "text": "Pushed by dkeeler@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/6ee922ee7cc0\nuse a background task queue in cert_storage rather than a dedicated thread r=lina", "author": "pulsebot@bots.tld", "id": 14856340, "attachment_id": null, "is_private": false, "bug_id": 1638920}, {"count": 3, "creation_time": "2020-06-02T03:27:26Z", "raw_text": "https://hg.mozilla.org/mozilla-central/rev/6ee922ee7cc0", "creator": "rmaries@mozilla.com", "time": "2020-06-02T03:27:26Z", "tags": ["bugherder"], "text": "https://hg.mozilla.org/mozilla-central/rev/6ee922ee7cc0", "id": 14857229, "author": "rmaries@mozilla.com", "attachment_id": null, "bug_id": 1638920, "is_private": false}]}}}