{"bugs": {"681955": {"comments": [{"id": 5677770, "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0\nBuild ID: 20110811165603\n\nSteps to reproduce:\n\nAttempted to sign into a website\n\n\nActual results:\n\nAuthentication is not allowed because the cookie is rejected by firefox because it said the cookie was expired.  The cookie was NOT expired.  Below is a log from the cookies-log.txt file.  I have verified the issue exists in Firefox 6 and older versions on Windows and OS X.  The web application works perfectly fine in IE, Safari, and Chrome.\n\nBelow is the info from the cookie log.  As you can see, the cookie has NOT expired. \n\n0[830140]: ===== COOKIE NOT ACCEPTED =====\n0[830140]: request URL: https://website.somewhere.com/SignIn.aspx?ReturnUrl=%2f_layouts%2fAuthenticate.aspx%3fSource%3d%252F&Source=%2f\n0[830140]: cookie string: FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+MCMuZnxwbWNsaWVudHxkZmVkZGVycywwIy5mfHBtY2xpZW50fGRmZWRkZXJzLDEyOTU4NzkxODUxODA2NzQyOCxUcnVlLFJvaEVMUkhjZWFzSG5UcEQwbXhHZGFKd3V1cXpDbGYwTnpFdWdkaFpkcmtIaW9wMVVCcmwzNUZjSFA5OU84eGJtcEpXWHlSZEhhWGtweGpzR2NVUGJoRnpzUTBTZmlXa3ZSMzhBcCtYY1NPWTROV2w4QmNCTWtCTzMvZFppdDhWejNabk96RktiUCtmQXZvRjFQQ2FwbEUyR3RqSGErcTFCNzVDZUxMTDhaQ01oeENTejBic2o2U2ZWVzlWQ0NLaWE2ZXc1aDVNZER0VGYwSnFQWUNyY2p4VGpLSFpZcXZnUmpGV2tWM3NxQS9BMUVscjFwVHF4U2tINWE4c2JoUS9kaG1QVWZiOW1PalBvMG9NNkc4Nm9QWEFzY2QyOFJycnY4dU1USnVLZVNuWXNVQ3VZUFkrajVycGlRdXFlTWdJYnFQM3UzSm9xOFlkY0tnV3RvVUdXUT09LGh0dHBzOi8vY29sbGFib3JhdGUucGxhbnRlbW9yYW4uY29tLzwvU1A+; Secure; Expires=Fri, 26-Aug-2011 00:24:11 GMT; HttpOnly; Path=/\nNLSessionSprodcollab=f9Ds+lNiA48L3hhF7wIJhJt0Y2rq4MSdKq2QAG+PDNpsJjULTsKaTkAaFmywRmK21J6Qb1agXWkkbrs+ZMfGvUoHR37VmlsRGx6tT1EAFz7xzY32USbt6vcgtwMm6Jqo;path=/;secure;domain=.somewhere.com\n0[830140]: current time: Thu Aug 25 14:24:18 2011 GMT\n0[830140]: rejected because cookie has already expired\n0[830140]:  \n\n\nExpected results:\n\nThe cookie should have been accepted by firefox, and then sent back to verify authentication to the web application.", "author": "deathinc70@hotmail.com", "creation_time": "2011-08-25T15:17:05Z", "tags": [], "time": "2011-08-25T15:17:05Z", "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0\nBuild ID: 20110811165603\n\nSteps to reproduce:\n\nAttempted to sign into a website\n\n\nActual results:\n\nAuthentication is not allowed because the cookie is rejected by firefox because it said the cookie was expired.  The cookie was NOT expired.  Below is a log from the cookies-log.txt file.  I have verified the issue exists in Firefox 6 and older versions on Windows and OS X.  The web application works perfectly fine in IE, Safari, and Chrome.\n\nBelow is the info from the cookie log.  As you can see, the cookie has NOT expired. \n\n0[830140]: ===== COOKIE NOT ACCEPTED =====\n0[830140]: request URL: https://website.somewhere.com/SignIn.aspx?ReturnUrl=%2f_layouts%2fAuthenticate.aspx%3fSource%3d%252F&Source=%2f\n0[830140]: cookie string: FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+MCMuZnxwbWNsaWVudHxkZmVkZGVycywwIy5mfHBtY2xpZW50fGRmZWRkZXJzLDEyOTU4NzkxODUxODA2NzQyOCxUcnVlLFJvaEVMUkhjZWFzSG5UcEQwbXhHZGFKd3V1cXpDbGYwTnpFdWdkaFpkcmtIaW9wMVVCcmwzNUZjSFA5OU84eGJtcEpXWHlSZEhhWGtweGpzR2NVUGJoRnpzUTBTZmlXa3ZSMzhBcCtYY1NPWTROV2w4QmNCTWtCTzMvZFppdDhWejNabk96RktiUCtmQXZvRjFQQ2FwbEUyR3RqSGErcTFCNzVDZUxMTDhaQ01oeENTejBic2o2U2ZWVzlWQ0NLaWE2ZXc1aDVNZER0VGYwSnFQWUNyY2p4VGpLSFpZcXZnUmpGV2tWM3NxQS9BMUVscjFwVHF4U2tINWE4c2JoUS9kaG1QVWZiOW1PalBvMG9NNkc4Nm9QWEFzY2QyOFJycnY4dU1USnVLZVNuWXNVQ3VZUFkrajVycGlRdXFlTWdJYnFQM3UzSm9xOFlkY0tnV3RvVUdXUT09LGh0dHBzOi8vY29sbGFib3JhdGUucGxhbnRlbW9yYW4uY29tLzwvU1A+; Secure; Expires=Fri, 26-Aug-2011 00:24:11 GMT; HttpOnly; Path=/\nNLSessionSprodcollab=f9Ds+lNiA48L3hhF7wIJhJt0Y2rq4MSdKq2QAG+PDNpsJjULTsKaTkAaFmywRmK21J6Qb1agXWkkbrs+ZMfGvUoHR37VmlsRGx6tT1EAFz7xzY32USbt6vcgtwMm6Jqo;path=/;secure;domain=.somewhere.com\n0[830140]: current time: Thu Aug 25 14:24:18 2011 GMT\n0[830140]: rejected because cookie has already expired\n0[830140]:  \n\n\nExpected results:\n\nThe cookie should have been accepted by firefox, and then sent back to verify authentication to the web application.", "creator": "deathinc70@hotmail.com", "is_private": false, "bug_id": 681955, "count": 0}, {"time": "2011-08-25T22:24:43Z", "tags": [], "bug_id": 681955, "text": "That Expires-field is not in RFC2616 format, see RFC 6265 section 4.1.1 and RFC 2616 section 3.3.1. It looks like a RFC 1123 format, but that doesn't have the dashes.", "author": "jo.hermans@gmail.com", "creation_time": "2011-08-25T22:24:43Z", "count": 1, "creator": "jo.hermans@gmail.com", "is_private": false, "id": 5679143, "raw_text": "That Expires-field is not in RFC2616 format, see RFC 6265 section 4.1.1 and RFC 2616 section 3.3.1. It looks like a RFC 1123 format, but that doesn't have the dashes.", "attachment_id": null}, {"raw_text": "While we agree that the existance of dashes in the provided date is not 100% compliant to RFC2616 3.3.1 as eg: Sun, 06 Nov 1994 08:49:37 GMT  ; RFC 822, updated by RFC 1123, it has never been a issue with Firefox, and even now you can see plenty of entries like the one below where cookies containing the allegedly bad date format are routinely accepted. Please explain the difference between the log sample above and the one presented below which shows a Expires= field to contain dashes and was accepted. \nAlso note that RFC 2616, 3.3.1 states : \n      Note: Recipients of date values are encouraged to be robust in\n      accepting date values that may have been sent by non-HTTP\n      applications, as is sometimes the case when retrieving or posting\n      messages via proxies/gateways to SMTP or NNTP.\n\nSample cookie log where dashes were accepted in date field:  \n\n0[830140]: ===== COOKIE ACCEPTED =====\n0[830140]: request URL: https://devcc.plantemoran.com/_layouts/SPSolutions/ExCM/SignIn.aspx?ReturnUrl=%2f_layouts%2fAuthenticate.aspx%3fSource%3d%252F&Source=%2F\n0[830140]: cookie string: FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+MCMuZnxwbWNsaWVudHxkZmVkZGVycywwIy5mfHBtY2xpZW50fGRmZWRkZXJzLDEyOTU4ODczMDc1NDc2NDg4MSxUcnVlLFhUSGltYjYyS0paMEdNZUgzdExGY0pZaHB1TXZsNy9MVk81SXY4eHp0QnQ4UTM1ck8zNi9HV2RERlZDNmlWckg5dGIxUnB3K08yWElpQVczbmI4V2UzcjgzUTJUcTFRN295L2VSVlBrNW5sUUVDRXVJZEJsbklHemVYeGtCcHhTUTFmSXJwMkNLTCt2SWpyT3BFSjNaSmUxMGpMd09VRmtDZlBjbm80YURnZHFiTVhvR0gxRG0wWHNiYm04OFZSQ25ZQzdGSGQxbjRVZ3JrRG1LbVJzbGdqMmZBOEhReFJnTjZpQVc2dWdTSWVRaDNDbm1SRVJUREFJQlNkbGs2blRXMlRZU0VaSzJsZXorbjg3VGxQU2FYRFpHbWx5eDhNUUxXNlF0WmRyQi94SllYSFAwTlhQUkt4QjB0NW5kdjhhSjVJRDBMV0RDSkNXWEtFbk9HVEZsZz09LGh0dHBzOi8vZGV2Y2MucGxhbnRlbW9yYW4uY29tLzwvU1A+; Secure; Expires=Fri, 26-Aug-2011 22:57:55 GMT; HttpOnly; Path=/\nNLSessionSdevcollaborate=ln5DbO1iflmH/tpvKWn8hR/OVzYZCMepsaVlnCkvmWy76YQGy/jVIv+4ZLS5lfq6s2MMiwij4xO4obxzBpvoUiPjFZ2b2hzxU3SDUYwRYekHlcBgo9Nu2DLE/13u5mm5;path=/;secure;domain=.plantemoran.com\n0[830140]: replaces existing cookie: false\n0[830140]: current time: Fri Aug 26 12:58:01 2011 GMT", "attachment_id": null, "id": 5812232, "count": 2, "creator": "vic.shahid@microsoft.com", "is_private": false, "bug_id": 681955, "tags": [], "time": "2011-10-28T20:18:03Z", "text": "While we agree that the existance of dashes in the provided date is not 100% compliant to RFC2616 3.3.1 as eg: Sun, 06 Nov 1994 08:49:37 GMT  ; RFC 822, updated by RFC 1123, it has never been a issue with Firefox, and even now you can see plenty of entries like the one below where cookies containing the allegedly bad date format are routinely accepted. Please explain the difference between the log sample above and the one presented below which shows a Expires= field to contain dashes and was accepted. \nAlso note that RFC 2616, 3.3.1 states : \n      Note: Recipients of date values are encouraged to be robust in\n      accepting date values that may have been sent by non-HTTP\n      applications, as is sometimes the case when retrieving or posting\n      messages via proxies/gateways to SMTP or NNTP.\n\nSample cookie log where dashes were accepted in date field:  \n\n0[830140]: ===== COOKIE ACCEPTED =====\n0[830140]: request URL: https://devcc.plantemoran.com/_layouts/SPSolutions/ExCM/SignIn.aspx?ReturnUrl=%2f_layouts%2fAuthenticate.aspx%3fSource%3d%252F&Source=%2F\n0[830140]: cookie string: FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+MCMuZnxwbWNsaWVudHxkZmVkZGVycywwIy5mfHBtY2xpZW50fGRmZWRkZXJzLDEyOTU4ODczMDc1NDc2NDg4MSxUcnVlLFhUSGltYjYyS0paMEdNZUgzdExGY0pZaHB1TXZsNy9MVk81SXY4eHp0QnQ4UTM1ck8zNi9HV2RERlZDNmlWckg5dGIxUnB3K08yWElpQVczbmI4V2UzcjgzUTJUcTFRN295L2VSVlBrNW5sUUVDRXVJZEJsbklHemVYeGtCcHhTUTFmSXJwMkNLTCt2SWpyT3BFSjNaSmUxMGpMd09VRmtDZlBjbm80YURnZHFiTVhvR0gxRG0wWHNiYm04OFZSQ25ZQzdGSGQxbjRVZ3JrRG1LbVJzbGdqMmZBOEhReFJnTjZpQVc2dWdTSWVRaDNDbm1SRVJUREFJQlNkbGs2blRXMlRZU0VaSzJsZXorbjg3VGxQU2FYRFpHbWx5eDhNUUxXNlF0WmRyQi94SllYSFAwTlhQUkt4QjB0NW5kdjhhSjVJRDBMV0RDSkNXWEtFbk9HVEZsZz09LGh0dHBzOi8vZGV2Y2MucGxhbnRlbW9yYW4uY29tLzwvU1A+; Secure; Expires=Fri, 26-Aug-2011 22:57:55 GMT; HttpOnly; Path=/\nNLSessionSdevcollaborate=ln5DbO1iflmH/tpvKWn8hR/OVzYZCMepsaVlnCkvmWy76YQGy/jVIv+4ZLS5lfq6s2MMiwij4xO4obxzBpvoUiPjFZ2b2hzxU3SDUYwRYekHlcBgo9Nu2DLE/13u5mm5;path=/;secure;domain=.plantemoran.com\n0[830140]: replaces existing cookie: false\n0[830140]: current time: Fri Aug 26 12:58:01 2011 GMT", "author": "vic.shahid@microsoft.com", "creation_time": "2011-10-28T20:18:03Z"}]}}, "comments": {}}