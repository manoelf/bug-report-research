{"comments": {}, "bugs": {"651050": {"comments": [{"count": 0, "bug_id": 651050, "raw_text": "In order to get rid of the badness that is nsScanner while supporting the DTD-based chrome localization, there should be a new IO driver for expat that runs on the main thread and is responsible for receiving data from the network, performing the character encoding conversion and pushing the result to expat. This IO driver, unlike the one in bug 651049, should support loading external DTDs from chrome: URLs.\n\nIt will probably make sense to factor encoding sniffing code into a common superclass with bug 651049.", "tags": [], "is_private": false, "time": "2011-04-19T08:27:12Z", "creation_time": "2011-04-19T08:27:12Z", "author": "hsivonen@mozilla.com", "creator": "hsivonen@mozilla.com", "text": "In order to get rid of the badness that is nsScanner while supporting the DTD-based chrome localization, there should be a new IO driver for expat that runs on the main thread and is responsible for receiving data from the network, performing the character encoding conversion and pushing the result to expat. This IO driver, unlike the one in bug 651049, should support loading external DTDs from chrome: URLs.\n\nIt will probably make sense to factor encoding sniffing code into a common superclass with bug 651049.", "attachment_id": null, "id": 5418004}]}}}