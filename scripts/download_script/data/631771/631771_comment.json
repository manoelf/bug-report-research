{"bugs": {"631771": {"comments": [{"creator": "jruderman@gmail.com", "attachment_id": 510004, "text": "Created attachment 510004\ntestcase\n\n###!!! ASSERTION: U+0080/U+0100 - U+FFFF data lost: 'legalRange', file js/src/xpconnect/src/xpcconvert.cpp, line 847", "count": 0, "author": "jruderman@gmail.com", "raw_text": "###!!! ASSERTION: U+0080/U+0100 - U+FFFF data lost: 'legalRange', file js/src/xpconnect/src/xpcconvert.cpp, line 847", "bug_id": 631771, "creation_time": "2011-02-05T11:00:28Z", "tags": [], "is_private": false, "time": "2011-02-05T11:00:28Z", "id": 5257499}, {"is_private": false, "creation_time": "2011-02-05T11:00:52Z", "bug_id": 631771, "raw_text": "", "tags": [], "time": "2011-02-05T11:00:52Z", "id": 5257500, "attachment_id": 510005, "creator": "jruderman@gmail.com", "author": "jruderman@gmail.com", "text": "Created attachment 510005\nstack trace", "count": 1}, {"author": "bzbarsky@mit.edu", "count": 2, "text": "XPConnect is asserting correctly here.\n\nThe web page is passing a non-ASCII string in.  Then code in WebContentConverter.js passes that string, as-is, to nsIExternalProtocolService.getProtocolHandlerInfo.  This last takes an ACString per idl, so you get dataloss.\n\nEither the JS in question needs to sanitize the string, or nsIExternalProtocolService's signature needs to be changed.", "attachment_id": null, "creator": "bzbarsky@mit.edu", "time": "2011-02-05T16:55:50Z", "id": 5257741, "is_private": false, "raw_text": "XPConnect is asserting correctly here.\n\nThe web page is passing a non-ASCII string in.  Then code in WebContentConverter.js passes that string, as-is, to nsIExternalProtocolService.getProtocolHandlerInfo.  This last takes an ACString per idl, so you get dataloss.\n\nEither the JS in question needs to sanitize the string, or nsIExternalProtocolService's signature needs to be changed.", "bug_id": 631771, "creation_time": "2011-02-05T16:55:50Z", "tags": []}]}}, "comments": {}}