{"bugs": {"712792": {"comments": [{"creator": "felipc@gmail.com", "author": "felipc@gmail.com", "bug_id": 712792, "count": 0, "is_private": false, "tags": [], "id": 5933933, "text": "Created attachment 583651\nMinidump\n\nWebm video had stopped working on this session: the video progress would show as loaded, but pressing play would not work. This was true both for a webm video embedded in youtube's page, or for standalone webm file loaded on a tab.\nThen I tried to quit Firefox and it stuck hung on shutdown eating 63% of the CPU.\nI attached MSVC2010 and one of the threads had the following stack:\n\n \txul.dll!nsThread::ProcessNextEvent(bool mayWait=true, bool * result=0x30a5f653)  Line 596 + 0x4 bytes\tC++\n \txul.dll!NS_ProcessNextEvent_P(nsIThread * thread=0x090e9860, bool mayWait=true)  Line 245 + 0xd bytes\tC++\n \txul.dll!nsThread::Shutdown()  Line 502 + 0xa bytes\tC++\n \txul.dll!nsBuiltinDecoderStateMachine::StopAudioThread()  Line 1185\tC++\n \txul.dll!nsBuiltinDecoderStateMachine::DecodeSeek()  Line 1459\tC++\n \txul.dll!nsBuiltinDecoderStateMachine::DecodeThreadRun()  Line 442 + 0x6 bytes\tC++\n \txul.dll!nsRunnableMethodImpl<void (__thiscall nsBuiltinDecoder::*)(void),1>::Run()  Line 346\tC++\n \txul.dll!nsThread::ProcessNextEvent(bool mayWait=true, bool * result=0x090e9801)  Line 666\tC++\n \txul.dll!nsThreadStartupEvent::Run()  Line 221 + 0x8 bytes\tC++\n \tnspr4.dll!_PR_NativeRunThread(void * arg=)  Line 448\tC\n \tmsvcr80.dll!_getptd_noexit()  Line 633 + 0x7 bytes\tC\n \tnspr4.dll!pr_root(void * arg=0x0996b5c0)  Line 122 + 0xd bytes\tC\n \tmsvcr80.dll!_callthreadstartex()  Line 348 + 0x6 bytes\tC\n \tmsvcr80.dll!_threadstartex(void * ptd=0x1003ad08)  Line 326 + 0x5 bytes\tC\n \tkernel32.dll!@BaseThreadInitThunk@12()  + 0x12 bytes\t\n \tntdll.dll!___RtlUserThreadStart@8()  + 0x27 bytes\t\n \tntdll.dll!__RtlUserThreadStart@8()  + 0x1b bytes\t\n\n\nThis seems very similar to bug 687709 but since that is about StopDecodeThread and this is StopAudioThread I'm filing them separately. Feel free to mark as dup.\n\nI got both a minidump (attached), an xperf -on latency output (50mb), and a minidump with heap (727mb) if that would help.\n\nXperf didn't provide much insight AFAICT, lots of unknown symbols and the typical thread starvation signs (GetCurrentThread etc.): http://i.imgur.com/TJVgI.png", "attachment_id": 583651, "time": "2011-12-21T23:22:55Z", "raw_text": "Webm video had stopped working on this session: the video progress would show as loaded, but pressing play would not work. This was true both for a webm video embedded in youtube's page, or for standalone webm file loaded on a tab.\nThen I tried to quit Firefox and it stuck hung on shutdown eating 63% of the CPU.\nI attached MSVC2010 and one of the threads had the following stack:\n\n \txul.dll!nsThread::ProcessNextEvent(bool mayWait=true, bool * result=0x30a5f653)  Line 596 + 0x4 bytes\tC++\n \txul.dll!NS_ProcessNextEvent_P(nsIThread * thread=0x090e9860, bool mayWait=true)  Line 245 + 0xd bytes\tC++\n \txul.dll!nsThread::Shutdown()  Line 502 + 0xa bytes\tC++\n \txul.dll!nsBuiltinDecoderStateMachine::StopAudioThread()  Line 1185\tC++\n \txul.dll!nsBuiltinDecoderStateMachine::DecodeSeek()  Line 1459\tC++\n \txul.dll!nsBuiltinDecoderStateMachine::DecodeThreadRun()  Line 442 + 0x6 bytes\tC++\n \txul.dll!nsRunnableMethodImpl<void (__thiscall nsBuiltinDecoder::*)(void),1>::Run()  Line 346\tC++\n \txul.dll!nsThread::ProcessNextEvent(bool mayWait=true, bool * result=0x090e9801)  Line 666\tC++\n \txul.dll!nsThreadStartupEvent::Run()  Line 221 + 0x8 bytes\tC++\n \tnspr4.dll!_PR_NativeRunThread(void * arg=)  Line 448\tC\n \tmsvcr80.dll!_getptd_noexit()  Line 633 + 0x7 bytes\tC\n \tnspr4.dll!pr_root(void * arg=0x0996b5c0)  Line 122 + 0xd bytes\tC\n \tmsvcr80.dll!_callthreadstartex()  Line 348 + 0x6 bytes\tC\n \tmsvcr80.dll!_threadstartex(void * ptd=0x1003ad08)  Line 326 + 0x5 bytes\tC\n \tkernel32.dll!@BaseThreadInitThunk@12()  + 0x12 bytes\t\n \tntdll.dll!___RtlUserThreadStart@8()  + 0x27 bytes\t\n \tntdll.dll!__RtlUserThreadStart@8()  + 0x1b bytes\t\n\n\nThis seems very similar to bug 687709 but since that is about StopDecodeThread and this is StopAudioThread I'm filing them separately. Feel free to mark as dup.\n\nI got both a minidump (attached), an xperf -on latency output (50mb), and a minidump with heap (727mb) if that would help.\n\nXperf didn't provide much insight AFAICT, lots of unknown symbols and the typical thread starvation signs (GetCurrentThread etc.): http://i.imgur.com/TJVgI.png", "creation_time": "2011-12-21T23:22:55Z"}, {"creation_time": "2011-12-28T02:34:11Z", "raw_text": "What page/video did this happen with, and do you have a way to reproduce it?", "text": "What page/video did this happen with, and do you have a way to reproduce it?", "creator": "kinetik@flim.org", "author": "kinetik@flim.org", "attachment_id": null, "time": "2011-12-28T02:34:11Z", "tags": [], "is_private": false, "count": 1, "id": 5942109, "bug_id": 712792}, {"creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "bug_id": 712792, "is_private": false, "count": 2, "tags": [], "id": 6454855, "text": "Felipe ?", "attachment_id": null, "time": "2012-07-09T13:23:16Z", "raw_text": "Felipe ?", "creation_time": "2012-07-09T13:23:16Z"}]}}, "comments": {}}