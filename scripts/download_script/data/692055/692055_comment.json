{"comments": {}, "bugs": {"692055": {"comments": [{"count": 0, "id": 5759781, "is_private": false, "time": "2011-10-05T09:55:20Z", "creation_time": "2011-10-05T09:55:20Z", "creator": "adrien@qbik.com", "author": "adrien@qbik.com", "attachment_id": 564772, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.187 Safari/535.1\n\nSteps to reproduce:\n\nthis is while creating an account in TB 8.0.  Choosing manual configuration.\n\nChoose POP3, set server, port and automatic for SSL/TLS and auth.\n\nDifferent behaviour on initial retest than subsequent ones.  Also it's using pipelined POP3 commands CAPA and QUIT which is a BAD idea, as many servers / proxies don't support pipelining of POP3 commands. \n\n\nActual results:\n\ninitial retest:  Makes 3 connections, sends CAPA + QUIT in 1 buffer.\nsubsequent retest: makes 1 connection, sends CAPA + QUIT in several buffers, but prior to receiving any response from the server, so still effectively pipelined\n\n\nExpected results:\n\nmake only 1 connection, wait for +OK welcome, send CAPA, wait for response, send QUIT.", "text": "Created attachment 564772\ntb8pop3discovery.pcap\n\nUser Agent: Mozilla/5.0 (Windows NT 5.1) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.187 Safari/535.1\n\nSteps to reproduce:\n\nthis is while creating an account in TB 8.0.  Choosing manual configuration.\n\nChoose POP3, set server, port and automatic for SSL/TLS and auth.\n\nDifferent behaviour on initial retest than subsequent ones.  Also it's using pipelined POP3 commands CAPA and QUIT which is a BAD idea, as many servers / proxies don't support pipelining of POP3 commands. \n\n\nActual results:\n\ninitial retest:  Makes 3 connections, sends CAPA + QUIT in 1 buffer.\nsubsequent retest: makes 1 connection, sends CAPA + QUIT in several buffers, but prior to receiving any response from the server, so still effectively pipelined\n\n\nExpected results:\n\nmake only 1 connection, wait for +OK welcome, send CAPA, wait for response, send QUIT.", "bug_id": 692055, "tags": []}, {"author": "adrien@qbik.com", "creation_time": "2011-10-05T10:00:44Z", "time": "2011-10-05T10:00:44Z", "creator": "adrien@qbik.com", "count": 1, "id": 5759795, "is_private": false, "tags": [], "bug_id": 692055, "text": "Just analyzed a bit more with wireshark, and uploaded capture.  This shows 3 connections in initial test, and 1 in subsequent (some time later).\n\nThe 3rd of the initial connections is of concern, since it connects and spews garbage at the server.  Is this maybe a SSL client hello checking for SSL on the port?  It should know already based on the +OK it received that it's not SSL.\n\nSo maybe the behaviour is different because after the first test, the setting for SSL is changed to None (so maybe therefore doesn't re-test for it).\n\nIn any case, because the 2 commands are pipelined, the QUIT is missed by the server.  Pipelining should only be used if the server advertises it.", "raw_text": "Just analyzed a bit more with wireshark, and uploaded capture.  This shows 3 connections in initial test, and 1 in subsequent (some time later).\n\nThe 3rd of the initial connections is of concern, since it connects and spews garbage at the server.  Is this maybe a SSL client hello checking for SSL on the port?  It should know already based on the +OK it received that it's not SSL.\n\nSo maybe the behaviour is different because after the first test, the setting for SSL is changed to None (so maybe therefore doesn't re-test for it).\n\nIn any case, because the 2 commands are pipelined, the QUIT is missed by the server.  Pipelining should only be used if the server advertises it.", "attachment_id": null}, {"tags": [], "bug_id": 692055, "text": "*** Bug 692043 has been marked as a duplicate of this bug. ***", "raw_text": "", "attachment_id": null, "author": "rsx11m.pub@gmail.com", "creator": "rsx11m.pub@gmail.com", "creation_time": "2011-10-05T12:58:39Z", "time": "2011-10-05T12:58:39Z", "is_private": false, "count": 2, "id": 5760019}, {"tags": [], "bug_id": 692055, "text": "Do you still see this when using a current version?", "attachment_id": null, "raw_text": "Do you still see this when using a current version?", "creator": "vseerror@lehigh.edu", "time": "2021-04-04T13:46:13Z", "creation_time": "2021-04-04T13:46:13Z", "author": "vseerror@lehigh.edu", "is_private": false, "id": 15343084, "count": 3}, {"tags": [], "text": "(adrien appears to be gone)\n\nBen, would you expect this to still be an issue?", "bug_id": 692055, "attachment_id": null, "raw_text": "(adrien appears to be gone)\n\nBen, would you expect this to still be an issue?", "creator": "vseerror@lehigh.edu", "creation_time": "2021-05-26T23:55:27Z", "time": "2021-05-26T23:55:27Z", "author": "vseerror@lehigh.edu", "is_private": false, "count": 4, "id": 15422340}, {"raw_text": "The guessconfig.js logic hasn't changed much, so I expect this bug to still be there.\n\nThe reporter seems to be competent, so I think it's worthwhile to keep this open.", "attachment_id": null, "text": "The guessconfig.js logic hasn't changed much, so I expect this bug to still be there.\n\nThe reporter seems to be competent, so I think it's worthwhile to keep this open.", "bug_id": 692055, "tags": [], "is_private": false, "count": 5, "id": 15422349, "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "creation_time": "2021-05-27T00:14:07Z", "time": "2021-05-27T00:14:07Z"}, {"count": 6, "id": 15422358, "is_private": false, "creation_time": "2021-05-27T00:21:36Z", "time": "2021-05-27T00:21:36Z", "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "attachment_id": null, "raw_text": "Thanks", "tags": [], "text": "Thanks", "bug_id": 692055}]}}}