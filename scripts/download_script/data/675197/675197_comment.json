{"comments": {}, "bugs": {"675197": {"comments": [{"count": 0, "bug_id": 675197, "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110712112950\n\nSteps to reproduce:\n\nThis is basically a variation on the theme of 377498 with XPIProvider as an added ingredient.  I've specified \"5 Branch\" as a version, but looking at MXR/mozilla-central, the issue seems to apply.\n\nI'm trying to use a restartless addon of which the bootstrap.js file contains localised strings.\n\n\nActual results:\n\nXPIProvider.jsm loads the bootstrap script with mozIJSSubScriptLoader's default encoding which sadly happens to be iso-8859-1.  This encoding is rather limited and thus any string not representable in latin1 has to use \\u escapes.  This can turn some strings into a pretty unreadable mess.\n\n\nExpected results:\n\nThere should be a way to specify the encoding of bootstrap.js in restartless addons.  One possibility would be via install.rdf.\nAs a workaround, bootstrap.js can load another script with an explicit encoding.  However, that seems like a kludge especially for smallish helpers that only consist of the bootstrap file and install.rdf.\nApart from that and given that there are probably not too many restartless addons affected *yet*, I'd strongly vote for defaulting to utf-8 instead of that ugly legacy that is latin1.", "id": 5621851, "creator": "bugs@xodtsoq.de", "is_private": false, "author": "bugs@xodtsoq.de", "creation_time": "2011-07-29T14:29:25Z", "time": "2011-07-29T14:29:25Z", "tags": [], "text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110712112950\n\nSteps to reproduce:\n\nThis is basically a variation on the theme of 377498 with XPIProvider as an added ingredient.  I've specified \"5 Branch\" as a version, but looking at MXR/mozilla-central, the issue seems to apply.\n\nI'm trying to use a restartless addon of which the bootstrap.js file contains localised strings.\n\n\nActual results:\n\nXPIProvider.jsm loads the bootstrap script with mozIJSSubScriptLoader's default encoding which sadly happens to be iso-8859-1.  This encoding is rather limited and thus any string not representable in latin1 has to use \\u escapes.  This can turn some strings into a pretty unreadable mess.\n\n\nExpected results:\n\nThere should be a way to specify the encoding of bootstrap.js in restartless addons.  One possibility would be via install.rdf.\nAs a workaround, bootstrap.js can load another script with an explicit encoding.  However, that seems like a kludge especially for smallish helpers that only consist of the bootstrap file and install.rdf.\nApart from that and given that there are probably not too many restartless addons affected *yet*, I'd strongly vote for defaulting to utf-8 instead of that ugly legacy that is latin1."}]}}}