{"bugs": {"626469": {"comments": [{"raw_text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.10 (KHTML, like Gecko) Chrome/8.0.552.237 Safari/534.10\nBuild Identifier: 3.1.7\n\nI'm using IMAP and I keep my messages on the server and on the local computer for both my inbox and my archives.\n\nWhen I archive a message, it is not available through global search until I have actually opened that folder (at which point Thunderbird seems to synchronize the content of that folder with my local one). \n\nIt will also work if I go offline and choose to synchronize messages.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Receive a message\n2. Go to inbox (and stay there afterward)\n3. Archive the message (i use the keyboard shortcut \"a\"... if it makes any difference)\n4. Search for it in global search (CTRL-K) -> Not going to work\n5. Visit the archive folder where it went\n6. Search for it again -> Going to work\n\nActual Results:  \nDid not find anything at point 4\n\nExpected Results:  \nShould have found it at point 4\n\nIt actually makes global search useless unless you actually know in which folder to look...\n\nWorkaround : Go offline and have Thunderbird sync all your folders.\n\nWhat would be usefull : Have a \"sync everything\" function that doesn't require going offline. Make this \"full sync\" an option prior to executing global search.\n\nObserved since Thunderbird v3.0 on linux and windows", "count": 0, "tags": [], "author": "francois.trahan@gmail.com", "attachment_id": null, "bug_id": 626469, "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.10 (KHTML, like Gecko) Chrome/8.0.552.237 Safari/534.10\nBuild Identifier: 3.1.7\n\nI'm using IMAP and I keep my messages on the server and on the local computer for both my inbox and my archives.\n\nWhen I archive a message, it is not available through global search until I have actually opened that folder (at which point Thunderbird seems to synchronize the content of that folder with my local one). \n\nIt will also work if I go offline and choose to synchronize messages.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Receive a message\n2. Go to inbox (and stay there afterward)\n3. Archive the message (i use the keyboard shortcut \"a\"... if it makes any difference)\n4. Search for it in global search (CTRL-K) -> Not going to work\n5. Visit the archive folder where it went\n6. Search for it again -> Going to work\n\nActual Results:  \nDid not find anything at point 4\n\nExpected Results:  \nShould have found it at point 4\n\nIt actually makes global search useless unless you actually know in which folder to look...\n\nWorkaround : Go offline and have Thunderbird sync all your folders.\n\nWhat would be usefull : Have a \"sync everything\" function that doesn't require going offline. Make this \"full sync\" an option prior to executing global search.\n\nObserved since Thunderbird v3.0 on linux and windows", "id": 5205619, "time": "2011-01-17T19:45:26Z", "is_private": false, "creator": "francois.trahan@gmail.com", "creation_time": "2011-01-17T19:45:26Z"}, {"creation_time": "2011-10-04T14:25:29Z", "bug_id": 626469, "attachment_id": null, "author": "henti@geekware.co.za", "creator": "henti@geekware.co.za", "tags": [], "count": 1, "is_private": false, "time": "2011-10-04T14:25:29Z", "raw_text": "Same problem here. I only use archived mail when I need to search for things, which makes this bug extremely annoying. Can folders not by syned when thunderbird starts up to fix this problem ?", "text": "Same problem here. I only use archived mail when I need to search for things, which makes this bug extremely annoying. Can folders not by syned when thunderbird starts up to fix this problem ?", "id": 5757305}, {"text": "Andrew, I thought we were supposed to open folders in that situation? But that does seem to correlate with my own experience of the thing...", "id": 5757467, "time": "2011-10-04T15:30:37Z", "is_private": false, "creator": "jonathan.protzenko@gmail.com", "creation_time": "2011-10-04T15:30:37Z", "raw_text": "Andrew, I thought we were supposed to open folders in that situation? But that does seem to correlate with my own experience of the thing...", "count": 2, "tags": [], "author": "jonathan.protzenko@gmail.com", "attachment_id": null, "bug_id": 626469}, {"is_private": false, "text": "protz, this is just the IMAP move case.  If we're not UIDPLUS informed, then we should mark the target folder dirty and an indexing sweep should be triggered on the target folder.  Additionally, the autosync mechanism should also open the folder if we don't get in there.\n\nIn any event, the global search failure mode should be along the lines of \"it shows up in the global search results, but when I click on it to show it in the thread pane, it isn't there\".  Specifically, I would expect it to get indexed in the Inbox, at which point it should be in the system even if the location information is wrong.", "id": 5758471, "time": "2011-10-04T20:45:18Z", "creation_time": "2011-10-04T20:45:18Z", "creator": "bugmail@asutherland.org", "count": 3, "raw_text": "protz, this is just the IMAP move case.  If we're not UIDPLUS informed, then we should mark the target folder dirty and an indexing sweep should be triggered on the target folder.  Additionally, the autosync mechanism should also open the folder if we don't get in there.\n\nIn any event, the global search failure mode should be along the lines of \"it shows up in the global search results, but when I click on it to show it in the thread pane, it isn't there\".  Specifically, I would expect it to get indexed in the Inbox, at which point it should be in the system even if the location information is wrong.", "attachment_id": null, "bug_id": 626469, "tags": [], "author": "bugmail@asutherland.org"}, {"raw_text": "Hi Andrew, Jonathan.\n\nWhat does this mean for the end user ?", "count": 4, "author": "henti@geekware.co.za", "tags": [], "bug_id": 626469, "attachment_id": null, "time": "2011-11-10T09:28:00Z", "text": "Hi Andrew, Jonathan.\n\nWhat does this mean for the end user ?", "id": 5839515, "is_private": false, "creator": "henti@geekware.co.za", "creation_time": "2011-11-10T09:28:00Z"}, {"creator": "vseerror@lehigh.edu", "tags": [], "author": "vseerror@lehigh.edu", "creation_time": "2012-05-17T19:32:34Z", "attachment_id": null, "bug_id": 626469, "is_private": false, "raw_text": "valid bug per andrew \n\n(I don't know if this is a duplicate or not)", "text": "valid bug per andrew \n\n(I don't know if this is a duplicate or not)", "id": 6316641, "time": "2012-05-17T19:32:34Z", "count": 5}, {"time": "2012-07-16T21:23:57Z", "id": 6477546, "text": "Francios, Henti, (or even protz) can you still reproduce this?\nI can't, using currently nightly with my gmail account.\n\n(I didn't find a likely duplicate bug)", "is_private": false, "creator": "vseerror@lehigh.edu", "creation_time": "2012-07-16T21:23:57Z", "raw_text": "Francios, Henti, (or even protz) can you still reproduce this?\nI can't, using currently nightly with my gmail account.\n\n(I didn't find a likely duplicate bug)", "count": 6, "author": "vseerror@lehigh.edu", "tags": [], "bug_id": 626469, "attachment_id": null}, {"count": 7, "raw_text": "Here's the problem as I experience it:\n\n<<AT FIRST>>\n- Message is on my IMAP server.\n- Thunderbird search can find it, display it, let me click through to it.\n\n<<BUT THEN>>\n- I have Thunderbird archive it to a local folder\n- Now Thuderbird search may show it on the list but cannot display its content, and I can no longer click through to the message from the search results.\n\nNon-default settings containing the string \"archive\":\nmail.identity.id1.archive_folder = mailbox://nobody@Local%20Folders/local%20archive/Monthly\nmail.identity.id1.archive_granularity = 2\nmail.identity.id1.archive_keep_folder_structure = true\nmail.identity.id1.archives_folder_picker_mode = 1\nmail.server.default.archive_granularity = 2\nmail.server.default.archive_keep_folder_structure = false", "bug_id": 626469, "attachment_id": null, "author": "chris@databaseguy.com", "tags": [], "time": "2012-07-16T22:27:24Z", "id": 6477803, "text": "Here's the problem as I experience it:\n\n<<AT FIRST>>\n- Message is on my IMAP server.\n- Thunderbird search can find it, display it, let me click through to it.\n\n<<BUT THEN>>\n- I have Thunderbird archive it to a local folder\n- Now Thuderbird search may show it on the list but cannot display its content, and I can no longer click through to the message from the search results.\n\nNon-default settings containing the string \"archive\":\nmail.identity.id1.archive_folder = mailbox://nobody@Local%20Folders/local%20archive/Monthly\nmail.identity.id1.archive_granularity = 2\nmail.identity.id1.archive_keep_folder_structure = true\nmail.identity.id1.archives_folder_picker_mode = 1\nmail.server.default.archive_granularity = 2\nmail.server.default.archive_keep_folder_structure = false", "is_private": false, "creation_time": "2012-07-16T22:27:24Z", "creator": "chris@databaseguy.com"}, {"bug_id": 626469, "attachment_id": null, "author": "henti@geekware.co.za", "tags": [], "count": 8, "raw_text": "The example Chris has given above is exactly what happens. \n\nI would really like a way to update the index if this cannot be solved. Deleting the index file is not an option as it really doens't work. \n\nHenti", "creation_time": "2012-07-23T07:59:17Z", "creator": "henti@geekware.co.za", "time": "2012-07-23T07:59:17Z", "id": 6495855, "text": "The example Chris has given above is exactly what happens. \n\nI would really like a way to update the index if this cannot be solved. Deleting the index file is not an option as it really doens't work. \n\nHenti", "is_private": false}, {"creation_time": "2015-03-07T13:03:53Z", "creator": "bugzilla@aomi.pl", "is_private": false, "time": "2015-03-07T13:03:53Z", "text": "I am here after almost 3 years after the last comment was posted and over 4 years after the problem was discovered. Could someone >please< fix that utter idiotic behaviour? If it weren't for the workaround described here, I'd have to dig through a stash that contains e-mails from few years. Oh for crying out loud... why does Thunderbird work like Lotus Notes? The most basic functionality like search also doesn't work there and LN is famous for that. However I can't comprehend how in the world an open-source e-mail client has a broken >search< feature! Since 2011!", "id": 9999811, "bug_id": 626469, "attachment_id": null, "author": "bugzilla@aomi.pl", "tags": [], "count": 9, "raw_text": "I am here after almost 3 years after the last comment was posted and over 4 years after the problem was discovered. Could someone >please< fix that utter idiotic behaviour? If it weren't for the workaround described here, I'd have to dig through a stash that contains e-mails from few years. Oh for crying out loud... why does Thunderbird work like Lotus Notes? The most basic functionality like search also doesn't work there and LN is famous for that. However I can't comprehend how in the world an open-source e-mail client has a broken >search< feature! Since 2011!"}, {"bug_id": 626469, "attachment_id": null, "creation_time": "2015-03-07T13:16:50Z", "author": "vseerror@lehigh.edu", "creator": "vseerror@lehigh.edu", "tags": [], "count": 10, "time": "2015-03-07T13:16:50Z", "text": "(In reply to pufcio from comment #9)\n> The most\n> basic functionality like search also doesn't work there and LN is famous for\n> that. However I can't comprehend how in the world an open-source e-mail\n> client has a broken >search< feature! Since 2011!\n\n... because search works well for most users, there is a shortage of developers, and this example is not a common failure case (as demonstrated by no comments in 3 years)  But we'll see what can be done about it.", "id": 9999816, "raw_text": "(In reply to pufcio from comment #9)\n> The most\n> basic functionality like search also doesn't work there and LN is famous for\n> that. However I can't comprehend how in the world an open-source e-mail\n> client has a broken >search< feature! Since 2011!\n\n... because search works well for most users, there is a shortage of developers, and this example is not a common failure case (as demonstrated by no comments in 3 years)  But we'll see what can be done about it.", "is_private": false}, {"creation_time": "2015-03-07T14:43:51Z", "creator": "vseerror@lehigh.edu", "is_private": false, "text": "is gmail really still brain dead in this area? (bug 467841)", "id": 9999957, "time": "2015-03-07T14:43:51Z", "attachment_id": null, "bug_id": 626469, "tags": [], "author": "vseerror@lehigh.edu", "count": 11, "raw_text": "is gmail really still brain dead in this area? (bug 467841)"}, {"count": 12, "raw_text": "(In reply to Wayne Mery (:wsmwk) from comment #10)\n > ... because search works well for most users, there is a shortage of\n> developers, and this example is not a common failure case (as demonstrated\n> by no comments in 3 years)  But we'll see what can be done about it.\n\nI'm not trying to be malicious here, but will you say that car's brakes \"are ok\" when you press them 100 times and they don't cause the braking at the 100th press? :) It just can't be explained as \"99% of users use POP3, so the search does work correct for most of people\" (and even if 99% used POP3 instead of IMAP, it's still no excuse for such behaviour).\n\nI can't see any difference (besides GUI) between TB \"one-digit-version\" and 38.0a2, so from my POV they're tweaking & changing something under the hood while aforementioned \"brakes\" are still faulty.", "bug_id": 626469, "attachment_id": null, "author": "bugzilla@aomi.pl", "tags": ["off-topic"], "is_private": false, "time": "2015-03-07T16:33:02Z", "id": 10000178, "text": "(In reply to Wayne Mery (:wsmwk) from comment #10)\n > ... because search works well for most users, there is a shortage of\n> developers, and this example is not a common failure case (as demonstrated\n> by no comments in 3 years)  But we'll see what can be done about it.\n\nI'm not trying to be malicious here, but will you say that car's brakes \"are ok\" when you press them 100 times and they don't cause the braking at the 100th press? :) It just can't be explained as \"99% of users use POP3, so the search does work correct for most of people\" (and even if 99% used POP3 instead of IMAP, it's still no excuse for such behaviour).\n\nI can't see any difference (besides GUI) between TB \"one-digit-version\" and 38.0a2, so from my POV they're tweaking & changing something under the hood while aforementioned \"brakes\" are still faulty.", "creation_time": "2015-03-07T16:33:02Z", "creator": "bugzilla@aomi.pl"}, {"creator": "vseerror@lehigh.edu", "creation_time": "2015-03-07T16:45:08Z", "is_private": false, "time": "2015-03-07T16:45:08Z", "text": "If you have a reproducible testcase that someone else will be able to reproduce on a different computer, then please describe it in excruciating step by step detail, including conditions under which it does NOT reproduce.  It will be helpful to test your steps under an new, clean profile https://support.mozillamessaging.com/en-US/kb/using-multiple-profiles", "id": 10000196, "author": "vseerror@lehigh.edu", "tags": [], "bug_id": 626469, "attachment_id": null, "raw_text": "If you have a reproducible testcase that someone else will be able to reproduce on a different computer, then please describe it in excruciating step by step detail, including conditions under which it does NOT reproduce.  It will be helpful to test your steps under an new, clean profile https://support.mozillamessaging.com/en-US/kb/using-multiple-profiles", "count": 13}, {"creation_time": "2015-03-07T22:02:12Z", "attachment_id": null, "bug_id": 626469, "creator": "bugzilla@aomi.pl", "tags": [], "author": "bugzilla@aomi.pl", "count": 14, "is_private": false, "raw_text": "(assuming one has a clean profile, IMAP account to connect to & some messages in the inbox)\n1. start TB\n2. use the account creator, connect to the IMAP account\n3. wait for TB to download the messages for the inbox\n4. create a folder in the IMAP directory structure named \"archive\" (NOT local, remote!)\n5. move some messages from inbox to the \"archive\" directory\n6. try to find something from those messages (topic or whatever)\nyou won't find a thing, anything placed outside the basic inbox/sent/whatever seems to be invisible for TB search\n\nsolution: go to offline mode\n\nafter going offline, TB seems to index everything placed anywhere; you can go back online and search will still work as intended, so a \"lazy fix\" would be to force the indexing TB makes when going offline every time TB downloads new mail (and periodically when it's left idle).\n\nps. deleting global-messages-db.sqlite and letting TB rebuild the index doesn't fix anything, you have to use the \"go to offline\" hack, to make it work", "id": 10000524, "text": "(assuming one has a clean profile, IMAP account to connect to & some messages in the inbox)\n1. start TB\n2. use the account creator, connect to the IMAP account\n3. wait for TB to download the messages for the inbox\n4. create a folder in the IMAP directory structure named \"archive\" (NOT local, remote!)\n5. move some messages from inbox to the \"archive\" directory\n6. try to find something from those messages (topic or whatever)\nyou won't find a thing, anything placed outside the basic inbox/sent/whatever seems to be invisible for TB search\n\nsolution: go to offline mode\n\nafter going offline, TB seems to index everything placed anywhere; you can go back online and search will still work as intended, so a \"lazy fix\" would be to force the indexing TB makes when going offline every time TB downloads new mail (and periodically when it's left idle).\n\nps. deleting global-messages-db.sqlite and letting TB rebuild the index doesn't fix anything, you have to use the \"go to offline\" hack, to make it work", "time": "2015-03-07T22:02:12Z"}, {"id": 10011907, "text": "\"If we're not UIDPLUS informed, then we should mark the target folder dirty and an indexing sweep should be triggered on the target folder\" I don't understand that, isn't the solution just to trigger an update on the destination folder? Does \"Additionally, the autosync mechanism should also open the folder if we don't get in there.\" occur?\n\nMarking the target dirty would cause resync of that entire folder, which seems to be extreme for every time an archive message is created. Or do I not understand the situation?", "time": "2015-03-10T21:56:27Z", "is_private": false, "creator": "rkent@caspia.com", "creation_time": "2015-03-10T21:56:27Z", "raw_text": "\"If we're not UIDPLUS informed, then we should mark the target folder dirty and an indexing sweep should be triggered on the target folder\" I don't understand that, isn't the solution just to trigger an update on the destination folder? Does \"Additionally, the autosync mechanism should also open the folder if we don't get in there.\" occur?\n\nMarking the target dirty would cause resync of that entire folder, which seems to be extreme for every time an archive message is created. Or do I not understand the situation?", "count": 15, "tags": [], "author": "rkent@caspia.com", "attachment_id": null, "bug_id": 626469}, {"creation_time": "2015-04-19T13:36:28Z", "creator": "atuljangra66@gmail.com", "is_private": false, "text": "I have not worked on this area of mozilla-land for a long time. Bug 467841 is still a problem imho", "id": 10172514, "time": "2015-04-19T13:36:28Z", "attachment_id": null, "bug_id": 626469, "tags": [], "author": "atuljangra66@gmail.com", "count": 16, "raw_text": "I have not worked on this area of mozilla-land for a long time. Bug 467841 is still a problem imho"}]}}, "comments": {}}