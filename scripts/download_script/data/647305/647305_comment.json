{"bugs": {"647305": {"comments": [{"count": 0, "time": "2011-04-01T19:46:55Z", "creator": "_+bugzilla@ygoe.de", "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nThe new appearance of alert/confirm/prompt boxes in Firefox 4 is bound to a small portion of the page window size. For the input forms in our intranet application, which is using prompt() to question some data from the user, the text just doesn't fit in the space anymore. It would fit in, if the whole window would be used, but that isn't the case. Any other browser uses real windows, Opera even manages them to be non-modal. They don't have the problem because they can choose whatever size is necessary. It was all fine in Firefox 3.6 but 4.0 is a step back in this thing. What's the point of that UI design anyway?\n\nReproducible: Always\n\nSteps to Reproduce:\nCreate a web page that does:\n1. Open a relatively small popup window\n2. Call prompt() with a text of 3-4 lines length\n\nActual Results:  \nText cannot be seen, or only a single line of it. Sometimes not even a scroll bar appears.\n\nExpected Results:  \nFull text shall be visible at once, like in Firefox 3.6 and before.", "text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nThe new appearance of alert/confirm/prompt boxes in Firefox 4 is bound to a small portion of the page window size. For the input forms in our intranet application, which is using prompt() to question some data from the user, the text just doesn't fit in the space anymore. It would fit in, if the whole window would be used, but that isn't the case. Any other browser uses real windows, Opera even manages them to be non-modal. They don't have the problem because they can choose whatever size is necessary. It was all fine in Firefox 3.6 but 4.0 is a step back in this thing. What's the point of that UI design anyway?\n\nReproducible: Always\n\nSteps to Reproduce:\nCreate a web page that does:\n1. Open a relatively small popup window\n2. Call prompt() with a text of 3-4 lines length\n\nActual Results:  \nText cannot be seen, or only a single line of it. Sometimes not even a scroll bar appears.\n\nExpected Results:  \nFull text shall be visible at once, like in Firefox 3.6 and before.", "is_private": false, "author": "_+bugzilla@ygoe.de", "id": 5387072, "attachment_id": null, "tags": [], "creation_time": "2011-04-01T19:46:55Z", "bug_id": 647305}, {"bug_id": 647305, "text": "Can you post a screenshot? Or a simple html testcase?\n\nThis _sounds_ like a wontfix, but your final comment about seeing only a single line of text or no scrollbars is unexpected.", "tags": [], "creation_time": "2011-04-01T23:34:56Z", "attachment_id": null, "raw_text": "Can you post a screenshot? Or a simple html testcase?\n\nThis _sounds_ like a wontfix, but your final comment about seeing only a single line of text or no scrollbars is unexpected.", "creator": "jdinbox@gmail.com", "id": 5387693, "is_private": false, "time": "2011-04-01T23:34:56Z", "author": "jdinbox@gmail.com", "count": 1}, {"raw_text": "", "creator": "_+bugzilla@ygoe.de", "text": "Created attachment 523762\nArchive contains 2 HTML files and a screenshot.", "time": "2011-04-02T07:16:37Z", "count": 2, "creation_time": "2011-04-02T07:16:37Z", "tags": [], "attachment_id": 523762, "bug_id": 647305, "author": "_+bugzilla@ygoe.de", "is_private": false, "id": 5388087}, {"bug_id": 647305, "text": "So, you're opening a new window with a small size, and then triggering the prompt() in that. Most of this behavior is expected -- the prompt has multiple lines of text, and so something has to give to fit it into the small available space.\n\nWe do this by setting overflow on the box holding the text [see onResize() in tabprompts.xml], and normally you'll get scrollbars there... A problem with scrollbars is that when you try and use them in space with little vertical height, there might not be enough space to draw the slider and arrows for the scrollbar, and so they're incrementally eliminated.\n\nThis works fine on OS X -- eventually yo get just a short gray rectangle where the scrollbar is at. But on Windows it seems that that first the slider's grippy is eliminated, then the slider, and finally the arrows... But then nothing at all is drawn, and there's no indication that there's a scrollable region.\n\nSo, calling this a win32 widget bug, but perhaps that is just expected. When you've got such a small area, there's not really any good UI to put there. Just a bit surprising that we're not drawing _anything_.\n\nA simpler reproduction is to open javascript:prompt(\"1\\n2\\n3\\n4\\n5\\n6\\n7\") and resize the window to make it less and less tall.", "attachment_id": null, "creation_time": "2011-04-16T01:21:12Z", "tags": [], "creator": "jdinbox@gmail.com", "raw_text": "So, you're opening a new window with a small size, and then triggering the prompt() in that. Most of this behavior is expected -- the prompt has multiple lines of text, and so something has to give to fit it into the small available space.\n\nWe do this by setting overflow on the box holding the text [see onResize() in tabprompts.xml], and normally you'll get scrollbars there... A problem with scrollbars is that when you try and use them in space with little vertical height, there might not be enough space to draw the slider and arrows for the scrollbar, and so they're incrementally eliminated.\n\nThis works fine on OS X -- eventually yo get just a short gray rectangle where the scrollbar is at. But on Windows it seems that that first the slider's grippy is eliminated, then the slider, and finally the arrows... But then nothing at all is drawn, and there's no indication that there's a scrollable region.\n\nSo, calling this a win32 widget bug, but perhaps that is just expected. When you've got such a small area, there's not really any good UI to put there. Just a bit surprising that we're not drawing _anything_.\n\nA simpler reproduction is to open javascript:prompt(\"1\\n2\\n3\\n4\\n5\\n6\\n7\") and resize the window to make it less and less tall.", "id": 5413363, "is_private": false, "count": 3, "author": "jdinbox@gmail.com", "time": "2011-04-16T01:21:12Z"}, {"text": "The widget code bugs out if there is insufficient space, which is indeed inconsistent with the native Windows behavior (in classic, the buttons shrink, and in themed, the buttons are just cut off).\n\nBut I think there may still be some merit in making the prompt box larger in a small window; in the demonstration given, the text could easily fit with plenty of room to spare if the prompt used a bit more of the available space.", "raw_text": "The widget code bugs out if there is insufficient space, which is indeed inconsistent with the native Windows behavior (in classic, the buttons shrink, and in themed, the buttons are just cut off).\n\nBut I think there may still be some merit in making the prompt box larger in a small window; in the demonstration given, the text could easily fit with plenty of room to spare if the prompt used a bit more of the available space.", "creator": "kliu@code.kliu.org", "time": "2011-04-16T01:49:56Z", "count": 4, "bug_id": 647305, "tags": [], "creation_time": "2011-04-16T01:49:56Z", "attachment_id": null, "id": 5413401, "is_private": false, "author": "kliu@code.kliu.org"}]}}, "comments": {}}