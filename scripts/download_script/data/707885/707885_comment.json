{"bugs": {"707885": {"comments": [{"creation_time": "2011-12-06T07:07:34Z", "raw_text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_2) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.121 Safari/535.2\n\nSteps to reproduce:\n\n1. Create a form element with the \"required\" attribute\n2. Hide the element\n3. hit submit\n\nSee here: http://jsfiddle.net/H7GGe/1/\n\n\nActual results:\n\nHidden fields are subject to validation\n\n\nExpected results:\n\nFields that aren't being rendered should not be subject to validation. A script error is probably more appropriate (as a field that is required should never be hidden and is probably a programing design error if it is);\n\nSee here:\nhttp://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#concept-input-required\n\nand here:\nhttp://code.google.com/p/chromium/issues/detail?id=87882", "author": "mbrevda@gmail.com", "time": "2011-12-06T07:07:34Z", "attachment_id": null, "creator": "mbrevda@gmail.com", "text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_2) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.121 Safari/535.2\n\nSteps to reproduce:\n\n1. Create a form element with the \"required\" attribute\n2. Hide the element\n3. hit submit\n\nSee here: http://jsfiddle.net/H7GGe/1/\n\n\nActual results:\n\nHidden fields are subject to validation\n\n\nExpected results:\n\nFields that aren't being rendered should not be subject to validation. A script error is probably more appropriate (as a field that is required should never be hidden and is probably a programing design error if it is);\n\nSee here:\nhttp://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#concept-input-required\n\nand here:\nhttp://code.google.com/p/chromium/issues/detail?id=87882", "id": 5894214, "tags": [], "count": 0, "is_private": false, "bug_id": 707885}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "creation_time": "2011-12-07T03:41:03Z", "raw_text": "The spec you link to says nothing about display:none inhibiting constraint validation.  At some point there was some discussion about that on the mailing list, but I can't recall what the final decision was... Mounir?", "text": "The spec you link to says nothing about display:none inhibiting constraint validation.  At some point there was some discussion about that on the mailing list, but I can't recall what the final decision was... Mounir?", "attachment_id": null, "time": "2011-12-07T03:41:03Z", "is_private": false, "count": 1, "tags": [], "id": 5896469, "bug_id": 707885}, {"bug_id": 707885, "id": 5896477, "count": 2, "is_private": false, "tags": [], "attachment_id": null, "time": "2011-12-07T03:53:26Z", "text": "Though I included the link:\nhttp://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#interactively-validate-the-constraints\n\n\"If one of the controls is not being rendered (e.g. it has the hidden attribute set) then user agents may report a script error.\"", "raw_text": "Though I included the link:\nhttp://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#interactively-validate-the-constraints\n\n\"If one of the controls is not being rendered (e.g. it has the hidden attribute set) then user agents may report a script error.\"", "creation_time": "2011-12-07T03:53:26Z", "author": "mbrevda@gmail.com", "creator": "mbrevda@gmail.com"}, {"creation_time": "2011-12-07T03:58:58Z", "raw_text": "That just says we may (but not must) log a message to the error console that there is a non-validating element with display:none.  This mayb be a good idea.  But the form is still not allowed to submit, as far as I can tell.", "text": "That just says we may (but not must) log a message to the error console that there is a non-validating element with display:none.  This mayb be a good idea.  But the form is still not allowed to submit, as far as I can tell.", "time": "2011-12-07T03:58:58Z", "attachment_id": null, "is_private": false, "count": 3, "tags": [], "id": 5896483, "bug_id": 707885, "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"creator": "mounir@lamouri.fr", "author": "mounir@lamouri.fr", "bug_id": 707885, "tags": [], "count": 4, "is_private": false, "id": 5896487, "text": "Basically, it's hard for us to have a clear idea of an element being visible or not. What we could try to do is to guess if it's visible and put a doorhanger on the submit button (or the element that originated the submission) that says we believe there is a hidden invalid element and ask the user if he wants to submit anyway but that would creates unexpected behavior.\n\nI believe script error isn't the good way to go because the user will just not understand what's happening and obviously websites with that kind of issues haven't been tested with html5 forms validation.", "time": "2011-12-07T03:59:44Z", "attachment_id": null, "raw_text": "Basically, it's hard for us to have a clear idea of an element being visible or not. What we could try to do is to guess if it's visible and put a doorhanger on the submit button (or the element that originated the submission) that says we believe there is a hidden invalid element and ask the user if he wants to submit anyway but that would creates unexpected behavior.\n\nI believe script error isn't the good way to go because the user will just not understand what's happening and obviously websites with that kind of issues haven't been tested with html5 forms validation.", "creation_time": "2011-12-07T03:59:44Z"}, {"creation_time": "2011-12-07T04:01:58Z", "raw_text": "We can't tell with 100% certainty that an element is visible.\n\nBut there are lots of cases in which we can detect that it's _not_ visible.  So if we think that the slippery slope is worth getting on, we could add something that works for display: none, at least.  Certainly detecting that is easy (modulo SVG).", "creator": "bzbarsky@mit.edu", "text": "We can't tell with 100% certainty that an element is visible.\n\nBut there are lots of cases in which we can detect that it's _not_ visible.  So if we think that the slippery slope is worth getting on, we could add something that works for display: none, at least.  Certainly detecting that is easy (modulo SVG).", "author": "bzbarsky@mit.edu", "attachment_id": null, "time": "2011-12-07T04:01:58Z", "tags": [], "is_private": false, "count": 5, "id": 5896490, "bug_id": 707885}, {"author": "mbrevda@gmail.com", "creator": "mbrevda@gmail.com", "time": "2011-12-07T04:12:22Z", "attachment_id": null, "text": "My main goal here is cross browser consistency. While the webkit guys almost convinced me that its ok to submit the form, I think that is wrong - as Boris pointed out. I (personally) dont care much for the script error - although it would be nice.\n\nHence, I would suggest an error of sorts that points out the the element is hidden (if thats feasible), but DON'T submit the form (which is the current behavior).", "creation_time": "2011-12-07T04:12:22Z", "raw_text": "My main goal here is cross browser consistency. While the webkit guys almost convinced me that its ok to submit the form, I think that is wrong - as Boris pointed out. I (personally) dont care much for the script error - although it would be nice.\n\nHence, I would suggest an error of sorts that points out the the element is hidden (if thats feasible), but DON'T submit the form (which is the current behavior).", "bug_id": 707885, "id": 5896512, "tags": [], "count": 6, "is_private": false}, {"author": "chris@christopherschultz.net", "creator": "chris@christopherschultz.net", "attachment_id": null, "time": "2012-12-06T17:50:45Z", "text": "Presumably, you are using Javascript to \"hide\" the element. Why not disable it at the same time? Disabling the element should also disable any validation that might be performed on the field.", "raw_text": "Presumably, you are using Javascript to \"hide\" the element. Why not disable it at the same time? Disabling the element should also disable any validation that might be performed on the field.", "creation_time": "2012-12-06T17:50:45Z", "bug_id": 707885, "id": 6888418, "tags": [], "count": 7, "is_private": false}, {"id": 6888426, "tags": [], "is_private": false, "count": 8, "bug_id": 707885, "creation_time": "2012-12-06T17:52:37Z", "raw_text": "Disabled fields aren't POST'd back to the server. Just because a field is hidden for a better UX, doesn't make it unimportant!", "attachment_id": null, "time": "2012-12-06T17:52:37Z", "text": "Disabled fields aren't POST'd back to the server. Just because a field is hidden for a better UX, doesn't make it unimportant!", "author": "mbrevda@gmail.com", "creator": "mbrevda@gmail.com"}, {"author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "bug_id": 707885, "id": 6888723, "count": 9, "is_private": false, "tags": [], "attachment_id": null, "time": "2012-12-06T18:43:48Z", "text": "If it's being posted, why shouldn't it be validated?  Seems like the whole point of validation is to not post invalid data!", "creation_time": "2012-12-06T18:43:48Z", "raw_text": "If it's being posted, why shouldn't it be validated?  Seems like the whole point of validation is to not post invalid data!"}, {"author": "mbrevda@gmail.com", "creator": "mbrevda@gmail.com", "time": "2012-12-06T18:59:42Z", "attachment_id": null, "text": "How can something hidden be validated?! The user can't see it, hence they shouldn't be notified to fixed something that they cant.", "creation_time": "2012-12-06T18:59:42Z", "raw_text": "How can something hidden be validated?! The user can't see it, hence they shouldn't be notified to fixed something that they cant.", "bug_id": 707885, "id": 6888809, "tags": [], "is_private": false, "count": 10}, {"count": 11, "is_private": false, "tags": [], "id": 6888884, "bug_id": 707885, "raw_text": "So fundamentally, this is a bug on the author's part.  The only question is what the right behavior is: submit bogus data, or don't submit.", "creation_time": "2012-12-06T19:13:04Z", "text": "So fundamentally, this is a bug on the author's part.  The only question is what the right behavior is: submit bogus data, or don't submit.", "time": "2012-12-06T19:13:04Z", "attachment_id": null, "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"author": "chris@christopherschultz.net", "creator": "chris@christopherschultz.net", "id": 6889947, "tags": [], "count": 12, "is_private": false, "bug_id": 707885, "creation_time": "2012-12-06T23:20:31Z", "raw_text": "(In reply to mbrevda from comment #8)\n> Disabled fields aren't POST'd back to the server. Just because a field is\n> hidden for a better UX, doesn't make it unimportant!\n\nIf the field is important, then it ought to be validated, no?\n\nPlus, how is the UA supposed to know if the field is hidden? What does hidden mean? display=none? White text on white background (or really foreground=background)? opacity=0.0? Some absolute element occupies a superset of the x,y coordinates of the element but has a superior z-index? The element is an chimpanzee walking through a basketball game?\n\nMy (presumably irrelevant) position is that this isn't the browser's problem, it's the application's.", "attachment_id": null, "time": "2012-12-06T23:20:31Z", "text": "(In reply to mbrevda from comment #8)\n> Disabled fields aren't POST'd back to the server. Just because a field is\n> hidden for a better UX, doesn't make it unimportant!\n\nIf the field is important, then it ought to be validated, no?\n\nPlus, how is the UA supposed to know if the field is hidden? What does hidden mean? display=none? White text on white background (or really foreground=background)? opacity=0.0? Some absolute element occupies a superset of the x,y coordinates of the element but has a superior z-index? The element is an chimpanzee walking through a basketball game?\n\nMy (presumably irrelevant) position is that this isn't the browser's problem, it's the application's."}, {"bug_id": 707885, "is_private": false, "count": 13, "tags": [], "id": 6891789, "text": "In my opinion, the real way to fix that bug is with bug 630495. Unfortunately, the work there seems to be a bit frozen... In a nutshell, the idea is to, as far as we can, warn the user that submitting the form isn't doable because of a bug in the page. Optionally, we could add an option that says \"Do you still want to submit the form, knowing that it might lead to unexpected results?\".", "time": "2012-12-07T13:44:25Z", "attachment_id": null, "creation_time": "2012-12-07T13:44:25Z", "raw_text": "In my opinion, the real way to fix that bug is with bug 630495. Unfortunately, the work there seems to be a bit frozen... In a nutshell, the idea is to, as far as we can, warn the user that submitting the form isn't doable because of a bug in the page. Optionally, we could add an option that says \"Do you still want to submit the form, knowing that it might lead to unexpected results?\".", "creator": "mounir@lamouri.fr", "author": "mounir@lamouri.fr"}, {"creator": "mbrevda@gmail.com", "text": "(In reply to Christopher Schultz from comment #12)\n> If the field is important, then it ought to be validated, no?\n\nIndeed. Unless the UI is structured in such a way that would prevent the user from validating. In which case, duh, we CAN'T validate. Hence, there is no point in prompting.\n\nIt's nice when the browser is smart and all you need to require a field is a require attr. But at the same time, it needs to be sane. The user can validate a field if he can't see it. Putting a \"This field is invalid\" bubble in the corner of the screen helps no one.\n\nI don't have a list of all the cases where a field should be considered hidden, but display:none is a non-brainer.\n\nI think a chimpanzee walking through a basketball game is the opposite of hidden, it's really obvious. I also think it requires validation every time. But thats just me...", "author": "mbrevda@gmail.com", "time": "2012-12-08T19:05:53Z", "attachment_id": null, "creation_time": "2012-12-08T19:05:53Z", "raw_text": "(In reply to Christopher Schultz from comment #12)\n> If the field is important, then it ought to be validated, no?\n\nIndeed. Unless the UI is structured in such a way that would prevent the user from validating. In which case, duh, we CAN'T validate. Hence, there is no point in prompting.\n\nIt's nice when the browser is smart and all you need to require a field is a require attr. But at the same time, it needs to be sane. The user can validate a field if he can't see it. Putting a \"This field is invalid\" bubble in the corner of the screen helps no one.\n\nI don't have a list of all the cases where a field should be considered hidden, but display:none is a non-brainer.\n\nI think a chimpanzee walking through a basketball game is the opposite of hidden, it's really obvious. I also think it requires validation every time. But thats just me...", "bug_id": 707885, "tags": [], "is_private": false, "count": 14, "id": 6895117}, {"bug_id": 707885, "id": 7584615, "count": 15, "is_private": false, "tags": [], "time": "2013-06-28T09:05:25Z", "attachment_id": null, "text": "*** Bug 887897 has been marked as a duplicate of this bug. ***", "creation_time": "2013-06-28T09:05:25Z", "raw_text": "", "author": "jo.hermans@gmail.com", "creator": "jo.hermans@gmail.com"}]}}, "comments": {}}