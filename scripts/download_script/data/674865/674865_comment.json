{"bugs": {"674865": {"comments": [{"creator": "tuxmux@gmail.com", "author": "tuxmux@gmail.com", "count": 0, "text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:5.0.1) Gecko/20100101 Firefox/5.0.1\nBuild ID: 20110707182747\n\nSteps to reproduce:\n\nWe were having performance complains from some of our clients using content editable in one of our product. After some debugging, we managed to bring it down to the following :\n\n- Put a content editable inside an element with float property and some amount of text\n- Hold down any key inside the content editable and look at your cpu usage\n\nOnline test case : http://www.nethik.fr/firefox-content-editable-debug.html\n\nWe've reproduced this bug on Firefox 5.0.1 under Mac OS X 10.6.8 and Firefox 5.0 under Windows XP. On windows Vista, we didn't see any increase but the performance alltogether is very bad = 3 to 4 times more cpu usage than other browsers.\n\n\nActual results:\n\n- When the content editable is inside the floated element the cpu usage is 2 to 3 times more than an element not floated\n- If you scroll down the page the cpu usage usualy gets even worse\n- The more content there seems to be in the page, the worse the performances seems to get\n\nIn general, Firefox (compared to all other browsers) seems to have poor performances when dealing with content editable elements.\n\n\nExpected results:\n\nProbably Firefox shouldn't use that much CPU?", "bug_id": 674865, "id": 5618936, "creation_time": "2011-07-28T11:05:22Z", "is_private": false, "time": "2011-07-28T11:05:22Z", "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:5.0.1) Gecko/20100101 Firefox/5.0.1\nBuild ID: 20110707182747\n\nSteps to reproduce:\n\nWe were having performance complains from some of our clients using content editable in one of our product. After some debugging, we managed to bring it down to the following :\n\n- Put a content editable inside an element with float property and some amount of text\n- Hold down any key inside the content editable and look at your cpu usage\n\nOnline test case : http://www.nethik.fr/firefox-content-editable-debug.html\n\nWe've reproduced this bug on Firefox 5.0.1 under Mac OS X 10.6.8 and Firefox 5.0 under Windows XP. On windows Vista, we didn't see any increase but the performance alltogether is very bad = 3 to 4 times more cpu usage than other browsers.\n\n\nActual results:\n\n- When the content editable is inside the floated element the cpu usage is 2 to 3 times more than an element not floated\n- If you scroll down the page the cpu usage usualy gets even worse\n- The more content there seems to be in the page, the worse the performances seems to get\n\nIn general, Firefox (compared to all other browsers) seems to have poor performances when dealing with content editable elements.\n\n\nExpected results:\n\nProbably Firefox shouldn't use that much CPU?", "tags": []}, {"attachment_id": null, "raw_text": "Reproduced using Linux:\n\n18% CPU\nMozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.2.19) Gecko/20110707 Firefox/3.6.19\n\n28% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:5.0.1) Gecko/20100101 Firefox/5.0.1\n\n27% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:6.0) Gecko/20100101 Firefox/6.0\n\n27% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:7.0a2) Gecko/20110727 Firefox/7.0a2\n\n27% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:8.0a1) Gecko/20110727 Firefox/8.0a1\n\n7% CPU\nMozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.30 (KHTML, like Gecko) Chrome/12.0.742.112 Safari/534.30\n\n12% CPU\nOpera/9.80 (X11; Linux x86_64; U; en) Presto/2.9.168 Version/11.50", "time": "2011-07-28T12:20:46Z", "tags": [], "author": "mozilla@ahlblom.eu", "count": 1, "text": "Reproduced using Linux:\n\n18% CPU\nMozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.2.19) Gecko/20110707 Firefox/3.6.19\n\n28% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:5.0.1) Gecko/20100101 Firefox/5.0.1\n\n27% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:6.0) Gecko/20100101 Firefox/6.0\n\n27% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:7.0a2) Gecko/20110727 Firefox/7.0a2\n\n27% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:8.0a1) Gecko/20110727 Firefox/8.0a1\n\n7% CPU\nMozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.30 (KHTML, like Gecko) Chrome/12.0.742.112 Safari/534.30\n\n12% CPU\nOpera/9.80 (X11; Linux x86_64; U; en) Presto/2.9.168 Version/11.50", "creator": "mozilla@ahlblom.eu", "is_private": false, "creation_time": "2011-07-28T12:20:46Z", "id": 5619031, "bug_id": 674865}, {"creation_time": "2011-07-28T12:52:48Z", "is_private": false, "creator": "mozilla@ahlblom.eu", "tags": [], "attachment_id": null, "id": 5619071, "bug_id": 674865, "text": "Looking for a regression...\n\nLast good nightly: 2010-09-11\nFirst bad nightly: 2010-09-12\n\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=73ab2c3c5ad9&tochange=cd3c926a7413\n\n6% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:2.0b6pre) Gecko/20100911 Firefox/4.0b6pre\n\n25% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:2.0b6pre) Gecko/20100912 Firefox/4.0b6pre\n\nPerhaps J\u00e4germonkey has something to do with this.", "count": 2, "author": "mozilla@ahlblom.eu", "raw_text": "Looking for a regression...\n\nLast good nightly: 2010-09-11\nFirst bad nightly: 2010-09-12\n\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=73ab2c3c5ad9&tochange=cd3c926a7413\n\n6% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:2.0b6pre) Gecko/20100911 Firefox/4.0b6pre\n\n25% CPU\nMozilla/5.0 (X11; Linux x86_64; rv:2.0b6pre) Gecko/20100912 Firefox/4.0b6pre\n\nPerhaps J\u00e4germonkey has something to do with this.", "time": "2011-07-28T12:52:48Z"}, {"time": "2011-07-28T20:56:03Z", "raw_text": "Local track down using Linux:\n\nDue to skipped revisions, the first bad revision could be any of:\nchangeset:   52479:11cf38adabf3\nuser:        L. David Baron <dbaron@dbaron.org>\ndate:        Sat Sep 11 09:27:12 2010 -0700\nsummary:     Rename -moz-box-shadow to box-shadow: mechanical changes.  (Bug 590039)  r=bzbarsky  a2.0=blocking2.0:beta6\n\nchangeset:   52480:83a79e1e035b\nuser:        L. David Baron <dbaron@dbaron.org>\ndate:        Sat Sep 11 09:27:13 2010 -0700\nsummary:     Rename -moz-box-shadow to box-shadow: manual changes.  (Bug 590039)  r=bzbarsky  a2.0=blocking2.0:beta6", "bug_id": 674865, "id": 5620408, "author": "mozilla@ahlblom.eu", "count": 3, "text": "Local track down using Linux:\n\nDue to skipped revisions, the first bad revision could be any of:\nchangeset:   52479:11cf38adabf3\nuser:        L. David Baron <dbaron@dbaron.org>\ndate:        Sat Sep 11 09:27:12 2010 -0700\nsummary:     Rename -moz-box-shadow to box-shadow: mechanical changes.  (Bug 590039)  r=bzbarsky  a2.0=blocking2.0:beta6\n\nchangeset:   52480:83a79e1e035b\nuser:        L. David Baron <dbaron@dbaron.org>\ndate:        Sat Sep 11 09:27:13 2010 -0700\nsummary:     Rename -moz-box-shadow to box-shadow: manual changes.  (Bug 590039)  r=bzbarsky  a2.0=blocking2.0:beta6", "tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-07-28T20:56:03Z", "creator": "mozilla@ahlblom.eu"}, {"tags": [], "raw_text": "", "attachment_id": 549219, "time": "2011-07-28T21:02:19Z", "creation_time": "2011-07-28T21:02:19Z", "is_private": false, "bug_id": 674865, "id": 5620430, "count": 4, "text": "Created attachment 549219\nTestcase from comment 0.", "author": "mozilla@ahlblom.eu", "creator": "mozilla@ahlblom.eu"}, {"is_private": false, "creation_time": "2011-07-28T21:18:35Z", "bug_id": 674865, "id": 5620491, "author": "mozilla@ahlblom.eu", "count": 5, "text": "Created attachment 549221\nModified testcase without box-shadow\n\n8% CPU without box-shadow\nMozilla/5.0 (X11; Linux x86_64; rv:8.0a1) Gecko/20110728 Firefox/8.0a1\n\nApparently it looks like Firefox requires far more CPU to handle box-shadow in combination with floating contenteditable compared with other browsers. Also Firefox compared with itself shows box-shadow requires much CPU power.", "creator": "mozilla@ahlblom.eu", "tags": [], "attachment_id": 549221, "raw_text": "8% CPU without box-shadow\nMozilla/5.0 (X11; Linux x86_64; rv:8.0a1) Gecko/20110728 Firefox/8.0a1\n\nApparently it looks like Firefox requires far more CPU to handle box-shadow in combination with floating contenteditable compared with other browsers. Also Firefox compared with itself shows box-shadow requires much CPU power.", "time": "2011-07-28T21:18:35Z"}, {"attachment_id": null, "raw_text": "box shadow isn't a quick operation, and we have a bug where if things inside a float change we invalidate too much of the page. That would explain this bug.", "time": "2012-02-25T04:15:43Z", "tags": [], "author": "tnikkel@gmail.com", "count": 6, "text": "box shadow isn't a quick operation, and we have a bug where if things inside a float change we invalidate too much of the page. That would explain this bug.", "creator": "tnikkel@gmail.com", "is_private": false, "creation_time": "2012-02-25T04:15:43Z", "bug_id": 674865, "id": 6092301}]}}, "comments": {}}