{"comments": {}, "bugs": {"337859": {"comments": [{"author": "ispiked@gmail.com", "text": "Steps to reproduce:\n1. Open Firefox.\n\nResults:\nWindow is sized around 100x100px and then resizes to normal window size very quickly.\n\nExpect results:\nOpen in normal window size.\n\nRegression range: http://bonsai.mozilla.org/cvsquery.cgi?treeid=default&module=all&branch=HEAD&branchtype=match&dir=&file=&filetype=match&who=&whotype=match&sortby=Date&hours=2&date=explicit&mindate=2006-05-12+11%3A00&maxdate=2006-05-12+21%3A00&cvsroot=%2Fcvsroot", "is_private": false, "tags": [], "bug_id": 337859, "raw_text": "Steps to reproduce:\n1. Open Firefox.\n\nResults:\nWindow is sized around 100x100px and then resizes to normal window size very quickly.\n\nExpect results:\nOpen in normal window size.\n\nRegression range: http://bonsai.mozilla.org/cvsquery.cgi?treeid=default&module=all&branch=HEAD&branchtype=match&dir=&file=&filetype=match&who=&whotype=match&sortby=Date&hours=2&date=explicit&mindate=2006-05-12+11%3A00&maxdate=2006-05-12+21%3A00&cvsroot=%2Fcvsroot", "creator": "ispiked@gmail.com", "attachment_id": null, "count": 0, "id": 2854845, "creation_time": "2006-05-13T20:12:03Z", "time": "2006-05-13T20:12:03Z"}, {"text": "This is a regression from bug 336847; verified by local backout of that patch.", "author": "bzbarsky@mit.edu", "bug_id": 337859, "is_private": false, "tags": [], "creator": "bzbarsky@mit.edu", "attachment_id": null, "raw_text": "This is a regression from bug 336847; verified by local backout of that patch.", "id": 2855219, "creation_time": "2006-05-14T16:43:48Z", "time": "2006-05-14T16:43:48Z", "count": 1}, {"attachment_id": null, "creator": "bugzilla-mozilla-20000923@james-ross.co.uk", "raw_text": "I've not seen this at all here, and it's got to be a layout bug...", "time": "2006-05-14T17:10:51Z", "id": 2855238, "creation_time": "2006-05-14T17:10:51Z", "count": 2, "text": "I've not seen this at all here, and it's got to be a layout bug...", "author": "bugzilla-mozilla-20000923@james-ross.co.uk", "bug_id": 337859, "tags": [], "is_private": false}, {"text": "Very possible, but it looks like crap, fucks with the window manager's placement algorithms, and the Firefox window doesn't make a very good layout bug testcase.  If someone can come up with a minimal-ish XUL testcase, that would be nice.\n\nFor what it's worth, I really don't see why this CSS change would cause this behavior; I'd think the window size would come from the persistence object... On the other hand, XUL's support for negative margins is not exactly well-tested, so...", "author": "bzbarsky@mit.edu", "bug_id": 337859, "tags": [], "id": 2855384, "count": 3, "is_private": false, "creator": "bzbarsky@mit.edu", "attachment_id": null, "raw_text": "Very possible, but it looks like crap, fucks with the window manager's placement algorithms, and the Firefox window doesn't make a very good layout bug testcase.  If someone can come up with a minimal-ish XUL testcase, that would be nice.\n\nFor what it's worth, I really don't see why this CSS change would cause this behavior; I'd think the window size would come from the persistence object... On the other hand, XUL's support for negative margins is not exactly well-tested, so...", "creation_time": "2006-05-14T21:30:11Z", "time": "2006-05-14T21:30:11Z"}, {"bug_id": 337859, "is_private": false, "tags": [], "text": "reverting bug 295447 (and subsequent fixes to it) by commenting out http://lxr.mozilla.org/mozilla/source/widget/src/gtk2/nsWindow.cpp#715 -- 719 fixes this issue also (cf bug 324348)", "author": "tuukka.tolvanen@gmail.com", "creation_time": "2006-05-15T14:19:55Z", "id": 2855786, "time": "2006-05-15T14:19:55Z", "count": 4, "creator": "tuukka.tolvanen@gmail.com", "attachment_id": null, "raw_text": "reverting bug 295447 (and subsequent fixes to it) by commenting out http://lxr.mozilla.org/mozilla/source/widget/src/gtk2/nsWindow.cpp#715 -- 719 fixes this issue also (cf bug 324348)"}, {"author": "bugspam.Callek@gmail.com", "text": "http://bonsai.mozilla.org/cvsblame.cgi?file=mozilla/widget/src/gtk2/nsWindow.cpp&rev=1.171&root=/cvsroot&mark=715-719#710\nBonsai link for lxr referenced in c#4 (incase stuff changes in lxr)", "tags": [], "is_private": false, "bug_id": 337859, "raw_text": "http://bonsai.mozilla.org/cvsblame.cgi?file=mozilla/widget/src/gtk2/nsWindow.cpp&rev=1.171&root=/cvsroot&mark=715-719#710\nBonsai link for lxr referenced in c#4 (incase stuff changes in lxr)", "creator": "bugspam.Callek@gmail.com", "attachment_id": null, "count": 5, "creation_time": "2006-05-16T06:41:08Z", "id": 2856614, "time": "2006-05-16T06:41:08Z"}, {"is_private": false, "time": "2006-05-16T07:03:38Z", "creation_time": "2006-05-16T07:03:38Z", "attachment_id": null, "creator": "ginnchen+exoracle@gmail.com", "raw_text": "I'm sorry to hear this bug returns.\nThe CSS changes make mNeedsResize become FALSE before the window is focused.\n", "bug_id": 337859, "tags": [], "text": "I'm sorry to hear this bug returns.\nThe CSS changes make mNeedsResize become FALSE before the window is focused.\n", "author": "ginnchen+exoracle@gmail.com", "id": 2856626, "count": 6}, {"bug_id": 337859, "tags": [], "is_private": false, "text": "Created attachment 222152\npatch\n\nWe should check owningWindow's attribute, not |this|'s.\nI think mIsShown is much more reliable than mNeedsResize", "author": "ginnchen+exoracle@gmail.com", "time": "2006-05-16T08:10:24Z", "creation_time": "2006-05-16T08:10:24Z", "id": 2856672, "count": 7, "attachment_id": 222152, "creator": "ginnchen+exoracle@gmail.com", "raw_text": "We should check owningWindow's attribute, not |this|'s.\nI think mIsShown is much more reliable than mNeedsResize"}, {"id": 2856816, "count": 8, "bug_id": 337859, "tags": [], "text": "I can confirm that the patch fixes things here. Note while testing that since the css that triggered this issue gives incorrect appearance on gtk (bug 338000), it may go away due to changes there.", "author": "tuukka.tolvanen@gmail.com", "time": "2006-05-16T12:17:08Z", "creation_time": "2006-05-16T12:17:08Z", "attachment_id": null, "creator": "tuukka.tolvanen@gmail.com", "raw_text": "I can confirm that the patch fixes things here. Note while testing that since the css that triggered this issue gives incorrect appearance on gtk (bug 338000), it may go away due to changes there.", "is_private": false}, {"raw_text": "Checking in widget/src/gtk2/nsWindow.cpp;\n/cvsroot/mozilla/widget/src/gtk2/nsWindow.cpp,v  <--  nsWindow.cpp\nnew revision: 1.172; previous revision: 1.171\ndone\n", "attachment_id": null, "creator": "ginnchen+exoracle@gmail.com", "count": 9, "time": "2006-05-24T03:49:46Z", "id": 2863611, "creation_time": "2006-05-24T03:49:46Z", "author": "ginnchen+exoracle@gmail.com", "text": "Checking in widget/src/gtk2/nsWindow.cpp;\n/cvsroot/mozilla/widget/src/gtk2/nsWindow.cpp,v  <--  nsWindow.cpp\nnew revision: 1.172; previous revision: 1.171\ndone\n", "is_private": false, "tags": [], "bug_id": 337859}]}}}