{"bugs": {"697376": {"comments": [{"attachment_id": 569619, "raw_text": "Relation between messages msg1.eml (parent) and msg2.eml (child) is not detected in the threaded view.\n\nI think that reason is incorrectly handling of Message-Id header with comment field. Let's see at the header of msg1.eml:\n\n    Message-ID: <1319452010.3981.1.camel@krishna> (sfid-20111024_142558_138515_6F63A54F)\n\nComment was added by CRM114 mailreaver and AFAIK does not violates RFC 5322 because Message-Id header defined by the following grammar:\n   message-id      =   \"Message-ID:\" msg-id CRLF\n   in-reply-to     =   \"In-Reply-To:\" 1*msg-id CRLF\n   references      =   \"References:\" 1*msg-id CRLF\n   msg-id          =   [CFWS] \"<\" id-left \"@\" id-right \">\" [CFWS]\n   id-left         =   dot-atom-text / obs-id-left\n   id-right        =   dot-atom-text / no-fold-literal / obs-id-right\n   no-fold-literal =   \"[\" *dtext \"]\"", "id": 5805617, "is_private": false, "creator": "al@galanin.nnov.ru", "count": 0, "creation_time": "2011-10-26T08:02:03Z", "author": "al@galanin.nnov.ru", "text": "Created attachment 569619\nmsg1.eml (parent message)\n\nRelation between messages msg1.eml (parent) and msg2.eml (child) is not detected in the threaded view.\n\nI think that reason is incorrectly handling of Message-Id header with comment field. Let's see at the header of msg1.eml:\n\n    Message-ID: <1319452010.3981.1.camel@krishna> (sfid-20111024_142558_138515_6F63A54F)\n\nComment was added by CRM114 mailreaver and AFAIK does not violates RFC 5322 because Message-Id header defined by the following grammar:\n   message-id      =   \"Message-ID:\" msg-id CRLF\n   in-reply-to     =   \"In-Reply-To:\" 1*msg-id CRLF\n   references      =   \"References:\" 1*msg-id CRLF\n   msg-id          =   [CFWS] \"<\" id-left \"@\" id-right \">\" [CFWS]\n   id-left         =   dot-atom-text / obs-id-left\n   id-right        =   dot-atom-text / no-fold-literal / obs-id-right\n   no-fold-literal =   \"[\" *dtext \"]\"", "bug_id": 697376, "tags": [], "time": "2011-10-26T08:02:03Z"}, {"id": 5805618, "attachment_id": 569620, "raw_text": "", "creation_time": "2011-10-26T08:02:54Z", "author": "al@galanin.nnov.ru", "text": "Created attachment 569620\nmsg2.eml (child message)", "tags": [], "time": "2011-10-26T08:02:54Z", "bug_id": 697376, "is_private": false, "creator": "al@galanin.nnov.ru", "count": 1}, {"id": 5806068, "raw_text": "confirming based on RFC 5322 - there are a lot of places where we don't handle CFWS, from what I can tell.", "attachment_id": null, "text": "confirming based on RFC 5322 - there are a lot of places where we don't handle CFWS, from what I can tell.", "bug_id": 697376, "time": "2011-10-26T14:26:19Z", "tags": [], "creation_time": "2011-10-26T14:26:19Z", "author": "mozilla@davidbienvenu.org", "count": 2, "is_private": false, "creator": "mozilla@davidbienvenu.org"}]}}, "comments": {}}