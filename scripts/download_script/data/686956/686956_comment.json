{"bugs": {"686956": {"comments": [{"creation_time": "2011-09-15T20:53:05Z", "is_private": false, "id": 5719200, "bug_id": 686956, "author": "bugzilla@wodny.org", "count": 0, "text": "User Agent: Mozilla/5.0 (X11; Linux i686; rv:6.0.2) Gecko/20100101 Firefox/6.0.2 Iceweasel/6.0.2\nBuild ID: 20110906093027\n\nSteps to reproduce:\n\nDownload a file.\n\n\nActual results:\n\n\"Download complete\" notification appeared and then persisted in notification-daemon (0.7.1-5). Clearing all the notifications is boring.\n\n\nExpected results:\n\n\"Download complete\" notification should appear and then not persist (just disappear). Hint \"transient\" should be set to True.", "creator": "bugzilla@wodny.org", "tags": [], "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (X11; Linux i686; rv:6.0.2) Gecko/20100101 Firefox/6.0.2 Iceweasel/6.0.2\nBuild ID: 20110906093027\n\nSteps to reproduce:\n\nDownload a file.\n\n\nActual results:\n\n\"Download complete\" notification appeared and then persisted in notification-daemon (0.7.1-5). Clearing all the notifications is boring.\n\n\nExpected results:\n\n\"Download complete\" notification should appear and then not persist (just disappear). Hint \"transient\" should be set to True.", "time": "2011-09-15T20:53:05Z"}, {"attachment_id": null, "tags": [], "creator": "stransky@redhat.com", "creation_time": "2011-10-27T09:42:49Z", "is_private": false, "time": "2011-10-27T09:42:49Z", "raw_text": "Works es expected on Fedora 15 (notification-daemon-0.7.1-1.fc15.i686). I had some problems with the notifications too but it showed up to be an issue with download manager setting. Which value do you have in browser.download.manager.showAlertInterval?", "author": "stransky@redhat.com", "count": 1, "text": "Works es expected on Fedora 15 (notification-daemon-0.7.1-1.fc15.i686). I had some problems with the notifications too but it showed up to be an issue with download manager setting. Which value do you have in browser.download.manager.showAlertInterval?", "id": 5808459, "bug_id": 686956}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-10-27T09:53:22Z", "creator": "stransky@redhat.com", "raw_text": "Ahh, I see it now. There's a different behaviour in gnome-shell and fall-back mode.", "time": "2011-10-27T09:53:22Z", "bug_id": 686956, "id": 5808466, "text": "Ahh, I see it now. There's a different behaviour in gnome-shell and fall-back mode.", "count": 2, "author": "stransky@redhat.com"}, {"raw_text": "Simple fix. I guess this fix changes the notification for all apps/events (thunderbird new message for instance). Do we want to make this change for firefox only or not?", "time": "2011-10-27T11:33:13Z", "id": 5808537, "bug_id": 686956, "text": "Created attachment 569925\nsimple fix\n\nSimple fix. I guess this fix changes the notification for all apps/events (thunderbird new message for instance). Do we want to make this change for firefox only or not?", "count": 3, "author": "stransky@redhat.com", "tags": [], "attachment_id": 569925, "is_private": false, "creation_time": "2011-10-27T11:33:13Z", "creator": "stransky@redhat.com"}, {"attachment_id": null, "raw_text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #3)\n> Simple fix. I guess this fix changes the notification for all apps/events\n> (thunderbird new message for instance).\n\nYes, I expect we actually want different behaviour for different notifications.\n\nI suspect ideally we'd set the category to \"transfer.complete\" for a \"download complete notification\".\nhttp://people.gnome.org/%7Emccann/docs/notification-spec/notification-spec-latest.html\n\nI'm not actually sure whether or not the \"transient\" hint should be explicitly set.\nThe spec doesn't seem to specify the default value, so perhaps it's better to let the notification program decide (perhaps through user configuration).\n\nThe category sounds similar to the description of the \"name\" parameter to showAlertNotification: \"On OS X with Growl, users can disable notifications with a given name\", but the download manager does not currently provide a name to recognize.", "time": "2011-10-28T01:56:00Z", "tags": [], "author": "karlt@mozbugz.karlt.net", "count": 4, "text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #3)\n> Simple fix. I guess this fix changes the notification for all apps/events\n> (thunderbird new message for instance).\n\nYes, I expect we actually want different behaviour for different notifications.\n\nI suspect ideally we'd set the category to \"transfer.complete\" for a \"download complete notification\".\nhttp://people.gnome.org/%7Emccann/docs/notification-spec/notification-spec-latest.html\n\nI'm not actually sure whether or not the \"transient\" hint should be explicitly set.\nThe spec doesn't seem to specify the default value, so perhaps it's better to let the notification program decide (perhaps through user configuration).\n\nThe category sounds similar to the description of the \"name\" parameter to showAlertNotification: \"On OS X with Growl, users can disable notifications with a given name\", but the download manager does not currently provide a name to recognize.", "creator": "karlt@mozbugz.karlt.net", "is_private": false, "creation_time": "2011-10-28T01:56:00Z", "bug_id": 686956, "id": 5810568}, {"raw_text": "Sounds good. I didn't notice the possibility of using \"transfer.complete\". I don't think the notification-daemon currently supports this type of configuration, but it seems to be the right way. I'm going to file a wishlist bug to notification-daemon when this one is resolved that way.", "time": "2011-10-28T07:15:44Z", "author": "bugzilla@wodny.org", "count": 5, "text": "Sounds good. I didn't notice the possibility of using \"transfer.complete\". I don't think the notification-daemon currently supports this type of configuration, but it seems to be the right way. I'm going to file a wishlist bug to notification-daemon when this one is resolved that way.", "bug_id": 686956, "id": 5810851, "attachment_id": null, "tags": [], "creator": "bugzilla@wodny.org", "is_private": false, "creation_time": "2011-10-28T07:15:44Z"}, {"creator": "stransky@redhat.com", "text": "(In reply to Karl Tomlinson (:karlt) from comment #4)\n> Yes, I expect we actually want different behaviour for different\n> notifications.\n> \n> I suspect ideally we'd set the category to \"transfer.complete\" for a\n> \"download complete notification\".\n> http://people.gnome.org/%7Emccann/docs/notification-spec/notification-spec-\n> latest.html\n> \n> I'm not actually sure whether or not the \"transient\" hint should be\n> explicitly set.\n> The spec doesn't seem to specify the default value, so perhaps it's better\n> to let the notification program decide (perhaps through user configuration).\n\nSee bug 404738. Firefox uses libnotify recently which hides the dbus implementation details. Do you suggest the way of bug 404738 (switch linux notifications to DBUS directly) or bend the libnotify somehow?", "count": 6, "author": "stransky@redhat.com", "id": 5814986, "bug_id": 686956, "creation_time": "2011-10-31T13:48:36Z", "is_private": false, "time": "2011-10-31T13:48:36Z", "raw_text": "(In reply to Karl Tomlinson (:karlt) from comment #4)\n> Yes, I expect we actually want different behaviour for different\n> notifications.\n> \n> I suspect ideally we'd set the category to \"transfer.complete\" for a\n> \"download complete notification\".\n> http://people.gnome.org/%7Emccann/docs/notification-spec/notification-spec-\n> latest.html\n> \n> I'm not actually sure whether or not the \"transient\" hint should be\n> explicitly set.\n> The spec doesn't seem to specify the default value, so perhaps it's better\n> to let the notification program decide (perhaps through user configuration).\n\nSee bug 404738. Firefox uses libnotify recently which hides the dbus implementation details. Do you suggest the way of bug 404738 (switch linux notifications to DBUS directly) or bend the libnotify somehow?", "attachment_id": null, "tags": []}, {"tags": [], "time": "2011-10-31T14:37:58Z", "attachment_id": null, "raw_text": "BTW. the \"transient\" hint seems to be widely used by gtk3 apps:\n\nhttp://live.gnome.org/GnomeShell/Design/Guidelines/MessageTray/Compatibility", "bug_id": 686956, "id": 5815069, "creation_time": "2011-10-31T14:37:58Z", "is_private": false, "creator": "stransky@redhat.com", "author": "stransky@redhat.com", "text": "BTW. the \"transient\" hint seems to be widely used by gtk3 apps:\n\nhttp://live.gnome.org/GnomeShell/Design/Guidelines/MessageTray/Compatibility", "count": 7}, {"attachment_id": null, "tags": [], "creator": "stransky@redhat.com", "is_private": false, "creation_time": "2011-10-31T14:54:49Z", "raw_text": "Anyway, to specify \"transfer.complete\" by notify_notification_set_category() make no difference, notifications are still stored.", "time": "2011-10-31T14:54:49Z", "count": 8, "text": "Anyway, to specify \"transfer.complete\" by notify_notification_set_category() make no difference, notifications are still stored.", "author": "stransky@redhat.com", "id": 5815097, "bug_id": 686956}, {"text": "I'm not sure that having the notifications stored is a problem if the activate button works, because that can be useful.\n\nHaving multiple \"All files have finished downloading\" messages saved may be a bit silly though.  That depends on whether the activate button is download-specific or just tries to open the download manager to show them all.", "count": 9, "author": "karlt@mozbugz.karlt.net", "creator": "karlt@mozbugz.karlt.net", "is_private": false, "creation_time": "2011-10-31T23:36:33Z", "bug_id": 686956, "id": 5816730, "raw_text": "I'm not sure that having the notifications stored is a problem if the activate button works, because that can be useful.\n\nHaving multiple \"All files have finished downloading\" messages saved may be a bit silly though.  That depends on whether the activate button is download-specific or just tries to open the download manager to show them all.", "attachment_id": null, "time": "2011-10-31T23:36:33Z", "tags": []}]}}, "comments": {}}