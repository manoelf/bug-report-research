{"comments": {}, "bugs": {"702560": {"comments": [{"attachment_id": null, "raw_text": "See example in bug 617528. It works with screen readers. All we need is to make sure it's covered by mochitests suite.", "id": 5849053, "creator": "surkov.alexander@gmail.com", "is_private": false, "count": 0, "author": "surkov.alexander@gmail.com", "creation_time": "2011-11-15T11:03:07Z", "bug_id": 702560, "tags": [], "time": "2011-11-15T11:03:07Z", "text": "See example in bug 617528. It works with screen readers. All we need is to make sure it's covered by mochitests suite."}, {"creator": "surkov.alexander@gmail.com", "is_private": false, "time": "2011-11-15T11:05:40Z", "tags": [], "text": "add a file tree/test_contextmenu.html, see others tests in the folder (like test_map.html) to get an idea how to do that.", "author": "surkov.alexander@gmail.com", "creation_time": "2011-11-15T11:05:40Z", "raw_text": "add a file tree/test_contextmenu.html, see others tests in the folder (like test_map.html) to get an idea how to do that.", "attachment_id": null, "id": 5849056, "count": 1, "bug_id": 702560}, {"id": 6022665, "attachment_id": null, "raw_text": "Hi, I would like to work on this bug. I've fixed a few bugs before, so I'll try to figure out what needs to be done, but could someone please guide me if and when I get stuck? Thanks a lot!", "creation_time": "2012-01-31T15:45:46Z", "author": "murali.sr92@yahoo.com", "text": "Hi, I would like to work on this bug. I've fixed a few bugs before, so I'll try to figure out what needs to be done, but could someone please guide me if and when I get stuck? Thanks a lot!", "bug_id": 702560, "time": "2012-01-31T15:45:46Z", "tags": [], "is_private": false, "creator": "murali.sr92@yahoo.com", "count": 2}, {"raw_text": "Go for it!", "attachment_id": null, "id": 6022777, "is_private": false, "creator": "dbolter@mozilla.com", "text": "Go for it!", "time": "2012-01-31T16:20:03Z", "tags": [], "creation_time": "2012-01-31T16:20:03Z", "author": "dbolter@mozilla.com", "count": 3, "bug_id": 702560}, {"text": "(In reply to Murali from comment #2)\n> Hi, I would like to work on this bug. I've fixed a few bugs before, so I'll\n> try to figure out what needs to be done, but could someone please guide me\n> if and when I get stuck? Thanks a lot!\n\nsure, please don't hesitate to ask questions", "time": "2012-02-01T01:58:00Z", "bug_id": 702560, "tags": [], "creation_time": "2012-02-01T01:58:00Z", "author": "surkov.alexander@gmail.com", "count": 4, "is_private": false, "creator": "surkov.alexander@gmail.com", "id": 6024554, "raw_text": "(In reply to Murali from comment #2)\n> Hi, I would like to work on this bug. I've fixed a few bugs before, so I'll\n> try to figure out what needs to be done, but could someone please guide me\n> if and when I get stuck? Thanks a lot!\n\nsure, please don't hesitate to ask questions", "attachment_id": null}, {"creation_time": "2012-02-02T16:23:06Z", "author": "murali.sr92@yahoo.com", "text": "Created attachment 593855\nA Rough Draft..?\n\nCould you please tell me whether I have understood correctly? \nI've passed the div to testAccessibleTree(). Should I pass the context menu to testAccessibleTree() instead? So Sorry if I'm disturbing you a lot..", "bug_id": 702560, "time": "2012-02-02T16:23:06Z", "tags": [], "is_private": false, "creator": "murali.sr92@yahoo.com", "count": 5, "id": 6029159, "attachment_id": 593855, "raw_text": "Could you please tell me whether I have understood correctly? \nI've passed the div to testAccessibleTree(). Should I pass the context menu to testAccessibleTree() instead? So Sorry if I'm disturbing you a lot.."}, {"raw_text": "This is a good start, you have the basic idea.\n\nI think what we want to do here is to simulate the usage of the context menu, and then check to make sure the accessible tree is correct. It will make this bug a bit harder to fix, but a lot more interesting and useful.\n\nHave a look at tests/mochitest/tree/test_tree.xul for an example of how to trigger a tree test from an event. (Note that is a .xul file, but keep yours as .html, just borrow the ideas)", "attachment_id": 593855, "id": 6032176, "is_private": false, "creator": "dbolter@mozilla.com", "text": "Comment on attachment 593855\nA Rough Draft..?\n\nThis is a good start, you have the basic idea.\n\nI think what we want to do here is to simulate the usage of the context menu, and then check to make sure the accessible tree is correct. It will make this bug a bit harder to fix, but a lot more interesting and useful.\n\nHave a look at tests/mochitest/tree/test_tree.xul for an example of how to trigger a tree test from an event. (Note that is a .xul file, but keep yours as .html, just borrow the ideas)", "time": "2012-02-03T14:49:35Z", "tags": [], "creation_time": "2012-02-03T14:49:35Z", "author": "dbolter@mozilla.com", "count": 6, "bug_id": 702560}, {"count": 7, "bug_id": 702560, "is_private": false, "creator": "dbolter@mozilla.com", "text": "Please see bug 617528 \"updated demo\" attachment for some sample html context menu markup. (You don't need something this elaborate though)", "time": "2012-02-03T16:42:06Z", "tags": [], "creation_time": "2012-02-03T16:42:06Z", "author": "dbolter@mozilla.com", "raw_text": "Please see bug 617528 \"updated demo\" attachment for some sample html context menu markup. (You don't need something this elaborate though)", "attachment_id": null, "id": 6032450}, {"creator": "murali.sr92@yahoo.com", "is_private": false, "count": 8, "author": "murali.sr92@yahoo.com", "creation_time": "2012-02-07T16:22:42Z", "time": "2012-02-07T16:22:42Z", "bug_id": 702560, "tags": [], "text": "Created attachment 595046\nPatch\n\nCould you please verify this and let me know what change is required? Thanks a lot and sorry for the trouble.", "attachment_id": 595046, "raw_text": "Could you please verify this and let me know what change is required? Thanks a lot and sorry for the trouble.", "id": 6040709}, {"count": 9, "bug_id": 702560, "is_private": false, "creator": "marco.zehe@gmail.com", "creation_time": "2012-02-07T16:33:56Z", "author": "marco.zehe@gmail.com", "text": "Comment on attachment 595046\nPatch\n\nThis is correct in principle, but the syntax is\n\nrole: \n\nfollowed by the role for menu, menuitem etc. as defined in tests/mochitest/role.js, which you'll also need to include.\n\nNote that this is only doing the test and that the menu si not part of the DOM until the element it is being pointed to is right-clicked, so you'll need to do an invoker and check the correct event check. But this is a good start since you got the principle idea of the tree right.", "time": "2012-02-07T16:33:56Z", "tags": [], "attachment_id": 595046, "raw_text": "This is correct in principle, but the syntax is\n\nrole: \n\nfollowed by the role for menu, menuitem etc. as defined in tests/mochitest/role.js, which you'll also need to include.\n\nNote that this is only doing the test and that the menu si not part of the DOM until the element it is being pointed to is right-clicked, so you'll need to do an invoker and check the correct event check. But this is a good start since you got the principle idea of the tree right.", "id": 6040747}, {"id": 6040782, "raw_text": "Ditto Marco.\n\nMurali are you able to run the test to see what happens? Note we have ways to dump debugging info: http://bit.ly/vZfiRW", "attachment_id": 595046, "bug_id": 702560, "time": "2012-02-07T16:45:24Z", "tags": [], "text": "Comment on attachment 595046\nPatch\n\nDitto Marco.\n\nMurali are you able to run the test to see what happens? Note we have ways to dump debugging info: http://bit.ly/vZfiRW", "author": "dbolter@mozilla.com", "creation_time": "2012-02-07T16:45:24Z", "count": 10, "creator": "dbolter@mozilla.com", "is_private": false}, {"bug_id": 702560, "count": 11, "creation_time": "2012-02-08T12:57:12Z", "author": "surkov.alexander@gmail.com", "text": "This approach is not going work because HTML5 contextmenus are integrated into Firefox contextmenu. You should show context menu and then inspect the tree (refer to events/test_contextmenu.html as example).", "time": "2012-02-08T12:57:12Z", "tags": [], "is_private": false, "creator": "surkov.alexander@gmail.com", "id": 6043497, "attachment_id": null, "raw_text": "This approach is not going work because HTML5 contextmenus are integrated into Firefox contextmenu. You should show context menu and then inspect the tree (refer to events/test_contextmenu.html as example)."}, {"raw_text": "Hi, Could you please tell me whether my understand is correct. \n\nI've looked at /events/test_contextmenu.html.\nSimilar to that, I have to show, select and close the context menu. \nApart from this, I should also test the tree using testAccessibleTree, similar to the patch I have submitted already.\n\nI'm really sorry for asking so many questions. Thanks a lot!", "attachment_id": null, "id": 6046613, "count": 12, "creator": "murali.sr92@yahoo.com", "is_private": false, "time": "2012-02-09T10:00:49Z", "tags": [], "bug_id": 702560, "text": "Hi, Could you please tell me whether my understand is correct. \n\nI've looked at /events/test_contextmenu.html.\nSimilar to that, I have to show, select and close the context menu. \nApart from this, I should also test the tree using testAccessibleTree, similar to the patch I have submitted already.\n\nI'm really sorry for asking so many questions. Thanks a lot!", "author": "murali.sr92@yahoo.com", "creation_time": "2012-02-09T10:00:49Z"}, {"count": 13, "bug_id": 702560, "creator": "surkov.alexander@gmail.com", "is_private": false, "time": "2012-02-09T10:08:37Z", "tags": [], "text": "(In reply to Murali from comment #12)\n> Hi, Could you please tell me whether my understand is correct. \n> \n> I've looked at /events/test_contextmenu.html.\n> Similar to that, I have to show, select and close the context menu. \n> Apart from this, I should also test the tree using testAccessibleTree,\n> similar to the patch I have submitted already.\n\nright: show menu, test the tree and close menu (optional but nice)\n\nget context menu by getContextMenuNode() (see text_contextmenu.html) and test its tree\n\n> I'm really sorry for asking so many questions. Thanks a lot!\n\ndon't be sorry for asking question, do not hesitate to do that", "author": "surkov.alexander@gmail.com", "creation_time": "2012-02-09T10:08:37Z", "raw_text": "(In reply to Murali from comment #12)\n> Hi, Could you please tell me whether my understand is correct. \n> \n> I've looked at /events/test_contextmenu.html.\n> Similar to that, I have to show, select and close the context menu. \n> Apart from this, I should also test the tree using testAccessibleTree,\n> similar to the patch I have submitted already.\n\nright: show menu, test the tree and close menu (optional but nice)\n\nget context menu by getContextMenuNode() (see text_contextmenu.html) and test its tree\n\n> I'm really sorry for asking so many questions. Thanks a lot!\n\ndon't be sorry for asking question, do not hesitate to do that", "attachment_id": null, "id": 6046621}, {"attachment_id": null, "raw_text": "Murali, could you confirm that you're still working on this?", "id": 7354152, "creator": "josh@joshmatthews.net", "is_private": false, "count": 14, "author": "josh@joshmatthews.net", "creation_time": "2013-04-25T10:25:49Z", "time": "2013-04-25T10:25:49Z", "tags": [], "bug_id": 702560, "text": "Murali, could you confirm that you're still working on this?"}, {"id": 11685660, "raw_text": "Hi, I was just wondering if anyone was working on this bug because I want to take a stab at it.", "attachment_id": null, "text": "Hi, I was just wondering if anyone was working on this bug because I want to take a stab at it.", "time": "2016-09-05T05:14:42Z", "tags": [], "creation_time": "2016-09-05T05:14:42Z", "author": "shakthi@shakthiwije.com", "is_private": false, "creator": "shakthi@shakthiwije.com", "bug_id": 702560, "count": 15}, {"id": 11688567, "attachment_id": null, "raw_text": "(In reply to Shakthi Wijeratne from comment #15)\n> Hi, I was just wondering if anyone was working on this bug because I want to\n> take a stab at it.\n\nno activity for years so far, please feel free to pick it up", "author": "surkov.alexander@gmail.com", "creation_time": "2016-09-06T14:41:23Z", "tags": [], "time": "2016-09-06T14:41:23Z", "bug_id": 702560, "text": "(In reply to Shakthi Wijeratne from comment #15)\n> Hi, I was just wondering if anyone was working on this bug because I want to\n> take a stab at it.\n\nno activity for years so far, please feel free to pick it up", "creator": "surkov.alexander@gmail.com", "is_private": false, "count": 16}, {"attachment_id": null, "raw_text": "Hello all. Trying to work on this bug. I wanted to know where to put the code for getting the context menu. Should it be after closing the menu or before? Because to me it didn't seem to make sense putting the getContextMenu after the context menu's been closed. From how I understand it. Your guidance is appreciated.", "id": 12208717, "is_private": false, "creator": "lenikmutungi@gmail.com", "creation_time": "2017-04-05T16:15:22Z", "author": "lenikmutungi@gmail.com", "text": "Hello all. Trying to work on this bug. I wanted to know where to put the code for getting the context menu. Should it be after closing the menu or before? Because to me it didn't seem to make sense putting the getContextMenu after the context menu's been closed. From how I understand it. Your guidance is appreciated.", "tags": [], "time": "2017-04-05T16:15:22Z", "count": 17, "bug_id": 702560}, {"creation_time": "2017-04-06T12:00:12Z", "author": "marco.zehe@gmail.com", "text": "If the context menu closes, it goes away, so there is nothing more to get. So yes, I think your assumption is right that you have to put that before the context menu closes.", "time": "2017-04-06T12:00:12Z", "tags": [], "is_private": false, "creator": "marco.zehe@gmail.com", "id": 12211650, "attachment_id": null, "raw_text": "If the context menu closes, it goes away, so there is nothing more to get. So yes, I think your assumption is right that you have to put that before the context menu closes.", "bug_id": 702560, "count": 18}, {"count": 19, "is_private": false, "creator": "lenikmutungi@gmail.com", "text": "Created attachment 8855323\nSample test_contextmenu.html\n\nSample test_contextmenu.html. Not too sure about how the context menu calls are arranged. I figured they should be in the order of get, show and close with testing the tree in between show and close. I've used Murali's last patch as is as regards the tree test. Unfortunately, I cannot say that I know what that does or how (or why) Murali used that code in particular or how he came by it. So if I have to modify that, I'll need a *lot* of hand holding :P", "tags": [], "bug_id": 702560, "time": "2017-04-06T14:46:12Z", "creation_time": "2017-04-06T14:46:12Z", "author": "lenikmutungi@gmail.com", "raw_text": "Sample test_contextmenu.html. Not too sure about how the context menu calls are arranged. I figured they should be in the order of get, show and close with testing the tree in between show and close. I've used Murali's last patch as is as regards the tree test. Unfortunately, I cannot say that I know what that does or how (or why) Murali used that code in particular or how he came by it. So if I have to modify that, I'll need a *lot* of hand holding :P", "attachment_id": 8855323, "id": 12212123}, {"tags": [], "time": "2017-04-07T13:13:55Z", "text": "Comment on attachment 8855323\nSample test_contextmenu.html\n\nYou don't actually invoke the event sequence, or add the different invoker classes/functions to the gQueue that you define. So the context menu never gets opened, and the test will fail.\n\nFor future iterations of this, please ask :surkov for review, I'll be on PTO for the next two weeks.", "author": "marco.zehe@gmail.com", "creation_time": "2017-04-07T13:13:55Z", "creator": "marco.zehe@gmail.com", "is_private": false, "id": 12215861, "raw_text": "You don't actually invoke the event sequence, or add the different invoker classes/functions to the gQueue that you define. So the context menu never gets opened, and the test will fail.\n\nFor future iterations of this, please ask :surkov for review, I'll be on PTO for the next two weeks.", "attachment_id": 8855323, "bug_id": 702560, "count": 20}, {"bug_id": 702560, "count": 21, "creation_time": "2017-04-07T16:53:50Z", "author": "lenikmutungi@gmail.com", "text": "Ah... I had wondered about adding the gQueue code from events/text_contextmenu.html. Will work on it. Thanks.", "time": "2017-04-07T16:53:50Z", "tags": [], "is_private": false, "creator": "lenikmutungi@gmail.com", "id": 12216592, "attachment_id": null, "raw_text": "Ah... I had wondered about adding the gQueue code from events/text_contextmenu.html. Will work on it. Thanks."}, {"time": "2017-04-07T17:42:24Z", "bug_id": 702560, "tags": [], "text": "Created attachment 8855877\nCorrected test_contextmenu.html\n\nMade the corrections as suggested by Marco. However, I hadn't defined a gQueue as is done in events/test_contextmenu.html using the function doTests(). If that's necessary I'll add it.", "author": "lenikmutungi@gmail.com", "creation_time": "2017-04-07T17:42:24Z", "count": 22, "creator": "lenikmutungi@gmail.com", "is_private": false, "id": 12216739, "raw_text": "Made the corrections as suggested by Marco. However, I hadn't defined a gQueue as is done in events/test_contextmenu.html using the function doTests(). If that's necessary I'll add it.", "attachment_id": 8855877}, {"raw_text": "could you please attach a patch? https://developer.mozilla.org/en-US/docs/Mercurial/Using_Mercurial#How_can_I_diff_and_patch_files.3F", "attachment_id": 8855877, "id": 12221419, "count": 23, "is_private": false, "creator": "surkov.alexander@gmail.com", "text": "Comment on attachment 8855877\nCorrected test_contextmenu.html\n\ncould you please attach a patch? https://developer.mozilla.org/en-US/docs/Mercurial/Using_Mercurial#How_can_I_diff_and_patch_files.3F", "bug_id": 702560, "tags": [], "time": "2017-04-10T13:48:19Z", "creation_time": "2017-04-10T13:48:19Z", "author": "surkov.alexander@gmail.com"}, {"creator": "lenikmutungi@gmail.com", "is_private": false, "count": 24, "author": "lenikmutungi@gmail.com", "creation_time": "2017-04-11T17:12:46Z", "time": "2017-04-11T17:12:46Z", "tags": ["mozreview-request"], "bug_id": 702560, "text": "Created attachment 8857051\nBug 702560 - add a11y mochitest for HTML 5 contextmenu\n\nHere's the sample test_context.menu.html file.\nuser: Leni Kadali <lenikmutungi@gmail.com>\nbranch 'default'\nadded accessible/tests/mochitest/tree/test_contextmenu.html\n\nReview commit: https://reviewboard.mozilla.org/r/128952/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/128952/", "attachment_id": 8857051, "raw_text": "Here's the sample test_context.menu.html file.\nuser: Leni Kadali <lenikmutungi@gmail.com>\nbranch 'default'\nadded accessible/tests/mochitest/tree/test_contextmenu.html\n\nReview commit: https://reviewboard.mozilla.org/r/128952/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/128952/", "id": 12225863}, {"is_private": false, "creator": "surkov.alexander@gmail.com", "text": "(In reply to Leni Kadali from comment #24)\n> Created attachment 8857051\n> Bug 702560 - add a11y mochitest for HTML 5 contextmenu\n> \n> Here's the sample test_context.menu.html file.\n> user: Leni Kadali <lenikmutungi@gmail.com>\n> branch 'default'\n> added accessible/tests/mochitest/tree/test_contextmenu.html\n> \n> Review commit: https://reviewboard.mozilla.org/r/128952/diff/#index_header\n> See other reviews: https://reviewboard.mozilla.org/r/128952/\n\nwould you please fix coding styling according to Mozilla coding style guide https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Coding_Style:\n\n* two spaces for indentation\n* no spaces on empty lines\n* no indent for {} of a function\n\nMarco is right and you need to have gQueue stuff in the test, otherwise all functions you define like showContextMenu don't work at all.\n\nAlso please make sure your test works by running .mach mochitest path_to_your_test_file", "tags": [], "time": "2017-04-24T13:56:24Z", "creation_time": "2017-04-24T13:56:24Z", "author": "surkov.alexander@gmail.com", "raw_text": "(In reply to Leni Kadali from comment #24)\n> Created attachment 8857051\n> Bug 702560 - add a11y mochitest for HTML 5 contextmenu\n> \n> Here's the sample test_context.menu.html file.\n> user: Leni Kadali <lenikmutungi@gmail.com>\n> branch 'default'\n> added accessible/tests/mochitest/tree/test_contextmenu.html\n> \n> Review commit: https://reviewboard.mozilla.org/r/128952/diff/#index_header\n> See other reviews: https://reviewboard.mozilla.org/r/128952/\n\nwould you please fix coding styling according to Mozilla coding style guide https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Coding_Style:\n\n* two spaces for indentation\n* no spaces on empty lines\n* no indent for {} of a function\n\nMarco is right and you need to have gQueue stuff in the test, otherwise all functions you define like showContextMenu don't work at all.\n\nAlso please make sure your test works by running .mach mochitest path_to_your_test_file", "attachment_id": null, "id": 12259573, "count": 25, "bug_id": 702560}, {"id": 12259578, "raw_text": "https://reviewboard.mozilla.org/r/128952/#review135754", "attachment_id": 8857051, "text": "Comment on attachment 8857051\nBug 702560 - add a11y mochitest for HTML 5 contextmenu\n\nhttps://reviewboard.mozilla.org/r/128952/#review135754", "time": "2017-04-24T13:56:45Z", "tags": ["mozreview-review"], "creation_time": "2017-04-24T13:56:45Z", "author": "surkov.alexander@gmail.com", "is_private": false, "creator": "surkov.alexander@gmail.com", "bug_id": 702560, "count": 26}, {"count": 27, "is_private": false, "creator": "lenikmutungi@gmail.com", "text": "Created attachment 8861580\nadd a11y mochitest for HTML 5 contextmenu\n\nModified test_contextmenu.html", "tags": [], "time": "2017-04-25T19:39:45Z", "bug_id": 702560, "creation_time": "2017-04-25T19:39:45Z", "author": "lenikmutungi@gmail.com", "raw_text": "Modified test_contextmenu.html", "attachment_id": 8861580, "id": 12264662}, {"bug_id": 702560, "count": 28, "id": 12264732, "attachment_id": 8861580, "raw_text": "The above is my modified test_contextmenu.html. When I ran the ./mach mochitest accessible/tests/mochitest/tree/test_contextmenu.html, I got the following error message: \n\nElapsed: 2.93s; From _tests: Kept 31820 existing; Added/updated 0; Removed 0 files and 0 directories.\nThe mochitest command could not find any mochitests under the following\ntest path(s):\n\naccessible/tests/mochitest/tree/test_contextmenu.html\n\nPlease check spelling and make sure there are mochitests living there.\n\nI don't know what I'm doing wrong. Pointers in the right direction would be helpful.", "creation_time": "2017-04-25T19:44:43Z", "author": "lenikmutungi@gmail.com", "text": "Comment on attachment 8861580\nadd a11y mochitest for HTML 5 contextmenu\n\nThe above is my modified test_contextmenu.html. When I ran the ./mach mochitest accessible/tests/mochitest/tree/test_contextmenu.html, I got the following error message: \n\nElapsed: 2.93s; From _tests: Kept 31820 existing; Added/updated 0; Removed 0 files and 0 directories.\nThe mochitest command could not find any mochitests under the following\ntest path(s):\n\naccessible/tests/mochitest/tree/test_contextmenu.html\n\nPlease check spelling and make sure there are mochitests living there.\n\nI don't know what I'm doing wrong. Pointers in the right direction would be helpful.", "tags": [], "time": "2017-04-25T19:44:43Z", "is_private": false, "creator": "lenikmutungi@gmail.com"}, {"creation_time": "2017-04-25T23:31:13Z", "author": "josh@joshmatthews.net", "text": "You will need to add the new test to the a11y.ini file in that directory.", "time": "2017-04-25T23:31:13Z", "bug_id": 702560, "tags": [], "is_private": false, "creator": "josh@joshmatthews.net", "count": 29, "id": 12265544, "attachment_id": null, "raw_text": "You will need to add the new test to the a11y.ini file in that directory."}, {"is_private": false, "creator": "lenikmutungi@gmail.com", "text": "Created attachment 8861775\nadd a11y mochitest for HTML 5 contextmenu\n\nModified test_contextmenu.html\n\nchanged accessible/tests/mochitest/tree/a11y.ini\nchanged accessible/tests/mochitest/tree/test_contextmenu.html\nGot the following error when I re-ran the test:\n\nThe following tests failed:\n39 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Can't get DOM element for input\ngetNode@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:217:5\nshowContextMenu@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:34:20\ndoTests@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:123:19\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:672:12\nwaitForDocLoad/<@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:174:9\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:672:12\nwaitForDocLoad@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:164:5\nfocusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:791:59\nBuffered messages finished\nSUITE-END | took 10s\n\nHow should I make sure that the DOM element for input is gotten?", "time": "2017-04-26T06:39:38Z", "tags": [], "creation_time": "2017-04-26T06:39:38Z", "author": "lenikmutungi@gmail.com", "raw_text": "Modified test_contextmenu.html\n\nchanged accessible/tests/mochitest/tree/a11y.ini\nchanged accessible/tests/mochitest/tree/test_contextmenu.html\nGot the following error when I re-ran the test:\n\nThe following tests failed:\n39 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Can't get DOM element for input\ngetNode@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:217:5\nshowContextMenu@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:34:20\ndoTests@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:123:19\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:672:12\nwaitForDocLoad/<@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:174:9\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:672:12\nwaitForDocLoad@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:164:5\nfocusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:791:59\nBuffered messages finished\nSUITE-END | took 10s\n\nHow should I make sure that the DOM element for input is gotten?", "attachment_id": 8861775, "id": 12266174, "count": 30, "bug_id": 702560}, {"text": "Comment on attachment 8861775\nadd a11y mochitest for HTML 5 contextmenu\n\nReview of attachment 8861775:\n-----------------------------------------------------------------\n\n::: accessible/tests/mochitest/tree/test_contextmenu.html\n@@ +23,2 @@\n>    <script type=\"application/javascript\">\n>                  \n\nis this a diff of changes from the previous patch? would you attach the whole patch? also please make sure there's no extra whitespaces in it.", "time": "2017-04-26T11:46:05Z", "tags": [], "bug_id": 702560, "creation_time": "2017-04-26T11:46:05Z", "author": "surkov.alexander@gmail.com", "count": 31, "is_private": false, "creator": "surkov.alexander@gmail.com", "id": 12267022, "raw_text": "Review of attachment 8861775:\n-----------------------------------------------------------------\n\n::: accessible/tests/mochitest/tree/test_contextmenu.html\n@@ +23,2 @@\n>    <script type=\"application/javascript\">\n>                  \n\nis this a diff of changes from the previous patch? would you attach the whole patch? also please make sure there's no extra whitespaces in it.", "attachment_id": 8861775}, {"text": "(In reply to alexander :surkov from comment #31)\n> Comment on attachment 8861775\n> add a11y mochitest for HTML 5 contextmenu\n> \n> Review of attachment 8861775:\n> -----------------------------------------------------------------\n> \n> ::: accessible/tests/mochitest/tree/test_contextmenu.html\n> @@ +23,2 @@\n> >    <script type=\"application/javascript\">\n> >                  \n> \n> is this a diff of changes from the previous patch? would you attach the\n> whole patch? also please make sure there's no extra whitespaces in it.\n\nApologies, but I'm not particularly sure about that. I have definitely modified the file significantly since the last patch I submitted. I simply ran `hg diff` in the file's directory, then committed the patch and submitted it via `hg bzexport`. So to me I would think this is a diff of changes since the last patch, not the patch in its entirety. How do I submit the whole patch? Via MozReview?", "tags": [], "time": "2017-04-27T09:58:25Z", "bug_id": 702560, "creation_time": "2017-04-27T09:58:25Z", "author": "lenikmutungi@gmail.com", "count": 32, "is_private": false, "creator": "lenikmutungi@gmail.com", "id": 12270598, "raw_text": "(In reply to alexander :surkov from comment #31)\n> Comment on attachment 8861775\n> add a11y mochitest for HTML 5 contextmenu\n> \n> Review of attachment 8861775:\n> -----------------------------------------------------------------\n> \n> ::: accessible/tests/mochitest/tree/test_contextmenu.html\n> @@ +23,2 @@\n> >    <script type=\"application/javascript\">\n> >                  \n> \n> is this a diff of changes from the previous patch? would you attach the\n> whole patch? also please make sure there's no extra whitespaces in it.\n\nApologies, but I'm not particularly sure about that. I have definitely modified the file significantly since the last patch I submitted. I simply ran `hg diff` in the file's directory, then committed the patch and submitted it via `hg bzexport`. So to me I would think this is a diff of changes since the last patch, not the patch in its entirety. How do I submit the whole patch? Via MozReview?", "attachment_id": null}, {"id": 12271284, "attachment_id": 8862438, "raw_text": "Modified test_contextmenu.html\n***\nBug 702560 - add a11y mochitest for HTML 5 contextmenu\nModified test_contextmenu.html\n\nchanged accessible/tests/mochitest/tree/a11y.ini\nchanged accessible/tests/mochitest/tree/test_contextmenu.html\nGot the following error when I re-ran the test:\n\nThe following tests failed:\n39 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Can't get DOM element for input\ngetNode@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:217:5\nshowContextMenu@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:34:20\ndoTests@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:123:19\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:672:12\nwaitForDocLoad/<@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:174:9\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:672:12\nwaitForDocLoad@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:164:5\nfocusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:791:59\nBuffered messages finished\nSUITE-END | took 10s\n\nHow should I make sure that the DOM element for input is gotten?\n\nRemoved the DOCTYPE declaration from the beginning of the file.", "creation_time": "2017-04-27T14:36:46Z", "author": "lenikmutungi@gmail.com", "text": "Created attachment 8862438\nadd a11y mochitest for HTML 5 contextmenu\n\nModified test_contextmenu.html\n***\nBug 702560 - add a11y mochitest for HTML 5 contextmenu\nModified test_contextmenu.html\n\nchanged accessible/tests/mochitest/tree/a11y.ini\nchanged accessible/tests/mochitest/tree/test_contextmenu.html\nGot the following error when I re-ran the test:\n\nThe following tests failed:\n39 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Can't get DOM element for input\ngetNode@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:217:5\nshowContextMenu@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:34:20\ndoTests@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:123:19\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:672:12\nwaitForDocLoad/<@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:174:9\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:672:12\nwaitForDocLoad@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:164:5\nfocusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:791:59\nBuffered messages finished\nSUITE-END | took 10s\n\nHow should I make sure that the DOM element for input is gotten?\n\nRemoved the DOCTYPE declaration from the beginning of the file.", "tags": [], "bug_id": 702560, "time": "2017-04-27T14:36:46Z", "is_private": false, "creator": "lenikmutungi@gmail.com", "count": 33}, {"text": "Comment on attachment 8862438\nadd a11y mochitest for HTML 5 contextmenu\n\nHave tried to provide the entire summary of changes. Hope this is enough.", "time": "2017-04-27T14:39:04Z", "bug_id": 702560, "tags": [], "creation_time": "2017-04-27T14:39:04Z", "author": "lenikmutungi@gmail.com", "count": 34, "is_private": false, "creator": "lenikmutungi@gmail.com", "id": 12271296, "raw_text": "Have tried to provide the entire summary of changes. Hope this is enough.", "attachment_id": 8862438}, {"attachment_id": null, "raw_text": "(In reply to Leni Kadali from comment #32)\n> Apologies, but I'm not particularly sure about that. I have definitely\n> modified the file significantly since the last patch I submitted. I simply\n> ran `hg diff` in the file's directory, then committed the patch and\n> submitted it via `hg bzexport`. So to me I would think this is a diff of\n> changes since the last patch, not the patch in its entirety. How do I submit\n> the whole patch? Via MozReview?\n\nnot sure, I use Mercurial Queue https://developer.mozilla.org/en-US/docs/Mozilla/Mercurial/Queuesm, you may find it useful too.\n\n(In reply to Leni Kadali from comment #33)\n> How should I make sure that the DOM element for input is gotten?\n\nas far as I can tell, the test file doesn't have an element with 'input' id at all\n\n(In reply to Leni Kadali from comment #34)\n> Comment on attachment 8862438\n> add a11y mochitest for HTML 5 contextmenu\n> \n> Have tried to provide the entire summary of changes. Hope this is enough.\n\nstill not there, it seems this is a diff between your last patch and the latest changes. Also there's a whole bunch of whitespaces there, which should be removed.", "id": 12271798, "is_private": false, "creator": "surkov.alexander@gmail.com", "count": 35, "creation_time": "2017-04-27T16:46:16Z", "author": "surkov.alexander@gmail.com", "text": "(In reply to Leni Kadali from comment #32)\n> Apologies, but I'm not particularly sure about that. I have definitely\n> modified the file significantly since the last patch I submitted. I simply\n> ran `hg diff` in the file's directory, then committed the patch and\n> submitted it via `hg bzexport`. So to me I would think this is a diff of\n> changes since the last patch, not the patch in its entirety. How do I submit\n> the whole patch? Via MozReview?\n\nnot sure, I use Mercurial Queue https://developer.mozilla.org/en-US/docs/Mozilla/Mercurial/Queuesm, you may find it useful too.\n\n(In reply to Leni Kadali from comment #33)\n> How should I make sure that the DOM element for input is gotten?\n\nas far as I can tell, the test file doesn't have an element with 'input' id at all\n\n(In reply to Leni Kadali from comment #34)\n> Comment on attachment 8862438\n> add a11y mochitest for HTML 5 contextmenu\n> \n> Have tried to provide the entire summary of changes. Hope this is enough.\n\nstill not there, it seems this is a diff between your last patch and the latest changes. Also there's a whole bunch of whitespaces there, which should be removed.", "tags": [], "time": "2017-04-27T16:46:16Z", "bug_id": 702560}, {"count": 36, "bug_id": 702560, "attachment_id": 8863116, "raw_text": "Removed whitespaces. This is pretty much the complete patch\nwith the exception of the <html><head> and <body> tags which have\nremained unchanged.", "id": 12276768, "is_private": false, "creator": "lenikmutungi@gmail.com", "creation_time": "2017-04-29T10:40:44Z", "author": "lenikmutungi@gmail.com", "text": "Created attachment 8863116\nadd a11y mochitest for HTML 5 contextmenu\n\nRemoved whitespaces. This is pretty much the complete patch\nwith the exception of the <html><head> and <body> tags which have\nremained unchanged.", "tags": [], "time": "2017-04-29T10:40:44Z"}, {"creation_time": "2017-05-22T02:25:13Z", "author": "lenikmutungi@gmail.com", "text": "Hello Marco. I hope you don't mind taking over the request for review from Alexander on this one as well.", "tags": [], "time": "2017-05-22T02:25:13Z", "is_private": false, "creator": "lenikmutungi@gmail.com", "id": 12336602, "attachment_id": null, "raw_text": "Hello Marco. I hope you don't mind taking over the request for review from Alexander on this one as well.", "bug_id": 702560, "count": 37}, {"attachment_id": 8863116, "raw_text": "This patch is hard to read, since you somehow changed all the indentations. It is difficult to see what's actually new, changed, and unchanged...\n\nCould you provide a patch that retains the proper indentation of the file and therefore doesn't break all the history, and the diff is clearer? Thanks!", "id": 12344303, "creator": "marco.zehe@gmail.com", "is_private": false, "count": 38, "author": "marco.zehe@gmail.com", "creation_time": "2017-05-24T13:17:36Z", "time": "2017-05-24T13:17:36Z", "bug_id": 702560, "tags": [], "text": "Comment on attachment 8863116\nadd a11y mochitest for HTML 5 contextmenu\n\nThis patch is hard to read, since you somehow changed all the indentations. It is difficult to see what's actually new, changed, and unchanged...\n\nCould you provide a patch that retains the proper indentation of the file and therefore doesn't break all the history, and the diff is clearer? Thanks!"}, {"creator": "lenikmutungi@gmail.com", "is_private": false, "tags": [], "time": "2017-06-06T12:32:48Z", "text": "Created attachment 8874816\nadd a11y mochitest for HTML 5 contextmenu\n\nAdded the file test_contextmenu.html\nWorked on text indentation.\nAdded the test to a11y.ini\nOutput of the test is below.\n\nuser@localhost:~/src/mozilla-central$ ./mach mochitest accessible/tests/mochitest/tree/test_contextmenu.html\ncat: backend.TestManifestBackend.in: No such file or directory\nBuild configuration changed. Regenerating backend.\n\n######\n### Now running mochitest-a11y.\n######\n\nChecking for orphan ssltunnel processes...\nChecking for orphan xpcshell processes...\nSUITE-START | Running 1 tests\nmozprofile.addons WARNING | Could not install /home/user/src/mozilla-central/obj-x86_64-pc-linux-gnu/_tests/testing/mochitest/extensions/mozscreenshots: [Errno 2] No such file or directory: '/home/herabus/src/mozilla-central/obj-x86_64-pc-linux-gnu/_tests/testing/mochitest/extensions/mozscreenshots/install.rdf'\npk12util: PKCS12 IMPORT SUCCESSFUL\nMochitestServer : launching [u'/home/user/src/mozilla-central/obj-x86_64-pc-linux-gnu/dist/bin/xpcshell', '-g', u'/home/herabus/src/mozilla-central/obj-x86_64-pc-linux-gnu/dist/bin', '-v', '170', '-f', u'/home/herabus/src/mozilla-central/obj-x86_64-pc-linux-gnu/dist/bin/components/httpd.js', '-e', \"const _PROFILE_PATH = '/tmp/tmpsBnwHG.mozrunner'; const _SERVER_PORT = '8888'; const _SERVER_ADDR = '127.0.0.1'; const _TEST_PREFIX = undefined; const _DISPLAY_RESULTS = false;\", '-f', '/home/herabus/src/mozilla-central/obj-x86_64-pc-linux-gnu/_tests/testing/mochitest/server.js']\nruntests.py | Server pid: 30122\nruntests.py | Websocket server pid: 30125\nruntests.py | SSL tunnel pid: 30128\nruntests.py | Running with e10s: False\nruntests.py | Running tests: start.\n\nApplication command: /home/user/src/mozilla-central/obj-x86_64-pc-linux-gnu/dist/bin/firefox -marionette -foreground -profile /tmp/tmpsBnwHG.mozrunner\nruntests.py | Application pid: 30150\nTEST-INFO | started process GECKO(30150)\nGECKO(30150) | 1496747387873    Marionette      INFO    Listening on port 2828\n0 INFO SimpleTest START\n1 INFO TEST-START | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html\n2 INFO must wait for load\n3 INFO must wait for load\nGECKO(30150) | [30150] WARNING: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed: 'glib warning', file /home/herabus/src/mozilla-central/toolkit/xre/nsSigHandlers.cpp, line 142\nGECKO(30150) | (firefox:30150): GLib-GObject-CRITICAL **: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed\nGECKO(30150) | [30150] WARNING: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed: 'glib warning', file /home/herabus/src/mozilla-central/toolkit/xre/nsSigHandlers.cpp, line 142\nGECKO(30150) | (firefox:30150): GLib-GObject-CRITICAL **: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed\nGECKO(30150) | [30150] WARNING: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed: 'glib warning', file /home/herabus/src/mozilla-central/toolkit/xre/nsSigHandlers.cpp, line 142\nGECKO(30150) | (firefox:30150): GLib-GObject-CRITICAL **: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed\n4 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong value of property 'role' for ['div@id=\"container\" node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]].\n5 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong first child of ['div@id=\"container\" node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n6 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong last child of ['div@id=\"container\" node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n7 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong parent of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n8 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong index in parent of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n9 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong next sibling of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n10 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong previous sibling of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n11 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong value of property 'role' for ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]].\n12 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong first child of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n13 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong last child of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n14 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong parent of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n15 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong index in parent of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n16 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong next sibling of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n17 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong previous sibling of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n18 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong value of property 'role' for ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]].\n19 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong first child of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n20 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong last child of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n21 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong parent of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n22 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong index in parent of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n23 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong next sibling of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n24 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong previous sibling of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n25 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong value of property 'role' for ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]].\n26 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong first child of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n27 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong last child of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\nGECKO(30150) | MEMORY STAT vsizeMaxContiguous not supported in this build configuration.\nGECKO(30150) | MEMORY STAT | vsize 1880MB | residentFast 249MB | heapAllocated 98MB\n28 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Can't get DOM element for input\ngetNode@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:217:5\nshowContextMenu@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:23:18\ndoTests@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:113:15\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:676:12\nwaitForDocLoad/<@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:174:9\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:676:12\nwaitForDocLoad@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:164:5\nfocusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:795:59\n29 INFO TEST-OK | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | took 1202ms\n30 INFO TEST-START | Shutdown\n31 INFO Passed:  24\n32 INFO Failed:  1\n33 INFO Todo:    0\n34 INFO Mode:    non-e10s\n35 INFO Slowest: 1202ms - chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html\n36 INFO SimpleTest FINISHED\n37 INFO TEST-INFO | Ran 1 Loops\n38 INFO SimpleTest FINISHED\nGECKO(30150) | JavaScript error: resource://gre/modules/commonjs/toolkit/loader.js -> resource://devtools/client/framework/devtools-browser.js, line 861: TypeError: DebuggerServer.removeContentServerScript is not a function\nTEST-INFO | Main app process: exit 0\nruntests.py | Application ran for: 0:00:34.443794\nzombiecheck | Reading PID log: /tmp/tmpCncBTFpidlog\n==> process 30150 launched child process 30172\nzombiecheck | Checking for orphan process with PID: 30172\nStopping web server\nStopping web socket server\nStopping ssltunnel\nleakcheck | refcount logging is off, so leaks can't be detected!\nruntests.py | Running tests: end.\nThe following tests failed:\n39 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Can't get DOM element for input\ngetNode@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:217:5\nshowContextMenu@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:23:18\ndoTests@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:113:15\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:676:12\nwaitForDocLoad/<@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:174:9\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:676:12\nwaitForDocLoad@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:164:5\nfocusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:795:59\nBuffered messages finished\nSUITE-END | took 41s\n\nI hope this isn't too much.", "author": "lenikmutungi@gmail.com", "creation_time": "2017-06-06T12:32:48Z", "raw_text": "Added the file test_contextmenu.html\nWorked on text indentation.\nAdded the test to a11y.ini\nOutput of the test is below.\n\nuser@localhost:~/src/mozilla-central$ ./mach mochitest accessible/tests/mochitest/tree/test_contextmenu.html\ncat: backend.TestManifestBackend.in: No such file or directory\nBuild configuration changed. Regenerating backend.\n\n######\n### Now running mochitest-a11y.\n######\n\nChecking for orphan ssltunnel processes...\nChecking for orphan xpcshell processes...\nSUITE-START | Running 1 tests\nmozprofile.addons WARNING | Could not install /home/user/src/mozilla-central/obj-x86_64-pc-linux-gnu/_tests/testing/mochitest/extensions/mozscreenshots: [Errno 2] No such file or directory: '/home/herabus/src/mozilla-central/obj-x86_64-pc-linux-gnu/_tests/testing/mochitest/extensions/mozscreenshots/install.rdf'\npk12util: PKCS12 IMPORT SUCCESSFUL\nMochitestServer : launching [u'/home/user/src/mozilla-central/obj-x86_64-pc-linux-gnu/dist/bin/xpcshell', '-g', u'/home/herabus/src/mozilla-central/obj-x86_64-pc-linux-gnu/dist/bin', '-v', '170', '-f', u'/home/herabus/src/mozilla-central/obj-x86_64-pc-linux-gnu/dist/bin/components/httpd.js', '-e', \"const _PROFILE_PATH = '/tmp/tmpsBnwHG.mozrunner'; const _SERVER_PORT = '8888'; const _SERVER_ADDR = '127.0.0.1'; const _TEST_PREFIX = undefined; const _DISPLAY_RESULTS = false;\", '-f', '/home/herabus/src/mozilla-central/obj-x86_64-pc-linux-gnu/_tests/testing/mochitest/server.js']\nruntests.py | Server pid: 30122\nruntests.py | Websocket server pid: 30125\nruntests.py | SSL tunnel pid: 30128\nruntests.py | Running with e10s: False\nruntests.py | Running tests: start.\n\nApplication command: /home/user/src/mozilla-central/obj-x86_64-pc-linux-gnu/dist/bin/firefox -marionette -foreground -profile /tmp/tmpsBnwHG.mozrunner\nruntests.py | Application pid: 30150\nTEST-INFO | started process GECKO(30150)\nGECKO(30150) | 1496747387873    Marionette      INFO    Listening on port 2828\n0 INFO SimpleTest START\n1 INFO TEST-START | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html\n2 INFO must wait for load\n3 INFO must wait for load\nGECKO(30150) | [30150] WARNING: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed: 'glib warning', file /home/herabus/src/mozilla-central/toolkit/xre/nsSigHandlers.cpp, line 142\nGECKO(30150) | (firefox:30150): GLib-GObject-CRITICAL **: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed\nGECKO(30150) | [30150] WARNING: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed: 'glib warning', file /home/herabus/src/mozilla-central/toolkit/xre/nsSigHandlers.cpp, line 142\nGECKO(30150) | (firefox:30150): GLib-GObject-CRITICAL **: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed\nGECKO(30150) | [30150] WARNING: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed: 'glib warning', file /home/herabus/src/mozilla-central/toolkit/xre/nsSigHandlers.cpp, line 142\nGECKO(30150) | (firefox:30150): GLib-GObject-CRITICAL **: g_type_add_interface_static: assertion 'g_type_parent (interface_type) == G_TYPE_INTERFACE' failed\n4 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong value of property 'role' for ['div@id=\"container\" node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]].\n5 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong first child of ['div@id=\"container\" node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n6 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong last child of ['div@id=\"container\" node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n7 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong parent of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n8 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong index in parent of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n9 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong next sibling of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n10 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong previous sibling of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n11 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong value of property 'role' for ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]].\n12 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong first child of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n13 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong last child of ['div node', address: [object HTMLDivElement], role: section, address: [xpconnect wrapped nsIAccessible]]\n14 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong parent of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n15 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong index in parent of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n16 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong next sibling of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n17 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong previous sibling of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n18 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong value of property 'role' for ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]].\n19 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong first child of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n20 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong last child of ['undefined node', address: [object Text], role: text leaf, name: 'Heaven', address: [xpconnect wrapped nsIAccessible]]\n21 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong parent of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n22 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong index in parent of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n23 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong next sibling of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n24 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong previous sibling of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n25 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong value of property 'role' for ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]].\n26 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong first child of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\n27 INFO TEST-PASS | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Wrong last child of ['undefined node', address: [object Text], role: text leaf, name: ' ', address: [xpconnect wrapped nsIAccessible]]\nGECKO(30150) | MEMORY STAT vsizeMaxContiguous not supported in this build configuration.\nGECKO(30150) | MEMORY STAT | vsize 1880MB | residentFast 249MB | heapAllocated 98MB\n28 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Can't get DOM element for input\ngetNode@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:217:5\nshowContextMenu@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:23:18\ndoTests@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:113:15\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:676:12\nwaitForDocLoad/<@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:174:9\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:676:12\nwaitForDocLoad@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:164:5\nfocusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:795:59\n29 INFO TEST-OK | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | took 1202ms\n30 INFO TEST-START | Shutdown\n31 INFO Passed:  24\n32 INFO Failed:  1\n33 INFO Todo:    0\n34 INFO Mode:    non-e10s\n35 INFO Slowest: 1202ms - chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html\n36 INFO SimpleTest FINISHED\n37 INFO TEST-INFO | Ran 1 Loops\n38 INFO SimpleTest FINISHED\nGECKO(30150) | JavaScript error: resource://gre/modules/commonjs/toolkit/loader.js -> resource://devtools/client/framework/devtools-browser.js, line 861: TypeError: DebuggerServer.removeContentServerScript is not a function\nTEST-INFO | Main app process: exit 0\nruntests.py | Application ran for: 0:00:34.443794\nzombiecheck | Reading PID log: /tmp/tmpCncBTFpidlog\n==> process 30150 launched child process 30172\nzombiecheck | Checking for orphan process with PID: 30172\nStopping web server\nStopping web socket server\nStopping ssltunnel\nleakcheck | refcount logging is off, so leaks can't be detected!\nruntests.py | Running tests: end.\nThe following tests failed:\n39 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html | Can't get DOM element for input\ngetNode@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:217:5\nshowContextMenu@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:23:18\ndoTests@chrome://mochitests/content/a11y/accessible/tests/mochitest/tree/test_contextmenu.html:113:15\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:676:12\nwaitForDocLoad/<@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:174:9\nsetTimeout handler*SimpleTest_setTimeoutShim@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:676:12\nwaitForDocLoad@chrome://mochitests/content/a11y/accessible/tests/mochitest/common.js:164:5\nfocusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:795:59\nBuffered messages finished\nSUITE-END | took 41s\n\nI hope this isn't too much.", "attachment_id": 8874816, "id": 12375345, "count": 39, "bug_id": 702560}, {"creator": "marco.zehe@gmail.com", "is_private": false, "count": 40, "author": "marco.zehe@gmail.com", "creation_time": "2017-06-06T13:47:22Z", "tags": [], "time": "2017-06-06T13:47:22Z", "bug_id": 702560, "text": "Comment on attachment 8874816\nadd a11y mochitest for HTML 5 contextmenu\n\n> [test_cssflexbox.html]\n> [test_cssoverflow.html]\n>+[test_contextmenu.html]\n\nNit: Move this last one above the other two to keep the files here in alphabetical order.\n\n> >+function getContextMenuNode() \n> +{\n> +  return getRootAccessible().DOMDocument.getElementById(\"contentAreaContextMenu\");\nWhere does this ID come from? It isn't mentioned anywhere in the file below.\n\nAlso, you let the test suite finish twice, once right before the closing </head> tag as is usual, but once more further up in the file. That is not correct. Once the test is done, it's done. All invokers should run first, and the thing that calls simpleTest.Finish() should only be called once within a file.\n\nPlease correct these points and try your run again.", "attachment_id": 8874816, "raw_text": "> [test_cssflexbox.html]\n> [test_cssoverflow.html]\n>+[test_contextmenu.html]\n\nNit: Move this last one above the other two to keep the files here in alphabetical order.\n\n> >+function getContextMenuNode() \n> +{\n> +  return getRootAccessible().DOMDocument.getElementById(\"contentAreaContextMenu\");\nWhere does this ID come from? It isn't mentioned anywhere in the file below.\n\nAlso, you let the test suite finish twice, once right before the closing </head> tag as is usual, but once more further up in the file. That is not correct. Once the test is done, it's done. All invokers should run first, and the thing that calls simpleTest.Finish() should only be called once within a file.\n\nPlease correct these points and try your run again.", "id": 12375553}]}}}