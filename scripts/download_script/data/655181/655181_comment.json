{"comments": {}, "bugs": {"655181": {"comments": [{"author": "cyberrian@hotmail.com", "creator": "cyberrian@hotmail.com", "count": 0, "bug_id": 655181, "time": "2011-05-06T00:53:39Z", "creation_time": "2011-05-06T00:53:39Z", "text": "User-Agent:       Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nHave a meta refresh tag refresh the page after X seconds. Before X seconds has elapsed, open a modal dialog e.g. via window.alert() and leave it open. After X seconds have elapsed, Firebug will throw this exception:\nuncaught exception: [Exception... \"prompt aborted by user\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: resource://gre/components/nsPrompter.js :: openTabPrompt :: line 468\"  data: no]\n\nOn other non-Firefox4 browsers, the meta refresh tag will only refresh the page after the modal dialog is dismissed e.g. when user clicks Cancel or OK. On Firefox4, the page refreshes even though the modal dialog is active.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Set up webpage with meta refresh tag for 10 seconds and a button to invoke a window.alert(\"test\") modal dialog\n2. Launch the webpage and immediately click on the button before 10 seconds\n3. The \"test\" modal dialog should appear; wait for at least 10 seconds without dismissing the modal dialog.\n\nActual Results:  \nAfter 10 seconds, the page refreshes, dismissing the modal dialog and triggering the uncaught exception specified in the above \"Details\" section. \n\nExpected Results:  \nAs long as the modal dialog is visible and the user has not dismissed it by clicking OK, the page should remain and not refresh automatically by the meta refresh tag. Most importantly, an uncaught exception should not be thrown.\n\nI tested with various platforms including Ubuntu Linux, Windows XP, and Windows 7 and the problem doesn't seem to be platform dependent. Firefox 4 on any platform exhibits this bug.", "id": 5452567, "attachment_id": null, "raw_text": "User-Agent:       Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nHave a meta refresh tag refresh the page after X seconds. Before X seconds has elapsed, open a modal dialog e.g. via window.alert() and leave it open. After X seconds have elapsed, Firebug will throw this exception:\nuncaught exception: [Exception... \"prompt aborted by user\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: resource://gre/components/nsPrompter.js :: openTabPrompt :: line 468\"  data: no]\n\nOn other non-Firefox4 browsers, the meta refresh tag will only refresh the page after the modal dialog is dismissed e.g. when user clicks Cancel or OK. On Firefox4, the page refreshes even though the modal dialog is active.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Set up webpage with meta refresh tag for 10 seconds and a button to invoke a window.alert(\"test\") modal dialog\n2. Launch the webpage and immediately click on the button before 10 seconds\n3. The \"test\" modal dialog should appear; wait for at least 10 seconds without dismissing the modal dialog.\n\nActual Results:  \nAfter 10 seconds, the page refreshes, dismissing the modal dialog and triggering the uncaught exception specified in the above \"Details\" section. \n\nExpected Results:  \nAs long as the modal dialog is visible and the user has not dismissed it by clicking OK, the page should remain and not refresh automatically by the meta refresh tag. Most importantly, an uncaught exception should not be thrown.\n\nI tested with various platforms including Ubuntu Linux, Windows XP, and Windows 7 and the problem doesn't seem to be platform dependent. Firefox 4 on any platform exhibits this bug.", "tags": [], "is_private": false}, {"author": "kwierso@gmail.com", "creator": "kwierso@gmail.com", "time": "2011-05-06T06:16:43Z", "count": 1, "bug_id": 655181, "id": 5452901, "attachment_id": null, "text": "Just to confirm, does this still happen if you go into about:config and switch prompts.tab_modal.enabled to false?", "creation_time": "2011-05-06T06:16:43Z", "is_private": false, "tags": [], "raw_text": "Just to confirm, does this still happen if you go into about:config and switch prompts.tab_modal.enabled to false?"}, {"time": "2011-05-06T16:32:51Z", "tags": [], "is_private": false, "bug_id": 655181, "raw_text": "(In reply to comment #1)\n> Just to confirm, does this still happen if you go into about:config and\n> switch prompts.tab_modal.enabled to false?\n\nThe error goes away but the page still refreshes in the background because of the meta refresh. In other browsers e.g. IE and Chrome, the page will not refresh until the dialog is dismissed. I believe this is also FF 3.x's behavior but I don't have a system with FF 3.x installed now to confirm.", "count": 2, "text": "(In reply to comment #1)\n> Just to confirm, does this still happen if you go into about:config and\n> switch prompts.tab_modal.enabled to false?\n\nThe error goes away but the page still refreshes in the background because of the meta refresh. In other browsers e.g. IE and Chrome, the page will not refresh until the dialog is dismissed. I believe this is also FF 3.x's behavior but I don't have a system with FF 3.x installed now to confirm.", "creator": "cyberrian@hotmail.com", "id": 5453619, "attachment_id": null, "author": "cyberrian@hotmail.com", "creation_time": "2011-05-06T16:32:51Z"}, {"count": 3, "bug_id": 655181, "raw_text": "ff27.0.1\n17:53:32.956 NS_ERROR_NOT_AVAILABLE: prompt aborted by user nsPrompter.js:440\nthe titlebar says \"Source of: jar:file:///C:/Program%20Files%20(x86)/Mozilla%20Firefox/omni.ja!/components/nsprompter.js - Mozilla Firefox\"\n\nthe source code I see (from debugger) is\nif (args.promptAborted)\n            throw Components.Exception(\"prompt aborted by user\", Cr.NS_ERROR_NOT_AVAILABLE);\n    } finally {\n        // If the prompt unexpectedly failed to invoke the callback, do so here.\n        if (!callbackInvoked)\n            onPromptClose(true);\n    }\n\n\nso I cannot debug my page because now debugger is completely broken because of this, happens when I refresh the page with alert() box up.", "tags": [], "is_private": false, "time": "2014-03-13T00:59:23Z", "creation_time": "2014-03-13T00:59:23Z", "author": "jmichae3@yahoo.com", "text": "ff27.0.1\n17:53:32.956 NS_ERROR_NOT_AVAILABLE: prompt aborted by user nsPrompter.js:440\nthe titlebar says \"Source of: jar:file:///C:/Program%20Files%20(x86)/Mozilla%20Firefox/omni.ja!/components/nsprompter.js - Mozilla Firefox\"\n\nthe source code I see (from debugger) is\nif (args.promptAborted)\n            throw Components.Exception(\"prompt aborted by user\", Cr.NS_ERROR_NOT_AVAILABLE);\n    } finally {\n        // If the prompt unexpectedly failed to invoke the callback, do so here.\n        if (!callbackInvoked)\n            onPromptClose(true);\n    }\n\n\nso I cannot debug my page because now debugger is completely broken because of this, happens when I refresh the page with alert() box up.", "creator": "jmichae3@yahoo.com", "id": 8526899, "attachment_id": null}, {"author": "alice0775@gmail.com", "text": "Created attachment 8390222\ntest_alert_refresh.html", "creator": "alice0775@gmail.com", "attachment_id": 8390222, "id": 8527012, "creation_time": "2014-03-13T01:33:20Z", "tags": [], "is_private": false, "time": "2014-03-13T01:33:20Z", "count": 4, "bug_id": 655181, "raw_text": ""}, {"attachment_id": null, "id": 8819999, "text": "Bulk move to Toolkit::Notifications and Alerts\n\nFilter on notifications-and-alerts-component.", "creation_time": "2014-05-21T06:41:33Z", "is_private": false, "tags": [], "raw_text": "Bulk move to Toolkit::Notifications and Alerts\n\nFilter on notifications-and-alerts-component.", "creator": "mozilla+bmo@noorenberghe.ca", "author": "mozilla+bmo@noorenberghe.ca", "time": "2014-05-21T06:41:33Z", "bug_id": 655181, "count": 5}, {"tags": [], "is_private": false, "time": "2014-08-21T22:32:14Z", "count": 6, "bug_id": 655181, "raw_text": "This bug mainly effects developers trying to debug, disallowing them from seeing the alert before a page refresh, back button press, or form submit, etc. It can be circumvented by setting prompts.tab_modal.enabled = false in about:config. This will at least allow one to view the alert, but won't stop the refresh.", "author": "michaelmotes@email.com", "creator": "michaelmotes@email.com", "text": "This bug mainly effects developers trying to debug, disallowing them from seeing the alert before a page refresh, back button press, or form submit, etc. It can be circumvented by setting prompts.tab_modal.enabled = false in about:config. This will at least allow one to view the alert, but won't stop the refresh.", "attachment_id": null, "id": 9215277, "creation_time": "2014-08-21T22:32:14Z"}]}}}