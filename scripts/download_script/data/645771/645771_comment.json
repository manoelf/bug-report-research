{"bugs": {"645771": {"comments": [{"count": 0, "bug_id": 645771, "raw_text": "I turned of \"Compose in HTML\" and sent myself the following message:\n\n\" foo\"\n\" \"\n\" bar\"\n\" \"\n\nand then saved the message body out, and looked at it with \"cat -v -e\".\n\nIt was received as:\n\n\" foo\"\n\"\"\n\" bar\"\n\"\"\n\ni.e. <space><newline> was transformed into <newline>.\n\nThere are several other high-profile bugs having to do with text being mangled that are either problems with the HTML serializer or else the editor, and are several months (or even years) old.  Those might take a while longer to fix.\n\nThis behavior is *very* specific, and directly blocks any workaround that might allow a TB user to submit patches inline without their being mercilessly mangled (and \"no\", using attachments isn't an option in the Linux kernel hacking community).\n\nThis should be reasonably simple to isolate and fix, as well as writing a canned regression test for so it doesn't happen again.", "tags": [], "is_private": false, "time": "2011-03-28T18:20:37Z", "creation_time": "2011-03-28T18:20:37Z", "author": "philipp@redfish-solutions.com", "creator": "philipp@redfish-solutions.com", "text": "I turned of \"Compose in HTML\" and sent myself the following message:\n\n\" foo\"\n\" \"\n\" bar\"\n\" \"\n\nand then saved the message body out, and looked at it with \"cat -v -e\".\n\nIt was received as:\n\n\" foo\"\n\"\"\n\" bar\"\n\"\"\n\ni.e. <space><newline> was transformed into <newline>.\n\nThere are several other high-profile bugs having to do with text being mangled that are either problems with the HTML serializer or else the editor, and are several months (or even years) old.  Those might take a while longer to fix.\n\nThis behavior is *very* specific, and directly blocks any workaround that might allow a TB user to submit patches inline without their being mercilessly mangled (and \"no\", using attachments isn't an option in the Linux kernel hacking community).\n\nThis should be reasonably simple to isolate and fix, as well as writing a canned regression test for so it doesn't happen again.", "id": 5374939, "attachment_id": null}, {"count": 1, "bug_id": 645771, "raw_text": "FWIW there is a way to retain the <space><newline>\nToggle both the following default prefs:\nmailnews.display.disable_format_flowed_support\nmailnews.send_plaintext_flowed\n\nCompose in html mode, then send in plaintext with Options>>Format>>Plaintext\n\nThat's not to say this shouldn't be fixed, but there seems to be a \"high barrier\"\nfor fixes in this code area.", "tags": [], "is_private": false, "time": "2011-03-29T21:26:09Z", "creation_time": "2011-03-29T21:26:09Z", "author": "jsabash@bellatlantic.net", "text": "FWIW there is a way to retain the <space><newline>\nToggle both the following default prefs:\nmailnews.display.disable_format_flowed_support\nmailnews.send_plaintext_flowed\n\nCompose in html mode, then send in plaintext with Options>>Format>>Plaintext\n\nThat's not to say this shouldn't be fixed, but there seems to be a \"high barrier\"\nfor fixes in this code area.", "creator": "jsabash@bellatlantic.net", "attachment_id": null, "id": 5378651}, {"text": "(In reply to comment #1)\n> FWIW there is a way to retain the <space><newline>\n> Toggle both the following default prefs:\n> mailnews.display.disable_format_flowed_support\n> mailnews.send_plaintext_flowed\n> \n> Compose in html mode, then send in plaintext with Options>>Format>>Plaintext\n> \n> That's not to say this shouldn't be fixed, but there seems to be a \"high\n> barrier\"\n> for fixes in this code area.\n\nJust to be clear: are you saying \"mailnews.display.disable_format_flowed_support\" affects how the message is *sent* and not simply how it is *displayed*?", "id": 5379299, "attachment_id": null, "creation_time": "2011-03-30T00:52:39Z", "tags": [], "is_private": false, "raw_text": "(In reply to comment #1)\n> FWIW there is a way to retain the <space><newline>\n> Toggle both the following default prefs:\n> mailnews.display.disable_format_flowed_support\n> mailnews.send_plaintext_flowed\n> \n> Compose in html mode, then send in plaintext with Options>>Format>>Plaintext\n> \n> That's not to say this shouldn't be fixed, but there seems to be a \"high\n> barrier\"\n> for fixes in this code area.\n\nJust to be clear: are you saying \"mailnews.display.disable_format_flowed_support\" affects how the message is *sent* and not simply how it is *displayed*?", "author": "philipp@redfish-solutions.com", "creator": "philipp@redfish-solutions.com", "time": "2011-03-30T00:52:39Z", "count": 2, "bug_id": 645771}, {"tags": [], "is_private": false, "time": "2011-03-30T01:06:39Z", "count": 3, "bug_id": 645771, "raw_text": "(In reply to comment #1)\n> FWIW there is a way to retain the <space><newline>\n> Toggle both the following default prefs:\n> mailnews.display.disable_format_flowed_support\n> mailnews.send_plaintext_flowed\n> \n> Compose in html mode, then send in plaintext with Options>>Format>>Plaintext\n> \n> That's not to say this shouldn't be fixed, but there seems to be a \"high\n> barrier\"\n> for fixes in this code area.\n\nI just tried this and confirmed that the patch was still mangled.", "author": "philipp@redfish-solutions.com", "text": "(In reply to comment #1)\n> FWIW there is a way to retain the <space><newline>\n> Toggle both the following default prefs:\n> mailnews.display.disable_format_flowed_support\n> mailnews.send_plaintext_flowed\n> \n> Compose in html mode, then send in plaintext with Options>>Format>>Plaintext\n> \n> That's not to say this shouldn't be fixed, but there seems to be a \"high\n> barrier\"\n> for fixes in this code area.\n\nI just tried this and confirmed that the patch was still mangled.", "creator": "philipp@redfish-solutions.com", "id": 5379329, "attachment_id": null, "creation_time": "2011-03-30T01:06:39Z"}, {"text": "Created attachment 522902\n<space><newline> maintained\n\nThere are 2 unique prefs\nThe 2nd one \"mailnews.send_plaintext_flowed\" controls \"adjustments\" to the\ncomposition prior to sending.\nThe first is how F-F is handled on display AFAICT\nSo for your use case, you would want to toggle them both.\nmailnews.display.disable_format_flowed_support=\"true\"\nmailnews.send_plaintext_flowed=\"false\"\n\nIs this not the desired result?\n(see attachment)", "attachment_id": 522902, "id": 5379352, "creation_time": "2011-03-30T01:29:55Z", "tags": [], "is_private": false, "raw_text": "There are 2 unique prefs\nThe 2nd one \"mailnews.send_plaintext_flowed\" controls \"adjustments\" to the\ncomposition prior to sending.\nThe first is how F-F is handled on display AFAICT\nSo for your use case, you would want to toggle them both.\nmailnews.display.disable_format_flowed_support=\"true\"\nmailnews.send_plaintext_flowed=\"false\"\n\nIs this not the desired result?\n(see attachment)", "creator": "jsabash@bellatlantic.net", "author": "jsabash@bellatlantic.net", "time": "2011-03-30T01:29:55Z", "bug_id": 645771, "count": 4}, {"creation_time": "2011-03-30T01:49:57Z", "author": "philipp@redfish-solutions.com", "attachment_id": null, "id": 5379379, "text": "(In reply to comment #4)\n> Created attachment 522902 [details]\n> <space><newline> maintained\n> \n> There are 2 unique prefs\n> The 2nd one \"mailnews.send_plaintext_flowed\" controls \"adjustments\" to the\n> composition prior to sending.\n> The first is how F-F is handled on display AFAICT\n> So for your use case, you would want to toggle them both.\n> mailnews.display.disable_format_flowed_support=\"true\"\n> mailnews.send_plaintext_flowed=\"false\"\n> \n> Is this not the desired result?\n> (see attachment)\n\nI'm not going by what the message looks like in my \"Drafts\" box but what it looks like as received in a test mailbox after sending.", "creator": "philipp@redfish-solutions.com", "count": 5, "raw_text": "(In reply to comment #4)\n> Created attachment 522902 [details]\n> <space><newline> maintained\n> \n> There are 2 unique prefs\n> The 2nd one \"mailnews.send_plaintext_flowed\" controls \"adjustments\" to the\n> composition prior to sending.\n> The first is how F-F is handled on display AFAICT\n> So for your use case, you would want to toggle them both.\n> mailnews.display.disable_format_flowed_support=\"true\"\n> mailnews.send_plaintext_flowed=\"false\"\n> \n> Is this not the desired result?\n> (see attachment)\n\nI'm not going by what the message looks like in my \"Drafts\" box but what it looks like as received in a test mailbox after sending.", "bug_id": 645771, "is_private": false, "tags": [], "time": "2011-03-30T01:49:57Z"}, {"tags": [], "is_private": false, "raw_text": "(In reply to comment #5)\n\n> I'm not going by what the message looks like in my \"Drafts\" box but what it\n> looks like as received in a test mailbox after sending.\n\nOh you mean the X-Mozilla-Draft-Info: internal/draft headers, in the eml\nThat's because I used File>>send later , which in most cases performs the same serialization as if actually sent.\nJust to be sure the \"spacing\" attachment added was actually sent and received.\nSeems to preserve the spacing for me. (Windows os)", "text": "(In reply to comment #5)\n\n> I'm not going by what the message looks like in my \"Drafts\" box but what it\n> looks like as received in a test mailbox after sending.\n\nOh you mean the X-Mozilla-Draft-Info: internal/draft headers, in the eml\nThat's because I used File>>send later , which in most cases performs the same serialization as if actually sent.\nJust to be sure the \"spacing\" attachment added was actually sent and received.\nSeems to preserve the spacing for me. (Windows os)", "id": 5381463, "attachment_id": null, "creation_time": "2011-03-30T21:25:04Z", "time": "2011-03-30T21:25:04Z", "bug_id": 645771, "count": 6, "creator": "jsabash@bellatlantic.net", "author": "jsabash@bellatlantic.net"}, {"is_private": false, "tags": [], "raw_text": "", "attachment_id": 523118, "id": 5381467, "text": "Created attachment 523118\nspacing", "creation_time": "2011-03-30T21:26:36Z", "time": "2011-03-30T21:26:36Z", "bug_id": 645771, "count": 7, "creator": "jsabash@bellatlantic.net", "author": "jsabash@bellatlantic.net"}, {"time": "2012-10-28T20:51:59Z", "is_private": false, "tags": [], "raw_text": "Bug 778547 and Bug 662966 are similar, but not necessarily dupes.\nAt least in bug 662966 spaces are lost already in editor, whereas in this bug 645771 I understand they are lost after sending. But I might be wrong.", "bug_id": 645771, "count": 8, "id": 6770545, "attachment_id": null, "creator": "bugzilla2007@duellmann24.net", "text": "Bug 778547 and Bug 662966 are similar, but not necessarily dupes.\nAt least in bug 662966 spaces are lost already in editor, whereas in this bug 645771 I understand they are lost after sending. But I might be wrong.", "author": "bugzilla2007@duellmann24.net", "creation_time": "2012-10-28T20:51:59Z"}, {"time": "2012-10-30T11:33:28Z", "is_private": false, "tags": [], "raw_text": "Bug 553277, Bug 806090", "bug_id": 645771, "count": 9, "id": 6775378, "attachment_id": null, "creator": "bugzilla2007@duellmann24.net", "text": "Bug 553277, Bug 806090", "author": "bugzilla2007@duellmann24.net", "creation_time": "2012-10-30T11:33:28Z"}, {"raw_text": "", "is_private": false, "tags": [], "creation_time": "2013-05-31T08:27:31Z", "id": 7483105, "attachment_id": null, "text": "*** Bug 308576 has been marked as a duplicate of this bug. ***", "bug_id": 645771, "count": 10, "time": "2013-05-31T08:27:31Z", "creator": "iannbugzilla@gmail.com", "author": "iannbugzilla@gmail.com"}, {"raw_text": "", "tags": [], "is_private": false, "creation_time": "2013-05-31T08:29:26Z", "text": "*** Bug 806090 has been marked as a duplicate of this bug. ***", "attachment_id": null, "id": 7483108, "bug_id": 645771, "count": 11, "time": "2013-05-31T08:29:26Z", "creator": "iannbugzilla@gmail.com", "author": "iannbugzilla@gmail.com"}, {"raw_text": "", "bug_id": 645771, "count": 12, "time": "2013-06-18T12:36:07Z", "is_private": false, "tags": [], "creation_time": "2013-06-18T12:36:07Z", "id": 7546600, "attachment_id": null, "creator": "vseerror@lehigh.edu", "text": "*** Bug 553277 has been marked as a duplicate of this bug. ***", "author": "vseerror@lehigh.edu"}]}}, "comments": {}}