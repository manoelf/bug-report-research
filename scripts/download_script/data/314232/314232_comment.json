{"bugs": {"314232": {"comments": [{"raw_text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.12) Gecko/20050915 Firefox/1.0.7\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.12) Gecko/20050915 Firefox/1.0.7\n\nI have a Java servlet which writes some simple HTML and a GIF image, in the doPost() method.  The HTML renders fine, but the image does not appear on the page, even with the content type set to \"text/html\".  The browser should display the image correctly, provided the image location is correct.  **Note that in the code below, this is not the problem - I'm using the ServletContext object to find the correct path to the image in the WAR.  \n\nInterestingly, **cough**, Internet Explorer does not have this problem, and correctly renders the image, and all HTML, with no problem!  \n\nHere is some simple code from the doPost() method...   \n\nString[] arData = request.getParameterValues(\"ids\");\n\nStringBuffer sb = new StringBuffer(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.0 Transitional //EN\\\">\\n\");\n\nsb.append(\"<HTML>\\n\");\nsb.append(\"<HEAD>\\n\");\nsb.append(\"<TITLE>Test Servlet</TITLE>\\n\");\nsb.append(\"<META http-equiv=Content-Type content=\\\"text/html; charset=windows-1252\\\">\\n\");\n\nsb.append(\"<script language=\\\"Javascript\\\">\\n\");\nsb.append(\"\\tfunction printThis()\\n\");\nsb.append(\"\\t{\\n\");\nsb.append(\"\\t\\tparent.focus();\\n\");\nsb.append(\"\\t\\tparent.print();\\n\");\nsb.append(\"\\t}\\n\");\nsb.append(\"</script>\\n\");\n\nsb.append(\"</HEAD>\\n\");\nsb.append(\"<BODY>\\n\");\nsb.append(\"This is a test, no database connectivity or framework...<BR>\\n\");\n\nfor (int i = 0; i < arData.length; i++)\n{\n\tsb.append(arData[i] + \"<BR>\\n\");\n}\n\nServletContext sc = getServletContext();\nString sImageLocation = sc.getRealPath(\"images/Print.gif\");\n\nsb.append(\"<a href=\\\"javascript:void(0)\\\" onClick=\\\"printThis()\\\">\");\nsb.append(\"<img border=\\\"0\\\" src=\\\"\" + sImageLocation + \"\\\">\");\nsb.append(\"print\");\nsb.append(\"</a>\\n\");\n\nsb.append(\"<BR>\\n\");\n\nsb.append(\"</BODY>\\n\");\nsb.append(\"</HTML>\");\n\n//set content type first, before getting a PrintWriter...\nresponse.setContentType(\"text/html\");\n\nPrintWriter out = response.getWriter();\n\nif (arData.length < 1)\n{\n\t//throw an exception/error\n}\nelse\n{\n\tout.println(sb.toString());\n}\n\nReproducible: Always\n\nSteps to Reproduce:\nIncluded with the detailed description of the bug above, is some very simple Java source...  \n\n1. Create an 'images' folder on the root of a Java project, and put a small GIF image in that folder (I'm using a printer image in this case).  \n2. Paste the code above into the doPost() or doGet() methods of a simple Java servlet, then compile and deploy onto -any- Java application container.  \n3. Then, request the above servlet from that container (specify the URL to the servlet), and pass a parameter called 'ids' to the servlet.  \nActual Results:  \nHTML from the servlet output renders fine, but the image does not appear, although(!) the correct reference to that image does appear when you look at the source code for the page (do a \"View Page Source\" within Firefox).  \n\nExpected Results:  \nHTML from the Java servlet, and any images in the web archive or project, should appear.  \n\nEven though the content-type is set to \"text/html\", when Firefox sees the <img> tag, it should probably fire-off a separate request for that image, then switch the content-type to a binary type, like \"image/gif\", or \"image/jpg\".", "is_private": false, "creation_time": "2005-10-28T18:31:04Z", "author": "jb_remote@yahoo.com", "count": 0, "attachment_id": null, "creator": "jb_remote@yahoo.com", "bug_id": 314232, "id": 2681095, "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.12) Gecko/20050915 Firefox/1.0.7\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.12) Gecko/20050915 Firefox/1.0.7\n\nI have a Java servlet which writes some simple HTML and a GIF image, in the doPost() method.  The HTML renders fine, but the image does not appear on the page, even with the content type set to \"text/html\".  The browser should display the image correctly, provided the image location is correct.  **Note that in the code below, this is not the problem - I'm using the ServletContext object to find the correct path to the image in the WAR.  \n\nInterestingly, **cough**, Internet Explorer does not have this problem, and correctly renders the image, and all HTML, with no problem!  \n\nHere is some simple code from the doPost() method...   \n\nString[] arData = request.getParameterValues(\"ids\");\n\nStringBuffer sb = new StringBuffer(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.0 Transitional //EN\\\">\\n\");\n\nsb.append(\"<HTML>\\n\");\nsb.append(\"<HEAD>\\n\");\nsb.append(\"<TITLE>Test Servlet</TITLE>\\n\");\nsb.append(\"<META http-equiv=Content-Type content=\\\"text/html; charset=windows-1252\\\">\\n\");\n\nsb.append(\"<script language=\\\"Javascript\\\">\\n\");\nsb.append(\"\\tfunction printThis()\\n\");\nsb.append(\"\\t{\\n\");\nsb.append(\"\\t\\tparent.focus();\\n\");\nsb.append(\"\\t\\tparent.print();\\n\");\nsb.append(\"\\t}\\n\");\nsb.append(\"</script>\\n\");\n\nsb.append(\"</HEAD>\\n\");\nsb.append(\"<BODY>\\n\");\nsb.append(\"This is a test, no database connectivity or framework...<BR>\\n\");\n\nfor (int i = 0; i < arData.length; i++)\n{\n\tsb.append(arData[i] + \"<BR>\\n\");\n}\n\nServletContext sc = getServletContext();\nString sImageLocation = sc.getRealPath(\"images/Print.gif\");\n\nsb.append(\"<a href=\\\"javascript:void(0)\\\" onClick=\\\"printThis()\\\">\");\nsb.append(\"<img border=\\\"0\\\" src=\\\"\" + sImageLocation + \"\\\">\");\nsb.append(\"print\");\nsb.append(\"</a>\\n\");\n\nsb.append(\"<BR>\\n\");\n\nsb.append(\"</BODY>\\n\");\nsb.append(\"</HTML>\");\n\n//set content type first, before getting a PrintWriter...\nresponse.setContentType(\"text/html\");\n\nPrintWriter out = response.getWriter();\n\nif (arData.length < 1)\n{\n\t//throw an exception/error\n}\nelse\n{\n\tout.println(sb.toString());\n}\n\nReproducible: Always\n\nSteps to Reproduce:\nIncluded with the detailed description of the bug above, is some very simple Java source...  \n\n1. Create an 'images' folder on the root of a Java project, and put a small GIF image in that folder (I'm using a printer image in this case).  \n2. Paste the code above into the doPost() or doGet() methods of a simple Java servlet, then compile and deploy onto -any- Java application container.  \n3. Then, request the above servlet from that container (specify the URL to the servlet), and pass a parameter called 'ids' to the servlet.  \nActual Results:  \nHTML from the servlet output renders fine, but the image does not appear, although(!) the correct reference to that image does appear when you look at the source code for the page (do a \"View Page Source\" within Firefox).  \n\nExpected Results:  \nHTML from the Java servlet, and any images in the web archive or project, should appear.  \n\nEven though the content-type is set to \"text/html\", when Firefox sees the <img> tag, it should probably fire-off a separate request for that image, then switch the content-type to a binary type, like \"image/gif\", or \"image/jpg\".", "time": "2005-10-28T18:31:04Z", "tags": []}, {"count": 1, "attachment_id": null, "creator": "bugzilla@mcsmurf.de", "raw_text": "Can you rather attach the HTML output of such a page? ", "is_private": false, "creation_time": "2005-10-28T18:33:13Z", "author": "bugzilla@mcsmurf.de", "id": 2681098, "text": "Can you rather attach the HTML output of such a page? ", "time": "2005-10-28T18:33:13Z", "tags": [], "bug_id": 314232}, {"attachment_id": 201166, "count": 2, "creator": "jb_remote@yahoo.com", "is_private": false, "raw_text": "", "author": "jb_remote@yahoo.com", "creation_time": "2005-10-28T18:56:08Z", "text": "Created attachment 201166\nServlet output rendered in Firefox, no printer image displayed.", "id": 2681118, "tags": [], "time": "2005-10-28T18:56:08Z", "bug_id": 314232}, {"attachment_id": 201167, "count": 3, "creator": "jb_remote@yahoo.com", "is_private": false, "raw_text": "", "author": "jb_remote@yahoo.com", "creation_time": "2005-10-28T18:56:56Z", "text": "Created attachment 201167\nServlet output rendered in Internet Explorer, correctly, with image.", "id": 2681120, "tags": [], "time": "2005-10-28T18:56:56Z", "bug_id": 314232}, {"text": "Created attachment 201170\nDetails, page source, Firefox", "id": 2681130, "tags": [], "time": "2005-10-28T19:03:22Z", "bug_id": 314232, "attachment_id": 201170, "count": 4, "creator": "jb_remote@yahoo.com", "is_private": false, "raw_text": "", "author": "jb_remote@yahoo.com", "creation_time": "2005-10-28T19:03:22Z"}, {"creator": "jb_remote@yahoo.com", "count": 5, "attachment_id": 201171, "creation_time": "2005-10-28T19:04:01Z", "author": "jb_remote@yahoo.com", "raw_text": "", "is_private": false, "time": "2005-10-28T19:04:01Z", "tags": [], "id": 2681132, "text": "Created attachment 201171\nDetails, page source, Internet Explorer", "bug_id": 314232}, {"bug_id": 314232, "id": 2681312, "text": "Attaching a text file of the html that is generated for firefox would be helpful.", "tags": [], "time": "2005-10-28T22:16:53Z", "is_private": false, "raw_text": "Attaching a text file of the html that is generated for firefox would be helpful.", "author": "kbrosnan@gmail.com", "creation_time": "2005-10-28T22:16:53Z", "attachment_id": null, "count": 6, "creator": "kbrosnan@gmail.com"}, {"tags": [], "time": "2005-10-29T16:17:53Z", "id": 2681856, "text": "(In reply to comment #6)\n> Attaching a text file of the html that is generated for firefox would be\n> helpful.\n> \nHi, Kevin.  I'm sorry that I did not do that, but if you look at the screen captures I attached (e.g., \"Details, page source, Firefox\"), you will see the HTML output you are requesting.  \n\nPlease let me know if I can be of further assistance.  \n\njon\n\n(In reply to comment #6)\n> Attaching a text file of the html that is generated for firefox would be\n> helpful.\n> ", "bug_id": 314232, "creator": "jb_remote@yahoo.com", "attachment_id": null, "count": 7, "author": "jb_remote@yahoo.com", "creation_time": "2005-10-29T16:17:53Z", "is_private": false, "raw_text": "(In reply to comment #6)\n> Attaching a text file of the html that is generated for firefox would be\n> helpful.\n> \nHi, Kevin.  I'm sorry that I did not do that, but if you look at the screen captures I attached (e.g., \"Details, page source, Firefox\"), you will see the HTML output you are requesting.  \n\nPlease let me know if I can be of further assistance.  \n\njon\n\n(In reply to comment #6)\n> Attaching a text file of the html that is generated for firefox would be\n> helpful.\n> "}, {"bug_id": 314232, "text": "(In reply to comment #0)\nFYI, this also applies to rendering a CSS style sheet...  Firefox cannot render images or styles from Java servlet output.  \n\nj", "id": 2693859, "tags": [], "time": "2005-11-10T18:31:18Z", "is_private": false, "raw_text": "(In reply to comment #0)\nFYI, this also applies to rendering a CSS style sheet...  Firefox cannot render images or styles from Java servlet output.  \n\nj", "author": "jb_remote@yahoo.com", "creation_time": "2005-11-10T18:31:18Z", "attachment_id": null, "count": 8, "creator": "jb_remote@yahoo.com"}, {"raw_text": "This bug was reported using Firefox 3.0 or older, which is no longer supported. The bug has also not been changed in over 500 days and is still in UNCO.\nReporter, please retest this bug in Firefox 3.6.10 or later using a fresh profile, http://support.mozilla.com/en-US/kb/managing+profiles. If you still see this problem, please update the bug. If you no longer see the bug, please set the resolution to RESOLVED, WORKSFORME.\n\nThis is a mass search of unconfirmed bugs that have no activity on them, so if you feel a bug was marked in error, just remove the CLOSEME comment in the whiteboard within the next month.", "is_private": false, "creation_time": "2010-10-18T19:52:16Z", "author": "tdowner@mozilla.com", "count": 9, "attachment_id": null, "creator": "tdowner@mozilla.com", "bug_id": 314232, "text": "This bug was reported using Firefox 3.0 or older, which is no longer supported. The bug has also not been changed in over 500 days and is still in UNCO.\nReporter, please retest this bug in Firefox 3.6.10 or later using a fresh profile, http://support.mozilla.com/en-US/kb/managing+profiles. If you still see this problem, please update the bug. If you no longer see the bug, please set the resolution to RESOLVED, WORKSFORME.\n\nThis is a mass search of unconfirmed bugs that have no activity on them, so if you feel a bug was marked in error, just remove the CLOSEME comment in the whiteboard within the next month.", "id": 5018444, "time": "2010-10-18T19:52:16Z", "tags": []}, {"bug_id": 314232, "text": "No reply, INCOMPLETE. Please retest with Firefox 3.6.12 or later and a new profile (http://support.mozilla.com/kb/Managing+profiles). If you continue to see this issue with the newest firefox and a new profile, then please comment on this bug.", "id": 5082204, "tags": [], "time": "2010-11-15T18:50:52Z", "is_private": false, "raw_text": "No reply, INCOMPLETE. Please retest with Firefox 3.6.12 or later and a new profile (http://support.mozilla.com/kb/Managing+profiles). If you continue to see this issue with the newest firefox and a new profile, then please comment on this bug.", "author": "tdowner@mozilla.com", "creation_time": "2010-11-15T18:50:52Z", "attachment_id": null, "count": 10, "creator": "tdowner@mozilla.com"}]}}, "comments": {}}