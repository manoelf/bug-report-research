{"comments": {}, "bugs": {"637330": {"comments": [{"bug_id": 637330, "count": 0, "tags": [], "time": "2011-02-28T16:02:25Z", "creator": "yuki@clear-code.com", "raw_text": "A method of <notificationbox>, appendNotification() can accept a special priority \"PRIORITY_CRITICAL_BLOCK\" for a notification to block user operations. However, it doesn't work now. This seems a regression of the bug 596371.\n\nNotificationbox expects that the first child of a blocking notification is <browser>.\n\nhttp://mxr.mozilla.org/mozilla-central/source/toolkit/content/widgets/notification.xml#259\n259 <method name=\"_setBlockingState\">\n260   <parameter name=\"aNotification\"/>\n261   <body>\n262     <![CDATA[\n263       var isblock = aNotification &&\n264                     aNotification.priority == this.PRIORITY_CRITICAL_BLOCK;\n265       var canvas = this._blockingCanvas;\n266       if (isblock) {\n267         if (!canvas)\n268           canvas = document.createElementNS(\"http://www.w3....\n269         const XULNS = \"http://www.mozilla.org/keymaster/gat...\n270         var content = this.firstChild;\n271         if (!content ||\n272              content.namespaceURI != XULNS ||\n273              content.localName != \"browser\")\n274           return;\n\nHowever, actually it is <stack> now. This is introduced by the bug 596371.\n\nhttp://hg.mozilla.org/mozilla-central/rev/e7fd6c393c98\n1.11            <xul:notificationbox flex=\"1\">\n1.12 -            <xul:browser flex=\"1\" type=\"content-primary\" ...\n1.13 -                         xbl:inherits=\"tooltip=contenttoolt...\n1.14 +            <xul:stack flex=\"1\" anonid=\"browserStack\">\n1.15 +              <xul:browser type=\"content-primary\"...\n1.16 +                           xbl:inherits=\"tooltip=contenttooltip,...\n1.17 +            </xul:stack>\n\nSo, <notificationbox> never block user operations even if the notification has a priority PRIORITY_CRITICAL_BLOCK.", "id": 5308669, "text": "A method of <notificationbox>, appendNotification() can accept a special priority \"PRIORITY_CRITICAL_BLOCK\" for a notification to block user operations. However, it doesn't work now. This seems a regression of the bug 596371.\n\nNotificationbox expects that the first child of a blocking notification is <browser>.\n\nhttp://mxr.mozilla.org/mozilla-central/source/toolkit/content/widgets/notification.xml#259\n259 <method name=\"_setBlockingState\">\n260   <parameter name=\"aNotification\"/>\n261   <body>\n262     <![CDATA[\n263       var isblock = aNotification &&\n264                     aNotification.priority == this.PRIORITY_CRITICAL_BLOCK;\n265       var canvas = this._blockingCanvas;\n266       if (isblock) {\n267         if (!canvas)\n268           canvas = document.createElementNS(\"http://www.w3....\n269         const XULNS = \"http://www.mozilla.org/keymaster/gat...\n270         var content = this.firstChild;\n271         if (!content ||\n272              content.namespaceURI != XULNS ||\n273              content.localName != \"browser\")\n274           return;\n\nHowever, actually it is <stack> now. This is introduced by the bug 596371.\n\nhttp://hg.mozilla.org/mozilla-central/rev/e7fd6c393c98\n1.11            <xul:notificationbox flex=\"1\">\n1.12 -            <xul:browser flex=\"1\" type=\"content-primary\" ...\n1.13 -                         xbl:inherits=\"tooltip=contenttoolt...\n1.14 +            <xul:stack flex=\"1\" anonid=\"browserStack\">\n1.15 +              <xul:browser type=\"content-primary\"...\n1.16 +                           xbl:inherits=\"tooltip=contenttooltip,...\n1.17 +            </xul:stack>\n\nSo, <notificationbox> never block user operations even if the notification has a priority PRIORITY_CRITICAL_BLOCK.", "is_private": false, "creation_time": "2011-02-28T16:02:25Z", "author": "yuki@clear-code.com", "attachment_id": null}, {"author": "yuki@clear-code.com", "attachment_id": null, "bug_id": 637330, "creator": "yuki@clear-code.com", "count": 1, "tags": [], "time": "2011-02-28T16:06:56Z", "raw_text": "Sorry, there's a misdescription.\n\n- Notificationbox expects that the first child of a blocking notification is\n- <browser>.\n+ Notificationbox expects that the first child of itself is <browser>.", "id": 5308678, "text": "Sorry, there's a misdescription.\n\n- Notificationbox expects that the first child of a blocking notification is\n- <browser>.\n+ Notificationbox expects that the first child of itself is <browser>.", "is_private": false, "creation_time": "2011-02-28T16:06:56Z"}, {"author": "bug-husbandry-bot@mozilla.bugs", "attachment_id": null, "text": "Moving to Core:XUL per https://bugzilla.mozilla.org/show_bug.cgi?id=1455336", "creation_time": "2018-04-30T20:12:24Z", "is_private": false, "raw_text": "Moving to Core:XUL per https://bugzilla.mozilla.org/show_bug.cgi?id=1455336", "id": 13244462, "bug_id": 637330, "count": 2, "tags": [], "time": "2018-04-30T20:12:24Z", "creator": "bug-husbandry-bot@mozilla.bugs"}]}}}