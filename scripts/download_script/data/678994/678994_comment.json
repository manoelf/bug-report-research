{"comments": {}, "bugs": {"678994": {"comments": [{"creator": "jruderman@gmail.com", "is_private": false, "tags": [], "time": "2011-08-15T15:17:18Z", "text": "Created attachment 553180\ntestcase\n\nCurrently this is \"just\" an opportunity for sites to hide the source of a popup window, similar in spirit to pop-unders.\n\nBut if we begin to rely on the pop-up heuristic for security, this becomes a security hole.  For example, in bug 545812 we want to \"ensure the user is looking at the screen\".", "author": "jruderman@gmail.com", "creation_time": "2011-08-15T15:17:18Z", "raw_text": "Currently this is \"just\" an opportunity for sites to hide the source of a popup window, similar in spirit to pop-unders.\n\nBut if we begin to rely on the pop-up heuristic for security, this becomes a security hole.  For example, in bug 545812 we want to \"ensure the user is looking at the screen\".", "attachment_id": 553180, "id": 5654158, "count": 0, "bug_id": 678994}, {"bug_id": 678994, "count": 1, "tags": [], "time": "2011-08-15T21:48:22Z", "text": "Maybe Chris could fix this...\n\nOne option is to clear the \"currently handling a user event\" flag all the way up the stack whenever we run a nested event loop.", "author": "roc@ocallahan.org", "creation_time": "2011-08-15T21:48:22Z", "creator": "roc@ocallahan.org", "is_private": false, "id": 5655302, "raw_text": "Maybe Chris could fix this...\n\nOne option is to clear the \"currently handling a user event\" flag all the way up the stack whenever we run a nested event loop.", "attachment_id": null}, {"count": 2, "is_private": false, "creator": "roc@ocallahan.org", "text": "Although that might be defeatable in a multi-process setup if the Web page just spins regular JS for a while --- with multi-process, the user can still switch to another tab.\n\nA more robust solution would be to say that if, say, more than one second has elapsed since the input event, we're no longer \"currently handling\" that event.", "bug_id": 678994, "time": "2011-08-15T21:50:02Z", "tags": [], "creation_time": "2011-08-15T21:50:02Z", "author": "roc@ocallahan.org", "raw_text": "Although that might be defeatable in a multi-process setup if the Web page just spins regular JS for a while --- with multi-process, the user can still switch to another tab.\n\nA more robust solution would be to say that if, say, more than one second has elapsed since the input event, we're no longer \"currently handling\" that event.", "attachment_id": null, "id": 5655306}, {"count": 3, "bug_id": 678994, "attachment_id": null, "raw_text": "> if, say, more than one second has elapsed since the input event\n\nMaybe using the same pref as timeouts? dom.disable_open_click_delay defaults to 1000.", "id": 5899119, "creator": "jruderman@gmail.com", "is_private": false, "author": "jruderman@gmail.com", "creation_time": "2011-12-08T00:30:56Z", "time": "2011-12-08T00:30:56Z", "tags": [], "text": "> if, say, more than one second has elapsed since the input event\n\nMaybe using the same pref as timeouts? dom.disable_open_click_delay defaults to 1000."}, {"count": 4, "bug_id": 678994, "raw_text": "This is a new security hole in Firefox 10 (see comment 0).", "attachment_id": null, "id": 5899131, "is_private": false, "creator": "jruderman@gmail.com", "text": "This is a new security hole in Firefox 10 (see comment 0).", "time": "2011-12-08T00:35:34Z", "tags": [], "creation_time": "2011-12-08T00:35:34Z", "author": "jruderman@gmail.com"}, {"id": 5940885, "attachment_id": null, "raw_text": "From the security severity ratings page, I see that sg:low is a \"Minor security vulnerabilities such as leaks or spoofs of non-sensitive information.\"\n\nIs this a regression in FF10? Or is there some other reason we should track this minor vulnerability? Please re-nominate if so.", "creation_time": "2011-12-27T15:17:36Z", "author": "akeybl@mozilla.com", "text": "From the security severity ratings page, I see that sg:low is a \"Minor security vulnerabilities such as leaks or spoofs of non-sensitive information.\"\n\nIs this a regression in FF10? Or is there some other reason we should track this minor vulnerability? Please re-nominate if so.", "time": "2011-12-27T15:17:36Z", "tags": [], "bug_id": 678994, "is_private": false, "creator": "akeybl@mozilla.com", "count": 5}, {"text": "Please see the explanation I linked to when I nominated this bug.", "tags": [], "time": "2011-12-27T22:19:39Z", "creation_time": "2011-12-27T22:19:39Z", "author": "jruderman@gmail.com", "is_private": false, "creator": "jruderman@gmail.com", "id": 5941674, "raw_text": "Please see the explanation I linked to when I nominated this bug.", "attachment_id": null, "bug_id": 678994, "count": 6}, {"is_private": false, "creator": "akeybl@mozilla.com", "count": 7, "creation_time": "2012-01-03T18:04:50Z", "author": "akeybl@mozilla.com", "text": "I did read https://bugzilla.mozilla.org/show_bug.cgi?id=545812#c89 prior to commenting, and I'm still unsure as to why we'd track for FF10. If this bug is actually a \"Minor security vulnerability\", we'd still consider uplifting if a low-risk fix was found (given the minor implications in bug 545812), but I don't think we need to track in the meantime.", "time": "2012-01-03T18:04:50Z", "tags": [], "bug_id": 678994, "attachment_id": null, "raw_text": "I did read https://bugzilla.mozilla.org/show_bug.cgi?id=545812#c89 prior to commenting, and I'm still unsure as to why we'd track for FF10. If this bug is actually a \"Minor security vulnerability\", we'd still consider uplifting if a low-risk fix was found (given the minor implications in bug 545812), but I don't think we need to track in the meantime.", "id": 5951349}, {"raw_text": "(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #2)\n> A more robust solution would be to say that if, say, more than one second\n> has elapsed since the input event, we're no longer \"currently handling\" that\n> event.\n\nHow is this different from what we did in bug 684627?", "attachment_id": null, "id": 5959356, "creator": "chris@pearce.org.nz", "is_private": false, "tags": [], "time": "2012-01-06T01:50:45Z", "text": "(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #2)\n> A more robust solution would be to say that if, say, more than one second\n> has elapsed since the input event, we're no longer \"currently handling\" that\n> event.\n\nHow is this different from what we did in bug 684627?", "author": "chris@pearce.org.nz", "creation_time": "2012-01-06T01:50:45Z", "count": 8, "bug_id": 678994}, {"creator": "chris@pearce.org.nz", "is_private": false, "count": 9, "author": "chris@pearce.org.nz", "creation_time": "2012-01-06T02:00:54Z", "bug_id": 678994, "time": "2012-01-06T02:00:54Z", "tags": [], "text": "This bug occurs in nightlies as far back as 2011-01-01, so if it's a regression, it's not a recent regression", "attachment_id": null, "raw_text": "This bug occurs in nightlies as far back as 2011-01-01, so if it's a regression, it's not a recent regression", "id": 5959375}, {"attachment_id": null, "raw_text": "(In reply to Chris Pearce, Mozilla Corporation (:cpearce) from comment #8)\n> (In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #2)\n> > A more robust solution would be to say that if, say, more than one second\n> > has elapsed since the input event, we're no longer \"currently handling\" that\n> > event.\n> \n> How is this different from what we did in bug 684627?\n\nIt's not. I wrote that before you filed bug 684627. I think bug 684627 fixed this bug.", "id": 5959419, "is_private": false, "creator": "roc@ocallahan.org", "count": 10, "creation_time": "2012-01-06T02:27:55Z", "author": "roc@ocallahan.org", "text": "(In reply to Chris Pearce, Mozilla Corporation (:cpearce) from comment #8)\n> (In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #2)\n> > A more robust solution would be to say that if, say, more than one second\n> > has elapsed since the input event, we're no longer \"currently handling\" that\n> > event.\n> \n> How is this different from what we did in bug 684627?\n\nIt's not. I wrote that before you filed bug 684627. I think bug 684627 fixed this bug.", "bug_id": 678994, "time": "2012-01-06T02:27:55Z", "tags": []}, {"count": 11, "bug_id": 678994, "is_private": false, "creator": "chris@pearce.org.nz", "text": "I don't think bug 684627 fixed this; the testcase still opens a pop-under for me in current nightlies. I would have expected bug 684627 to fix it however...", "tags": [], "time": "2012-01-06T02:33:19Z", "creation_time": "2012-01-06T02:33:19Z", "author": "chris@pearce.org.nz", "raw_text": "I don't think bug 684627 fixed this; the testcase still opens a pop-under for me in current nightlies. I would have expected bug 684627 to fix it however...", "attachment_id": null, "id": 5959427}, {"bug_id": 678994, "count": 12, "id": 6092145, "raw_text": "This still works in the current nightly Firefox 13 build.", "attachment_id": null, "text": "This still works in the current nightly Firefox 13 build.", "tags": [], "time": "2012-02-25T01:59:10Z", "creation_time": "2012-02-25T01:59:10Z", "author": "albill@gmail.com", "is_private": false, "creator": "albill@gmail.com"}, {"count": 13, "creator": "tanvi@mozilla.com", "is_private": false, "time": "2018-01-09T23:29:07Z", "bug_id": 678994, "tags": [], "text": "This still works in Nightly -\nPops open a tab, quickly closes it, and rewrites the contents of the current tab.\nIf you switch tabs, changes focus and takes you back to original tab.", "author": "tanvi@mozilla.com", "creation_time": "2018-01-09T23:29:07Z", "raw_text": "This still works in Nightly -\nPops open a tab, quickly closes it, and rewrites the contents of the current tab.\nIf you switch tabs, changes focus and takes you back to original tab.", "attachment_id": null, "id": 12956516}]}}}