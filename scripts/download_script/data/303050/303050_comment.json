{"comments": {}, "bugs": {"303050": {"comments": [{"raw_text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; ru-RU; rv:1.7.8) Gecko/20050511 Firefox/1.0.4\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; ru-RU; rv:1.7.8) Gecko/20050511 Firefox/1.0.4\n\nSlackware 10.0, glibc-2.3.2.\nSeems like something with libthread_db.so/libthread.so.\n\nfirefox -g\nUsing host libthread_db library \"/lib/libthread_db.so.1\".\n(gdb) prun  \nBreakpoint 2 at 0x8057eb1: file nsBrowserApp.cpp, line 58.  \nmain (argc=1, argv=0xbfda87d4) at nsBrowserApp.cpp:58  \nType Manifest File: /root/.mozilla/firefox/6fjrdnbr.default/xpti.dat  \nnsNativeComponentLoader: autoregistering begins.  \nnsNativeComponentLoader: SelfRegisterDll(libp3p.so) Load FAILED with  \nerror: /usr/local/lib/firefox-1.0.4/components/libp3p.so: undefined  \nsymbol: _ZTI23nsSupportsWeakReference  \nnsNativeComponentLoader: SelfRegisterDll(libtypeaheadfind.so) Load  \nFAILED with error:  \n/usr/local/lib/firefox-1.0.4/components/libtypeaheadfind.so: undefined  \nsymbol: _ZTI23nsSupportsWeakReference  \nnsNativeComponentLoader: SelfRegisterDll(libwallet.so) Load FAILED with  \nerror: /usr/local/lib/firefox-1.0.4/components/libwallet.so: undefined  \nsymbol: _ZTI23nsSupportsWeakReference  \nnsNativeComponentLoader: SelfRegisterDll(libspellchecker.so) Load FAILED  \nwith error: /usr/local/lib/firefox-1.0.4/components/libspellchecker.so:  \nundefined symbol: _ZTI23nsSupportsWeakReference  \nnsNativeComponentLoader: autoregistering succeeded  \nnNCL: registering deferred (0)  \nGFX: dpi=75 t2p=0.0526316 p2t=19 depth=24  \n++WEBSHELL == 1  \nWARNING: NS_ENSURE_TRUE(NS_SUCCEEDED(rv)) failed, file  \nnsPermissionManager.cpp, line 623  \n++DOMWINDOW == 1  \n++WEBSHELL == 2  \n++DOMWINDOW == 2  \nbad FastLoad file checksum  \nNote: styleverifytree is disabled  \nNote: frameverifytree is disabled  \nWARNING: the property eo already exists  \n, file nsPersistentProperties.cpp, line 282  \nNote: verifyreflow is disabled  \nWARNING: GetDefaultCharsetForLocale: need to add multi locale support,  \nfile nsUNIXCharset.cpp, line 189  \nWARNING: GetDefaultCharsetForLocale: need to add multi locale support,  \nfile nsUNIXCharset.cpp, line 189  \n++WEBSHELL == 3  \n++DOMWINDOW == 3  \n###!!! ASSERTION: should have made area frame for this: 'aRelPos', file  \nnsCSSFrameConstructor.cpp, line 12518  \nBreak: at file nsCSSFrameConstructor.cpp, line 12518  \n^G  \nProgram terminated with signal SIGKILL, Killed.  \nThe program no longer exists.\n\nIf i cretate thread in my xpcom like this:\nNS_NewThread(getter_AddRefs(mThread), this, 0, PR_UNJOINABLE_THREAD);\nfirefox reveives signall 11 and crushed too.\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. type firefox -g\n2. type run\n\nActual Results:  \nfirefox killed\n\nExpected Results:  \nfirefox runned\n\nI`ll give any additional information if needed.", "time": "2005-08-02T07:51:47Z", "id": 2569353, "bug_id": 303050, "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; ru-RU; rv:1.7.8) Gecko/20050511 Firefox/1.0.4\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; ru-RU; rv:1.7.8) Gecko/20050511 Firefox/1.0.4\n\nSlackware 10.0, glibc-2.3.2.\nSeems like something with libthread_db.so/libthread.so.\n\nfirefox -g\nUsing host libthread_db library \"/lib/libthread_db.so.1\".\n(gdb) prun  \nBreakpoint 2 at 0x8057eb1: file nsBrowserApp.cpp, line 58.  \nmain (argc=1, argv=0xbfda87d4) at nsBrowserApp.cpp:58  \nType Manifest File: /root/.mozilla/firefox/6fjrdnbr.default/xpti.dat  \nnsNativeComponentLoader: autoregistering begins.  \nnsNativeComponentLoader: SelfRegisterDll(libp3p.so) Load FAILED with  \nerror: /usr/local/lib/firefox-1.0.4/components/libp3p.so: undefined  \nsymbol: _ZTI23nsSupportsWeakReference  \nnsNativeComponentLoader: SelfRegisterDll(libtypeaheadfind.so) Load  \nFAILED with error:  \n/usr/local/lib/firefox-1.0.4/components/libtypeaheadfind.so: undefined  \nsymbol: _ZTI23nsSupportsWeakReference  \nnsNativeComponentLoader: SelfRegisterDll(libwallet.so) Load FAILED with  \nerror: /usr/local/lib/firefox-1.0.4/components/libwallet.so: undefined  \nsymbol: _ZTI23nsSupportsWeakReference  \nnsNativeComponentLoader: SelfRegisterDll(libspellchecker.so) Load FAILED  \nwith error: /usr/local/lib/firefox-1.0.4/components/libspellchecker.so:  \nundefined symbol: _ZTI23nsSupportsWeakReference  \nnsNativeComponentLoader: autoregistering succeeded  \nnNCL: registering deferred (0)  \nGFX: dpi=75 t2p=0.0526316 p2t=19 depth=24  \n++WEBSHELL == 1  \nWARNING: NS_ENSURE_TRUE(NS_SUCCEEDED(rv)) failed, file  \nnsPermissionManager.cpp, line 623  \n++DOMWINDOW == 1  \n++WEBSHELL == 2  \n++DOMWINDOW == 2  \nbad FastLoad file checksum  \nNote: styleverifytree is disabled  \nNote: frameverifytree is disabled  \nWARNING: the property eo already exists  \n, file nsPersistentProperties.cpp, line 282  \nNote: verifyreflow is disabled  \nWARNING: GetDefaultCharsetForLocale: need to add multi locale support,  \nfile nsUNIXCharset.cpp, line 189  \nWARNING: GetDefaultCharsetForLocale: need to add multi locale support,  \nfile nsUNIXCharset.cpp, line 189  \n++WEBSHELL == 3  \n++DOMWINDOW == 3  \n###!!! ASSERTION: should have made area frame for this: 'aRelPos', file  \nnsCSSFrameConstructor.cpp, line 12518  \nBreak: at file nsCSSFrameConstructor.cpp, line 12518  \n^G  \nProgram terminated with signal SIGKILL, Killed.  \nThe program no longer exists.\n\nIf i cretate thread in my xpcom like this:\nNS_NewThread(getter_AddRefs(mThread), this, 0, PR_UNJOINABLE_THREAD);\nfirefox reveives signall 11 and crushed too.\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. type firefox -g\n2. type run\n\nActual Results:  \nfirefox killed\n\nExpected Results:  \nfirefox runned\n\nI`ll give any additional information if needed.", "count": 0, "attachment_id": null, "creator": "alex_ch1980@fromru.com", "is_private": false, "author": "alex_ch1980@fromru.com", "tags": [], "creation_time": "2005-08-02T07:51:47Z"}, {"author": "gavin.sharp@gmail.com", "creator": "gavin.sharp@gmail.com", "attachment_id": null, "tags": [], "creation_time": "2005-08-02T08:00:01Z", "time": "2005-08-02T08:00:01Z", "raw_text": "\n\n*** This bug has been marked as a duplicate of 303051 ***", "is_private": false, "id": 2569356, "bug_id": 303050, "text": "\n\n*** This bug has been marked as a duplicate of 303051 ***", "count": 1}, {"tags": [], "creation_time": "2005-08-02T19:29:55Z", "author": "alex_ch1980@fromru.com", "is_private": false, "creator": "alex_ch1980@fromru.com", "attachment_id": null, "bug_id": 303050, "text": "i think this concerned to this bug also: \ni have such code \n \nNS_IMPL_THREADSAFE_ISUPPORTS1(nsMySqlConnection, nsIRunnable) \n \nnsresult nsMySqlConnection::Init() \n{ \n   PR_LOG(brLog::nsmodule, PR_LOG_DEBUG, (\"%s IN\", __FUNCTION__)); \n   if (!mThread) \n   { \n       nsresult rv = NS_NewThread(getter_AddRefs(mThread), \n                                  NS_STATIC_CAST(nsIRunnable*, this)); \n       NS_ENSURE_SUCCESS (rv, rv); \n   } \n   PR_LOG(brLog::nsmodule, PR_LOG_DEBUG, (\"%s OUT\", __FUNCTION__)); \n   return NS_OK; \n} \n \nNS_IMETHODIMP nsMySqlConnection::Run() \n{ \n   PR_LOG(brLog::nsmodule, PR_LOG_DEBUG, (\"In THREAD %s\", __FUNCTION__)); \n   return NS_OK; \n} \n \nAnd if i call Init function: \n------------------------ release firefox version ------------------------ \nfirefox output: \n./run-mozilla.sh: line 451:  3701 Killed                  \"$prog\" ${1+\"$@\"} \n \nlog: \n16384[899ff80]: Init IN \n16384[899ff80]: Init OUT \n \n------------------------ debug firefox version ------------------------ \nfirefox output: \nProgram /usr/local/lib/firefox-1.0.4/firefox-bin (pid = 2210) received signal \n11. \nStack: \n_ZN13nsProfileLock18FatalSignalHandlerEi+0x00000137 \n[/usr/local/lib/firefox-1.0.4/firefox-bin +0x00027A15] \nUNKNOWN [/lib/libpthread.so.0 +0x0000BBE5] \nUNKNOWN [/lib/libc.so.6 +0x00029078] \nUNKNOWN [/usr/local/lib/firefox-1.0.4/libnspr4.so +0x00030448] \nUNKNOWN [/lib/libpthread.so.0 +0x00005CC4] \nSleeping for 5 minutes. \nType 'gdb /usr/local/lib/firefox-1.0.4/firefox-bin 2210' to attach your \ndebugger to this thread. \n \nlog: \n16384[8077618]: Init IN \n16384[8077618]: Init OUT \n16384[8077618]: WARNING: requested removal of nonexistent window \n, file nsWindowWatcher.cpp, line 944 \n16384[8077618]: Observe: topic - xpcom-shutdown, data - (null) \n16384[8077618]: WARNING: nsExceptionService ignoring thread destruction after \nshutdown, file nsExceptionService.cpp, line 191 \n16384[8077618]: WARNING: NS_ENSURE_TRUE(NS_SUCCEEDED(rv)) failed, file \nnsGlobalHistory.cpp, line 2520 \n16384[8077618]: WARNING: NS_ENSURE_TRUE(NS_SUCCEEDED(OpenDB())) failed, file \nnsGlobalHistory.cpp, line 1221  \n ", "count": 2, "raw_text": "i think this concerned to this bug also: \ni have such code \n \nNS_IMPL_THREADSAFE_ISUPPORTS1(nsMySqlConnection, nsIRunnable) \n \nnsresult nsMySqlConnection::Init() \n{ \n   PR_LOG(brLog::nsmodule, PR_LOG_DEBUG, (\"%s IN\", __FUNCTION__)); \n   if (!mThread) \n   { \n       nsresult rv = NS_NewThread(getter_AddRefs(mThread), \n                                  NS_STATIC_CAST(nsIRunnable*, this)); \n       NS_ENSURE_SUCCESS (rv, rv); \n   } \n   PR_LOG(brLog::nsmodule, PR_LOG_DEBUG, (\"%s OUT\", __FUNCTION__)); \n   return NS_OK; \n} \n \nNS_IMETHODIMP nsMySqlConnection::Run() \n{ \n   PR_LOG(brLog::nsmodule, PR_LOG_DEBUG, (\"In THREAD %s\", __FUNCTION__)); \n   return NS_OK; \n} \n \nAnd if i call Init function: \n------------------------ release firefox version ------------------------ \nfirefox output: \n./run-mozilla.sh: line 451:  3701 Killed                  \"$prog\" ${1+\"$@\"} \n \nlog: \n16384[899ff80]: Init IN \n16384[899ff80]: Init OUT \n \n------------------------ debug firefox version ------------------------ \nfirefox output: \nProgram /usr/local/lib/firefox-1.0.4/firefox-bin (pid = 2210) received signal \n11. \nStack: \n_ZN13nsProfileLock18FatalSignalHandlerEi+0x00000137 \n[/usr/local/lib/firefox-1.0.4/firefox-bin +0x00027A15] \nUNKNOWN [/lib/libpthread.so.0 +0x0000BBE5] \nUNKNOWN [/lib/libc.so.6 +0x00029078] \nUNKNOWN [/usr/local/lib/firefox-1.0.4/libnspr4.so +0x00030448] \nUNKNOWN [/lib/libpthread.so.0 +0x00005CC4] \nSleeping for 5 minutes. \nType 'gdb /usr/local/lib/firefox-1.0.4/firefox-bin 2210' to attach your \ndebugger to this thread. \n \nlog: \n16384[8077618]: Init IN \n16384[8077618]: Init OUT \n16384[8077618]: WARNING: requested removal of nonexistent window \n, file nsWindowWatcher.cpp, line 944 \n16384[8077618]: Observe: topic - xpcom-shutdown, data - (null) \n16384[8077618]: WARNING: nsExceptionService ignoring thread destruction after \nshutdown, file nsExceptionService.cpp, line 191 \n16384[8077618]: WARNING: NS_ENSURE_TRUE(NS_SUCCEEDED(rv)) failed, file \nnsGlobalHistory.cpp, line 2520 \n16384[8077618]: WARNING: NS_ENSURE_TRUE(NS_SUCCEEDED(OpenDB())) failed, file \nnsGlobalHistory.cpp, line 1221  \n ", "time": "2005-08-02T19:29:55Z", "id": 2569988}, {"tags": [], "creation_time": "2005-08-02T19:37:26Z", "author": "jo.hermans@gmail.com", "is_private": false, "creator": "jo.hermans@gmail.com", "attachment_id": null, "text": "*** Bug 303051 has been marked as a duplicate of this bug. ***", "count": 3, "bug_id": 303050, "id": 2569996, "time": "2005-08-02T19:37:26Z", "raw_text": "*** Bug 303051 has been marked as a duplicate of this bug. ***"}, {"id": 2709376, "raw_text": "I'm trying to debug my continuous crashes of Firefox, current nightly build, since talkback is not working in Linux.\n\nI can confirm this issue.\n\nSee comments on bug 246557", "time": "2005-11-29T00:04:13Z", "text": "I'm trying to debug my continuous crashes of Firefox, current nightly build, since talkback is not working in Linux.\n\nI can confirm this issue.\n\nSee comments on bug 246557", "count": 4, "bug_id": 303050, "attachment_id": null, "creator": "jcea@jcea.es", "is_private": false, "author": "jcea@jcea.es", "creation_time": "2005-11-29T00:04:13Z", "tags": []}, {"raw_text": "Since Bug 303051 has been resolved, shouldn't this be marked as resolved as well?", "time": "2008-07-18T17:55:16Z", "id": 3709678, "bug_id": 303050, "text": "Since Bug 303051 has been resolved, shouldn't this be marked as resolved as well?", "count": 5, "attachment_id": null, "creator": "yasumoto7@gmail.com", "is_private": false, "author": "yasumoto7@gmail.com", "tags": [], "creation_time": "2008-07-18T17:55:16Z"}, {"bug_id": 303050, "count": 6, "text": "Alexandr, please file a new bug if this still occurs in an *unchanged*\nmozilla-central build.  If you make changes to the source that cause\nit to crash it's better to ask for help in the news groups.\nhttp://www.mozilla.org/community/developer-forums.html", "raw_text": "Alexandr, please file a new bug if this still occurs in an *unchanged*\nmozilla-central build.  If you make changes to the source that cause\nit to crash it's better to ask for help in the news groups.\nhttp://www.mozilla.org/community/developer-forums.html", "time": "2009-10-10T16:06:45Z", "id": 4340691, "creator": "mats@mozilla.com", "attachment_id": null, "is_private": false, "creation_time": "2009-10-10T16:06:45Z", "tags": [], "author": "mats@mozilla.com"}]}}}