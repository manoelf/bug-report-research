{"bugs": {"658811": {"comments": [{"id": 5484714, "is_private": false, "count": 0, "author": "cfinke@gmail.com", "time": "2011-05-21T19:30:19Z", "bug_id": 658811, "text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_7) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.68 Safari/534.24\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nSee steps to reproduce for details.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Open a Google doc.\n2. Copy some text from any website.\n3. Paste it into the Google doc (no problem so far).\n4. Copy some text from http://www.pocketyourdollars.com/2011/05/cvs-coupon-matchups-522-52811/\n5. Paste it into the Google doc again.\n\nActual Results:  \nThe text copied in step #2 will be pasted into the Google doc.\n\nExpected Results:  \nThe text copied in step #4 should be pasted.\n\nI haven't found any other website combinations that cause this behavior; if you copy from a website like fark.com in step 4, the issue does not appear.  If you switch applications to a text editor and back to Firefox between steps 4 and 5, the issue does not appear.\n\nThe issue does not appear in versions prior to Firefox 4, and it does not appear in Chrome or Safari.", "attachment_id": null, "creation_time": "2011-05-21T19:30:19Z", "tags": [], "creator": "cfinke@gmail.com", "raw_text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_7) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.68 Safari/534.24\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nSee steps to reproduce for details.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Open a Google doc.\n2. Copy some text from any website.\n3. Paste it into the Google doc (no problem so far).\n4. Copy some text from http://www.pocketyourdollars.com/2011/05/cvs-coupon-matchups-522-52811/\n5. Paste it into the Google doc again.\n\nActual Results:  \nThe text copied in step #2 will be pasted into the Google doc.\n\nExpected Results:  \nThe text copied in step #4 should be pasted.\n\nI haven't found any other website combinations that cause this behavior; if you copy from a website like fark.com in step 4, the issue does not appear.  If you switch applications to a text editor and back to Firefox between steps 4 and 5, the issue does not appear.\n\nThe issue does not appear in versions prior to Firefox 4, and it does not appear in Chrome or Safari."}, {"author": "bzbarsky@mit.edu", "is_private": false, "id": 5486420, "attachment_id": null, "creation_time": "2011-05-23T14:44:18Z", "tags": [], "bug_id": 658811, "count": 1, "time": "2011-05-23T14:44:18Z", "creator": "bzbarsky@mit.edu", "raw_text": "Worsforme, as far as I can tell, with a current trunk mac build...", "text": "Worsforme, as far as I can tell, with a current trunk mac build..."}, {"id": 5486463, "time": "2011-05-23T15:01:36Z", "author": "cfinke@gmail.com", "count": 2, "is_private": false, "text": "I can still reproduce it in last night's Nightly build, but I noticed that the requirements to reproduce it are stricter than what I initially posted:\n\nIn step #4, when you copy text from http://www.pocketyourdollars.com/2011/05/cvs-coupon-matchups-522-52811/ , scroll down to the checkboxes and copy the text starting with \"Suave Invisible Solid\" and ending with \"$0.25 after coupon\".  That text will fail to paste, but if you copy some other text in a normal paragraph (like \"Remember that this is a starting list of deals for the week.\" a few paragraphs up), there will be no problem.  The bug seems to affect all text starting after the \"Week-Long Extra Care Buck Deals\" header up until the Facebook \"Like\" button at the end of the post.", "bug_id": 658811, "raw_text": "I can still reproduce it in last night's Nightly build, but I noticed that the requirements to reproduce it are stricter than what I initially posted:\n\nIn step #4, when you copy text from http://www.pocketyourdollars.com/2011/05/cvs-coupon-matchups-522-52811/ , scroll down to the checkboxes and copy the text starting with \"Suave Invisible Solid\" and ending with \"$0.25 after coupon\".  That text will fail to paste, but if you copy some other text in a normal paragraph (like \"Remember that this is a starting list of deals for the week.\" a few paragraphs up), there will be no problem.  The bug seems to affect all text starting after the \"Week-Long Extra Care Buck Deals\" header up until the Facebook \"Like\" button at the end of the post.", "creator": "cfinke@gmail.com", "tags": [], "creation_time": "2011-05-23T15:01:36Z", "attachment_id": null}, {"bug_id": 658811, "attachment_id": null, "tags": [], "creation_time": "2011-05-23T16:29:29Z", "id": 5486703, "is_private": false, "author": "bzbarsky@mit.edu", "text": "My best guess is that there are multiple clipboard flavors in use here, which end up with different data, and Google Docs is picking the HTML flavor whereas the text from pocketyourdollars is only ending up in the text flavor or something....\n\nA minimal-ish testcase from pocketyourdollars would be very nice here, so we can figure out whether it's the markup there or the scripts there or something else that causes the problem.", "creator": "bzbarsky@mit.edu", "raw_text": "My best guess is that there are multiple clipboard flavors in use here, which end up with different data, and Google Docs is picking the HTML flavor whereas the text from pocketyourdollars is only ending up in the text flavor or something....\n\nA minimal-ish testcase from pocketyourdollars would be very nice here, so we can figure out whether it's the markup there or the scripts there or something else that causes the problem.", "count": 3, "time": "2011-05-23T16:29:29Z"}, {"tags": [], "creation_time": "2011-05-23T16:30:14Z", "attachment_id": null, "bug_id": 658811, "author": "bzbarsky@mit.edu", "is_private": false, "id": 5486708, "raw_text": "And yes, I can reproduce the problem with the steps from comment 2.", "creator": "bzbarsky@mit.edu", "text": "And yes, I can reproduce the problem with the steps from comment 2.", "time": "2011-05-23T16:30:14Z", "count": 4}, {"bug_id": 658811, "attachment_id": null, "tags": [], "creation_time": "2011-05-24T03:48:51Z", "id": 5488362, "author": "cfinke@gmail.com", "is_private": false, "text": "I've written a much simpler test case:\n\nhttp://www.chrisfinke.com/files/copy_paste_bug.html\n\nThe culprit is a line of HTML that looks like this:\n\n<p</p>\n\nIf you copy any text that appears after the malformed <p> tag (but before the end of what would be the <p> element's parent), it will not paste properly into Google Docs.", "creator": "cfinke@gmail.com", "raw_text": "I've written a much simpler test case:\n\nhttp://www.chrisfinke.com/files/copy_paste_bug.html\n\nThe culprit is a line of HTML that looks like this:\n\n<p</p>\n\nIf you copy any text that appears after the malformed <p> tag (but before the end of what would be the <p> element's parent), it will not paste properly into Google Docs.", "count": 5, "time": "2011-05-24T03:48:51Z"}, {"attachment_id": null, "creation_time": "2011-05-24T04:42:39Z", "tags": [], "creator": "bzbarsky@mit.edu", "raw_text": "Perfect, thanks!\n\nThis is an HTML5 parser regression, I think.  In particular, the HTML5 parser is creating a DOM in this case where one of the localnames is \"p<\".  Henri, is that actually expected in this case?  I can see how it might confuse either our serializer or the google docs parser....", "bug_id": 658811, "text": "Perfect, thanks!\n\nThis is an HTML5 parser regression, I think.  In particular, the HTML5 parser is creating a DOM in this case where one of the localnames is \"p<\".  Henri, is that actually expected in this case?  I can see how it might confuse either our serializer or the google docs parser....", "is_private": false, "count": 6, "time": "2011-05-24T04:42:39Z", "author": "bzbarsky@mit.edu", "id": 5488409}, {"count": 7, "time": "2011-05-24T04:43:03Z", "author": "bzbarsky@mit.edu", "is_private": false, "id": 5488410, "creator": "bzbarsky@mit.edu", "raw_text": "Oh, and to be clear the bug seems to go away if I switch off the HTML5 parser in Fx4.", "attachment_id": null, "tags": [], "creation_time": "2011-05-24T04:43:03Z", "text": "Oh, and to be clear the bug seems to go away if I switch off the HTML5 parser in Fx4.", "bug_id": 658811}, {"count": 8, "time": "2011-05-24T04:43:52Z", "author": "bzbarsky@mit.edu", "is_private": false, "id": 5488411, "creator": "bzbarsky@mit.edu", "raw_text": "", "attachment_id": 534672, "tags": [], "creation_time": "2011-05-24T04:43:52Z", "text": "Created attachment 534672\nChristopher's testcase", "bug_id": 658811}, {"creator": "jstutte@mozilla.com", "raw_text": "Bulk-downgrade of unassigned, untouched DOM/Storage bug's priority.\n\nIf you have reason to believe, this is wrong, please write a comment and ni :jstutte.", "attachment_id": null, "tags": [], "creation_time": "2020-12-14T15:19:54Z", "text": "Bulk-downgrade of unassigned, untouched DOM/Storage bug's priority.\n\nIf you have reason to believe, this is wrong, please write a comment and ni :jstutte.", "bug_id": 658811, "count": 9, "author": "jstutte@mozilla.com", "time": "2020-12-14T15:19:54Z", "is_private": false, "id": 15174015}]}}, "comments": {}}