{"bugs": {"1631434": {"comments": [{"text": "Based on [:asuth comment in Bug 1630413 comment 3](https://bugzilla.mozilla.org/show_bug.cgi?id=1630413#c3), there is a chance that as part of [Bug 1558478](https://bugzilla.mozilla.org/show_bug.cgi?id=1558478) a future Firefox version may opt to clear all the stored data when `unlimitedStorage` is removed (as a side effect of losing the \"persistent storage\" site permission) and so it seems reasonable to explicit assert in the existing [test_unlimitedStorage_removed_on_update](https://searchfox.org/mozilla-central/rev/a4d62e09a4c46aef918667fa759bf9ae898dc258/toolkit/components/extensions/test/xpcshell/test_ext_unlimitedStorage.js#88) test case that after `unlimitedStorage` permission has been removed the existing extension data is still available (so that we make sure that we will notice if we decide to change the current behavior, and we can take appropriate action to prevent the change of behavior to generate an unexpected \"data loss\" scenario for the extensions).", "raw_text": "Based on [:asuth comment in Bug 1630413 comment 3](https://bugzilla.mozilla.org/show_bug.cgi?id=1630413#c3), there is a chance that as part of [Bug 1558478](https://bugzilla.mozilla.org/show_bug.cgi?id=1558478) a future Firefox version may opt to clear all the stored data when `unlimitedStorage` is removed (as a side effect of losing the \"persistent storage\" site permission) and so it seems reasonable to explicit assert in the existing [test_unlimitedStorage_removed_on_update](https://searchfox.org/mozilla-central/rev/a4d62e09a4c46aef918667fa759bf9ae898dc258/toolkit/components/extensions/test/xpcshell/test_ext_unlimitedStorage.js#88) test case that after `unlimitedStorage` permission has been removed the existing extension data is still available (so that we make sure that we will notice if we decide to change the current behavior, and we can take appropriate action to prevent the change of behavior to generate an unexpected \"data loss\" scenario for the extensions).", "is_private": false, "id": 14766496, "author": "lgreco@mozilla.com", "bug_id": 1631434, "attachment_id": null, "creator": "lgreco@mozilla.com", "creation_time": "2020-04-20T14:01:51Z", "count": 0, "tags": [], "time": "2020-04-20T14:01:51Z"}, {"time": "2020-04-24T10:25:56Z", "attachment_id": 9143015, "count": 1, "bug_id": 1631434, "tags": [], "creator": "lgreco@mozilla.com", "creation_time": "2020-04-24T10:25:56Z", "id": 14775944, "author": "lgreco@mozilla.com", "text": "Created attachment 9143015\nBug 1631434 - Add test case to ensure storage.local data not cleared as a side-effect of removing unlimitedStorage permission. r?mixedpuppy!", "raw_text": "", "is_private": false}, {"creator": "pulsebot@bots.tld", "id": 14782331, "creation_time": "2020-04-27T19:03:55Z", "author": "pulsebot@bots.tld", "raw_text": "Pushed by luca.greco@alcacoop.it:\nhttps://hg.mozilla.org/integration/autoland/rev/990b92ffbd10\nAdd test case to ensure storage.local data not cleared as a side-effect of removing unlimitedStorage permission. r=mixedpuppy", "text": "Pushed by luca.greco@alcacoop.it:\nhttps://hg.mozilla.org/integration/autoland/rev/990b92ffbd10\nAdd test case to ensure storage.local data not cleared as a side-effect of removing unlimitedStorage permission. r=mixedpuppy", "is_private": false, "time": "2020-04-27T19:03:55Z", "attachment_id": null, "bug_id": 1631434, "count": 2, "tags": []}, {"text": "https://hg.mozilla.org/mozilla-central/rev/990b92ffbd10", "raw_text": "https://hg.mozilla.org/mozilla-central/rev/990b92ffbd10", "is_private": false, "author": "shindli@mozilla.com", "id": 14783081, "bug_id": 1631434, "attachment_id": null, "creator": "shindli@mozilla.com", "creation_time": "2020-04-28T03:57:28Z", "count": 3, "tags": ["bugherder"], "time": "2020-04-28T03:57:28Z"}]}}, "comments": {}}