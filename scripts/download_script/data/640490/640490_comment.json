{"bugs": {"640490": {"comments": [{"id": 5335436, "count": 0, "time": "2011-03-10T09:01:02Z", "author": "dirkjan@ochtman.nl", "is_private": false, "text": "As shown in the attached screenshot, the Firefox 4.0rc1 tab titles seems slightly out of place in the Windows XP theme. It seems to me that this would look better with the text slightly higher (1, possibly 2 pixels).", "bug_id": 640490, "creator": "dirkjan@ochtman.nl", "raw_text": "As shown in the attached screenshot, the Firefox 4.0rc1 tab titles seems slightly out of place in the Windows XP theme. It seems to me that this would look better with the text slightly higher (1, possibly 2 pixels).", "attachment_id": null, "creation_time": "2011-03-10T09:01:02Z", "tags": []}, {"attachment_id": 518308, "creation_time": "2011-03-10T09:02:20Z", "tags": [], "creator": "dirkjan@ochtman.nl", "raw_text": "", "bug_id": 640490, "text": "Created attachment 518308\nScreenshot of tab titles on Windows XP", "is_private": false, "count": 1, "author": "dirkjan@ochtman.nl", "time": "2011-03-10T09:02:20Z", "id": 5335437}, {"time": "2011-03-23T21:05:15Z", "count": 2, "raw_text": "I'm having the same problem on Windows 7 64-bit. They seem mis-aligned by just a tad.", "creator": "repinski23@gmail.com", "text": "I'm having the same problem on Windows 7 64-bit. They seem mis-aligned by just a tad.", "is_private": false, "author": "repinski23@gmail.com", "id": 5363760, "creation_time": "2011-03-23T21:05:15Z", "tags": [], "attachment_id": null, "bug_id": 640490}, {"bug_id": 640490, "attachment_id": null, "creation_time": "2011-03-24T08:15:42Z", "tags": [], "id": 5365232, "is_private": false, "author": "dirkjan@ochtman.nl", "text": "Oh, I don't know, I think it looks just fine on Windows 7 (with Aero).", "creator": "dirkjan@ochtman.nl", "raw_text": "Oh, I don't know, I think it looks just fine on Windows 7 (with Aero).", "count": 3, "time": "2011-03-24T08:15:42Z"}, {"attachment_id": null, "creation_time": "2011-03-31T02:10:12Z", "tags": [], "creator": "fryn@frankyan.com", "raw_text": "Stephen, should we make the tabs shorter for XP too or simply raise the text 1px?", "bug_id": 640490, "text": "Stephen, should we make the tabs shorter for XP too or simply raise the text 1px?", "is_private": false, "count": 4, "author": "fryn@frankyan.com", "time": "2011-03-31T02:10:12Z", "id": 5382200}, {"bug_id": 640490, "creation_time": "2011-03-31T17:23:52Z", "tags": [], "attachment_id": null, "id": 5383598, "author": "stephen@noved.org", "is_private": false, "text": "(In reply to comment #4)\n> Stephen, should we make the tabs shorter for XP too or simply raise the text\n> 1px?\n\nThey should be the same height, the text just needs to move up.", "raw_text": "(In reply to comment #4)\n> Stephen, should we make the tabs shorter for XP too or simply raise the text\n> 1px?\n\nThey should be the same height, the text just needs to move up.", "creator": "stephen@noved.org", "time": "2011-03-31T17:23:52Z", "count": 5}, {"time": "2011-04-09T06:48:56Z", "count": 6, "text": "Uploading patch shortly.", "raw_text": "Uploading patch shortly.", "creator": "fryn@frankyan.com", "id": 5398089, "author": "fryn@frankyan.com", "is_private": false, "bug_id": 640490, "tags": [], "creation_time": "2011-04-09T06:48:56Z", "attachment_id": null}, {"is_private": false, "author": "fryn@frankyan.com", "time": "2011-04-09T06:52:17Z", "count": 7, "id": 5398092, "creation_time": "2011-04-09T06:52:17Z", "tags": [], "attachment_id": 524803, "raw_text": "Does what Stephen intended. :)", "creator": "fryn@frankyan.com", "bug_id": 640490, "text": "Created attachment 524803\npatch\n\nDoes what Stephen intended. :)"}, {"bug_id": 640490, "text": "Let's get this into Firefox 5 please!", "attachment_id": null, "creation_time": "2011-04-09T06:54:18Z", "tags": [], "creator": "fryn@frankyan.com", "raw_text": "Let's get this into Firefox 5 please!", "id": 5398094, "is_private": false, "count": 8, "time": "2011-04-09T06:54:18Z", "author": "fryn@frankyan.com"}, {"id": 5398132, "is_private": false, "author": "kliu@code.kliu.org", "time": "2011-04-09T08:04:17Z", "count": 9, "bug_id": 640490, "text": "1) This will cause the text to be misaligned with the icon.\n\n2) Whether or not it is \"misaligned\" very much depends on the typeface.  E.g., I use Segoe UI size 8 as my UI font on XP, and it looks just fine.  If I tweak it up 1px, it doesn't look any better with respect to tab alignment (but clearly worse with respect to icon alignment).  And on NT6+, where Segoe UI 9 is in use, it looks even worse.\n\nThe important thing is that the icon is properly aligned WRT the tab, and it is in the status quo.  And the layout algorithms ensure that the text in turn is aligned with the icon.  A blanket override of that alignment to fix a minor \"problem\" with one typeface just seems wrong (esp. if that is mostly a perceptive problem resulting from the specific shape and sizing of that typeface).", "creation_time": "2011-04-09T08:04:17Z", "tags": [], "attachment_id": null, "raw_text": "1) This will cause the text to be misaligned with the icon.\n\n2) Whether or not it is \"misaligned\" very much depends on the typeface.  E.g., I use Segoe UI size 8 as my UI font on XP, and it looks just fine.  If I tweak it up 1px, it doesn't look any better with respect to tab alignment (but clearly worse with respect to icon alignment).  And on NT6+, where Segoe UI 9 is in use, it looks even worse.\n\nThe important thing is that the icon is properly aligned WRT the tab, and it is in the status quo.  And the layout algorithms ensure that the text in turn is aligned with the icon.  A blanket override of that alignment to fix a minor \"problem\" with one typeface just seems wrong (esp. if that is mostly a perceptive problem resulting from the specific shape and sizing of that typeface).", "creator": "kliu@code.kliu.org"}, {"bug_id": 640490, "text": "Comment on attachment 524803\npatch\n\n(In reply to comment #9)\n\nYou have valid points. Perhaps, this bug is actually invalid.\nStephen, what do you think?\nShould we move both the favicon and the text? Then, the favicon would no longer have equal horizontal and vertical padding from the tab border.\nAre we actually using the wrong typeface for our UI on XP or 7?", "attachment_id": 524803, "creation_time": "2011-04-09T09:31:45Z", "tags": [], "creator": "fryn@frankyan.com", "raw_text": "(In reply to comment #9)\n\nYou have valid points. Perhaps, this bug is actually invalid.\nStephen, what do you think?\nShould we move both the favicon and the text? Then, the favicon would no longer have equal horizontal and vertical padding from the tab border.\nAre we actually using the wrong typeface for our UI on XP or 7?", "id": 5398180, "is_private": false, "count": 10, "time": "2011-04-09T09:31:45Z", "author": "fryn@frankyan.com"}, {"id": 5398299, "is_private": false, "count": 11, "author": "kliu@code.kliu.org", "time": "2011-04-09T13:10:58Z", "bug_id": 640490, "text": "(In reply to comment #10)\n> Are we actually using the wrong typeface for our UI on XP or 7?\n\nThe typeface is correct, since we are (and always have been) using the system UI typeface and font size set in Windows' display preferences.  On XP, the default is Tahoma 8, but it can be changed fairly easily, so everyone uses it.\n\nIf the problem was systemic--where every typeface at every size looks like it's off by 1px--then a fix that bumps everything by 1px would make sense.  But the problem isn't systemic, and at the end of the day, it's also a fairly minor issue: something that is probably the result of how things are rounded when centering and/or how a particular typeface appears because of its shape or use of space.\n\nBTW, you can use the DOM Inspector to make changes to the CSS on a live install to try out various settings.", "attachment_id": null, "creation_time": "2011-04-09T13:10:58Z", "tags": [], "creator": "kliu@code.kliu.org", "raw_text": "(In reply to comment #10)\n> Are we actually using the wrong typeface for our UI on XP or 7?\n\nThe typeface is correct, since we are (and always have been) using the system UI typeface and font size set in Windows' display preferences.  On XP, the default is Tahoma 8, but it can be changed fairly easily, so everyone uses it.\n\nIf the problem was systemic--where every typeface at every size looks like it's off by 1px--then a fix that bumps everything by 1px would make sense.  But the problem isn't systemic, and at the end of the day, it's also a fairly minor issue: something that is probably the result of how things are rounded when centering and/or how a particular typeface appears because of its shape or use of space.\n\nBTW, you can use the DOM Inspector to make changes to the CSS on a live install to try out various settings."}, {"id": 5398374, "is_private": false, "author": "dao+bmo@mozilla.com", "bug_id": 640490, "attachment_id": 524803, "tags": [], "creation_time": "2011-04-09T15:33:29Z", "count": 12, "time": "2011-04-09T15:33:29Z", "text": "Comment on attachment 524803\npatch\n\nMoving the label will just make it wrongly aligned in the opposite direction. We'd want to move it by half a pixel (can't do) or subtract a pixel from the tab's top padding (can do).\n\nThe reason this was seen as XP-specific is probably the different line height we get with DirectWrite, so if bug 643781 got fixed, we would see this across the board.\n\nAlso, tab-text is the wrong class for this (tab-label would be right).", "creator": "dao+bmo@mozilla.com", "raw_text": "Moving the label will just make it wrongly aligned in the opposite direction. We'd want to move it by half a pixel (can't do) or subtract a pixel from the tab's top padding (can do).\n\nThe reason this was seen as XP-specific is probably the different line height we get with DirectWrite, so if bug 643781 got fixed, we would see this across the board.\n\nAlso, tab-text is the wrong class for this (tab-label would be right)."}, {"tags": [], "creation_time": "2011-04-09T15:45:24Z", "attachment_id": null, "bug_id": 640490, "is_private": false, "author": "dao+bmo@mozilla.com", "id": 5398390, "raw_text": "(In reply to comment #9)\n> The important thing is that the icon is properly aligned WRT the tab, and it is\n> in the status quo.\n\nIt doesn't look quite vertically centered in attachment 518308.", "creator": "dao+bmo@mozilla.com", "text": "(In reply to comment #9)\n> The important thing is that the icon is properly aligned WRT the tab, and it is\n> in the status quo.\n\nIt doesn't look quite vertically centered in attachment 518308.", "time": "2011-04-09T15:45:24Z", "count": 13}, {"raw_text": "(In reply to comment #11)\n> BTW, you can use the DOM Inspector to make changes to the CSS on a live install\n> to try out various settings.\n\nYes, I have been using this.\n\n(In reply to comment #12)\n> Comment on attachment 524803 [details]\n> patch\n> \n> Moving the label will just make it wrongly aligned in the opposite direction.\n> We'd want to move it by half a pixel (can't do) or subtract a pixel from the\n> tab's top padding (can do).\n> \n> The reason this was seen as XP-specific is probably the different line height\n> we get with DirectWrite, so if bug 643781 got fixed, we would see this across\n> the board.\n\nAh, that makes more sense. Will do.\n\n> Also, tab-text is the wrong class for this (tab-label would be right).\n\nThe difference is non-obvious from just looking at tabbrowser.xml, but after looking at tabbox.xml, I get it now.", "creator": "fryn@frankyan.com", "creation_time": "2011-04-09T18:49:17Z", "tags": [], "attachment_id": null, "text": "(In reply to comment #11)\n> BTW, you can use the DOM Inspector to make changes to the CSS on a live install\n> to try out various settings.\n\nYes, I have been using this.\n\n(In reply to comment #12)\n> Comment on attachment 524803 [details]\n> patch\n> \n> Moving the label will just make it wrongly aligned in the opposite direction.\n> We'd want to move it by half a pixel (can't do) or subtract a pixel from the\n> tab's top padding (can do).\n> \n> The reason this was seen as XP-specific is probably the different line height\n> we get with DirectWrite, so if bug 643781 got fixed, we would see this across\n> the board.\n\nAh, that makes more sense. Will do.\n\n> Also, tab-text is the wrong class for this (tab-label would be right).\n\nThe difference is non-obvious from just looking at tabbrowser.xml, but after looking at tabbox.xml, I get it now.", "bug_id": 640490, "time": "2011-04-09T18:49:17Z", "author": "fryn@frankyan.com", "count": 14, "is_private": false, "id": 5398516}, {"author": "fryn@frankyan.com", "is_private": false, "id": 5398643, "attachment_id": 524879, "tags": [], "creation_time": "2011-04-09T21:57:42Z", "bug_id": 640490, "count": 15, "time": "2011-04-09T21:57:42Z", "creator": "fryn@frankyan.com", "raw_text": "", "text": "Created attachment 524879\npatch v2"}, {"text": "Comment on attachment 524879\npatch v2\n\nThis causes misalignment when using DirectWrite, so I think we need to exclude Vista/7 for now. Please also add a reference to bug 643781.", "bug_id": 640490, "creator": "dao+bmo@mozilla.com", "raw_text": "This causes misalignment when using DirectWrite, so I think we need to exclude Vista/7 for now. Please also add a reference to bug 643781.", "attachment_id": 524879, "creation_time": "2011-04-11T15:02:43Z", "tags": [], "id": 5400359, "count": 16, "time": "2011-04-11T15:02:43Z", "author": "dao+bmo@mozilla.com", "is_private": false}, {"count": 17, "time": "2011-04-11T18:06:43Z", "creator": "fryn@frankyan.com", "raw_text": "Is this what you mean?", "text": "Created attachment 525103\npatch v3 (backed out)\n\nIs this what you mean?", "is_private": false, "author": "fryn@frankyan.com", "id": 5400941, "attachment_id": 525103, "creation_time": "2011-04-11T18:06:43Z", "tags": [], "bug_id": 640490}, {"is_private": false, "author": "dao+bmo@mozilla.com", "id": 5401045, "creation_time": "2011-04-11T18:38:06Z", "tags": [], "attachment_id": 525103, "bug_id": 640490, "time": "2011-04-11T18:38:06Z", "count": 18, "raw_text": "exactly", "creator": "dao+bmo@mozilla.com", "text": "Comment on attachment 525103\npatch v3 (backed out)\n\nexactly"}, {"bug_id": 640490, "text": "https://hg.mozilla.org/mozilla-central/rev/1bc84edab093", "creation_time": "2011-04-12T02:44:02Z", "tags": [], "attachment_id": null, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/1bc84edab093", "creator": "gavin.sharp@gmail.com", "id": 5402633, "is_private": false, "author": "gavin.sharp@gmail.com", "time": "2011-04-12T02:44:02Z", "count": 19}, {"attachment_id": null, "tags": [], "creation_time": "2011-04-12T09:49:57Z", "creator": "fryn@frankyan.com", "raw_text": "People on MozillaZine say that this broke tabs touching the edge of the screen when maximized on XP. http://forums.mozillazine.org/viewtopic.php?p=10678595\n\nAlice, can tabs still be selected while the mouse is at the top of the screen?", "bug_id": 640490, "text": "People on MozillaZine say that this broke tabs touching the edge of the screen when maximized on XP. http://forums.mozillazine.org/viewtopic.php?p=10678595\n\nAlice, can tabs still be selected while the mouse is at the top of the screen?", "is_private": false, "count": 20, "time": "2011-04-12T09:49:57Z", "author": "fryn@frankyan.com", "id": 5403239}, {"author": "fryn@frankyan.com", "is_private": false, "id": 5403241, "attachment_id": null, "creation_time": "2011-04-12T09:51:02Z", "tags": [], "bug_id": 640490, "count": 21, "time": "2011-04-12T09:51:02Z", "creator": "fryn@frankyan.com", "raw_text": "Gah, Firefox is overly aggressively caching my form fields again!", "text": "Gah, Firefox is overly aggressively caching my form fields again!"}, {"time": "2011-04-12T09:55:28Z", "count": 22, "text": "(In reply to comment #20)\n> People on MozillaZine say that this broke tabs touching the edge of the screen\n> when maximized on XP. http://forums.mozillazine.org/viewtopic.php?p=10678595\n> \n> Alice, can tabs still be selected while the mouse is at the top of the screen?\nSee http://forums.mozillazine.org/viewtopic.php?p=10678793#p10678793", "raw_text": "(In reply to comment #20)\n> People on MozillaZine say that this broke tabs touching the edge of the screen\n> when maximized on XP. http://forums.mozillazine.org/viewtopic.php?p=10678595\n> \n> Alice, can tabs still be selected while the mouse is at the top of the screen?\nSee http://forums.mozillazine.org/viewtopic.php?p=10678793#p10678793", "creator": "alice0775@gmail.com", "id": 5403245, "is_private": false, "author": "alice0775@gmail.com", "bug_id": 640490, "creation_time": "2011-04-12T09:55:28Z", "tags": [], "attachment_id": null}, {"bug_id": 640490, "attachment_id": null, "tags": [], "creation_time": "2011-04-12T10:07:20Z", "id": 5403261, "author": "fryn@frankyan.com", "is_private": false, "text": "(In reply to comment #22)\n\nI saw that. There is a difference between the visual appearance of \"touching\" and whether clicking the top of the screen selects a tab. I am asking to confirm whether clicking the top of the screen still selects a tab.", "creator": "fryn@frankyan.com", "raw_text": "(In reply to comment #22)\n\nI saw that. There is a difference between the visual appearance of \"touching\" and whether clicking the top of the screen selects a tab. I am asking to confirm whether clicking the top of the screen still selects a tab.", "count": 23, "time": "2011-04-12T10:07:20Z"}, {"id": 5403280, "author": "alice0775@gmail.com", "time": "2011-04-12T10:22:44Z", "count": 24, "is_private": false, "text": "(In reply to comment #23)\n> (In reply to comment #22)\n> \n> I saw that. There is a difference between the visual appearance of \"touching\"\n> and whether clicking the top of the screen selects a tab. I am asking to\n> confirm whether clicking the top of the screen still selects a tab.\n\nclicking at the top of the screen(mouse pointer touch edge)\n1. I cannot select tab (normal and pinned tab)\n2. I cannot Open NewTab(not overflowed / overflowed state)\n3. I cannot scroll tabScrip(left/right side)\n4. I cannot open List All Tabs\n\n5. I can still open Firefox button\n6. I can still click Minimize/Restore/Close buttons\n\n7. Double clicking at the top of tab etc  make browser normal mode", "bug_id": 640490, "raw_text": "(In reply to comment #23)\n> (In reply to comment #22)\n> \n> I saw that. There is a difference between the visual appearance of \"touching\"\n> and whether clicking the top of the screen selects a tab. I am asking to\n> confirm whether clicking the top of the screen still selects a tab.\n\nclicking at the top of the screen(mouse pointer touch edge)\n1. I cannot select tab (normal and pinned tab)\n2. I cannot Open NewTab(not overflowed / overflowed state)\n3. I cannot scroll tabScrip(left/right side)\n4. I cannot open List All Tabs\n\n5. I can still open Firefox button\n6. I can still click Minimize/Restore/Close buttons\n\n7. Double clicking at the top of tab etc  make browser normal mode", "creator": "alice0775@gmail.com", "creation_time": "2011-04-12T10:22:44Z", "tags": [], "attachment_id": null}, {"time": "2011-04-12T10:31:57Z", "count": 25, "text": "(In reply to comment #24)\n\nOkay. I'll get this backed out then.", "raw_text": "(In reply to comment #24)\n\nOkay. I'll get this backed out then.", "creator": "fryn@frankyan.com", "id": 5403298, "author": "fryn@frankyan.com", "is_private": false, "bug_id": 640490, "creation_time": "2011-04-12T10:31:57Z", "tags": [], "attachment_id": null}, {"raw_text": "(In reply to comment #24)\n\nAnd thank you.", "creator": "fryn@frankyan.com", "creation_time": "2011-04-12T10:32:17Z", "tags": [], "attachment_id": null, "text": "(In reply to comment #24)\n\nAnd thank you.", "bug_id": 640490, "author": "fryn@frankyan.com", "time": "2011-04-12T10:32:17Z", "count": 26, "is_private": false, "id": 5403301}, {"creator": "fryn@frankyan.com", "raw_text": "Backed out due to XP regression as noted by MozillaZine users and described in comment 24.\n\nhttp://hg.mozilla.org/mozilla-central/rev/a803f8a460be", "attachment_id": null, "tags": [], "creation_time": "2011-04-12T11:31:28Z", "text": "Backed out due to XP regression as noted by MozillaZine users and described in comment 24.\n\nhttp://hg.mozilla.org/mozilla-central/rev/a803f8a460be", "bug_id": 640490, "count": 27, "time": "2011-04-12T11:31:28Z", "author": "fryn@frankyan.com", "is_private": false, "id": 5403357}, {"time": "2011-04-12T19:22:33Z", "author": "fryn@frankyan.com", "count": 28, "is_private": false, "id": 5404497, "raw_text": "While I may take another look at this bug before Firefox 6, feel free to take it. Patches are welcome. :)", "creator": "fryn@frankyan.com", "tags": [], "creation_time": "2011-04-12T19:22:33Z", "attachment_id": null, "text": "While I may take another look at this bug before Firefox 6, feel free to take it. Patches are welcome. :)", "bug_id": 640490}]}}, "comments": {}}