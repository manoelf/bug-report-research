{"bugs": {"646805": {"comments": [{"id": 5382996, "is_private": false, "time": "2011-03-31T12:41:33Z", "author": "michel.gutierrez@gmail.com", "count": 0, "bug_id": 646805, "text": "User-Agent:       Mozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0) Gecko/20100101 Firefox/4.0\n\nIt is common when developing an extension, to replace some files and directories in the <profile>/extensions/<extension-id> directory with symbolic links pointing to the development files. This prevents having to recreate and reinstall the xpi for each change.\n\nIf Firefox has to remove the extension files (like if the user requests the addon uninstall), it follows the symbolic links and also deletes the original files in the development tree.\n\nI don't see a good reason why following the symbolic links in those case and the results are of course disastrous.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. installs an unpacked extension\n2. replace a directory like 'components' with a symbolic link to another directory containing the same files\n3. uninstall the extension\nActual Results:  \nnot only the symbolic link is removed (which is normal), but also the files within the directory the link points to.\n\nExpected Results:  \nthe system should only remove the symbolic link without recursing into it.", "creation_time": "2011-03-31T12:41:33Z", "tags": [], "attachment_id": null, "raw_text": "User-Agent:       Mozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0) Gecko/20100101 Firefox/4.0\n\nIt is common when developing an extension, to replace some files and directories in the <profile>/extensions/<extension-id> directory with symbolic links pointing to the development files. This prevents having to recreate and reinstall the xpi for each change.\n\nIf Firefox has to remove the extension files (like if the user requests the addon uninstall), it follows the symbolic links and also deletes the original files in the development tree.\n\nI don't see a good reason why following the symbolic links in those case and the results are of course disastrous.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. installs an unpacked extension\n2. replace a directory like 'components' with a symbolic link to another directory containing the same files\n3. uninstall the extension\nActual Results:  \nnot only the symbolic link is removed (which is normal), but also the files within the directory the link points to.\n\nExpected Results:  \nthe system should only remove the symbolic link without recursing into it.", "creator": "michel.gutierrez@gmail.com"}, {"text": "Reproduced with:\nMozilla/5.0 (X11; Linux x86_64; rv:2.2a1pre) Gecko/20110401 Firefox/4.2a1pre\nand\nMozilla/5.0 (X11; Linux i686 on x86_64; rv:2.2a1pre) Gecko/20110401 Firefox/4.2a1pre\n\nNote: I used https://addons.mozilla.org/en-US/firefox/addon/svensk-ordlista/ and moved the dictionaries sub directory away and made a symbolic link. After removal I lost the files in the linked directory, but not the directory itself.", "bug_id": 646805, "raw_text": "Reproduced with:\nMozilla/5.0 (X11; Linux x86_64; rv:2.2a1pre) Gecko/20110401 Firefox/4.2a1pre\nand\nMozilla/5.0 (X11; Linux i686 on x86_64; rv:2.2a1pre) Gecko/20110401 Firefox/4.2a1pre\n\nNote: I used https://addons.mozilla.org/en-US/firefox/addon/svensk-ordlista/ and moved the dictionaries sub directory away and made a symbolic link. After removal I lost the files in the linked directory, but not the directory itself.", "creator": "mozilla@ahlblom.eu", "creation_time": "2011-04-01T17:46:42Z", "tags": [], "attachment_id": null, "id": 5386652, "time": "2011-04-01T17:46:42Z", "author": "mozilla@ahlblom.eu", "count": 1, "is_private": false}]}}, "comments": {}}