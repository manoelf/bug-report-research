{"bugs": {"1634115": {"comments": [{"tags": [], "creator": "agashlin+bz@gmail.com", "time": "2020-04-29T17:20:02Z", "raw_text": "In order to tell if the profile refresh function in the uninstaller is being used, we need to report that in telemetry.\n\nI don't think there is currently any probe to explicitly indicate profile reset/refresh from within Firefox, but here are some references:\n\n* It is reported [in the stub installer ping](https://searchfox.org/mozilla-central/rev/7fd1c1c34923ece7ad8c822bee062dd0491d64dc/browser/installer/windows/nsis/stub.nsi#1198).\n* There is a probe, [FX_MIGRATION_ENTRY_POINT](https://probes.telemetry.mozilla.org/?search=refresh&view=detail&probeId=histogram%2FFX_MIGRATION_ENTRY_POINT), that seems relevant when it is 2 = refresh-firefox.\n* [FX_MIGRATION_SOURCE_BROWSER](https://probes.telemetry.mozilla.org/?search=migration&view=detail&probeId=histogram%2FFX_MIGRATION_SOURCE_BROWSER) could also be a clue, as it will report [2 for Firefox](https://searchfox.org/mozilla-central/rev/7fd1c1c34923ece7ad8c822bee062dd0491d64dc/browser/components/migration/MigrationUtils.jsm#1321).\n\nSomething in the vicinity of FX_MIGRATION_ENTRY_POINT is probably the best bet, though I don't know if modifying the existing probe is appropriate.", "count": 0, "creation_time": "2020-04-29T17:20:02Z", "is_private": false, "bug_id": 1634115, "author": "agashlin+bz@gmail.com", "id": 14786688, "attachment_id": null, "text": "In order to tell if the profile refresh function in the uninstaller is being used, we need to report that in telemetry.\n\nI don't think there is currently any probe to explicitly indicate profile reset/refresh from within Firefox, but here are some references:\n\n* It is reported [in the stub installer ping](https://searchfox.org/mozilla-central/rev/7fd1c1c34923ece7ad8c822bee062dd0491d64dc/browser/installer/windows/nsis/stub.nsi#1198).\n* There is a probe, [FX_MIGRATION_ENTRY_POINT](https://probes.telemetry.mozilla.org/?search=refresh&view=detail&probeId=histogram%2FFX_MIGRATION_ENTRY_POINT), that seems relevant when it is 2 = refresh-firefox.\n* [FX_MIGRATION_SOURCE_BROWSER](https://probes.telemetry.mozilla.org/?search=migration&view=detail&probeId=histogram%2FFX_MIGRATION_SOURCE_BROWSER) could also be a clue, as it will report [2 for Firefox](https://searchfox.org/mozilla-central/rev/7fd1c1c34923ece7ad8c822bee062dd0491d64dc/browser/components/migration/MigrationUtils.jsm#1321).\n\nSomething in the vicinity of FX_MIGRATION_ENTRY_POINT is probably the best bet, though I don't know if modifying the existing probe is appropriate."}, {"bug_id": 1634115, "is_private": false, "attachment_id": 9150604, "id": 14834675, "author": "agashlin+bz@gmail.com", "text": "Created attachment 9150604\nBug 1634115 - Send telemetry when refresh is requested from uninstaller. r?MattN!,mhowell!,chutten!", "tags": [], "time": "2020-05-20T21:44:00Z", "creator": "agashlin+bz@gmail.com", "raw_text": "", "creation_time": "2020-05-20T21:44:00Z", "count": 1}, {"creation_time": "2020-05-20T22:33:35Z", "text": "Created attachment 9150623\n1634115 data collection review request.txt", "count": 2, "raw_text": "", "attachment_id": 9150623, "id": 14834742, "author": "agashlin+bz@gmail.com", "time": "2020-05-20T22:33:35Z", "creator": "agashlin+bz@gmail.com", "tags": [], "is_private": false, "bug_id": 1634115}, {"creator": "chutten@mozilla.com", "time": "2020-05-22T17:23:37Z", "tags": [], "is_private": false, "bug_id": 1634115, "creation_time": "2020-05-22T17:23:37Z", "text": "Comment on attachment 9150623\n1634115 data collection review request.txt\n\nDATA COLLECTION REVIEW RESPONSE:\n\n    Is there or will there be documentation that describes the schema for the ultimate data set available publicly, complete and accurate?\n\nYes. This collection is Telemetry so is documented in its definitions file [Scalars.yaml](https://hg.mozilla.org/mozilla-central/file/tip/toolkit/components/telemetry/Scalars.yaml) and the [Probe Dictionary](https://telemetry.mozilla.org/probe-dictionary/).\n\n    Is there a control mechanism that allows the user to turn the data collection on and off?\n\nYes. This collection is Telemetry so can be controlled through Firefox's Preferences.\n\n    If the request is for permanent data collection, is there someone who will monitor the data over time?\n\nNo. This collection will expire in Firefox 85.\n\n    Using the category system of data types on the Mozilla wiki, what collection type of data do the requested measurements fall under?\n\nCategory 2, Interaction.\n\n    Is the data collection request for default-on or default-off?\n\nDefault on for all channels.\n\n    Does the instrumentation include the addition of any new identifiers?\n\nNo.\n\n    Is the data collection covered by the existing Firefox privacy notice?\n\nYes.\n\n    Does there need to be a check-in in the future to determine whether to renew the data?\n\nYes. :agashlin is responsible for renewing or removing the collection before it expires in Firefox 85.\n\n---\nResult: datareview+", "count": 3, "raw_text": "DATA COLLECTION REVIEW RESPONSE:\n\n    Is there or will there be documentation that describes the schema for the ultimate data set available publicly, complete and accurate?\n\nYes. This collection is Telemetry so is documented in its definitions file [Scalars.yaml](https://hg.mozilla.org/mozilla-central/file/tip/toolkit/components/telemetry/Scalars.yaml) and the [Probe Dictionary](https://telemetry.mozilla.org/probe-dictionary/).\n\n    Is there a control mechanism that allows the user to turn the data collection on and off?\n\nYes. This collection is Telemetry so can be controlled through Firefox's Preferences.\n\n    If the request is for permanent data collection, is there someone who will monitor the data over time?\n\nNo. This collection will expire in Firefox 85.\n\n    Using the category system of data types on the Mozilla wiki, what collection type of data do the requested measurements fall under?\n\nCategory 2, Interaction.\n\n    Is the data collection request for default-on or default-off?\n\nDefault on for all channels.\n\n    Does the instrumentation include the addition of any new identifiers?\n\nNo.\n\n    Is the data collection covered by the existing Firefox privacy notice?\n\nYes.\n\n    Does there need to be a check-in in the future to determine whether to renew the data?\n\nYes. :agashlin is responsible for renewing or removing the collection before it expires in Firefox 85.\n\n---\nResult: datareview+", "attachment_id": 9150623, "id": 14837881, "author": "chutten@mozilla.com"}, {"time": "2020-05-26T23:25:21Z", "creator": "pulsebot@bots.tld", "tags": [], "count": 4, "creation_time": "2020-05-26T23:25:21Z", "raw_text": "Pushed by agashlin@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0eb2e1048e0e\nSend telemetry when refresh is requested from uninstaller. r=MattN,mhowell,chutten", "is_private": false, "bug_id": 1634115, "text": "Pushed by agashlin@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0eb2e1048e0e\nSend telemetry when refresh is requested from uninstaller. r=MattN,mhowell,chutten", "id": 14845312, "author": "pulsebot@bots.tld", "attachment_id": null}, {"is_private": false, "bug_id": 1634115, "text": "https://hg.mozilla.org/mozilla-central/rev/0eb2e1048e0e", "attachment_id": null, "author": "btara@mozilla.com", "id": 14845559, "creator": "btara@mozilla.com", "time": "2020-05-27T03:55:16Z", "tags": ["bugherder"], "creation_time": "2020-05-27T03:55:16Z", "count": 5, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/0eb2e1048e0e"}, {"creator": "agashlin+bz@gmail.com", "time": "2020-06-01T16:35:57Z", "tags": [], "creation_time": "2020-06-01T16:35:57Z", "count": 6, "raw_text": "This added the scalar [migration.uninstaller_profile_refresh](https://probes.telemetry.mozilla.org/?view=detail&probeId=scalar/migration.uninstaller_profile_refresh).", "bug_id": 1634115, "is_private": false, "text": "This added the scalar [migration.uninstaller_profile_refresh](https://probes.telemetry.mozilla.org/?view=detail&probeId=scalar/migration.uninstaller_profile_refresh).", "attachment_id": null, "id": 14856213, "author": "agashlin+bz@gmail.com"}]}}, "comments": {}}