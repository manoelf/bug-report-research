{"bugs": {"712124": {"comments": [{"id": 5927884, "count": 0, "is_private": false, "tags": [], "bug_id": 712124, "raw_text": "enter_bug.cgi should call Bugzilla::Product::preload similar to how it is called already in other places to allow preloading of attributes such as components, versions, milestones and flags. Flags particularly as create.html.tmpl calls component.flag_types for each component in product.components. This causes a call to Bugzilla::FlagType::match for every component. product.flag_types will preload all of it's components flag types, but product.flag_types is not called til later in the template. Calling Bugzilla::Product::preload in enter_bug.cgi will call product.flag_types before the template is loaded which will save each of the individual calls to Bugzilla::FlagType::match in component.flag_types.\n\nPatch coming.\ndkl", "creation_time": "2011-12-19T21:43:30Z", "attachment_id": null, "time": "2011-12-19T21:43:30Z", "text": "enter_bug.cgi should call Bugzilla::Product::preload similar to how it is called already in other places to allow preloading of attributes such as components, versions, milestones and flags. Flags particularly as create.html.tmpl calls component.flag_types for each component in product.components. This causes a call to Bugzilla::FlagType::match for every component. product.flag_types will preload all of it's components flag types, but product.flag_types is not called til later in the template. Calling Bugzilla::Product::preload in enter_bug.cgi will call product.flag_types before the template is loaded which will save each of the individual calls to Bugzilla::FlagType::match in component.flag_types.\n\nPatch coming.\ndkl", "author": "dkl@mozilla.com", "creator": "dkl@mozilla.com"}, {"bug_id": 712124, "id": 5927891, "count": 1, "is_private": false, "tags": [], "time": "2011-12-19T21:44:51Z", "attachment_id": 582943, "text": "Created attachment 582943\nPatch to add Bugzilal::Product::preload to enter_bug.cgi (v1)", "creation_time": "2011-12-19T21:44:51Z", "raw_text": "", "author": "dkl@mozilla.com", "creator": "dkl@mozilla.com"}, {"creator": "dkl@mozilla.com", "author": "dkl@mozilla.com", "creation_time": "2011-12-27T21:08:07Z", "raw_text": "Need to rework this as it has turned up an issue on BMO with version sorting on enter_bug.cgi. preload() causes the values to be sorted differently than if the accessors for each attribute were called separately.\n\ndkl", "text": "Comment on attachment 582943\nPatch to add Bugzilal::Product::preload to enter_bug.cgi (v1)\n\nNeed to rework this as it has turned up an issue on BMO with version sorting on enter_bug.cgi. preload() causes the values to be sorted differently than if the accessors for each attribute were called separately.\n\ndkl", "attachment_id": 582943, "time": "2011-12-27T21:08:07Z", "count": 2, "is_private": false, "tags": [], "id": 5941550, "bug_id": 712124}]}}, "comments": {}}