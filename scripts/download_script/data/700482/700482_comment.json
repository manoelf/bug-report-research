{"bugs": {"700482": {"comments": [{"is_private": false, "count": 0, "id": 5832577, "author": "justdave@bugzilla.org", "creator": "justdave@bugzilla.org", "time": "2011-11-07T23:49:25Z", "creation_time": "2011-11-07T23:49:25Z", "raw_text": "I can't find an appropriate permission in bounceradmin to grant someone access to edit mirrors.  Does such a thing exist, and can we get it added if not?\n\nThis is a high priority item, we need this in place to set up volunteer mirror admins which mrz's been advertising about already.  We were thinking bounceradmin had this already, and went to set it up and couldn't find it.", "attachment_id": null, "bug_id": 700482, "text": "I can't find an appropriate permission in bounceradmin to grant someone access to edit mirrors.  Does such a thing exist, and can we get it added if not?\n\nThis is a high priority item, we need this in place to set up volunteer mirror admins which mrz's been advertising about already.  We were thinking bounceradmin had this already, and went to set it up and couldn't find it.", "tags": []}, {"time": "2011-11-07T23:58:45Z", "creation_time": "2011-11-07T23:58:45Z", "creator": "bugmail@wenzel.io", "author": "bugmail@wenzel.io", "id": 5832600, "count": 1, "is_private": false, "tags": [], "text": "Anthony is at Velocity Conf and Mozcamp this week, but assigning it to him so it's on his radar.", "bug_id": 700482, "attachment_id": null, "raw_text": "Anthony is at Velocity Conf and Mozcamp this week, but assigning it to him so it's on his radar."}, {"text": "Poking around a little bit: When solving this, keep in mind that currently the write API is restricted to \"staff only\", while \"staff\" is the fancy word for \"everyone who can see the admin panel\". So the API permissions need to be fixed in the same process.\n\nDocs are here: https://docs.djangoproject.com/en/1.2/topics/auth/#permissions", "bug_id": 700482, "tags": [], "attachment_id": null, "raw_text": "Poking around a little bit: When solving this, keep in mind that currently the write API is restricted to \"staff only\", while \"staff\" is the fancy word for \"everyone who can see the admin panel\". So the API permissions need to be fixed in the same process.\n\nDocs are here: https://docs.djangoproject.com/en/1.2/topics/auth/#permissions", "time": "2011-11-08T23:06:56Z", "creation_time": "2011-11-08T23:06:56Z", "creator": "bugmail@wenzel.io", "author": "bugmail@wenzel.io", "id": 5835539, "count": 2, "is_private": false}, {"id": 5881341, "count": 3, "is_private": false, "creation_time": "2011-11-30T06:31:27Z", "time": "2011-11-30T06:31:27Z", "creator": "mzeier@gmail.com", "author": "mzeier@gmail.com", "attachment_id": null, "raw_text": "Hey guys, can I get an idea of an ETA here?  I have a list of mirror volunteers and now with the sysadmin agreement, all are asking \"how do I get started!?\"\n\nLooking for something so I can set my expectations.", "tags": [], "bug_id": 700482, "text": "Hey guys, can I get an idea of an ETA here?  I have a list of mirror volunteers and now with the sysadmin agreement, all are asking \"how do I get started!?\"\n\nLooking for something so I can set my expectations."}, {"raw_text": "Anthony is looking forward to working on this but still has a few bugs to tie up on his current project before he can get started here. I expect it to be another weekish before he can have a serious look at this. Thanks for bearing with us!", "attachment_id": null, "bug_id": 700482, "text": "Anthony is looking forward to working on this but still has a few bugs to tie up on his current project before he can get started here. I expect it to be another weekish before he can have a serious look at this. Thanks for bearing with us!", "tags": [], "id": 5882647, "count": 4, "is_private": false, "author": "bugmail@wenzel.io", "creation_time": "2011-11-30T17:55:55Z", "time": "2011-11-30T17:55:55Z", "creator": "bugmail@wenzel.io"}, {"count": 5, "id": 6024795, "is_private": false, "author": "morgamic@gmail.com", "creation_time": "2012-02-01T04:40:24Z", "time": "2012-02-01T04:40:24Z", "creator": "morgamic@gmail.com", "raw_text": "Anthony - can you give an update on progress here?  Thanks.", "attachment_id": null, "tags": [], "bug_id": 700482, "text": "Anthony - can you give an update on progress here?  Thanks."}, {"id": 6026092, "count": 6, "is_private": false, "time": "2012-02-01T18:10:44Z", "creation_time": "2012-02-01T18:10:44Z", "creator": "bugmail@wenzel.io", "author": "bugmail@wenzel.io", "attachment_id": null, "raw_text": "Sorry, we had higher-priority projects that took precedence so far, so we didn't get to this. That said, Anthony should have time to look into this again.\n\nLike I said in comment 2, we *do* need to separate API access from \"is staff\" so that not everyone who can log in has full API rights. Volunteers could then be \"staff\" and we could try and use Django's built-in rights management to limit access to certain mirrors only, probably by making a new group \"volunteers\" that just has those rights.\n\nAnthony, can you investigate what needs to be done here, and give a time estimate when how long that would take you? Thanks!", "text": "Sorry, we had higher-priority projects that took precedence so far, so we didn't get to this. That said, Anthony should have time to look into this again.\n\nLike I said in comment 2, we *do* need to separate API access from \"is staff\" so that not everyone who can log in has full API rights. Volunteers could then be \"staff\" and we could try and use Django's built-in rights management to limit access to certain mirrors only, probably by making a new group \"volunteers\" that just has those rights.\n\nAnthony, can you investigate what needs to be done here, and give a time estimate when how long that would take you? Thanks!", "bug_id": 700482, "tags": []}, {"creator": "anthony@ricaud.me", "time": "2012-02-02T17:12:39Z", "creation_time": "2012-02-02T17:12:39Z", "author": "anthony@ricaud.me", "is_private": false, "id": 6029320, "count": 7, "bug_id": 700482, "text": "Django admin might provide a simple way to do that. That depends on the exact needs you have.\nDave: Could you elaborate a bit on the exact use-case behind \"editing mirrors\"?\n\nDjango admin allows to give a user permission to add, change or delete mirrors. There's no sense of ownership though: users with delete permission can delete all mirrors.\n\nWould you like them to be able to edit Locations, OS and/or Products too?", "tags": [], "attachment_id": null, "raw_text": "Django admin might provide a simple way to do that. That depends on the exact needs you have.\nDave: Could you elaborate a bit on the exact use-case behind \"editing mirrors\"?\n\nDjango admin allows to give a user permission to add, change or delete mirrors. There's no sense of ownership though: users with delete permission can delete all mirrors.\n\nWould you like them to be able to edit Locations, OS and/or Products too?"}, {"is_private": false, "id": 6045959, "count": 8, "creator": "justdave@bugzilla.org", "creation_time": "2012-02-09T01:02:43Z", "time": "2012-02-09T01:02:43Z", "author": "justdave@bugzilla.org", "attachment_id": null, "raw_text": "As long as we're going that tack, we do have a use case for Locations/OS/Products, but it's not for this.  If it can be implemented similarly then it would still be useful.\n\nThe people we would be using as volunteer admins would need read/write access to:\nGeoIP > Countries\nGeoIP > IP Blocks\nGeoIP > Regions\nMirror > Mirrors\n\nIt would also be useful if they could create new users, but NOT be able to grant those users any special privileges (because this is how we enter the mirror contacts).  Editing users would probably be good, too, as long as they can't edit users who have been granted privileges.  Basically, just be able to edit name, email address, mailing address and IRC nick on users who aren't staff.\n\nThe separate use case for Products/OS/Location would allow us to grant, for example, people from the SeaMonkey project access to do their own data entry for new downloads without allowing them to screw with other stuff.  This is already covered on bug 546264.", "tags": [], "text": "As long as we're going that tack, we do have a use case for Locations/OS/Products, but it's not for this.  If it can be implemented similarly then it would still be useful.\n\nThe people we would be using as volunteer admins would need read/write access to:\nGeoIP > Countries\nGeoIP > IP Blocks\nGeoIP > Regions\nMirror > Mirrors\n\nIt would also be useful if they could create new users, but NOT be able to grant those users any special privileges (because this is how we enter the mirror contacts).  Editing users would probably be good, too, as long as they can't edit users who have been granted privileges.  Basically, just be able to edit name, email address, mailing address and IRC nick on users who aren't staff.\n\nThe separate use case for Products/OS/Location would allow us to grant, for example, people from the SeaMonkey project access to do their own data entry for new downloads without allowing them to screw with other stuff.  This is already covered on bug 546264.", "bug_id": 700482}, {"raw_text": "I've got the code mostly done for the first use case.\n\nI think we shouldn't let people manually edit IP Blocks. This table is erased every month on the 10th for GeoIP updates so people should file bugs to add exceptions in there.\n\nFor the creating/editing of users, I'll do some testing to see if django permissions allow what you're asking. If it doesn't, we'll open a new bug to track this.", "attachment_id": null, "tags": [], "text": "I've got the code mostly done for the first use case.\n\nI think we shouldn't let people manually edit IP Blocks. This table is erased every month on the 10th for GeoIP updates so people should file bugs to add exceptions in there.\n\nFor the creating/editing of users, I'll do some testing to see if django permissions allow what you're asking. If it doesn't, we'll open a new bug to track this.", "bug_id": 700482, "is_private": false, "count": 9, "id": 6087011, "author": "anthony@ricaud.me", "creator": "anthony@ricaud.me", "creation_time": "2012-02-23T17:53:12Z", "time": "2012-02-23T17:53:12Z"}, {"attachment_id": null, "raw_text": "I've opened bug 730321 to track the creation/edition of users.", "tags": [], "bug_id": 700482, "text": "I've opened bug 730321 to track the creation/edition of users.", "count": 10, "id": 6090368, "is_private": false, "creation_time": "2012-02-24T16:46:56Z", "time": "2012-02-24T16:46:56Z", "creator": "anthony@ricaud.me", "author": "anthony@ricaud.me"}, {"attachment_id": null, "raw_text": "This landed with https://github.com/fwenzel/tuxedo/pull/7", "bug_id": 700482, "text": "This landed with https://github.com/fwenzel/tuxedo/pull/7", "tags": [], "count": 11, "id": 6178288, "is_private": false, "creation_time": "2012-03-28T15:03:34Z", "time": "2012-03-28T15:03:34Z", "creator": "anthony@ricaud.me", "author": "anthony@ricaud.me"}, {"raw_text": "So this is deployed to stage. You can test through https://tuxedo.stage.mozilla.com. If you need an account, send me an email. We need to test that you can add volunteer admins and that they have the right set of permissions.\n\nAfter this is tested, we'll push this to production.", "attachment_id": null, "tags": [], "text": "So this is deployed to stage. You can test through https://tuxedo.stage.mozilla.com. If you need an account, send me an email. We need to test that you can add volunteer admins and that they have the right set of permissions.\n\nAfter this is tested, we'll push this to production.", "bug_id": 700482, "id": 6192955, "count": 12, "is_private": false, "author": "anthony@ricaud.me", "creation_time": "2012-04-03T13:03:00Z", "time": "2012-04-03T13:03:00Z", "creator": "anthony@ricaud.me"}, {"author": "laura@mozilla.com", "time": "2012-04-25T19:45:59Z", "creation_time": "2012-04-25T19:45:59Z", "creator": "laura@mozilla.com", "id": 6254090, "count": 13, "is_private": false, "tags": [], "text": "Who needs to test this?  Brandon and I can drive this to prod, but I'm not sure what the blocker is.", "bug_id": 700482, "raw_text": "Who needs to test this?  Brandon and I can drive this to prod, but I'm not sure what the blocker is.", "attachment_id": null}, {"bug_id": 700482, "text": "I don't think this is needed any more...", "tags": [], "attachment_id": null, "raw_text": "I don't think this is needed any more...", "creator": "thereallove@gmail.com", "creation_time": "2012-10-03T17:24:31Z", "time": "2012-10-03T17:24:31Z", "author": "thereallove@gmail.com", "is_private": false, "id": 6693868, "count": 14}, {"tags": [], "bug_id": 700482, "text": "I'm pretty sure we don't need this anymore. The only mirrors we use nowadays are Mozilla-controlled ones (I'm slowly disabling all the community mirrors, since we've moved to CDN for product delivery), so there's nobody other than staff that would have a mirror to control in the first place.", "raw_text": "I'm pretty sure we don't need this anymore. The only mirrors we use nowadays are Mozilla-controlled ones (I'm slowly disabling all the community mirrors, since we've moved to CDN for product delivery), so there's nobody other than staff that would have a mirror to control in the first place.", "attachment_id": null, "author": "nmaul@mozilla.com", "creator": "nmaul@mozilla.com", "time": "2012-10-03T19:05:51Z", "creation_time": "2012-10-03T19:05:51Z", "is_private": false, "id": 6694270, "count": 15}, {"attachment_id": null, "raw_text": "I'm happy to wontfix this then.", "tags": [], "bug_id": 700482, "text": "I'm happy to wontfix this then.", "is_private": false, "id": 6694328, "count": 16, "creator": "brandon+bugzilla@brandonsavage.net", "creation_time": "2012-10-03T19:19:36Z", "time": "2012-10-03T19:19:36Z", "author": "brandon+bugzilla@brandonsavage.net"}, {"tags": [], "bug_id": 700482, "text": "Per #c15 W/Fing this", "raw_text": "Per #c15 W/Fing this", "attachment_id": null, "author": "bhourigan@mozilla.com", "creator": "bhourigan@mozilla.com", "creation_time": "2012-10-03T20:24:29Z", "time": "2012-10-03T20:24:29Z", "is_private": false, "count": 17, "id": 6694574}, {"attachment_id": null, "raw_text": "As this was WONTFIX'd, Web QA didn't touch this as part of our verification chain for Bouncer 2.0.\n\nVerified WONTFIX, per the above comments.", "tags": [], "bug_id": 700482, "text": "As this was WONTFIX'd, Web QA didn't touch this as part of our verification chain for Bouncer 2.0.\n\nVerified WONTFIX, per the above comments.", "id": 6717929, "count": 18, "is_private": false, "time": "2012-10-11T02:10:43Z", "creation_time": "2012-10-11T02:10:43Z", "creator": "stephen.donner@gmail.com", "author": "stephen.donner@gmail.com"}, {"is_private": false, "attachment_id": null, "id": 8718125, "count": 19, "raw_text": "So I've been working on fixing up bouncer's unit tests, and this change broke some of them which I am getting close to finishing. However, I notice that the bug was WONTFIX'd while it appears to have actually landed in comment 11 - which is it? :)\n\nWas there some part of this bug that did not land?", "creator": "rhelmer@mozilla.com", "creation_time": "2014-04-27T23:25:01Z", "time": "2014-04-27T23:25:01Z", "author": "rhelmer@mozilla.com", "tags": [], "text": "So I've been working on fixing up bouncer's unit tests, and this change broke some of them which I am getting close to finishing. However, I notice that the bug was WONTFIX'd while it appears to have actually landed in comment 11 - which is it? :)\n\nWas there some part of this bug that did not land?", "bug_id": 700482}, {"attachment_id": null, "raw_text": "It seems it has landed: https://github.com/mozilla/tuxedo/commit/e7474f4cefc92562528808272e8e14eeebaa31f2.", "text": "It seems it has landed: https://github.com/mozilla/tuxedo/commit/e7474f4cefc92562528808272e8e14eeebaa31f2.", "bug_id": 700482, "tags": [], "id": 8718725, "count": 20, "is_private": false, "time": "2014-04-28T05:16:34Z", "creation_time": "2014-04-28T05:16:34Z", "creator": "anthony@ricaud.me", "author": "anthony@ricaud.me"}, {"time": "2014-04-28T19:30:21Z", "creation_time": "2014-04-28T19:30:21Z", "creator": "rhelmer@mozilla.com", "author": "rhelmer@mozilla.com", "count": 21, "id": 8722053, "is_private": false, "tags": [], "text": "(In reply to Anthony Ricaud (:rik) from comment #20)\n> It seems it has landed:\n> https://github.com/mozilla/tuxedo/commit/\n> e7474f4cefc92562528808272e8e14eeebaa31f2.\n\nThanks! So the migration has already been run and we've been operating this way for quite a while - it looks like in addition to \"staff\" there is a group which includes all permissions, and it appears that all users are part of this group.\n\nShould we back this out or just continue forward? I investigated backing out and I think undoing the migration is the only tricky bit (there's an easily-resolved conflict in the code but that's it). However I feel more inclined to keep it at this point since it is not getting in the way and the risk of keeping it feels lower than backing out at this point.", "bug_id": 700482, "attachment_id": null, "raw_text": "(In reply to Anthony Ricaud (:rik) from comment #20)\n> It seems it has landed:\n> https://github.com/mozilla/tuxedo/commit/\n> e7474f4cefc92562528808272e8e14eeebaa31f2.\n\nThanks! So the migration has already been run and we've been operating this way for quite a while - it looks like in addition to \"staff\" there is a group which includes all permissions, and it appears that all users are part of this group.\n\nShould we back this out or just continue forward? I investigated backing out and I think undoing the migration is the only tricky bit (there's an easily-resolved conflict in the code but that's it). However I feel more inclined to keep it at this point since it is not getting in the way and the risk of keeping it feels lower than backing out at this point."}, {"count": 22, "id": 14760129, "is_private": false, "time": "2020-04-16T22:12:07Z", "creation_time": "2020-04-16T22:12:07Z", "creator": "stephen.donner@gmail.com", "author": "stephen.donner@gmail.com", "attachment_id": null, "raw_text": "Mass-removing myself from cc; search for 12b9dfe4-ece3-40dc-8d23-60e179f64ac1 or any reasonable part thereof, to mass-delete these notifications (and sorry!)", "text": "Mass-removing myself from cc; search for 12b9dfe4-ece3-40dc-8d23-60e179f64ac1 or any reasonable part thereof, to mass-delete these notifications (and sorry!)", "bug_id": 700482, "tags": []}]}}, "comments": {}}