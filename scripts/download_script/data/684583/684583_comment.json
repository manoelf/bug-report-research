{"bugs": {"684583": {"comments": [{"id": 5699138, "bug_id": 684583, "count": 0, "text": "Created attachment 558142\ntest page\n\nConsider the following page (also attached here as a test case):\n\n<script>\nvar a = 1;\n</script>\n\n\nWhen I open it in a just started 32-bit browser built on Linux, then open about:memory and press Minimize Memory usage there couple of times I have:\n\n65,536 B (00.20%) -- gc-heap\n\u2502  \u2502      \u2502  \u251c\u2500\u250036,496 B (00.11%) -- arena-unused\n\u2502  \u2502      \u2502  \u251c\u2500\u250015,456 B (00.05%) -- objects\n\u2502  \u2502      \u2502  \u251c\u2500\u250011,800 B (00.04%) -- shapes\n\u2502  \u2502      \u2502  \u251c\u2500\u2500\u2500\u2500\u2500928 B (00.00%) -- type-objects\n\u2502  \u2502      \u2502  \u251c\u2500\u2500\u2500\u2500\u2500344 B (00.00%) -- arena-padding\n\u2502  \u2502      \u2502  \u251c\u2500\u2500\u2500\u2500\u2500256 B (00.00%) -- arena-headers\n\u2502  \u2502      \u2502  \u2514\u2500\u2500\u2500\u2500\u2500256 B (00.00%) -- scripts\n\n\nIf instead I first open gmail and then laod that page, I get:\n\n\n\u2500110,592 B (00.13%) -- gc-heap\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u250047,872 B (00.06%) -- arena-unused\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u250032,680 B (00.04%) -- shapes\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u250027,808 B (00.03%) -- objects\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u2500\u25001,152 B (00.00%) -- type-objects\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500432 B (00.00%) -- arena-headers\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500392 B (00.00%) -- arena-padding\n\u2502  \u2502     \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500256 B (00.00%) -- scripts\n\n\nThat is, we allocate significantly more live shapes and objects in the page compartment if load it after loading gmail. The question is why?", "author": "igor@mir2.org", "time": "2011-09-04T13:22:42Z", "raw_text": "Consider the following page (also attached here as a test case):\n\n<script>\nvar a = 1;\n</script>\n\n\nWhen I open it in a just started 32-bit browser built on Linux, then open about:memory and press Minimize Memory usage there couple of times I have:\n\n65,536 B (00.20%) -- gc-heap\n\u2502  \u2502      \u2502  \u251c\u2500\u250036,496 B (00.11%) -- arena-unused\n\u2502  \u2502      \u2502  \u251c\u2500\u250015,456 B (00.05%) -- objects\n\u2502  \u2502      \u2502  \u251c\u2500\u250011,800 B (00.04%) -- shapes\n\u2502  \u2502      \u2502  \u251c\u2500\u2500\u2500\u2500\u2500928 B (00.00%) -- type-objects\n\u2502  \u2502      \u2502  \u251c\u2500\u2500\u2500\u2500\u2500344 B (00.00%) -- arena-padding\n\u2502  \u2502      \u2502  \u251c\u2500\u2500\u2500\u2500\u2500256 B (00.00%) -- arena-headers\n\u2502  \u2502      \u2502  \u2514\u2500\u2500\u2500\u2500\u2500256 B (00.00%) -- scripts\n\n\nIf instead I first open gmail and then laod that page, I get:\n\n\n\u2500110,592 B (00.13%) -- gc-heap\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u250047,872 B (00.06%) -- arena-unused\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u250032,680 B (00.04%) -- shapes\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u250027,808 B (00.03%) -- objects\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u2500\u25001,152 B (00.00%) -- type-objects\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500432 B (00.00%) -- arena-headers\n\u2502  \u2502     \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500392 B (00.00%) -- arena-padding\n\u2502  \u2502     \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500256 B (00.00%) -- scripts\n\n\nThat is, we allocate significantly more live shapes and objects in the page compartment if load it after loading gmail. The question is why?", "creation_time": "2011-09-04T13:22:42Z", "is_private": false, "creator": "igor@mir2.org", "tags": [], "attachment_id": 558142}]}}, "comments": {}}