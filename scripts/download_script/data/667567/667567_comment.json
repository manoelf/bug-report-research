{"comments": {}, "bugs": {"667567": {"comments": [{"attachment_id": null, "tags": [], "creator": "cop3252@yahoo.com", "creation_time": "2011-06-27T19:16:21Z", "is_private": false, "raw_text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:7.0a1) Gecko/20110627 Firefox/7.0a1\nBuild ID: 20110627030739\n\nSteps to reproduce:\n\nVisit\nhttps://eyeasme.com/Joe/MathML/MathML_text_decoration_bug\nand\nhttps://bug504324.bugzilla.mozilla.org/attachment.cgi?id=502338\n\n\n\n\nActual results:\n\npages do not render correctly\n\n\nExpected results:\n\npages should render correctly", "time": "2011-06-27T19:16:21Z", "author": "cop3252@yahoo.com", "count": 0, "text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:7.0a1) Gecko/20110627 Firefox/7.0a1\nBuild ID: 20110627030739\n\nSteps to reproduce:\n\nVisit\nhttps://eyeasme.com/Joe/MathML/MathML_text_decoration_bug\nand\nhttps://bug504324.bugzilla.mozilla.org/attachment.cgi?id=502338\n\n\n\n\nActual results:\n\npages do not render correctly\n\n\nExpected results:\n\npages should render correctly", "id": 5559456, "bug_id": 667567}, {"tags": [], "time": "2011-06-27T19:33:10Z", "attachment_id": null, "raw_text": "More precise description is available in bug 504324.", "id": 5559498, "bug_id": 667567, "creation_time": "2011-06-27T19:33:10Z", "is_private": false, "creator": "fwang@igalia.com", "author": "fwang@igalia.com", "text": "More precise description is available in bug 504324.", "count": 1}, {"raw_text": "Notice that the second column is displayed incorrectly when compared to the first and third columns.", "time": "2011-06-28T12:35:16Z", "author": "cop3252@yahoo.com", "text": "Created attachment 542434\nscreen shot of https://eyeasme.com/Joe/MathML/MathML_text_decoration_bug\n\nNotice that the second column is displayed incorrectly when compared to the first and third columns.", "count": 2, "id": 5561367, "bug_id": 667567, "attachment_id": 542434, "tags": [], "creator": "cop3252@yahoo.com", "is_private": false, "creation_time": "2011-06-28T12:35:16Z"}, {"author": "cop3252@yahoo.com", "text": "Created attachment 542435\nimage of https://bug504324.bugzilla.mozilla.org/attachment.cgi?id=502338\n\nNotice lines 1 and 2 are incorrect.  \nThis attachment and the first attachment were made with \nnightly build 7.0a1 2011-06-27", "count": 3, "bug_id": 667567, "id": 5561378, "raw_text": "Notice lines 1 and 2 are incorrect.  \nThis attachment and the first attachment were made with \nnightly build 7.0a1 2011-06-27", "time": "2011-06-28T12:38:49Z", "creator": "cop3252@yahoo.com", "is_private": false, "creation_time": "2011-06-28T12:38:49Z", "attachment_id": 542435, "tags": []}, {"bug_id": 667567, "id": 6315527, "is_private": false, "creation_time": "2012-05-17T14:07:54Z", "creator": "cop3252@yahoo.com", "text": "Any progress on this bug?  I am getting ready to update some MathML pages and want to update the CSS used.  Firefox 13 changes the look and feel of the resulting MathML, due to the MathJax fonts being made default.", "count": 4, "author": "cop3252@yahoo.com", "tags": [], "time": "2012-05-17T14:07:54Z", "raw_text": "Any progress on this bug?  I am getting ready to update some MathML pages and want to update the CSS used.  Firefox 13 changes the look and feel of the resulting MathML, due to the MathJax fonts being made default.", "attachment_id": null}, {"time": "2012-05-18T14:03:41Z", "attachment_id": null, "raw_text": "(In reply to Joe Java from comment #4)\n> Any progress on this bug?\n\nApparently no, otherwise someone would have taken the bug and/or posted something here. Maybe it's just a matter of setting the right \"underline\" flag in the C++ code, but unless someones tries to debug the code or ask the appropriate programmers where to find it, this bug is not likely to be fixed. As indicated in Bugzilla's etiquette - rule 1.2, only people for which the bug is important have the obligation to fix it and that's even more true for the MathML project, where essentially only volunteers submit patches. \n\nPersonally, I find this bug less important than other MathML bugs because it happens only when someone uses a <a> around a math or intentionally underlines the <math> element. The MathML's 3 href attribute is more appropriate for the former and I don't think the latter really happen in practice. That said, that's just my opinion, if this bug is critical for you then your patches are welcome.\n\n> I am getting ready to update some MathML pages\n> and want to update the CSS used.  Firefox 13 changes the look and feel of\n> the resulting MathML, due to the MathJax fonts being made default.\n\nI'm not sure how this comment relates to the present bug, but the torture test page\n\nhttp://www.mozilla.org/projects/mathml/demo/texvsmml.html\n\ndemonstrates how to choose alternate style. I hope that can help you.", "tags": [], "creator": "fwang@igalia.com", "author": "fwang@igalia.com", "count": 5, "text": "(In reply to Joe Java from comment #4)\n> Any progress on this bug?\n\nApparently no, otherwise someone would have taken the bug and/or posted something here. Maybe it's just a matter of setting the right \"underline\" flag in the C++ code, but unless someones tries to debug the code or ask the appropriate programmers where to find it, this bug is not likely to be fixed. As indicated in Bugzilla's etiquette - rule 1.2, only people for which the bug is important have the obligation to fix it and that's even more true for the MathML project, where essentially only volunteers submit patches. \n\nPersonally, I find this bug less important than other MathML bugs because it happens only when someone uses a <a> around a math or intentionally underlines the <math> element. The MathML's 3 href attribute is more appropriate for the former and I don't think the latter really happen in practice. That said, that's just my opinion, if this bug is critical for you then your patches are welcome.\n\n> I am getting ready to update some MathML pages\n> and want to update the CSS used.  Firefox 13 changes the look and feel of\n> the resulting MathML, due to the MathJax fonts being made default.\n\nI'm not sure how this comment relates to the present bug, but the torture test page\n\nhttp://www.mozilla.org/projects/mathml/demo/texvsmml.html\n\ndemonstrates how to choose alternate style. I hope that can help you.", "id": 6318808, "bug_id": 667567, "is_private": false, "creation_time": "2012-05-18T14:03:41Z"}, {"is_private": false, "creation_time": "2012-07-19T08:05:26Z", "id": 6486671, "bug_id": 667567, "count": 6, "text": "There have recently been discussion in MathJax and Mozilla MathML mailing lists about how to restore the \"text-decoration: underline;\" of MathML nodes with a href attribute.\n\nAlso, I finally found a real-life use case for the present bug, using LaTeXML: If you use mathematical formulas inside section titles of your document then they are copied to the table of contents inside <a> links.\n\nProbably, we should find another way to fix bug 504324 and bug 667567 than just removing the text-decoration. Instead, we should really understand where these gaps come from.", "author": "fwang@igalia.com", "creator": "fwang@igalia.com", "tags": [], "raw_text": "There have recently been discussion in MathJax and Mozilla MathML mailing lists about how to restore the \"text-decoration: underline;\" of MathML nodes with a href attribute.\n\nAlso, I finally found a real-life use case for the present bug, using LaTeXML: If you use mathematical formulas inside section titles of your document then they are copied to the table of contents inside <a> links.\n\nProbably, we should find another way to fix bug 504324 and bug 667567 than just removing the text-decoration. Instead, we should really understand where these gaps come from.", "attachment_id": null, "time": "2012-07-19T08:05:26Z"}, {"bug_id": 667567, "id": 11356679, "is_private": false, "creation_time": "2016-04-26T16:16:45Z", "creator": "fwang@igalia.com", "count": 7, "text": "NIST people working on the formula search engine have this problem (<a> is generated with LaTeXML as I mentioned in comment 6).\n\nhttp://en.formulasearchengine.com/wiki/Fourier_series#Example_1:_a_simple_Fourier_series\n\n@James: I'm cc'ing in case you have time to debug this.", "author": "fwang@igalia.com", "tags": [], "time": "2016-04-26T16:16:45Z", "raw_text": "NIST people working on the formula search engine have this problem (<a> is generated with LaTeXML as I mentioned in comment 6).\n\nhttp://en.formulasearchengine.com/wiki/Fourier_series#Example_1:_a_simple_Fourier_series\n\n@James: I'm cc'ing in case you have time to debug this.", "attachment_id": null}, {"tags": [], "time": "2016-05-22T06:38:51Z", "attachment_id": null, "raw_text": "https://hg.mozilla.org/mozilla-central/annotate/16663eb3dcfa759f25b5e27b101bc79270c156f2/layout/generic/nsBlockFrame.cpp#l845\n\n<a href> case\nStyleContext()->HasTextDecorationLines() is true, so metrics are calculated using GetVisualOverflowRect()\n\n<math href case>\nStyleContext()->HasTextDecorationLines() is false, so metrics are calculated using ComputeSimpleTightBounds(DrawTarget)\n\nThe <a href> case has NS_STYLE_TEXT_DECORATION_LINE_UNDERLINE being set, despite being turned off in the MathML CSS.\n\nhttps://hg.mozilla.org/mozilla-central/annotate/16663eb3dcfa759f25b5e27b101bc79270c156f2/layout/mathml/mathml.css#l68\n\nI'll try to work out why this is the case.", "id": 11427936, "bug_id": 667567, "is_private": false, "creation_time": "2016-05-22T06:38:51Z", "creator": "jkitch.bug@internode.on.net", "author": "jkitch.bug@internode.on.net", "text": "https://hg.mozilla.org/mozilla-central/annotate/16663eb3dcfa759f25b5e27b101bc79270c156f2/layout/generic/nsBlockFrame.cpp#l845\n\n<a href> case\nStyleContext()->HasTextDecorationLines() is true, so metrics are calculated using GetVisualOverflowRect()\n\n<math href case>\nStyleContext()->HasTextDecorationLines() is false, so metrics are calculated using ComputeSimpleTightBounds(DrawTarget)\n\nThe <a href> case has NS_STYLE_TEXT_DECORATION_LINE_UNDERLINE being set, despite being turned off in the MathML CSS.\n\nhttps://hg.mozilla.org/mozilla-central/annotate/16663eb3dcfa759f25b5e27b101bc79270c156f2/layout/mathml/mathml.css#l68\n\nI'll try to work out why this is the case.", "count": 8}]}}}