{"bugs": {"643579": {"comments": [{"is_private": false, "time": "2011-03-21T21:44:04Z", "attachment_id": null, "raw_text": "The pthread spec says it can happen, and a synchronization site being notified at an incorrect time could potentially be bad.", "id": 5358402, "text": "The pthread spec says it can happen, and a synchronization site being notified at an incorrect time could potentially be bad.", "creation_time": "2011-03-21T21:44:04Z", "bug_id": 643579, "creator": "josh@joshmatthews.net", "count": 0, "tags": [], "author": "josh@joshmatthews.net"}, {"is_private": false, "time": "2011-03-21T22:23:50Z", "attachment_id": null, "text": "I think this is the whole list of problematic CondVar.Wait, Monitor.Wait, PR_WaitCondVar, PR_Wait, and renamed-via-#define constructs present in the source tree. \n\nhttp://mxr.mozilla.org/mozilla-central/source/netwerk/protocol/http/nsHttpConnectionMgr.cpp#184\nhttp://mxr.mozilla.org/mozilla-central/source/netwerk/cache/nsCacheService.cpp#830\nhttp://mxr.mozilla.org/mozilla-central/source/storage/src/mozStoragePrivateHelpers.cpp#267\nhttp://mxr.mozilla.org/mozilla-central/source/storage/test/test_true_async.cpp#154\nhttp://mxr.mozilla.org/mozilla-central/source/ipc/ipdl/test/cxx/TestCrashCleanup.cpp#50\nhttp://mxr.mozilla.org/mozilla-central/source/ipc/ipdl/test/cxx/TestRPCErrorCleanup.cpp#50\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/tests/TestSynchronization.cpp#230\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/tests/TestSynchronization.cpp#274\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/io/nsPipe3.cpp#653\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/io/nsPipe3.cpp#1011\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/proxy/tests/proxy-create-threadsafety.cpp#186\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/threads/nsEventQueue.cpp#85\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/base/nsCycleCollector.cpp#3314\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/base/nsCycleCollector.cpp#3359\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/base/nsCycleCollector.cpp#3387\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/nsMediaCache.cpp#2153\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/wave/nsWaveDecoder.cpp#786\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/wave/nsWaveDecoder.cpp#823\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/nsBuiltinDecoderStateMachine.cpp#350\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/nsBuiltinDecoderStateMachine.cpp#408\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/nsBuiltinDecoderStateMachine.cpp#1413\nhttp://mxr.mozilla.org/mozilla-central/source/parser/htmlparser/src/nsParser.cpp#535\nhttp://mxr.mozilla.org/mozilla-central/source/testing/mochitest/ssltunnel/ssltunnel.cpp#1348\nhttp://mxr.mozilla.org/mozilla-central/source/js/src/jslock.cpp#595\nhttp://mxr.mozilla.org/mozilla-central/source/js/src/xpconnect/src/xpcjsruntime.cpp#1078\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/glue/BlockingResourceBase.cpp#372\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/threads/TimerThread.cpp#375\nhttp://mxr.mozilla.org/mozilla-central/source/tools/trace-malloc/spacetrace.c#5154\nhttp://mxr.mozilla.org/mozilla-central/source/security/nss/lib/util/nssrwlk.c#196\nhttp://mxr.mozilla.org/mozilla-central/source/security/nss/lib/util/nssrwlk.c#265\nhttp://mxr.mozilla.org/mozilla-central/source/netwerk/dns/nsDNSService2.cpp#532\nhttp://mxr.mozilla.org/mozilla-central/source/js/src/xpconnect/src/xpcprivate.h#361\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/glue/BlockingResourceBase.cpp#345\nhttp://mxr.mozilla.org/mozilla-central/source/security/nss/lib/util/nssilock.c#489", "creation_time": "2011-03-21T22:23:50Z", "raw_text": "I think this is the whole list of problematic CondVar.Wait, Monitor.Wait, PR_WaitCondVar, PR_Wait, and renamed-via-#define constructs present in the source tree. \n\nhttp://mxr.mozilla.org/mozilla-central/source/netwerk/protocol/http/nsHttpConnectionMgr.cpp#184\nhttp://mxr.mozilla.org/mozilla-central/source/netwerk/cache/nsCacheService.cpp#830\nhttp://mxr.mozilla.org/mozilla-central/source/storage/src/mozStoragePrivateHelpers.cpp#267\nhttp://mxr.mozilla.org/mozilla-central/source/storage/test/test_true_async.cpp#154\nhttp://mxr.mozilla.org/mozilla-central/source/ipc/ipdl/test/cxx/TestCrashCleanup.cpp#50\nhttp://mxr.mozilla.org/mozilla-central/source/ipc/ipdl/test/cxx/TestRPCErrorCleanup.cpp#50\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/tests/TestSynchronization.cpp#230\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/tests/TestSynchronization.cpp#274\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/io/nsPipe3.cpp#653\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/io/nsPipe3.cpp#1011\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/proxy/tests/proxy-create-threadsafety.cpp#186\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/threads/nsEventQueue.cpp#85\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/base/nsCycleCollector.cpp#3314\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/base/nsCycleCollector.cpp#3359\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/base/nsCycleCollector.cpp#3387\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/nsMediaCache.cpp#2153\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/wave/nsWaveDecoder.cpp#786\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/wave/nsWaveDecoder.cpp#823\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/nsBuiltinDecoderStateMachine.cpp#350\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/nsBuiltinDecoderStateMachine.cpp#408\nhttp://mxr.mozilla.org/mozilla-central/source/content/media/nsBuiltinDecoderStateMachine.cpp#1413\nhttp://mxr.mozilla.org/mozilla-central/source/parser/htmlparser/src/nsParser.cpp#535\nhttp://mxr.mozilla.org/mozilla-central/source/testing/mochitest/ssltunnel/ssltunnel.cpp#1348\nhttp://mxr.mozilla.org/mozilla-central/source/js/src/jslock.cpp#595\nhttp://mxr.mozilla.org/mozilla-central/source/js/src/xpconnect/src/xpcjsruntime.cpp#1078\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/glue/BlockingResourceBase.cpp#372\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/threads/TimerThread.cpp#375\nhttp://mxr.mozilla.org/mozilla-central/source/tools/trace-malloc/spacetrace.c#5154\nhttp://mxr.mozilla.org/mozilla-central/source/security/nss/lib/util/nssrwlk.c#196\nhttp://mxr.mozilla.org/mozilla-central/source/security/nss/lib/util/nssrwlk.c#265\nhttp://mxr.mozilla.org/mozilla-central/source/netwerk/dns/nsDNSService2.cpp#532\nhttp://mxr.mozilla.org/mozilla-central/source/js/src/xpconnect/src/xpcprivate.h#361\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/glue/BlockingResourceBase.cpp#345\nhttp://mxr.mozilla.org/mozilla-central/source/security/nss/lib/util/nssilock.c#489", "id": 5358541, "bug_id": 643579, "tags": [], "count": 1, "creator": "josh@joshmatthews.net", "author": "josh@joshmatthews.net"}]}}, "comments": {}}