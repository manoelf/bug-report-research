{"comments": {}, "bugs": {"675457": {"comments": [{"bug_id": 675457, "tags": [], "count": 0, "is_private": false, "id": 5623838, "text": "STR:\n 1. Open Firefox with fresh profile\n 2. Visit about:blank or any other page.\n 3. File | Print Preview\n     --> Note that header/footer (page title, URL, pagenum, datestamp) are\n         flush with the edge of the page.\n 4. Enter \"Page Setup\" (it's a button on Print Preview, at least in Linux)\n 5. Pick a different Paper Size, and hit \"Apply\"\n     --> Note that header/footer (page title, URL, pagenum, datestamp) are\n         now offset somewhat from the edge of the page.\n 6. Repeat steps 4-5, going back to your original Paper Size\n     --> Offset persists - header/footer are still not flush w/ edge\n\nEXPECTED RESULTS:\n Header/footer should be offset from edge of page somewhat.\n\nACTUAL RESULTS:\n Initially, header/footer are *flush* with the edge of the page. Only after you've switched Paper Sizes, *then* they become offset in subsequent print/print preview operations.\n\nI believe this is a regression, though I'm not sure how old.", "creator": "dholbert@mozilla.com", "author": "dholbert@mozilla.com", "time": "2011-07-30T20:02:01Z", "attachment_id": null, "raw_text": "STR:\n 1. Open Firefox with fresh profile\n 2. Visit about:blank or any other page.\n 3. File | Print Preview\n     --> Note that header/footer (page title, URL, pagenum, datestamp) are\n         flush with the edge of the page.\n 4. Enter \"Page Setup\" (it's a button on Print Preview, at least in Linux)\n 5. Pick a different Paper Size, and hit \"Apply\"\n     --> Note that header/footer (page title, URL, pagenum, datestamp) are\n         now offset somewhat from the edge of the page.\n 6. Repeat steps 4-5, going back to your original Paper Size\n     --> Offset persists - header/footer are still not flush w/ edge\n\nEXPECTED RESULTS:\n Header/footer should be offset from edge of page somewhat.\n\nACTUAL RESULTS:\n Initially, header/footer are *flush* with the edge of the page. Only after you've switched Paper Sizes, *then* they become offset in subsequent print/print preview operations.\n\nI believe this is a regression, though I'm not sure how old.", "creation_time": "2011-07-30T20:02:01Z"}, {"author": "dholbert@mozilla.com", "creator": "dholbert@mozilla.com", "creation_time": "2011-07-30T20:02:33Z", "raw_text": "(I've verified that this affects actual printing as well as print preview, btw)", "attachment_id": null, "time": "2011-07-30T20:02:33Z", "text": "(I've verified that this affects actual printing as well as print preview, btw)", "id": 5623839, "count": 1, "is_private": false, "tags": [], "bug_id": 675457}, {"raw_text": "Note that this offset-from-edge-of-page is controlled by prefs named \"print_unwriteable_margin_[top,right,bottom,left]\"\n\nIf I simply open up Page Setup and close it (without changing the paper size), these prefs get created for my default printer with the value \"0\" (e.g. printer_PSC-1500-series.print_unwriteable_margin_top = 0).  That's incorrect.  Only after I explicitly change the paper-size (and then, optionally, change it back), do these prefs get nonzero values.", "creation_time": "2011-07-30T20:35:44Z", "time": "2011-07-30T20:35:44Z", "attachment_id": null, "text": "Note that this offset-from-edge-of-page is controlled by prefs named \"print_unwriteable_margin_[top,right,bottom,left]\"\n\nIf I simply open up Page Setup and close it (without changing the paper size), these prefs get created for my default printer with the value \"0\" (e.g. printer_PSC-1500-series.print_unwriteable_margin_top = 0).  That's incorrect.  Only after I explicitly change the paper-size (and then, optionally, change it back), do these prefs get nonzero values.", "id": 5623848, "count": 2, "is_private": false, "tags": [], "bug_id": 675457, "author": "dholbert@mozilla.com", "creator": "dholbert@mozilla.com"}, {"bug_id": 675457, "id": 5772197, "count": 3, "is_private": false, "tags": [], "time": "2011-10-10T18:49:14Z", "attachment_id": null, "author": "rsx11m.pub@gmail.com", "text": "Confirmed on SeaMonkey 2.4.1 (x86_64, Gecko 7.0.1), margins in an existing profile are ignored even though it worked in earlier versions, until the procedure described above is performed.", "creator": "rsx11m.pub@gmail.com", "raw_text": "Confirmed on SeaMonkey 2.4.1 (x86_64, Gecko 7.0.1), margins in an existing profile are ignored even though it worked in earlier versions, until the procedure described above is performed.", "creation_time": "2011-10-10T18:49:14Z"}, {"creator": "rsx11m.pub@gmail.com", "author": "rsx11m.pub@gmail.com", "is_private": false, "count": 4, "tags": [], "id": 5772208, "bug_id": 675457, "raw_text": "Using CUPS 1.4.4, in case that's relevant.", "creation_time": "2011-10-10T18:52:52Z", "text": "Using CUPS 1.4.4, in case that's relevant.", "attachment_id": null, "time": "2011-10-10T18:52:52Z"}, {"bug_id": 675457, "id": 5773364, "tags": [], "count": 5, "is_private": false, "time": "2011-10-11T01:01:47Z", "attachment_id": null, "text": "*** Bug 686739 has been marked as a duplicate of this bug. ***", "raw_text": "", "creation_time": "2011-10-11T01:01:47Z", "author": "dholbert@mozilla.com", "creator": "dholbert@mozilla.com"}, {"attachment_id": null, "time": "2012-03-20T01:17:23Z", "text": "This stil seems to be the case with Firefox 10.0.3 ESR on Linux.\n\nHowever, for me selecting a printer (any from the list in printer-setup) and clicking Apply moves the margins to reasonable defaults - it looks like cups is providing the answers... Oddly selecting a Paper type caused all but the bottom_margin to be set reasonably.\n\nSo after selecting a printer (b025) I might find that prefs.js contains:\n\npref(\"printer_b025.print_unwriteable_margin_bottom\", 17);\npref(\"printer_b025.print_unwriteable_margin_left\", 17);\npref(\"printer_b025.print_unwriteable_margin_right\", 17);\npref(\"printer_b025.print_unwriteable_margin_top\", 17);\n\nI'm guessing that 17 is extracted froim the PPD in some way.\n\nBut if I select a A4 (which is the default for these printers anyway), I get prefs like:\n\npref(\"printer_b025.print_unwriteable_margin_bottom\", 50);\npref(\"printer_b025.print_unwriteable_margin_left\", 25);\npref(\"printer_b025.print_unwriteable_margin_right\", 25);\npref(\"printer_b025.print_unwriteable_margin_top\", 25);\n\nFor the moment I'm adding defaultPrefs like this into a .cfg file (these numbers match what we used to get in firefox 3.6.x but maybe 17 would be better):\n\ndefaultPref(\"printer_b025.print_unwriteable_margin_bottom\", 20);\ndefaultPref(\"printer_b025.print_unwriteable_margin_left\", 25);\ndefaultPref(\"printer_b025.print_unwriteable_margin_right\", 25);\ndefaultPref(\"printer_b025.print_unwriteable_margin_top\", 25);\n\nto hide this from the users... (and yes I have to have those repeated for every printer), unless someone has a better trick...\n\n -- Jon", "raw_text": "This stil seems to be the case with Firefox 10.0.3 ESR on Linux.\n\nHowever, for me selecting a printer (any from the list in printer-setup) and clicking Apply moves the margins to reasonable defaults - it looks like cups is providing the answers... Oddly selecting a Paper type caused all but the bottom_margin to be set reasonably.\n\nSo after selecting a printer (b025) I might find that prefs.js contains:\n\npref(\"printer_b025.print_unwriteable_margin_bottom\", 17);\npref(\"printer_b025.print_unwriteable_margin_left\", 17);\npref(\"printer_b025.print_unwriteable_margin_right\", 17);\npref(\"printer_b025.print_unwriteable_margin_top\", 17);\n\nI'm guessing that 17 is extracted froim the PPD in some way.\n\nBut if I select a A4 (which is the default for these printers anyway), I get prefs like:\n\npref(\"printer_b025.print_unwriteable_margin_bottom\", 50);\npref(\"printer_b025.print_unwriteable_margin_left\", 25);\npref(\"printer_b025.print_unwriteable_margin_right\", 25);\npref(\"printer_b025.print_unwriteable_margin_top\", 25);\n\nFor the moment I'm adding defaultPrefs like this into a .cfg file (these numbers match what we used to get in firefox 3.6.x but maybe 17 would be better):\n\ndefaultPref(\"printer_b025.print_unwriteable_margin_bottom\", 20);\ndefaultPref(\"printer_b025.print_unwriteable_margin_left\", 25);\ndefaultPref(\"printer_b025.print_unwriteable_margin_right\", 25);\ndefaultPref(\"printer_b025.print_unwriteable_margin_top\", 25);\n\nto hide this from the users... (and yes I have to have those repeated for every printer), unless someone has a better trick...\n\n -- Jon", "creation_time": "2012-03-20T01:17:23Z", "bug_id": 675457, "id": 6153825, "tags": [], "count": 6, "is_private": false, "author": "J.S.Peatfield@damtp.cam.ac.uk", "creator": "J.S.Peatfield@damtp.cam.ac.uk"}]}}}