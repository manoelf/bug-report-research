{"comments": {}, "bugs": {"682918": {"comments": [{"author": "mark.yen@suse.com", "creator": "mark.yen@suse.com", "creation_time": "2011-08-29T18:38:28Z", "raw_text": "Assume you have a XUL element, <box id=\"foo\" attr=\"bar\"/>.\n\nIn a new profile, $(foo).setAttribute(\"attr\", \"\"); (i.e. setting it to empty) will persist the value correctly, because localstore.rdf previously knew nothing about the attribute.\n\nOpening the same document and closing it again (causing XUL persistence to run) will case the entry in localstore.rdf to be removed (see URL), because it sees that it previously had a value (empty) and the new value is empty (rather than missing).\n\nOpening the document again will cause attr to be set to the default value, \"bar\", because at this point localstore.rdf again knows nothing about the attribute.\n\nDue to the way missing persisted attributes fall back to the default, there needs to be a way to distinguish between missing and empty.  (It would also be nice to be able to persist the missing state, of course, instead of automatically using the default...)", "attachment_id": null, "time": "2011-08-29T18:38:28Z", "text": "Assume you have a XUL element, <box id=\"foo\" attr=\"bar\"/>.\n\nIn a new profile, $(foo).setAttribute(\"attr\", \"\"); (i.e. setting it to empty) will persist the value correctly, because localstore.rdf previously knew nothing about the attribute.\n\nOpening the same document and closing it again (causing XUL persistence to run) will case the entry in localstore.rdf to be removed (see URL), because it sees that it previously had a value (empty) and the new value is empty (rather than missing).\n\nOpening the document again will cause attr to be set to the default value, \"bar\", because at this point localstore.rdf again knows nothing about the attribute.\n\nDue to the way missing persisted attributes fall back to the default, there needs to be a way to distinguish between missing and empty.  (It would also be nice to be able to persist the missing state, of course, instead of automatically using the default...)", "id": 5685577, "count": 0, "is_private": false, "tags": [], "bug_id": 682918}]}}}