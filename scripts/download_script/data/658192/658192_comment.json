{"bugs": {"658192": {"comments": [{"raw_text": "", "bug_id": 658192, "creation_time": "2011-05-19T07:13:33Z", "creator": "smani@mozilla.com", "tags": [], "attachment_id": null, "is_private": false, "text": "", "count": 0, "author": "smani@mozilla.com", "time": "2011-05-19T07:13:33Z", "id": 5479383}, {"id": 5479388, "time": "2011-05-19T07:15:14Z", "tags": [], "bug_id": 658192, "creation_time": "2011-05-19T07:15:14Z", "raw_text": "Just dropped off for no rhyme or reason a tad before midnight. \n\n23:57:59 < nagios-sjc1> [73] star-moz-org-php5.nslb.sj:http_string - creative.mozilla.org is CRITICAL: HTTP CRITICAL: HTTP/1.1 500 Internal Server Error - string Hot Designs not found on http://creative.mozilla.org:80/ - 2210 bytes in 1.222 second response time", "is_private": false, "text": "Just dropped off for no rhyme or reason a tad before midnight. \n\n23:57:59 < nagios-sjc1> [73] star-moz-org-php5.nslb.sj:http_string - creative.mozilla.org is CRITICAL: HTTP CRITICAL: HTTP/1.1 500 Internal Server Error - string Hot Designs not found on http://creative.mozilla.org:80/ - 2210 bytes in 1.222 second response time", "count": 1, "author": "smani@mozilla.com", "creator": "smani@mozilla.com", "attachment_id": null}, {"time": "2011-05-19T07:28:04Z", "author": "smani@mozilla.com", "id": 5479406, "text": "Okay, so there was reason :\n\n23:57:08 < nagios-sjc1> [72] pm-app-memcache03 is DOWN: PING CRITICAL - Packet loss = 100%\n\nI initially ruled this out because of this in the config :\n\n$config['memcache_servers'] = array(\n    0 => 'pm-app-memcache01',\n    1 => 'pm-app-memcache02',\n    2 => 'pm-app-memcache03',\n);\n\nFrom which I then commented out 03 and pushed out, hoping the site would recover, but it didn't\n\nLuckily phong was in the datacenter, and could kick memcache03 and voila, creative comes back up.\n\nThis is code fail. creative is obviously not using a memcache pool like it should, or has 03 hardcoded somewhere? Please fix? :)", "count": 2, "attachment_id": null, "is_private": false, "bug_id": 658192, "creation_time": "2011-05-19T07:28:04Z", "raw_text": "Okay, so there was reason :\n\n23:57:08 < nagios-sjc1> [72] pm-app-memcache03 is DOWN: PING CRITICAL - Packet loss = 100%\n\nI initially ruled this out because of this in the config :\n\n$config['memcache_servers'] = array(\n    0 => 'pm-app-memcache01',\n    1 => 'pm-app-memcache02',\n    2 => 'pm-app-memcache03',\n);\n\nFrom which I then commented out 03 and pushed out, hoping the site would recover, but it didn't\n\nLuckily phong was in the datacenter, and could kick memcache03 and voila, creative comes back up.\n\nThis is code fail. creative is obviously not using a memcache pool like it should, or has 03 hardcoded somewhere? Please fix? :)", "tags": [], "creator": "smani@mozilla.com"}, {"time": "2011-05-19T07:32:07Z", "id": 5479411, "is_private": false, "creation_time": "2011-05-19T07:32:07Z", "bug_id": 658192, "raw_text": "The site was down for about 20 mins.", "tags": [], "author": "smani@mozilla.com", "count": 3, "text": "The site was down for about 20 mins.", "attachment_id": null, "creator": "smani@mozilla.com"}, {"count": 4, "text": "(In reply to comment #2)\n \n> From which I then commented out 03 and pushed out, hoping the site would\n> recover, but it didn't\n\nAt which point I was already thinking as to if it had a pool, it should be up since memcache should simply be using the other two machines. Makes more sense now..since it seems to only be using 03.", "id": 5479414, "author": "smani@mozilla.com", "time": "2011-05-19T07:34:09Z", "creator": "smani@mozilla.com", "tags": [], "raw_text": "(In reply to comment #2)\n \n> From which I then commented out 03 and pushed out, hoping the site would\n> recover, but it didn't\n\nAt which point I was already thinking as to if it had a pool, it should be up since memcache should simply be using the other two machines. Makes more sense now..since it seems to only be using 03.", "bug_id": 658192, "creation_time": "2011-05-19T07:34:09Z", "attachment_id": null, "is_private": false}, {"id": 5479429, "time": "2011-05-19T07:50:01Z", "is_private": false, "tags": [], "creation_time": "2011-05-19T07:50:01Z", "bug_id": 658192, "raw_text": "Looking back at Bug 627261, cache_memcache.php has :\n\n$config['servers'] = array\n(\n    array\n    (\n        'host' => 'pm-app-memcache01',\n        'port' => 11211,\n        'persistent' => FALSE,\n    ),\n    array\n    (\n        'host' => 'pm-app-memcache02',\n        'port' => 11211,\n        'persistent' => FALSE,\n    ),\n    array\n    (\n        'host' => 'pm-app-memcache03',\n        'port' => 11211,\n        'persistent' => FALSE,\n    )\n);\n\nBut that still didn't help.", "author": "smani@mozilla.com", "count": 5, "text": "Looking back at Bug 627261, cache_memcache.php has :\n\n$config['servers'] = array\n(\n    array\n    (\n        'host' => 'pm-app-memcache01',\n        'port' => 11211,\n        'persistent' => FALSE,\n    ),\n    array\n    (\n        'host' => 'pm-app-memcache02',\n        'port' => 11211,\n        'persistent' => FALSE,\n    ),\n    array\n    (\n        'host' => 'pm-app-memcache03',\n        'port' => 11211,\n        'persistent' => FALSE,\n    )\n);\n\nBut that still didn't help.", "attachment_id": null, "creator": "smani@mozilla.com"}]}}, "comments": {}}