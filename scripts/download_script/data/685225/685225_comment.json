{"comments": {}, "bugs": {"685225": {"comments": [{"raw_text": "Intellipoint mice and some other drivers (Microsoft keyboards etc) sometimes have a \"close\" button which in other programs closes the active tab but in Firefox closes the whole browser.\n\nSee\n\nhttps://support.mozilla.com/en-US/questions/810972", "attachment_id": null, "id": 5705369, "count": 0, "is_private": false, "creator": "cww@mozilla.com", "text": "Intellipoint mice and some other drivers (Microsoft keyboards etc) sometimes have a \"close\" button which in other programs closes the active tab but in Firefox closes the whole browser.\n\nSee\n\nhttps://support.mozilla.com/en-US/questions/810972", "bug_id": 685225, "tags": [], "time": "2011-09-07T17:53:00Z", "creation_time": "2011-09-07T17:53:00Z", "author": "cww@mozilla.com"}, {"attachment_id": null, "raw_text": "> https://support.mozilla.com/en-US/questions/810972\n\nSounds like this problem is cross-platform, and not specific to the Mac.  Is that true?", "id": 5705457, "creator": "smichaud@pobox.com", "is_private": false, "count": 1, "author": "smichaud@pobox.com", "creation_time": "2011-09-07T18:22:01Z", "tags": [], "bug_id": 685225, "time": "2011-09-07T18:22:01Z", "text": "> https://support.mozilla.com/en-US/questions/810972\n\nSounds like this problem is cross-platform, and not specific to the Mac.  Is that true?"}, {"is_private": false, "creator": "cww@mozilla.com", "count": 2, "creation_time": "2011-09-07T18:34:10Z", "author": "cww@mozilla.com", "text": "One mouse model mentioned is: Microsoft Wireless Mouse 6000 but that doesn't seem to much matter, it's the Microsoft Intellipoint mouse settings for windows. (May be Windows 7 specific).", "time": "2011-09-07T18:34:10Z", "bug_id": 685225, "tags": [], "attachment_id": null, "raw_text": "One mouse model mentioned is: Microsoft Wireless Mouse 6000 but that doesn't seem to much matter, it's the Microsoft Intellipoint mouse settings for windows. (May be Windows 7 specific).", "id": 5705501}, {"id": 5705504, "raw_text": "(In reply to Steven Michaud from comment #1)\n\nI forgot to change that when I filed the bug, it's windows (or maybe just windows 7)", "attachment_id": null, "time": "2011-09-07T18:35:00Z", "tags": [], "text": "(In reply to Steven Michaud from comment #1)\n\nI forgot to change that when I filed the bug, it's windows (or maybe just windows 7)", "author": "cww@mozilla.com", "creation_time": "2011-09-07T18:35:00Z", "creator": "cww@mozilla.com", "is_private": false, "bug_id": 685225, "count": 3}, {"id": 5778052, "attachment_id": null, "raw_text": "I understand that this is a regression? If so, can we get a regression range? Does anyone know exactly what mechanism these buttons use to close something?", "author": "benjamin@smedbergs.us", "creation_time": "2011-10-12T18:21:53Z", "time": "2011-10-12T18:21:53Z", "tags": [], "bug_id": 685225, "text": "I understand that this is a regression? If so, can we get a regression range? Does anyone know exactly what mechanism these buttons use to close something?", "creator": "benjamin@smedbergs.us", "is_private": false, "count": 4}, {"count": 5, "bug_id": 685225, "is_private": false, "creator": "cww@mozilla.com", "text": "Ugh, missed this comment.  This seems to have happened in Firefox 6.\n\nWe're asking users to do the following:\n\nChange Intellipoint settings / Program Specific Settings / Firefox / Keystroke (Ctrl + W)", "time": "2011-12-20T07:29:08Z", "tags": [], "creation_time": "2011-12-20T07:29:08Z", "author": "cww@mozilla.com", "raw_text": "Ugh, missed this comment.  This seems to have happened in Firefox 6.\n\nWe're asking users to do the following:\n\nChange Intellipoint settings / Program Specific Settings / Firefox / Keystroke (Ctrl + W)", "attachment_id": null, "id": 5928958}, {"attachment_id": null, "raw_text": "Can confirm this is wider than just Windows 7. Happens on Vista (32bit Home Premium) fully updated with the latest IntelliPoint v8.2 installed. Works correctly in IE9 but not FF12.\n\nCan anyone point out how to capture the event that the drivers send FF so we can fix this regression?", "id": 6350511, "creator": "paul_gregg@yahoo.com", "is_private": false, "count": 6, "author": "paul_gregg@yahoo.com", "creation_time": "2012-05-30T23:33:12Z", "time": "2012-05-30T23:33:12Z", "bug_id": 685225, "tags": [], "text": "Can confirm this is wider than just Windows 7. Happens on Vista (32bit Home Premium) fully updated with the latest IntelliPoint v8.2 installed. Works correctly in IE9 but not FF12.\n\nCan anyone point out how to capture the event that the drivers send FF so we can fix this regression?"}, {"bug_id": 685225, "count": 7, "id": 6351220, "attachment_id": null, "raw_text": "You could try using Winspector, but I'm not sure if that will yield helpful results or not.", "creation_time": "2012-05-31T06:49:01Z", "author": "tnikkel@gmail.com", "text": "You could try using Winspector, but I'm not sure if that will yield helpful results or not.", "time": "2012-05-31T06:49:01Z", "tags": [], "is_private": false, "creator": "tnikkel@gmail.com"}, {"raw_text": "Ok, here's what I've discovered so far:\nCouldn't get Winspector to work (just hour-glassed Vista for minutes at a time), but the open source 'Window Detective' works well.\nOn a simple MDI application, IntelliPoint sends WM_KEYDOWN [VK_CONTROL] followed by WM_KEYDOWN [VK_F4]. This works in Firefox if you use this keyboard combination, but unfortunately IntelliPoint doesn't send this to Firefox.\n\nIntelliPoint sends this to Firefox (all are Async except for WM_CLOSE):\nWM_APPCOMMAND (0x319)\nWM_SYSKEYDOWN (0x104) virtual key = VK_MENU\nWM_SYSKEYDOWN (0x104) virtual key = VK_F4\nWM_SYSKEYUP   (0x105) virtual key = VK_F4\nWM_KEYUP      (0x104) virtual key = VK_MENU\nWM_SYSCOMMAND (0x112)\nWM_CLOSE      (0x10)\n\n\nI checked in IE9 but it's hard to work out what is going on, selecting the window of the page doesn't seem to indicate anything. If the outer window is monitored, it receives a sync WM_APPCOMMAND message which it then returns 0.\nBased on http://msdn.microsoft.com/en-us/library/windows/desktop/ms646275%28v=vs.85%29.aspx & the patches in Bug 30431, you need to return TRUE to tell Windows you have handled the message. But I haven't been able to work out what parameters WM_APPCOMMAND contain while monitoring with Window Detective.\n\n\nLooking at the MSDN page, the fix may be to just add APPCOMMAND_CLOSE case's to /widget/windows/nsWindow.cpp DispatchCommandEvent() & ProcessMessage() functions.\n -> Looks like the code has changed a lot since Bug 30431 was checked in, nsEventStateManager.cpp doesn't contain any APPCOMMAND stuff at all now.\nUnsure how the IntelliPoint driver decides what messages to send to which applications. Maybe something needs to be set or configured somewhere, hopefully not.", "attachment_id": null, "id": 6354824, "count": 8, "is_private": false, "creator": "paul_gregg@yahoo.com", "text": "Ok, here's what I've discovered so far:\nCouldn't get Winspector to work (just hour-glassed Vista for minutes at a time), but the open source 'Window Detective' works well.\nOn a simple MDI application, IntelliPoint sends WM_KEYDOWN [VK_CONTROL] followed by WM_KEYDOWN [VK_F4]. This works in Firefox if you use this keyboard combination, but unfortunately IntelliPoint doesn't send this to Firefox.\n\nIntelliPoint sends this to Firefox (all are Async except for WM_CLOSE):\nWM_APPCOMMAND (0x319)\nWM_SYSKEYDOWN (0x104) virtual key = VK_MENU\nWM_SYSKEYDOWN (0x104) virtual key = VK_F4\nWM_SYSKEYUP   (0x105) virtual key = VK_F4\nWM_KEYUP      (0x104) virtual key = VK_MENU\nWM_SYSCOMMAND (0x112)\nWM_CLOSE      (0x10)\n\n\nI checked in IE9 but it's hard to work out what is going on, selecting the window of the page doesn't seem to indicate anything. If the outer window is monitored, it receives a sync WM_APPCOMMAND message which it then returns 0.\nBased on http://msdn.microsoft.com/en-us/library/windows/desktop/ms646275%28v=vs.85%29.aspx & the patches in Bug 30431, you need to return TRUE to tell Windows you have handled the message. But I haven't been able to work out what parameters WM_APPCOMMAND contain while monitoring with Window Detective.\n\n\nLooking at the MSDN page, the fix may be to just add APPCOMMAND_CLOSE case's to /widget/windows/nsWindow.cpp DispatchCommandEvent() & ProcessMessage() functions.\n -> Looks like the code has changed a lot since Bug 30431 was checked in, nsEventStateManager.cpp doesn't contain any APPCOMMAND stuff at all now.\nUnsure how the IntelliPoint driver decides what messages to send to which applications. Maybe something needs to be set or configured somewhere, hopefully not.", "tags": [], "bug_id": 685225, "time": "2012-06-01T07:02:56Z", "creation_time": "2012-06-01T07:02:56Z", "author": "paul_gregg@yahoo.com"}]}}}