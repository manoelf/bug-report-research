{"bugs": {"684770": {"comments": [{"id": 5701214, "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.1) Gecko/20100101 Firefox/6.0.1\nBuild ID: 20110830092941\n\nSteps to reproduce:\n\nSimilar to bug 607016, but happens on the attributes that are requested to persist with persistTabAttribute.\n\n1. Set restore_on_demand = true (max_concurrent_tabs = 0)\n2. Open some tabs and restart Firefox\n3. Execute in JS shell:\ngBrowser.selectedTab.previousSibling.setAttribute(\"dummy\", true);\nCc[\"@mozilla.org/browser/sessionstore;1\"]\n.getService(Ci.nsISessionStore)\n.persistTabAttribute(\"dummy\");\n\n4. Restart Firefox and check the \"dummy\" attribute\ngBrowser.selectedTab.previousSibling.hasAttribute(\"dummy\");\n\n\n\nActual results:\n\nThe \"dummy\" attribute on the unloaded tab is not saved.\n\n\nExpected results:\n\nThe \"dummy\" attribute should be saved.", "author": "tabutils+bugzilla@gmail.com", "creation_time": "2011-09-06T01:15:44Z", "bug_id": 684770, "time": "2011-09-06T01:15:44Z", "tags": [], "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.1) Gecko/20100101 Firefox/6.0.1\nBuild ID: 20110830092941\n\nSteps to reproduce:\n\nSimilar to bug 607016, but happens on the attributes that are requested to persist with persistTabAttribute.\n\n1. Set restore_on_demand = true (max_concurrent_tabs = 0)\n2. Open some tabs and restart Firefox\n3. Execute in JS shell:\ngBrowser.selectedTab.previousSibling.setAttribute(\"dummy\", true);\nCc[\"@mozilla.org/browser/sessionstore;1\"]\n.getService(Ci.nsISessionStore)\n.persistTabAttribute(\"dummy\");\n\n4. Restart Firefox and check the \"dummy\" attribute\ngBrowser.selectedTab.previousSibling.hasAttribute(\"dummy\");\n\n\n\nActual results:\n\nThe \"dummy\" attribute on the unloaded tab is not saved.\n\n\nExpected results:\n\nThe \"dummy\" attribute should be saved.", "creator": "tabutils+bugzilla@gmail.com", "is_private": false, "count": 0}, {"creator": "tabutils+bugzilla@gmail.com", "is_private": false, "count": 1, "author": "tabutils+bugzilla@gmail.com", "creation_time": "2012-12-16T01:53:49Z", "bug_id": 684770, "tags": [], "time": "2012-12-16T01:53:49Z", "text": "Created attachment 692679\npatch", "attachment_id": 692679, "raw_text": "", "id": 6918509}, {"raw_text": "Review of attachment 692679:\n-----------------------------------------------------------------\n\nGood catch, thanks for the patch! Should be simple to write a test for this, no?", "attachment_id": 692679, "id": 6924891, "count": 2, "is_private": false, "creator": "ttaubert@mozilla.com", "text": "Comment on attachment 692679\npatch\n\nReview of attachment 692679:\n-----------------------------------------------------------------\n\nGood catch, thanks for the patch! Should be simple to write a test for this, no?", "time": "2012-12-18T13:54:29Z", "bug_id": 684770, "tags": [], "creation_time": "2012-12-18T13:54:29Z", "author": "ttaubert@mozilla.com"}, {"count": 3, "creator": "tabutils+bugzilla@gmail.com", "is_private": false, "tags": [], "time": "2012-12-24T15:39:42Z", "bug_id": 684770, "text": "Created attachment 695480\npatch v2\n\nAdded testcase.", "author": "tabutils+bugzilla@gmail.com", "creation_time": "2012-12-24T15:39:42Z", "raw_text": "Added testcase.", "attachment_id": 695480, "id": 6942844}, {"id": 6956032, "raw_text": "Review of attachment 695480:\n-----------------------------------------------------------------\n\nThe 'pending' attribute assertions fail when running the full test suite. The test completely fails when run in single mode. Sorry I currently don't have the time to look into why exactly it is failing. Thank you for writing the test and it would be great if you could take a look at the failures.", "attachment_id": 695480, "text": "Comment on attachment 695480\npatch v2\n\nReview of attachment 695480:\n-----------------------------------------------------------------\n\nThe 'pending' attribute assertions fail when running the full test suite. The test completely fails when run in single mode. Sorry I currently don't have the time to look into why exactly it is failing. Thank you for writing the test and it would be great if you could take a look at the failures.", "tags": [], "bug_id": 684770, "time": "2013-01-02T15:05:09Z", "creation_time": "2013-01-02T15:05:09Z", "author": "ttaubert@mozilla.com", "count": 4, "is_private": false, "creator": "ttaubert@mozilla.com"}, {"is_private": false, "creator": "tabutils+bugzilla@gmail.com", "creation_time": "2013-01-03T02:43:49Z", "author": "tabutils+bugzilla@gmail.com", "text": "What I can think of only is that browser.sessionstore.restore_on_demand is turned off. Is this the case?", "time": "2013-01-03T02:43:49Z", "tags": [], "attachment_id": null, "raw_text": "What I can think of only is that browser.sessionstore.restore_on_demand is turned off. Is this the case?", "id": 6958509, "count": 5, "bug_id": 684770}]}}, "comments": {}}