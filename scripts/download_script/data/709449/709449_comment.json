{"comments": {}, "bugs": {"709449": {"comments": [{"author": "m-wada@usa.com", "creator": "m-wada@usa.com", "time": "2011-12-10T07:50:18Z", "creation_time": "2011-12-10T07:50:18Z", "is_private": false, "count": 0, "id": 5906196, "tags": [], "text": "If .msf file for parent IMAP folder is suffixed(X-1.msf, X-2.msf etc.), search folder is created in wrong .sbd directory without suffix(x.sbd).\n\nThis is spin-off of bug 707730 comment #18.\n\n[Steps to reproduce]\n\n(1) IMAP folder uses suffixed .msf file(e.g. X-1.msf for folder X).\n    This occurs by next on Win/NTFS;\n    (1-A) Server supports case insensitive folder name.\n          Create IMAP folder \"a b\" => \"a b.msf\" is used by Tb.\n          Create IMAP folder \"A B\" => \"A B-1.msf\" is used by Tb.\n          On Win, file of \"A B.msf\" == file of \"a b.msf\", so suffix is added.\n          If \"A b\"   is created after above, \"A b-2.msf  \" is used.\n          If \"A B-1\" is created after above, \"A B-1-1.msf\" is used.\n    (1-B) By bug 520437. \n          Create folder \"A B\", Unsubscribe \"A B\", and Subscribe \"A B\" again.\n    (1-C) Copy profile, restart Tb using copied profile in offline mode\n          (==server is unreachiable), and restart Tb again, access IMAP server.\n    So, folders of suffixed .msf name were created using Yahoo! IMAP\n    who supports case sensitive mbox name.\n      \"a b\" : uses file of \"a b.msf\"\n      \"A b\" : uses file of \"A b-1.msf\" instead of \"A b.msf\" (A b==a b on Win)\n      \"A B\" : uses file of \"A B-2.msf\" instead of \"A B.msf\" (A B==a b on Win)\n(2) Create MAP folder \"Sub\" under IMAP folder of \"a b\", \"A b\", \"A B\".\n    => \"Sub.msf is created under \"a b.sbd\", as expected.\n    => \"Sub.msf is created under \"A b-1.sbd\", as expected.\n    => \"Sub.msf is created under \"A B-2.sbd\", as expected.\n(3) Create search folder \"bla bla\" under IMAP folder of \"A B\".\n    => \"bla.bla.msf is created under \"a b.sbd\".\n    => uri=imap://boyacky%40rocketmail.com@imap.mail.yahoo.com/A B/bla%20bla\n(4) Create search folder \"bla bla\" under IMAP folder of \"a a\", \"A a\".\n    => Existent \"bla.bla.msf\" under \"a b.sbd\" is shared.\n(5) Update search rule at \"bla bla\" under one of \"a a\", \"A b\", \"A B\".\n    => Rule of \"bla bla\" under other parent folder is also changed,\n       because \"bla bla.msf\" under \"a b.sbd\" is shared.\n(6) Continued test, tried rename to \"xx bla bla\", rename back to \"bla bla\",\n    search folder access, update of search rules and so on.\n    => Exception on click of \"bla bla\", cleared search criteria at Properties\n       of \"bla bla\", no entry for \"bla bla\" in virtualFolders.dat,\n       etc. happened.\n(7) Terminate Tb => no entry for \"bla bla\" under \"a b\", \"A b\", \"A B\"  was\n    written in virtualFolders.dat. Perhaps due to exception (6).\n(8) Restart of Tb => due to (7), any of \"bla bla\" is lost.", "bug_id": 709449, "raw_text": "If .msf file for parent IMAP folder is suffixed(X-1.msf, X-2.msf etc.), search folder is created in wrong .sbd directory without suffix(x.sbd).\n\nThis is spin-off of bug 707730 comment #18.\n\n[Steps to reproduce]\n\n(1) IMAP folder uses suffixed .msf file(e.g. X-1.msf for folder X).\n    This occurs by next on Win/NTFS;\n    (1-A) Server supports case insensitive folder name.\n          Create IMAP folder \"a b\" => \"a b.msf\" is used by Tb.\n          Create IMAP folder \"A B\" => \"A B-1.msf\" is used by Tb.\n          On Win, file of \"A B.msf\" == file of \"a b.msf\", so suffix is added.\n          If \"A b\"   is created after above, \"A b-2.msf  \" is used.\n          If \"A B-1\" is created after above, \"A B-1-1.msf\" is used.\n    (1-B) By bug 520437. \n          Create folder \"A B\", Unsubscribe \"A B\", and Subscribe \"A B\" again.\n    (1-C) Copy profile, restart Tb using copied profile in offline mode\n          (==server is unreachiable), and restart Tb again, access IMAP server.\n    So, folders of suffixed .msf name were created using Yahoo! IMAP\n    who supports case sensitive mbox name.\n      \"a b\" : uses file of \"a b.msf\"\n      \"A b\" : uses file of \"A b-1.msf\" instead of \"A b.msf\" (A b==a b on Win)\n      \"A B\" : uses file of \"A B-2.msf\" instead of \"A B.msf\" (A B==a b on Win)\n(2) Create MAP folder \"Sub\" under IMAP folder of \"a b\", \"A b\", \"A B\".\n    => \"Sub.msf is created under \"a b.sbd\", as expected.\n    => \"Sub.msf is created under \"A b-1.sbd\", as expected.\n    => \"Sub.msf is created under \"A B-2.sbd\", as expected.\n(3) Create search folder \"bla bla\" under IMAP folder of \"A B\".\n    => \"bla.bla.msf is created under \"a b.sbd\".\n    => uri=imap://boyacky%40rocketmail.com@imap.mail.yahoo.com/A B/bla%20bla\n(4) Create search folder \"bla bla\" under IMAP folder of \"a a\", \"A a\".\n    => Existent \"bla.bla.msf\" under \"a b.sbd\" is shared.\n(5) Update search rule at \"bla bla\" under one of \"a a\", \"A b\", \"A B\".\n    => Rule of \"bla bla\" under other parent folder is also changed,\n       because \"bla bla.msf\" under \"a b.sbd\" is shared.\n(6) Continued test, tried rename to \"xx bla bla\", rename back to \"bla bla\",\n    search folder access, update of search rules and so on.\n    => Exception on click of \"bla bla\", cleared search criteria at Properties\n       of \"bla bla\", no entry for \"bla bla\" in virtualFolders.dat,\n       etc. happened.\n(7) Terminate Tb => no entry for \"bla bla\" under \"a b\", \"A b\", \"A B\"  was\n    written in virtualFolders.dat. Perhaps due to exception (6).\n(8) Restart of Tb => due to (7), any of \"bla bla\" is lost.", "attachment_id": null}, {"tags": [], "text": "Why Security-Sensitive bug? I checked it by mistake upon bug open?\nCan some one remove security flag?", "bug_id": 709449, "raw_text": "Why Security-Sensitive bug? I checked it by mistake upon bug open?\nCan some one remove security flag?", "attachment_id": null, "author": "m-wada@usa.com", "creation_time": "2011-12-11T05:38:17Z", "time": "2011-12-11T05:38:17Z", "creator": "m-wada@usa.com", "id": 5906964, "count": 1, "is_private": false}]}}}