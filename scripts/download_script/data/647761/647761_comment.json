{"bugs": {"647761": {"comments": [{"author": "adrien@qbik.com", "count": 0, "text": "User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; GTB6.6; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C)\nBuild Identifier: 3.3a3\n\nlike the title says, account creation fails.  All details are correct, server logs show connections from TB, but no protocol which could enable TB to actually validate anything other than the servername (no auth protocol).\n\nTherefore validation is failing.\n\nEven though I selected Manual config, it still disables the Create Account button, I presume I have to pass the Re-test before it will allow me to create an account?\n\nI tried servername as my local IP, and a fully qualified domain name of another server (also known correct).  Failed on all accounts.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. try to create an account\n2. Click manual configuration to stop it from testing\n3.\nActual Results:  \nalways fails tests, and keeps the button that creates the account disabled.\n\nExpected Results:  \nallow creation of the account, no matter what garbage I put in there.\n\nThe philosophy of banning account creation until some test is passed is fundamentally flawed.\n\nThere are numerous reasons why validation of details may fail, such as:\n\n* server currently off line\n* validation heuristics incorrect\n* something else no-one thought of\n\nto deny account creation because of this is at best annoying, and a waste of time, since one is forced to go fix other problems (maybe?) before being able to proceed with account creation even with details that are known to be correct, or even if they weren't could be modified later once the account was created.", "attachment_id": null, "creator": "adrien@qbik.com", "id": 5390726, "time": "2011-04-05T01:56:43Z", "is_private": false, "tags": [], "creation_time": "2011-04-05T01:56:43Z", "bug_id": 647761, "raw_text": "User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; GTB6.6; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C)\nBuild Identifier: 3.3a3\n\nlike the title says, account creation fails.  All details are correct, server logs show connections from TB, but no protocol which could enable TB to actually validate anything other than the servername (no auth protocol).\n\nTherefore validation is failing.\n\nEven though I selected Manual config, it still disables the Create Account button, I presume I have to pass the Re-test before it will allow me to create an account?\n\nI tried servername as my local IP, and a fully qualified domain name of another server (also known correct).  Failed on all accounts.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. try to create an account\n2. Click manual configuration to stop it from testing\n3.\nActual Results:  \nalways fails tests, and keeps the button that creates the account disabled.\n\nExpected Results:  \nallow creation of the account, no matter what garbage I put in there.\n\nThe philosophy of banning account creation until some test is passed is fundamentally flawed.\n\nThere are numerous reasons why validation of details may fail, such as:\n\n* server currently off line\n* validation heuristics incorrect\n* something else no-one thought of\n\nto deny account creation because of this is at best annoying, and a waste of time, since one is forced to go fix other problems (maybe?) before being able to proceed with account creation even with details that are known to be correct, or even if they weren't could be modified later once the account was created."}, {"count": 1, "text": "Adrien, while I realize that this issue is personally bugging you a lot, the \"blocker\" severity is only intended for cases where, let's say, the program does no longer compile. The next level \"critical\" is mainly for crashes and hang situations, so I'll give you a \"major\" severity on this bug.", "author": "rsx11m.pub@gmail.com", "creator": "rsx11m.pub@gmail.com", "attachment_id": null, "time": "2011-04-06T18:08:51Z", "id": 5392650, "raw_text": "Adrien, while I realize that this issue is personally bugging you a lot, the \"blocker\" severity is only intended for cases where, let's say, the program does no longer compile. The next level \"critical\" is mainly for crashes and hang situations, so I'll give you a \"major\" severity on this bug.", "bug_id": 647761, "creation_time": "2011-04-06T18:08:51Z", "tags": [], "is_private": false}, {"creator": "rsx11m.pub@gmail.com", "attachment_id": null, "count": 2, "text": "I'm unable to set up an IP-numerical server with Manual Config either, which worked in the old Account Wizard implementation before bug 549045 by clicking\non the \"Advanced Configuration\" instead, then filling in the right parameters using the conventional Account Settings dialogs.\n\nSo that's a regression and should be made possible again for those cases where you need it. The main issue is that the \"Advanced\" button is grayed out as well thus there is no chance to finalize the account setup in the Settings dialog.\n\nIt may be on purpose that \"Create Account\" is only active once re-testing was performed successfully, thus adding the people who should know. But even if the re-test fails, the \"Advanced\" settings should be made available as a fallback.", "author": "rsx11m.pub@gmail.com", "tags": [], "raw_text": "I'm unable to set up an IP-numerical server with Manual Config either, which worked in the old Account Wizard implementation before bug 549045 by clicking\non the \"Advanced Configuration\" instead, then filling in the right parameters using the conventional Account Settings dialogs.\n\nSo that's a regression and should be made possible again for those cases where you need it. The main issue is that the \"Advanced\" button is grayed out as well thus there is no chance to finalize the account setup in the Settings dialog.\n\nIt may be on purpose that \"Create Account\" is only active once re-testing was performed successfully, thus adding the people who should know. But even if the re-test fails, the \"Advanced\" settings should be made available as a fallback.", "bug_id": 647761, "creation_time": "2011-04-06T18:10:40Z", "is_private": false, "id": 5392659, "time": "2011-04-06T18:10:40Z"}, {"author": "adrien@qbik.com", "text": "I can't create any account.  numerical or otherwise.\n\nMy main concern is that this is the result of major re-work of the account creation UI, and when I see valid account creation blocked for any reason, I have to conclude that development is going in the wrong direction.\n\nI think it will bring problems to others if account creation is blocked for a user based on a policy made by a developer.  Unless the developer is omnipotent and can foresee all things, then failure to auto-detect settings should not block creation.\n\nBlocking account creation renders the product completely unusable.\n\nIt's possible there may be scenarios where account creation could succeed (I haven't let the auto discovery process complete / timeout / fail yet).  I've repro'd this on 2 systems now though.  I haven't managed to create an account yet, and I'm hardly a novice user.", "count": 3, "attachment_id": null, "creator": "adrien@qbik.com", "time": "2011-04-06T20:49:02Z", "id": 5393118, "is_private": false, "raw_text": "I can't create any account.  numerical or otherwise.\n\nMy main concern is that this is the result of major re-work of the account creation UI, and when I see valid account creation blocked for any reason, I have to conclude that development is going in the wrong direction.\n\nI think it will bring problems to others if account creation is blocked for a user based on a policy made by a developer.  Unless the developer is omnipotent and can foresee all things, then failure to auto-detect settings should not block creation.\n\nBlocking account creation renders the product completely unusable.\n\nIt's possible there may be scenarios where account creation could succeed (I haven't let the auto discovery process complete / timeout / fail yet).  I've repro'd this on 2 systems now though.  I haven't managed to create an account yet, and I'm hardly a novice user.", "bug_id": 647761, "creation_time": "2011-04-06T20:49:02Z", "tags": []}, {"id": 5393262, "time": "2011-04-06T21:38:42Z", "is_private": false, "tags": [], "creation_time": "2011-04-06T21:38:42Z", "bug_id": 647761, "raw_text": "(In reply to comment #1)\n> Adrien, while I realize that this issue is personally bugging you a lot, the\n> \"blocker\" severity is only intended for cases where, let's say, the program\n> does no longer compile. The next level \"critical\" is mainly for crashes and\n> hang situations, so I'll give you a \"major\" severity on this bug.\n\nOK, thanks will keep in mind for next time.", "author": "adrien@qbik.com", "text": "(In reply to comment #1)\n> Adrien, while I realize that this issue is personally bugging you a lot, the\n> \"blocker\" severity is only intended for cases where, let's say, the program\n> does no longer compile. The next level \"critical\" is mainly for crashes and\n> hang situations, so I'll give you a \"major\" severity on this bug.\n\nOK, thanks will keep in mind for next time.", "count": 4, "attachment_id": null, "creator": "adrien@qbik.com"}, {"count": 5, "text": "> I can't create any account.  numerical or otherwise.\n\nYou'll have to be more precise than that, because it's obviously possible to create accounts.\n\n> (I haven't let the auto discovery process complete / timeout / fail yet)\n\nWell...", "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null, "id": 5393540, "time": "2011-04-06T23:39:35Z", "tags": [], "creation_time": "2011-04-06T23:39:35Z", "bug_id": 647761, "raw_text": "> I can't create any account.  numerical or otherwise.\n\nYou'll have to be more precise than that, because it's obviously possible to create accounts.\n\n> (I haven't let the auto discovery process complete / timeout / fail yet)\n\nWell...", "is_private": false}, {"is_private": false, "tags": [], "creation_time": "2011-04-06T23:50:29Z", "bug_id": 647761, "raw_text": "Do users really have to wait for the discovery to time out?  The manual config button seems to stop it.  \n\nI did another test, where I waited (and waited).  Finally it came up with some settings I didn't want, but importantly enabled the Create Account button.\n\nIt also then seemed to behave properly.\n\nSo the bug is: if you hit the manual config button during discovery, the system gets hosed:\n\na) never enables the Create account button\nb) never does anything useful if you hit Re-Test (connects but never tries to auth)\n\nSo, steps to reproduce:\n\n1. New account\n2. Enter name, email and password\n3. Click continue\n4. Before discovery completes, hit \"Manual config\".", "id": 5393565, "time": "2011-04-06T23:50:29Z", "attachment_id": null, "creator": "adrien@qbik.com", "author": "adrien@qbik.com", "text": "Do users really have to wait for the discovery to time out?  The manual config button seems to stop it.  \n\nI did another test, where I waited (and waited).  Finally it came up with some settings I didn't want, but importantly enabled the Create Account button.\n\nIt also then seemed to behave properly.\n\nSo the bug is: if you hit the manual config button during discovery, the system gets hosed:\n\na) never enables the Create account button\nb) never does anything useful if you hit Re-Test (connects but never tries to auth)\n\nSo, steps to reproduce:\n\n1. New account\n2. Enter name, email and password\n3. Click continue\n4. Before discovery completes, hit \"Manual config\".", "count": 6}, {"text": "(In reply to comment #2)\n> I'm unable to set up an IP-numerical server with Manual Config either, which\n> worked in the old Account Wizard implementation before bug 549045 by clicking\n> on the \"Advanced Configuration\" instead, then filling in the right parameters\n> using the conventional Account Settings dialogs.\n\nFor the sake of completeness, I've indeed waited for the discovery to fail on\nmy provided @127.0.0.1 address, then tried to use that IP address in the manual config dialog. At no time (including re-testing) I saw \"Advanced Config\" or \"Create Account\" enabled, in contrast to the old wizard. But then, I'm not running an IMAP server on localhost, so that wasn't quite a perfect test.", "count": 7, "id": 5393572, "time": "2011-04-06T23:55:27Z", "author": "rsx11m.pub@gmail.com", "tags": [], "creator": "rsx11m.pub@gmail.com", "bug_id": 647761, "creation_time": "2011-04-06T23:55:27Z", "raw_text": "(In reply to comment #2)\n> I'm unable to set up an IP-numerical server with Manual Config either, which\n> worked in the old Account Wizard implementation before bug 549045 by clicking\n> on the \"Advanced Configuration\" instead, then filling in the right parameters\n> using the conventional Account Settings dialogs.\n\nFor the sake of completeness, I've indeed waited for the discovery to fail on\nmy provided @127.0.0.1 address, then tried to use that IP address in the manual config dialog. At no time (including re-testing) I saw \"Advanced Config\" or \"Create Account\" enabled, in contrast to the old wizard. But then, I'm not running an IMAP server on localhost, so that wasn't quite a perfect test.", "is_private": false, "attachment_id": null}, {"attachment_id": null, "is_private": false, "creation_time": "2011-04-06T23:57:38Z", "bug_id": 647761, "raw_text": "I've said this before in another bug, but I'll say it again.\n\nI think it would be wise to offer an option to avoid discovery and go straight to manual config.  E.g. a manual config button on the first page of the wizard.\n\nIt's conceivable that the discovery process could cause unforeseen problems in some environments.\n\nApart from the time it takes and this problem it does a bunch of things:\n\n* DNS lookups\n* connections to servers it generates the name for itself based on common extensions of the email domain (e.g. imap.*, smtp.* etc).\n\nIn some environments this could set off all manner of firewall alarms etc, and create issues for people to deal with (Bob, why were you trying to connect to x.y.z)\n\nCreating accounts is not (thankfully) something done every day (unless you're like me and develop mail servers and need to set up test accounts all the time).  The delay would be nice to avoid for me, but you could argue that an adequate fix for general public user is to just disable the manual config button until discovery is completed.", "tags": [], "creator": "adrien@qbik.com", "time": "2011-04-06T23:57:38Z", "author": "adrien@qbik.com", "id": 5393579, "count": 8, "text": "I've said this before in another bug, but I'll say it again.\n\nI think it would be wise to offer an option to avoid discovery and go straight to manual config.  E.g. a manual config button on the first page of the wizard.\n\nIt's conceivable that the discovery process could cause unforeseen problems in some environments.\n\nApart from the time it takes and this problem it does a bunch of things:\n\n* DNS lookups\n* connections to servers it generates the name for itself based on common extensions of the email domain (e.g. imap.*, smtp.* etc).\n\nIn some environments this could set off all manner of firewall alarms etc, and create issues for people to deal with (Bob, why were you trying to connect to x.y.z)\n\nCreating accounts is not (thankfully) something done every day (unless you're like me and develop mail servers and need to set up test accounts all the time).  The delay would be nice to avoid for me, but you could argue that an adequate fix for general public user is to just disable the manual config button until discovery is completed."}, {"text": "I just tried it, with my own local server (Cyrus and Postfix) on my LAN, and it works fine.\n\nReproduction:\n1. Enter \"foo@foobar.com\" as email address, and random real name, and your real, working password for the IMAP server\n2. Click Continue\n3. Click Stop (or wait for the detection to fail)\n4. You end up in the Manual Config mode with fields for the server hostname\n5. Enter the IP address of the server in both fields\n6. Enter your real, working IMAP/SMTP username in the username field.\n7. Click [Re-Test]\n   ([Create] and [Advanced Config] are disabled, you need to test first)\n8. It connects to the IMAP and SMTP servers, correctly detects their settings (ports, SSL, authentication methods), and displays them.\n9. Click [Create]\n10. Click on the new account\n11. See your mail\n\nWORKSFORME", "count": 9, "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null, "id": 5393584, "time": "2011-04-06T23:59:11Z", "tags": [], "raw_text": "I just tried it, with my own local server (Cyrus and Postfix) on my LAN, and it works fine.\n\nReproduction:\n1. Enter \"foo@foobar.com\" as email address, and random real name, and your real, working password for the IMAP server\n2. Click Continue\n3. Click Stop (or wait for the detection to fail)\n4. You end up in the Manual Config mode with fields for the server hostname\n5. Enter the IP address of the server in both fields\n6. Enter your real, working IMAP/SMTP username in the username field.\n7. Click [Re-Test]\n   ([Create] and [Advanced Config] are disabled, you need to test first)\n8. It connects to the IMAP and SMTP servers, correctly detects their settings (ports, SSL, authentication methods), and displays them.\n9. Click [Create]\n10. Click on the new account\n11. See your mail\n\nWORKSFORME", "bug_id": 647761, "creation_time": "2011-04-06T23:59:11Z", "is_private": false}, {"count": 10, "text": "> The manual config button seems to stop [autodetection]\n\nYes, it does. Clicking that is fine, you did that right.\nSorry, I misunderstood you.\n\n> where I waited (and waited)\n\n(FYI: You will not wait more than ~15 seconds, unless your server or network setup is bad, e.g. servers deliberately do not respond at all or DNS server is extremely slow. I explicitly tried to make it very fast and fail quickly.)\n\n> b) never does anything useful if you hit Re-Test\n> (connects but never tries to auth)\n\nThat works as expected for me. It's not supposed to auth, but only test server capabilities. If the server is implemented properly, that works fine.\n\nI guess that your server is just broken.", "time": "2011-04-07T00:05:33Z", "author": "ben.bucksch@beonex.com", "id": 5393603, "bug_id": 647761, "creation_time": "2011-04-07T00:05:33Z", "raw_text": "> The manual config button seems to stop [autodetection]\n\nYes, it does. Clicking that is fine, you did that right.\nSorry, I misunderstood you.\n\n> where I waited (and waited)\n\n(FYI: You will not wait more than ~15 seconds, unless your server or network setup is bad, e.g. servers deliberately do not respond at all or DNS server is extremely slow. I explicitly tried to make it very fast and fail quickly.)\n\n> b) never does anything useful if you hit Re-Test\n> (connects but never tries to auth)\n\nThat works as expected for me. It's not supposed to auth, but only test server capabilities. If the server is implemented properly, that works fine.\n\nI guess that your server is just broken.", "tags": [], "creator": "ben.bucksch@beonex.com", "attachment_id": null, "is_private": false}, {"author": "ben.bucksch@beonex.com", "time": "2011-04-07T00:08:40Z", "id": 5393608, "count": 11, "text": "Please read and follow <https://developer.mozilla.org/en/Thunderbird/Autoconfiguration/FileFormat/HowTo#How_to_probe_mail_servers> and post the output of your manual probing with netcat / telnet.\n\nOne way to counter these problems is to just set up autoconfig for your domain. See <https://developer.mozilla.org/en/Thunderbird/Autoconfiguration#Small_company>", "attachment_id": null, "is_private": false, "raw_text": "Please read and follow <https://developer.mozilla.org/en/Thunderbird/Autoconfiguration/FileFormat/HowTo#How_to_probe_mail_servers> and post the output of your manual probing with netcat / telnet.\n\nOne way to counter these problems is to just set up autoconfig for your domain. See <https://developer.mozilla.org/en/Thunderbird/Autoconfiguration#Small_company>", "bug_id": 647761, "creation_time": "2011-04-07T00:08:40Z", "creator": "ben.bucksch@beonex.com", "tags": []}, {"id": 5393611, "time": "2011-04-07T00:09:15Z", "is_private": false, "tags": [], "raw_text": "Hi\n\nIf I hit the stop button, it goes back to first page, and I have to hit Continue, which then starts discovery again.\n\nThe only thing for me that lets the wizard move onwards is if I hit the \"Manual config\" button.  Then it's in the problem condition.\n\nDo you have a later build than me?  Mine only says 3.3a3, doesn't give a build no or date or anything.", "bug_id": 647761, "creation_time": "2011-04-07T00:09:15Z", "author": "adrien@qbik.com", "text": "Hi\n\nIf I hit the stop button, it goes back to first page, and I have to hit Continue, which then starts discovery again.\n\nThe only thing for me that lets the wizard move onwards is if I hit the \"Manual config\" button.  Then it's in the problem condition.\n\nDo you have a later build than me?  Mine only says 3.3a3, doesn't give a build no or date or anything.", "count": 12, "attachment_id": null, "creator": "adrien@qbik.com"}, {"time": "2011-04-07T00:09:42Z", "id": 5393615, "is_private": false, "creation_time": "2011-04-07T00:09:42Z", "bug_id": 647761, "raw_text": "> One way to counter these problems\n\nCorrection: If your server doesn't properly respond to CAPABILITIES check, that won't help either. That CAP has to work.", "tags": [], "author": "ben.bucksch@beonex.com", "text": "> One way to counter these problems\n\nCorrection: If your server doesn't properly respond to CAPABILITIES check, that won't help either. That CAP has to work.", "count": 13, "attachment_id": null, "creator": "ben.bucksch@beonex.com"}, {"count": 14, "text": "> If I hit the stop button, it goes back to first page\n> The only thing for me that lets the wizard move onwards is if\n> I hit the \"Manual config\" button.\n\nYou're right, sorry.", "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null, "time": "2011-04-07T00:11:00Z", "id": 5393621, "raw_text": "> If I hit the stop button, it goes back to first page\n> The only thing for me that lets the wizard move onwards is if\n> I hit the \"Manual config\" button.\n\nYou're right, sorry.", "bug_id": 647761, "creation_time": "2011-04-07T00:11:00Z", "tags": [], "is_private": false}, {"raw_text": "(In reply to comment #13)\n> Correction: If your server doesn't properly respond to CAPABILITIES check, that\n> won't help either. That CAP has to work.\n\nOk, so the conclusion of this is that you need a working server on both POP/IMAP and SMTP side to set up account. Meaning, if one of the servers is currently unavailable for whatever reason, you won't be able to set up a respective account. That would explain why my testing failed.", "creation_time": "2011-04-07T00:13:47Z", "bug_id": 647761, "creator": "rsx11m.pub@gmail.com", "tags": [], "is_private": false, "attachment_id": null, "count": 15, "text": "(In reply to comment #13)\n> Correction: If your server doesn't properly respond to CAPABILITIES check, that\n> won't help either. That CAP has to work.\n\nOk, so the conclusion of this is that you need a working server on both POP/IMAP and SMTP side to set up account. Meaning, if one of the servers is currently unavailable for whatever reason, you won't be able to set up a respective account. That would explain why my testing failed.", "author": "rsx11m.pub@gmail.com", "time": "2011-04-07T00:13:47Z", "id": 5393626}, {"bug_id": 647761, "creation_time": "2011-04-07T00:16:35Z", "raw_text": "> you need a working server on both POP/IMAP and SMTP side to set up account.\n> Meaning, if one of the servers is currently unavailable for whatever reason,\n> you won't be able to set up a respective account.\n\neh... Yes :-)", "tags": [], "is_private": false, "time": "2011-04-07T00:16:35Z", "id": 5393641, "creator": "ben.bucksch@beonex.com", "attachment_id": null, "text": "> you need a working server on both POP/IMAP and SMTP side to set up account.\n> Meaning, if one of the servers is currently unavailable for whatever reason,\n> you won't be able to set up a respective account.\n\neh... Yes :-)", "count": 16, "author": "ben.bucksch@beonex.com"}, {"text": "(Note that you should be able to select an existing SMTP server from the drop-down, too.)", "count": 17, "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null, "time": "2011-04-07T00:17:36Z", "id": 5393645, "raw_text": "(Note that you should be able to select an existing SMTP server from the drop-down, too.)", "creation_time": "2011-04-07T00:17:36Z", "bug_id": 647761, "tags": [], "is_private": false}, {"count": 18, "text": "I see it do the CAPABILITY, and it gets the response fine.  So server not broken (the account is actually usable and used by Miramar).  So the probing code must behave differently to the code that actually uses the account.\n\nS:=> * OK WinGate IMAP4rev1 service ready\nC:<= 1 CAPABILITY\nS:=> * CAPABILITY IMAP4 IMAP4rev1 UNSELECT LITERAL+ ID UIDPLUS ENABLE MOVE CONDSTORE IDLE AUTH=NTLM LOGIN\nS:=> 1 OK CAPABILITY command completed\nC:<= 2 LOGOUT\nS:=> * BYE WinGate IMAP4rev1 server closing connection\nS:=> 2 OK LOGOUT command completed\n\nI tried with different IPs, and hostnames.  Always Advanced config and Create Account buttons remain disabled", "author": "adrien@qbik.com", "creator": "adrien@qbik.com", "attachment_id": null, "id": 5393650, "time": "2011-04-07T00:18:13Z", "tags": [], "raw_text": "I see it do the CAPABILITY, and it gets the response fine.  So server not broken (the account is actually usable and used by Miramar).  So the probing code must behave differently to the code that actually uses the account.\n\nS:=> * OK WinGate IMAP4rev1 service ready\nC:<= 1 CAPABILITY\nS:=> * CAPABILITY IMAP4 IMAP4rev1 UNSELECT LITERAL+ ID UIDPLUS ENABLE MOVE CONDSTORE IDLE AUTH=NTLM LOGIN\nS:=> 1 OK CAPABILITY command completed\nC:<= 2 LOGOUT\nS:=> * BYE WinGate IMAP4rev1 server closing connection\nS:=> 2 OK LOGOUT command completed\n\nI tried with different IPs, and hostnames.  Always Advanced config and Create Account buttons remain disabled", "bug_id": 647761, "creation_time": "2011-04-07T00:18:13Z", "is_private": false}, {"raw_text": "(In reply to comment #16)\n> > you need a working server on both POP/IMAP and SMTP side to set up account.\n> > Meaning, if one of the servers is currently unavailable for whatever reason,\n> > you won't be able to set up a respective account.\n> eh... Yes :-)\n\nso what happens if hypothetically I'm at a customer site trying to set up their email client, but the server (100 miles away, no remote access) is unavailable...  I have to get in my car, go fix the server?  Drive back and set up the account?\n\nHow about we just let the account setup proceed?", "creation_time": "2011-04-07T00:21:50Z", "bug_id": 647761, "creator": "adrien@qbik.com", "tags": [], "attachment_id": null, "is_private": false, "text": "(In reply to comment #16)\n> > you need a working server on both POP/IMAP and SMTP side to set up account.\n> > Meaning, if one of the servers is currently unavailable for whatever reason,\n> > you won't be able to set up a respective account.\n> eh... Yes :-)\n\nso what happens if hypothetically I'm at a customer site trying to set up their email client, but the server (100 miles away, no remote access) is unavailable...  I have to get in my car, go fix the server?  Drive back and set up the account?\n\nHow about we just let the account setup proceed?", "count": 19, "author": "adrien@qbik.com", "time": "2011-04-07T00:21:50Z", "id": 5393659}, {"time": "2011-04-07T00:24:54Z", "id": 5393662, "is_private": false, "raw_text": "(In reply to comment #18)\n> CONDSTORE IDLE AUTH=NTLM LOGIN\n\nShouldn't the last token be AUTH=LOGIN to be correct? Also, if the verification code checks NTLM and it fails, the entire verification fails?\n\nThis may also be subject to bug 635628 if NTLM is treated similar to GSSAPI.", "bug_id": 647761, "creation_time": "2011-04-07T00:24:54Z", "tags": [], "author": "rsx11m.pub@gmail.com", "count": 20, "text": "(In reply to comment #18)\n> CONDSTORE IDLE AUTH=NTLM LOGIN\n\nShouldn't the last token be AUTH=LOGIN to be correct? Also, if the verification code checks NTLM and it fails, the entire verification fails?\n\nThis may also be subject to bug 635628 if NTLM is treated similar to GSSAPI.", "attachment_id": null, "creator": "rsx11m.pub@gmail.com"}, {"author": "ben.bucksch@beonex.com", "time": "2011-04-07T00:33:39Z", "id": 5393689, "count": 21, "text": "> Shouldn't the last token be AUTH=LOGIN to be correct?\n\nYes, WinGate is pathologically broken, IIRC. Bad server implementation.\n\nTry Cyrus or Dovecot or Currier and Postfix, on Linux, for a proper server, if you are the admin.\n\n> I see it do the CAPABILITY, and it gets the response fine.\n> So server not broken\n\nBut you said one of the servers was not available. That would be the reason why it failed for you. It should fail, that's what it's supposed to do.\n\nIf only the IMAP server is available, see comment 17.\n\nSorry, but the point of the wizard is to ensure that the user ends up with a working account.\nYes, better make sure your server is actually working.\n\n> if hypothetically I'm at a customer site trying to set up their\n> email client, but the server (100 miles away, no remote access) is\n> unavailable...\n> I have to get in my car, go fix the server?  Drive back and set\n> up the account?\n\nIn that hypothetical, rare case, you would set up the account with another, working server, then, after creation, go into Account Settings and change the hostname and settings.\n\nYou can also always hack about:config / prefs.js manually, FWIW.", "is_private": false, "attachment_id": null, "raw_text": "> Shouldn't the last token be AUTH=LOGIN to be correct?\n\nYes, WinGate is pathologically broken, IIRC. Bad server implementation.\n\nTry Cyrus or Dovecot or Currier and Postfix, on Linux, for a proper server, if you are the admin.\n\n> I see it do the CAPABILITY, and it gets the response fine.\n> So server not broken\n\nBut you said one of the servers was not available. That would be the reason why it failed for you. It should fail, that's what it's supposed to do.\n\nIf only the IMAP server is available, see comment 17.\n\nSorry, but the point of the wizard is to ensure that the user ends up with a working account.\nYes, better make sure your server is actually working.\n\n> if hypothetically I'm at a customer site trying to set up their\n> email client, but the server (100 miles away, no remote access) is\n> unavailable...\n> I have to get in my car, go fix the server?  Drive back and set\n> up the account?\n\nIn that hypothetical, rare case, you would set up the account with another, working server, then, after creation, go into Account Settings and change the hostname and settings.\n\nYou can also always hack about:config / prefs.js manually, FWIW.", "bug_id": 647761, "creation_time": "2011-04-07T00:33:39Z", "creator": "ben.bucksch@beonex.com", "tags": []}, {"is_private": false, "raw_text": "LOGIN is not an SASL mechanism, it's inbuilt to IMAP, so isn't advertised as AUTH=\n\nNTLM isn't even tried - as Ben said, it only does the CAPABILITY command, it doesn't try to actually auth.\n\nNTLM works fine to that server with the creds I supplied.", "bug_id": 647761, "creation_time": "2011-04-07T00:34:37Z", "tags": [], "time": "2011-04-07T00:34:37Z", "id": 5393695, "attachment_id": null, "creator": "adrien@qbik.com", "author": "adrien@qbik.com", "text": "LOGIN is not an SASL mechanism, it's inbuilt to IMAP, so isn't advertised as AUTH=\n\nNTLM isn't even tried - as Ben said, it only does the CAPABILITY command, it doesn't try to actually auth.\n\nNTLM works fine to that server with the creds I supplied.", "count": 22}, {"is_private": false, "attachment_id": null, "creator": "adrien@qbik.com", "tags": [], "raw_text": "(In reply to comment #21)\n> > Shouldn't the last token be AUTH=LOGIN to be correct?\n> Yes, WinGate is pathologically broken, IIRC. Bad server implementation.\n\nOh really?\n\nyou should look who you're talking to.", "bug_id": 647761, "creation_time": "2011-04-07T00:35:10Z", "id": 5393699, "author": "adrien@qbik.com", "time": "2011-04-07T00:35:10Z", "text": "(In reply to comment #21)\n> > Shouldn't the last token be AUTH=LOGIN to be correct?\n> Yes, WinGate is pathologically broken, IIRC. Bad server implementation.\n\nOh really?\n\nyou should look who you're talking to.", "count": 23}, {"creator": "adrien@qbik.com", "attachment_id": null, "count": 24, "text": "p.s. I'd be happy to discuss any concrete issues with WinGate IMAP", "author": "adrien@qbik.com", "tags": [], "creation_time": "2011-04-07T00:39:54Z", "bug_id": 647761, "raw_text": "p.s. I'd be happy to discuss any concrete issues with WinGate IMAP", "is_private": false, "id": 5393710, "time": "2011-04-07T00:39:54Z"}, {"id": 5393726, "time": "2011-04-07T00:44:17Z", "author": "ben.bucksch@beonex.com", "count": 25, "text": "> > Shouldn't the last token be AUTH=LOGIN to be correct?\n\n> Yes\n\nNote that this shouldn't be fatal, because there's no LOGINDISABLED, so we have the old IMAP login available. That means unencrypted password is available, no need for NTLM.\n\n> you should look who you're talking to.\n\nWhy? Are you the author of WinGate?\n\n> LOGIN is not an SASL mechanism, it's inbuilt to IMAP, so isn't\n> advertised as AUTH=\n\nNo. There is a SASL AUTH LOGIN mechanism. That's NOT the same as the LOGIN command of IMAP (RFC 3501 Sec 6.2.3).\n\nFor SASL LOGIN, see\nhttp://www.cyrusimap.org/docs/cyrus-sasl/2.1.23/draft-murchison-sasl-login-xx.txt\nhttp://mxr.mozilla.org/comm-central/source/mailnews/test/fakeserver/auth.js#88\nhttp://www.postfix.org/SASL_README.html\n\nAn IMAP capability \"LOGIN\" does not exist, it's invalid. The IMAP command LOGIN is always available, unless you have capability LOGINDISABLED (which the server must implement, because the IMAP LOGIN command is deprecated, but the admin can chose not to set it and allow old-style LOGIN command).", "attachment_id": null, "is_private": false, "tags": [], "creator": "ben.bucksch@beonex.com", "bug_id": 647761, "creation_time": "2011-04-07T00:44:17Z", "raw_text": "> > Shouldn't the last token be AUTH=LOGIN to be correct?\n\n> Yes\n\nNote that this shouldn't be fatal, because there's no LOGINDISABLED, so we have the old IMAP login available. That means unencrypted password is available, no need for NTLM.\n\n> you should look who you're talking to.\n\nWhy? Are you the author of WinGate?\n\n> LOGIN is not an SASL mechanism, it's inbuilt to IMAP, so isn't\n> advertised as AUTH=\n\nNo. There is a SASL AUTH LOGIN mechanism. That's NOT the same as the LOGIN command of IMAP (RFC 3501 Sec 6.2.3).\n\nFor SASL LOGIN, see\nhttp://www.cyrusimap.org/docs/cyrus-sasl/2.1.23/draft-murchison-sasl-login-xx.txt\nhttp://mxr.mozilla.org/comm-central/source/mailnews/test/fakeserver/auth.js#88\nhttp://www.postfix.org/SASL_README.html\n\nAn IMAP capability \"LOGIN\" does not exist, it's invalid. The IMAP command LOGIN is always available, unless you have capability LOGINDISABLED (which the server must implement, because the IMAP LOGIN command is deprecated, but the admin can chose not to set it and allow old-style LOGIN command)."}, {"creation_time": "2011-04-07T00:46:58Z", "bug_id": 647761, "raw_text": "(In reply to comment #21)\n> > I see it do the CAPABILITY, and it gets the response fine.\n> > So server not broken\n> But you said one of the servers was not available. \n\nI don't recall saying that.  In my test cases, all servers are available.  How else could I post a protocol transcript.\n\n> it failed for you. It should fail, that's what it's supposed to do.\n> If only the IMAP server is available, see comment 17.\n\nyep.  I'm not complaining about the SMTP, it is using correct info.  Although it shouldn't prevent account creation there either.  It's perfectly valid to have an email client that can read only.\n\n> Sorry, but the point of the wizard is to ensure that the user ends up with a\n> working account.\n> Yes, better make sure your server is actually working.\n\nThat's a _really_bad_idea_.  I'd recommend you check with Mozilla superiors before implementing policy like this.\n\nI'm just trying to help.\n\n> > if hypothetically I'm at a customer site trying to set up their\n> > email client, but the server (100 miles away, no remote access) is\n> > unavailable...\n> > I have to get in my car, go fix the server?  Drive back and set\n> > up the account?\n> In that hypothetical, rare case, you would set up the account with another,\n> working server, then, after creation, go into Account Settings and change the\n> hostname and settings.\n\nStill need to go back there to change it.\n\nYou're forcing people to do things in your sequence.  This is software.\n\nUp until now, you've not mandated people march to your tune.  See how your customers like it.  My guess is they wont.\n\n> You can also always hack about:config / prefs.js manually, FWIW.\n\nOK, thanks I'll look more into this.", "tags": [], "creator": "adrien@qbik.com", "attachment_id": null, "is_private": false, "count": 26, "text": "(In reply to comment #21)\n> > I see it do the CAPABILITY, and it gets the response fine.\n> > So server not broken\n> But you said one of the servers was not available. \n\nI don't recall saying that.  In my test cases, all servers are available.  How else could I post a protocol transcript.\n\n> it failed for you. It should fail, that's what it's supposed to do.\n> If only the IMAP server is available, see comment 17.\n\nyep.  I'm not complaining about the SMTP, it is using correct info.  Although it shouldn't prevent account creation there either.  It's perfectly valid to have an email client that can read only.\n\n> Sorry, but the point of the wizard is to ensure that the user ends up with a\n> working account.\n> Yes, better make sure your server is actually working.\n\nThat's a _really_bad_idea_.  I'd recommend you check with Mozilla superiors before implementing policy like this.\n\nI'm just trying to help.\n\n> > if hypothetically I'm at a customer site trying to set up their\n> > email client, but the server (100 miles away, no remote access) is\n> > unavailable...\n> > I have to get in my car, go fix the server?  Drive back and set\n> > up the account?\n> In that hypothetical, rare case, you would set up the account with another,\n> working server, then, after creation, go into Account Settings and change the\n> hostname and settings.\n\nStill need to go back there to change it.\n\nYou're forcing people to do things in your sequence.  This is software.\n\nUp until now, you've not mandated people march to your tune.  See how your customers like it.  My guess is they wont.\n\n> You can also always hack about:config / prefs.js manually, FWIW.\n\nOK, thanks I'll look more into this.", "time": "2011-04-07T00:46:58Z", "author": "adrien@qbik.com", "id": 5393733}, {"author": "adrien@qbik.com", "text": "(In reply to comment #25)\n> > > Shouldn't the last token be AUTH=LOGIN to be correct?\n> > Yes\n> Note that this shouldn't be fatal, because there's no LOGINDISABLED, so we have\n> the old IMAP login available. That means unencrypted password is available, no\n> need for NTLM.\n> > you should look who you're talking to.\n> Why? Are you the author of WinGate?\n\nfor my sins.\n\n> > LOGIN is not an SASL mechanism, it's inbuilt to IMAP, so isn't\n> > advertised as AUTH=\n> No. There is a SASL AUTH LOGIN mechanism. That's NOT the same as the LOGIN\n> command of IMAP (RFC 3501 Sec 6.2.3).\n\nok, you're correct.  The LOGIN in IMAP is not the SASL LOGIN.  It's the inbuild plaintext login.  It's not advertised as AUTH=LOGIN, but there are requirements around availability of plaintext authentication methods based on whether a TLS connection has been set up, and you may see LOGINDISABLED if the server is so configured.\n\n> For SASL LOGIN, see\n> http://www.cyrusimap.org/docs/cyrus-sasl/2.1.23/draft-murchison-sasl-login-xx.txt\n> http://mxr.mozilla.org/comm-central/source/mailnews/test/fakeserver/auth.js#88\n> http://www.postfix.org/SASL_README.html\n> An IMAP capability \"LOGIN\" does not exist, it's invalid. The IMAP command LOGIN\n> is always available, unless you have capability LOGINDISABLED (which the server\n> must implement, because the IMAP LOGIN command is deprecated, but the admin can\n> chose not to set it and allow old-style LOGIN command).\n\nOK, I wonder where I got the idea to advertise LOGIN from... I'll have to do some more digging.  It could have been an extension RFC.  I can't find it in 3501 any more.", "count": 27, "attachment_id": null, "creator": "adrien@qbik.com", "time": "2011-04-07T00:49:56Z", "id": 5393740, "is_private": false, "creation_time": "2011-04-07T00:49:56Z", "bug_id": 647761, "raw_text": "(In reply to comment #25)\n> > > Shouldn't the last token be AUTH=LOGIN to be correct?\n> > Yes\n> Note that this shouldn't be fatal, because there's no LOGINDISABLED, so we have\n> the old IMAP login available. That means unencrypted password is available, no\n> need for NTLM.\n> > you should look who you're talking to.\n> Why? Are you the author of WinGate?\n\nfor my sins.\n\n> > LOGIN is not an SASL mechanism, it's inbuilt to IMAP, so isn't\n> > advertised as AUTH=\n> No. There is a SASL AUTH LOGIN mechanism. That's NOT the same as the LOGIN\n> command of IMAP (RFC 3501 Sec 6.2.3).\n\nok, you're correct.  The LOGIN in IMAP is not the SASL LOGIN.  It's the inbuild plaintext login.  It's not advertised as AUTH=LOGIN, but there are requirements around availability of plaintext authentication methods based on whether a TLS connection has been set up, and you may see LOGINDISABLED if the server is so configured.\n\n> For SASL LOGIN, see\n> http://www.cyrusimap.org/docs/cyrus-sasl/2.1.23/draft-murchison-sasl-login-xx.txt\n> http://mxr.mozilla.org/comm-central/source/mailnews/test/fakeserver/auth.js#88\n> http://www.postfix.org/SASL_README.html\n> An IMAP capability \"LOGIN\" does not exist, it's invalid. The IMAP command LOGIN\n> is always available, unless you have capability LOGINDISABLED (which the server\n> must implement, because the IMAP LOGIN command is deprecated, but the admin can\n> chose not to set it and allow old-style LOGIN command).\n\nOK, I wonder where I got the idea to advertise LOGIN from... I'll have to do some more digging.  It could have been an extension RFC.  I can't find it in 3501 any more.", "tags": []}, {"author": "ben.bucksch@beonex.com", "count": 28, "text": "> Are you the author of WinGate?\n\nChecked, and yes. Sorry, it wasn't my intention to insult you personally.\nI do not remember the concrete problems (thus IIRC). Thanks for the offer for bug reports. If I encounter a concrete problem, I'll mail you.\n\nFor now:\n- remove \"LOGIN\" capability\n- implement LOGINDISABLED, if you didn't already\n- implement AUTH PLAIN and AUTH CRAM-MD5\n  You'll find example implementations in the above fakeserver link -\n  it took me just a few days to implement them, IIRC.\n- By default, set LOGINDISABLED AUTH=PLAIN AUTH=CRAM-MD5\n\nEsp. CRAM-MD5 is important to protect the user's password when the user has no SSL.", "attachment_id": null, "creator": "ben.bucksch@beonex.com", "time": "2011-04-07T00:55:54Z", "id": 5393755, "is_private": false, "raw_text": "> Are you the author of WinGate?\n\nChecked, and yes. Sorry, it wasn't my intention to insult you personally.\nI do not remember the concrete problems (thus IIRC). Thanks for the offer for bug reports. If I encounter a concrete problem, I'll mail you.\n\nFor now:\n- remove \"LOGIN\" capability\n- implement LOGINDISABLED, if you didn't already\n- implement AUTH PLAIN and AUTH CRAM-MD5\n  You'll find example implementations in the above fakeserver link -\n  it took me just a few days to implement them, IIRC.\n- By default, set LOGINDISABLED AUTH=PLAIN AUTH=CRAM-MD5\n\nEsp. CRAM-MD5 is important to protect the user's password when the user has no SSL.", "creation_time": "2011-04-07T00:55:54Z", "bug_id": 647761, "tags": []}, {"id": 5393768, "time": "2011-04-07T01:07:31Z", "is_private": false, "tags": [], "creation_time": "2011-04-07T01:07:31Z", "bug_id": 647761, "raw_text": "> - By default, set LOGINDISABLED AUTH=PLAIN AUTH=CRAM-MD5\n\nCorrection: \n- By default, set AUTH=PLAIN AUTH=CRAM-MD5", "author": "ben.bucksch@beonex.com", "count": 29, "text": "> - By default, set LOGINDISABLED AUTH=PLAIN AUTH=CRAM-MD5\n\nCorrection: \n- By default, set AUTH=PLAIN AUTH=CRAM-MD5", "attachment_id": null, "creator": "ben.bucksch@beonex.com"}, {"creator": "adrien@qbik.com", "tags": [], "raw_text": "hey no problem :)  I didn't take it personally.  What are the chances hey?\n\nYou're right about advertising LOGIN.  It should have been advertised as AUTH=PLAIN, which is a requirement in 3501 (although can be overridden by LOGINDISABLED).\n\nWe support LOGINDISABLED, but it wasn't turned on on our server.\n\n\tif(m_bCanUseLogin)\n\t\tstrResponse += \" LOGIN\";\n\telse\n\t\tstrResponse += \" LOGINDISABLED\";\n\nThere's the puppy.\n\nWe support CRAM-MD5 where the user database we are using offers plaintext passwords, (which Windows normally does not). So normally NTLM is the only \"secure\" option for users.  I don't know if there was a DIGEST or Kerberos option for IMAP, but all the MD5 and other hash-based ones are no good without PT password.\n\nI still reckon it is asking for trouble to deny the user ability to create the account though.\n\nI also timed my setup (i7 nehalem, GB-connected servers) 18s.  18s isn't long, but Joe Average doesn't know how long he's likely to have to wait.", "bug_id": 647761, "creation_time": "2011-04-07T01:09:07Z", "is_private": false, "attachment_id": null, "count": 30, "text": "hey no problem :)  I didn't take it personally.  What are the chances hey?\n\nYou're right about advertising LOGIN.  It should have been advertised as AUTH=PLAIN, which is a requirement in 3501 (although can be overridden by LOGINDISABLED).\n\nWe support LOGINDISABLED, but it wasn't turned on on our server.\n\n\tif(m_bCanUseLogin)\n\t\tstrResponse += \" LOGIN\";\n\telse\n\t\tstrResponse += \" LOGINDISABLED\";\n\nThere's the puppy.\n\nWe support CRAM-MD5 where the user database we are using offers plaintext passwords, (which Windows normally does not). So normally NTLM is the only \"secure\" option for users.  I don't know if there was a DIGEST or Kerberos option for IMAP, but all the MD5 and other hash-based ones are no good without PT password.\n\nI still reckon it is asking for trouble to deny the user ability to create the account though.\n\nI also timed my setup (i7 nehalem, GB-connected servers) 18s.  18s isn't long, but Joe Average doesn't know how long he's likely to have to wait.", "id": 5393769, "author": "adrien@qbik.com", "time": "2011-04-07T01:09:07Z"}, {"count": 31, "text": "p.s. in 6 years never had a problem before advertising LOGIN, which is why it was still there.\n\nthanks for pointing that out.", "author": "adrien@qbik.com", "time": "2011-04-07T01:14:00Z", "id": 5393774, "raw_text": "p.s. in 6 years never had a problem before advertising LOGIN, which is why it was still there.\n\nthanks for pointing that out.", "bug_id": 647761, "creation_time": "2011-04-07T01:14:00Z", "creator": "adrien@qbik.com", "tags": [], "attachment_id": null, "is_private": false}, {"time": "2011-04-07T01:19:06Z", "id": 5393777, "raw_text": "Thanks for not taking offense :) I'll mail you with the server issues right now.", "bug_id": 647761, "creation_time": "2011-04-07T01:19:06Z", "tags": [], "is_private": false, "count": 32, "text": "Thanks for not taking offense :) I'll mail you with the server issues right now.", "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null}, {"creator": "adrien@qbik.com", "tags": [], "raw_text": "thanks.  If you need a test account here (so you can hit our latest server code - it's quite different now), let me know.", "bug_id": 647761, "creation_time": "2011-04-07T01:29:14Z", "attachment_id": null, "is_private": false, "count": 33, "text": "thanks.  If you need a test account here (so you can hit our latest server code - it's quite different now), let me know.", "id": 5393788, "author": "adrien@qbik.com", "time": "2011-04-07T01:29:14Z"}, {"creator": "ben.bucksch@beonex.com", "attachment_id": null, "text": "> You're right about advertising LOGIN.  It should have been advertised as\n> AUTH=PLAIN, which is a requirement in 3501\n\nPlease note that AUTH=PLAIN is SASL AUTH PLAIN defined in RFC 4616 and again not the same as IMAP LOGIN command. Please do not send capability AUTH=PLAIN unless RFC 4616 is working, otherwise it would be invalid and break us.", "count": 34, "author": "ben.bucksch@beonex.com", "creation_time": "2011-04-07T01:33:51Z", "bug_id": 647761, "raw_text": "> You're right about advertising LOGIN.  It should have been advertised as\n> AUTH=PLAIN, which is a requirement in 3501\n\nPlease note that AUTH=PLAIN is SASL AUTH PLAIN defined in RFC 4616 and again not the same as IMAP LOGIN command. Please do not send capability AUTH=PLAIN unless RFC 4616 is working, otherwise it would be invalid and break us.", "tags": [], "is_private": false, "time": "2011-04-07T01:33:51Z", "id": 5393792}, {"time": "2011-04-07T03:13:02Z", "id": 5393837, "is_private": false, "raw_text": "OK.  I did a bunch more testing and can report.\n\n1. server advertising LOGIN has no bearing on result.  Client behaviour is the same.  I fixed our server anyway, and it now advertises AUTH=PLAIN (SASL PLAIN = NUL user NUL pass) or LOGINDISABLED if configured to disallow PLAIN in our UI.\n\n2. Problem of disabled Create account button only occurs if Manual config button clicked while TB is discovering settings.\n\nSo this needs to be fixed, either by disabling the manual config button during discovery, or fixing it so it works (my preference).\n\n3. Final stage of verifying password is problematic.\n\nUnless you click \"advanced config\", it doesn't give you any opportunity to enter a username, and instead derives this from the email address.  This will fail more often than not on an AD for example, where usernames are fully qualified with the AD domain name.  If the user part of the email address is not the account login, then this check fails, hitting Create Account just recycles this.  This is a problematic user experience.  I don't think the timid user will want to hit \"Advanced Config\". \n\nThat button bypasses all checking and creates the account (does what one would expect the Create Account button to do).\n\nIn fact, one would expect re-test to do the testing, including verifying password.  Failure to verify password should prompt for username and password.\n\nCreate account should only create the account. \n\nI think Mozilla will have support issues with this wizard the way it is.\n\nIf people are allowed to edit accounts with bad data, they should be able to create them also.\n\nthe human should always have the last say - ask any airline pilot.", "creation_time": "2011-04-07T03:13:02Z", "bug_id": 647761, "tags": [], "author": "adrien@qbik.com", "text": "OK.  I did a bunch more testing and can report.\n\n1. server advertising LOGIN has no bearing on result.  Client behaviour is the same.  I fixed our server anyway, and it now advertises AUTH=PLAIN (SASL PLAIN = NUL user NUL pass) or LOGINDISABLED if configured to disallow PLAIN in our UI.\n\n2. Problem of disabled Create account button only occurs if Manual config button clicked while TB is discovering settings.\n\nSo this needs to be fixed, either by disabling the manual config button during discovery, or fixing it so it works (my preference).\n\n3. Final stage of verifying password is problematic.\n\nUnless you click \"advanced config\", it doesn't give you any opportunity to enter a username, and instead derives this from the email address.  This will fail more often than not on an AD for example, where usernames are fully qualified with the AD domain name.  If the user part of the email address is not the account login, then this check fails, hitting Create Account just recycles this.  This is a problematic user experience.  I don't think the timid user will want to hit \"Advanced Config\". \n\nThat button bypasses all checking and creates the account (does what one would expect the Create Account button to do).\n\nIn fact, one would expect re-test to do the testing, including verifying password.  Failure to verify password should prompt for username and password.\n\nCreate account should only create the account. \n\nI think Mozilla will have support issues with this wizard the way it is.\n\nIf people are allowed to edit accounts with bad data, they should be able to create them also.\n\nthe human should always have the last say - ask any airline pilot.", "count": 35, "attachment_id": null, "creator": "adrien@qbik.com"}, {"count": 36, "text": "> 2. Problem of disabled Create account button only occurs if Manual config\n> button clicked while TB is discovering settings.\n\nAs said, it's intentionally disabled when the server hostname hasn't been verified. (It may be that you can modify the hostname and Create stays enabled, but that's a bug, not a feature.)\n\nDo the steps in comment 9 (Correction: in Step 3 clicking [Manual Config] instead of [Stop]) work, assuming the server works?\n\nIn that hypothetical, rare case, you could set up the account with another,\nworking server, then, after creation, go into Account Settings and change the\nhostname and settings.\n\n> Unless you click \"advanced config\", it doesn't give you any opportunity to\n> enter a username\n\nI have a Username field underneath the hostname fields.\n\n> 3. Final stage of verifying password is problematic.\n\nThis happens after clicking [Create]. You can bypass that password check (not the server host check) using [Advanced Config].", "author": "ben.bucksch@beonex.com", "time": "2011-04-07T07:44:10Z", "id": 5394079, "raw_text": "> 2. Problem of disabled Create account button only occurs if Manual config\n> button clicked while TB is discovering settings.\n\nAs said, it's intentionally disabled when the server hostname hasn't been verified. (It may be that you can modify the hostname and Create stays enabled, but that's a bug, not a feature.)\n\nDo the steps in comment 9 (Correction: in Step 3 clicking [Manual Config] instead of [Stop]) work, assuming the server works?\n\nIn that hypothetical, rare case, you could set up the account with another,\nworking server, then, after creation, go into Account Settings and change the\nhostname and settings.\n\n> Unless you click \"advanced config\", it doesn't give you any opportunity to\n> enter a username\n\nI have a Username field underneath the hostname fields.\n\n> 3. Final stage of verifying password is problematic.\n\nThis happens after clicking [Create]. You can bypass that password check (not the server host check) using [Advanced Config].", "creation_time": "2011-04-07T07:44:10Z", "bug_id": 647761, "creator": "ben.bucksch@beonex.com", "tags": [], "is_private": false, "attachment_id": null}, {"text": "For SMTP, see comment 17.", "count": 37, "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null, "time": "2011-04-07T07:44:49Z", "id": 5394081, "bug_id": 647761, "creation_time": "2011-04-07T07:44:49Z", "raw_text": "For SMTP, see comment 17.", "tags": [], "is_private": false}, {"id": 5394140, "time": "2011-04-07T08:50:07Z", "is_private": false, "tags": [], "raw_text": "(In reply to comment #36)\n> > 2. Problem of disabled Create account button only occurs if Manual config\n> > button clicked while TB is discovering settings.\n> As said, it's intentionally disabled when the server hostname hasn't been\n> verified. (It may be that you can modify the hostname and Create stays enabled,\n> but that's a bug, not a feature.)\n\ncan edit everything on that page, just that Create Account and Advanced config buttons remain disabled.  Have to cancel and start over, and not interrupt.\n\n> Do the steps in comment 9 (Correction: in Step 3 clicking [Manual Config]\n> instead of [Stop]) work, assuming the server works?\n\nnope, as soon as I hit that manual config button if it was still discovering, it's hosed.  If I let it finish, all is fine.\n\n> In that hypothetical, rare case, you could set up the account with another,\n> working server, then, after creation, go into Account Settings and change the\n> hostname and settings.\n> > Unless you click \"advanced config\", it doesn't give you any opportunity to\n> > enter a username\n> I have a Username field underneath the hostname fields.\n\njust saw that - I must be going blind or something.  Ok, so setting username isn't a problem.\n\n> > 3. Final stage of verifying password is problematic.\n> This happens after clicking [Create]. You can bypass that password check (not\n> the server host check) using [Advanced Config].\n\nI think this will be counter-intuitive for many people.  What happens when you hit the button is not what is advertised on the button.  It says it will create the mailbox, but instead it tries to verify your password.  If that succeeds, all good, and it creates the account, but if it fails, it's not a great experience.  You already have a test button... shouldn't we just use that?", "bug_id": 647761, "creation_time": "2011-04-07T08:50:07Z", "author": "adrien@qbik.com", "text": "(In reply to comment #36)\n> > 2. Problem of disabled Create account button only occurs if Manual config\n> > button clicked while TB is discovering settings.\n> As said, it's intentionally disabled when the server hostname hasn't been\n> verified. (It may be that you can modify the hostname and Create stays enabled,\n> but that's a bug, not a feature.)\n\ncan edit everything on that page, just that Create Account and Advanced config buttons remain disabled.  Have to cancel and start over, and not interrupt.\n\n> Do the steps in comment 9 (Correction: in Step 3 clicking [Manual Config]\n> instead of [Stop]) work, assuming the server works?\n\nnope, as soon as I hit that manual config button if it was still discovering, it's hosed.  If I let it finish, all is fine.\n\n> In that hypothetical, rare case, you could set up the account with another,\n> working server, then, after creation, go into Account Settings and change the\n> hostname and settings.\n> > Unless you click \"advanced config\", it doesn't give you any opportunity to\n> > enter a username\n> I have a Username field underneath the hostname fields.\n\njust saw that - I must be going blind or something.  Ok, so setting username isn't a problem.\n\n> > 3. Final stage of verifying password is problematic.\n> This happens after clicking [Create]. You can bypass that password check (not\n> the server host check) using [Advanced Config].\n\nI think this will be counter-intuitive for many people.  What happens when you hit the button is not what is advertised on the button.  It says it will create the mailbox, but instead it tries to verify your password.  If that succeeds, all good, and it creates the account, but if it fails, it's not a great experience.  You already have a test button... shouldn't we just use that?", "count": 38, "attachment_id": null, "creator": "adrien@qbik.com"}, {"time": "2011-04-07T16:23:04Z", "id": 5394533, "is_private": false, "raw_text": "> What happens when you hit the [Create] button is not what is advertised on the button.  It says it will create the mailbox, but instead it tries to verify your password.\n\nYeah, that doesn't really make sense.  Would you file a new bug for this (and add me to the Cc list), and we can hash out the wording there?\n\nThanks,\nBlake.", "bug_id": 647761, "creation_time": "2011-04-07T16:23:04Z", "tags": [], "author": "bwinton@latte.ca", "count": 39, "text": "> What happens when you hit the [Create] button is not what is advertised on the button.  It says it will create the mailbox, but instead it tries to verify your password.\n\nYeah, that doesn't really make sense.  Would you file a new bug for this (and add me to the Cc list), and we can hash out the wording there?\n\nThanks,\nBlake.", "attachment_id": null, "creator": "bwinton@latte.ca"}, {"attachment_id": null, "creator": "ben.bucksch@beonex.com", "author": "ben.bucksch@beonex.com", "count": 40, "text": "> > Do the steps in comment 9 (Correction: in Step 3 clicking [Manual Config]\n> > instead of [Stop]) work, assuming the server works?\n\n> nope\n\nWell, they do work for me... Clicking [Re-Test] (and that test succeeding, i.e. the server working) is necessary, though.", "is_private": false, "tags": [], "bug_id": 647761, "creation_time": "2011-04-07T22:59:44Z", "raw_text": "> > Do the steps in comment 9 (Correction: in Step 3 clicking [Manual Config]\n> > instead of [Stop]) work, assuming the server works?\n\n> nope\n\nWell, they do work for me... Clicking [Re-Test] (and that test succeeding, i.e. the server working) is necessary, though.", "id": 5395333, "time": "2011-04-07T22:59:44Z"}, {"count": 41, "text": "Ben, I emailed you a video showing clearly the problem.\n\nRegards\n\nAdrien", "author": "adrien@qbik.com", "time": "2011-04-08T03:47:20Z", "id": 5395838, "raw_text": "Ben, I emailed you a video showing clearly the problem.\n\nRegards\n\nAdrien", "creation_time": "2011-04-08T03:47:20Z", "bug_id": 647761, "creator": "adrien@qbik.com", "tags": [], "attachment_id": null, "is_private": false}, {"author": "ben.bucksch@beonex.com", "count": 42, "text": "Thanks, Adrien, that was useful. You are not entering any SMTP server, your SMTP server hostname is \".qbik.com\", that's why it says the server is not correct.", "attachment_id": null, "creator": "ben.bucksch@beonex.com", "id": 5396185, "time": "2011-04-08T08:51:30Z", "is_private": false, "tags": [], "raw_text": "Thanks, Adrien, that was useful. You are not entering any SMTP server, your SMTP server hostname is \".qbik.com\", that's why it says the server is not correct.", "bug_id": 647761, "creation_time": "2011-04-08T08:51:30Z"}, {"text": "so you mean you need to have working IMAP _and_ SMTP to set up an account?\n\nWhat about the fact the Advanced config button was disabled?", "count": 43, "id": 5396343, "time": "2011-04-08T13:35:30Z", "author": "adrien@qbik.com", "tags": [], "creator": "adrien@qbik.com", "bug_id": 647761, "creation_time": "2011-04-08T13:35:30Z", "raw_text": "so you mean you need to have working IMAP _and_ SMTP to set up an account?\n\nWhat about the fact the Advanced config button was disabled?", "attachment_id": null, "is_private": false}, {"is_private": false, "attachment_id": null, "creator": "ben.bucksch@beonex.com", "tags": [], "raw_text": "> so you mean you need to have working IMAP _and_ SMTP to set up an account?\n\nYes\n(See comment 9 step 5)\n\n> What about the fact the Advanced config button was disabled?\n\nComment 36.\n\nWe intentionally ensure that the servers are working and the settings are correct before letting you proceed. We're tuning for average users who just want a working account. If we allow them to set up a broken account, chances are that a good portion of users does so, even if they didn't really mean to, and then have a hard time to correct it.\n\nI provided workarounds for cases where you absolutely want to set up an account for a server that doesn't work.\n\nSorry, but I don't see a bug here.", "bug_id": 647761, "creation_time": "2011-04-08T14:12:48Z", "id": 5396392, "author": "ben.bucksch@beonex.com", "time": "2011-04-08T14:12:48Z", "count": 44, "text": "> so you mean you need to have working IMAP _and_ SMTP to set up an account?\n\nYes\n(See comment 9 step 5)\n\n> What about the fact the Advanced config button was disabled?\n\nComment 36.\n\nWe intentionally ensure that the servers are working and the settings are correct before letting you proceed. We're tuning for average users who just want a working account. If we allow them to set up a broken account, chances are that a good portion of users does so, even if they didn't really mean to, and then have a hard time to correct it.\n\nI provided workarounds for cases where you absolutely want to set up an account for a server that doesn't work.\n\nSorry, but I don't see a bug here."}, {"is_private": false, "creation_time": "2011-04-08T21:31:38Z", "bug_id": 647761, "raw_text": "(In reply to comment #44)\n> > so you mean you need to have working IMAP _and_ SMTP to set up an account?\n> Yes\n\nOK, I guess we will continue to disagree on that, and we'll see what the users think when it's put to them.\n\n> (See comment 9 step 5)\n> > What about the fact the Advanced config button was disabled?\n> Comment 36.\n> We intentionally ensure that the servers are working and the settings are\n> correct before letting you proceed. We're tuning for average users who just\n> want a working account. If we allow them to set up a broken account, chances\n> are that a good portion of users does so, even if they didn't really mean to,\n> and then have a hard time to correct it.\n> I provided workarounds for cases where you absolutely want to set up an account\n> for a server that doesn't work.\n\nOK.  I can't get this workaround to work if I interrupt the discovery process.\n\nBy workaround do you mean the advanced config button or something else?  If you mean that button, it needs to be enabled.\n\nOtherwise you need to post a warning during discovery\n\n\"don't press the manual config button\"", "tags": [], "time": "2011-04-08T21:31:38Z", "id": 5397536, "attachment_id": null, "creator": "adrien@qbik.com", "author": "adrien@qbik.com", "count": 45, "text": "(In reply to comment #44)\n> > so you mean you need to have working IMAP _and_ SMTP to set up an account?\n> Yes\n\nOK, I guess we will continue to disagree on that, and we'll see what the users think when it's put to them.\n\n> (See comment 9 step 5)\n> > What about the fact the Advanced config button was disabled?\n> Comment 36.\n> We intentionally ensure that the servers are working and the settings are\n> correct before letting you proceed. We're tuning for average users who just\n> want a working account. If we allow them to set up a broken account, chances\n> are that a good portion of users does so, even if they didn't really mean to,\n> and then have a hard time to correct it.\n> I provided workarounds for cases where you absolutely want to set up an account\n> for a server that doesn't work.\n\nOK.  I can't get this workaround to work if I interrupt the discovery process.\n\nBy workaround do you mean the advanced config button or something else?  If you mean that button, it needs to be enabled.\n\nOtherwise you need to post a warning during discovery\n\n\"don't press the manual config button\""}, {"time": "2011-04-08T21:32:54Z", "id": 5397539, "is_private": false, "bug_id": 647761, "creation_time": "2011-04-08T21:32:54Z", "raw_text": "also, if you're going to fail a process on lack of a working SMTP server, you need to make the error text refer to that.\n\nI think expectations could be managed a lot better during the process.", "tags": [], "author": "adrien@qbik.com", "count": 46, "text": "also, if you're going to fail a process on lack of a working SMTP server, you need to make the error text refer to that.\n\nI think expectations could be managed a lot better during the process.", "attachment_id": null, "creator": "adrien@qbik.com"}, {"attachment_id": null, "is_private": false, "creator": "adrien@qbik.com", "tags": [], "raw_text": "(In reply to comment #45)\n> > We intentionally ensure that the servers are working and the settings are\n> > correct before letting you proceed. We're tuning for average users who just\n> > want a working account. If we allow them to set up a broken account, chances\n> > are that a good portion of users does so, even if they didn't really mean to,\n> > and then have a hard time to correct it.\n\nJust for the record:\n\n1. I'm fine with there being a mechanism to verify / validate settings.  This should be a tool to assist however, not a shackle we must all wear.  Computers are still thought of as tools to assist aren't they?\n\n2. I'm fine with a mechanism to automatically try and find account details based on whatever (e.g. domain part of email address).  I think there are numerous improvements that could be made to how this is communicated to the user while it's happening.\n\n3. If the workaround is \"hack about:config / prefs.js \" that's not good enough.  Not when there is an Advanced settings button and a create account button sitting there disabled/lying to me.\n\nButtons should\n\na) work\nb) do what they say\n\nregards\n\nAdrien", "bug_id": 647761, "creation_time": "2011-04-08T21:44:01Z", "id": 5397569, "author": "adrien@qbik.com", "time": "2011-04-08T21:44:01Z", "count": 47, "text": "(In reply to comment #45)\n> > We intentionally ensure that the servers are working and the settings are\n> > correct before letting you proceed. We're tuning for average users who just\n> > want a working account. If we allow them to set up a broken account, chances\n> > are that a good portion of users does so, even if they didn't really mean to,\n> > and then have a hard time to correct it.\n\nJust for the record:\n\n1. I'm fine with there being a mechanism to verify / validate settings.  This should be a tool to assist however, not a shackle we must all wear.  Computers are still thought of as tools to assist aren't they?\n\n2. I'm fine with a mechanism to automatically try and find account details based on whatever (e.g. domain part of email address).  I think there are numerous improvements that could be made to how this is communicated to the user while it's happening.\n\n3. If the workaround is \"hack about:config / prefs.js \" that's not good enough.  Not when there is an Advanced settings button and a create account button sitting there disabled/lying to me.\n\nButtons should\n\na) work\nb) do what they say\n\nregards\n\nAdrien"}, {"raw_text": "This is mostly a UX question, thus I think that Bryan should make this decision given that bug 549045 doesn't explicitly state that the user shall be actively prevented from setting up a broken account (the end of bug 549045 comment #81 actually implies that this \"power\" should still be given to the user).\n\n-> REOPENING (as a minimum, this should be a valid RFE)\n\n(In reply to comment #47)\n> 1. I'm fine with there being a mechanism to verify / validate settings.  This\n> should be a tool to assist however, not a shackle we must all wear.  Computers\n> are still thought of as tools to assist aren't they?\n\nI agree with that. Yes, the first step is to use the settings that are known for a provider, or can be guessed from the domain, and verify that they work before accepting them. The second step is to let the user enter manual mode and provide the entries, then re-test if it works. But, there may be still cases where even that doesn't proceed, being that some detail is missing or the server is indeed just down. So, after re-testing fails, there sure should be some notification about \"Hey, you may be creating a broken account now!\" but the user should be permitted to either create the account anyway as specified on his or her own risk, be it by using the \"Create\" button of through the \"Advanced Settings\". One can always delete a non-functional account afterwards.\n\n(In reply to comment #44)\n> I provided workarounds for cases where you absolutely want to set up an account\n> for a server that doesn't work.\n\nIt's a workaround, but a rather bumpy one and requires that you set up another account correctly first which must have working servers. Asking a user to manually hack the rather complex server/account/identity settings in prefs.js was hopefully a joke, as it is highly unlikely that even an experienced user will be successful doing that on a first attempt.\n\nIf everything was done that Thunderbird can do to ensure that the account was set up correctly, it's ok to say \"Sorry, but you are on your own - do you still want me to create that account?\" and then just let the user make the final decision so that a chance is given to figure it out in the Account Settings...", "creation_time": "2011-04-08T22:35:42Z", "bug_id": 647761, "creator": "rsx11m.pub@gmail.com", "tags": [], "is_private": false, "attachment_id": null, "text": "This is mostly a UX question, thus I think that Bryan should make this decision given that bug 549045 doesn't explicitly state that the user shall be actively prevented from setting up a broken account (the end of bug 549045 comment #81 actually implies that this \"power\" should still be given to the user).\n\n-> REOPENING (as a minimum, this should be a valid RFE)\n\n(In reply to comment #47)\n> 1. I'm fine with there being a mechanism to verify / validate settings.  This\n> should be a tool to assist however, not a shackle we must all wear.  Computers\n> are still thought of as tools to assist aren't they?\n\nI agree with that. Yes, the first step is to use the settings that are known for a provider, or can be guessed from the domain, and verify that they work before accepting them. The second step is to let the user enter manual mode and provide the entries, then re-test if it works. But, there may be still cases where even that doesn't proceed, being that some detail is missing or the server is indeed just down. So, after re-testing fails, there sure should be some notification about \"Hey, you may be creating a broken account now!\" but the user should be permitted to either create the account anyway as specified on his or her own risk, be it by using the \"Create\" button of through the \"Advanced Settings\". One can always delete a non-functional account afterwards.\n\n(In reply to comment #44)\n> I provided workarounds for cases where you absolutely want to set up an account\n> for a server that doesn't work.\n\nIt's a workaround, but a rather bumpy one and requires that you set up another account correctly first which must have working servers. Asking a user to manually hack the rather complex server/account/identity settings in prefs.js was hopefully a joke, as it is highly unlikely that even an experienced user will be successful doing that on a first attempt.\n\nIf everything was done that Thunderbird can do to ensure that the account was set up correctly, it's ok to say \"Sorry, but you are on your own - do you still want me to create that account?\" and then just let the user make the final decision so that a chance is given to figure it out in the Account Settings...", "count": 48, "author": "rsx11m.pub@gmail.com", "time": "2011-04-08T22:35:42Z", "id": 5397719}, {"tags": [], "raw_text": "> 3. If the workaround is \"hack about:config / prefs.js \" that's not good enough.\n\nThe workaround is to create an account with a working server, then change it to the broken server in \"Account Settings\".", "bug_id": 647761, "creation_time": "2011-04-09T06:23:02Z", "is_private": false, "id": 5398082, "time": "2011-04-09T06:23:02Z", "creator": "ben.bucksch@beonex.com", "attachment_id": null, "count": 49, "text": "> 3. If the workaround is \"hack about:config / prefs.js \" that's not good enough.\n\nThe workaround is to create an account with a working server, then change it to the broken server in \"Account Settings\".", "author": "ben.bucksch@beonex.com"}, {"author": "adrien@qbik.com", "text": "(In reply to comment #49)\n> > 3. If the workaround is \"hack about:config / prefs.js \" that's not good enough.\n> The workaround is to create an account with a working server, then change it to\n> the broken server in \"Account Settings\".\n\nOK.\n\nFirstly.  The server was not broken, it was available.  The validation was broken.\n\nSecondly, most people don't have another account lying around they can use.  So your workaround is not good enough.\n\nWhat would be good enough is to simply fix the bug that is preventing the Advanced button from being enabled.", "count": 50, "attachment_id": null, "creator": "adrien@qbik.com", "time": "2011-04-09T06:57:51Z", "id": 5398098, "is_private": false, "raw_text": "(In reply to comment #49)\n> > 3. If the workaround is \"hack about:config / prefs.js \" that's not good enough.\n> The workaround is to create an account with a working server, then change it to\n> the broken server in \"Account Settings\".\n\nOK.\n\nFirstly.  The server was not broken, it was available.  The validation was broken.\n\nSecondly, most people don't have another account lying around they can use.  So your workaround is not good enough.\n\nWhat would be good enough is to simply fix the bug that is preventing the Advanced button from being enabled.", "bug_id": 647761, "creation_time": "2011-04-09T06:57:51Z", "tags": []}, {"text": "> Firstly.  The server was not broken, it was available.  The validation was\n> broken.\n\nYou haven't shown that. In all cases I saw, you either didn't enter IMAP *and* SMTP hostname, or the server was down.\n\n> most people don't have another account lying around they can use.\n\n*Most people* do not want to set up accounts for servers which are not working. This is why it works it does. Admins typically do have more than one account.\n\n> What would be good enough is to simply fix the bug that is preventing the\n> Advanced button from being enabled.\n\nAgain: It's not a bug. It's intentional. This is a change request, not a bug report. (Which is fine, but please don't call it a bug.)", "count": 51, "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null, "time": "2011-04-09T07:12:44Z", "id": 5398105, "bug_id": 647761, "creation_time": "2011-04-09T07:12:44Z", "raw_text": "> Firstly.  The server was not broken, it was available.  The validation was\n> broken.\n\nYou haven't shown that. In all cases I saw, you either didn't enter IMAP *and* SMTP hostname, or the server was down.\n\n> most people don't have another account lying around they can use.\n\n*Most people* do not want to set up accounts for servers which are not working. This is why it works it does. Admins typically do have more than one account.\n\n> What would be good enough is to simply fix the bug that is preventing the\n> Advanced button from being enabled.\n\nAgain: It's not a bug. It's intentional. This is a change request, not a bug report. (Which is fine, but please don't call it a bug.)", "tags": [], "is_private": false}, {"text": "(In reply to comment #51)\n> > Firstly.  The server was not broken, it was available.  The validation was\n> > broken.\n> You haven't shown that. In all cases I saw, you either didn't enter IMAP *and*\n> SMTP hostname, or the server was down.\n\nOK, so you're saying when I see\n\nOutgoing: [SMTP] .qbik.com\n\nThen I'm not supposed to read that as smtp.qbik.com, and in fact I need to enter smtp.qbik.com?  That's confusing.  \n\nsmtp.qbik.com has been available through all these tests.\n\nin fact mail.qbik.com has also been available through all these tests.\n\nSo lets consider the case where someone is trying to manually set it up.\n\nIf there's a working IMAP server specified, but no working SMTP server, there's no indication from the dialog which is failing validation.  My assumption was that it was the IMAP.  I probably won't be the only one to assume that.  I knew smtp.qbik.com wouldn't be failing, and as far as I was concerned it was displaying that it was using smtp.qbik.com.\n\nSo out of all this I would propose:\n\n1. Change \"Outgoing: SMTP\" to \"Outgoing (SMTP):\" to make it clear that the SMTP label is an indication of the protocol only, and does not form part of the name being tested.\n2. don't bother automatically putting any domain name into the edit fields that starts with a '.'.  It implies something before it in the dialog is pre-pended.\n\n3. display more specific progress and results from the tests than \"Miramar failed to find the settings for your email account\".  E.g display\n\n* verifying IMAP account, looking up imap.qbik.com - failed\n* verifying IMAP account, looking up mail.qbik.com - succeeded\n* verifying IMAP account, connecting to mail.qbik.com - succeeded\n* verifying IMAP account, probing mail.qbik.com - succeeded\n* verifying SMTP, looking up smtp.qbik.com - succeeded\n* verifying SMTP, connecting to smtp.qbik.com - succeeded\n* verifying SMTP, probing smtp.qbik.com - succeeded\n\nif these flicked past, and stuck on the one that failed, it would be much more clear what remedial action was needed.\n\nYou might need to put in a log button to bring up the test history so if it happens too quick you can go back and see what it did.\n\n> > most people don't have another account lying around they can use.\n> *Most people* do not want to set up accounts for servers which are not working.\n\nThere's a difference between \"not working NOW and will never work\", and \"not working NOW, but will be working in 1hr when I get back to the office and enable the client IP on my firewall\".  You need to keep in mind the timing.\n\n> This is why it works it does. Admins typically do have more than one account.\n> > What would be good enough is to simply fix the bug that is preventing the\n> > Advanced button from being enabled.\n> Again: It's not a bug. It's intentional. This is a change request, not a bug\n> report. (Which is fine, but please don't call it a bug.)\n\nI guess you're right this part is a change request.  Now that I've figured out what is going on, there are 2 issues.  \n\n1. communication and confusion during discovery and retesting, arguably mis-labelled buttons.\n\n2. policy issue about intentionally preventing creation of accounts where TB cannot validate them NOW.\n\nI think we can probably call 1 a bug at some level.  As for 2, it's only my opinion, but I believe it's really foolhardy not to allow for a possibility that TB's ability to validate account details may not be perfect.\n\nThere are lots of problem cases that could prevent validation (and therefore account creation) with valid data.  This is a really serious message you're sending.  TB hasn't done this in the past.  TB 3.1 would allow account creation with any garbage that might work later when required.  It puts users to some inconvenience to force them to fix other problems (possibly outside their realm of capability or administration) before they can set up an email account in a mail client.  It's the closest thing to flipping the user the bird I can think of in software.\n\nAllowing the creation of the account gives the user flexibility about the order in which things are done.  The support tech who has to do a 200 mile round trip to enable the mail to work because of this is NOT going to recommend TB to his next customer.  In fact faced with a 200 mile round trip, I would most likely install Outlook Express instead.  We have customers who support clients who don't have remote access to systems, or even enough nouse to edit account settings afterwards.  We've had irate customers who have had to make such trips.  It happens. It would not be good PR for TB.  \n\nIn the end, what's the first thing a new user of TB does once they download and install it - they set up an account.  If they can't do that, what chance do you think TB has of remaining installed on their computer?  This is where first impressions are made.  After the installer itself, this part needs to be ultra-slick to cement in the user's mind that they made a good choice with this one.\n\nTo my knowledge, no email software has ever prevented creation of an account simply because it was incapable _at_that_moment_ of verifying the details.  It's a very bold and extremely unusual step.\n\nRegards\n\nAdrien", "count": 52, "author": "adrien@qbik.com", "creator": "adrien@qbik.com", "attachment_id": null, "time": "2011-04-09T08:47:55Z", "id": 5398154, "creation_time": "2011-04-09T08:47:55Z", "bug_id": 647761, "raw_text": "(In reply to comment #51)\n> > Firstly.  The server was not broken, it was available.  The validation was\n> > broken.\n> You haven't shown that. In all cases I saw, you either didn't enter IMAP *and*\n> SMTP hostname, or the server was down.\n\nOK, so you're saying when I see\n\nOutgoing: [SMTP] .qbik.com\n\nThen I'm not supposed to read that as smtp.qbik.com, and in fact I need to enter smtp.qbik.com?  That's confusing.  \n\nsmtp.qbik.com has been available through all these tests.\n\nin fact mail.qbik.com has also been available through all these tests.\n\nSo lets consider the case where someone is trying to manually set it up.\n\nIf there's a working IMAP server specified, but no working SMTP server, there's no indication from the dialog which is failing validation.  My assumption was that it was the IMAP.  I probably won't be the only one to assume that.  I knew smtp.qbik.com wouldn't be failing, and as far as I was concerned it was displaying that it was using smtp.qbik.com.\n\nSo out of all this I would propose:\n\n1. Change \"Outgoing: SMTP\" to \"Outgoing (SMTP):\" to make it clear that the SMTP label is an indication of the protocol only, and does not form part of the name being tested.\n2. don't bother automatically putting any domain name into the edit fields that starts with a '.'.  It implies something before it in the dialog is pre-pended.\n\n3. display more specific progress and results from the tests than \"Miramar failed to find the settings for your email account\".  E.g display\n\n* verifying IMAP account, looking up imap.qbik.com - failed\n* verifying IMAP account, looking up mail.qbik.com - succeeded\n* verifying IMAP account, connecting to mail.qbik.com - succeeded\n* verifying IMAP account, probing mail.qbik.com - succeeded\n* verifying SMTP, looking up smtp.qbik.com - succeeded\n* verifying SMTP, connecting to smtp.qbik.com - succeeded\n* verifying SMTP, probing smtp.qbik.com - succeeded\n\nif these flicked past, and stuck on the one that failed, it would be much more clear what remedial action was needed.\n\nYou might need to put in a log button to bring up the test history so if it happens too quick you can go back and see what it did.\n\n> > most people don't have another account lying around they can use.\n> *Most people* do not want to set up accounts for servers which are not working.\n\nThere's a difference between \"not working NOW and will never work\", and \"not working NOW, but will be working in 1hr when I get back to the office and enable the client IP on my firewall\".  You need to keep in mind the timing.\n\n> This is why it works it does. Admins typically do have more than one account.\n> > What would be good enough is to simply fix the bug that is preventing the\n> > Advanced button from being enabled.\n> Again: It's not a bug. It's intentional. This is a change request, not a bug\n> report. (Which is fine, but please don't call it a bug.)\n\nI guess you're right this part is a change request.  Now that I've figured out what is going on, there are 2 issues.  \n\n1. communication and confusion during discovery and retesting, arguably mis-labelled buttons.\n\n2. policy issue about intentionally preventing creation of accounts where TB cannot validate them NOW.\n\nI think we can probably call 1 a bug at some level.  As for 2, it's only my opinion, but I believe it's really foolhardy not to allow for a possibility that TB's ability to validate account details may not be perfect.\n\nThere are lots of problem cases that could prevent validation (and therefore account creation) with valid data.  This is a really serious message you're sending.  TB hasn't done this in the past.  TB 3.1 would allow account creation with any garbage that might work later when required.  It puts users to some inconvenience to force them to fix other problems (possibly outside their realm of capability or administration) before they can set up an email account in a mail client.  It's the closest thing to flipping the user the bird I can think of in software.\n\nAllowing the creation of the account gives the user flexibility about the order in which things are done.  The support tech who has to do a 200 mile round trip to enable the mail to work because of this is NOT going to recommend TB to his next customer.  In fact faced with a 200 mile round trip, I would most likely install Outlook Express instead.  We have customers who support clients who don't have remote access to systems, or even enough nouse to edit account settings afterwards.  We've had irate customers who have had to make such trips.  It happens. It would not be good PR for TB.  \n\nIn the end, what's the first thing a new user of TB does once they download and install it - they set up an account.  If they can't do that, what chance do you think TB has of remaining installed on their computer?  This is where first impressions are made.  After the installer itself, this part needs to be ultra-slick to cement in the user's mind that they made a good choice with this one.\n\nTo my knowledge, no email software has ever prevented creation of an account simply because it was incapable _at_that_moment_ of verifying the details.  It's a very bold and extremely unusual step.\n\nRegards\n\nAdrien", "tags": [], "is_private": false}, {"count": 53, "text": "Sorry - probably scratch my comments about 200 mile round trips - I didn't understand where the workaround was headed.  I see now that you meant entering some other valid servers in there so that the test would succeed then creating the account, then editing it to the real values.  Which of course doesn't require any road miles.... as long as the tech thinks of it and has access to some servers that will validate (which he should, except SMTP could be a problem).\n\nIt begs the question why put the user to that pain though.\n\nthanks for all your patience.", "id": 5398169, "author": "adrien@qbik.com", "time": "2011-04-09T09:20:53Z", "creator": "adrien@qbik.com", "tags": [], "raw_text": "Sorry - probably scratch my comments about 200 mile round trips - I didn't understand where the workaround was headed.  I see now that you meant entering some other valid servers in there so that the test would succeed then creating the account, then editing it to the real values.  Which of course doesn't require any road miles.... as long as the tech thinks of it and has access to some servers that will validate (which he should, except SMTP could be a problem).\n\nIt begs the question why put the user to that pain though.\n\nthanks for all your patience.", "bug_id": 647761, "creation_time": "2011-04-09T09:20:53Z", "is_private": false, "attachment_id": null}, {"creator": "rsx11m.pub@gmail.com", "tags": [], "raw_text": "Ok, so let's keep this bug open for the question whether or not the redesigned account wizard should allow setup of a non-verifiable configuration if the user wishes to do so and all other options are exhausted (IMO after the user has entered Manual Config and re-tested it after editing). \n\nSome other issues Adrien mentions in comment #52 should be worth covering in separate bugs:\n\n> 1. Change \"Outgoing: SMTP\" to \"Outgoing (SMTP):\" to make it clear that the SMTP\n> label is an indication of the protocol only, and does not form part of the name\n> being tested.\n> 2. don't bother automatically putting any domain name into the edit fields that\n> starts with a '.'.  It implies something before it in the dialog is pre-pended.\n\nItem #2 appears to be the main problem for the confusion. Manual Config starts off with a leading '.' if a configuration couldn't be established, which would be an invalid host name anyway. That looks clearly like a bug, and an \"smtp\", \"imap\", or \"pop\" could be prepended even if the server couldn't be verified. Making that unambiguous would also solve item #1.\n \n> 3. display more specific progress and results from the tests than \"Miramar\n> failed to find the settings for your email account\".  E.g display\n> \n> * verifying IMAP account, looking up imap.qbik.com - failed\n> * verifying IMAP account, looking up mail.qbik.com - succeeded\n> * verifying IMAP account, connecting to mail.qbik.com - succeeded\n> * verifying IMAP account, probing mail.qbik.com - succeeded\n> * verifying SMTP, looking up smtp.qbik.com - succeeded\n> * verifying SMTP, connecting to smtp.qbik.com - succeeded\n> * verifying SMTP, probing smtp.qbik.com - succeeded\n\nYes, if would be good to see those at least listed in the Activity Manager (maybe there is some debug information available already, but either would need a hidden preference being set or may be disabled in non-debug builds). Also, such an output would greatly benefit support to see how far the autoconfig process gets before an error occurs that leads it to fail.\n\nAdrien, if you want to file those two suggestions as new bugs I'll be happy to confirm them, or I can file them on your behalf.", "bug_id": 647761, "creation_time": "2011-04-11T16:07:10Z", "is_private": false, "attachment_id": null, "count": 54, "text": "Ok, so let's keep this bug open for the question whether or not the redesigned account wizard should allow setup of a non-verifiable configuration if the user wishes to do so and all other options are exhausted (IMO after the user has entered Manual Config and re-tested it after editing). \n\nSome other issues Adrien mentions in comment #52 should be worth covering in separate bugs:\n\n> 1. Change \"Outgoing: SMTP\" to \"Outgoing (SMTP):\" to make it clear that the SMTP\n> label is an indication of the protocol only, and does not form part of the name\n> being tested.\n> 2. don't bother automatically putting any domain name into the edit fields that\n> starts with a '.'.  It implies something before it in the dialog is pre-pended.\n\nItem #2 appears to be the main problem for the confusion. Manual Config starts off with a leading '.' if a configuration couldn't be established, which would be an invalid host name anyway. That looks clearly like a bug, and an \"smtp\", \"imap\", or \"pop\" could be prepended even if the server couldn't be verified. Making that unambiguous would also solve item #1.\n \n> 3. display more specific progress and results from the tests than \"Miramar\n> failed to find the settings for your email account\".  E.g display\n> \n> * verifying IMAP account, looking up imap.qbik.com - failed\n> * verifying IMAP account, looking up mail.qbik.com - succeeded\n> * verifying IMAP account, connecting to mail.qbik.com - succeeded\n> * verifying IMAP account, probing mail.qbik.com - succeeded\n> * verifying SMTP, looking up smtp.qbik.com - succeeded\n> * verifying SMTP, connecting to smtp.qbik.com - succeeded\n> * verifying SMTP, probing smtp.qbik.com - succeeded\n\nYes, if would be good to see those at least listed in the Activity Manager (maybe there is some debug information available already, but either would need a hidden preference being set or may be disabled in non-debug builds). Also, such an output would greatly benefit support to see how far the autoconfig process gets before an error occurs that leads it to fail.\n\nAdrien, if you want to file those two suggestions as new bugs I'll be happy to confirm them, or I can file them on your behalf.", "id": 5400496, "author": "rsx11m.pub@gmail.com", "time": "2011-04-11T16:07:10Z"}, {"attachment_id": null, "creator": "ben.bucksch@beonex.com", "author": "ben.bucksch@beonex.com", "count": 55, "text": "> 3. display more specific progress and results from the tests than \"Miramar\n> failed to find the settings for your email account\"\n\nWe can't show progress, because we try all hosts *in parallel* now.\nShowing the all the \"failed\" results would be too technical, and wouldn't help.\n\nWe don't want the user to guess, we want him to *get* the right config from his ISP or admin and enter that.\n\n> Manual Config starts off with a leading '.' if a configuration\n> couldn't be established, which would be an invalid host name anyway\n\nThat's precisely the point. I prefill the domain, to save the user the typing. I add the dot in front, specifically to avoid catching a valid host \"foo.com\". The point is to *force* the user to enter something valid, but still help him maximally.\n\nI see that Adrian misunderstood 1) the label of the field 2) that he has to fill out both servers, but I believe that's obvious for most people.\n\n> \"imap\", or \"pop\" could be prepended even if the server couldn't be verified.\n\nWe already try pop.foo.com. If that was working, it would be prefilled.", "is_private": false, "raw_text": "> 3. display more specific progress and results from the tests than \"Miramar\n> failed to find the settings for your email account\"\n\nWe can't show progress, because we try all hosts *in parallel* now.\nShowing the all the \"failed\" results would be too technical, and wouldn't help.\n\nWe don't want the user to guess, we want him to *get* the right config from his ISP or admin and enter that.\n\n> Manual Config starts off with a leading '.' if a configuration\n> couldn't be established, which would be an invalid host name anyway\n\nThat's precisely the point. I prefill the domain, to save the user the typing. I add the dot in front, specifically to avoid catching a valid host \"foo.com\". The point is to *force* the user to enter something valid, but still help him maximally.\n\nI see that Adrian misunderstood 1) the label of the field 2) that he has to fill out both servers, but I believe that's obvious for most people.\n\n> \"imap\", or \"pop\" could be prepended even if the server couldn't be verified.\n\nWe already try pop.foo.com. If that was working, it would be prefilled.", "bug_id": 647761, "creation_time": "2011-04-11T16:18:00Z", "tags": [], "time": "2011-04-11T16:18:00Z", "id": 5400511}, {"id": 5400520, "time": "2011-04-11T16:22:36Z", "tags": [], "raw_text": "FWIW, the reason why I force the user to enter a valid server *before* he can click \"Advanced config\" is that the servername and -type that is entered here in the wizard will stay in the Thunderbird config forever, even if changed later in the Account Settings that open after \"Advanced Config\" opens. This has been the source of lots of confusion and *very* angry users before, that they didn't understand that clicking \"Advanced Config\" *creates* an account with these values. The server name and username can be changed, but they stay as internal values (e.g. directory name in profile).\n\nSo, if we fix this, we must fix bug 636016 first (better communicate implication of \"advanced config\" button to user).", "creation_time": "2011-04-11T16:22:36Z", "bug_id": 647761, "is_private": false, "count": 56, "text": "FWIW, the reason why I force the user to enter a valid server *before* he can click \"Advanced config\" is that the servername and -type that is entered here in the wizard will stay in the Thunderbird config forever, even if changed later in the Account Settings that open after \"Advanced Config\" opens. This has been the source of lots of confusion and *very* angry users before, that they didn't understand that clicking \"Advanced Config\" *creates* an account with these values. The server name and username can be changed, but they stay as internal values (e.g. directory name in profile).\n\nSo, if we fix this, we must fix bug 636016 first (better communicate implication of \"advanced config\" button to user).", "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null}, {"time": "2011-04-11T16:29:57Z", "id": 5400538, "bug_id": 647761, "creation_time": "2011-04-11T16:29:57Z", "raw_text": "To summarize, *if* we fix this bug (I am still think that \"Set up a server that's not working\" is an edge case not worth considering), we should:\n- enable \"advanced config\" button as soon as we go into manual mode\n- fix bug 636016 to make the implication clear to the user\n\nAlternatively, we can treat this as DUP of bug 599173 - wizard should work when offline.", "tags": [], "is_private": false, "text": "To summarize, *if* we fix this bug (I am still think that \"Set up a server that's not working\" is an edge case not worth considering), we should:\n- enable \"advanced config\" button as soon as we go into manual mode\n- fix bug 636016 to make the implication clear to the user\n\nAlternatively, we can treat this as DUP of bug 599173 - wizard should work when offline.", "count": 57, "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null}, {"id": 5400547, "time": "2011-04-11T16:33:01Z", "tags": [], "raw_text": "(In reply to comment #55)\n> We can't show progress, because we try all hosts *in parallel* now.\n> Showing the all the \"failed\" results would be too technical, and wouldn't help.\n\nI had the Activity Manager in mind, which is well capable of handling parallel processes. The main reason here would be for someone seeking support to direct him or her to the Activity Manager output, which would be better to pinpoint the possible cause than just the information \"if went to Manual Config and now I have no clue how to continue\" or to probe the servers manually from potentially a different location as the user with different conditions.\n\nAnyway, this would be another bug...", "bug_id": 647761, "creation_time": "2011-04-11T16:33:01Z", "is_private": false, "count": 58, "text": "(In reply to comment #55)\n> We can't show progress, because we try all hosts *in parallel* now.\n> Showing the all the \"failed\" results would be too technical, and wouldn't help.\n\nI had the Activity Manager in mind, which is well capable of handling parallel processes. The main reason here would be for someone seeking support to direct him or her to the Activity Manager output, which would be better to pinpoint the possible cause than just the information \"if went to Manual Config and now I have no clue how to continue\" or to probe the servers manually from potentially a different location as the user with different conditions.\n\nAnyway, this would be another bug...", "author": "rsx11m.pub@gmail.com", "creator": "rsx11m.pub@gmail.com", "attachment_id": null}, {"tags": [], "creation_time": "2011-04-11T16:57:14Z", "bug_id": 647761, "raw_text": "(In reply to comment #57)\n> - fix bug 636016 to make the implication clear to the user\n\nI'm fine with that part. If we allow the user to screw up, he or she should be sufficiently informed about this. Then it's no longer Thunderbird's fault. ;-) \n\n> Alternatively, we can treat this as DUP of bug 599173 - wizard should work when\n> offline.\n\nNo, that one was duped against bug 583602 which was mainly about offline mode throwing an exception. That behavior is valid on branch where the old wizard is still there and may be solved independently, so these are two different issues.", "is_private": false, "id": 5400646, "time": "2011-04-11T16:57:14Z", "creator": "rsx11m.pub@gmail.com", "attachment_id": null, "text": "(In reply to comment #57)\n> - fix bug 636016 to make the implication clear to the user\n\nI'm fine with that part. If we allow the user to screw up, he or she should be sufficiently informed about this. Then it's no longer Thunderbird's fault. ;-) \n\n> Alternatively, we can treat this as DUP of bug 599173 - wizard should work when\n> offline.\n\nNo, that one was duped against bug 583602 which was mainly about offline mode throwing an exception. That behavior is valid on branch where the old wizard is still there and may be solved independently, so these are two different issues.", "count": 59, "author": "rsx11m.pub@gmail.com"}, {"creation_time": "2011-04-11T23:52:50Z", "bug_id": 647761, "raw_text": "(In reply to comment #55)\n> > 3. display more specific progress and results from the tests than \"Miramar\n> > failed to find the settings for your email account\"\n> We can't show progress, because we try all hosts *in parallel* now.\n\nOK.\n\n> Showing the all the \"failed\" results would be too technical, and wouldn't help.\n\nIn the end though, the overall failure is based on being unable to verify both IMAP/POP3 _and_ SMTP.  This isn't explicit stated anywhere.  Even if you just said like \"couldn't validate your SMTP server (tried x, y, z)\" or something.\n\nLike I said, nowhere does it state that TB will \n\na) attempt to verify all your settings\nb) block account creation unless all servers are currently accessible\n\nb is not the sort of thing I believe users will expect, since it's the first mail client I know of to take that (fairly outrageous) step.  \n\nI certainly didn't expect TB to say to me \"I know better than you so get lost\".\n\nIn fact I had to infer it from the actual message.  I guess I was still stunned from having some piece of software effectively tell me I was too dumb to use it.\n\n> We don't want the user to guess, we want him to *get* the right config from his\n> ISP or admin and enter that.\n\nSure.\n\n> > Manual Config starts off with a leading '.' if a configuration\n> > couldn't be established, which would be an invalid host name anyway\n> That's precisely the point. I prefill the domain, to save the user the typing.\n> I add the dot in front, specifically to avoid catching a valid host \"foo.com\".\n> The point is to *force* the user to enter something valid, but still help him\n> maximally.\n\nI think you'd actually be better off leaving something in there that didn't validate than try to help people without telling them what's going on.\n\nleaving smtp.qbik.com in there even if it failed validation (you don't necessarily know whether it's good or not, since you don't know when discovery may have been interrupted) is better.  Or even bogusreplaceme.qbik.com\n\n> I see that Adrian misunderstood 1) the label of the field 2) that he has to\n> fill out both servers, but I believe that's obvious for most people.\n\nIt's possible.  Most people won't even get to this dialog.  It's also possible I wouldn't be the only one confused by this.  It's also possible there are so few of us that will be confused by this that it's not worth doing anything.\n\nBut based on my experience of users, I doubt it.  Whether in the end this creates more problems than it solves is something only history will tell us I think.  At least you won't be bothered by support requests for all those people who couldn't create an account and instead just uninstalled.\n\n> > \"imap\", or \"pop\" could be prepended even if the server couldn't be verified.\n> We already try pop.foo.com. If that was working, it would be prefilled.\n\nIf it had been tried at that stage.", "tags": [], "creator": "adrien@qbik.com", "attachment_id": null, "is_private": false, "text": "(In reply to comment #55)\n> > 3. display more specific progress and results from the tests than \"Miramar\n> > failed to find the settings for your email account\"\n> We can't show progress, because we try all hosts *in parallel* now.\n\nOK.\n\n> Showing the all the \"failed\" results would be too technical, and wouldn't help.\n\nIn the end though, the overall failure is based on being unable to verify both IMAP/POP3 _and_ SMTP.  This isn't explicit stated anywhere.  Even if you just said like \"couldn't validate your SMTP server (tried x, y, z)\" or something.\n\nLike I said, nowhere does it state that TB will \n\na) attempt to verify all your settings\nb) block account creation unless all servers are currently accessible\n\nb is not the sort of thing I believe users will expect, since it's the first mail client I know of to take that (fairly outrageous) step.  \n\nI certainly didn't expect TB to say to me \"I know better than you so get lost\".\n\nIn fact I had to infer it from the actual message.  I guess I was still stunned from having some piece of software effectively tell me I was too dumb to use it.\n\n> We don't want the user to guess, we want him to *get* the right config from his\n> ISP or admin and enter that.\n\nSure.\n\n> > Manual Config starts off with a leading '.' if a configuration\n> > couldn't be established, which would be an invalid host name anyway\n> That's precisely the point. I prefill the domain, to save the user the typing.\n> I add the dot in front, specifically to avoid catching a valid host \"foo.com\".\n> The point is to *force* the user to enter something valid, but still help him\n> maximally.\n\nI think you'd actually be better off leaving something in there that didn't validate than try to help people without telling them what's going on.\n\nleaving smtp.qbik.com in there even if it failed validation (you don't necessarily know whether it's good or not, since you don't know when discovery may have been interrupted) is better.  Or even bogusreplaceme.qbik.com\n\n> I see that Adrian misunderstood 1) the label of the field 2) that he has to\n> fill out both servers, but I believe that's obvious for most people.\n\nIt's possible.  Most people won't even get to this dialog.  It's also possible I wouldn't be the only one confused by this.  It's also possible there are so few of us that will be confused by this that it's not worth doing anything.\n\nBut based on my experience of users, I doubt it.  Whether in the end this creates more problems than it solves is something only history will tell us I think.  At least you won't be bothered by support requests for all those people who couldn't create an account and instead just uninstalled.\n\n> > \"imap\", or \"pop\" could be prepended even if the server couldn't be verified.\n> We already try pop.foo.com. If that was working, it would be prefilled.\n\nIf it had been tried at that stage.", "count": 60, "time": "2011-04-11T23:52:50Z", "author": "adrien@qbik.com", "id": 5402188}, {"attachment_id": null, "is_private": false, "creator": "adrien@qbik.com", "tags": [], "raw_text": "(In reply to comment #57)\n> To summarize, *if* we fix this bug (I am still think that \"Set up a server\n> that's not working\"\n\nplease consider instead \"Set up a server that's not currently verifiable\"\n\nthat is the real edge case.\n\nTB's ability to verify something and a server's validity are two independent things that should not be confused.\n\n> is an edge case not worth considering), we should:\n> - enable \"advanced config\" button as soon as we go into manual mode\n> - fix bug 636016 to make the implication clear to the user\n> Alternatively, we can treat this as DUP of bug 599173 - wizard should work when\n> offline.\n\nI've got some ideas how the buttons etc could go, but I'd also want a skip button in there :)\n\nI think basically that the advanced config button could be removed, and that job could be done by the [Create account] button.  If the CA button did just that, and the validation button could either be a next button (traditional wizard style) or an explicit [Validate] button.\n\nCould even separate out validation of mailbox from validation of ability to send (e.g. on different pages).\n\nI still think telling customers that don't want their users to use SMTP for whatever reason that they don't have a valid reason to exist is fairly problematic.", "bug_id": 647761, "creation_time": "2011-04-12T00:02:25Z", "id": 5402235, "author": "adrien@qbik.com", "time": "2011-04-12T00:02:25Z", "text": "(In reply to comment #57)\n> To summarize, *if* we fix this bug (I am still think that \"Set up a server\n> that's not working\"\n\nplease consider instead \"Set up a server that's not currently verifiable\"\n\nthat is the real edge case.\n\nTB's ability to verify something and a server's validity are two independent things that should not be confused.\n\n> is an edge case not worth considering), we should:\n> - enable \"advanced config\" button as soon as we go into manual mode\n> - fix bug 636016 to make the implication clear to the user\n> Alternatively, we can treat this as DUP of bug 599173 - wizard should work when\n> offline.\n\nI've got some ideas how the buttons etc could go, but I'd also want a skip button in there :)\n\nI think basically that the advanced config button could be removed, and that job could be done by the [Create account] button.  If the CA button did just that, and the validation button could either be a next button (traditional wizard style) or an explicit [Validate] button.\n\nCould even separate out validation of mailbox from validation of ability to send (e.g. on different pages).\n\nI still think telling customers that don't want their users to use SMTP for whatever reason that they don't have a valid reason to exist is fairly problematic.", "count": 61}, {"count": 62, "text": "(In reply to comment #56)\n> FWIW, the reason why I force the user to enter a valid server *before* he can\n> click \"Advanced config\" is that the servername and -type that is entered here\n> in the wizard will stay in the Thunderbird config forever, even if changed\n> later in the Account Settings that open after \"Advanced Config\" opens. This has\n> been the source of lots of confusion and *very* angry users before, \n\nsounds like a bug to fix?  I understand about not changing type (although some other clients did it I think - Eudora?).  But not changing servername I can't think of any reason why that would not just be changed... or is it used in too many places?  Maybe that job (e.g. folder paths etc) should be replaced by a name/label of the mailbox, instead of using the servername.\n\n\nthat they\n> didn't understand that clicking \"Advanced Config\" *creates* an account with\n> these values. The server name and username can be changed, but they stay as\n> internal values (e.g. directory name in profile).\n> So, if we fix this, we must fix bug 636016 first (better communicate\n> implication of \"advanced config\" button to user).\n\nWhen I clicked advanced config, I expected to see an advanced config dialog, \n\nI certainly didn't expect it to create the account.  I expected that job would have been done by the Create Account button.", "id": 5402253, "author": "adrien@qbik.com", "time": "2011-04-12T00:05:37Z", "creator": "adrien@qbik.com", "tags": [], "raw_text": "(In reply to comment #56)\n> FWIW, the reason why I force the user to enter a valid server *before* he can\n> click \"Advanced config\" is that the servername and -type that is entered here\n> in the wizard will stay in the Thunderbird config forever, even if changed\n> later in the Account Settings that open after \"Advanced Config\" opens. This has\n> been the source of lots of confusion and *very* angry users before, \n\nsounds like a bug to fix?  I understand about not changing type (although some other clients did it I think - Eudora?).  But not changing servername I can't think of any reason why that would not just be changed... or is it used in too many places?  Maybe that job (e.g. folder paths etc) should be replaced by a name/label of the mailbox, instead of using the servername.\n\n\nthat they\n> didn't understand that clicking \"Advanced Config\" *creates* an account with\n> these values. The server name and username can be changed, but they stay as\n> internal values (e.g. directory name in profile).\n> So, if we fix this, we must fix bug 636016 first (better communicate\n> implication of \"advanced config\" button to user).\n\nWhen I clicked advanced config, I expected to see an advanced config dialog, \n\nI certainly didn't expect it to create the account.  I expected that job would have been done by the Create Account button.", "creation_time": "2011-04-12T00:05:37Z", "bug_id": 647761, "attachment_id": null, "is_private": false}, {"time": "2011-04-22T00:14:05Z", "id": 5425463, "is_private": false, "bug_id": 647761, "creation_time": "2011-04-22T00:14:05Z", "raw_text": "(In reply to comment #55)\n> > 3. display more specific progress and results from the tests than \"Miramar\n> > failed to find the settings for your email account\"\n> \n> We can't show progress, because we try all hosts *in parallel* now.\n> Showing the all the \"failed\" results would be too technical, and wouldn't help.\n\nAs a quick follow-up on that, there are two hidden preferences for logging, mail.wizard.logging.console (writes output into Tools > Error Console), and mail.wizard.logging.dump (when run from the command line on that terminal),\nso that part appears to be covered already though indeed rather technical, sufficiently covering database lookup as well as hosts and ports tried.", "tags": [], "author": "rsx11m.pub@gmail.com", "count": 63, "text": "(In reply to comment #55)\n> > 3. display more specific progress and results from the tests than \"Miramar\n> > failed to find the settings for your email account\"\n> \n> We can't show progress, because we try all hosts *in parallel* now.\n> Showing the all the \"failed\" results would be too technical, and wouldn't help.\n\nAs a quick follow-up on that, there are two hidden preferences for logging, mail.wizard.logging.console (writes output into Tools > Error Console), and mail.wizard.logging.dump (when run from the command line on that terminal),\nso that part appears to be covered already though indeed rather technical, sufficiently covering database lookup as well as hosts and ports tried.", "attachment_id": null, "creator": "rsx11m.pub@gmail.com"}, {"attachment_id": null, "creator": "rsx11m.pub@gmail.com", "author": "rsx11m.pub@gmail.com", "text": "(In reply to comment #63)\n> mail.wizard.logging.console (writes output into Tools > Error Console), and\n> mail.wizard.logging.dump (when run from the command line on that terminal),\n\nForgot to mention, change those from \"None\" to \"All\" to activate the logging.", "count": 64, "is_private": false, "raw_text": "(In reply to comment #63)\n> mail.wizard.logging.console (writes output into Tools > Error Console), and\n> mail.wizard.logging.dump (when run from the command line on that terminal),\n\nForgot to mention, change those from \"None\" to \"All\" to activate the logging.", "bug_id": 647761, "creation_time": "2011-04-22T00:15:25Z", "tags": [], "time": "2011-04-22T00:15:25Z", "id": 5425467}, {"text": "Will it ever be fixed? I had to switch to foxmail because of that.", "count": 65, "author": "saxon@free.fr", "creator": "saxon@free.fr", "attachment_id": null, "id": 5594916, "time": "2011-07-16T15:09:12Z", "tags": [], "bug_id": 647761, "creation_time": "2011-07-16T15:09:12Z", "raw_text": "Will it ever be fixed? I had to switch to foxmail because of that.", "is_private": false}, {"attachment_id": null, "creator": "ludovic@hirlimann.net", "author": "ludovic@hirlimann.net", "count": 66, "text": "(In reply to comment #65)\n> Will it ever be fixed? I had to switch to foxmail because of that.\n\nPatches are always welcomed. And we will help you drive your patch in.", "is_private": false, "creation_time": "2011-07-18T11:33:50Z", "bug_id": 647761, "raw_text": "(In reply to comment #65)\n> Will it ever be fixed? I had to switch to foxmail because of that.\n\nPatches are always welcomed. And we will help you drive your patch in.", "tags": [], "time": "2011-07-18T11:33:50Z", "id": 5596213}, {"text": "(In reply to Ben Bucksch (:BenB) from comment #51)\n> > The server was not broken, it was available.  The validation was broken.\n> You haven't shown that.\n\nThat might be true here, but there are other cases where the validation currently doesn't work, as bug 538809 demonstrates. The wizard shouldn't assume that the detection is infallible.", "count": 67, "time": "2012-01-16T14:47:24Z", "author": "Roger@rilynn.me.uk", "id": 5982718, "bug_id": 647761, "creation_time": "2012-01-16T14:47:24Z", "raw_text": "(In reply to Ben Bucksch (:BenB) from comment #51)\n> > The server was not broken, it was available.  The validation was broken.\n> You haven't shown that.\n\nThat might be true here, but there are other cases where the validation currently doesn't work, as bug 538809 demonstrates. The wizard shouldn't assume that the detection is infallible.", "tags": [], "creator": "Roger@rilynn.me.uk", "attachment_id": null, "is_private": false}, {"author": "ben.bucksch@beonex.com", "count": 68, "text": "Detection != validation. You can override our detection by using Manual Config.\n\nThe validation happens in the same way as Thunderbird tries to get mail. If the validation fails, the directly following login in main Thunderbird will also fail, and you'll get the \"your login is wrong\" dialog, and then everything goes down from there. We need to catch these problems during setup.", "attachment_id": null, "creator": "ben.bucksch@beonex.com", "id": 5982775, "time": "2012-01-16T15:32:46Z", "is_private": false, "tags": [], "bug_id": 647761, "creation_time": "2012-01-16T15:32:46Z", "raw_text": "Detection != validation. You can override our detection by using Manual Config.\n\nThe validation happens in the same way as Thunderbird tries to get mail. If the validation fails, the directly following login in main Thunderbird will also fail, and you'll get the \"your login is wrong\" dialog, and then everything goes down from there. We need to catch these problems during setup."}, {"creation_time": "2012-02-12T17:29:34Z", "bug_id": 647761, "raw_text": "Here's what I ran into. I did the online setup and my previous personal message filter would no longer work (I have tons of entries that would be a pain to rebuild). It said that it couldn't find the \"Junk\" folder. I examined the prefs.js file and found that when TB imported my account, it added %40 into my account pref strings. This rendered my filter file unusable until I edited every line to the new string settings in my prefs.js file. An option to manually setup a profile account (if desired by the user) would be greatly appreciated.", "tags": [], "is_private": false, "time": "2012-02-12T17:29:34Z", "id": 6054394, "creator": "grizzly@neo.rr.com", "attachment_id": null, "count": 69, "text": "Here's what I ran into. I did the online setup and my previous personal message filter would no longer work (I have tons of entries that would be a pain to rebuild). It said that it couldn't find the \"Junk\" folder. I examined the prefs.js file and found that when TB imported my account, it added %40 into my account pref strings. This rendered my filter file unusable until I edited every line to the new string settings in my prefs.js file. An option to manually setup a profile account (if desired by the user) would be greatly appreciated.", "author": "grizzly@neo.rr.com"}, {"tags": [], "creator": "bit2@freemail.hu", "bug_id": 647761, "creation_time": "2012-05-31T14:07:28Z", "raw_text": "Reading through the comments I've found that the problem of the original bugreport can be worked around by simply not clicking the \"Manual config\" button while the automatic discovery is in progress. Once the auto discovery fails, you'll be able to click \"Create account\" (or click \"Manual config\" and click \"Advanced config\").\n\nHowever, if you do click the \"Manual config\" button while the auto discovery is taking place and you find yourself in the manual config UI but the \"Advanced config\" and \"Create account\" buttons are disabled, there's still a way out: set all fields with a value of \"Auto\" or \"Autodetect\" to something specific (leave no field empty or at an auto* setting). The actual values don't matter, you just have to alter all autodetect settings to something else and fill in empty fields.\n\nVoala: the \"Advanced config\" and \"Create account\" buttons became active! :-)\n\nI've verified this both in TB 11.0.1 (using Ubuntu) and TB 12.0.1 (using Mac OS X).\n\nP.S.: sorry if this was already discovered/published (I did not find it in the comments of this ticket/bugreport).", "attachment_id": null, "is_private": false, "text": "Reading through the comments I've found that the problem of the original bugreport can be worked around by simply not clicking the \"Manual config\" button while the automatic discovery is in progress. Once the auto discovery fails, you'll be able to click \"Create account\" (or click \"Manual config\" and click \"Advanced config\").\n\nHowever, if you do click the \"Manual config\" button while the auto discovery is taking place and you find yourself in the manual config UI but the \"Advanced config\" and \"Create account\" buttons are disabled, there's still a way out: set all fields with a value of \"Auto\" or \"Autodetect\" to something specific (leave no field empty or at an auto* setting). The actual values don't matter, you just have to alter all autodetect settings to something else and fill in empty fields.\n\nVoala: the \"Advanced config\" and \"Create account\" buttons became active! :-)\n\nI've verified this both in TB 11.0.1 (using Ubuntu) and TB 12.0.1 (using Mac OS X).\n\nP.S.: sorry if this was already discovered/published (I did not find it in the comments of this ticket/bugreport).", "count": 70, "id": 6352012, "time": "2012-05-31T14:07:28Z", "author": "bit2@freemail.hu"}, {"author": "julianopolito@gmail.com", "count": 71, "text": "Hi Guys!\n\nAlthough it has been extensively discussed, I still have the problem. Tried waiting, tried to do everything I can do as a client. I do not have access to the server. I have other mail clients installed and working:  Outlook, Live Mail, my android 2.3 corporate mail app, a web app (roundcube php postfix client), and so on.\n\nCan anyone help me with this? My create account button and advanced config are still disabled.\n\n\nThank you.", "attachment_id": null, "creator": "julianopolito@gmail.com", "id": 6405578, "time": "2012-06-20T01:00:01Z", "is_private": false, "tags": [], "creation_time": "2012-06-20T01:00:01Z", "bug_id": 647761, "raw_text": "Hi Guys!\n\nAlthough it has been extensively discussed, I still have the problem. Tried waiting, tried to do everything I can do as a client. I do not have access to the server. I have other mail clients installed and working:  Outlook, Live Mail, my android 2.3 corporate mail app, a web app (roundcube php postfix client), and so on.\n\nCan anyone help me with this? My create account button and advanced config are still disabled.\n\n\nThank you."}, {"time": "2012-06-20T01:37:40Z", "author": "julianopolito@gmail.com", "id": 6405645, "text": "Well I managed to create an account after all. Well, I created a real account using my gmail. Then after creating my account, went to the account settings in options, changed everything to my settings, created a new smtp server and it seems to be working, although my sent mails are not being saved into sent folder.\n\n\n\n\n\n\n(In reply to julianopolito from comment #71)\n> Hi Guys!\n> \n> Although it has been extensively discussed, I still have the problem. Tried\n> waiting, tried to do everything I can do as a client. I do not have access\n> to the server. I have other mail clients installed and working:  Outlook,\n> Live Mail, my android 2.3 corporate mail app, a web app (roundcube php\n> postfix client), and so on.\n> \n> Can anyone help me with this? My create account button and advanced config\n> are still disabled.\n> \n> \n> Thank you.", "count": 72, "is_private": false, "attachment_id": null, "creation_time": "2012-06-20T01:37:40Z", "bug_id": 647761, "raw_text": "Well I managed to create an account after all. Well, I created a real account using my gmail. Then after creating my account, went to the account settings in options, changed everything to my settings, created a new smtp server and it seems to be working, although my sent mails are not being saved into sent folder.\n\n\n\n\n\n\n(In reply to julianopolito from comment #71)\n> Hi Guys!\n> \n> Although it has been extensively discussed, I still have the problem. Tried\n> waiting, tried to do everything I can do as a client. I do not have access\n> to the server. I have other mail clients installed and working:  Outlook,\n> Live Mail, my android 2.3 corporate mail app, a web app (roundcube php\n> postfix client), and so on.\n> \n> Can anyone help me with this? My create account button and advanced config\n> are still disabled.\n> \n> \n> Thank you.", "tags": [], "creator": "julianopolito@gmail.com"}, {"time": "2012-06-20T04:27:50Z", "id": 6405950, "creation_time": "2012-06-20T04:27:50Z", "bug_id": 647761, "raw_text": "bit2@freemail's comment 70 is puzzling. Could you tell us which domain you tried, and which *exact* steps you used (each mouse click you made)? Please try to reproduce it yourself with a current Thunderbird.\n\njulianopolito, which domain did you use?\nAs for your Sent folder, and Trash and others, you can set them in the \"Account setttings...\".", "tags": [], "is_private": false, "text": "bit2@freemail's comment 70 is puzzling. Could you tell us which domain you tried, and which *exact* steps you used (each mouse click you made)? Please try to reproduce it yourself with a current Thunderbird.\n\njulianopolito, which domain did you use?\nAs for your Sent folder, and Trash and others, you can set them in the \"Account setttings...\".", "count": 73, "author": "ben.bucksch@beonex.com", "creator": "ben.bucksch@beonex.com", "attachment_id": null}, {"time": "2012-06-20T12:54:39Z", "id": 6406831, "bug_id": 647761, "creation_time": "2012-06-20T12:54:39Z", "raw_text": "Ok, I just realized about the folder setup after I wrote my reply. That's fine now.\n\nI used this 200.98.237.170 for IMAP with SSL port 993. \n\nMy steps were:\n\n1 - File>New>Existing Mail Account\n2 - Filled Form with Info\n3 - Pressed Continue\n4 - Waited for the thunderbird failed to find the settings for your email account\n5 - Filled everything and hit retest\n\nAdvanced config nor create account got enabled.\n\n\n\n\n\n\n\n(In reply to Ben Bucksch (:BenB) from comment #73)\n> bit2@freemail's comment 70 is puzzling. Could you tell us which domain you\n> tried, and which *exact* steps you used (each mouse click you made)? Please\n> try to reproduce it yourself with a current Thunderbird.\n> \n> julianopolito, which domain did you use?\n> As for your Sent folder, and Trash and others, you can set them in the\n> \"Account setttings...\".", "tags": [], "is_private": false, "count": 74, "text": "Ok, I just realized about the folder setup after I wrote my reply. That's fine now.\n\nI used this 200.98.237.170 for IMAP with SSL port 993. \n\nMy steps were:\n\n1 - File>New>Existing Mail Account\n2 - Filled Form with Info\n3 - Pressed Continue\n4 - Waited for the thunderbird failed to find the settings for your email account\n5 - Filled everything and hit retest\n\nAdvanced config nor create account got enabled.\n\n\n\n\n\n\n\n(In reply to Ben Bucksch (:BenB) from comment #73)\n> bit2@freemail's comment 70 is puzzling. Could you tell us which domain you\n> tried, and which *exact* steps you used (each mouse click you made)? Please\n> try to reproduce it yourself with a current Thunderbird.\n> \n> julianopolito, which domain did you use?\n> As for your Sent folder, and Trash and others, you can set them in the\n> \"Account setttings...\".", "author": "julianopolito@gmail.com", "creator": "julianopolito@gmail.com", "attachment_id": null}, {"attachment_id": null, "creator": "ben.bucksch@beonex.com", "author": "ben.bucksch@beonex.com", "count": 75, "text": "julianopolito, I guess you used SMTP SSL port 465.\nThis is bug 755988.", "is_private": false, "bug_id": 647761, "creation_time": "2012-06-20T13:00:26Z", "raw_text": "julianopolito, I guess you used SMTP SSL port 465.\nThis is bug 755988.", "tags": [], "time": "2012-06-20T13:00:26Z", "id": 6406839}, {"author": "ipatrol6010@yahoo.com", "time": "2014-08-27T17:11:06Z", "id": 9237128, "count": 76, "text": "Add x64 Windows 7 to the list of platforms, and given its parent bug 549045, it's probably cross-platform, if anyone can confirm this.", "is_private": false, "attachment_id": null, "raw_text": "Add x64 Windows 7 to the list of platforms, and given its parent bug 549045, it's probably cross-platform, if anyone can confirm this.", "bug_id": 647761, "creation_time": "2014-08-27T17:11:06Z", "creator": "ipatrol6010@yahoo.com", "tags": []}, {"attachment_id": null, "creator": "justin.valceanu@odm.ro", "author": "justin.valceanu@odm.ro", "text": "Hello,\n\nI have tried to setup a new IMAP account. The account existed and could be accessed via a web interface. The only problem was the server had a self-signed ssl certificate, witch i had to confirm in Thunderbird or any other Mozilla product. \n\nIt seems that this is not a Thunderbird issue, but instead this is a problem caused by an outside program like Avast. \n\nFrom Avast user interface go to Settings -> Active Protection -> Click on the gear icon right to Mail Shield, then click on SSL Scanning and un-check the \"Scan SSL Connections\" from the right.\n\nHope this will help somebody. :)", "count": 77, "is_private": false, "bug_id": 647761, "creation_time": "2014-09-29T07:37:24Z", "raw_text": "Hello,\n\nI have tried to setup a new IMAP account. The account existed and could be accessed via a web interface. The only problem was the server had a self-signed ssl certificate, witch i had to confirm in Thunderbird or any other Mozilla product. \n\nIt seems that this is not a Thunderbird issue, but instead this is a problem caused by an outside program like Avast. \n\nFrom Avast user interface go to Settings -> Active Protection -> Click on the gear icon right to Mail Shield, then click on SSL Scanning and un-check the \"Scan SSL Connections\" from the right.\n\nHope this will help somebody. :)", "tags": [], "time": "2014-09-29T07:37:24Z", "id": 9372568}, {"text": "(In reply to bit2 from comment #70)\n> However, if you do click the \"Manual config\" button while the auto discovery\n> is taking place and you find yourself in the manual config UI but the\n> \"Advanced config\" and \"Create account\" buttons are disabled, there's still a\n> way out: set all fields with a value of \"Auto\" or \"Autodetect\" to something\n> specific (leave no field empty or at an auto* setting).\n\nMay I propose a little, but very helpful improvement?\nThe dialog should show an error message that explains why \"create account\" is disabled - for example \"You need to select the SMTP port (instead of 'auto') before you can create the account\".", "count": 78, "author": "mozilla-bugs@cboltz.de", "creator": "mozilla-bugs@cboltz.de", "attachment_id": null, "id": 9822740, "time": "2015-01-21T12:41:23Z", "tags": [], "raw_text": "(In reply to bit2 from comment #70)\n> However, if you do click the \"Manual config\" button while the auto discovery\n> is taking place and you find yourself in the manual config UI but the\n> \"Advanced config\" and \"Create account\" buttons are disabled, there's still a\n> way out: set all fields with a value of \"Auto\" or \"Autodetect\" to something\n> specific (leave no field empty or at an auto* setting).\n\nMay I propose a little, but very helpful improvement?\nThe dialog should show an error message that explains why \"create account\" is disabled - for example \"You need to select the SMTP port (instead of 'auto') before you can create the account\".", "bug_id": 647761, "creation_time": "2015-01-21T12:41:23Z", "is_private": false}, {"id": 9834256, "time": "2015-01-23T14:28:09Z", "is_private": false, "tags": [], "creation_time": "2015-01-23T14:28:09Z", "bug_id": 647761, "raw_text": "As Christian pointed out, turning off the \"autodetect\" on the authentication method enables the ability to just accept the settings.", "author": "andy.thornton@redhat.com", "count": 79, "text": "As Christian pointed out, turning off the \"autodetect\" on the authentication method enables the ability to just accept the settings.", "attachment_id": null, "creator": "andy.thornton@redhat.com"}, {"attachment_id": null, "is_private": false, "creator": "ryanokyeah@gmail.com", "tags": [], "raw_text": "I can't believe this is so old and still a problem cross-platform. My workaround was to put in a fake gmail address and finish configuring it, then go into settings and completely change all the details of the existing account.\n\nI don't know why they have to be so forceful about making people use this wizard that clearly doesn't work.", "bug_id": 647761, "creation_time": "2015-04-17T10:25:03Z", "id": 10167484, "author": "ryanokyeah@gmail.com", "time": "2015-04-17T10:25:03Z", "text": "I can't believe this is so old and still a problem cross-platform. My workaround was to put in a fake gmail address and finish configuring it, then go into settings and completely change all the details of the existing account.\n\nI don't know why they have to be so forceful about making people use this wizard that clearly doesn't work.", "count": 80}, {"attachment_id": null, "creator": "mozilla@pollinger.org", "author": "mozilla@pollinger.org", "count": 81, "text": "Got bitten by this as well. I have my own email server that for now has an invalid certificate and likely this caused the auto-config not to work. There was not a meaningful error message either.\n\nMy workaround: Use google mail to set up the account, then change the server settings for the account and accept the invalid certificate for IMAP.\n\nI tried clicking on manual too, but this tries to validate which fails. The Advanced option always stayed grayed out.\n\nAs the setup is done now, there is no way to add a new account if it has some issues (could also be server temporarily down, invalid certificate, ...). Basic UI principle: One should always be able to set up and edit an account and then be given the option (a courtesy option, not mandatory base functionality) to validate the account and trouble shoot if something is not working. Validation and refusal to add/change settings should never be the default and/or only option.", "is_private": false, "tags": [], "bug_id": 647761, "creation_time": "2015-12-27T14:11:00Z", "raw_text": "Got bitten by this as well. I have my own email server that for now has an invalid certificate and likely this caused the auto-config not to work. There was not a meaningful error message either.\n\nMy workaround: Use google mail to set up the account, then change the server settings for the account and accept the invalid certificate for IMAP.\n\nI tried clicking on manual too, but this tries to validate which fails. The Advanced option always stayed grayed out.\n\nAs the setup is done now, there is no way to add a new account if it has some issues (could also be server temporarily down, invalid certificate, ...). Basic UI principle: One should always be able to set up and edit an account and then be given the option (a courtesy option, not mandatory base functionality) to validate the account and trouble shoot if something is not working. Validation and refusal to add/change settings should never be the default and/or only option.", "id": 11031877, "time": "2015-12-27T14:11:00Z"}, {"attachment_id": null, "is_private": false, "raw_text": "> Expected Results:  \n> allow creation of the account, no matter what garbage I put in there.\n\nThat's *not* the expected result. We decidedly do *not* want normal (!) users to put garbage in there and create accounts that will not work. For people who know what they are doing, we added the [Advanced Config].\n\n-----\n\nIf you are an expert and you know it will work, even though the dialog thinks that it will not, then you can use the [Advanced Config] button.\n\nSolution steps:\n\n1. Enter you@example.com and your name\n2. Press [Continue]\n3. Press [Manual Config] (or the dialog will do that automatically, if it can't find a server, like for example.com)\n4. Enter the correct config. You need to enter a *full* config that's required for an account, i.e.\n   * syntactically valid hostnames\n   * port numbers,\n   * SSL\n   * authentication methods\n   You cannot continue until you do that, because we need all that information to create the account.\n5. Press [Advanced Config]\n6. Edit everything.\n\nThis works, I just tried it.", "bug_id": 647761, "creation_time": "2018-11-22T19:58:34Z", "creator": "ben.bucksch@beonex.com", "tags": [], "author": "ben.bucksch@beonex.com", "time": "2018-11-22T19:58:34Z", "id": 13773899, "count": 82, "text": "> Expected Results:  \n> allow creation of the account, no matter what garbage I put in there.\n\nThat's *not* the expected result. We decidedly do *not* want normal (!) users to put garbage in there and create accounts that will not work. For people who know what they are doing, we added the [Advanced Config].\n\n-----\n\nIf you are an expert and you know it will work, even though the dialog thinks that it will not, then you can use the [Advanced Config] button.\n\nSolution steps:\n\n1. Enter you@example.com and your name\n2. Press [Continue]\n3. Press [Manual Config] (or the dialog will do that automatically, if it can't find a server, like for example.com)\n4. Enter the correct config. You need to enter a *full* config that's required for an account, i.e.\n   * syntactically valid hostnames\n   * port numbers,\n   * SSL\n   * authentication methods\n   You cannot continue until you do that, because we need all that information to create the account.\n5. Press [Advanced Config]\n6. Edit everything.\n\nThis works, I just tried it."}, {"is_private": false, "bug_id": 647761, "creation_time": "2018-11-22T20:02:01Z", "raw_text": "", "tags": [], "time": "2018-11-22T20:02:01Z", "id": 13773907, "attachment_id": null, "creator": "ben.bucksch@beonex.com", "author": "ben.bucksch@beonex.com", "count": 83, "text": "*** Bug 832457 has been marked as a duplicate of this bug. ***"}, {"attachment_id": null, "creator": "ben.bucksch@beonex.com", "author": "ben.bucksch@beonex.com", "count": 84, "text": "*** Bug 772217 has been marked as a duplicate of this bug. ***", "is_private": false, "creation_time": "2018-12-10T16:47:10Z", "bug_id": 647761, "raw_text": "", "tags": [], "time": "2018-12-10T16:47:10Z", "id": 13804008}, {"attachment_id": null, "is_private": false, "creation_time": "2020-01-09T20:16:12Z", "bug_id": 647761, "raw_text": "(In reply to Ben Bucksch (:BenB) from comment #82)\n\n> 5. Press [Advanced Config]\n> 6. Edit everything.\n> \n> This works, I just tried it.\n\n\n\nThanks for the post Ben!!!\nIt works !\n\nOne more thing, if you click \"retest\" then \"advanced config\" will be grayed out, so making a dummy change to one of the settings will then re-enable the \"advanced config\" button.\n\nBut if you don't click the \"retest\", and follow Ben's instructions it will allow you to click on the \"advanced config\", else you will have to do a dummy edit to re-enable the \"advanced config\" button.\n\nNow if thunderbird would just sop greying out that button so that we don't have to go though all this trouble searching the net to find out how to get around this problem.\n\nWayne Sallee\nWayne@WayneSallee.com", "tags": [], "creator": "Wayne@WayneSallee.com", "time": "2020-01-09T20:16:12Z", "author": "Wayne@WayneSallee.com", "id": 14583413, "count": 85, "text": "(In reply to Ben Bucksch (:BenB) from comment #82)\n\n> 5. Press [Advanced Config]\n> 6. Edit everything.\n> \n> This works, I just tried it.\n\n\n\nThanks for the post Ben!!!\nIt works !\n\nOne more thing, if you click \"retest\" then \"advanced config\" will be grayed out, so making a dummy change to one of the settings will then re-enable the \"advanced config\" button.\n\nBut if you don't click the \"retest\", and follow Ben's instructions it will allow you to click on the \"advanced config\", else you will have to do a dummy edit to re-enable the \"advanced config\" button.\n\nNow if thunderbird would just sop greying out that button so that we don't have to go though all this trouble searching the net to find out how to get around this problem.\n\nWayne Sallee\nWayne@WayneSallee.com"}, {"count": 86, "text": "Thunderbird was not able to connect to my account. I tried the MUA evolution, and that worked.", "id": 15206506, "author": "info@thomas-guettler.de", "time": "2021-01-07T21:50:49Z", "creator": "info@thomas-guettler.de", "tags": [], "raw_text": "Thunderbird was not able to connect to my account. I tried the MUA evolution, and that worked.", "creation_time": "2021-01-07T21:50:49Z", "bug_id": 647761, "is_private": false, "attachment_id": null}, {"id": 15537313, "time": "2021-08-22T17:02:51Z", "is_private": false, "tags": ["duplicated"], "creation_time": "2021-08-22T17:02:51Z", "bug_id": 647761, "raw_text": "This is a bug and it still exists. I have 100% entered the correct information, and Thunderbird authenticates correctly on IMAP. The same information is used for SMTP, and Thunderbird fails. The error shown in the Postfix log is 'improper command pipelining after EHLO from'. \n\nThis is not a Postfix problem. It is a Thunderbird problem. My email works with Apple Mail, it works with Claws. It works on my Android phone. I thought I would try Thunderbird again after a hiatus of several years. My experience today is one of scratching my head. It doesn't work. so what am I doing wrong? Well the answer is nothing. How could I possibly recommend Thunderbird to anyone when I can't even use it myself?\n\nWhy do I need to add in a DNS record for something unrelated to SMTP/IMAP/POP3 to get Thunderbird to work? Following that faulty logic, I should put some NTP servers in too. You are creating a false and unnecessary dependency. \n\nThe 'solution' given by Ben Bucksch three years ago is not a solution. It may work for him, but it will not work 'in general' without relying on something else.\n\nThis is very unimpressive. So my latest experience with Thunderbird has lasted < 2 minutes.", "author": "somesignup@icloud.com", "text": "This is a bug and it still exists. I have 100% entered the correct information, and Thunderbird authenticates correctly on IMAP. The same information is used for SMTP, and Thunderbird fails. The error shown in the Postfix log is 'improper command pipelining after EHLO from'. \n\nThis is not a Postfix problem. It is a Thunderbird problem. My email works with Apple Mail, it works with Claws. It works on my Android phone. I thought I would try Thunderbird again after a hiatus of several years. My experience today is one of scratching my head. It doesn't work. so what am I doing wrong? Well the answer is nothing. How could I possibly recommend Thunderbird to anyone when I can't even use it myself?\n\nWhy do I need to add in a DNS record for something unrelated to SMTP/IMAP/POP3 to get Thunderbird to work? Following that faulty logic, I should put some NTP servers in too. You are creating a false and unnecessary dependency. \n\nThe 'solution' given by Ben Bucksch three years ago is not a solution. It may work for him, but it will not work 'in general' without relying on something else.\n\nThis is very unimpressive. So my latest experience with Thunderbird has lasted < 2 minutes.", "count": 87, "attachment_id": null, "creator": "somesignup@icloud.com"}, {"tags": ["noise"], "raw_text": "(In reply to Why bother? from comment #87)\n> This is a bug and it still exists. I have 100% entered the correct information, and Thunderbird authenticates correctly on IMAP. The same information is used for SMTP, and Thunderbird fails. The error shown in the Postfix log is 'improper command pipelining after EHLO from'. \n> \n> This is not a Postfix problem. It is a Thunderbird problem. My email works with Apple Mail, it works with Claws. It works on my Android phone. I thought I would try Thunderbird again after a hiatus of several years. My experience today is one of scratching my head. It doesn't work. so what am I doing wrong? Well the answer is nothing. How could I possibly recommend Thunderbird to anyone when I can't even use it myself?\n> \n> Why do I need to add in a DNS record for something unrelated to SMTP/IMAP/POP3 to get Thunderbird to work? Following that faulty logic, I should put some NTP servers in too. You are creating a false and unnecessary dependency. \n> \n> The 'solution' given by Ben Bucksch three years ago is not a solution. It may work for him, but it will not work 'in general' without relying on something else.\n> \n> This is very unimpressive. So my latest experience with Thunderbird has lasted < 2 minutes.\n\nI have stopped upgrading at version 60.9.1\nYou might want to roll back to version 60.9.1\nThe bug still exists, but maybe it will work with the above advice.\n\nWayne Sallee\nWayne@WayneSallee.com", "creation_time": "2021-08-22T19:12:05Z", "bug_id": 647761, "is_private": false, "id": 15537357, "time": "2021-08-22T19:12:05Z", "creator": "Wayne@WayneSallee.com", "attachment_id": null, "count": 88, "text": "(In reply to Why bother? from comment #87)\n> This is a bug and it still exists. I have 100% entered the correct information, and Thunderbird authenticates correctly on IMAP. The same information is used for SMTP, and Thunderbird fails. The error shown in the Postfix log is 'improper command pipelining after EHLO from'. \n> \n> This is not a Postfix problem. It is a Thunderbird problem. My email works with Apple Mail, it works with Claws. It works on my Android phone. I thought I would try Thunderbird again after a hiatus of several years. My experience today is one of scratching my head. It doesn't work. so what am I doing wrong? Well the answer is nothing. How could I possibly recommend Thunderbird to anyone when I can't even use it myself?\n> \n> Why do I need to add in a DNS record for something unrelated to SMTP/IMAP/POP3 to get Thunderbird to work? Following that faulty logic, I should put some NTP servers in too. You are creating a false and unnecessary dependency. \n> \n> The 'solution' given by Ben Bucksch three years ago is not a solution. It may work for him, but it will not work 'in general' without relying on something else.\n> \n> This is very unimpressive. So my latest experience with Thunderbird has lasted < 2 minutes.\n\nI have stopped upgrading at version 60.9.1\nYou might want to roll back to version 60.9.1\nThe bug still exists, but maybe it will work with the above advice.\n\nWayne Sallee\nWayne@WayneSallee.com", "author": "Wayne@WayneSallee.com"}, {"attachment_id": null, "creator": "ben.bucksch@beonex.com", "author": "ben.bucksch@beonex.com", "count": 89, "text": "> The error shown in the Postfix log is 'improper command pipelining after EHLO from'.\n\nThat's bug 538809.", "is_private": false, "tags": [], "creation_time": "2021-08-23T04:54:00Z", "bug_id": 647761, "raw_text": "> The error shown in the Postfix log is 'improper command pipelining after EHLO from'.\n\nThat's bug 538809.", "id": 15537593, "time": "2021-08-23T04:54:00Z"}, {"id": 15540488, "author": "somesignup@icloud.com", "time": "2021-08-23T22:02:04Z", "count": 90, "text": "Thanks for the reply, but I've already given up with Thunderbird. I've gone to Seamonkey, which surprised me as it worked first time.\n\nI've seen some of your other comments arguing about what/if/where the protocol violation is, and I just don't want to get bogged down in that sort of nonsense. Out of the box, so to speak, Thunderbird does not work for me (and others).\n\nI haven't really followed much of the history of Thunderbird since it was sidelined or put on the back burner. I had high hopes for it but it does not work.", "attachment_id": null, "is_private": false, "creator": "somesignup@icloud.com", "tags": ["offtopic"], "raw_text": "Thanks for the reply, but I've already given up with Thunderbird. I've gone to Seamonkey, which surprised me as it worked first time.\n\nI've seen some of your other comments arguing about what/if/where the protocol violation is, and I just don't want to get bogged down in that sort of nonsense. Out of the box, so to speak, Thunderbird does not work for me (and others).\n\nI haven't really followed much of the history of Thunderbird since it was sidelined or put on the back burner. I had high hopes for it but it does not work.", "creation_time": "2021-08-23T22:02:04Z", "bug_id": 647761}]}}, "comments": {}}