{"comments": {}, "bugs": {"660871": {"comments": [{"count": 0, "id": 5503560, "is_private": false, "creation_time": "2011-05-31T16:34:28Z", "time": "2011-05-31T16:34:28Z", "creator": "cmtalbert@gmail.com", "author": "cmtalbert@gmail.com", "attachment_id": null, "raw_text": "So, I don't have great repro steps here because this happened over the course of a week, but here's what I think happened.\n\nI have about five computers syncing - two windows 7, one mac, one linux, one android phone.  So far, no issues there.  Everything seemed to go great.\n\nThen last week, I set up a new linux vm on one of the windows computers, and turned on sync for it.\n\nThen my laptop (one of the windows 7) slowed down and needed to be rebooted (this happens often, I blame windows)\n\nWhen the laptop came back, firefox (Nightly) came up without any of my tabs being restored.  That was sad, but ok.\n\nThis morning I had to reboot the laptop again to pick up some windows updates and once more none of my tabs restored.\n\nOn digging through the options pane, it looks like the preference for session restore was set to \"show the home page\" (General tab, options panel).  And the \"home page\" for this laptop was set to the ubuntufox chrome page that you normally see when you load a ubuntu firefox for the first time.\n\nSo, I think my fresh ubuntu install overwrote this pref value.\n\nI would whitelist this pref value and NEVER overwrite it.  It has some serious UX consequences if you're used to your firefox always saving your tabs and then one day this preference is accidentally sync'd and you lose everything.\n\nSo, culling this monologue into steps:\n1. Install firefox, set preferences to \"open saved tabs from last time\"\n2. Open 80 tabs, restart firefox a couple of times.\n3. Install another firefox (on linux, I suppose, but I doubt it matters) \n4. On the new firefox, set your session restore preference to \"show my home page\" and put in some wacky home page so you know when it syncs\n5. Sync it all together (or let sync happen in the background, which is what I did).\n\n== Expected ==\nThe session restore preference is not sync'd between the computers\n\n== Actual ==\nThe session restore preference is sync'd and once it is, you will restart your first firefox and lose all your tabs. :(\n\n== Alternatively ==\nWe should warn people in the UI if we detect that they have set the session restore preference on an \"as-yet-unsync'd\" profile so that people don't accidentally overwrite that setting.  But I'm not sure that would help, because I got into this situation since I *didn't* change the default.  If I'd ever looked at the preference window in the linux browser, I'd have changed that setting to my normal \"show tabs from last time\" preference.\n\n== Firefox 7 tracking ==\n* As more people start using sync across more devices, I think this is going to be an issue.  So, I recommend finding a fix for it in that timeframe.", "tags": [], "bug_id": 660871, "text": "So, I don't have great repro steps here because this happened over the course of a week, but here's what I think happened.\n\nI have about five computers syncing - two windows 7, one mac, one linux, one android phone.  So far, no issues there.  Everything seemed to go great.\n\nThen last week, I set up a new linux vm on one of the windows computers, and turned on sync for it.\n\nThen my laptop (one of the windows 7) slowed down and needed to be rebooted (this happens often, I blame windows)\n\nWhen the laptop came back, firefox (Nightly) came up without any of my tabs being restored.  That was sad, but ok.\n\nThis morning I had to reboot the laptop again to pick up some windows updates and once more none of my tabs restored.\n\nOn digging through the options pane, it looks like the preference for session restore was set to \"show the home page\" (General tab, options panel).  And the \"home page\" for this laptop was set to the ubuntufox chrome page that you normally see when you load a ubuntu firefox for the first time.\n\nSo, I think my fresh ubuntu install overwrote this pref value.\n\nI would whitelist this pref value and NEVER overwrite it.  It has some serious UX consequences if you're used to your firefox always saving your tabs and then one day this preference is accidentally sync'd and you lose everything.\n\nSo, culling this monologue into steps:\n1. Install firefox, set preferences to \"open saved tabs from last time\"\n2. Open 80 tabs, restart firefox a couple of times.\n3. Install another firefox (on linux, I suppose, but I doubt it matters) \n4. On the new firefox, set your session restore preference to \"show my home page\" and put in some wacky home page so you know when it syncs\n5. Sync it all together (or let sync happen in the background, which is what I did).\n\n== Expected ==\nThe session restore preference is not sync'd between the computers\n\n== Actual ==\nThe session restore preference is sync'd and once it is, you will restart your first firefox and lose all your tabs. :(\n\n== Alternatively ==\nWe should warn people in the UI if we detect that they have set the session restore preference on an \"as-yet-unsync'd\" profile so that people don't accidentally overwrite that setting.  But I'm not sure that would help, because I got into this situation since I *didn't* change the default.  If I'd ever looked at the preference window in the linux browser, I'd have changed that setting to my normal \"show tabs from last time\" preference.\n\n== Firefox 7 tracking ==\n* As more people start using sync across more devices, I think this is going to be an issue.  So, I recommend finding a fix for it in that timeframe."}, {"is_private": false, "id": 5503887, "count": 1, "creator": "bugzilla@twinql.com", "time": "2011-05-31T18:20:54Z", "creation_time": "2011-05-31T18:20:54Z", "author": "bugzilla@twinql.com", "attachment_id": null, "raw_text": "You have my personal sympathy, but Sync *syncs* -- it makes Firefox the same on all machines. Changing a preference on one machine will immediately replicate it to the others.\n\nThere's an obvious counter-example to your report: someone setting up a new machine, and Sync not syncing their homepage or session restore pref. Lots of people use their Home button, or have very particular ideas of what should happen when they launch Firefox, and to them not syncing that value would be a bug.\n\nI'm not going to WONTFIX this -- at least, not yet -- and I certainly see areas for improvement in this regard, but I can't promise any particular action.", "bug_id": 660871, "text": "You have my personal sympathy, but Sync *syncs* -- it makes Firefox the same on all machines. Changing a preference on one machine will immediately replicate it to the others.\n\nThere's an obvious counter-example to your report: someone setting up a new machine, and Sync not syncing their homepage or session restore pref. Lots of people use their Home button, or have very particular ideas of what should happen when they launch Firefox, and to them not syncing that value would be a bug.\n\nI'm not going to WONTFIX this -- at least, not yet -- and I certainly see areas for improvement in this regard, but I can't promise any particular action.", "tags": []}, {"id": 5503935, "count": 2, "is_private": false, "attachment_id": null, "raw_text": "Clint, what you're essentially asking for is to not sync the session restore pref. This isn't some behind-the-scenes bug in Sync because you actively have to change something (see your step 4) to get to this situation. Like Richard said, there's also a pretty big counterexample: people who set up a new device and *want* it synced.\n\nI'm removing the tracking flag because this is neither new behaviour nor should it be surprising to somebody who's used Sync before. We could use this bug to debate a better solution to your particular use case, or we could just WONTFIX it for now and discuss this offline in a feature page or something (I'm inclined to do the latter).", "time": "2011-05-31T18:32:47Z", "creation_time": "2011-05-31T18:32:47Z", "creator": "philipp@weitershausen.de", "tags": [], "bug_id": 660871, "text": "Clint, what you're essentially asking for is to not sync the session restore pref. This isn't some behind-the-scenes bug in Sync because you actively have to change something (see your step 4) to get to this situation. Like Richard said, there's also a pretty big counterexample: people who set up a new device and *want* it synced.\n\nI'm removing the tracking flag because this is neither new behaviour nor should it be surprising to somebody who's used Sync before. We could use this bug to debate a better solution to your particular use case, or we could just WONTFIX it for now and discuss this offline in a feature page or something (I'm inclined to do the latter).", "author": "philipp@weitershausen.de"}, {"attachment_id": null, "raw_text": "(In reply to comment #2)\n> Clint, what you're essentially asking for is to not sync the session restore\n> pref. This isn't some behind-the-scenes bug in Sync because you actively\n> have to change something (see your step 4) to get to this situation. Like\n> Richard said, there's also a pretty big counterexample: people who set up a\n> new device and *want* it synced.\n> \n> I'm removing the tracking flag because this is neither new behaviour nor\n> should it be surprising to somebody who's used Sync before. We could use\n> this bug to debate a better solution to your particular use case, or we\n> could just WONTFIX it for now and discuss this offline in a feature page or\n> something (I'm inclined to do the latter).\n\nSounds good. I do realize this is merely sync \"doing its job\" and not really a bug as such.  I think there is the ability to say \"sync and blow everything local away\" right?  Maybe the \"fix\" here is that we write a feature/how-to page that says something to the effect of \"if you set up a new instance of firefox, you probably want to force sync to sync all changes down in order to maintain your customizations on your other firefox installations\" (but please use better wording than that).\n\nYou're welcome to wontfix this or write this up in a feature page as you see fit.  I am starting to think a feature page might be the right answer because there are plenty of other customizations people can set that they would have a very unexpected UX if the defaults were sync'd back to the installations where they are accustomed to having those customizations on.  My main hope is that we can somehow prevent users from hitting this type of experience, so whatever way solves that makes me happy.", "tags": [], "bug_id": 660871, "text": "(In reply to comment #2)\n> Clint, what you're essentially asking for is to not sync the session restore\n> pref. This isn't some behind-the-scenes bug in Sync because you actively\n> have to change something (see your step 4) to get to this situation. Like\n> Richard said, there's also a pretty big counterexample: people who set up a\n> new device and *want* it synced.\n> \n> I'm removing the tracking flag because this is neither new behaviour nor\n> should it be surprising to somebody who's used Sync before. We could use\n> this bug to debate a better solution to your particular use case, or we\n> could just WONTFIX it for now and discuss this offline in a feature page or\n> something (I'm inclined to do the latter).\n\nSounds good. I do realize this is merely sync \"doing its job\" and not really a bug as such.  I think there is the ability to say \"sync and blow everything local away\" right?  Maybe the \"fix\" here is that we write a feature/how-to page that says something to the effect of \"if you set up a new instance of firefox, you probably want to force sync to sync all changes down in order to maintain your customizations on your other firefox installations\" (but please use better wording than that).\n\nYou're welcome to wontfix this or write this up in a feature page as you see fit.  I am starting to think a feature page might be the right answer because there are plenty of other customizations people can set that they would have a very unexpected UX if the defaults were sync'd back to the installations where they are accustomed to having those customizations on.  My main hope is that we can somehow prevent users from hitting this type of experience, so whatever way solves that makes me happy.", "count": 3, "id": 5504228, "is_private": false, "creation_time": "2011-05-31T20:23:27Z", "time": "2011-05-31T20:23:27Z", "creator": "cmtalbert@gmail.com", "author": "cmtalbert@gmail.com"}, {"text": "Following on from gps's action; need productwanted if that whiteboard note is to take effect.", "bug_id": 660871, "tags": [], "raw_text": "Following on from gps's action; need productwanted if that whiteboard note is to take effect.", "attachment_id": null, "author": "bugzilla@twinql.com", "time": "2012-08-13T05:47:11Z", "creation_time": "2012-08-13T05:47:11Z", "creator": "bugzilla@twinql.com", "id": 6549690, "count": 4, "is_private": false}]}}}