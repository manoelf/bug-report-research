{"comments": {}, "bugs": {"656057": {"comments": [{"author": "mark.yen@suse.com", "text": "Currently, profile-after-change always creates components as services [1] [2].  This means they must all last the lifetime of the app (holding on to slightly more memory etc. than necessary), and is confusing because it doesn't match the app-startup behaviour.  Extensions can no longer use app-startup, so migrating from there means you need to know to remove the \"service,\" prefix documented at [3] for your component to load at all.\n\nSadly, \"fixing\" this probably requires making a new category that does the same thing (plus understanding the \"service,\" prefix), since changing the API without changing the name will just be even more confusing.\n\n[1] http://mxr.mozilla.org/mozilla-central/source/toolkit/xre/nsXREDirProvider.cpp?rev=e0f6db50231f#746\n[2] http://mxr.mozilla.org/mozilla-central/source/xpcom/components/nsCategoryManager.cpp?rev=e0f6db50231f#746\n[3] https://developer.mozilla.org/en/Observer_Notifications#Application_startup", "count": 0, "attachment_id": null, "creator": "mark.yen@suse.com", "id": 5460027, "time": "2011-05-10T17:41:07Z", "is_private": false, "tags": [], "bug_id": 656057, "creation_time": "2011-05-10T17:41:07Z", "raw_text": "Currently, profile-after-change always creates components as services [1] [2].  This means they must all last the lifetime of the app (holding on to slightly more memory etc. than necessary), and is confusing because it doesn't match the app-startup behaviour.  Extensions can no longer use app-startup, so migrating from there means you need to know to remove the \"service,\" prefix documented at [3] for your component to load at all.\n\nSadly, \"fixing\" this probably requires making a new category that does the same thing (plus understanding the \"service,\" prefix), since changing the API without changing the name will just be even more confusing.\n\n[1] http://mxr.mozilla.org/mozilla-central/source/toolkit/xre/nsXREDirProvider.cpp?rev=e0f6db50231f#746\n[2] http://mxr.mozilla.org/mozilla-central/source/xpcom/components/nsCategoryManager.cpp?rev=e0f6db50231f#746\n[3] https://developer.mozilla.org/en/Observer_Notifications#Application_startup"}]}}}