{"comments": {}, "bugs": {"1630418": {"comments": [{"bug_id": 1630418, "id": 14757823, "creator": "mixedpuppy@gmail.com", "attachment_id": null, "author": "mixedpuppy@gmail.com", "tags": [], "raw_text": "", "creation_time": "2020-04-15T21:12:10Z", "time": "2020-04-15T21:12:10Z", "text": "", "is_private": false, "count": 0}, {"creation_time": "2020-04-16T00:49:32Z", "text": "bug 1404632: There is no management at the extension api level that would undo what this api does\n\nGiven that, we'll just make the permission optional and that bug can deal with improvements.", "author": "mixedpuppy@gmail.com", "tags": [], "attachment_id": null, "is_private": false, "raw_text": "bug 1404632: There is no management at the extension api level that would undo what this api does\n\nGiven that, we'll just make the permission optional and that bug can deal with improvements.", "time": "2020-04-16T00:49:32Z", "count": 1, "id": 14758177, "bug_id": 1630418, "creator": "mixedpuppy@gmail.com"}, {"creation_time": "2020-04-16T00:51:16Z", "text": "Created attachment 9140913\nBug 1630418 support pkcs11 as an optional extension permission", "time": "2020-04-16T00:51:16Z", "raw_text": "", "is_private": false, "count": 2, "bug_id": 1630418, "id": 14758181, "attachment_id": 9140913, "creator": "mixedpuppy@gmail.com", "tags": [], "author": "mixedpuppy@gmail.com"}, {"id": 14758855, "bug_id": 1630418, "author": "w@uter.be", "tags": [], "creator": "w@uter.be", "attachment_id": null, "is_private": false, "raw_text": "I'm trying to understand what this code change would mean for me as a developer of an extension that uses the browser.pkcs11 API. I'm guessing that this is meant to just drop the permission, except that that would break current add-ons, so we make it optional instead.\n\nIs my intuition correct? If not, can someone please point me to the FM to R that would explain what an \"optional permission\" is?\n\nThanks,", "creation_time": "2020-04-16T11:51:10Z", "time": "2020-04-16T11:51:10Z", "text": "I'm trying to understand what this code change would mean for me as a developer of an extension that uses the browser.pkcs11 API. I'm guessing that this is meant to just drop the permission, except that that would break current add-ons, so we make it optional instead.\n\nIs my intuition correct? If not, can someone please point me to the FM to R that would explain what an \"optional permission\" is?\n\nThanks,", "count": 3}, {"creator": "soeren.hentzschel@googlemail.com", "attachment_id": null, "author": "soeren.hentzschel@googlemail.com", "tags": [], "bug_id": 1630418, "id": 14763507, "count": 4, "raw_text": "> explain what an \"optional permission\" is\n\nhttps://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions", "creation_time": "2020-04-19T07:28:33Z", "time": "2020-04-19T07:28:33Z", "text": "> explain what an \"optional permission\" is\n\nhttps://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions", "is_private": false}, {"count": 5, "is_private": false, "raw_text": "(In reply to Wouter Verhelst :wouter from comment #3)\n> I'm trying to understand what this code change would mean for me as a developer of an extension that uses the browser.pkcs11 API. I'm guessing that this is meant to just drop the permission, except that that would break current add-ons, so we make it optional instead.\n> \n> Is my intuition correct? If not, can someone please point me to the FM to R that would explain what an \"optional permission\" is?\n> \n> Thanks,\n\nIf you have an addon, and you want to add a new permission when you update the addon, placing it in \"permissions\" requires a user to accept the new permission prior to the update happening.  For some permissions, a user may not understand why they need to grant the new permission.  Using an optional permission allows the addon to fully upgrade, then message properly to the user why a new permission is being requested.\n\nIn the future the user will also be able to revoke those permissions.  So an addon will still want to use \"permissions\" in the manifest for required functionality.\n\nAll permissions are being updated to supporting optional permissions.", "creation_time": "2020-04-21T00:13:49Z", "text": "(In reply to Wouter Verhelst :wouter from comment #3)\n> I'm trying to understand what this code change would mean for me as a developer of an extension that uses the browser.pkcs11 API. I'm guessing that this is meant to just drop the permission, except that that would break current add-ons, so we make it optional instead.\n> \n> Is my intuition correct? If not, can someone please point me to the FM to R that would explain what an \"optional permission\" is?\n> \n> Thanks,\n\nIf you have an addon, and you want to add a new permission when you update the addon, placing it in \"permissions\" requires a user to accept the new permission prior to the update happening.  For some permissions, a user may not understand why they need to grant the new permission.  Using an optional permission allows the addon to fully upgrade, then message properly to the user why a new permission is being requested.\n\nIn the future the user will also be able to revoke those permissions.  So an addon will still want to use \"permissions\" in the manifest for required functionality.\n\nAll permissions are being updated to supporting optional permissions.", "time": "2020-04-21T00:13:49Z", "author": "mixedpuppy@gmail.com", "tags": [], "creator": "mixedpuppy@gmail.com", "attachment_id": null, "id": 14768004, "bug_id": 1630418}, {"count": 6, "is_private": false, "raw_text": "Pushed by scaraveo@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/87d571004699\nsupport pkcs11 as an optional extension permission r=rpl", "time": "2020-04-26T20:17:58Z", "creation_time": "2020-04-26T20:17:58Z", "text": "Pushed by scaraveo@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/87d571004699\nsupport pkcs11 as an optional extension permission r=rpl", "author": "pulsebot@bots.tld", "tags": [], "creator": "pulsebot@bots.tld", "attachment_id": null, "id": 14778828, "bug_id": 1630418}, {"count": 7, "is_private": false, "text": "Pushed by scaraveo@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/07e3f412f9ea\nsupport pkcs11 as an optional extension permission r=rpl", "time": "2020-04-27T18:12:38Z", "creation_time": "2020-04-27T18:12:38Z", "raw_text": "Pushed by scaraveo@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/07e3f412f9ea\nsupport pkcs11 as an optional extension permission r=rpl", "tags": [], "author": "pulsebot@bots.tld", "attachment_id": null, "creator": "pulsebot@bots.tld", "id": 14782239, "bug_id": 1630418}, {"count": 8, "is_private": false, "creation_time": "2020-04-28T03:57:23Z", "time": "2020-04-28T03:57:23Z", "text": "https://hg.mozilla.org/mozilla-central/rev/07e3f412f9ea", "raw_text": "https://hg.mozilla.org/mozilla-central/rev/07e3f412f9ea", "tags": ["bugherder"], "author": "shindli@mozilla.com", "attachment_id": null, "creator": "shindli@mozilla.com", "id": 14783079, "bug_id": 1630418}, {"count": 9, "is_private": false, "text": "The following changes have been made:\n* note added to [release notes](https://wiki.developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/77#Manifest_changes)\n* compatibility data updated, see PR[6112](https://github.com/mdn/browser-compat-data/pull/6112)\n* notes added to the Extension Workshop article on requesting permissions, see PR[636](https://github.com/mozilla/extension-workshop/pull/636)\n\nPlease let me know if you think further changes are needed.", "time": "2020-05-08T15:50:25Z", "creation_time": "2020-05-08T15:50:25Z", "raw_text": "The following changes have been made:\n* note added to [release notes](https://wiki.developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/77#Manifest_changes)\n* compatibility data updated, see PR[6112](https://github.com/mdn/browser-compat-data/pull/6112)\n* notes added to the Extension Workshop article on requesting permissions, see PR[636](https://github.com/mozilla/extension-workshop/pull/636)\n\nPlease let me know if you think further changes are needed.", "tags": [], "author": "richard@sherpa.co.nz", "attachment_id": null, "creator": "richard@sherpa.co.nz", "id": 14804908, "bug_id": 1630418}, {"text": "Thanks", "creation_time": "2020-05-08T18:06:16Z", "tags": [], "author": "mixedpuppy@gmail.com", "attachment_id": null, "count": 10, "is_private": false, "time": "2020-05-08T18:06:16Z", "raw_text": "Thanks", "creator": "mixedpuppy@gmail.com", "id": 14805224, "bug_id": 1630418}]}}}