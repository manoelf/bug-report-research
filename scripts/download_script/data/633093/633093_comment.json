{"bugs": {"633093": {"comments": [{"is_private": false, "tags": [], "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0b12pre) Gecko/20110208 Firefox/4.0b12pre SeaMonkey/2.1b3pre\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0b12pre) Gecko/20110208 Firefox/4.0b12pre SeaMonkey/2.1b3pre\n\nSince 2.1b3 several mails are split in pieces after being touched by mail filter for retreival, tagging and moving\n\nReproducible: Sometimes\n\nSteps to Reproduce:\n1. Receive (imap) mail\n2. Mail filter auto applies and tags message\n3. Tagged split files remain in Inbox\nActual Results:  \nMessage split apart (tagged but not moved)\n\nExpected Results:  \nMessage tagged and moved safely\n\nWorked in 21b2 form > 100.000 mails but fails frequently in 21b3\n\nManually moved mails cloak target mail folders (incl. no message display at all)\n\nAppears on plain text and html mails", "attachment_id": null, "id": 5268747, "text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0b12pre) Gecko/20110208 Firefox/4.0b12pre SeaMonkey/2.1b3pre\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0b12pre) Gecko/20110208 Firefox/4.0b12pre SeaMonkey/2.1b3pre\n\nSince 2.1b3 several mails are split in pieces after being touched by mail filter for retreival, tagging and moving\n\nReproducible: Sometimes\n\nSteps to Reproduce:\n1. Receive (imap) mail\n2. Mail filter auto applies and tags message\n3. Tagged split files remain in Inbox\nActual Results:  \nMessage split apart (tagged but not moved)\n\nExpected Results:  \nMessage tagged and moved safely\n\nWorked in 21b2 form > 100.000 mails but fails frequently in 21b3\n\nManually moved mails cloak target mail folders (incl. no message display at all)\n\nAppears on plain text and html mails", "creation_time": "2011-02-10T06:33:11Z", "time": "2011-02-10T06:33:11Z", "bug_id": 633093, "count": 0, "creator": "stefanehaas@web.de", "author": "stefanehaas@web.de"}, {"creation_time": "2011-02-10T06:34:37Z", "attachment_id": null, "id": 5268749, "text": "When I disable (all) mail filters the messages remain safely where they are (not useful if you receive > 5.000 mails/day)", "raw_text": "When I disable (all) mail filters the messages remain safely where they are (not useful if you receive > 5.000 mails/day)", "is_private": false, "tags": [], "creator": "stefanehaas@web.de", "author": "stefanehaas@web.de", "bug_id": 633093, "count": 1, "time": "2011-02-10T06:34:37Z"}, {"is_private": false, "tags": [], "raw_text": "(In reply to comment #0)\n> Actual Results:  \n> Message split apart (tagged but not moved)\n\nAre action of \"add tag\" and \"move to folder\" defined in single filter rule? Or defined in different filter rules?\nIs \"filter apply of the rule(s)\" logged in Filter log as expected?\nMove to which folder? Folder of same IMAP account? Folder of differnt IMAP account? Or local mail folder(POP3 account or Local Folders)?\nIf IMAP folder, offline-use=On? Or Off? (Inbox and move target, Folder Properties/Synchronization)\nIs move target folder manually opened before the new mail arrival and filtering?\n\nIf \"add tag TTT then move to FFF\", next is executed.\n  (XXX is UID of mail. UID is shown at \"Order Received\" column if IMAP folder)\n  at a cached connection for Inbox\n  1. uid store XXX +Flag (TTT)\n  2. uid copy  XXX \"FFF\"\n  3. uid store XXX +Flag (\\Deleted)\n  4. After that, fetch of copied mails is executed at folder FFF.\n\"tagged (and copied), but not moved\" is usually step 1. and 2. is executed but step 3. is not executed or fails. \nCan you get IMAP log and check IMAP level flow around \"add tag then move\" for a mail which was \"tagged but not moved\"?\n> https://wiki.mozilla.org/MailNews:Logging\n> Win example : SET NSPR_LOG_MODULES=timestamp,imap:5\nIf log analysis by developers is needed, attach log file to this bug(never paste), after remove irrelevant data(mail data is not needed except Message-ID:, Subject: etc. to know which mail) and replace sensitive data, please.", "id": 5269000, "attachment_id": null, "text": "(In reply to comment #0)\n> Actual Results:  \n> Message split apart (tagged but not moved)\n\nAre action of \"add tag\" and \"move to folder\" defined in single filter rule? Or defined in different filter rules?\nIs \"filter apply of the rule(s)\" logged in Filter log as expected?\nMove to which folder? Folder of same IMAP account? Folder of differnt IMAP account? Or local mail folder(POP3 account or Local Folders)?\nIf IMAP folder, offline-use=On? Or Off? (Inbox and move target, Folder Properties/Synchronization)\nIs move target folder manually opened before the new mail arrival and filtering?\n\nIf \"add tag TTT then move to FFF\", next is executed.\n  (XXX is UID of mail. UID is shown at \"Order Received\" column if IMAP folder)\n  at a cached connection for Inbox\n  1. uid store XXX +Flag (TTT)\n  2. uid copy  XXX \"FFF\"\n  3. uid store XXX +Flag (\\Deleted)\n  4. After that, fetch of copied mails is executed at folder FFF.\n\"tagged (and copied), but not moved\" is usually step 1. and 2. is executed but step 3. is not executed or fails. \nCan you get IMAP log and check IMAP level flow around \"add tag then move\" for a mail which was \"tagged but not moved\"?\n> https://wiki.mozilla.org/MailNews:Logging\n> Win example : SET NSPR_LOG_MODULES=timestamp,imap:5\nIf log analysis by developers is needed, attach log file to this bug(never paste), after remove irrelevant data(mail data is not needed except Message-ID:, Subject: etc. to know which mail) and replace sensitive data, please.", "creation_time": "2011-02-10T09:43:50Z", "time": "2011-02-10T09:43:50Z", "bug_id": 633093, "count": 2, "creator": "m-wada@usa.com", "author": "m-wada@usa.com"}, {"creation_time": "2011-02-10T13:36:59Z", "author": "stefanehaas@web.de", "id": 5269322, "attachment_id": null, "creator": "stefanehaas@web.de", "text": "Are action of \"add tag\" and \"move to folder\" defined in single filter rule? Or\ndefined in different filter rules?\n- Same rule\n\nIs \"filter apply of the rule(s)\" logged in Filter log as expected?\nMove to which folder?\n- Did log rules so far (size), no switched on but currently I diabled the rules as this corrupts the whole mail folder file\n\n- Separate local folder for every rule\nFolder of same IMAP account?\n- No\n\nFolder of differnt IMAP account?\n- No\n\nOr local mail folder(POP3 account or Local Folders)?\n- Yes\n\nIf IMAP folder, offline-use=On? Or Off? (Inbox and move target, Folder\nProperties/Synchronization)\n\nIs move target folder manually opened before the new mail arrival and\nfiltering?\n- May happen as I check the mails there\n\nSeems to happen on IMAP and POP3 accounts (I receive & filter mails form both) - counld not yet verify a pattern excpet using filters", "count": 3, "raw_text": "Are action of \"add tag\" and \"move to folder\" defined in single filter rule? Or\ndefined in different filter rules?\n- Same rule\n\nIs \"filter apply of the rule(s)\" logged in Filter log as expected?\nMove to which folder?\n- Did log rules so far (size), no switched on but currently I diabled the rules as this corrupts the whole mail folder file\n\n- Separate local folder for every rule\nFolder of same IMAP account?\n- No\n\nFolder of differnt IMAP account?\n- No\n\nOr local mail folder(POP3 account or Local Folders)?\n- Yes\n\nIf IMAP folder, offline-use=On? Or Off? (Inbox and move target, Folder\nProperties/Synchronization)\n\nIs move target folder manually opened before the new mail arrival and\nfiltering?\n- May happen as I check the mails there\n\nSeems to happen on IMAP and POP3 accounts (I receive & filter mails form both) - counld not yet verify a pattern excpet using filters", "bug_id": 633093, "is_private": false, "tags": [], "time": "2011-02-10T13:36:59Z"}, {"creator": "stefanehaas@web.de", "author": "stefanehaas@web.de", "bug_id": 633093, "count": 4, "time": "2011-02-21T14:09:58Z", "creation_time": "2011-02-21T14:09:58Z", "text": "Seems to happen when mail is read from POP3 account - I switched to IMAP now (and keep watching)", "id": 5294040, "attachment_id": null, "raw_text": "Seems to happen when mail is read from POP3 account - I switched to IMAP now (and keep watching)", "tags": [], "is_private": false}, {"time": "2011-02-21T14:26:33Z", "bug_id": 633093, "count": 5, "creator": "stefanehaas@web.de", "author": "stefanehaas@web.de", "tags": [], "is_private": false, "raw_text": "Contains \\0 chars in line 750, 12085 ...", "text": "Created attachment 513990\nInbox containing \\0\n\nContains \\0 chars in line 750, 12085 ...", "attachment_id": 513990, "id": 5294058, "creation_time": "2011-02-21T14:26:33Z"}, {"time": "2011-02-21T18:06:29Z", "count": 6, "bug_id": 633093, "author": "m-wada@usa.com", "creator": "m-wada@usa.com", "is_private": false, "tags": [], "raw_text": "(In reply to comment #0)\n> Firefox/4.0b12pre SeaMonkey/2.1b3pre\n(In reply to comment #4)\n> Seems to happen when mail is read from POP3 account - I switched to IMAP now\n> (and keep watching)\n(Bug summary) filters for tagging and moving  \n\nDo you enable qurantine option? (mailnews.downloadToTempFile=true)\nIf yes, same problem as bug 582918?", "attachment_id": null, "id": 5294425, "text": "(In reply to comment #0)\n> Firefox/4.0b12pre SeaMonkey/2.1b3pre\n(In reply to comment #4)\n> Seems to happen when mail is read from POP3 account - I switched to IMAP now\n> (and keep watching)\n(Bug summary) filters for tagging and moving  \n\nDo you enable qurantine option? (mailnews.downloadToTempFile=true)\nIf yes, same problem as bug 582918?", "creation_time": "2011-02-21T18:06:29Z"}, {"count": 7, "bug_id": 633093, "time": "2011-02-21T18:44:30Z", "author": "philip.chee@gmail.com", "creator": "philip.chee@gmail.com", "raw_text": "Stefan, what is the setting for mailnews.downloadToTempFile in your about:config?", "tags": [], "is_private": false, "creation_time": "2011-02-21T18:44:30Z", "text": "Stefan, what is the setting for mailnews.downloadToTempFile in your about:config?", "id": 5294501, "attachment_id": null}, {"id": 5295279, "attachment_id": null, "text": "The mailnews.downloadToTempFile is true (I can't remember setting it explicitely by t states \"chaned by user\")\n\nI don't think it's the same as 582918 as it insertes \\0 chars which confuses the mail display. When I remove the \\0 the mail \"folder file\" seems to react normally again.", "creation_time": "2011-02-22T05:53:06Z", "is_private": false, "tags": [], "raw_text": "The mailnews.downloadToTempFile is true (I can't remember setting it explicitely by t states \"chaned by user\")\n\nI don't think it's the same as 582918 as it insertes \\0 chars which confuses the mail display. When I remove the \\0 the mail \"folder file\" seems to react normally again.", "author": "stefanehaas@web.de", "creator": "stefanehaas@web.de", "time": "2011-02-22T05:53:06Z", "count": 8, "bug_id": 633093}, {"creation_time": "2011-02-22T12:27:33Z", "author": "m-wada@usa.com", "attachment_id": null, "id": 5295552, "text": "(In reply to comment #8)\n> I don't think it's the same as 582918 as it insertes \\0 chars which confuses\n> the mail display. When I remove the \\0 the mail \"folder file\" seems to react\n> normally again.\n\nTo demonstrate phenomenon of data corruption in Inbox by bug 582918, three mails case is presented as \"Steps To Reproduce\" in that bug.\n\"Single mail\" case produces next simpler phenomenon;\n  - At move target folder of filter move.\n    mail is shown at thread pane of move target folder of filter rule,\n    but nothing is shown as mail data because nothing is writte to file,\n    Compact Folder may not remove garbage at thread pane,\n    by Repair Folder, filtered mail at thread pane disappears.\n  - At inbox of POP3 account where mail is downloaded.\n    filtered mail appears by Repair Folder,\n    because mail data is written to file for Inbox by filter move\n    and the written mail is not flagged as Deleted in file for Inbox.\nStefan Haas(bug opener), what is difference of your problem from bug 582918?", "creator": "m-wada@usa.com", "count": 9, "raw_text": "(In reply to comment #8)\n> I don't think it's the same as 582918 as it insertes \\0 chars which confuses\n> the mail display. When I remove the \\0 the mail \"folder file\" seems to react\n> normally again.\n\nTo demonstrate phenomenon of data corruption in Inbox by bug 582918, three mails case is presented as \"Steps To Reproduce\" in that bug.\n\"Single mail\" case produces next simpler phenomenon;\n  - At move target folder of filter move.\n    mail is shown at thread pane of move target folder of filter rule,\n    but nothing is shown as mail data because nothing is writte to file,\n    Compact Folder may not remove garbage at thread pane,\n    by Repair Folder, filtered mail at thread pane disappears.\n  - At inbox of POP3 account where mail is downloaded.\n    filtered mail appears by Repair Folder,\n    because mail data is written to file for Inbox by filter move\n    and the written mail is not flagged as Deleted in file for Inbox.\nStefan Haas(bug opener), what is difference of your problem from bug 582918?", "bug_id": 633093, "is_private": false, "tags": [], "time": "2011-02-22T12:27:33Z"}, {"creation_time": "2011-03-05T12:03:14Z", "text": "I con confirm the above behavior from bug 582918, but in my bug case the mail target (moved to) folder file contains a section with lots of \\0 which confuses all further processing of the folder. As this does not happen in bug 582918 I assume this is yet another bug.\n\nIn this case I have to use an editor to remove all \\0 from the file, delete its msf and restart SM. Then the mail folder contents is displayed correctly.\n\nIt seems this only occurs on POP3 mail folders. I used POP3 mainly before and now switched almost all mail to IMAP and it works fine for those mail accounts.\n\nI have not yet established a repeatable pattern as in the other bug it is easier to get rid of all my POP3 accounts and read them as IMAPs - as the error seems to be related with the POP3 account reader/filter.", "creator": "stefanehaas@web.de", "attachment_id": null, "id": 5323893, "author": "stefanehaas@web.de", "bug_id": 633093, "raw_text": "I con confirm the above behavior from bug 582918, but in my bug case the mail target (moved to) folder file contains a section with lots of \\0 which confuses all further processing of the folder. As this does not happen in bug 582918 I assume this is yet another bug.\n\nIn this case I have to use an editor to remove all \\0 from the file, delete its msf and restart SM. Then the mail folder contents is displayed correctly.\n\nIt seems this only occurs on POP3 mail folders. I used POP3 mainly before and now switched almost all mail to IMAP and it works fine for those mail accounts.\n\nI have not yet established a repeatable pattern as in the other bug it is easier to get rid of all my POP3 accounts and read them as IMAPs - as the error seems to be related with the POP3 account reader/filter.", "count": 10, "time": "2011-03-05T12:03:14Z", "tags": [], "is_private": false}, {"bug_id": 633093, "count": 11, "time": "2011-03-05T16:20:43Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com", "raw_text": "(In reply to comment #10)\n> As this does not happen in bug 582918 I assume this is yet another bug.\n\nIn that bug, once \"mailnews.downloadToTempFile=true && POP3 account is mandatory condition of that bug\" was found, everyone does do next when he knows that he is experiencing that bug;\n 1. Recovery from that bug, by Folder Properties/Repair Folder etc.\n 2. Change to mailnews.downloadToTempFile=false, because everyone knows true of\n    the setting is a cause. by reading thru of that bug.\n 3. Then he won't experience that bug again.\n 4. If he is requested to check \"whether bug still occurs or not\",\n    he starts from \"no garbage by that bug\" status with setting change,\n    and when he see that bug, report it and go to step 1 again.\nSo, no one doesn't check about phenomena by that bug after problems by that bug ater problems by that bug after problems by that bug after ....\nEveryone, who tries to reproduce that bug, starts with no garbage by that bug, and when he sees problem of that bug, he stops to see problem by that bug.\n\nProblem which you are seeing is phenomena by that bug after problem by that bug ater problem by that bug after problem by that bug after ....?\nOr problem which you are seeing is absolutely different problem from that bug?", "is_private": false, "tags": [], "creation_time": "2011-03-05T16:20:43Z", "id": 5324075, "attachment_id": null, "text": "(In reply to comment #10)\n> As this does not happen in bug 582918 I assume this is yet another bug.\n\nIn that bug, once \"mailnews.downloadToTempFile=true && POP3 account is mandatory condition of that bug\" was found, everyone does do next when he knows that he is experiencing that bug;\n 1. Recovery from that bug, by Folder Properties/Repair Folder etc.\n 2. Change to mailnews.downloadToTempFile=false, because everyone knows true of\n    the setting is a cause. by reading thru of that bug.\n 3. Then he won't experience that bug again.\n 4. If he is requested to check \"whether bug still occurs or not\",\n    he starts from \"no garbage by that bug\" status with setting change,\n    and when he see that bug, report it and go to step 1 again.\nSo, no one doesn't check about phenomena by that bug after problems by that bug ater problems by that bug after problems by that bug after ....\nEveryone, who tries to reproduce that bug, starts with no garbage by that bug, and when he sees problem of that bug, he stops to see problem by that bug.\n\nProblem which you are seeing is phenomena by that bug after problem by that bug ater problem by that bug after problem by that bug after ....?\nOr problem which you are seeing is absolutely different problem from that bug?"}, {"attachment_id": null, "id": 5324082, "text": "Sorry for my typo. Please read like next, please.\n> So, no one checks about phenomena by ...\n> So, anyone doesn't check about phenomena by ...", "creation_time": "2011-03-05T16:29:54Z", "is_private": false, "tags": [], "raw_text": "Sorry for my typo. Please read like next, please.\n> So, no one checks about phenomena by ...\n> So, anyone doesn't check about phenomena by ...", "author": "m-wada@usa.com", "creator": "m-wada@usa.com", "time": "2011-03-05T16:29:54Z", "count": 12, "bug_id": 633093}, {"is_private": false, "tags": [], "time": "2011-03-06T09:49:48Z", "count": 13, "raw_text": "FYI.\nAs seen in duplication test result of that bug, garbled mail data can be written in Inbox, in addition to phantom mail at move target folder(shown at thread pane only. no mail data is written in file for move target folder, then blank mail is displayed).\nIf you see problem which looks produced by that bug again, do next;\n(1) At move target folder : Folder Properties/Repair Folder\n(2) At Inbox : Folder Properties/Repair Folder\nIn any case, show \"Order Received\" column. Value shown the column is offset in file for mail folder if local mail folder. It'll help your analysis of funny pkenomenon you see.", "bug_id": 633093, "author": "m-wada@usa.com", "id": 5325458, "attachment_id": null, "text": "FYI.\nAs seen in duplication test result of that bug, garbled mail data can be written in Inbox, in addition to phantom mail at move target folder(shown at thread pane only. no mail data is written in file for move target folder, then blank mail is displayed).\nIf you see problem which looks produced by that bug again, do next;\n(1) At move target folder : Folder Properties/Repair Folder\n(2) At Inbox : Folder Properties/Repair Folder\nIn any case, show \"Order Received\" column. Value shown the column is offset in file for mail folder if local mail folder. It'll help your analysis of funny pkenomenon you see.", "creator": "m-wada@usa.com", "creation_time": "2011-03-06T09:49:48Z"}, {"creation_time": "2011-04-29T22:04:34Z", "id": 5440571, "attachment_id": null, "text": "WADA, is more information needed to decide *what* needs to get fixed?\n\nrkent feels this is definitely filter bug, so confirming", "raw_text": "WADA, is more information needed to decide *what* needs to get fixed?\n\nrkent feels this is definitely filter bug, so confirming", "is_private": false, "tags": [], "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "bug_id": 633093, "count": 14, "time": "2011-04-29T22:04:34Z"}, {"author": "jsbruner@umich.edu", "text": "Can someone confirm that this is still in issue in the current trunk of Thunderbird?", "creator": "jsbruner@umich.edu", "attachment_id": null, "id": 7126728, "creation_time": "2013-02-21T13:15:43Z", "tags": [], "is_private": false, "time": "2013-02-21T13:15:43Z", "count": 15, "bug_id": 633093, "raw_text": "Can someone confirm that this is still in issue in the current trunk of Thunderbird?"}]}}, "comments": {}}