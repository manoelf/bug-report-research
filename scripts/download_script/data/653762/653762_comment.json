{"bugs": {"653762": {"comments": [{"attachment_id": null, "creator": "dr.o.hoffmann@gmx.de", "author": "dr.o.hoffmann@gmx.de", "text": "User-Agent:       Mozilla/5.0 (X11; Linux i686; rv:6.0a1) Gecko/20110429 Firefox/6.0a1\nBuild Identifier: Mozilla/5.0 (X11; Linux i686; rv:6.0a1) Gecko/20110429 Firefox/6.0a1\n\nIf the stroke-width for the stroke of circle and ellipse gets large (around the\ndiameter), wrong presentation of the stroke-dasharray appears. the inner part of the stroke becomes frayed.\n\nAnimated samples for circle and ellipse:\nhttp://hoffmann.bplaced.net/mozilla/strokedasharray05a.svg\nhttp://hoffmann.bplaced.net/mozilla/strokedasharray06a.svg\nAfter 50% of the shape is stroked, parts of an underlying red object appears, that should be covered, if the stroke would be correct -this indicates \nfor the circle the missing parts and for ellipse at least parts of the missing\nareas in red.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Try the given examples\n\n\nActual Results:  \nThe inner part of the stroke becomes frayed.\n\n\nExpected Results:  \nThe stroke should be continuous around the given shape, no such frayed artifacts.\nFor the circle for example the outline of the inner part should be a circular\narc as well. The outline of the inner part of the ellipse is slightly more \ndifficult to describe, I think it is not exactly an elliptical arc, but a similar\nshape.\n\nDifferent viewers have different problems with such a big stroke-width for circle and ellipse, resulting in quite 'interesting' presentations or even crashes.\nMaybe there is no viewer currently providing a useful presentation of this,\nGecko is however close to correct, just the fringes have to be connected to\na smooth outline. For example Opera has a smooth outline, but it produces a \nsurprising hole in the middle - no guide either.\n\nI think, for arbitrary shapes with loops smaller than the stroke-width there are\nno such big problems, are strokes of circles and ellipses are calculated differently?", "count": 0, "is_private": false, "raw_text": "User-Agent:       Mozilla/5.0 (X11; Linux i686; rv:6.0a1) Gecko/20110429 Firefox/6.0a1\nBuild Identifier: Mozilla/5.0 (X11; Linux i686; rv:6.0a1) Gecko/20110429 Firefox/6.0a1\n\nIf the stroke-width for the stroke of circle and ellipse gets large (around the\ndiameter), wrong presentation of the stroke-dasharray appears. the inner part of the stroke becomes frayed.\n\nAnimated samples for circle and ellipse:\nhttp://hoffmann.bplaced.net/mozilla/strokedasharray05a.svg\nhttp://hoffmann.bplaced.net/mozilla/strokedasharray06a.svg\nAfter 50% of the shape is stroked, parts of an underlying red object appears, that should be covered, if the stroke would be correct -this indicates \nfor the circle the missing parts and for ellipse at least parts of the missing\nareas in red.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Try the given examples\n\n\nActual Results:  \nThe inner part of the stroke becomes frayed.\n\n\nExpected Results:  \nThe stroke should be continuous around the given shape, no such frayed artifacts.\nFor the circle for example the outline of the inner part should be a circular\narc as well. The outline of the inner part of the ellipse is slightly more \ndifficult to describe, I think it is not exactly an elliptical arc, but a similar\nshape.\n\nDifferent viewers have different problems with such a big stroke-width for circle and ellipse, resulting in quite 'interesting' presentations or even crashes.\nMaybe there is no viewer currently providing a useful presentation of this,\nGecko is however close to correct, just the fringes have to be connected to\na smooth outline. For example Opera has a smooth outline, but it produces a \nsurprising hole in the middle - no guide either.\n\nI think, for arbitrary shapes with loops smaller than the stroke-width there are\nno such big problems, are strokes of circles and ellipses are calculated differently?", "creation_time": "2011-04-29T17:02:36Z", "bug_id": 653762, "tags": [], "time": "2011-04-29T17:02:36Z", "id": 5439856}, {"id": 5439923, "time": "2011-04-29T17:33:41Z", "tags": [], "bug_id": 653762, "creation_time": "2011-04-29T17:33:41Z", "raw_text": "Confirmed.\n\nHere's a reduced-ish static testcase.\n\nThe blue in this testcase is the (very wide) stroke for the gray circle.  The painted blue is one continuous \"dash\" in the stroke-dasharray (followed by enough empty space to make it back around the circle), so as Dr. Hoffman suggests, there's no reason it should be \"frayed\" on the inside edge.\n\nI wonder if this affects our canvas impl, too (in which case it'd likely be a cairo bug)?", "is_private": false, "text": "Created attachment 529133\nstatic testcase\n\nConfirmed.\n\nHere's a reduced-ish static testcase.\n\nThe blue in this testcase is the (very wide) stroke for the gray circle.  The painted blue is one continuous \"dash\" in the stroke-dasharray (followed by enough empty space to make it back around the circle), so as Dr. Hoffman suggests, there's no reason it should be \"frayed\" on the inside edge.\n\nI wonder if this affects our canvas impl, too (in which case it'd likely be a cairo bug)?", "count": 1, "author": "dholbert@mozilla.com", "creator": "dholbert@mozilla.com", "attachment_id": 529133}, {"time": "2011-04-30T12:40:28Z", "id": 5441158, "is_private": false, "creation_time": "2011-04-30T12:40:28Z", "bug_id": 653762, "raw_text": "I created some more examples, and indeed I'm wrong, it is not specific for\nellipse and circle, it appears for rect or arbitrary path data as well:\n\nrectangle:\nhttp://hoffmann.bplaced.net/mozilla/strokedasharrayRect01.svg\n\ncubic path:\nhttp://hoffmann.bplaced.net/mozilla/strokedasharrayPath02.svg\n\nand this one can give a hint, what is maybe the wrong assumption, that results\nin the frayed appearance:\nhttp://hoffmann.bplaced.net/mozilla/strokedasharrayPath01.svg\nA blue approximation of a circle is painted within 10s with repetition.\nFor the first turn the stroke-width is chosen in a way, that the inner\noutline of the stroke is slightly larger than the fill outline.\nFor the next turn the stroke-width is chosen slightly smaller.\nThis is followed by the initial stroke-width and so on.\n\nThe fraying effect appears mainly for the first case, this indicates,\nthat the amount of stroke painted for the inner part\nper 'frame' is determined to be approximately the same amount than the\npath length of the initial shape fragment, while for the outer part it is already\nassumed, that it can be larger than this, what seems to be assumed to\nbe not possible for the inner part of the curvature, what is obviously\na wrong assumption.", "tags": [], "author": "dr.o.hoffmann@gmx.de", "text": "I created some more examples, and indeed I'm wrong, it is not specific for\nellipse and circle, it appears for rect or arbitrary path data as well:\n\nrectangle:\nhttp://hoffmann.bplaced.net/mozilla/strokedasharrayRect01.svg\n\ncubic path:\nhttp://hoffmann.bplaced.net/mozilla/strokedasharrayPath02.svg\n\nand this one can give a hint, what is maybe the wrong assumption, that results\nin the frayed appearance:\nhttp://hoffmann.bplaced.net/mozilla/strokedasharrayPath01.svg\nA blue approximation of a circle is painted within 10s with repetition.\nFor the first turn the stroke-width is chosen in a way, that the inner\noutline of the stroke is slightly larger than the fill outline.\nFor the next turn the stroke-width is chosen slightly smaller.\nThis is followed by the initial stroke-width and so on.\n\nThe fraying effect appears mainly for the first case, this indicates,\nthat the amount of stroke painted for the inner part\nper 'frame' is determined to be approximately the same amount than the\npath length of the initial shape fragment, while for the outer part it is already\nassumed, that it can be larger than this, what seems to be assumed to\nbe not possible for the inner part of the curvature, what is obviously\na wrong assumption.", "count": 2, "attachment_id": null, "creator": "dr.o.hoffmann@gmx.de"}, {"text": "The effect seems to appear in general for the stroke, if the curvature is only\nlarge enough for the given stroke-width:\n\nhttp://hoffmann.bplaced.net/mozilla/strokePath03.svg", "count": 3, "author": "dr.o.hoffmann@gmx.de", "creator": "dr.o.hoffmann@gmx.de", "attachment_id": null, "id": 5441322, "time": "2011-04-30T15:51:11Z", "tags": [], "bug_id": 653762, "creation_time": "2011-04-30T15:51:11Z", "raw_text": "The effect seems to appear in general for the stroke, if the curvature is only\nlarge enough for the given stroke-width:\n\nhttp://hoffmann.bplaced.net/mozilla/strokePath03.svg", "is_private": false}, {"raw_text": "I am seeing this issue as well in:\n\nMozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:21.0) Gecko/20100101 Firefox/21.0\n\nCreating a small ellipse with a large stroke width leads to this weird effect\n\nReproducible: Always\n\nSee jsFiddle here: http://jsfiddle.net/MyBsC/4/", "creation_time": "2013-05-28T13:47:34Z", "bug_id": 653762, "tags": [], "is_private": false, "time": "2013-05-28T13:47:34Z", "id": 7468940, "creator": "johneke@smarttech.com", "attachment_id": null, "text": "I am seeing this issue as well in:\n\nMozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:21.0) Gecko/20100101 Firefox/21.0\n\nCreating a small ellipse with a large stroke width leads to this weird effect\n\nReproducible: Always\n\nSee jsFiddle here: http://jsfiddle.net/MyBsC/4/", "count": 4, "author": "johneke@smarttech.com"}, {"text": "I should mention it happens in svg and canvas", "count": 5, "author": "johneke@smarttech.com", "creator": "johneke@smarttech.com", "attachment_id": null, "id": 7468943, "time": "2013-05-28T13:48:22Z", "tags": [], "bug_id": 653762, "creation_time": "2013-05-28T13:48:22Z", "raw_text": "I should mention it happens in svg and canvas", "is_private": false}, {"id": 9398063, "time": "2014-10-03T07:53:16Z", "tags": [], "raw_text": "", "bug_id": 653762, "creation_time": "2014-10-03T07:53:16Z", "is_private": false, "count": 6, "text": "Created attachment 8499405\ntestcase from bug 510177", "author": "jwatt@jwatt.org", "creator": "jwatt@jwatt.org", "attachment_id": 8499405}, {"time": "2014-10-03T07:53:48Z", "id": 9398064, "creation_time": "2014-10-03T07:53:48Z", "bug_id": 653762, "raw_text": "This one fails on Windows.", "tags": [], "is_private": false, "text": "Comment on attachment 8499405\ntestcase from bug 510177\n\nThis one fails on Windows.", "count": 7, "author": "jwatt@jwatt.org", "creator": "jwatt@jwatt.org", "attachment_id": 8499405}, {"tags": [], "raw_text": "", "creation_time": "2020-04-25T15:46:25Z", "bug_id": 653762, "is_private": false, "id": 14778259, "time": "2020-04-25T15:46:25Z", "creator": "longsonr@gmail.com", "attachment_id": null, "text": "*** Bug 1633024 has been marked as a duplicate of this bug. ***", "count": 8, "author": "longsonr@gmail.com"}, {"attachment_id": null, "is_private": false, "raw_text": "Thanks Robert for identifying  1633024 as a duplicate of this. Though I'm slightly concerned as it's apparently a 9 year old bug report that's marked as New, Unassigned, Priority not set :-D", "creation_time": "2020-04-25T15:59:56Z", "bug_id": 653762, "creator": "monfera.robert@gmail.com", "tags": [], "author": "monfera.robert@gmail.com", "time": "2020-04-25T15:59:56Z", "id": 14778266, "text": "Thanks Robert for identifying  1633024 as a duplicate of this. Though I'm slightly concerned as it's apparently a 9 year old bug report that's marked as New, Unassigned, Priority not set :-D", "count": 9}]}}, "comments": {}}