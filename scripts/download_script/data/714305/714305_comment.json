{"bugs": {"714305": {"comments": [{"raw_text": "It seems there is no clear way to create a dom document without having a document around. You can, of course, parse a simple document with DOM parser, but that's not so great.\n\nMossap found mozilla.org/xml/xml-document;1, which almost worked, but then it turned out there is no way to set the docType on this document. One can you the implementation object of this document to create a functional document.\n\nNaively, I think just adding a contract id to domdomdomdomimplementaion, but I'm not sure if dom implementation doesn't assume, in some way, that it is attached to a document.", "attachment_id": null, "tags": [], "text": "It seems there is no clear way to create a dom document without having a document around. You can, of course, parse a simple document with DOM parser, but that's not so great.\n\nMossap found mozilla.org/xml/xml-document;1, which almost worked, but then it turned out there is no way to set the docType on this document. One can you the implementation object of this document to create a functional document.\n\nNaively, I think just adding a contract id to domdomdomdomimplementaion, but I'm not sure if dom implementation doesn't assume, in some way, that it is attached to a document.", "bug_id": 714305, "id": 5947079, "count": 0, "is_private": false, "author": "asaf@sent.com", "time": "2011-12-30T18:18:06Z", "creation_time": "2011-12-30T18:18:06Z", "creator": "asaf@sent.com"}, {"creator": "bzbarsky@mit.edu", "time": "2011-12-30T20:46:35Z", "creation_time": "2011-12-30T20:46:35Z", "author": "bzbarsky@mit.edu", "is_private": false, "id": 5947427, "count": 1, "tags": [], "bug_id": 714305, "text": "DOMImplementation absolutely assumes it's attached to a document, in terms of things like relevant security contexts and script objects.\n\nWhat behavior do you actually expect out of these documents you're creating?  Why are you creating them?  What should happen with scripts and event handlers in these documents?", "attachment_id": null, "raw_text": "DOMImplementation absolutely assumes it's attached to a document, in terms of things like relevant security contexts and script objects.\n\nWhat behavior do you actually expect out of these documents you're creating?  Why are you creating them?  What should happen with scripts and event handlers in these documents?"}, {"attachment_id": null, "raw_text": "I'm expecting the document to behave similarly to a document returned by DOM parser (It doesn't execute scripts at all, right?).\n\nMy use case has nothing to do with scripts whatsoever. I wrote a Property List (plist) reader and I wanted to write a writer as well. Property Lists are (well, in one of their formats) just xml. My plan was to build the property list as a dom tree, and then serialize it to a file.", "text": "I'm expecting the document to behave similarly to a document returned by DOM parser (It doesn't execute scripts at all, right?).\n\nMy use case has nothing to do with scripts whatsoever. I wrote a Property List (plist) reader and I wanted to write a writer as well. Property Lists are (well, in one of their formats) just xml. My plan was to build the property list as a dom tree, and then serialize it to a file.", "bug_id": 714305, "tags": [], "count": 2, "id": 5947439, "is_private": false, "creation_time": "2011-12-30T20:55:48Z", "time": "2011-12-30T20:55:48Z", "creator": "asaf@sent.com", "author": "asaf@sent.com"}, {"bug_id": 714305, "text": "> It doesn't execute scripts at all, right?\n\nIt sure can, iirc.  For example, DOM mutation listeners....\n\n> My use case has nothing to do with scripts whatsoever.\n\nYes, but we have this little invariant that all documents must know what's going on with their security context and script execution state, for security reasons.  So we need to set those to something...", "tags": [], "attachment_id": null, "raw_text": "> It doesn't execute scripts at all, right?\n\nIt sure can, iirc.  For example, DOM mutation listeners....\n\n> My use case has nothing to do with scripts whatsoever.\n\nYes, but we have this little invariant that all documents must know what's going on with their security context and script execution state, for security reasons.  So we need to set those to something...", "creator": "bzbarsky@mit.edu", "time": "2011-12-30T21:00:58Z", "creation_time": "2011-12-30T21:00:58Z", "author": "bzbarsky@mit.edu", "is_private": false, "id": 5947448, "count": 3}, {"tags": [], "text": "I see.\n\nWhat's the current behavior for the two other ways of creating a document mentioned in comment 0? As I'm creating the DOM parser not in the context of a window, it cannot tell much about the right security context either.", "bug_id": 714305, "attachment_id": null, "raw_text": "I see.\n\nWhat's the current behavior for the two other ways of creating a document mentioned in comment 0? As I'm creating the DOM parser not in the context of a window, it cannot tell much about the right security context either.", "time": "2011-12-30T21:19:33Z", "creation_time": "2011-12-30T21:19:33Z", "creator": "asaf@sent.com", "author": "asaf@sent.com", "id": 5947478, "count": 4, "is_private": false}, {"id": 5962576, "count": 5, "is_private": false, "author": "bzbarsky@mit.edu", "time": "2012-01-07T06:26:44Z", "creation_time": "2012-01-07T06:26:44Z", "creator": "bzbarsky@mit.edu", "raw_text": "I think we just make up something at the moment....  I have no faith that it's necessarily secure.  :(", "attachment_id": null, "tags": [], "text": "I think we just make up something at the moment....  I have no faith that it's necessarily secure.  :(", "bug_id": 714305}, {"tags": [], "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven't been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "bug_id": 714305, "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven't been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "attachment_id": null, "author": "bug-husbandry-bot@mozilla.bugs", "creation_time": "2018-06-29T04:39:45Z", "time": "2018-06-29T04:39:45Z", "creator": "bug-husbandry-bot@mozilla.bugs", "count": 6, "id": 13435168, "is_private": false}]}}, "comments": {}}