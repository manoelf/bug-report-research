{"comments": {}, "bugs": {"694856": {"comments": [{"count": 0, "is_private": false, "creator": "alice0775@gmail.com", "text": "Build Identifier:\nhttp://hg.mozilla.org/mozilla-central/rev/3b58a9df4c8c\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0a1) Gecko/20111016 Firefox/10.0a1 ID:20111016031010\n\n\"Open link in ...\" context menus are missing for urls with /\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Start Firefox with clean profile\n2. Select following text\n\nwww.mozilla.org/products/firefox\n\n3. Right click\n\nActual Results:\n  \"Open link in ...\" context menus are missing\n\nExpected Results:\n  Open link in ...\" context menus should pop up\n\nRegression Window(m-c)\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/bf714fffdfdf\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a1) Gecko/20110621 Firefox/7.0a1 ID:20110621003810\nFails:\nhttp://hg.mozilla.org/mozilla-central/rev/854df0c7239e\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a1) Gecko/20110621 Firefox/7.0a1 ID:20110621083640\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=bf714fffdfdf&tochange=854df0c7239e\nTriggered By:\ne92f3523a97c\tD\u00e3o Gottwald \u2014 Bug 591953 - Show the \"Open Link\" context menu item for URLs with hyphens. r=gavin", "bug_id": 694856, "time": "2011-10-16T15:22:58Z", "tags": [], "creation_time": "2011-10-16T15:22:58Z", "author": "alice0775@gmail.com", "raw_text": "Build Identifier:\nhttp://hg.mozilla.org/mozilla-central/rev/3b58a9df4c8c\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0a1) Gecko/20111016 Firefox/10.0a1 ID:20111016031010\n\n\"Open link in ...\" context menus are missing for urls with /\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Start Firefox with clean profile\n2. Select following text\n\nwww.mozilla.org/products/firefox\n\n3. Right click\n\nActual Results:\n  \"Open link in ...\" context menus are missing\n\nExpected Results:\n  Open link in ...\" context menus should pop up\n\nRegression Window(m-c)\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/bf714fffdfdf\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a1) Gecko/20110621 Firefox/7.0a1 ID:20110621003810\nFails:\nhttp://hg.mozilla.org/mozilla-central/rev/854df0c7239e\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a1) Gecko/20110621 Firefox/7.0a1 ID:20110621083640\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=bf714fffdfdf&tochange=854df0c7239e\nTriggered By:\ne92f3523a97c\tD\u00e3o Gottwald \u2014 Bug 591953 - Show the \"Open Link\" context menu item for URLs with hyphens. r=gavin", "attachment_id": null, "id": 5785216}, {"creator": "carlo@settebello.org", "is_private": false, "count": 1, "author": "carlo@settebello.org", "creation_time": "2011-11-05T14:17:58Z", "tags": [], "bug_id": 694856, "time": "2011-11-05T14:17:58Z", "text": "Confirmed on Mozilla/5.0 (Windows NT 5.1; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\n\nIt happens also with urls ending with any file extension.\n\nReproduce:\nselect the plain link text and choose \"open link\" in the context menu.\n\nThis one works (there is an option in the context menu):\nwww.mozilla.com\n\nThose are not working (no option in the context menu):\nwww.mozilla.com/\nwww.mozilla.com/page.html\nwww.mozilla.com/page.php\nwww.mozilla.com/page.htm\nwww.mozilla.com/page.asp\nand so on.", "attachment_id": null, "raw_text": "Confirmed on Mozilla/5.0 (Windows NT 5.1; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\n\nIt happens also with urls ending with any file extension.\n\nReproduce:\nselect the plain link text and choose \"open link\" in the context menu.\n\nThis one works (there is an option in the context menu):\nwww.mozilla.com\n\nThose are not working (no option in the context menu):\nwww.mozilla.com/\nwww.mozilla.com/page.html\nwww.mozilla.com/page.php\nwww.mozilla.com/page.htm\nwww.mozilla.com/page.asp\nand so on.", "id": 5828419}, {"id": 5943516, "raw_text": "Confirmed on Mozilla/5.0 (Windows NT 5.1; rv:9.0.1) Gecko/20100101 Firefox/9.0.1", "attachment_id": null, "tags": [], "time": "2011-12-28T21:18:36Z", "text": "Confirmed on Mozilla/5.0 (Windows NT 5.1; rv:9.0.1) Gecko/20100101 Firefox/9.0.1", "author": "carlo@settebello.org", "creation_time": "2011-12-28T21:18:36Z", "creator": "carlo@settebello.org", "is_private": false, "bug_id": 694856, "count": 2}, {"bug_id": 694856, "count": 3, "id": 5998699, "attachment_id": null, "raw_text": "", "author": "alice0775@gmail.com", "creation_time": "2012-01-22T02:15:46Z", "time": "2012-01-22T02:15:46Z", "tags": [], "text": "*** Bug 720172 has been marked as a duplicate of this bug. ***", "creator": "alice0775@gmail.com", "is_private": false}, {"text": "*** Bug 718345 has been marked as a duplicate of this bug. ***", "time": "2012-01-22T02:24:33Z", "tags": [], "bug_id": 694856, "creation_time": "2012-01-22T02:24:33Z", "author": "differcookie+bugzilla@gmail.com", "count": 4, "is_private": false, "creator": "differcookie+bugzilla@gmail.com", "id": 5998704, "raw_text": "", "attachment_id": null}, {"attachment_id": null, "raw_text": "", "id": 6008132, "creator": "alice0775@gmail.com", "is_private": false, "count": 5, "author": "alice0775@gmail.com", "creation_time": "2012-01-25T17:22:08Z", "time": "2012-01-25T17:22:08Z", "tags": [], "bug_id": 694856, "text": "*** Bug 721066 has been marked as a duplicate of this bug. ***"}, {"author": "yannbreliere@gmail.com", "creation_time": "2012-03-19T12:40:25Z", "tags": [], "time": "2012-03-19T12:40:25Z", "text": "Bug 720023 comment 1 had a patch [1] to fix the RegExp for this case (trailing slash), and that also fixed other cases (like IP urls).\n\nThe only problems I could see with the new RegExp (already present in the old one) are:\n\n(In reply to Chad Freeman from Bug 720023 comment #1)\n> With this RegExp we:\n> 1) Ensure that the top-level domain is 2-4 characters in length, and\n> contains only alphabetic characters.  This encompasses all of the well-known\n> TLDs that I could find or think of.\n\nThe .museum tld [2] (6 chars) is uncommon, but does exist. :)\nAnd some TLDs that are becoming more common are the IDN TLDs (International Domain Names) that use the punycode encoding for domain names (in FQDNs as well as in TLDs). This can make a TLD longer. For example, .xn--p1ai (.\u0440\u0444 [3]) is 8 characters long. There are also TLDs in arabic, greek, and maybe more.\n\n> 2) Ensure that the domain and subdomains do not begin or end with hyphens,\n> as this is not allowed by domain registrars.  I originally disallowed the\n> use of consecutive hyphens as well, although it seems that some registrars\n> allow for consecutive hyphens in a domain name, provided they meet the\n> former rule as well.\n\nThe consecutive hyphen should also be allowed in the TLD, as explained above. Punycode encoding always begins with 'xn--'.\n\nAnyway, even in it's current state, the patch from Bug 720023 comment #1 would be an improvement over the current situation. :)\n\n[1] https://bugzilla.mozilla.org/attachment.cgi?id=603082&action=diff#a/browser/base/content/nsContextMenu.js_sec2\n[2] http://en.wikipedia.org/wiki/.museum\n[3] https://www.gandi.net/domaine/xn--p1ai/info\nhttp://en.wikipedia.org/wiki/.xn--p1ai\nhttp://\u043a\u0446.\u0440\u0444/en/", "creator": "yannbreliere@gmail.com", "is_private": false, "id": 6151235, "attachment_id": null, "raw_text": "Bug 720023 comment 1 had a patch [1] to fix the RegExp for this case (trailing slash), and that also fixed other cases (like IP urls).\n\nThe only problems I could see with the new RegExp (already present in the old one) are:\n\n(In reply to Chad Freeman from Bug 720023 comment #1)\n> With this RegExp we:\n> 1) Ensure that the top-level domain is 2-4 characters in length, and\n> contains only alphabetic characters.  This encompasses all of the well-known\n> TLDs that I could find or think of.\n\nThe .museum tld [2] (6 chars) is uncommon, but does exist. :)\nAnd some TLDs that are becoming more common are the IDN TLDs (International Domain Names) that use the punycode encoding for domain names (in FQDNs as well as in TLDs). This can make a TLD longer. For example, .xn--p1ai (.\u0440\u0444 [3]) is 8 characters long. There are also TLDs in arabic, greek, and maybe more.\n\n> 2) Ensure that the domain and subdomains do not begin or end with hyphens,\n> as this is not allowed by domain registrars.  I originally disallowed the\n> use of consecutive hyphens as well, although it seems that some registrars\n> allow for consecutive hyphens in a domain name, provided they meet the\n> former rule as well.\n\nThe consecutive hyphen should also be allowed in the TLD, as explained above. Punycode encoding always begins with 'xn--'.\n\nAnyway, even in it's current state, the patch from Bug 720023 comment #1 would be an improvement over the current situation. :)\n\n[1] https://bugzilla.mozilla.org/attachment.cgi?id=603082&action=diff#a/browser/base/content/nsContextMenu.js_sec2\n[2] http://en.wikipedia.org/wiki/.museum\n[3] https://www.gandi.net/domaine/xn--p1ai/info\nhttp://en.wikipedia.org/wiki/.xn--p1ai\nhttp://\u043a\u0446.\u0440\u0444/en/", "bug_id": 694856, "count": 6}, {"id": 6162622, "raw_text": "Gavin had pointed me to this bug when I was working on bug 720023.  I've been meaning to submit a proper patch, and will be later tonight or tomorrow.\n\n(In reply to Yann Breli\u00e8re from comment #6)\n> The .museum tld [2] (6 chars) is uncommon, but does exist. :)\n> And some TLDs that are becoming more common are the IDN TLDs (International\n> Domain Names) that use the punycode encoding for domain names (in FQDNs as\n> well as in TLDs). This can make a TLD longer. For example, .xn--p1ai (.\u0440\u0444\n> [3]) is 8 characters long. There are also TLDs in arabic, greek, and maybe\n> more.\n\nI realized that shortly after I had posted the original patch (.TRAVEL is another case).  Perhaps the TLD length should just be >2, unless we can come up with some upper restriction on character length?\n\n> The consecutive hyphen should also be allowed in the TLD, as explained\n> above. Punycode encoding always begins with 'xn--'.\n\nWasn't aware of this type of TLD encoding; I'll read more into it and adjust the RegExp accordingly.", "attachment_id": null, "text": "Gavin had pointed me to this bug when I was working on bug 720023.  I've been meaning to submit a proper patch, and will be later tonight or tomorrow.\n\n(In reply to Yann Breli\u00e8re from comment #6)\n> The .museum tld [2] (6 chars) is uncommon, but does exist. :)\n> And some TLDs that are becoming more common are the IDN TLDs (International\n> Domain Names) that use the punycode encoding for domain names (in FQDNs as\n> well as in TLDs). This can make a TLD longer. For example, .xn--p1ai (.\u0440\u0444\n> [3]) is 8 characters long. There are also TLDs in arabic, greek, and maybe\n> more.\n\nI realized that shortly after I had posted the original patch (.TRAVEL is another case).  Perhaps the TLD length should just be >2, unless we can come up with some upper restriction on character length?\n\n> The consecutive hyphen should also be allowed in the TLD, as explained\n> above. Punycode encoding always begins with 'xn--'.\n\nWasn't aware of this type of TLD encoding; I'll read more into it and adjust the RegExp accordingly.", "tags": [], "bug_id": 694856, "time": "2012-03-22T16:18:42Z", "creation_time": "2012-03-22T16:18:42Z", "author": "cfree731@gmail.com", "count": 7, "is_private": false, "creator": "cfree731@gmail.com"}, {"id": 6162630, "attachment_id": null, "raw_text": "(In reply to Chad Freeman from comment #7)\n> I realized that shortly after I had posted the original patch (.TRAVEL is\n> another case).  Perhaps the TLD length should just be >2, unless we can come\n> up with some upper restriction on character length?\n\nMisspoke here: TLD length should be >=2.  Currently, the longest TLD seems to be 22 characters in length [1], although, limiting the length to there wouldn't future-proof the solution.\n\n[1] http://data.iana.org/TLD/tlds-alpha-by-domain.txt", "creation_time": "2012-03-22T16:23:14Z", "author": "cfree731@gmail.com", "text": "(In reply to Chad Freeman from comment #7)\n> I realized that shortly after I had posted the original patch (.TRAVEL is\n> another case).  Perhaps the TLD length should just be >2, unless we can come\n> up with some upper restriction on character length?\n\nMisspoke here: TLD length should be >=2.  Currently, the longest TLD seems to be 22 characters in length [1], although, limiting the length to there wouldn't future-proof the solution.\n\n[1] http://data.iana.org/TLD/tlds-alpha-by-domain.txt", "bug_id": 694856, "time": "2012-03-22T16:23:14Z", "tags": [], "is_private": false, "creator": "cfree731@gmail.com", "count": 8}, {"creator": "densperk@sharklasers.com", "is_private": false, "author": "densperk@sharklasers.com", "creation_time": "2012-04-15T04:57:48Z", "time": "2012-04-15T04:57:48Z", "tags": [], "text": "Created attachment 615113\nPing\n\nThis is Chad Freeman's regex patch, with the TLD check relaxed to >=2", "attachment_id": 615113, "raw_text": "This is Chad Freeman's regex patch, with the TLD check relaxed to >=2", "id": 6223827, "count": 9, "bug_id": 694856}, {"is_private": false, "creator": "densperk@sharklasers.com", "creation_time": "2012-06-03T07:20:03Z", "author": "densperk@sharklasers.com", "text": "Ping (2) - Chad?\n\nFWIW I've been using this locally for a few weeks and it seems to work fine.", "time": "2012-06-03T07:20:03Z", "tags": [], "attachment_id": null, "raw_text": "Ping (2) - Chad?\n\nFWIW I've been using this locally for a few weeks and it seems to work fine.", "id": 6359075, "count": 10, "bug_id": 694856}, {"id": 6878756, "attachment_id": null, "raw_text": "Still happening, I can reproduce on Mozilla/5.0 (Windows NT 5.1; rv:17.0) Gecko/20100101 Firefox/17.0", "author": "carlo@settebello.org", "creation_time": "2012-12-04T15:10:21Z", "time": "2012-12-04T15:10:21Z", "tags": [], "bug_id": 694856, "text": "Still happening, I can reproduce on Mozilla/5.0 (Windows NT 5.1; rv:17.0) Gecko/20100101 Firefox/17.0", "creator": "carlo@settebello.org", "is_private": false, "count": 11}, {"count": 12, "is_private": false, "creator": "klonos@gmail.com", "text": "I see it in latest 22.0a1 nightlies too.\n\nThere's a restartless addon that fixes it:\n\nhttps://addons.mozilla.org/en-US/firefox/addon/bug694856open-selected-text", "tags": [], "time": "2013-03-18T14:20:25Z", "bug_id": 694856, "creation_time": "2013-03-18T14:20:25Z", "author": "klonos@gmail.com", "raw_text": "I see it in latest 22.0a1 nightlies too.\n\nThere's a restartless addon that fixes it:\n\nhttps://addons.mozilla.org/en-US/firefox/addon/bug694856open-selected-text", "attachment_id": null, "id": 7214970}, {"raw_text": "Mozilla/5.0 (X11; Linux x86_64; rv:57.0) Gecko/20100101 Firefox/57.0\nAlso tried it on and Nightly 59.0\n\nStill happening, I can reproduce it.\n\nIt is in browser/base/content/nsContextMenu.js file, that uses makeURI function in /services/common/utils.js", "attachment_id": null, "id": 12937245, "count": 13, "is_private": false, "creator": "motkov.kirill@gmail.com", "text": "Mozilla/5.0 (X11; Linux x86_64; rv:57.0) Gecko/20100101 Firefox/57.0\nAlso tried it on and Nightly 59.0\n\nStill happening, I can reproduce it.\n\nIt is in browser/base/content/nsContextMenu.js file, that uses makeURI function in /services/common/utils.js", "time": "2017-12-28T09:21:52Z", "tags": [], "bug_id": 694856, "creation_time": "2017-12-28T09:21:52Z", "author": "motkov.kirill@gmail.com"}, {"id": 15002544, "raw_text": "", "attachment_id": null, "text": "*** Bug 1660733 has been marked as a duplicate of this bug. ***", "bug_id": 694856, "tags": [], "time": "2020-08-24T07:06:01Z", "creation_time": "2020-08-24T07:06:01Z", "author": "alice0775@gmail.com", "count": 14, "is_private": false, "creator": "alice0775@gmail.com"}]}}}