{"bugs": {"691129": {"comments": [{"creator": "jules@meridiandigital.co.uk", "text": "Created attachment 564031\ntest.html\n\nUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\nBuild ID: 20110902133214\n\nSteps to reproduce:\n\nUse XMLHttpRequest to request data from a URL that takes a long time to respond; execute window.alert() in response to ready state changing to 4.  \nWhile the resource is loading, trigger a page reload.\n\nSee attached test page; /events is a URL on my server that (at least during the behaviour experienced with this test) performs a 10 second wait and then returns \"[]\".  A similar resource will be required for the purposes of testing.\n\nLoad the page, then press Ctrl+R.\n\n\n\nActual results:\n\nThe syntax error alert box briefly displays, then the console logs the error message:\n\nError: uncaught exception: [Exception... \"prompt aborted by user\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: resource:///components/nsPrompter.js :: openTabPrompt :: line 462\"  data: no]\n\n\n\nExpected results:\n\nThe page should have reloaded without displaying the alert or the error message, as the request to reload preceded the events that caused the alert to display.", "count": 0, "author": "jules@meridiandigital.co.uk", "id": 5752525, "bug_id": 691129, "creation_time": "2011-10-02T09:13:31Z", "is_private": false, "time": "2011-10-02T09:13:31Z", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\nBuild ID: 20110902133214\n\nSteps to reproduce:\n\nUse XMLHttpRequest to request data from a URL that takes a long time to respond; execute window.alert() in response to ready state changing to 4.  \nWhile the resource is loading, trigger a page reload.\n\nSee attached test page; /events is a URL on my server that (at least during the behaviour experienced with this test) performs a 10 second wait and then returns \"[]\".  A similar resource will be required for the purposes of testing.\n\nLoad the page, then press Ctrl+R.\n\n\n\nActual results:\n\nThe syntax error alert box briefly displays, then the console logs the error message:\n\nError: uncaught exception: [Exception... \"prompt aborted by user\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: resource:///components/nsPrompter.js :: openTabPrompt :: line 462\"  data: no]\n\n\n\nExpected results:\n\nThe page should have reloaded without displaying the alert or the error message, as the request to reload preceded the events that caused the alert to display.", "attachment_id": 564031, "tags": []}, {"author": "jules@meridiandigital.co.uk", "text": "Not sure whether this really belongs in core or firefox.  There may in fact be two separate issues here:\n\n1. Unexpected events firing (the XMLHttpRequest status should not be chaning to 4 in response to a reload request)\n2. The alert box being cancelled unexpectedly leading to an error message.\n\nPossibly related, although apparently not an identical problem, is bug 655181.", "count": 1, "creator": "jules@meridiandigital.co.uk", "creation_time": "2011-10-02T09:17:33Z", "is_private": false, "id": 5752529, "bug_id": 691129, "attachment_id": null, "raw_text": "Not sure whether this really belongs in core or firefox.  There may in fact be two separate issues here:\n\n1. Unexpected events firing (the XMLHttpRequest status should not be chaning to 4 in response to a reload request)\n2. The alert box being cancelled unexpectedly leading to an error message.\n\nPossibly related, although apparently not an identical problem, is bug 655181.", "time": "2011-10-02T09:17:33Z", "tags": []}, {"bug_id": 691129, "id": 11428059, "is_private": false, "creation_time": "2016-05-22T13:39:18Z", "creator": "mrsoak6@yahoo.com", "text": "Not sure if this is the same problem you are describing, but I just had a similar issue. It seems if window.alert() is called and the dialog box is left open, then the page is reloaded and a window.alert() call is made in the process, it will fail with this error message.", "count": 2, "author": "mrsoak6@yahoo.com", "tags": [], "time": "2016-05-22T13:39:18Z", "raw_text": "Not sure if this is the same problem you are describing, but I just had a similar issue. It seems if window.alert() is called and the dialog box is left open, then the page is reloaded and a window.alert() call is made in the process, it will fail with this error message.", "attachment_id": null}]}}, "comments": {}}