{"comments": {}, "bugs": {"637052": {"comments": [{"raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b13pre) Gecko/20110226 Firefox/4.0b13pre\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b13pre) Gecko/20110226 Firefox/4.0b13pre\n\nI had a page saved in C:\\Stuff\\. Opening it in Firefox greets me with the following error:\n\nServer not found. Firefox can't find the server at c.\n\nQuick inspection of the address bar reveals the problem: \"https://c/Stuff/file.html\"\n\nAfter trying to figure out if it's a Firefox issue or Windows issue, looking at the page contents shows why Firefox insists on trying to redirect a local file to https:\n\nif(window.location.protocol!=\"https:\") {\n\tif(window.location.replace) {\n\t\twindow.location.replace(\"https\"+window.location.href.substr(4));\n\t}\n\telse {\n\t\twindow.location.href=\"https\"+window.location.href.substr(4)\n\t}\n}\n\nAs soon as I removed this code the page was fine.\n\nIf this happens to a non-technical user it's likely they'll think their computer is broken and won't know what to do.\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Save a website locally that wants to force itself to use HTTPS by changing the URL with Javascript.\n2. Open the page locally.\n\nActual Results:  \nFirefox complies with the Javascript and attempts to re-open the local page using HTTPS.\n\nExpected Results:  \nThe Javascript redirect should probably be ignored if going from file://someaddress to https://thesamesomeaddress.", "bug_id": 637052, "count": 0, "time": "2011-02-26T20:59:49Z", "is_private": false, "tags": [], "creation_time": "2011-02-26T20:59:49Z", "id": 5306569, "attachment_id": null, "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b13pre) Gecko/20110226 Firefox/4.0b13pre\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b13pre) Gecko/20110226 Firefox/4.0b13pre\n\nI had a page saved in C:\\Stuff\\. Opening it in Firefox greets me with the following error:\n\nServer not found. Firefox can't find the server at c.\n\nQuick inspection of the address bar reveals the problem: \"https://c/Stuff/file.html\"\n\nAfter trying to figure out if it's a Firefox issue or Windows issue, looking at the page contents shows why Firefox insists on trying to redirect a local file to https:\n\nif(window.location.protocol!=\"https:\") {\n\tif(window.location.replace) {\n\t\twindow.location.replace(\"https\"+window.location.href.substr(4));\n\t}\n\telse {\n\t\twindow.location.href=\"https\"+window.location.href.substr(4)\n\t}\n}\n\nAs soon as I removed this code the page was fine.\n\nIf this happens to a non-technical user it's likely they'll think their computer is broken and won't know what to do.\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Save a website locally that wants to force itself to use HTTPS by changing the URL with Javascript.\n2. Open the page locally.\n\nActual Results:  \nFirefox complies with the Javascript and attempts to re-open the local page using HTTPS.\n\nExpected Results:  \nThe Javascript redirect should probably be ignored if going from file://someaddress to https://thesamesomeaddress.", "creator": "mystiq@optonline.net", "author": "mystiq@optonline.net"}]}}}