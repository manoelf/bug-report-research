{"comments": {}, "bugs": {"671521": {"comments": [{"id": 5591002, "is_private": false, "count": 0, "tags": [], "bug_id": 671521, "raw_text": "I am trying to build NSS 3.12.3.1 with NSPR 4.7.5 on AIX 7.1 in 64-bit mode.\n\nI have followed these steps\n\n1. Downloaded the source from \nftp://ftp.mozilla.org/pub/mozilla.org/security/nss/releases/NSS_3_12_3_1_RTM/src/nss-3.12.3.1-with-nspr-4.7.5.tar.gz\n2. Extracted them to /LDAP\n3. gmake version is 3.80, \n    Compiler is IBM XL C/C++ 11.1.0.0\n4. setenv BUILD_OPT 1\n    setenv USE_64 1\n5. >cd /LDAP/nss-3.12.3.1/mozilla/security/nss\n6. >gmake nss_build_all >& nss_build_all.log\n\n\nI get the following Duplicate symbol warnings in the creation of .so files\n\nld: 0711-224 WARNING: Duplicate symbol: .bcopy\nld: 0711-224 WARNING: Duplicate symbol: .memcpy\n\tThe following duplicates were found:\n Symbol                    Source-File(Object) OR Import-File{Shared-object}\n ------------------------- -------------------------------------------------\n .bcopy                    {../../../../dist/AIX7.1_64_OPT.OBJ/lib/libnspr4.so}\n    ** Duplicate **        moveeq.s(/usr/lib/libc.a[moveeq_64.o])\nld: 0711-224 WARNING: Duplicate symbol: .memcpy\n .memcpy                   {../../../../dist/AIX7.1_64_OPT.OBJ/lib/libnspr4.so}\n    ** Duplicate **        moveeq.s(/usr/lib/libc.a[moveeq_64.o])\n\n\nI should not get these Duplicate symbol warnings.\n\nSuppose if I unset BUILD_OPT, then .memcpy duplicate symbol warning is gone. But still facing .bcopy duplicate symbol warning.\nPlease let us know how to eliminate these warnings.", "creation_time": "2011-07-14T10:27:49Z", "attachment_id": 545875, "time": "2011-07-14T10:27:49Z", "text": "Created attachment 545875\nBuild Log for NSS 3.12.3.1 on AIX 7.1\n\nI am trying to build NSS 3.12.3.1 with NSPR 4.7.5 on AIX 7.1 in 64-bit mode.\n\nI have followed these steps\n\n1. Downloaded the source from \nftp://ftp.mozilla.org/pub/mozilla.org/security/nss/releases/NSS_3_12_3_1_RTM/src/nss-3.12.3.1-with-nspr-4.7.5.tar.gz\n2. Extracted them to /LDAP\n3. gmake version is 3.80, \n    Compiler is IBM XL C/C++ 11.1.0.0\n4. setenv BUILD_OPT 1\n    setenv USE_64 1\n5. >cd /LDAP/nss-3.12.3.1/mozilla/security/nss\n6. >gmake nss_build_all >& nss_build_all.log\n\n\nI get the following Duplicate symbol warnings in the creation of .so files\n\nld: 0711-224 WARNING: Duplicate symbol: .bcopy\nld: 0711-224 WARNING: Duplicate symbol: .memcpy\n\tThe following duplicates were found:\n Symbol                    Source-File(Object) OR Import-File{Shared-object}\n ------------------------- -------------------------------------------------\n .bcopy                    {../../../../dist/AIX7.1_64_OPT.OBJ/lib/libnspr4.so}\n    ** Duplicate **        moveeq.s(/usr/lib/libc.a[moveeq_64.o])\nld: 0711-224 WARNING: Duplicate symbol: .memcpy\n .memcpy                   {../../../../dist/AIX7.1_64_OPT.OBJ/lib/libnspr4.so}\n    ** Duplicate **        moveeq.s(/usr/lib/libc.a[moveeq_64.o])\n\n\nI should not get these Duplicate symbol warnings.\n\nSuppose if I unset BUILD_OPT, then .memcpy duplicate symbol warning is gone. But still facing .bcopy duplicate symbol warning.\nPlease let us know how to eliminate these warnings.", "author": "veera.narkedimilli@siemens.com", "creator": "veera.narkedimilli@siemens.com"}, {"creator": "julien.pierre@oracle.com", "author": "julien.pierre@oracle.com", "bug_id": 671521, "is_private": false, "count": 1, "tags": [], "id": 8465581, "text": "Ashwani, did you ever resolve this problem ?", "time": "2014-02-26T13:37:54Z", "attachment_id": null, "raw_text": "Ashwani, did you ever resolve this problem ?", "creation_time": "2014-02-26T13:37:54Z"}, {"author": "wtc@google.com", "creator": "wtc@google.com", "id": 8469649, "count": 2, "is_private": false, "tags": [], "bug_id": 671521, "raw_text": "This may be related to bug 200561. I think the command we used to\nbuild libnspr4.so may be wrong:\n\n/usr/bin/ld -brtl -bnortllib -bM:SRE -bnoentry -bexpall -blibpath:/usr/lib:/lib -binitfini::_PR_Fini -o libnspr4.so ./prvrsion.o io/./prfdcach.o ... md/unix/./uxwrap.o md/unix/./aix.o   -lodm -lcfg -lpthreads -ldl -lC_r -lC -lc_r -lm /usr/lib/libc.a\n\nI suspect the problematic one is /usr/lib/libc.a. We should also\nbe able to omit -lC_r -lC.", "creation_time": "2014-02-27T02:35:53Z", "attachment_id": null, "time": "2014-02-27T02:35:53Z", "text": "This may be related to bug 200561. I think the command we used to\nbuild libnspr4.so may be wrong:\n\n/usr/bin/ld -brtl -bnortllib -bM:SRE -bnoentry -bexpall -blibpath:/usr/lib:/lib -binitfini::_PR_Fini -o libnspr4.so ./prvrsion.o io/./prfdcach.o ... md/unix/./uxwrap.o md/unix/./aix.o   -lodm -lcfg -lpthreads -ldl -lC_r -lC -lc_r -lm /usr/lib/libc.a\n\nI suspect the problematic one is /usr/lib/libc.a. We should also\nbe able to omit -lC_r -lC."}]}}}