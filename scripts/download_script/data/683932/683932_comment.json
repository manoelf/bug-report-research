{"comments": {}, "bugs": {"683932": {"comments": [{"creator": "restaurant@alice.de", "is_private": false, "creation_time": "2011-09-01T16:24:11Z", "attachment_id": null, "tags": [], "author": "restaurant@alice.de", "count": 0, "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.1) Gecko/20100101 Firefox/6.0.1\nBuild ID: 20110830092941\n\nSteps to reproduce:\n\nThis is a simplified version of a script that is used on a website:\n\n<form onsubmit=\"return check();\" action=\"...\" method=\"post\">\n<script type=\"text/javascript\">\nvar i = 0;\nfunction check() {\n   if (i++ == 0) {\n     return true;\n   } else {\n     window.alert('Your request has been sent!');}\n     return false\n   }\n}\n</script>\n\n...\n\n</form>\n\nThe script is ment to only submit once, no matter how often you try to submit (by mouse click or button press). It's not necessary to discuss the usefulness of the script :-)\n\nI know, nowadays this script is unnessecary. But let's imagine there are more things done in the script than shown above.\n\n\nActual results:\n\nIf you double click on the submit button, the request gets submitted twice and the alert()-dialog appears only for a fraction of a second. Most likely, this only works, when there is a certain delay until the request is answered by the server, so that the next page won't open instantaneously. 0.5sec should be enough.\n\nThe error console shows: \nuncaught exception: [Exception... \"prompt aborted by user\" nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\" location: \"JS frame :: resource:///components/nsPrompter.js :: openTabPrompt :: line 462\" data: no]\n\n\nExpected results:\n\n1. The form should be submitted only once\n2. The modal dialog should open and block any user input until the user clicks \"OK\" or until the next page has come up.", "id": 5693832, "bug_id": 683932, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.1) Gecko/20100101 Firefox/6.0.1\nBuild ID: 20110830092941\n\nSteps to reproduce:\n\nThis is a simplified version of a script that is used on a website:\n\n<form onsubmit=\"return check();\" action=\"...\" method=\"post\">\n<script type=\"text/javascript\">\nvar i = 0;\nfunction check() {\n   if (i++ == 0) {\n     return true;\n   } else {\n     window.alert('Your request has been sent!');}\n     return false\n   }\n}\n</script>\n\n...\n\n</form>\n\nThe script is ment to only submit once, no matter how often you try to submit (by mouse click or button press). It's not necessary to discuss the usefulness of the script :-)\n\nI know, nowadays this script is unnessecary. But let's imagine there are more things done in the script than shown above.\n\n\nActual results:\n\nIf you double click on the submit button, the request gets submitted twice and the alert()-dialog appears only for a fraction of a second. Most likely, this only works, when there is a certain delay until the request is answered by the server, so that the next page won't open instantaneously. 0.5sec should be enough.\n\nThe error console shows: \nuncaught exception: [Exception... \"prompt aborted by user\" nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\" location: \"JS frame :: resource:///components/nsPrompter.js :: openTabPrompt :: line 462\" data: no]\n\n\nExpected results:\n\n1. The form should be submitted only once\n2. The modal dialog should open and block any user input until the user clicks \"OK\" or until the next page has come up.", "time": "2011-09-01T16:24:11Z"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-09-01T20:38:07Z", "creator": "bugzilla@mversen.de", "raw_text": "probably a related to bug 663515", "time": "2011-09-01T20:38:07Z", "bug_id": 683932, "id": 5694641, "author": "bugzilla@mversen.de", "text": "probably a related to bug 663515", "count": 1}, {"id": 8820011, "bug_id": 683932, "author": "mozilla+bmo@noorenberghe.ca", "count": 2, "text": "Bulk move to Toolkit::Notifications and Alerts\n\nFilter on notifications-and-alerts-component.", "raw_text": "Bulk move to Toolkit::Notifications and Alerts\n\nFilter on notifications-and-alerts-component.", "time": "2014-05-21T06:41:39Z", "is_private": false, "creation_time": "2014-05-21T06:41:39Z", "creator": "mozilla+bmo@noorenberghe.ca", "tags": [], "attachment_id": null}, {"creator": "michaelmotes@email.com", "is_private": false, "creation_time": "2014-08-21T22:31:08Z", "attachment_id": null, "tags": [], "text": "This bug mainly effects developers trying to debug, disallowing them from seeing the alert before a page refresh, back button press, or form submit, etc. It can be circumvented by setting prompts.tab_modal.enabled = false in about:config. This will at least allow one to view the alert, but won't stop the refresh.", "count": 3, "author": "michaelmotes@email.com", "bug_id": 683932, "id": 9215274, "raw_text": "This bug mainly effects developers trying to debug, disallowing them from seeing the alert before a page refresh, back button press, or form submit, etc. It can be circumvented by setting prompts.tab_modal.enabled = false in about:config. This will at least allow one to view the alert, but won't stop the refresh.", "time": "2014-08-21T22:31:08Z"}]}}}