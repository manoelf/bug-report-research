{"comments": {}, "bugs": {"1642261": {"comments": [{"time": "2020-06-01T02:47:42Z", "tags": [], "count": 0, "creation_time": "2020-06-01T02:47:42Z", "creator": "cam@mcc.id.au", "attachment_id": null, "bug_id": 1642261, "author": "cam@mcc.id.au", "id": 14853824, "is_private": false, "text": "", "raw_text": ""}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=501b1cf8b1be356603ece4aee868f40e9fb594e0", "raw_text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=501b1cf8b1be356603ece4aee868f40e9fb594e0", "is_private": false, "creator": "cam@mcc.id.au", "id": 14853886, "creation_time": "2020-06-01T05:41:40Z", "author": "cam@mcc.id.au", "bug_id": 1642261, "count": 1, "tags": ["obsolete"], "attachment_id": null, "time": "2020-06-01T05:41:40Z"}, {"tags": [], "count": 2, "time": "2020-06-01T05:50:47Z", "creation_time": "2020-06-01T05:50:47Z", "creator": "cam@mcc.id.au", "bug_id": 1642261, "attachment_id": 9153065, "is_private": false, "text": "Created attachment 9153065\ndata review request", "raw_text": "", "author": "cam@mcc.id.au", "id": 14853894}, {"text": "Created attachment 9153304\nBug 1642261 - Part 1: Trivial test tweak.", "raw_text": "", "is_private": false, "author": "cam@mcc.id.au", "id": 14857147, "bug_id": 1642261, "attachment_id": 9153304, "creator": "cam@mcc.id.au", "creation_time": "2020-06-02T01:23:20Z", "count": 3, "tags": [], "time": "2020-06-02T01:23:20Z"}, {"attachment_id": 9153305, "bug_id": 1642261, "id": 14857149, "author": "cam@mcc.id.au", "text": "Created attachment 9153305\nBug 1642261 - Part 2: Add telemetry for -moz-appearance usage.", "raw_text": "", "is_private": false, "time": "2020-06-02T01:23:23Z", "count": 4, "tags": [], "creator": "cam@mcc.id.au", "creation_time": "2020-06-02T01:23:23Z"}, {"bug_id": 1642261, "attachment_id": null, "is_private": false, "raw_text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=3fa5a2f7a4a515d8f4939c197ecb7265f0c39c33", "text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=3fa5a2f7a4a515d8f4939c197ecb7265f0c39c33", "author": "cam@mcc.id.au", "id": 14857155, "tags": [], "count": 5, "time": "2020-06-02T01:26:41Z", "creation_time": "2020-06-02T01:26:41Z", "creator": "cam@mcc.id.au"}, {"count": 6, "tags": [], "time": "2020-06-02T19:37:18Z", "creator": "chutten@mozilla.com", "creation_time": "2020-06-02T19:37:18Z", "bug_id": 1642261, "attachment_id": 9153065, "raw_text": "DATA COLLECTION REVIEW RESPONSE:\n\n    Is there or will there be documentation that describes the schema for the ultimate data set available publicly, complete and accurate?\n\nYes. This collection is a Use Counter so is documented in its definitions file [UseCounters.conf](https://hg.mozilla.org/mozilla-central/file/tip/dom/base/UseCounters.conf)\n\n    Is there a control mechanism that allows the user to turn the data collection on and off?\n\nYes. This collection is Telemetry so can be controlled through Firefox's Preferences.\n\n    If the request is for permanent data collection, is there someone who will monitor the data over time?\n\nYes, Cameron McCormack is responsible.\n\n    Using the category system of data types on the Mozilla wiki, what collection type of data do the requested measurements fall under?\n\nCategory 1, Technical.\n\n    Is the data collection request for default-on or default-off?\n\nDefault on for all channels.\n\n    Does the instrumentation include the addition of any new identifiers?\n\nNo.\n\n    Is the data collection covered by the existing Firefox privacy notice?\n\nYes.\n\n    Does there need to be a check-in in the future to determine whether to renew the data?\n\nNo. This collection is permanent.\n\n---\nResult: datareview+", "text": "Comment on attachment 9153065\ndata review request\n\nDATA COLLECTION REVIEW RESPONSE:\n\n    Is there or will there be documentation that describes the schema for the ultimate data set available publicly, complete and accurate?\n\nYes. This collection is a Use Counter so is documented in its definitions file [UseCounters.conf](https://hg.mozilla.org/mozilla-central/file/tip/dom/base/UseCounters.conf)\n\n    Is there a control mechanism that allows the user to turn the data collection on and off?\n\nYes. This collection is Telemetry so can be controlled through Firefox's Preferences.\n\n    If the request is for permanent data collection, is there someone who will monitor the data over time?\n\nYes, Cameron McCormack is responsible.\n\n    Using the category system of data types on the Mozilla wiki, what collection type of data do the requested measurements fall under?\n\nCategory 1, Technical.\n\n    Is the data collection request for default-on or default-off?\n\nDefault on for all channels.\n\n    Does the instrumentation include the addition of any new identifiers?\n\nNo.\n\n    Is the data collection covered by the existing Firefox privacy notice?\n\nYes.\n\n    Does there need to be a check-in in the future to determine whether to renew the data?\n\nNo. This collection is permanent.\n\n---\nResult: datareview+", "is_private": false, "id": 14858921, "author": "chutten@mozilla.com"}, {"is_private": false, "text": "Pushed by cmccormack@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/68456151c046\nPart 1: Trivial test tweak. r=emilio\nhttps://hg.mozilla.org/integration/autoland/rev/32b26c1984f6\nPart 2: Add telemetry for -moz-appearance usage. r=emilio", "raw_text": "Pushed by cmccormack@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/68456151c046\nPart 1: Trivial test tweak. r=emilio\nhttps://hg.mozilla.org/integration/autoland/rev/32b26c1984f6\nPart 2: Add telemetry for -moz-appearance usage. r=emilio", "creation_time": "2020-06-02T23:43:48Z", "id": 14859469, "author": "pulsebot@bots.tld", "creator": "pulsebot@bots.tld", "tags": [], "bug_id": 1642261, "count": 7, "time": "2020-06-02T23:43:48Z", "attachment_id": null}, {"tags": [], "count": 8, "time": "2020-06-02T23:44:54Z", "creation_time": "2020-06-02T23:44:54Z", "creator": "wptsync@mozilla.bugs", "bug_id": 1642261, "attachment_id": null, "is_private": false, "text": "Created web-platform-tests PR https://github.com/web-platform-tests/wpt/pull/23927 for changes under testing/web-platform/tests", "raw_text": "Created web-platform-tests PR https://github.com/web-platform-tests/wpt/pull/23927 for changes under testing/web-platform/tests", "id": 14859477, "author": "wptsync@mozilla.bugs"}, {"text": "Upstream web-platform-tests status checks passed, PR will merge once commit reaches central.", "raw_text": "Upstream web-platform-tests status checks passed, PR will merge once commit reaches central.", "is_private": false, "id": 14859510, "author": "wptsync@mozilla.bugs", "bug_id": 1642261, "attachment_id": null, "creator": "wptsync@mozilla.bugs", "creation_time": "2020-06-03T00:16:53Z", "count": 9, "tags": [], "time": "2020-06-03T00:16:53Z"}, {"creation_time": "2020-06-03T04:44:56Z", "creator": "wptsync@mozilla.bugs", "tags": [], "count": 10, "time": "2020-06-03T04:44:56Z", "is_private": false, "text": "Upstream PR was closed without merging", "raw_text": "Upstream PR was closed without merging", "author": "wptsync@mozilla.bugs", "id": 14859760, "bug_id": 1642261, "attachment_id": null}, {"creator": "pulsebot@bots.tld", "creation_time": "2020-06-03T04:51:00Z", "count": 11, "tags": [], "time": "2020-06-03T04:51:00Z", "text": "Backout by nbeleuzu@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/4e4f67b67b7f\nBacked out 2 changesets for mochitest failures on test_property_database.html . CLOSED TREE", "raw_text": "Backout by nbeleuzu@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/4e4f67b67b7f\nBacked out 2 changesets for mochitest failures on test_property_database.html . CLOSED TREE", "is_private": false, "author": "pulsebot@bots.tld", "id": 14859765, "bug_id": 1642261, "attachment_id": null}, {"creation_time": "2020-06-03T04:57:04Z", "creator": "nbeleuzu@mozilla.com", "tags": [], "count": 12, "time": "2020-06-03T04:57:04Z", "is_private": false, "text": "Backed out for mochitest failures on test_property_database.html\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/4e4f67b67b7fa937e07ea4baf56cc27839f555ac\nLog link: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304821654&repo=autoland&lineNumber=4720\n\nPlease also look over:\n1. Failures on appearance-cssom-001.html - https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304853806&repo=autoland&lineNumber=15945\n2. Failures on test_animation-type-longhand.html - https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304844295&repo=autoland&lineNumber=1627", "raw_text": "Backed out for mochitest failures on test_property_database.html\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/4e4f67b67b7fa937e07ea4baf56cc27839f555ac\nLog link: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304821654&repo=autoland&lineNumber=4720\n\nPlease also look over:\n1. Failures on appearance-cssom-001.html - https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304853806&repo=autoland&lineNumber=15945\n2. Failures on test_animation-type-longhand.html - https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304844295&repo=autoland&lineNumber=1627", "id": 14859768, "author": "nbeleuzu@mozilla.com", "bug_id": 1642261, "attachment_id": null}, {"creation_time": "2020-06-03T04:58:20Z", "author": "cam@mcc.id.au", "id": 14859769, "creator": "cam@mcc.id.au", "is_private": false, "text": "Thanks for backing out. Looks like I forgot this morning when hitting land that I didn't check my try run results!", "raw_text": "Thanks for backing out. Looks like I forgot this morning when hitting land that I didn't check my try run results!", "time": "2020-06-03T04:58:20Z", "attachment_id": null, "tags": [], "count": 13, "bug_id": 1642261}, {"creation_time": "2020-06-03T05:14:58Z", "creator": "cam@mcc.id.au", "tags": [], "count": 14, "time": "2020-06-03T05:14:58Z", "is_private": false, "raw_text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=66b12c3e0e4977d86ffab28579776d810c7e0782", "text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=66b12c3e0e4977d86ffab28579776d810c7e0782", "id": 14859787, "author": "cam@mcc.id.au", "bug_id": 1642261, "attachment_id": null}, {"tags": [], "count": 15, "time": "2020-06-03T07:07:23Z", "creation_time": "2020-06-03T07:07:23Z", "creator": "pulsebot@bots.tld", "bug_id": 1642261, "attachment_id": null, "is_private": false, "raw_text": "Pushed by cmccormack@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/308d2f7a4a13\nPart 1: Trivial test tweak. r=emilio\nhttps://hg.mozilla.org/integration/autoland/rev/dd4c99038ede\nPart 2: Add telemetry for -moz-appearance usage. r=emilio", "text": "Pushed by cmccormack@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/308d2f7a4a13\nPart 1: Trivial test tweak. r=emilio\nhttps://hg.mozilla.org/integration/autoland/rev/dd4c99038ede\nPart 2: Add telemetry for -moz-appearance usage. r=emilio", "id": 14859905, "author": "pulsebot@bots.tld"}, {"attachment_id": null, "bug_id": 1642261, "author": "wptsync@mozilla.bugs", "id": 14859917, "raw_text": "Upstream web-platform-tests status checks passed, PR will merge once commit reaches central.", "text": "Upstream web-platform-tests status checks passed, PR will merge once commit reaches central.", "is_private": false, "time": "2020-06-03T07:25:49Z", "count": 16, "tags": [], "creator": "wptsync@mozilla.bugs", "creation_time": "2020-06-03T07:25:49Z"}, {"creator": "btara@mozilla.com", "creation_time": "2020-06-03T08:53:28Z", "count": 17, "tags": [], "time": "2020-06-03T08:53:28Z", "raw_text": "Backed out 2 changesets (bug 1642261) for browser_use_counters.js failures\n\nPush with failures: https://treeherder.mozilla.org/#/jobs?repo=autoland&searchStr=os%2Cx%2C10.14%2Cdebug%2Cmochitests%2Ctest-macosx1014-64%2Fdebug-mochitest-browser-chrome-e10s-4%2Cm%28bc4%29&fromchange=dd4c99038edea872e91ff5fbb004fa8c5fe7c8ea&tochange=fb5ee52cb42c4d4b214ead6d324a0a664b738dcb&selectedTaskRun=ejzeIH3zRUK5l5lzwLdFmg-0\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/39185e9b6a640f9a919308f2036c2c26741dda6a\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304875322&repo=autoland&lineNumber=16334\n\n```\n...\n[task 2020-06-03T08:08:18.262Z] 08:08:18     INFO - checking file_use_counter_svg_currentScale.svg as image with histogram CSS_PROPERTY_Fill\n[task 2020-06-03T08:08:18.262Z] 08:08:18     INFO - Buffered messages logged at 08:08:06\n[task 2020-06-03T08:08:18.262Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | page counts for CSS_PROPERTY_Fill after are correct - \n[task 2020-06-03T08:08:18.262Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts for CSS_PROPERTY_Fill after are correct - \n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | top level document counts are correct - \n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts are correct - \n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - checking file_use_counter_svg_fill_pattern.svg with histogram CSS_PROPERTY_FillOpacity\n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - Buffered messages logged at 08:08:15\n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | top level document counts are correct - \n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts are correct - \n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - checking file_use_counter_svg_fill_pattern_internal.svg with histogram CSS_PROPERTY_FillOpacity\n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - Buffered messages logged at 08:08:18\n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | page counts for CSS_PROPERTY_FillOpacity after are correct - \n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts for CSS_PROPERTY_FillOpacity after are correct - \n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | top level document counts are correct - \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts are correct - \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - Leaving test bound \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - Entering test bound \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - Leaving test bound \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - Buffered messages finished\n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - TEST-UNEXPECTED-FAIL | dom/base/test/browser_use_counters.js | This test exceeded the timeout threshold. It should be rewritten or split up. If that's not possible, use requestLongerTimeout(N), but only as a last resort. - \n[task 2020-06-03T08:08:18.269Z] 08:08:18     INFO - GECKO(2217) | MEMORY STAT | vsize 7872MB | residentFast 485MB | heapAllocated 116MB\n[task 2020-06-03T08:08:18.269Z] 08:08:18     INFO - TEST-OK | dom/base/test/browser_use_counters.js | took 207661ms\n```", "text": "Backed out 2 changesets (bug 1642261) for browser_use_counters.js failures\n\nPush with failures: https://treeherder.mozilla.org/#/jobs?repo=autoland&searchStr=os%2Cx%2C10.14%2Cdebug%2Cmochitests%2Ctest-macosx1014-64%2Fdebug-mochitest-browser-chrome-e10s-4%2Cm%28bc4%29&fromchange=dd4c99038edea872e91ff5fbb004fa8c5fe7c8ea&tochange=fb5ee52cb42c4d4b214ead6d324a0a664b738dcb&selectedTaskRun=ejzeIH3zRUK5l5lzwLdFmg-0\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/39185e9b6a640f9a919308f2036c2c26741dda6a\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304875322&repo=autoland&lineNumber=16334\n\n```\n...\n[task 2020-06-03T08:08:18.262Z] 08:08:18     INFO - checking file_use_counter_svg_currentScale.svg as image with histogram CSS_PROPERTY_Fill\n[task 2020-06-03T08:08:18.262Z] 08:08:18     INFO - Buffered messages logged at 08:08:06\n[task 2020-06-03T08:08:18.262Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | page counts for CSS_PROPERTY_Fill after are correct - \n[task 2020-06-03T08:08:18.262Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts for CSS_PROPERTY_Fill after are correct - \n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | top level document counts are correct - \n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts are correct - \n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - checking file_use_counter_svg_fill_pattern.svg with histogram CSS_PROPERTY_FillOpacity\n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - Buffered messages logged at 08:08:15\n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | top level document counts are correct - \n[task 2020-06-03T08:08:18.263Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts are correct - \n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - checking file_use_counter_svg_fill_pattern_internal.svg with histogram CSS_PROPERTY_FillOpacity\n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - Buffered messages logged at 08:08:18\n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | page counts for CSS_PROPERTY_FillOpacity after are correct - \n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts for CSS_PROPERTY_FillOpacity after are correct - \n[task 2020-06-03T08:08:18.264Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | top level document counts are correct - \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - TEST-PASS | dom/base/test/browser_use_counters.js | document counts are correct - \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - Leaving test bound \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - Entering test bound \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - Leaving test bound \n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - Buffered messages finished\n[task 2020-06-03T08:08:18.268Z] 08:08:18     INFO - TEST-UNEXPECTED-FAIL | dom/base/test/browser_use_counters.js | This test exceeded the timeout threshold. It should be rewritten or split up. If that's not possible, use requestLongerTimeout(N), but only as a last resort. - \n[task 2020-06-03T08:08:18.269Z] 08:08:18     INFO - GECKO(2217) | MEMORY STAT | vsize 7872MB | residentFast 485MB | heapAllocated 116MB\n[task 2020-06-03T08:08:18.269Z] 08:08:18     INFO - TEST-OK | dom/base/test/browser_use_counters.js | took 207661ms\n```", "is_private": false, "author": "btara@mozilla.com", "id": 14860029, "bug_id": 1642261, "attachment_id": null}, {"bug_id": 1642261, "attachment_id": null, "raw_text": "Also seeing this failure starting with the backed out changes: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304877234&repo=autoland&lineNumber=2441", "text": "Also seeing this failure starting with the backed out changes: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=304877234&repo=autoland&lineNumber=2441", "is_private": false, "id": 14860043, "author": "btara@mozilla.com", "count": 18, "tags": [], "time": "2020-06-03T09:00:06Z", "creator": "btara@mozilla.com", "creation_time": "2020-06-03T09:00:06Z"}, {"attachment_id": null, "time": "2020-06-03T09:15:03Z", "tags": [], "count": 19, "bug_id": 1642261, "creation_time": "2020-06-03T09:15:03Z", "author": "wptsync@mozilla.bugs", "id": 14860066, "creator": "wptsync@mozilla.bugs", "is_private": false, "raw_text": "Upstream PR was closed without merging", "text": "Upstream PR was closed without merging"}, {"id": 14864351, "author": "cam@mcc.id.au", "raw_text": "The timeouts on macOS for browser_use_counters.js required some substantial refactoring of that test:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=6721c5fe58dd986126e3b2fc5d9418439fe0e7e2", "text": "The timeouts on macOS for browser_use_counters.js required some substantial refactoring of that test:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=6721c5fe58dd986126e3b2fc5d9418439fe0e7e2", "is_private": false, "attachment_id": null, "bug_id": 1642261, "creator": "cam@mcc.id.au", "creation_time": "2020-06-05T00:39:02Z", "time": "2020-06-05T00:39:02Z", "count": 20, "tags": []}, {"raw_text": "This refactoring achieves a few things:\n\n1. Removing the repetition between the different check_use_counter_xxx\n   functions.\n2. Increasing the number of repetitions that\n   BrowserTestUtils.waitForCondition uses so that we have intermittently\n   failures resulting from it reaching its maximum repetitions.\n3. Checking all telemetry histograms from the one document at once,\n   rather than re-loading the document for each histogram checked.\n   (This saves a lot of time, and was the cause of macOS timeouts after\n   the -moz-appearance use counter checks were added.)\n4. A change to use a CSS property use counter as a sentinel to determine\n   whether telemetry has been reported yet, rather than the number of\n   documents destroyed, since the browser might be loading various other\n   documents in the background that can cause us to advance the test\n   before telemetry has been reported.", "text": "Created attachment 9154412\nBug 1642261 - Part 3: Refactor browser_use_counters.js.\n\nThis refactoring achieves a few things:\n\n1. Removing the repetition between the different check_use_counter_xxx\n   functions.\n2. Increasing the number of repetitions that\n   BrowserTestUtils.waitForCondition uses so that we have intermittently\n   failures resulting from it reaching its maximum repetitions.\n3. Checking all telemetry histograms from the one document at once,\n   rather than re-loading the document for each histogram checked.\n   (This saves a lot of time, and was the cause of macOS timeouts after\n   the -moz-appearance use counter checks were added.)\n4. A change to use a CSS property use counter as a sentinel to determine\n   whether telemetry has been reported yet, rather than the number of\n   documents destroyed, since the browser might be loading various other\n   documents in the background that can cause us to advance the test\n   before telemetry has been reported.", "is_private": false, "author": "cam@mcc.id.au", "id": 14864353, "bug_id": 1642261, "attachment_id": 9154412, "creator": "cam@mcc.id.au", "creation_time": "2020-06-05T00:39:51Z", "count": 21, "tags": [], "time": "2020-06-05T00:39:51Z"}, {"time": "2020-06-05T23:58:27Z", "count": 22, "tags": [], "creator": "pulsebot@bots.tld", "creation_time": "2020-06-05T23:58:27Z", "attachment_id": null, "bug_id": 1642261, "author": "pulsebot@bots.tld", "id": 14866314, "text": "Pushed by cmccormack@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/2e59f01bfdeb\nPart 1: Trivial test tweak. r=emilio\nhttps://hg.mozilla.org/integration/autoland/rev/c1ce12bc1d96\nPart 2: Add telemetry for -moz-appearance usage. r=emilio\nhttps://hg.mozilla.org/integration/autoland/rev/3cde4e2d064b\nPart 3: Refactor browser_use_counters.js. r=emilio", "raw_text": "Pushed by cmccormack@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/2e59f01bfdeb\nPart 1: Trivial test tweak. r=emilio\nhttps://hg.mozilla.org/integration/autoland/rev/c1ce12bc1d96\nPart 2: Add telemetry for -moz-appearance usage. r=emilio\nhttps://hg.mozilla.org/integration/autoland/rev/3cde4e2d064b\nPart 3: Refactor browser_use_counters.js. r=emilio", "is_private": false}, {"count": 23, "tags": [], "time": "2020-06-06T00:17:04Z", "creator": "wptsync@mozilla.bugs", "creation_time": "2020-06-06T00:17:04Z", "bug_id": 1642261, "attachment_id": null, "text": "Upstream web-platform-tests status checks passed, PR will merge once commit reaches central.", "raw_text": "Upstream web-platform-tests status checks passed, PR will merge once commit reaches central.", "is_private": false, "author": "wptsync@mozilla.bugs", "id": 14866327}, {"is_private": false, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/2e59f01bfdeb\nhttps://hg.mozilla.org/mozilla-central/rev/c1ce12bc1d96\nhttps://hg.mozilla.org/mozilla-central/rev/3cde4e2d064b", "text": "https://hg.mozilla.org/mozilla-central/rev/2e59f01bfdeb\nhttps://hg.mozilla.org/mozilla-central/rev/c1ce12bc1d96\nhttps://hg.mozilla.org/mozilla-central/rev/3cde4e2d064b", "author": "dluca@mozilla.com", "id": 14866558, "bug_id": 1642261, "attachment_id": null, "creation_time": "2020-06-06T09:48:41Z", "creator": "dluca@mozilla.com", "tags": ["bugherder"], "count": 24, "time": "2020-06-06T09:48:41Z"}, {"time": "2020-06-06T21:53:35Z", "tags": [], "count": 25, "creation_time": "2020-06-06T21:53:35Z", "creator": "wptsync@mozilla.bugs", "attachment_id": null, "bug_id": 1642261, "id": 14866869, "author": "wptsync@mozilla.bugs", "is_private": false, "text": "Upstream PR merged by moz-wptsync-bot", "raw_text": "Upstream PR merged by moz-wptsync-bot"}, {"time": "2020-06-08T02:57:29Z", "attachment_id": null, "tags": [], "bug_id": 1642261, "count": 26, "author": "pulsebot@bots.tld", "creation_time": "2020-06-08T02:57:29Z", "id": 14867347, "creator": "pulsebot@bots.tld", "is_private": false, "text": "Pushed by geoff@darktrojan.net:\nhttps://hg.mozilla.org/comm-central/rev/8a1f6badc615\nPort bug 1642261 - Add forms.css to browser_parsable_css.js whitelist. rs=bustage-fix", "raw_text": "Pushed by geoff@darktrojan.net:\nhttps://hg.mozilla.org/comm-central/rev/8a1f6badc615\nPort bug 1642261 - Add forms.css to browser_parsable_css.js whitelist. rs=bustage-fix"}, {"author": "orangefactor@bots.tld", "id": 14868782, "text": "7 failures in 4949 pushes (0.001 failures/push) were associated with this bug in the last 7 days.\n\nRepository breakdown:\n* comm-central: 7\n\nPlatform breakdown:\n* macosx1014-64-shippable: 1\n* windows7-32-shippable: 2\n* windows10-64-shippable: 2\n* linux64-shippable: 2\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1642261&startday=2020-06-01&endday=2020-06-07&tree=all", "raw_text": "7 failures in 4949 pushes (0.001 failures/push) were associated with this bug in the last 7 days.\n\nRepository breakdown:\n* comm-central: 7\n\nPlatform breakdown:\n* macosx1014-64-shippable: 1\n* windows7-32-shippable: 2\n* windows10-64-shippable: 2\n* linux64-shippable: 2\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1642261&startday=2020-06-01&endday=2020-06-07&tree=all", "is_private": false, "attachment_id": null, "bug_id": 1642261, "creator": "orangefactor@bots.tld", "creation_time": "2020-06-08T06:40:39Z", "time": "2020-06-08T06:40:39Z", "count": 27, "tags": []}]}}}