{"bugs": {"699000": {"comments": [{"text": "Created attachment 571277\nSample message exposing whitespace inflation in Trunk\n\nThere's an inflation of whitespace around message body text and before attachment previews: current trunk features double distances and a generous total of 51px wasted vertical space (adding 32px to the existing 19px of waste space in TB7).\n\nSTR\n\n1) Print preview of attached sample msg in TB 7\n2) Print preview of attached sample msg in TB trunk (10.0a1 2011-11-01)\n3) Compare whitespace around body text and before attachment preview (underneath attachment caption)\n\nActual Result\n\nFor details, please see attached screenshots in my subsequent comments.\n\nTB 7:\n* 24 px of vertical whitespace before and after body text\n- 42 px between attachment caption and attachment preview (too much!)\n- 23 px before attachments list caption\n- 26 px after attachments list caption\nTotal vertical Whitespace: \n=> 139 px\n\nTB Trunk:\n* 40 px of vertical whitespace before and after body text (added 32px of wasted vspace here)\n- 42 px between attachment caption and attachment preview (still too much!)\n- 23 px before attachments list caption\n- 26 px after attachments list caption\nTotal vertical whitespace:\n=> 171 px (added 32px over TB7)\n\nExpected Result\n\nHave unified, reasonable vertical whitespace distances that do not waste space!\n\n* 24 px of vertical whitespace before and after body text\n- 24 px between attachment caption and attachment preview\n- 24 px before attachments list caption\n- 24 px after attachments list caption\nTotal vertical whitespace:\n=> 120 px (recover 51 px over Trunk, and 19px over TB 7)\n\nAdd to that existing bugs like Bug 549139 where we still force printing of attachment list or Bug 387237 about making printing attachment previews independent of viewing them, and realize we are responsible for a lot of wasted paper (cf. attachment-print-related meta bug 443634).", "attachment_id": 571277, "time": "2011-11-02T09:17:18Z", "raw_text": "There's an inflation of whitespace around message body text and before attachment previews: current trunk features double distances and a generous total of 51px wasted vertical space (adding 32px to the existing 19px of waste space in TB7).\n\nSTR\n\n1) Print preview of attached sample msg in TB 7\n2) Print preview of attached sample msg in TB trunk (10.0a1 2011-11-01)\n3) Compare whitespace around body text and before attachment preview (underneath attachment caption)\n\nActual Result\n\nFor details, please see attached screenshots in my subsequent comments.\n\nTB 7:\n* 24 px of vertical whitespace before and after body text\n- 42 px between attachment caption and attachment preview (too much!)\n- 23 px before attachments list caption\n- 26 px after attachments list caption\nTotal vertical Whitespace: \n=> 139 px\n\nTB Trunk:\n* 40 px of vertical whitespace before and after body text (added 32px of wasted vspace here)\n- 42 px between attachment caption and attachment preview (still too much!)\n- 23 px before attachments list caption\n- 26 px after attachments list caption\nTotal vertical whitespace:\n=> 171 px (added 32px over TB7)\n\nExpected Result\n\nHave unified, reasonable vertical whitespace distances that do not waste space!\n\n* 24 px of vertical whitespace before and after body text\n- 24 px between attachment caption and attachment preview\n- 24 px before attachments list caption\n- 24 px after attachments list caption\nTotal vertical whitespace:\n=> 120 px (recover 51 px over Trunk, and 19px over TB 7)\n\nAdd to that existing bugs like Bug 549139 where we still force printing of attachment list or Bug 387237 about making printing attachment previews independent of viewing them, and realize we are responsible for a lot of wasted paper (cf. attachment-print-related meta bug 443634).", "creation_time": "2011-11-02T09:17:18Z", "bug_id": 699000, "count": 0, "is_private": false, "tags": [], "id": 5820227, "creator": "bugzilla2007@duellmann24.net", "author": "bugzilla2007@duellmann24.net"}, {"creator": "bugzilla2007@duellmann24.net", "author": "bugzilla2007@duellmann24.net", "text": "Created attachment 571279\nScreenshot 1: Print Preview TB 7 of sample message (139 px vertical whitespace)\n\nHere's an annotated screenshot measuring vertical whitespace in TB 7 (total 139 px, using sample message of attachment 571277).", "attachment_id": 571279, "time": "2011-11-02T09:29:08Z", "raw_text": "Here's an annotated screenshot measuring vertical whitespace in TB 7 (total 139 px, using sample message of attachment 571277).", "creation_time": "2011-11-02T09:29:08Z", "bug_id": 699000, "count": 1, "is_private": false, "tags": [], "id": 5820239}, {"creator": "bugzilla2007@duellmann24.net", "author": "bugzilla2007@duellmann24.net", "creation_time": "2011-11-02T09:35:53Z", "raw_text": "Here's an annotated screenshot measuring vertical whitespace in current Trunk 10.0a1, 2011-11-01 (total 171 px, using sample message of attachment 571277).\nThis bug advocates for unified v-spacing with a total of 120 px, thus recovering 51px wasted vertical space over trunk.", "text": "Created attachment 571281\nScreenshot 2: Print Preview Daily 10, 2011-11-01 of sample message (171 px vertical whitespace)\n\nHere's an annotated screenshot measuring vertical whitespace in current Trunk 10.0a1, 2011-11-01 (total 171 px, using sample message of attachment 571277).\nThis bug advocates for unified v-spacing with a total of 120 px, thus recovering 51px wasted vertical space over trunk.", "attachment_id": 571281, "time": "2011-11-02T09:35:53Z", "count": 2, "is_private": false, "tags": [], "id": 5820253, "bug_id": 699000}, {"author": "ludovic@hirlimann.net", "creator": "ludovic@hirlimann.net", "bug_id": 699000, "id": 5820334, "count": 3, "is_private": false, "tags": [], "time": "2011-11-02T10:57:34Z", "attachment_id": null, "text": "Thomas do you see the same issue between Firefox Trunk and Firefox 7 ?", "raw_text": "Thomas do you see the same issue between Firefox Trunk and Firefox 7 ?", "creation_time": "2011-11-02T10:57:34Z"}, {"id": 5820422, "is_private": false, "count": 4, "tags": [], "bug_id": 699000, "creation_time": "2011-11-02T12:38:05Z", "raw_text": "I don't have FF trunk installed, but if I had, how would I check? I can't just open the test message with FF...", "time": "2011-11-02T12:38:05Z", "attachment_id": null, "text": "I don't have FF trunk installed, but if I had, how would I check? I can't just open the test message with FF...", "author": "bugzilla2007@duellmann24.net", "creator": "bugzilla2007@duellmann24.net"}, {"creator": "ludovic@hirlimann.net", "author": "ludovic@hirlimann.net", "text": "I'm sure you can open text files in Ff.", "attachment_id": null, "time": "2011-11-02T12:44:27Z", "creation_time": "2011-11-02T12:44:27Z", "raw_text": "I'm sure you can open text files in Ff.", "bug_id": 699000, "tags": [], "is_private": false, "count": 5, "id": 5820425}, {"text": "I installed FF Nightly with a clean profile and, fwiw, there is no difference in displaying the attached .txt file or the html part of the .eml message (or, for that sake, even the whole .eml as a pseudo-html file - of course, FF is refusing to open .eml unless you tweak the extension). However, that's all pointless with respect to this bug. The whitespace difference between tb7 and trunk is in the covert (html?) document that TB generates for printing, and I have no idea how to access the source code of that document so that I could view it in a browser.\n\nThe more interesting question might be if Seamonkey is also affected, based on viewing attachment 571277 in different versions of Seamonkey. Can you CC sb. who can test this on Seamonkey, or sb. who knows more about printing component of TB?", "time": "2011-11-02T13:58:07Z", "attachment_id": null, "raw_text": "I installed FF Nightly with a clean profile and, fwiw, there is no difference in displaying the attached .txt file or the html part of the .eml message (or, for that sake, even the whole .eml as a pseudo-html file - of course, FF is refusing to open .eml unless you tweak the extension). However, that's all pointless with respect to this bug. The whitespace difference between tb7 and trunk is in the covert (html?) document that TB generates for printing, and I have no idea how to access the source code of that document so that I could view it in a browser.\n\nThe more interesting question might be if Seamonkey is also affected, based on viewing attachment 571277 in different versions of Seamonkey. Can you CC sb. who can test this on Seamonkey, or sb. who knows more about printing component of TB?", "creation_time": "2011-11-02T13:58:07Z", "bug_id": 699000, "count": 6, "is_private": false, "tags": [], "id": 5820554, "creator": "bugzilla2007@duellmann24.net", "author": "bugzilla2007@duellmann24.net"}, {"count": 7, "is_private": false, "tags": [], "id": 5836986, "bug_id": 699000, "creation_time": "2011-11-09T15:14:45Z", "raw_text": "And when you print you get the same inflation or not ?", "text": "And when you print you get the same inflation or not ?", "creator": "ludovic@hirlimann.net", "time": "2011-11-09T15:14:45Z", "attachment_id": null, "author": "ludovic@hirlimann.net"}, {"creator": "bugzilla2007@duellmann24.net", "author": "bugzilla2007@duellmann24.net", "bug_id": 699000, "tags": [], "is_private": false, "count": 8, "id": 5839445, "text": "(In reply to Ludovic Hirlimann [:Usul] from comment #7)\n> And when you print you get the same inflation or not ?\n\nYes, sure. It may be a bit hard to believe, but the print preview document is indeed exactly the same document that we actually print :) No bugs in that corner, luckily - phew.\n\nWhen playing with this, I discovered something else:\n\n- I downloaded sample .eml from attachemnt 571277 and viewed it with TB8.de\n-> it shows the whitespace inflation when printing (same as print-preview), and even a bit more whitespace in the message preview (3pane).\n\n- BUT, from the same TB8.de, looking at the supposed original of that message which was still there in drafts folder (can't swear it's the actual original, but the message content is supposed to be exactly the same):\n-> it does NOT show the whitespace inflation when printing (same as print-preview), and shows less whitespace in the message preview.\n\nFirst look at the sources of those two, both under TB8.de, there are at least three differences:\n- downloaded msg with whitespace problem has a different content type:\n\n> Content-Type: text/html; charset=ISO-8859-1\n> Content-Transfer-Encoding: 7bit\n>\n> <html>\n>  <head>\n>    <meta http-equiv=\"content-type\" content=\"text/html;\n>      charset=ISO-8859-1\">\n\n- downloaded msg with whitespace problem has a blank line at the end:\n> IGxpZ3VsYSB2aXRhZSBzZW0gcnV0cnVtIGFkaXBpc2NpbmcuIA==\n> --------------050001030408060100070103--\n> [blank line here]\n\n- downloaded msg with whitespace problem has some double headers:\n> X-Mozilla-Status: 0001\n> X-Mozilla-Status2: 00000000\n> X-Mozilla-Status: 0001\n> X-Mozilla-Status2: 10000000\n\n- original, identical msg WITHOUT whitespace problem has charset=ISO-8859-15, and no extra blank line at the end, no double headers.\n\nI don't understand enough of those things to judge how significant they are.", "attachment_id": null, "time": "2011-11-10T08:13:36Z", "raw_text": "(In reply to Ludovic Hirlimann [:Usul] from comment #7)\n> And when you print you get the same inflation or not ?\n\nYes, sure. It may be a bit hard to believe, but the print preview document is indeed exactly the same document that we actually print :) No bugs in that corner, luckily - phew.\n\nWhen playing with this, I discovered something else:\n\n- I downloaded sample .eml from attachemnt 571277 and viewed it with TB8.de\n-> it shows the whitespace inflation when printing (same as print-preview), and even a bit more whitespace in the message preview (3pane).\n\n- BUT, from the same TB8.de, looking at the supposed original of that message which was still there in drafts folder (can't swear it's the actual original, but the message content is supposed to be exactly the same):\n-> it does NOT show the whitespace inflation when printing (same as print-preview), and shows less whitespace in the message preview.\n\nFirst look at the sources of those two, both under TB8.de, there are at least three differences:\n- downloaded msg with whitespace problem has a different content type:\n\n> Content-Type: text/html; charset=ISO-8859-1\n> Content-Transfer-Encoding: 7bit\n>\n> <html>\n>  <head>\n>    <meta http-equiv=\"content-type\" content=\"text/html;\n>      charset=ISO-8859-1\">\n\n- downloaded msg with whitespace problem has a blank line at the end:\n> IGxpZ3VsYSB2aXRhZSBzZW0gcnV0cnVtIGFkaXBpc2NpbmcuIA==\n> --------------050001030408060100070103--\n> [blank line here]\n\n- downloaded msg with whitespace problem has some double headers:\n> X-Mozilla-Status: 0001\n> X-Mozilla-Status2: 00000000\n> X-Mozilla-Status: 0001\n> X-Mozilla-Status2: 10000000\n\n- original, identical msg WITHOUT whitespace problem has charset=ISO-8859-15, and no extra blank line at the end, no double headers.\n\nI don't understand enough of those things to judge how significant they are.", "creation_time": "2011-11-10T08:13:36Z"}, {"id": 5900315, "tags": [], "is_private": false, "count": 9, "bug_id": 699000, "raw_text": "Me neither.", "creation_time": "2011-12-08T13:24:44Z", "author": "ludovic@hirlimann.net", "time": "2011-12-08T13:24:44Z", "attachment_id": null, "text": "Me neither.", "creator": "ludovic@hirlimann.net"}]}}, "comments": {}}