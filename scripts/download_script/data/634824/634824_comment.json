{"bugs": {"634824": {"comments": [{"time": "2011-02-17T05:47:12Z", "author": "bugzilla@bombcar.com", "count": 0, "is_private": false, "id": 5285519, "raw_text": "User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.102 Safari/534.13\nBuild Identifier: \n\nWhen I run checksetup.pl, I get:\n\nWARNING: We could not check the configuration of Apache. This sometimes\nhappens when you are not running checksetup.pl as root. To see the\nproblem we ran into, run: /usr/sbin/apache2 -t -D DUMP_MODULES\n\nI investigated, and determined that because Gentoo had \n\nAPACHE2_OPTS=\"-D DEFAULT_VHOST -D DAV -D DAV_FS -D PHP5 -D INFO -D LANGUAGE -D SSL -D SSL_DEFAULT_VHOST -D SUEXEC -D PERL -D PROXY\"\n\nin /etc/conf.d/apache2, I needed to have all those defines on the command line to get it to report the modules loaded, instead of failing on things like SSL, etc.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Run ./checkconfig.pl on a Gentoo system\n2. Try manually running the command: /usr/sbin/apache2 -t -D DUMP_MODULES\n3. Realize that with all the other -D it will work\nActual Results:  \ncheckconfig.pl can't tell me if the modules are loaded or not; I had to manually check.\n\nExpected Results:  \ncheckconfig could perhaps have an easy to edit line where I could add the defines, read that file, or otherwise find the modules loaded.\n\nThis is a minor issue, but perhaps it will help someone else who runs into it. I couldn't figure out why apache2 was working fine, but  /usr/sbin/apache2 -t -D DUMP_MODULES wouldn't run until I realized it was ignoring /etc/conf.d/apache2 so it wasn't getting any defines.", "creator": "bugzilla@bombcar.com", "tags": [], "creation_time": "2011-02-17T05:47:12Z", "attachment_id": null, "text": "User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.102 Safari/534.13\nBuild Identifier: \n\nWhen I run checksetup.pl, I get:\n\nWARNING: We could not check the configuration of Apache. This sometimes\nhappens when you are not running checksetup.pl as root. To see the\nproblem we ran into, run: /usr/sbin/apache2 -t -D DUMP_MODULES\n\nI investigated, and determined that because Gentoo had \n\nAPACHE2_OPTS=\"-D DEFAULT_VHOST -D DAV -D DAV_FS -D PHP5 -D INFO -D LANGUAGE -D SSL -D SSL_DEFAULT_VHOST -D SUEXEC -D PERL -D PROXY\"\n\nin /etc/conf.d/apache2, I needed to have all those defines on the command line to get it to report the modules loaded, instead of failing on things like SSL, etc.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Run ./checkconfig.pl on a Gentoo system\n2. Try manually running the command: /usr/sbin/apache2 -t -D DUMP_MODULES\n3. Realize that with all the other -D it will work\nActual Results:  \ncheckconfig.pl can't tell me if the modules are loaded or not; I had to manually check.\n\nExpected Results:  \ncheckconfig could perhaps have an easy to edit line where I could add the defines, read that file, or otherwise find the modules loaded.\n\nThis is a minor issue, but perhaps it will help someone else who runs into it. I couldn't figure out why apache2 was working fine, but  /usr/sbin/apache2 -t -D DUMP_MODULES wouldn't run until I realized it was ignoring /etc/conf.d/apache2 so it wasn't getting any defines.", "bug_id": 634824}, {"bug_id": 634824, "attachment_id": null, "tags": [], "creation_time": "2011-02-17T21:49:44Z", "id": 5287667, "is_private": false, "author": "mkanat@bugzilla.org", "text": "  Wow, that is a really odd way for a distro to configure Apache.\n\n  How would you normally check the configuration of Apache from the command line, on your distro?", "creator": "mkanat@bugzilla.org", "raw_text": "  Wow, that is a really odd way for a distro to configure Apache.\n\n  How would you normally check the configuration of Apache from the command line, on your distro?", "count": 1, "time": "2011-02-17T21:49:44Z"}, {"raw_text": "I'm not sure. The check I run is:\n\napache2ctl configdump\n\nwhich gives me:\n\n\n# apache2ctl configdump\n/usr/sbin/apache2 started with '-D DEFAULT_VHOST -D DAV -D DAV_FS -D PHP5 -D INFO -D LANGUAGE -D SSL -D SSL_DEFAULT_VHOST -D SUEXEC -D PERL -D PROXY -d /usr/lib/apache2 -f /etc/apache2/httpd.conf'\n\nthen a bunch of config stuff, and then:\n\n\nServer Settings\n\n   Server Version: Apache/2.2.16 (Unix) DAV/2 mod_ssl/2.2.16\n          OpenSSL/0.9.8o mod_perl/2.0.4 Perl/v5.12.2\n\n   Server Built: Oct 1 2010 16:53:54\n   Server loaded APR Version: 1.4.2\n   Compiled with APR Version: 1.4.2\n   Server loaded APU Version: 1.3.10\n   Compiled with APU Version: 1.3.9\n   Module Magic Number: 20051115:24\n   Hostname/port: localhost:80\n   Timeouts: connection: 300    keep-alive: 15\n   MPM Name: Prefork\n   MPM Information: Max Daemons: 150 Threaded: no Forked: yes\n   Server Architecture: 32-bit\n   Server Root: /usr/lib/apache2\n   Config File: /etc/apache2/httpd.conf\n   Server Built With: -D APACHE_MPM_DIR=\"server/mpm/prefork\" -D\n          APR_HAS_SENDFILE -D APR_HAS_MMAP -D APR_HAVE_IPV6 (IPv4-mapped\n          addresses enabled) -D APR_USE_SYSVSEM_SERIALIZE -D\n          SINGLE_LISTEN_UNSERIALIZED_ACCEPT -D APR_HAS_OTHER_CHILD -D\n          AP_HAVE_RELIABLE_PIPED_LOGS -D HTTPD_ROOT=\"/usr\" -D\n          SUEXEC_BIN=\"/usr/sbin/suexec\" -D\n          DEFAULT_ERRORLOG=\"logs/error_log\" -D\n          AP_TYPES_CONFIG_FILE=\"/etc/apache2/mime.types\" -D\n          SERVER_CONFIG_FILE=\"/etc/apache2/httpd.conf\"\n\n   Server Module List\n          mod_perl.c\n          mod_php5.c\n          mod_vhost_alias.c\n          mod_usertrack.c\n          mod_unique_id.c\n          mod_ssl.c\n          mod_speling.c\n          mod_setenvif.c\n          mod_rewrite.c\n          mod_proxy_http.c\n          mod_proxy_connect.c\n          mod_proxy_balancer.c\n          mod_proxy_ajp.c\n          mod_proxy.c\n          mod_negotiation.c\n          mod_mime_magic.c\n          mod_mime.c\n          mod_logio.c\n          mod_log_config.c\n          mod_info.c\n          mod_include.c\n          mod_imagemap.c\n          mod_ident.c\n          mod_headers.c\n          mod_filter.c\n          mod_ext_filter.c\n          mod_expires.c\n          mod_env.c\n          mod_dir.c\n          mod_deflate.c\n          mod_dbd.c\n          mod_dav_lock.c\n          mod_dav_fs.c\n          mod_dav.c\n          mod_cgi.c\n          mod_autoindex.c\n          mod_authz_user.c\n          mod_authz_owner.c\n          mod_authz_host.c\n          mod_authz_groupfile.c\n          mod_authz_default.c\n          mod_authz_dbm.c\n          mod_authn_file.c\n          mod_authn_default.c\n          mod_authn_dbm.c\n          mod_authn_dbd.c\n          mod_authn_anon.c\n          mod_auth_basic.c\n          mod_alias.c\n          mod_actions.c\n          mod_so.c\n          http_core.c\n          prefork.c\n          core.c\n\nIt seems this is a Gentoo specific thing.", "creator": "bugzilla@bombcar.com", "text": "I'm not sure. The check I run is:\n\napache2ctl configdump\n\nwhich gives me:\n\n\n# apache2ctl configdump\n/usr/sbin/apache2 started with '-D DEFAULT_VHOST -D DAV -D DAV_FS -D PHP5 -D INFO -D LANGUAGE -D SSL -D SSL_DEFAULT_VHOST -D SUEXEC -D PERL -D PROXY -d /usr/lib/apache2 -f /etc/apache2/httpd.conf'\n\nthen a bunch of config stuff, and then:\n\n\nServer Settings\n\n   Server Version: Apache/2.2.16 (Unix) DAV/2 mod_ssl/2.2.16\n          OpenSSL/0.9.8o mod_perl/2.0.4 Perl/v5.12.2\n\n   Server Built: Oct 1 2010 16:53:54\n   Server loaded APR Version: 1.4.2\n   Compiled with APR Version: 1.4.2\n   Server loaded APU Version: 1.3.10\n   Compiled with APU Version: 1.3.9\n   Module Magic Number: 20051115:24\n   Hostname/port: localhost:80\n   Timeouts: connection: 300    keep-alive: 15\n   MPM Name: Prefork\n   MPM Information: Max Daemons: 150 Threaded: no Forked: yes\n   Server Architecture: 32-bit\n   Server Root: /usr/lib/apache2\n   Config File: /etc/apache2/httpd.conf\n   Server Built With: -D APACHE_MPM_DIR=\"server/mpm/prefork\" -D\n          APR_HAS_SENDFILE -D APR_HAS_MMAP -D APR_HAVE_IPV6 (IPv4-mapped\n          addresses enabled) -D APR_USE_SYSVSEM_SERIALIZE -D\n          SINGLE_LISTEN_UNSERIALIZED_ACCEPT -D APR_HAS_OTHER_CHILD -D\n          AP_HAVE_RELIABLE_PIPED_LOGS -D HTTPD_ROOT=\"/usr\" -D\n          SUEXEC_BIN=\"/usr/sbin/suexec\" -D\n          DEFAULT_ERRORLOG=\"logs/error_log\" -D\n          AP_TYPES_CONFIG_FILE=\"/etc/apache2/mime.types\" -D\n          SERVER_CONFIG_FILE=\"/etc/apache2/httpd.conf\"\n\n   Server Module List\n          mod_perl.c\n          mod_php5.c\n          mod_vhost_alias.c\n          mod_usertrack.c\n          mod_unique_id.c\n          mod_ssl.c\n          mod_speling.c\n          mod_setenvif.c\n          mod_rewrite.c\n          mod_proxy_http.c\n          mod_proxy_connect.c\n          mod_proxy_balancer.c\n          mod_proxy_ajp.c\n          mod_proxy.c\n          mod_negotiation.c\n          mod_mime_magic.c\n          mod_mime.c\n          mod_logio.c\n          mod_log_config.c\n          mod_info.c\n          mod_include.c\n          mod_imagemap.c\n          mod_ident.c\n          mod_headers.c\n          mod_filter.c\n          mod_ext_filter.c\n          mod_expires.c\n          mod_env.c\n          mod_dir.c\n          mod_deflate.c\n          mod_dbd.c\n          mod_dav_lock.c\n          mod_dav_fs.c\n          mod_dav.c\n          mod_cgi.c\n          mod_autoindex.c\n          mod_authz_user.c\n          mod_authz_owner.c\n          mod_authz_host.c\n          mod_authz_groupfile.c\n          mod_authz_default.c\n          mod_authz_dbm.c\n          mod_authn_file.c\n          mod_authn_default.c\n          mod_authn_dbm.c\n          mod_authn_dbd.c\n          mod_authn_anon.c\n          mod_auth_basic.c\n          mod_alias.c\n          mod_actions.c\n          mod_so.c\n          http_core.c\n          prefork.c\n          core.c\n\nIt seems this is a Gentoo specific thing.", "time": "2011-02-17T22:02:17Z", "count": 2, "tags": [], "creation_time": "2011-02-17T22:02:17Z", "attachment_id": null, "bug_id": 634824, "author": "bugzilla@bombcar.com", "is_private": false, "id": 5287729}]}}, "comments": {}}