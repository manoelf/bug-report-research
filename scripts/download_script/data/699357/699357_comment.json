{"comments": {}, "bugs": {"699357": {"comments": [{"raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\nBuild ID: 20110928134238\n\nSteps to reproduce:\n\n- Create a mailing list\n- Add mail addresses\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n  user3@abc.com <- duplicate!\n- Delete 'user3' in the split window perspective\n  (notice there's still one 'user3' left)\n-Try to delete remaining 'user3'\n\n\nActual results:\n\nFehler: An error occurred executing the button_delete command: [Exception... \"Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIAbView.deleteSelectedCards]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: chrome://messenger/content/addressbook/abCommon.js :: AbDelete :: line 280\"  data: no]\nQuelldatei: chrome://global/content/globalOverlay.js\nLine: 100\n\n\nExpected results:\n\nContact list in the split window perspective should reflect real mailing list contacts.\nPerhaps duplicate entries in the mailing list should be filtered such that they don't show up in the compose window or split window perspective.", "attachment_id": null, "id": 5823152, "creator": "histedv@rub.de", "is_private": false, "time": "2011-11-03T10:37:57Z", "tags": [], "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\nBuild ID: 20110928134238\n\nSteps to reproduce:\n\n- Create a mailing list\n- Add mail addresses\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n  user3@abc.com <- duplicate!\n- Delete 'user3' in the split window perspective\n  (notice there's still one 'user3' left)\n-Try to delete remaining 'user3'\n\n\nActual results:\n\nFehler: An error occurred executing the button_delete command: [Exception... \"Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIAbView.deleteSelectedCards]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: chrome://messenger/content/addressbook/abCommon.js :: AbDelete :: line 280\"  data: no]\nQuelldatei: chrome://global/content/globalOverlay.js\nLine: 100\n\n\nExpected results:\n\nContact list in the split window perspective should reflect real mailing list contacts.\nPerhaps duplicate entries in the mailing list should be filtered such that they don't show up in the compose window or split window perspective.", "author": "histedv@rub.de", "creation_time": "2011-11-03T10:37:57Z", "count": 0, "bug_id": 699357}, {"raw_text": "(In reply to RUBadm from comment #0)\nI tried the same steps but it works for me; I can delete the duplicate address.\nUser Agent: Mozilla/5.0 (X11; Linux i686; rv:7.0.1) Gecko/20110929 Thunderbird/7.0.1\nBuild ID: 20110929042316", "attachment_id": null, "id": 5828206, "count": 1, "is_private": false, "creator": "wraithlike@gmail.com", "text": "(In reply to RUBadm from comment #0)\nI tried the same steps but it works for me; I can delete the duplicate address.\nUser Agent: Mozilla/5.0 (X11; Linux i686; rv:7.0.1) Gecko/20110929 Thunderbird/7.0.1\nBuild ID: 20110929042316", "time": "2011-11-05T07:42:06Z", "tags": [], "bug_id": 699357, "creation_time": "2011-11-05T07:42:06Z", "author": "wraithlike@gmail.com"}, {"id": 5836697, "raw_text": "Even with Version 8.0 the problem still persists. It has just changed somehow..\n\nTo reproduce the error create a new list. Enter these addresses:\n\nuser1@abc.com\nuser2@abc.com\nuser3@abc.com\nuser3@abc.com\n\nclose the edit dialog. Delete both user3 from the list view. Open the edit dialog again. Append the address\n\nuser3@abc.com\n\nclose the edit dialog and try to delete user3. It doesn't work. You can add as many \"user3@abc.com\" as you want - you can't delete any of them. If you restart thunderbird, everything is fine again and you can delete as you want. But IMHO restarting is not what you want the user to do for a simple list update.\nI once read that the primary key in the list database is just the email address. That's almost ok, as long as you do not allow duplicate entries in the list. Anyway, it's not the most sopisticated way of constructing that database and I think this needs to be changed. Why not insert a single PK value \"id\" or so? I don't understand why someone would use a construction that's so prone to fail and so easy to circumvent.", "attachment_id": null, "text": "Even with Version 8.0 the problem still persists. It has just changed somehow..\n\nTo reproduce the error create a new list. Enter these addresses:\n\nuser1@abc.com\nuser2@abc.com\nuser3@abc.com\nuser3@abc.com\n\nclose the edit dialog. Delete both user3 from the list view. Open the edit dialog again. Append the address\n\nuser3@abc.com\n\nclose the edit dialog and try to delete user3. It doesn't work. You can add as many \"user3@abc.com\" as you want - you can't delete any of them. If you restart thunderbird, everything is fine again and you can delete as you want. But IMHO restarting is not what you want the user to do for a simple list update.\nI once read that the primary key in the list database is just the email address. That's almost ok, as long as you do not allow duplicate entries in the list. Anyway, it's not the most sopisticated way of constructing that database and I think this needs to be changed. Why not insert a single PK value \"id\" or so? I don't understand why someone would use a construction that's so prone to fail and so easy to circumvent.", "tags": [], "bug_id": 699357, "time": "2011-11-09T12:33:12Z", "creation_time": "2011-11-09T12:33:12Z", "author": "histedv@rub.de", "count": 2, "is_private": false, "creator": "histedv@rub.de"}, {"count": 3, "is_private": false, "creator": "ludovic@hirlimann.net", "text": "RUBadm : does it also happens if you start Thunderbird without extensions (see http://support.mozillamessaging.com/en-US/kb/Safe-Mode) ?", "bug_id": 699357, "tags": [], "time": "2011-11-09T13:15:41Z", "creation_time": "2011-11-09T13:15:41Z", "author": "ludovic@hirlimann.net", "raw_text": "RUBadm : does it also happens if you start Thunderbird without extensions (see http://support.mozillamessaging.com/en-US/kb/Safe-Mode) ?", "attachment_id": null, "id": 5836770}, {"raw_text": "Yes. It also happens when I start Thunderbird with\n\nthunderbird.exe -safe-mode\n\nBtw. can anyone else reproduce this error?", "attachment_id": null, "id": 5839685, "creator": "histedv@rub.de", "is_private": false, "time": "2011-11-10T11:23:32Z", "tags": [], "text": "Yes. It also happens when I start Thunderbird with\n\nthunderbird.exe -safe-mode\n\nBtw. can anyone else reproduce this error?", "author": "histedv@rub.de", "creation_time": "2011-11-10T11:23:32Z", "count": 4, "bug_id": 699357}, {"is_private": false, "creator": "acelists@atlas.sk", "count": 5, "creation_time": "2012-03-05T18:11:35Z", "author": "acelists@atlas.sk", "text": "I can't reproduce this either, but there was a similar remark in bug 732722 (with TB10) so maybe we can refine the problem with that user.", "tags": [], "bug_id": 699357, "time": "2012-03-05T18:11:35Z", "attachment_id": null, "raw_text": "I can't reproduce this either, but there was a similar remark in bug 732722 (with TB10) so maybe we can refine the problem with that user.", "id": 6114762}, {"author": "dbucher@hsolutions.ch", "creation_time": "2012-03-05T23:00:52Z", "tags": [], "time": "2012-03-05T23:00:52Z", "text": "Yes I can confirm a similar problem :\n\nSteps to reproduce (it only happens from time to time) :\n\n- Create a mailing list\n- Add mail addresses\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- Click OK\n- All contacts are listed twice !!!\n  user1@abc.com\n  user1@abc.com\n  user2@abc.com\n  user2@abc.com\n  user3@abc.com\n  user3@abc.com\n- Click on another mailing list\n- Click on the same mailing list and everything looks OK again\n\nIf I do it again\n\n- Create a mailing list\n- Add mail addresses\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- Click OK\n- This time contacts are listed correctly !!!\n\nLet's try something else :\n\n\n- Create a mailing list\n- Add mail addresses\n  user1@abc.com\n  user1@abc.com\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- Click OK\n- This time contacts are listed correctly :\n  user1@abc.com\n  user1@abc.com\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- BUT if I delete the 3 user1@abc.com  in the list, I see (no change) :\n  user1@abc.com\n  user1@abc.com\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- Click on another mailing list\n- Click on the same mailing list and everything looks right this time :\n  user2@abc.com\n  user3@abc.com\n\nTo summarize in 4 words : Addressbook is totally bugged !", "creator": "dbucher@hsolutions.ch", "is_private": false, "id": 6115843, "attachment_id": null, "raw_text": "Yes I can confirm a similar problem :\n\nSteps to reproduce (it only happens from time to time) :\n\n- Create a mailing list\n- Add mail addresses\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- Click OK\n- All contacts are listed twice !!!\n  user1@abc.com\n  user1@abc.com\n  user2@abc.com\n  user2@abc.com\n  user3@abc.com\n  user3@abc.com\n- Click on another mailing list\n- Click on the same mailing list and everything looks OK again\n\nIf I do it again\n\n- Create a mailing list\n- Add mail addresses\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- Click OK\n- This time contacts are listed correctly !!!\n\nLet's try something else :\n\n\n- Create a mailing list\n- Add mail addresses\n  user1@abc.com\n  user1@abc.com\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- Click OK\n- This time contacts are listed correctly :\n  user1@abc.com\n  user1@abc.com\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- BUT if I delete the 3 user1@abc.com  in the list, I see (no change) :\n  user1@abc.com\n  user1@abc.com\n  user1@abc.com\n  user2@abc.com\n  user3@abc.com\n- Click on another mailing list\n- Click on the same mailing list and everything looks right this time :\n  user2@abc.com\n  user3@abc.com\n\nTo summarize in 4 words : Addressbook is totally bugged !", "bug_id": 699357, "count": 6}, {"is_private": false, "creator": "histedv@rub.de", "count": 7, "creation_time": "2012-03-06T11:20:48Z", "author": "histedv@rub.de", "text": "Also with thunderbird 10.0.2 you can raise the error. Here's the -HowTo- ;-)\n\n- open the \"Address Book\" window\n- right-click \"Personal Address Book\"\n- click \"New List\"\n- enter any listname\n- add these two (equal) email addresses:\n   user1@abc.com\n   user1@abc.com\n- click \"OK\"\n- right-click \"user1\" -> \"Delete\" -> \"OK\"\n- right-click \"user1\" -> \"Delete\" -> \"OK\"\n- double-click the list you just created\n- add the email address again\n   user1@abc.com\n- click \"OK\"\n- right-click \"user1\" -> \"Delete\" -> \"OK\"\n\n --> Error\n\n- close the \"Address Book\" window\n- open the \"Address Book\" window\n- click on the list you just created\n- right-click \"user1\" -> \"Delete\" -> \"OK\"\n\n --> works\n\nI guess the database gets sanitized when the address book window is closed. So at least there's no need to restart thunderbird anymore. \n\nBut the issue is still there and reproducible on Windows. I guess this is the same on Linux but I can't confirm from here. Will test this at home later and post the results.", "time": "2012-03-06T11:20:48Z", "tags": [], "bug_id": 699357, "attachment_id": null, "raw_text": "Also with thunderbird 10.0.2 you can raise the error. Here's the -HowTo- ;-)\n\n- open the \"Address Book\" window\n- right-click \"Personal Address Book\"\n- click \"New List\"\n- enter any listname\n- add these two (equal) email addresses:\n   user1@abc.com\n   user1@abc.com\n- click \"OK\"\n- right-click \"user1\" -> \"Delete\" -> \"OK\"\n- right-click \"user1\" -> \"Delete\" -> \"OK\"\n- double-click the list you just created\n- add the email address again\n   user1@abc.com\n- click \"OK\"\n- right-click \"user1\" -> \"Delete\" -> \"OK\"\n\n --> Error\n\n- close the \"Address Book\" window\n- open the \"Address Book\" window\n- click on the list you just created\n- right-click \"user1\" -> \"Delete\" -> \"OK\"\n\n --> works\n\nI guess the database gets sanitized when the address book window is closed. So at least there's no need to restart thunderbird anymore. \n\nBut the issue is still there and reproducible on Windows. I guess this is the same on Linux but I can't confirm from here. Will test this at home later and post the results.", "id": 6117156}, {"count": 8, "bug_id": 699357, "is_private": false, "creator": "acelists@atlas.sk", "text": "Mconley, could bug 514666 help here too? After all it does some updating of mailinglists. Maybe you could make a try build?\n\nIs any of you able to apply a patch to Thunderbird source and build it?", "time": "2012-03-06T12:46:06Z", "tags": [], "creation_time": "2012-03-06T12:46:06Z", "author": "acelists@atlas.sk", "raw_text": "Mconley, could bug 514666 help here too? After all it does some updating of mailinglists. Maybe you could make a try build?\n\nIs any of you able to apply a patch to Thunderbird source and build it?", "attachment_id": null, "id": 6117270}, {"count": 9, "bug_id": 699357, "is_private": false, "creator": "acelists@atlas.sk", "text": "Actually I should test it myself :)\nBut I couldn't reproduce the bug so far, will try with the new steps posted today.", "tags": [], "time": "2012-03-06T18:24:00Z", "creation_time": "2012-03-06T18:24:00Z", "author": "acelists@atlas.sk", "raw_text": "Actually I should test it myself :)\nBut I couldn't reproduce the bug so far, will try with the new steps posted today.", "attachment_id": null, "id": 6118206}, {"id": 6118626, "attachment_id": null, "raw_text": "I can now reproduce with steps from comment 7, even on TB 13.", "creation_time": "2012-03-06T19:45:52Z", "author": "acelists@atlas.sk", "text": "I can now reproduce with steps from comment 7, even on TB 13.", "time": "2012-03-06T19:45:52Z", "tags": [], "is_private": false, "creator": "acelists@atlas.sk", "bug_id": 699357, "count": 10}, {"attachment_id": null, "raw_text": "(In reply to Denis BUCHER from comment #6)\nBut do you get the error \nAn error occurred executing the button_delete command: [Exception... \"Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIAbView.deleteSelectedCards]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: chrome://messenger/content/addressbook/abCommon.js :: AbDelete :: line 280\"  data: no]\nQuelldatei: chrome://global/content/globalOverlay.js\n\nin the Error console? It now looks your problem is a bit different: RUBadm creates 2 same cards intentionally, you do not.", "id": 6118669, "is_private": false, "creator": "acelists@atlas.sk", "count": 11, "creation_time": "2012-03-06T19:55:43Z", "author": "acelists@atlas.sk", "text": "(In reply to Denis BUCHER from comment #6)\nBut do you get the error \nAn error occurred executing the button_delete command: [Exception... \"Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIAbView.deleteSelectedCards]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: chrome://messenger/content/addressbook/abCommon.js :: AbDelete :: line 280\"  data: no]\nQuelldatei: chrome://global/content/globalOverlay.js\n\nin the Error console? It now looks your problem is a bit different: RUBadm creates 2 same cards intentionally, you do not.", "tags": [], "bug_id": 699357, "time": "2012-03-06T19:55:43Z"}, {"is_private": false, "creator": "acelists@atlas.sk", "count": 12, "creation_time": "2012-03-06T20:03:45Z", "author": "acelists@atlas.sk", "text": "Unfortunately it looks like bug 514666 does not help here.\nMconley can you look at this?", "tags": [], "time": "2012-03-06T20:03:45Z", "bug_id": 699357, "attachment_id": null, "raw_text": "Unfortunately it looks like bug 514666 does not help here.\nMconley can you look at this?", "id": 6118693}, {"raw_text": "aceman:\n\nI'm fully swamped working on the BigFiles project right now. I might have a chance to poke at this in a few weeks though.\n\nSorry!\n\n-Mike", "attachment_id": null, "id": 6118704, "count": 13, "creator": "mconley@mozilla.com", "is_private": false, "tags": [], "bug_id": 699357, "time": "2012-03-06T20:05:44Z", "text": "aceman:\n\nI'm fully swamped working on the BigFiles project right now. I might have a chance to poke at this in a few weeks though.\n\nSorry!\n\n-Mike", "author": "mconley@mozilla.com", "creation_time": "2012-03-06T20:05:44Z"}, {"creation_time": "2012-05-27T14:45:49Z", "author": "bugzilla2007@duellmann24.net", "text": "I think most of this is duplicate of Bug 628035.", "tags": [], "time": "2012-05-27T14:45:49Z", "bug_id": 699357, "is_private": false, "creator": "bugzilla2007@duellmann24.net", "count": 14, "id": 6341474, "attachment_id": null, "raw_text": "I think most of this is duplicate of Bug 628035."}, {"author": "vseerror@lehigh.edu", "creation_time": "2014-02-09T23:43:20Z", "tags": [], "time": "2014-02-09T23:43:20Z", "bug_id": 699357, "text": "*** Bug 757931 has been marked as a duplicate of this bug. ***", "creator": "vseerror@lehigh.edu", "is_private": false, "count": 15, "id": 8395281, "attachment_id": null, "raw_text": ""}, {"bug_id": 699357, "count": 16, "creation_time": "2014-10-09T08:36:33Z", "author": "iron.bone@wp.pl", "text": "The same problem in openSuse Thunderbird 31.1.2", "tags": [], "time": "2014-10-09T08:36:33Z", "is_private": false, "creator": "iron.bone@wp.pl", "id": 9424245, "attachment_id": null, "raw_text": "The same problem in openSuse Thunderbird 31.1.2"}, {"id": 11463526, "attachment_id": null, "raw_text": "", "creation_time": "2016-06-04T10:23:58Z", "author": "vseerror@lehigh.edu", "text": "*** Bug 792538 has been marked as a duplicate of this bug. ***", "time": "2016-06-04T10:23:58Z", "tags": [], "is_private": false, "creator": "vseerror@lehigh.edu", "bug_id": 699357, "count": 17}, {"id": 13710883, "raw_text": "This still exists.\nI noticed that after you delete the duplicate and only a single of the addresses is displayed in the AB window, and you Edit the mailing list, the duplicate address is gone in both duplicates, so actually both of the dupes were deleted not only a single one. The display in the Mailinglist dialog does not match what is shown in the AB window. That may also be the reason for the error, that the entry is only visible in the ML from some code paths. If you click OK in the ML dialog now, the AB window gets updated and the \"phantom\" message gets finally cleared out of the AB window.", "attachment_id": null, "text": "This still exists.\nI noticed that after you delete the duplicate and only a single of the addresses is displayed in the AB window, and you Edit the mailing list, the duplicate address is gone in both duplicates, so actually both of the dupes were deleted not only a single one. The display in the Mailinglist dialog does not match what is shown in the AB window. That may also be the reason for the error, that the entry is only visible in the ML from some code paths. If you click OK in the ML dialog now, the AB window gets updated and the \"phantom\" message gets finally cleared out of the AB window.", "time": "2018-10-24T21:16:09Z", "tags": [], "creation_time": "2018-10-24T21:16:09Z", "author": "acelists@atlas.sk", "is_private": false, "creator": "acelists@atlas.sk", "bug_id": 699357, "count": 18}]}}}