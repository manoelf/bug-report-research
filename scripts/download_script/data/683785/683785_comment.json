{"bugs": {"683785": {"comments": [{"tags": [], "bug_id": 683785, "text": "Created attachment 557374\nCreate timers directly.\n\nThis renames nsTimerImpl to mozilla::Timer and changes do_CreateInstance(\"@mozilla.org/timer;1\", &err);\ninto 'new mozilla::Timer'\n\n\nThis has a bunch of advantages:\n* it's nicer to look at\n* it removes the need to handle do_CreateInstance() failure. (which about 1/3 of callers weren't handling)\n* will let compilers easily devirtualize the call to InitWithFuncCallback etc.", "attachment_id": 557374, "raw_text": "This renames nsTimerImpl to mozilla::Timer and changes do_CreateInstance(\"@mozilla.org/timer;1\", &err);\ninto 'new mozilla::Timer'\n\n\nThis has a bunch of advantages:\n* it's nicer to look at\n* it removes the need to handle do_CreateInstance() failure. (which about 1/3 of callers weren't handling)\n* will let compilers easily devirtualize the call to InitWithFuncCallback etc.", "creator": "jmuizelaar@mozilla.com", "time": "2011-09-01T00:03:31Z", "creation_time": "2011-09-01T00:03:31Z", "author": "jmuizelaar@mozilla.com", "is_private": false, "count": 0, "id": 5692491}, {"count": 1, "id": 5705858, "is_private": false, "time": "2011-09-07T20:34:20Z", "creation_time": "2011-09-07T20:34:20Z", "creator": "benjamin@smedbergs.us", "author": "benjamin@smedbergs.us", "attachment_id": 557374, "raw_text": "I'd be surprised if even modern compilers were smart enough to devirtualize InitWithFuncCallback without C++0x \"final\" markings. I think I'm ok with the general change here, although I'm still wondering about my XXX comment in nsTimerImpl::nsTimerImpl and whether the constructor should actually be fallible.\n\nAlso this patch is missing the changes to nsTimerImpl.h/cpp, which seem like the important part ;-)", "bug_id": 683785, "text": "Comment on attachment 557374\nCreate timers directly.\n\nI'd be surprised if even modern compilers were smart enough to devirtualize InitWithFuncCallback without C++0x \"final\" markings. I think I'm ok with the general change here, although I'm still wondering about my XXX comment in nsTimerImpl::nsTimerImpl and whether the constructor should actually be fallible.\n\nAlso this patch is missing the changes to nsTimerImpl.h/cpp, which seem like the important part ;-)", "tags": []}, {"is_private": false, "id": 5705860, "count": 2, "creator": "jmuizelaar@mozilla.com", "time": "2011-09-07T20:35:28Z", "creation_time": "2011-09-07T20:35:28Z", "author": "jmuizelaar@mozilla.com", "attachment_id": 558933, "raw_text": "- Fix conversion of CallCreateInstance\n- Add missing files\n- Take out some imglib stuff that snuck in", "tags": [], "text": "Created attachment 558933\nCreate timers directly. v2\n\n- Fix conversion of CallCreateInstance\n- Add missing files\n- Take out some imglib stuff that snuck in", "bug_id": 683785}, {"attachment_id": null, "raw_text": "Many of the uses of Timers don't need to share them, so I think I'm going to rework this so that you can just use a Timer as a value.", "tags": [], "text": "Many of the uses of Timers don't need to share them, so I think I'm going to rework this so that you can just use a Timer as a value.", "bug_id": 683785, "count": 3, "id": 5710651, "is_private": false, "time": "2011-09-09T15:07:31Z", "creation_time": "2011-09-09T15:07:31Z", "creator": "jmuizelaar@mozilla.com", "author": "jmuizelaar@mozilla.com"}, {"raw_text": "Thanks for looking at this, Anuj!", "attachment_id": null, "tags": [], "bug_id": 683785, "text": "Thanks for looking at this, Anuj!", "count": 4, "id": 8966252, "is_private": false, "author": "froydnj+bz@gmail.com", "creation_time": "2014-06-23T18:42:46Z", "time": "2014-06-23T18:42:46Z", "creator": "froydnj+bz@gmail.com"}, {"is_private": false, "id": 9283250, "count": 5, "creator": "froydnj+bz@gmail.com", "creation_time": "2014-09-08T17:46:26Z", "time": "2014-09-08T17:46:26Z", "author": "froydnj+bz@gmail.com", "attachment_id": null, "raw_text": "Anuj, are you still planning on working on this?", "text": "Anuj, are you still planning on working on this?", "bug_id": 683785, "tags": []}, {"tags": [], "bug_id": 683785, "text": "@Nathan, If somebody is working on this reassign it to them.", "attachment_id": null, "raw_text": "@Nathan, If somebody is working on this reassign it to them.", "time": "2014-09-08T17:59:41Z", "creation_time": "2014-09-08T17:59:41Z", "creator": "anujagarwal464@gmail.com", "author": "anujagarwal464@gmail.com", "count": 6, "id": 9283313, "is_private": false}, {"tags": [], "text": "Thanks, Anuj.  I'm going to clear the Assignee field so other people searching for C++ bugs to work on can see that this bug is available.", "bug_id": 683785, "attachment_id": null, "raw_text": "Thanks, Anuj.  I'm going to clear the Assignee field so other people searching for C++ bugs to work on can see that this bug is available.", "creation_time": "2014-09-08T18:11:58Z", "time": "2014-09-08T18:11:58Z", "creator": "froydnj+bz@gmail.com", "author": "froydnj+bz@gmail.com", "count": 7, "id": 9283383, "is_private": false}, {"raw_text": "@Nathan What is it that remains in this task? I can look into it if nobody else is in line. Just give me a bit of a spec and I'll fix it.", "attachment_id": null, "bug_id": 683785, "text": "@Nathan What is it that remains in this task? I can look into it if nobody else is in line. Just give me a bit of a spec and I'll fix it.", "tags": [], "is_private": false, "id": 9573110, "count": 8, "author": "linus.probert@gmail.com", "creator": "linus.probert@gmail.com", "time": "2014-11-11T12:50:24Z", "creation_time": "2014-11-11T12:50:24Z"}, {"count": 9, "id": 9575169, "is_private": false, "time": "2014-11-11T19:26:20Z", "creation_time": "2014-11-11T19:26:20Z", "creator": "froydnj+bz@gmail.com", "author": "froydnj+bz@gmail.com", "attachment_id": null, "raw_text": "(In reply to Linus Probert from comment #8)\n> @Nathan What is it that remains in this task? I can look into it if nobody\n> else is in line. Just give me a bit of a spec and I'll fix it.\n\nThe basics are already done in attachment 558933.  What remains is:\n\n- Fixing up the patch for current mozilla-central (it's been a couple years)--the scripts in bug 579517 will probably be helpful here;\n- Replacing any new additions of |do_CreateInstance(\"@mozilla.org/timer;1\");| with |new Timer|;\n- Testing the patch to ensure that it doesn't regress anything.\n\nI think the idea in comment 3 of using timers as values can wait for a followup patch.", "bug_id": 683785, "text": "(In reply to Linus Probert from comment #8)\n> @Nathan What is it that remains in this task? I can look into it if nobody\n> else is in line. Just give me a bit of a spec and I'll fix it.\n\nThe basics are already done in attachment 558933.  What remains is:\n\n- Fixing up the patch for current mozilla-central (it's been a couple years)--the scripts in bug 579517 will probably be helpful here;\n- Replacing any new additions of |do_CreateInstance(\"@mozilla.org/timer;1\");| with |new Timer|;\n- Testing the patch to ensure that it doesn't regress anything.\n\nI think the idea in comment 3 of using timers as values can wait for a followup patch.", "tags": []}, {"attachment_id": null, "raw_text": "Hi Nathan,\n\nI would like to work on this bug, can you please assign it to me?", "tags": [], "bug_id": 683785, "text": "Hi Nathan,\n\nI would like to work on this bug, can you please assign it to me?", "is_private": false, "id": 10970931, "count": 10, "creator": "allamsetty.anup@gmail.com", "time": "2015-11-28T03:27:54Z", "creation_time": "2015-11-28T03:27:54Z", "author": "allamsetty.anup@gmail.com"}, {"raw_text": "Hello, I would like to work on this bug", "attachment_id": null, "text": "Hello, I would like to work on this bug", "bug_id": 683785, "tags": [], "is_private": false, "count": 11, "id": 10998559, "author": "aliyua7@uni.coventry.ac.uk", "creator": "aliyua7@uni.coventry.ac.uk", "time": "2015-12-10T12:36:50Z", "creation_time": "2015-12-10T12:36:50Z"}, {"text": "(In reply to aliyua7 from comment #11)\n> Hello, I would like to work on this bug\n\nHey, \n\nI am working on this bug, currently I'm busy with exams till 11th December, after that I will be working on this. \n\nAnd this is assigned to me also :)", "bug_id": 683785, "tags": [], "attachment_id": null, "raw_text": "(In reply to aliyua7 from comment #11)\n> Hello, I would like to work on this bug\n\nHey, \n\nI am working on this bug, currently I'm busy with exams till 11th December, after that I will be working on this. \n\nAnd this is assigned to me also :)", "creator": "allamsetty.anup@gmail.com", "time": "2015-12-10T13:48:58Z", "creation_time": "2015-12-10T13:48:58Z", "author": "allamsetty.anup@gmail.com", "is_private": false, "count": 12, "id": 10998632}, {"id": 12830494, "count": 13, "is_private": false, "time": "2017-11-09T11:12:09Z", "creation_time": "2017-11-09T11:12:09Z", "creator": "mandercs3@gmail.com", "author": "mandercs3@gmail.com", "attachment_id": null, "raw_text": "Hi, can I be assigned to this bug? I can get to work on it immediately.", "text": "Hi, can I be assigned to this bug? I can get to work on it immediately.", "bug_id": 683785, "tags": []}]}}, "comments": {}}