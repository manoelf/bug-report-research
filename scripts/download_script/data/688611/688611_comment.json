{"comments": {}, "bugs": {"688611": {"comments": [{"attachment_id": null, "tags": [], "creator": "bugzilla@mcsmurf.de", "creation_time": "2011-09-22T21:08:56Z", "is_private": false, "raw_text": "The code at http://hg.mozilla.org/comm-central/annotate/73a80d597bb5/suite/installer/windows/nsis/shared.nsh#l456 is bogus. It does not make sense as it just sets a registry key which is never used again by the installer, Windows or SeaMonkey. This should be fixed.", "time": "2011-09-22T21:08:56Z", "author": "bugzilla@mcsmurf.de", "text": "The code at http://hg.mozilla.org/comm-central/annotate/73a80d597bb5/suite/installer/windows/nsis/shared.nsh#l456 is bogus. It does not make sense as it just sets a registry key which is never used again by the installer, Windows or SeaMonkey. This should be fixed.", "count": 0, "bug_id": 688611, "id": 5732036}, {"author": "ewong@pw-wspx.org", "count": 1, "text": "If you ignore lines 456 and 473, it's used elsewhere.\n\n/suite/installer/windows/nsis/shared.nsh (View Hg log or Hg annotations)\n    line 66 -- ${FixShellIconHandler}\n    line 149 -- ${FixShellIconHandler}\n    line 247 -- ${FixShellIconHandler}\n    line 456 -- !macro FixShellIconHandler\n    line 473 -- !define FixShellIconHandler \"!insertmacro FixShellIconHandler\"\n\n/suite/installer/windows/nsis/installer.nsi (View Hg log or Hg annotations)\n    line 421 -- ${FixShellIconHandler}\n\nBut as I understand the macro, it basically reads a reg str\n(\"Software\\Classes\\SeaMonkeyHTML\\ShellEx\\IconHandler\")\nif there are errors,\nit clears the errors, and reads another regstring\n(\"Software\\Classes\\CLSID\\$2\\Old Icon\\SeaMonkeyHTML\\DefaultIcon\")\nIf that errors, it writes a regstring\n(\"$INSTDIR\\chrome\\icons\\default\\html-file.ico\")\nto (\"Software\\Classes\\CLSID\\$2\\Old Icon\\SeaMonkeyHTML\\DefaultIcon\")\n\nIs this right?", "id": 6105331, "bug_id": 688611, "raw_text": "If you ignore lines 456 and 473, it's used elsewhere.\n\n/suite/installer/windows/nsis/shared.nsh (View Hg log or Hg annotations)\n    line 66 -- ${FixShellIconHandler}\n    line 149 -- ${FixShellIconHandler}\n    line 247 -- ${FixShellIconHandler}\n    line 456 -- !macro FixShellIconHandler\n    line 473 -- !define FixShellIconHandler \"!insertmacro FixShellIconHandler\"\n\n/suite/installer/windows/nsis/installer.nsi (View Hg log or Hg annotations)\n    line 421 -- ${FixShellIconHandler}\n\nBut as I understand the macro, it basically reads a reg str\n(\"Software\\Classes\\SeaMonkeyHTML\\ShellEx\\IconHandler\")\nif there are errors,\nit clears the errors, and reads another regstring\n(\"Software\\Classes\\CLSID\\$2\\Old Icon\\SeaMonkeyHTML\\DefaultIcon\")\nIf that errors, it writes a regstring\n(\"$INSTDIR\\chrome\\icons\\default\\html-file.ico\")\nto (\"Software\\Classes\\CLSID\\$2\\Old Icon\\SeaMonkeyHTML\\DefaultIcon\")\n\nIs this right?", "time": "2012-03-01T09:24:33Z", "creator": "ewong@pw-wspx.org", "creation_time": "2012-03-01T09:24:33Z", "is_private": false, "attachment_id": null, "tags": []}]}}}