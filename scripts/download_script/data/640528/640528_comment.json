{"bugs": {"640528": {"comments": [{"creation_time": "2011-03-10T12:02:58Z", "text": "See bug 635768 comment 31 and attachment 517661. Confirmed this problem in current trunk build using the Lucire 4 font (PS Type 1 format) and PDF995 driver. It looks like the glyph advances are being scaled to approximately 4 times their correct values.\n\nViewing the test page in Print Preview first, and then printing from there, results in correct glyph spacing within each word, but the inter-word spaces are still too large.\n\nDismissing Print Preview and printing again from the normal page view gives the same result; however, after waiting for a while and then re-printing, the original problem (glyphs too widely spaced within each word) reappears. I'm guessing the factor here may be the expiration of textruns from the cache.\n\nAh.... opening Print Preview shortly _after_ doing a Print command that gave incorrect spacing can result in incorrect spacing in the Preview window as well - because it's using cached textruns, I assume. I can even achieve a mixture of correct and incorrect textruns in a single Preview, by modifying the document after printing it, so that _some_ of the text requires new runs to be created, and then previewing this before the other runs have expired.\n\nIt appears that textruns for Type 1 fonts are not \"portable\" between the screen and printer DCs.", "attachment_id": null, "id": 5335725, "raw_text": "See bug 635768 comment 31 and attachment 517661. Confirmed this problem in current trunk build using the Lucire 4 font (PS Type 1 format) and PDF995 driver. It looks like the glyph advances are being scaled to approximately 4 times their correct values.\n\nViewing the test page in Print Preview first, and then printing from there, results in correct glyph spacing within each word, but the inter-word spaces are still too large.\n\nDismissing Print Preview and printing again from the normal page view gives the same result; however, after waiting for a while and then re-printing, the original problem (glyphs too widely spaced within each word) reappears. I'm guessing the factor here may be the expiration of textruns from the cache.\n\nAh.... opening Print Preview shortly _after_ doing a Print command that gave incorrect spacing can result in incorrect spacing in the Preview window as well - because it's using cached textruns, I assume. I can even achieve a mixture of correct and incorrect textruns in a single Preview, by modifying the document after printing it, so that _some_ of the text requires new runs to be created, and then previewing this before the other runs have expired.\n\nIt appears that textruns for Type 1 fonts are not \"portable\" between the screen and printer DCs.", "tags": [], "is_private": false, "creator": "jfkthame@gmail.com", "author": "jfkthame@gmail.com", "bug_id": 640528, "count": 0, "time": "2011-03-10T12:02:58Z"}]}}, "comments": {}}