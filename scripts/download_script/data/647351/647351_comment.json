{"bugs": {"647351": {"comments": [{"attachment_id": null, "is_private": false, "time": "2011-04-01T22:43:46Z", "author": "dholbert@mozilla.com", "raw_text": "In digging through a debug mochitest-oth failure today, I noticed a series of error messages like the following:\n{\nJavaScript error: , line 0: uncaught exception: [Exception... \"Component returned failure code: 0x80520012 (NS_ERROR_FILE_NOT_FOUND) [nsIDOMXULDocument.loadOverlay]\"  nsresult: \"0x80520012 (NS_ERROR_FILE_NOT_FOUND)\"  location: \"JS frame :: chrome://mochitests/content/chrome/content/xul/document/test/bug497875-iframe.xul :: onerror :: line 1\"  data: no]\nFailed to load ftp://mozilla.org/\nWARNING: NS_ENSURE_SUCCESS(rv, 0) failed with result 0x8000FFFF: file /builds/slave/cen-lnx64-dbg/build/content/base/src/nsContentUtils.cpp, line 2905\nWARNING: NS_ENSURE_TRUE(pusher.Push(aBoundElement)) failed: file /builds/slave/cen-lnx64-dbg/build/content/xbl/src/nsXBLProtoImplMethod.cpp, line 327\n}\n\nIn particular \"Failed to load ftp://mozilla.org/\" jumped out at me, since this had happened at the same time as a network blip -- but it turns out we print the above failure 4 times in every m-oth debug test log, regardless of network connectivity.\n\nI think we'd asserted at some point that tests weren't allowed to try to access external URLs.  Mats, do you know if ftp://mozilla.org/ specifically relevant in this case, or could it be replaced with some non-network resource? (something like ftp://mochi.test:8888/ ? I'm not sure if that'd work - I just took it from https://developer.mozilla.org/en/Mochitest and applied s/http/ftp/.)\n\nFor reference, here's a sample green tinderbox log from today that has these error messages in it (but any debug mochitest-other log should do):\nhttp://tinderbox.mozilla.org/showlog.cgi?tree=Firefox&errorparser=unittest&logfile=1301691357.1301694479.14218.gz&buildtime=1301691357&buildname=Rev3%20Fedora%2012x64%20mozilla-central%20debug%20test%20mochitest-other&fulltext=1", "id": 5387576, "text": "In digging through a debug mochitest-oth failure today, I noticed a series of error messages like the following:\n{\nJavaScript error: , line 0: uncaught exception: [Exception... \"Component returned failure code: 0x80520012 (NS_ERROR_FILE_NOT_FOUND) [nsIDOMXULDocument.loadOverlay]\"  nsresult: \"0x80520012 (NS_ERROR_FILE_NOT_FOUND)\"  location: \"JS frame :: chrome://mochitests/content/chrome/content/xul/document/test/bug497875-iframe.xul :: onerror :: line 1\"  data: no]\nFailed to load ftp://mozilla.org/\nWARNING: NS_ENSURE_SUCCESS(rv, 0) failed with result 0x8000FFFF: file /builds/slave/cen-lnx64-dbg/build/content/base/src/nsContentUtils.cpp, line 2905\nWARNING: NS_ENSURE_TRUE(pusher.Push(aBoundElement)) failed: file /builds/slave/cen-lnx64-dbg/build/content/xbl/src/nsXBLProtoImplMethod.cpp, line 327\n}\n\nIn particular \"Failed to load ftp://mozilla.org/\" jumped out at me, since this had happened at the same time as a network blip -- but it turns out we print the above failure 4 times in every m-oth debug test log, regardless of network connectivity.\n\nI think we'd asserted at some point that tests weren't allowed to try to access external URLs.  Mats, do you know if ftp://mozilla.org/ specifically relevant in this case, or could it be replaced with some non-network resource? (something like ftp://mochi.test:8888/ ? I'm not sure if that'd work - I just took it from https://developer.mozilla.org/en/Mochitest and applied s/http/ftp/.)\n\nFor reference, here's a sample green tinderbox log from today that has these error messages in it (but any debug mochitest-other log should do):\nhttp://tinderbox.mozilla.org/showlog.cgi?tree=Firefox&errorparser=unittest&logfile=1301691357.1301694479.14218.gz&buildtime=1301691357&buildname=Rev3%20Fedora%2012x64%20mozilla-central%20debug%20test%20mochitest-other&fulltext=1", "creation_time": "2011-04-01T22:43:46Z", "bug_id": 647351, "tags": [], "creator": "dholbert@mozilla.com", "count": 0}, {"is_private": false, "time": "2011-04-01T22:44:41Z", "attachment_id": null, "raw_text": "(oops, forgot to cc mats when filing -- mats, see comment 0.)", "id": 5387579, "text": "(oops, forgot to cc mats when filing -- mats, see comment 0.)", "creation_time": "2011-04-01T22:44:41Z", "bug_id": 647351, "tags": [], "creator": "dholbert@mozilla.com", "count": 1, "author": "dholbert@mozilla.com"}, {"bug_id": 647351, "time": "2011-04-01T23:24:54Z", "count": 2, "tags": [], "creator": "MatsPalmgren_bugz@use.startmail.com", "raw_text": "Yes, I've verified that ftp://mochi.test:8888/ crash without the fix in\nbug 497875 crash (on the 1.9.2 branch).  The test pass with the fix.", "id": 5387670, "text": "Yes, I've verified that ftp://mochi.test:8888/ crash without the fix in\nbug 497875 crash (on the 1.9.2 branch).  The test pass with the fix.", "is_private": false, "creation_time": "2011-04-01T23:24:54Z", "author": "MatsPalmgren_bugz@use.startmail.com", "attachment_id": null}, {"count": 3, "creator": "MatsPalmgren_bugz@use.startmail.com", "time": "2011-04-01T23:44:57Z", "tags": [], "bug_id": 647351, "id": 5387706, "raw_text": "Hmm, it doesn't fix the NS_ERROR_FILE_NOT_FOUND problem though...", "is_private": false, "creation_time": "2011-04-01T23:44:57Z", "text": "Hmm, it doesn't fix the NS_ERROR_FILE_NOT_FOUND problem though...", "attachment_id": null, "author": "MatsPalmgren_bugz@use.startmail.com"}, {"is_private": false, "time": "2011-04-02T00:07:55Z", "attachment_id": 523728, "creation_time": "2011-04-02T00:07:55Z", "text": "Created attachment 523728\nfix\n\nThis fixes the uncaught NS_ERROR_FILE_NOT_FOUND exception.", "id": 5387752, "raw_text": "This fixes the uncaught NS_ERROR_FILE_NOT_FOUND exception.", "tags": [], "creator": "MatsPalmgren_bugz@use.startmail.com", "count": 4, "bug_id": 647351, "author": "MatsPalmgren_bugz@use.startmail.com"}, {"text": "Comment on attachment 523728\nfix\n\nLooks ok to me!", "creation_time": "2011-04-02T00:15:10Z", "raw_text": "Looks ok to me!", "id": 5387761, "bug_id": 647351, "creator": "dholbert@mozilla.com", "tags": [], "count": 5, "author": "dholbert@mozilla.com", "is_private": false, "time": "2011-04-02T00:15:10Z", "attachment_id": 523728}]}}, "comments": {}}