{"bugs": {"691417": {"comments": [{"attachment_id": null, "raw_text": "In bug 687372, 690469, 689045 I have implemented Swap functionality in such way that we can drop backBuffers any time and those will be created again on update request, and no anymore dependency on static front/back buffers pair.\n\nSo right now we can think about adding some ShadowBackBuffer Garbage collecting functionality which would allow us to drop backBuffers when those are not in use...\nFor example we can remember last paint time for ShadowBackBuffers and after each layers transaction start GC timer which will drop buffers which are not in use for long time, let say 10 seconds...\n\nI believe we have already similar implementation somewhere else, so probably we should use similar protocol for GC'ing back buffers\n\nAny suggestions?", "time": "2011-10-03T18:05:09Z", "tags": [], "author": "romaxa@gmail.com", "count": 0, "text": "In bug 687372, 690469, 689045 I have implemented Swap functionality in such way that we can drop backBuffers any time and those will be created again on update request, and no anymore dependency on static front/back buffers pair.\n\nSo right now we can think about adding some ShadowBackBuffer Garbage collecting functionality which would allow us to drop backBuffers when those are not in use...\nFor example we can remember last paint time for ShadowBackBuffers and after each layers transaction start GC timer which will drop buffers which are not in use for long time, let say 10 seconds...\n\nI believe we have already similar implementation somewhere else, so probably we should use similar protocol for GC'ing back buffers\n\nAny suggestions?", "creator": "romaxa@gmail.com", "creation_time": "2011-10-03T18:05:09Z", "is_private": false, "id": 5754619, "bug_id": 691417}, {"attachment_id": null, "tags": [], "creator": "cjones.bugs@gmail.com", "is_private": false, "creation_time": "2011-10-04T18:28:17Z", "raw_text": "What you're talking about isn't a GC, but a kind of inactivity timeout.  We have nsExpirationTracker that you could probably use.\n\nMy gut feeling would be to have a fairly high timeout, like 30 seconds or so, but if you can get good measurements of OOM-killer vulnerability and repaint latency before/after these patches with various timeout values, that'd be best of all.", "time": "2011-10-04T18:28:17Z", "count": 1, "text": "What you're talking about isn't a GC, but a kind of inactivity timeout.  We have nsExpirationTracker that you could probably use.\n\nMy gut feeling would be to have a fairly high timeout, like 30 seconds or so, but if you can get good measurements of OOM-killer vulnerability and repaint latency before/after these patches with various timeout values, that'd be best of all.", "author": "cjones.bugs@gmail.com", "id": 5758058, "bug_id": 691417}, {"text": "Is this going anywhere?  Maybe we can close it as INCOMPLETE or WONTFIX?", "count": 2, "author": "n.nethercote@gmail.com", "creator": "n.nethercote@gmail.com", "is_private": false, "creation_time": "2012-04-17T05:15:13Z", "bug_id": 691417, "id": 6228469, "raw_text": "Is this going anywhere?  Maybe we can close it as INCOMPLETE or WONTFIX?", "attachment_id": null, "time": "2012-04-17T05:15:13Z", "tags": []}, {"bug_id": 691417, "id": 6228475, "is_private": false, "creation_time": "2012-04-17T05:20:05Z", "creator": "romaxa@gmail.com", "author": "romaxa@gmail.com", "text": "it worse to to fix this, for XUL and of OMTC fennec.\nGot screwed with some long regressions around that stuff, but at some point I'll return to this, or probably someone else could fix this, it should not be complicated.", "count": 3, "tags": [], "time": "2012-04-17T05:20:05Z", "attachment_id": null, "raw_text": "it worse to to fix this, for XUL and of OMTC fennec.\nGot screwed with some long regressions around that stuff, but at some point I'll return to this, or probably someone else could fix this, it should not be complicated."}, {"time": "2013-11-01T08:29:44Z", "raw_text": "I'll repeat comment 2:  is this going anywhere?", "author": "n.nethercote@gmail.com", "text": "I'll repeat comment 2:  is this going anywhere?", "count": 4, "bug_id": 691417, "id": 8029047, "attachment_id": null, "tags": [], "creator": "n.nethercote@gmail.com", "creation_time": "2013-11-01T08:29:44Z", "is_private": false}]}}, "comments": {}}