{"comments": {}, "bugs": {"691130": {"comments": [{"is_private": false, "creator": "jgriffiths@mozilla.com", "count": 0, "creation_time": "2011-10-02T09:23:42Z", "author": "jgriffiths@mozilla.com", "text": "A web developer demo'd for me what appears to be a canvas bug on Firefox triggered by a very specific use case. The site is this one:\n\nhttp://www.barbafan.de/farbzauber/\n\nI've recorded a screencast demonstrating how to trigger the behaviour:\n\nhttp://youtu.be/__J4poExGzk\n\nThe site works as expected on other browsers.", "bug_id": 691130, "time": "2011-10-02T09:23:42Z", "tags": [], "attachment_id": null, "raw_text": "A web developer demo'd for me what appears to be a canvas bug on Firefox triggered by a very specific use case. The site is this one:\n\nhttp://www.barbafan.de/farbzauber/\n\nI've recorded a screencast demonstrating how to trigger the behaviour:\n\nhttp://youtu.be/__J4poExGzk\n\nThe site works as expected on other browsers.", "id": 5752530}, {"author": "jgriffiths@mozilla.com", "creation_time": "2011-10-02T09:25:18Z", "time": "2011-10-02T09:25:18Z", "bug_id": 691130, "tags": [], "text": "cc'ing rob hawkes in case he can puzzle out why this technique is creating this behaviour.", "creator": "jgriffiths@mozilla.com", "is_private": false, "count": 1, "id": 5752532, "attachment_id": null, "raw_text": "cc'ing rob hawkes in case he can puzzle out why this technique is creating this behaviour."}, {"author": "jgriffiths@mozilla.com", "creation_time": "2011-10-02T09:27:07Z", "time": "2011-10-02T09:27:07Z", "tags": [], "text": "Note that the inverse color behaviour doesn't always happen, you may need to hit several images and/or re-size the window to get it to 'kick in'.", "creator": "jgriffiths@mozilla.com", "is_private": false, "id": 5752534, "attachment_id": null, "raw_text": "Note that the inverse color behaviour doesn't always happen, you may need to hit several images and/or re-size the window to get it to 'kick in'.", "bug_id": 691130, "count": 2}, {"creator": "f.enzenhofer@gmail.com", "is_private": false, "tags": [], "time": "2011-10-02T10:27:47Z", "text": "hi, franz, the dev who coded this canvas app:\n\nwhat it does: renders image into canvas, saves original image data, does some algo. outline detection, displays outlined image.\n\n * on mouseover it makes a partial canvas repaint .putImageData(tempImageData, cx, cy) using the image data from the original image - this is when the buggy behavior (color distortion) occurs. \n\n * when you reach the outer edges, it does a full canvas repaint .putImageData(tempImageData, 0, 0) this is when the image gets completely redrawn, the color distorsion disappears.\n\n* the color distortion within the partial repaint seems to occure quite (but not always) predictable when a window resize happened. \n\n* FF seems to be the only browser where the \"color distortion\" behavior happens.", "author": "f.enzenhofer@gmail.com", "creation_time": "2011-10-02T10:27:47Z", "raw_text": "hi, franz, the dev who coded this canvas app:\n\nwhat it does: renders image into canvas, saves original image data, does some algo. outline detection, displays outlined image.\n\n * on mouseover it makes a partial canvas repaint .putImageData(tempImageData, cx, cy) using the image data from the original image - this is when the buggy behavior (color distortion) occurs. \n\n * when you reach the outer edges, it does a full canvas repaint .putImageData(tempImageData, 0, 0) this is when the image gets completely redrawn, the color distorsion disappears.\n\n* the color distortion within the partial repaint seems to occure quite (but not always) predictable when a window resize happened. \n\n* FF seems to be the only browser where the \"color distortion\" behavior happens.", "attachment_id": null, "id": 5752579, "count": 3, "bug_id": 691130}, {"bug_id": 691130, "count": 4, "creation_time": "2011-10-04T03:56:37Z", "author": "bzbarsky@mit.edu", "text": "Do people see this with hardware acceleration disabled?\n\nIs this happening on Mac, or on Windows, or both?  (I can't reproduce so far on a Mac, fwiw...)\n\nIf someone can reproduce somewhat reliably, a regression range would be really useful.", "tags": [], "time": "2011-10-04T03:56:37Z", "is_private": false, "creator": "bzbarsky@mit.edu", "id": 5756389, "attachment_id": null, "raw_text": "Do people see this with hardware acceleration disabled?\n\nIs this happening on Mac, or on Windows, or both?  (I can't reproduce so far on a Mac, fwiw...)\n\nIf someone can reproduce somewhat reliably, a regression range would be really useful."}, {"count": 5, "bug_id": 691130, "raw_text": "That's assuming it's a regression.", "attachment_id": null, "id": 5756391, "creator": "bzbarsky@mit.edu", "is_private": false, "tags": [], "time": "2011-10-04T03:56:56Z", "text": "That's assuming it's a regression.", "author": "bzbarsky@mit.edu", "creation_time": "2011-10-04T03:56:56Z"}, {"bug_id": 691130, "count": 6, "text": "By 'with hardware acceleration disabled', do you mean enabling the 'layers.acceleration.disabled' pref? Or something else?\n\nI'm using various versions ( Aurora,Nightly,Beta ) on OS X 10.7. I can reproduce it reliably, in the sense that I can always get the behaviour to happen, but I may need to refresh a few times and/or re-size the window. This leads me to wonder if there is something about particular images in this example that may trigger the issue. The example site as-is isn't a great way to test, maybe Franz can provide a really simple page that, in particular, doesn't switch source images on refresh.", "time": "2011-10-04T15:56:37Z", "tags": [], "creation_time": "2011-10-04T15:56:37Z", "author": "jgriffiths@mozilla.com", "is_private": false, "creator": "jgriffiths@mozilla.com", "id": 5757545, "raw_text": "By 'with hardware acceleration disabled', do you mean enabling the 'layers.acceleration.disabled' pref? Or something else?\n\nI'm using various versions ( Aurora,Nightly,Beta ) on OS X 10.7. I can reproduce it reliably, in the sense that I can always get the behaviour to happen, but I may need to refresh a few times and/or re-size the window. This leads me to wonder if there is something about particular images in this example that may trigger the issue. The example site as-is isn't a great way to test, maybe Franz can provide a really simple page that, in particular, doesn't switch source images on refresh.", "attachment_id": null}, {"attachment_id": null, "raw_text": "> This leads me to wonder if there is something about particular images in this example that may trigger the issue.\ni have experienced the issue with every picture of the sample page, but yeah, the re-size of the window (especially if the window is resized smaller than the canvas) triggers this behavior quite regularly\n\nalso there is an interacitve version which can load any picture via an URL http://www.barbafan.de/farbzauber/w that shows the same behaviour on FF\n\n >maybe Franz can provide a really simple page that, in particular, doesn't switch source images on refresh.\ni can and will do so - earliest next week.", "id": 5760081, "is_private": false, "creator": "f.enzenhofer@gmail.com", "count": 7, "creation_time": "2011-10-05T13:32:30Z", "author": "f.enzenhofer@gmail.com", "text": "> This leads me to wonder if there is something about particular images in this example that may trigger the issue.\ni have experienced the issue with every picture of the sample page, but yeah, the re-size of the window (especially if the window is resized smaller than the canvas) triggers this behavior quite regularly\n\nalso there is an interacitve version which can load any picture via an URL http://www.barbafan.de/farbzauber/w that shows the same behaviour on FF\n\n >maybe Franz can provide a really simple page that, in particular, doesn't switch source images on refresh.\ni can and will do so - earliest next week.", "bug_id": 691130, "tags": [], "time": "2011-10-05T13:32:30Z"}, {"id": 5979647, "attachment_id": null, "raw_text": "I can't reproduce this on Firefox 9.0.1 on OS X, but I can on Win7 x86_64", "author": "gw@gwright.org.uk", "creation_time": "2012-01-13T21:52:49Z", "time": "2012-01-13T21:52:49Z", "tags": [], "text": "I can't reproduce this on Firefox 9.0.1 on OS X, but I can on Win7 x86_64", "creator": "gw@gwright.org.uk", "is_private": false, "bug_id": 691130, "count": 8}, {"id": 5979660, "raw_text": "Oops spoke too soon, I can reproduce on OS X too :)", "attachment_id": null, "bug_id": 691130, "tags": [], "time": "2012-01-13T21:56:42Z", "text": "Oops spoke too soon, I can reproduce on OS X too :)", "author": "gw@gwright.org.uk", "creation_time": "2012-01-13T21:56:42Z", "count": 9, "creator": "gw@gwright.org.uk", "is_private": false}]}}}