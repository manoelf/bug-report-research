{"comments": {}, "bugs": {"626532": {"comments": [{"author": "jporterbugs@gmail.com", "attachment_id": 504572, "creator": "jporterbugs@gmail.com", "time": "2011-01-17T23:39:19Z", "tags": [], "creation_time": "2011-01-17T23:39:19Z", "raw_text": "When editing a contenteditable element, -moz-user-select:all elements are treated as atoms (i.e. single characters) when you delete them, but as totally absent when you navigate with the arrow keys.\n\nWhen hitting backspace, the following happens (| is the cursor, <atom> is the -moz-user-select:all element):\n\n  Before: 123<atom>|\n  After:  123|\n\nThat's good, and everything makes sense to me there. However, when I hit the left arrow, this happens:\n\n  Before: 123<atom>|\n  After:  12|3<atom>\n\nIt would be more consistent if after hitting the left arrow, you got \"123|<atom>\" instead.\n\nIn general, I would assume that if it takes me N presses of the backspace key to delete everything, it should also take N presses of the left arrow to get to the beginning.\n\nAttached is a minimal test case that you can play with to see this in action.", "id": 5206119, "count": 0, "bug_id": 626532, "is_private": false, "text": "Created attachment 504572\nMinimal test case\n\nWhen editing a contenteditable element, -moz-user-select:all elements are treated as atoms (i.e. single characters) when you delete them, but as totally absent when you navigate with the arrow keys.\n\nWhen hitting backspace, the following happens (| is the cursor, <atom> is the -moz-user-select:all element):\n\n  Before: 123<atom>|\n  After:  123|\n\nThat's good, and everything makes sense to me there. However, when I hit the left arrow, this happens:\n\n  Before: 123<atom>|\n  After:  12|3<atom>\n\nIt would be more consistent if after hitting the left arrow, you got \"123|<atom>\" instead.\n\nIn general, I would assume that if it takes me N presses of the backspace key to delete everything, it should also take N presses of the left arrow to get to the beginning.\n\nAttached is a minimal test case that you can play with to see this in action."}, {"time": "2011-01-17T23:41:37Z", "author": "jporterbugs@gmail.com", "creator": "jporterbugs@gmail.com", "attachment_id": null, "bug_id": 626532, "raw_text": "Oh, one more thing I just noticed, which is especially weird considering how backspace works. If I press delete, the following happens:\n\n  Before: |<atom>123\n  After:  |23\n\nThe result should probably be \"|123\" in this case.", "creation_time": "2011-01-17T23:41:37Z", "tags": [], "is_private": false, "text": "Oh, one more thing I just noticed, which is especially weird considering how backspace works. If I press delete, the following happens:\n\n  Before: |<atom>123\n  After:  |23\n\nThe result should probably be \"|123\" in this case.", "count": 1, "id": 5206126}, {"raw_text": "A cross-browser test-case, using contenteditable=false as the atom:\n\ndata:text/html,<!doctype html>\n<div contenteditable=true>\nA<span contenteditable=false>B</span>C\n</div>\n\nStart before \"A\" and hit the right arrow key.\n\nIE9: Three presses to get to the end\nFirefox 12.0a1 (2012-01-24): Two presses gets to the end\nChrome 17 dev: Three presses gets to the end\nOpera Next 12.00 alpha: Behaves weirdly\n\nI don't plan to write a spec for this anytime soon, but IMO IE and WebKit are correct here.", "bug_id": 626532, "attachment_id": null, "author": "ayg@aryeh.name", "creator": "ayg@aryeh.name", "time": "2012-01-27T17:29:47Z", "id": 6014696, "count": 2, "text": "A cross-browser test-case, using contenteditable=false as the atom:\n\ndata:text/html,<!doctype html>\n<div contenteditable=true>\nA<span contenteditable=false>B</span>C\n</div>\n\nStart before \"A\" and hit the right arrow key.\n\nIE9: Three presses to get to the end\nFirefox 12.0a1 (2012-01-24): Two presses gets to the end\nChrome 17 dev: Three presses gets to the end\nOpera Next 12.00 alpha: Behaves weirdly\n\nI don't plan to write a spec for this anytime soon, but IMO IE and WebKit are correct here.", "is_private": false, "tags": [], "creation_time": "2012-01-27T17:29:47Z"}, {"raw_text": "Also, FWIW: I was speaking with a MediaWiki developer working on a Google Docs-style replacement for contenteditable because it's so buggy and inconsistent between browsers.  This is one of the problems he cited as a reason not to use contenteditable.  The use-case is having non-editable atoms in text, like the [1]'s and [citation needed]s here (link may go stale):\n\nhttp://www.mediawiki.org/wiki/Special:VisualEditorSandbox", "bug_id": 626532, "attachment_id": null, "creator": "ayg@aryeh.name", "author": "ayg@aryeh.name", "time": "2012-01-27T17:31:38Z", "id": 6014700, "count": 3, "is_private": false, "text": "Also, FWIW: I was speaking with a MediaWiki developer working on a Google Docs-style replacement for contenteditable because it's so buggy and inconsistent between browsers.  This is one of the problems he cited as a reason not to use contenteditable.  The use-case is having non-editable atoms in text, like the [1]'s and [citation needed]s here (link may go stale):\n\nhttp://www.mediawiki.org/wiki/Special:VisualEditorSandbox", "creation_time": "2012-01-27T17:31:38Z", "tags": []}, {"is_private": false, "text": "Any news on this? Or, failing that, a pointer of where to start looking so I can fix it myself?", "id": 6164901, "count": 4, "creation_time": "2012-03-23T05:51:51Z", "tags": [], "bug_id": 626532, "raw_text": "Any news on this? Or, failing that, a pointer of where to start looking so I can fix it myself?", "time": "2012-03-23T05:51:51Z", "attachment_id": null, "author": "jporterbugs@gmail.com", "creator": "jporterbugs@gmail.com"}, {"is_private": false, "bug_id": 626532, "text": "I have not had a chance to work on this yet.  It would be great if you can, Jim!\n\nTo get started, I suggest you set a breakpoint on nsFrameSelection::MoveCaret, open the test case, place the caret after the user-select:all section for example (using the mouse so that the breakpoint doesn't get triggered needlessly), and then press Left.  Now you should break inside the debugger, where you need to step through the caret navigation code to see what's going wrong.\n\nPlease let me know if you need help.  Thanks!", "count": 5, "id": 6166420, "raw_text": "I have not had a chance to work on this yet.  It would be great if you can, Jim!\n\nTo get started, I suggest you set a breakpoint on nsFrameSelection::MoveCaret, open the test case, place the caret after the user-select:all section for example (using the mouse so that the breakpoint doesn't get triggered needlessly), and then press Left.  Now you should break inside the debugger, where you need to step through the caret navigation code to see what's going wrong.\n\nPlease let me know if you need help.  Thanks!", "time": "2012-03-23T18:45:10Z", "author": "ehsan.akhgari@gmail.com", "creator": "ehsan.akhgari@gmail.com", "attachment_id": null, "creation_time": "2012-03-23T18:45:10Z", "tags": []}, {"time": "2018-05-02T15:39:57Z", "author": "jwatt@jwatt.org", "attachment_id": null, "creator": "jwatt@jwatt.org", "bug_id": 626532, "raw_text": "Mass bug change to replace various 'parity' whiteboard flags with the new canonical keywords. (See bug 1443764 comment 13.)", "tags": [], "creation_time": "2018-05-02T15:39:57Z", "is_private": false, "text": "Mass bug change to replace various 'parity' whiteboard flags with the new canonical keywords. (See bug 1443764 comment 13.)", "id": 13249201, "count": 6}]}}}