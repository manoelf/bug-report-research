{"bugs": {"688734": {"comments": [{"attachment_id": null, "raw_text": "Seems like at least some of our IsExplicitlySet implementations don't take into account attribute removal.", "id": 5733418, "is_private": false, "creator": "jwatt@jwatt.org", "count": 0, "creation_time": "2011-09-23T12:37:36Z", "author": "jwatt@jwatt.org", "text": "Seems like at least some of our IsExplicitlySet implementations don't take into account attribute removal.", "bug_id": 688734, "time": "2011-09-23T12:37:36Z", "tags": []}, {"is_private": false, "creator": "longsonr@gmail.com", "count": 1, "creation_time": "2011-09-23T12:50:02Z", "author": "longsonr@gmail.com", "text": "Such as...", "tags": [], "time": "2011-09-23T12:50:02Z", "bug_id": 688734, "attachment_id": null, "raw_text": "Such as...", "id": 5733444}, {"count": 2, "bug_id": 688734, "creator": "jwatt@jwatt.org", "is_private": false, "time": "2011-09-23T13:00:17Z", "tags": [], "text": "SVGLength2, but if one is broken, we should audit the others.", "author": "jwatt@jwatt.org", "creation_time": "2011-09-23T13:00:17Z", "raw_text": "SVGLength2, but if one is broken, we should audit the others.", "attachment_id": null, "id": 5733457}, {"is_private": false, "creator": "longsonr@gmail.com", "count": 3, "creation_time": "2011-09-23T13:17:17Z", "author": "longsonr@gmail.com", "text": "Seems OK to me...\n\nWith much code elided this is what we've got isn't it?\n\nnsSVGElementBase::UnsetAttr\n{\n    LengthAttributesInfo lenInfo = GetLengthInfo();\n\n    for (PRUint32 i = 0; i < lenInfo.mLengthCount; i++) {\n      if (aName == *lenInfo.mLengthInfo[i].mName) {\n        lenInfo.Reset(i);\n        DidChangeLength(i, PR_FALSE);\n        return rv;\n      }\n    }\n}\n\nlenInfo::Reset\n{\n  mLengths[aAttrEnum].Init(mLengthInfo[aAttrEnum].mCtxType,\n                            aAttrEnum,\n                            mLengthInfo[aAttrEnum].mDefaultValue,\n                            mLengthInfo[aAttrEnum].mDefaultUnitType);\n}\n\nnsSVGLength2::Init\n{\nmIsAnimated = PR_FALSE;\nmIsBaseSet = PR_FALSE;\n}\n\nPRBool IsExplicitlySet() const\n{ return mIsAnimated || mIsBaseSet; }", "tags": [], "time": "2011-09-23T13:17:17Z", "bug_id": 688734, "attachment_id": null, "raw_text": "Seems OK to me...\n\nWith much code elided this is what we've got isn't it?\n\nnsSVGElementBase::UnsetAttr\n{\n    LengthAttributesInfo lenInfo = GetLengthInfo();\n\n    for (PRUint32 i = 0; i < lenInfo.mLengthCount; i++) {\n      if (aName == *lenInfo.mLengthInfo[i].mName) {\n        lenInfo.Reset(i);\n        DidChangeLength(i, PR_FALSE);\n        return rv;\n      }\n    }\n}\n\nlenInfo::Reset\n{\n  mLengths[aAttrEnum].Init(mLengthInfo[aAttrEnum].mCtxType,\n                            aAttrEnum,\n                            mLengthInfo[aAttrEnum].mDefaultValue,\n                            mLengthInfo[aAttrEnum].mDefaultUnitType);\n}\n\nnsSVGLength2::Init\n{\nmIsAnimated = PR_FALSE;\nmIsBaseSet = PR_FALSE;\n}\n\nPRBool IsExplicitlySet() const\n{ return mIsAnimated || mIsBaseSet; }", "id": 5733476}, {"id": 5733506, "attachment_id": null, "raw_text": "Ah, right, thanks. Maybe we should change the name of \"Init\" to \"Reset\" to make the code a little clearer.", "author": "jwatt@jwatt.org", "creation_time": "2011-09-23T13:44:10Z", "bug_id": 688734, "time": "2011-09-23T13:44:10Z", "tags": [], "text": "Ah, right, thanks. Maybe we should change the name of \"Init\" to \"Reset\" to make the code a little clearer.", "creator": "jwatt@jwatt.org", "is_private": false, "count": 4}, {"count": 5, "bug_id": 688734, "creator": "jwatt@jwatt.org", "is_private": false, "time": "2011-09-23T15:03:19Z", "tags": [], "text": "(SVGAnimatedNumberList and SVGAnimatedLengthList have a method called \"ClearBaseValue\" instead of \"Init\", so probably go for consistency with that.)", "author": "jwatt@jwatt.org", "creation_time": "2011-09-23T15:03:19Z", "raw_text": "(SVGAnimatedNumberList and SVGAnimatedLengthList have a method called \"ClearBaseValue\" instead of \"Init\", so probably go for consistency with that.)", "attachment_id": null, "id": 5733638}, {"count": 6, "bug_id": 688734, "creator": "jwatt@jwatt.org", "is_private": false, "author": "jwatt@jwatt.org", "creation_time": "2011-09-23T15:04:21Z", "time": "2011-09-23T15:04:21Z", "tags": [], "text": "Actually ResetBaseValue is probably better.", "attachment_id": null, "raw_text": "Actually ResetBaseValue is probably better.", "id": 5733642}]}}, "comments": {}}