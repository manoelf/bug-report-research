{"comments": {}, "bugs": {"706957": {"comments": [{"count": 0, "creator": "dvander@alliedmods.net", "is_private": false, "tags": [], "time": "2011-12-01T21:40:05Z", "bug_id": 706957, "text": "On the given URL, Firefox is unusable for over a minute while it tries to render the page. This page is a reduced test case a user sent me, based on an internal company app. Chrome not only loads the page faster, but the UI is responsive in the interim.", "author": "dvander@alliedmods.net", "creation_time": "2011-12-01T21:40:05Z", "raw_text": "On the given URL, Firefox is unusable for over a minute while it tries to render the page. This page is a reduced test case a user sent me, based on an internal company app. Chrome not only loads the page faster, but the UI is responsive in the interim.", "attachment_id": null, "id": 5886445}, {"text": "https://crash-stats.mozilla.com/report/index/bp-055ac669-5cd9-4487-a1d8-e1c472111201\nI got this loading view-source:http://devicenull.org/fftest2.html in safe mode", "time": "2011-12-01T22:11:05Z", "tags": [], "bug_id": 706957, "creation_time": "2011-12-01T22:11:05Z", "author": "mardeg@inbox.ru", "count": 1, "is_private": false, "creator": "mardeg@inbox.ru", "id": 5886545, "raw_text": "https://crash-stats.mozilla.com/report/index/bp-055ac669-5cd9-4487-a1d8-e1c472111201\nI got this loading view-source:http://devicenull.org/fftest2.html in safe mode", "attachment_id": null}, {"id": 5886568, "attachment_id": null, "raw_text": "At the link without view-source:\nhttps://crash-stats.mozilla.com/report/index/bp-26d32a85-370d-4c23-85c0-55c692111201", "author": "mardeg@inbox.ru", "creation_time": "2011-12-01T22:17:38Z", "tags": [], "bug_id": 706957, "time": "2011-12-01T22:17:38Z", "text": "At the link without view-source:\nhttps://crash-stats.mozilla.com/report/index/bp-26d32a85-370d-4c23-85c0-55c692111201", "creator": "mardeg@inbox.ru", "is_private": false, "count": 2}, {"id": 5886666, "attachment_id": null, "raw_text": "I was gonna say this bug needs more data, but then I clicked on the link in comment 2, firefox became unresponsive and when i tried to close the tab, it crashed.\n\nBoris, does this sound like a low priority snappy bug or should we make this a higher priority one since it also involves a crash?", "author": "taras.mozilla@glek.net", "creation_time": "2011-12-01T22:39:29Z", "tags": [], "time": "2011-12-01T22:39:29Z", "bug_id": 706957, "text": "I was gonna say this bug needs more data, but then I clicked on the link in comment 2, firefox became unresponsive and when i tried to close the tab, it crashed.\n\nBoris, does this sound like a low priority snappy bug or should we make this a higher priority one since it also involves a crash?", "creator": "taras.mozilla@glek.net", "is_private": false, "count": 3}, {"raw_text": "Those \"crashes\" are from the hang detector.  Pretty much expected for a very laggy testcase if the hang detector is enabled, right?\n\ndvander, how stable is that URI?  Can you attach the testcase to the bug?\n\nFor Chrome, of course, the UI can be responsive even if the page is completely hung....  that's our real issue here.", "attachment_id": null, "id": 5886812, "is_private": false, "creator": "bzbarsky@mit.edu", "text": "Those \"crashes\" are from the hang detector.  Pretty much expected for a very laggy testcase if the hang detector is enabled, right?\n\ndvander, how stable is that URI?  Can you attach the testcase to the bug?\n\nFor Chrome, of course, the UI can be responsive even if the page is completely hung....  that's our real issue here.", "time": "2011-12-01T23:08:45Z", "tags": [], "creation_time": "2011-12-01T23:08:45Z", "author": "bzbarsky@mit.edu", "count": 4, "bug_id": 706957}, {"raw_text": "bz: the URI is stable, but I'll attach to be safe. Yes, the frozen UI is the real issue, but also the page loads much, much faster in Chrome.", "attachment_id": null, "id": 5886833, "count": 5, "is_private": false, "creator": "dvander@alliedmods.net", "text": "bz: the URI is stable, but I'll attach to be safe. Yes, the frozen UI is the real issue, but also the page loads much, much faster in Chrome.", "bug_id": 706957, "time": "2011-12-01T23:13:05Z", "tags": [], "creation_time": "2011-12-01T23:13:05Z", "author": "dvander@alliedmods.net"}, {"tags": [], "time": "2011-12-01T23:20:08Z", "text": "Created attachment 578426\nsaved test case", "author": "dvander@alliedmods.net", "creation_time": "2011-12-01T23:20:08Z", "creator": "dvander@alliedmods.net", "is_private": false, "id": 5886852, "raw_text": "", "attachment_id": 578426, "bug_id": 706957, "count": 6}, {"bug_id": 706957, "count": 7, "creation_time": "2011-12-01T23:23:41Z", "author": "bzbarsky@mit.edu", "text": "Profile says time mostly spent under table reflow, unsurprisingly.  No single-function hotspot, though about 30% of the time is under invalidation in the one profile I did.\n\nNote that doing a full frame reconstruct and relayout on the page once it's loaded takes about 50s for me; a good bit of that in a little slice profile I just did for 3-4 seconds is textrun creation....\n\nOverall, the real issue here is that incremental rendering makes this all O(N^2) but even the O(N) part is tens of seconds long.", "tags": [], "time": "2011-12-01T23:23:41Z", "is_private": false, "creator": "bzbarsky@mit.edu", "id": 5886857, "attachment_id": null, "raw_text": "Profile says time mostly spent under table reflow, unsurprisingly.  No single-function hotspot, though about 30% of the time is under invalidation in the one profile I did.\n\nNote that doing a full frame reconstruct and relayout on the page once it's loaded takes about 50s for me; a good bit of that in a little slice profile I just did for 3-4 seconds is textrun creation....\n\nOverall, the real issue here is that incremental rendering makes this all O(N^2) but even the O(N) part is tens of seconds long."}, {"tags": [], "time": "2011-12-01T23:25:11Z", "text": "I believe Chrome just gives up on incremental rendering for large pages, by the way.  But that 50s reframe+reflow time worries me...", "author": "bzbarsky@mit.edu", "creation_time": "2011-12-01T23:25:11Z", "creator": "bzbarsky@mit.edu", "is_private": false, "id": 5886866, "raw_text": "I believe Chrome just gives up on incremental rendering for large pages, by the way.  But that 50s reframe+reflow time worries me...", "attachment_id": null, "bug_id": 706957, "count": 8}, {"creation_time": "2011-12-01T23:25:56Z", "author": "bzbarsky@mit.edu", "text": "ccing some more people who may want to profile this.", "tags": [], "time": "2011-12-01T23:25:56Z", "bug_id": 706957, "is_private": false, "creator": "bzbarsky@mit.edu", "count": 9, "id": 5886867, "attachment_id": null, "raw_text": "ccing some more people who may want to profile this."}, {"raw_text": "Browser unusable for >1 minute, has test case, is reproduce-able.\n\nWhy is this P3? Can we bump this up in priority?", "attachment_id": null, "id": 5904824, "count": 10, "is_private": false, "creator": "hzbz@pm.me", "text": "Browser unusable for >1 minute, has test case, is reproduce-able.\n\nWhy is this P3? Can we bump this up in priority?", "time": "2011-12-09T19:00:41Z", "bug_id": 706957, "tags": [], "creation_time": "2011-12-09T19:00:41Z", "author": "hzbz@pm.me"}, {"id": 5909541, "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #8)\n> I believe Chrome just gives up on incremental rendering for large pages, by\n> the way.  But that 50s reframe+reflow time worries me...\n\nBoris, can we add telemetry for reflow times so we know how much a problem this kind of usecase is in the wild? Perhaps this should be a Snappy:P1, but without data it's hard to know if this is an exceptional usecase.", "attachment_id": null, "tags": [], "time": "2011-12-12T19:37:36Z", "bug_id": 706957, "text": "(In reply to Boris Zbarsky (:bz) from comment #8)\n> I believe Chrome just gives up on incremental rendering for large pages, by\n> the way.  But that 50s reframe+reflow time worries me...\n\nBoris, can we add telemetry for reflow times so we know how much a problem this kind of usecase is in the wild? Perhaps this should be a Snappy:P1, but without data it's hard to know if this is an exceptional usecase.", "author": "taras.mozilla@glek.net", "creation_time": "2011-12-12T19:37:36Z", "count": 11, "creator": "taras.mozilla@glek.net", "is_private": false}, {"raw_text": "> can we add telemetry for reflow times \n\nWe already do for XUL documents; we could just expand it to everything, right?", "attachment_id": null, "id": 5909775, "count": 12, "creator": "bzbarsky@mit.edu", "is_private": false, "time": "2011-12-12T20:42:29Z", "bug_id": 706957, "tags": [], "text": "> can we add telemetry for reflow times \n\nWe already do for XUL documents; we could just expand it to everything, right?", "author": "bzbarsky@mit.edu", "creation_time": "2011-12-12T20:42:29Z"}, {"attachment_id": null, "raw_text": "test page down", "id": 11489210, "is_private": false, "creator": "u572625@disabled.tld", "count": 13, "creation_time": "2016-06-19T23:08:53Z", "author": "u572625@disabled.tld", "text": "test page down", "bug_id": 706957, "time": "2016-06-19T23:08:53Z", "tags": []}, {"attachment_id": null, "raw_text": "Attachment #578426 testcase is ~100k row table with one image per row", "id": 11743700, "is_private": false, "creator": "vseerror@lehigh.edu", "count": 14, "creation_time": "2016-09-28T14:37:02Z", "author": "vseerror@lehigh.edu", "text": "Attachment #578426 testcase is ~100k row table with one image per row", "bug_id": 706957, "time": "2016-09-28T14:37:02Z", "tags": []}]}}}