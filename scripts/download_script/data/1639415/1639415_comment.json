{"bugs": {"1639415": {"comments": [{"creator": "mark_needham@gmx.com", "attachment_id": null, "creation_time": "2020-05-20T00:59:10Z", "id": 14832294, "text": "User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:77.0) Gecko/20100101 Firefox/77.0\n\nSteps to reproduce:\n\nclick on Tools > Clear Recent History or use Ctrl+Shift+Delete \n\n\nThunderbird 77.0b2 20200511021338\nMozilla/5.0 (Windows NT 10.0; Win64; x64; rv:77.0) Gecko/20100101 Thunderbird/77.0 \n\n\nActual results:\n\nno Clear All History window appears\n\n\nExpected results:\n\nwindow showing Clear All History should appear as it does in previous versions eg 76b3", "time": "2020-05-20T00:59:10Z", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:77.0) Gecko/20100101 Firefox/77.0\n\nSteps to reproduce:\n\nclick on Tools > Clear Recent History or use Ctrl+Shift+Delete \n\n\nThunderbird 77.0b2 20200511021338\nMozilla/5.0 (Windows NT 10.0; Win64; x64; rv:77.0) Gecko/20100101 Thunderbird/77.0 \n\n\nActual results:\n\nno Clear All History window appears\n\n\nExpected results:\n\nwindow showing Clear All History should appear as it does in previous versions eg 76b3", "is_private": false, "count": 0, "bug_id": 1639415, "tags": [], "author": "mark_needham@gmx.com"}, {"creation_time": "2020-05-20T12:41:22Z", "creator": "wls220spring@gmail.com", "attachment_id": null, "text": "I can reproduce this on Ubuntu 18.04.4 LTS Linux using TB 77.0b3.\n\nWorks using 76.0b3, broken in 77.0b1.\n\nNot sure if this is shared code with Firefox where it is activated from History > Clear Recent History and works in Fx 77.0b8.", "id": 14833349, "raw_text": "I can reproduce this on Ubuntu 18.04.4 LTS Linux using TB 77.0b3.\n\nWorks using 76.0b3, broken in 77.0b1.\n\nNot sure if this is shared code with Firefox where it is activated from History > Clear Recent History and works in Fx 77.0b8.", "time": "2020-05-20T12:41:22Z", "author": "wls220spring@gmail.com", "bug_id": 1639415, "tags": [], "count": 1, "is_private": false}, {"time": "2020-05-20T15:12:38Z", "raw_text": "NotSupportedError: ChromeUtils.registerWindowActor: 'Prompt' actor is already registered. ActorManagerParent.jsm:596\n    addActors resource://gre/modules/ActorManagerParent.jsm:596\n    _init resource://gre/modules/MailGlue.jsm:125\n    MailGlue resource://gre/modules/MailGlue.jsm:76\n    toSanitize chrome://messenger/content/mailCore.js:543\n    oncommand chrome://messenger/content/messenger.xhtml:1\n\nUncaught \nException { name: \"NS_ERROR_XPC_GS_RETURNED_FAILURE\", message: \"ServiceManager::GetService returned failure code:\", result: 2153185302, filename: \"chrome://messenger/content/mailCore.js\", lineNumber: 543, columnNumber: 0, data: null, stack: \"toSanitize@chrome://messenger/content/mailCore.js:543:6\\noncommand@chrome://messenger/content/messenger.xhtml:1:1\\n\", location: XPCWrappedNative_NoHelper }\nmailCore.js:543", "bug_id": 1639415, "tags": [], "is_private": false, "count": 2, "author": "mkmelin+mozilla@iki.fi", "attachment_id": null, "creator": "mkmelin+mozilla@iki.fi", "creation_time": "2020-05-20T15:12:38Z", "text": "NotSupportedError: ChromeUtils.registerWindowActor: 'Prompt' actor is already registered. ActorManagerParent.jsm:596\n    addActors resource://gre/modules/ActorManagerParent.jsm:596\n    _init resource://gre/modules/MailGlue.jsm:125\n    MailGlue resource://gre/modules/MailGlue.jsm:76\n    toSanitize chrome://messenger/content/mailCore.js:543\n    oncommand chrome://messenger/content/messenger.xhtml:1\n\nUncaught \nException { name: \"NS_ERROR_XPC_GS_RETURNED_FAILURE\", message: \"ServiceManager::GetService returned failure code:\", result: 2153185302, filename: \"chrome://messenger/content/mailCore.js\", lineNumber: 543, columnNumber: 0, data: null, stack: \"toSanitize@chrome://messenger/content/mailCore.js:543:6\\noncommand@chrome://messenger/content/messenger.xhtml:1:1\\n\", location: XPCWrappedNative_NoHelper }\nmailCore.js:543", "id": 14833677}, {"text": "Related to the prompt stuff in bug 1640549?", "id": 14871598, "creator": "mkmelin+mozilla@iki.fi", "attachment_id": null, "creation_time": "2020-06-09T13:30:27Z", "tags": [], "bug_id": 1639415, "is_private": false, "count": 3, "author": "mkmelin+mozilla@iki.fi", "time": "2020-06-09T13:30:27Z", "raw_text": "Related to the prompt stuff in bug 1640549?"}, {"author": "mark_needham@gmx.com", "bug_id": 1639415, "tags": [], "count": 4, "is_private": false, "raw_text": "\nCan confirm still broken in released Thunderbird 78.0b1 - 20200611220825 and issue not shown in Beta Notes - Known Issues", "time": "2020-06-14T22:23:04Z", "id": 14880757, "text": "\nCan confirm still broken in released Thunderbird 78.0b1 - 20200611220825 and issue not shown in Beta Notes - Known Issues", "creation_time": "2020-06-14T22:23:04Z", "attachment_id": null, "creator": "mark_needham@gmx.com"}, {"raw_text": "I can't see any reason why there's an interface to open this dialog and nothing else (nsIMailGlue), so I got rid of it.\n\nI also don't know why a new MailGlue object is created when .getService is called (this is the real problem here), but that's irrelevant after this patch.", "time": "2020-06-15T04:19:37Z", "author": "geoff@thunderbird.net", "bug_id": 1639415, "tags": [], "is_private": false, "count": 5, "creation_time": "2020-06-15T04:19:37Z", "attachment_id": 9156617, "creator": "geoff@thunderbird.net", "id": 14880859, "text": "Created attachment 9156617\n1639415-sanitize-window-1.diff\n\nI can't see any reason why there's an interface to open this dialog and nothing else (nsIMailGlue), so I got rid of it.\n\nI also don't know why a new MailGlue object is created when .getService is called (this is the real problem here), but that's irrelevant after this patch."}, {"count": 6, "is_private": false, "tags": [], "bug_id": 1639415, "author": "mkmelin+mozilla@iki.fi", "text": "Comment on attachment 9156617\n1639415-sanitize-window-1.diff\n\nReview of attachment 9156617:\n-----------------------------------------------------------------\n\nInteresting... :) Very old cruft I suppose. r=mkmelin", "id": 14882408, "creator": "mkmelin+mozilla@iki.fi", "attachment_id": 9156617, "time": "2020-06-15T07:29:22Z", "raw_text": "Review of attachment 9156617:\n-----------------------------------------------------------------\n\nInteresting... :) Very old cruft I suppose. r=mkmelin", "creation_time": "2020-06-15T07:29:22Z"}, {"text": "Pushed by mkmelin@iki.fi:\nhttps://hg.mozilla.org/comm-central/rev/43b5533bb521\nFix \"Clear Recent History\" window. r=mkmelin DONTBUILD", "id": 14882621, "creator": "pulsebot@bots.tld", "attachment_id": null, "creation_time": "2020-06-15T10:57:18Z", "is_private": false, "count": 7, "tags": [], "bug_id": 1639415, "author": "pulsebot@bots.tld", "time": "2020-06-15T10:57:18Z", "raw_text": "Pushed by mkmelin@iki.fi:\nhttps://hg.mozilla.org/comm-central/rev/43b5533bb521\nFix \"Clear Recent History\" window. r=mkmelin DONTBUILD"}, {"raw_text": "[Approval Request Comment]\nRegression caused by (bug #): unknown\nUser impact if declined: clear recent history dialog unusable\nTesting completed (on c-c, etc.): on c-c since yesterday\nRisk to taking this patch (and alternatives if risky): minor", "creation_time": "2020-06-15T23:43:04Z", "time": "2020-06-15T23:43:04Z", "attachment_id": 9156617, "creator": "geoff@thunderbird.net", "author": "geoff@thunderbird.net", "id": 14883866, "text": "Comment on attachment 9156617\n1639415-sanitize-window-1.diff\n\n[Approval Request Comment]\nRegression caused by (bug #): unknown\nUser impact if declined: clear recent history dialog unusable\nTesting completed (on c-c, etc.): on c-c since yesterday\nRisk to taking this patch (and alternatives if risky): minor", "bug_id": 1639415, "tags": [], "count": 8, "is_private": false}, {"bug_id": 1639415, "tags": [], "count": 9, "is_private": false, "author": "vseerror@lehigh.edu", "id": 14883911, "text": "Comment on attachment 9156617\n1639415-sanitize-window-1.diff\n\nApproved for beta", "time": "2020-06-16T00:24:30Z", "creator": "vseerror@lehigh.edu", "attachment_id": 9156617, "raw_text": "Approved for beta", "creation_time": "2020-06-16T00:24:30Z"}, {"bug_id": 1639415, "tags": ["bugherder", "uplift"], "is_private": false, "count": 10, "author": "geoff@thunderbird.net", "time": "2020-06-16T02:05:29Z", "raw_text": "Thunderbird 78.0b2:\nhttps://hg.mozilla.org/releases/comm-beta/rev/db11539cc578", "text": "Thunderbird 78.0b2:\nhttps://hg.mozilla.org/releases/comm-beta/rev/db11539cc578", "id": 14883988, "attachment_id": null, "creator": "geoff@thunderbird.net", "creation_time": "2020-06-16T02:05:29Z"}, {"author": "mark_needham@gmx.com", "tags": [], "bug_id": 1639415, "is_private": false, "count": 11, "raw_text": "Can confirm FIXED in released Thunderbird 78.0b2 - 20200616103211\n\nthank you all", "time": "2020-06-18T06:50:56Z", "id": 14888537, "text": "Can confirm FIXED in released Thunderbird 78.0b2 - 20200616103211\n\nthank you all", "creation_time": "2020-06-18T06:50:56Z", "attachment_id": null, "creator": "mark_needham@gmx.com"}]}}, "comments": {}}