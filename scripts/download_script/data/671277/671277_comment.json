{"comments": {}, "bugs": {"671277": {"comments": [{"count": 0, "creator": "nerio.dacanal@unipd.it", "is_private": false, "time": "2011-07-13T15:17:19Z", "bug_id": 671277, "tags": [], "text": "User Agent: Mozilla/5.0 (X11; Linux i686; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110622105737\n\nSteps to reproduce:\n\nI have the necessity of using firefox 5 directly on Xorg without window manager (a kind of kiosk mode). \n\n\nActual results:\n\nAll goes good but doesn't allow to select an option in dropdown menu. When I select a menu, it appear the dropdown menu but it disappear as soon as I move the mouse pointer down to select the correct entry. This happens with the firefox menu and with \"select object\" on the html pages. \nIt worked fine with  firefox 2.* and 3.* \nThis worked good with firefox 2.* and 3.*\nI tried it with Linux Fedora 13, Fedora 14 and Fedora 15.", "author": "nerio.dacanal@unipd.it", "creation_time": "2011-07-13T15:17:19Z", "raw_text": "User Agent: Mozilla/5.0 (X11; Linux i686; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110622105737\n\nSteps to reproduce:\n\nI have the necessity of using firefox 5 directly on Xorg without window manager (a kind of kiosk mode). \n\n\nActual results:\n\nAll goes good but doesn't allow to select an option in dropdown menu. When I select a menu, it appear the dropdown menu but it disappear as soon as I move the mouse pointer down to select the correct entry. This happens with the firefox menu and with \"select object\" on the html pages. \nIt worked fine with  firefox 2.* and 3.* \nThis worked good with firefox 2.* and 3.*\nI tried it with Linux Fedora 13, Fedora 14 and Fedora 15.", "attachment_id": null, "id": 5588975}, {"count": 1, "is_private": false, "creator": "mozilla@ahlblom.eu", "text": "Do you have a test case or an URL to a page that demonstrates the problem?", "bug_id": 671277, "time": "2011-07-13T16:50:41Z", "tags": [], "creation_time": "2011-07-13T16:50:41Z", "author": "mozilla@ahlblom.eu", "raw_text": "Do you have a test case or an URL to a page that demonstrates the problem?", "attachment_id": null, "id": 5589213}, {"count": 2, "creator": "nerio.dacanal@unipd.it", "is_private": false, "tags": [], "time": "2011-07-14T10:24:53Z", "bug_id": 671277, "text": "My setup of the system is:\n\nFedora:\nI create the user \"test\" and in his home I put the file .Xclients with\nmode 755\n\n$ cat /home/test/.Xclients\n#!/bin/bash\nfirefox\n\nThen in /etc/X11/xinit/xinitrc.d/ I create the script 00-kiosk-user.sh\n\n$cat /etc/X11/xinit/xinitrc.d/00-kiosk-user.sh\n#!/bin/sh\n\nif [ \"$USER\" = \"test\" ] || [ \"$USER\" = \"kiosk\" ]; then\n   exec -l $SHELL -c \"$CK_XINIT_SESSION $SSH_AGENT $HOME/.Xclients\"\nfi\n\nAt this point when you login as user test firefox is started without\nany window manager nor window decorator.\nBrowsing works fine, except that it is not possible to select options.\nFor instance try this link:\nhttp://www.w3schools.com/html/tryit.asp?filename=tryhtml_select2\nIt's also not possible to select any item in the firefox menu\n\nThe same beahviour is present in Ubuntu (tested 9.10, 10.04). There\nthe kiosk configuration is:\nput the file .xsessionrc (executable in the user home)\n\n$ cat /home/test/.xsessionrc\n#!/bin/bash\nfirefox\n\nand login as user test.\nThank you", "author": "nerio.dacanal@unipd.it", "creation_time": "2011-07-14T10:24:53Z", "raw_text": "My setup of the system is:\n\nFedora:\nI create the user \"test\" and in his home I put the file .Xclients with\nmode 755\n\n$ cat /home/test/.Xclients\n#!/bin/bash\nfirefox\n\nThen in /etc/X11/xinit/xinitrc.d/ I create the script 00-kiosk-user.sh\n\n$cat /etc/X11/xinit/xinitrc.d/00-kiosk-user.sh\n#!/bin/sh\n\nif [ \"$USER\" = \"test\" ] || [ \"$USER\" = \"kiosk\" ]; then\n   exec -l $SHELL -c \"$CK_XINIT_SESSION $SSH_AGENT $HOME/.Xclients\"\nfi\n\nAt this point when you login as user test firefox is started without\nany window manager nor window decorator.\nBrowsing works fine, except that it is not possible to select options.\nFor instance try this link:\nhttp://www.w3schools.com/html/tryit.asp?filename=tryhtml_select2\nIt's also not possible to select any item in the firefox menu\n\nThe same beahviour is present in Ubuntu (tested 9.10, 10.04). There\nthe kiosk configuration is:\nput the file .xsessionrc (executable in the user home)\n\n$ cat /home/test/.xsessionrc\n#!/bin/bash\nfirefox\n\nand login as user test.\nThank you", "attachment_id": null, "id": 5591000}, {"id": 5591444, "attachment_id": null, "raw_text": "I can reproduce the problem.\nI'm seeing a call to focus_out_event_cb() on the top-level widget\nwhen moving the mouse outside the combobox button, which leads to\nthe dropdown menu being closed.  The problem also occurs for the\ncontext menu, window menus and autocomplete menus - as soon as\nyou move the mouse the menu is closed.", "author": "MatsPalmgren_bugz@use.startmail.com", "creation_time": "2011-07-14T16:15:34Z", "time": "2011-07-14T16:15:34Z", "bug_id": 671277, "tags": [], "text": "I can reproduce the problem.\nI'm seeing a call to focus_out_event_cb() on the top-level widget\nwhen moving the mouse outside the combobox button, which leads to\nthe dropdown menu being closed.  The problem also occurs for the\ncontext menu, window menus and autocomplete menus - as soon as\nyou move the mouse the menu is closed.", "creator": "MatsPalmgren_bugz@use.startmail.com", "is_private": false, "count": 3}, {"creation_time": "2011-07-15T00:13:14Z", "author": "karlt@mozbugz.karlt.net", "text": "*** Bug 671532 has been marked as a duplicate of this bug. ***", "tags": [], "time": "2011-07-15T00:13:14Z", "is_private": false, "creator": "karlt@mozbugz.karlt.net", "id": 5592658, "attachment_id": null, "raw_text": "", "bug_id": 671277, "count": 4}, {"raw_text": "How well did Firefox 3.* work with without a window manager?\nCould you still type in the location bar if the pointer was below the bar and the dropdown opened under the pointer while typing?\n\nCan you describe why it is important to not have a window manager?", "attachment_id": null, "id": 5592664, "count": 5, "is_private": false, "creator": "karlt@mozbugz.karlt.net", "text": "How well did Firefox 3.* work with without a window manager?\nCould you still type in the location bar if the pointer was below the bar and the dropdown opened under the pointer while typing?\n\nCan you describe why it is important to not have a window manager?", "tags": [], "bug_id": 671277, "time": "2011-07-15T00:16:29Z", "creation_time": "2011-07-15T00:16:29Z", "author": "karlt@mozbugz.karlt.net"}, {"id": 5593150, "attachment_id": null, "raw_text": "Firefox 3.* works fine with and without a window manager for our needs.\n\n> Could you still type in the location bar if the pointer was below the\n> bar and the dropdown opened under the pointer while typing?\nNo, without a window manager I can't. I have to re-focus the location bar \nwith the mouse .\n\nI work at Padua University in a classroom with 150 Linux Fedora\nworkstations and we need to configure it for hosting online exams.\nTo make the working environment as simple as possible and to limit the\nactions the students can do the best solution was to use Firefox just\non top of Xorg, with a custom xul interface that I've built without\nmenubar neither location bar and with some personalized buttons.\n\nIt's 5 years we are using this solution and it fits exactly our needs\nthanks to the great customization the Firefox browser offers.", "author": "nerio.dacanal@unipd.it", "creation_time": "2011-07-15T09:14:18Z", "time": "2011-07-15T09:14:18Z", "tags": [], "text": "Firefox 3.* works fine with and without a window manager for our needs.\n\n> Could you still type in the location bar if the pointer was below the\n> bar and the dropdown opened under the pointer while typing?\nNo, without a window manager I can't. I have to re-focus the location bar \nwith the mouse .\n\nI work at Padua University in a classroom with 150 Linux Fedora\nworkstations and we need to configure it for hosting online exams.\nTo make the working environment as simple as possible and to limit the\nactions the students can do the best solution was to use Firefox just\non top of Xorg, with a custom xul interface that I've built without\nmenubar neither location bar and with some personalized buttons.\n\nIt's 5 years we are using this solution and it fits exactly our needs\nthanks to the great customization the Firefox browser offers.", "creator": "nerio.dacanal@unipd.it", "is_private": false, "bug_id": 671277, "count": 6}, {"id": 5649944, "raw_text": "I also get this problem if I use a window manager but turn off the window decoration (as I'm using firefox in a kiosk enviroment it's necessary to have no title bar etc). evilwm fixed the problem until i set the border width to 0.", "attachment_id": null, "time": "2011-08-12T14:58:07Z", "bug_id": 671277, "tags": [], "text": "I also get this problem if I use a window manager but turn off the window decoration (as I'm using firefox in a kiosk enviroment it's necessary to have no title bar etc). evilwm fixed the problem until i set the border width to 0.", "author": "ianw21@hotmail.com", "creation_time": "2011-08-12T14:58:07Z", "count": 7, "creator": "ianw21@hotmail.com", "is_private": false}, {"id": 5651559, "attachment_id": null, "raw_text": "ianw21, can you confirm, please, whether you are talking about result 1 and/or 2 in bug 671532 comment 0?", "creation_time": "2011-08-13T08:44:18Z", "author": "karlt@mozbugz.karlt.net", "text": "ianw21, can you confirm, please, whether you are talking about result 1 and/or 2 in bug 671532 comment 0?", "bug_id": 671277, "tags": [], "time": "2011-08-13T08:44:18Z", "is_private": false, "creator": "karlt@mozbugz.karlt.net", "count": 8}, {"id": 5653663, "attachment_id": null, "raw_text": "Running \"evilwm -bw 0\" and navigating to www.facebook.com and trying to select the Birthday dropdowns (month, day and year order):\n\n- Firefox menus are working ok (result 2 from 671532)\n- The html dropdown menus on the webpage are not (result 1). When I click on the month dropdown, the menu appears in the top left of the screen and goes away when I try to select anything from it. If I then click on the Day dropdown, the menu usually appears at the top left but only goes away whan I click anywhere but on the menu. Occassionally the Day dropdown briefly appears at the top left then moves to the correct location and I can select an item from it.\n\nNote, this is when I am running firefox at full screen resolution (1024x768).\n\nIf I change the main window size by editing localstore.rdf then I get inconsistent html dropdown behaviour only for sizes 1024x767, 1023x768, 1024x767 and usually 1024x766. \n\nThe menus work correctly with sizes 1022x766 and smaller.", "creation_time": "2011-08-15T08:52:42Z", "author": "ianw21@hotmail.com", "text": "Running \"evilwm -bw 0\" and navigating to www.facebook.com and trying to select the Birthday dropdowns (month, day and year order):\n\n- Firefox menus are working ok (result 2 from 671532)\n- The html dropdown menus on the webpage are not (result 1). When I click on the month dropdown, the menu appears in the top left of the screen and goes away when I try to select anything from it. If I then click on the Day dropdown, the menu usually appears at the top left but only goes away whan I click anywhere but on the menu. Occassionally the Day dropdown briefly appears at the top left then moves to the correct location and I can select an item from it.\n\nNote, this is when I am running firefox at full screen resolution (1024x768).\n\nIf I change the main window size by editing localstore.rdf then I get inconsistent html dropdown behaviour only for sizes 1024x767, 1023x768, 1024x767 and usually 1024x766. \n\nThe menus work correctly with sizes 1022x766 and smaller.", "bug_id": 671277, "time": "2011-08-15T08:52:42Z", "tags": [], "is_private": false, "creator": "ianw21@hotmail.com", "count": 9}, {"raw_text": "Thanks, ianw21.  That sounds like bug 665540, which at the moment is fixed only in Nightly builds.", "attachment_id": null, "id": 5653704, "count": 10, "is_private": false, "creator": "karlt@mozbugz.karlt.net", "text": "Thanks, ianw21.  That sounds like bug 665540, which at the moment is fixed only in Nightly builds.", "tags": [], "time": "2011-08-15T09:44:19Z", "bug_id": 671277, "creation_time": "2011-08-15T09:44:19Z", "author": "karlt@mozbugz.karlt.net"}, {"raw_text": "I've just tried the nightly builds of 8.0a1 and 7.0a2. They do fix the placement problem (though in 7.0a2, the menu initially appears at the top left but then moves to the correct location). \n\nHowever, I still cannot select anything from the dropdown menu with the mouse unless I have a window manager running.", "attachment_id": null, "id": 5653951, "count": 11, "creator": "ianw21@hotmail.com", "is_private": false, "bug_id": 671277, "time": "2011-08-15T13:41:38Z", "tags": [], "text": "I've just tried the nightly builds of 8.0a1 and 7.0a2. They do fix the placement problem (though in 7.0a2, the menu initially appears at the top left but then moves to the correct location). \n\nHowever, I still cannot select anything from the dropdown menu with the mouse unless I have a window manager running.", "author": "ianw21@hotmail.com", "creation_time": "2011-08-15T13:41:38Z"}, {"time": "2011-08-16T01:52:10Z", "tags": [], "text": "(In reply to ianw21 from comment #11)\n> However, I still cannot select anything from the dropdown menu with the\n> mouse unless I have a window manager running.\n\nOK.  That is this bug report, thanks.", "author": "karlt@mozbugz.karlt.net", "creation_time": "2011-08-16T01:52:10Z", "creator": "karlt@mozbugz.karlt.net", "is_private": false, "id": 5655890, "raw_text": "(In reply to ianw21 from comment #11)\n> However, I still cannot select anything from the dropdown menu with the\n> mouse unless I have a window manager running.\n\nOK.  That is this bug report, thanks.", "attachment_id": null, "bug_id": 671277, "count": 12}, {"creation_time": "2011-08-30T11:23:14Z", "author": "ianw21@hotmail.com", "text": "I've built various firefox versions now and found that this problem first appeared in firefox 4.0 b12. The fix for bug 545429 seems to be the cause (removing GrabKeyboard stuff from widget/src/gtk2/nsWindow.cpp). I reapplied the grabkeyboard stuff to later versions of firefox (along with the fix for bug 665540) and dropdowns now works correctly (and as we are in a locked down environment and block other windows like the file open dialog we have not encountered the things that the bugfix was intended to fix).", "bug_id": 671277, "tags": [], "time": "2011-08-30T11:23:14Z", "is_private": false, "creator": "ianw21@hotmail.com", "count": 13, "id": 5687363, "attachment_id": null, "raw_text": "I've built various firefox versions now and found that this problem first appeared in firefox 4.0 b12. The fix for bug 545429 seems to be the cause (removing GrabKeyboard stuff from widget/src/gtk2/nsWindow.cpp). I reapplied the grabkeyboard stuff to later versions of firefox (along with the fix for bug 665540) and dropdowns now works correctly (and as we are in a locked down environment and block other windows like the file open dialog we have not encountered the things that the bugfix was intended to fix)."}, {"is_private": false, "creator": "stolowski@gmail.com", "creation_time": "2011-10-01T18:34:16Z", "author": "stolowski@gmail.com", "text": "I can confirm the problem with Firefox 7.0.1 and Openbox window manager, when window decorations are disabled OR firefox fullscreen mode (F11) is activated.", "time": "2011-10-01T18:34:16Z", "tags": [], "attachment_id": null, "raw_text": "I can confirm the problem with Firefox 7.0.1 and Openbox window manager, when window decorations are disabled OR firefox fullscreen mode (F11) is activated.", "id": 5752026, "count": 14, "bug_id": 671277}, {"creator": "mounir@lamouri.fr", "is_private": false, "time": "2011-10-04T09:30:15Z", "tags": [], "text": "(In reply to Pawel Stolowski from comment #14)\n> I can confirm the problem with Firefox 7.0.1 and Openbox window manager,\n> when window decorations are disabled OR firefox fullscreen mode (F11) is\n> activated.\n\nI'm using Firefox 7.0.1 with Openbox and I can't reproduce this in fullscreen mode. I didn't try disabling the decorations though.", "author": "mounir@lamouri.fr", "creation_time": "2011-10-04T09:30:15Z", "raw_text": "(In reply to Pawel Stolowski from comment #14)\n> I can confirm the problem with Firefox 7.0.1 and Openbox window manager,\n> when window decorations are disabled OR firefox fullscreen mode (F11) is\n> activated.\n\nI'm using Firefox 7.0.1 with Openbox and I can't reproduce this in fullscreen mode. I didn't try disabling the decorations though.", "attachment_id": null, "id": 5756809, "count": 15, "bug_id": 671277}, {"attachment_id": null, "raw_text": "I also have this problem. I'm using Firefox 9.0.1 on OpenBSD 5.1 and, if I'm not using a window manager, I can't select anything from dropdown menu. For debug purpose the problem can be replicated using Xephyr:\n\n$ Xephyr :1 -screen 1024x768 &\n$ DISPLAY=:1.0 firefox -width 1024 -height 768\n\nExpected behaviour: can select items from dropdown menu\nActual results: cannot select items from dropdown menu", "id": 6658262, "is_private": false, "creator": "tony@mailinator.com", "count": 16, "creation_time": "2012-09-23T08:13:41Z", "author": "tony@mailinator.com", "text": "I also have this problem. I'm using Firefox 9.0.1 on OpenBSD 5.1 and, if I'm not using a window manager, I can't select anything from dropdown menu. For debug purpose the problem can be replicated using Xephyr:\n\n$ Xephyr :1 -screen 1024x768 &\n$ DISPLAY=:1.0 firefox -width 1024 -height 768\n\nExpected behaviour: can select items from dropdown menu\nActual results: cannot select items from dropdown menu", "tags": [], "time": "2012-09-23T08:13:41Z", "bug_id": 671277}, {"raw_text": "(In reply to tony from comment #16)\n> I also have this problem. I'm using Firefox 9.0.1 on OpenBSD 5.1 and, if I'm\n> not using a window manager, I can't select anything from dropdown menu. For\n> debug purpose the problem can be replicated using Xephyr:\n> \n> $ Xephyr :1 -screen 1024x768 &\n> $ DISPLAY=:1.0 firefox -width 1024 -height 768\n> \n> Expected behaviour: can select items from dropdown menu\n> Actual results: cannot select items from dropdown menu\n\nI tried a more recent version of Firefox and I confirm the problem with Firefox 15.0.1 on OpenBSD -current (i386).", "attachment_id": null, "id": 6660506, "count": 17, "creator": "tony@mailinator.com", "is_private": false, "tags": [], "time": "2012-09-24T15:25:33Z", "bug_id": 671277, "text": "(In reply to tony from comment #16)\n> I also have this problem. I'm using Firefox 9.0.1 on OpenBSD 5.1 and, if I'm\n> not using a window manager, I can't select anything from dropdown menu. For\n> debug purpose the problem can be replicated using Xephyr:\n> \n> $ Xephyr :1 -screen 1024x768 &\n> $ DISPLAY=:1.0 firefox -width 1024 -height 768\n> \n> Expected behaviour: can select items from dropdown menu\n> Actual results: cannot select items from dropdown menu\n\nI tried a more recent version of Firefox and I confirm the problem with Firefox 15.0.1 on OpenBSD -current (i386).", "author": "tony@mailinator.com", "creation_time": "2012-09-24T15:25:33Z"}, {"raw_text": "Same problem with Firefox 15.0.1 on Slackware Linux 14.0 (i386).\n\nAnybody willing to test if this bug can be replicated on his machine? This bug has been listed as UNCONFIRMED for more than a year...", "attachment_id": null, "id": 6692924, "creator": "tony@mailinator.com", "is_private": false, "tags": [], "time": "2012-10-03T12:40:20Z", "text": "Same problem with Firefox 15.0.1 on Slackware Linux 14.0 (i386).\n\nAnybody willing to test if this bug can be replicated on his machine? This bug has been listed as UNCONFIRMED for more than a year...", "author": "tony@mailinator.com", "creation_time": "2012-10-03T12:40:20Z", "count": 18, "bug_id": 671277}, {"raw_text": "(In reply to tony from comment #18)\n> Same problem with Firefox 15.0.1 on Slackware Linux 14.0 (i386).\n> \n> Anybody willing to test if this bug can be replicated on his machine? This\n> bug has been listed as UNCONFIRMED for more than a year...\n\nSame problem with Firefox 15.0.1 on Fedora 17", "attachment_id": null, "id": 6707139, "count": 19, "creator": "nerio.dacanal@unipd.it", "is_private": false, "bug_id": 671277, "tags": [], "time": "2012-10-08T09:47:30Z", "text": "(In reply to tony from comment #18)\n> Same problem with Firefox 15.0.1 on Slackware Linux 14.0 (i386).\n> \n> Anybody willing to test if this bug can be replicated on his machine? This\n> bug has been listed as UNCONFIRMED for more than a year...\n\nSame problem with Firefox 15.0.1 on Fedora 17", "author": "nerio.dacanal@unipd.it", "creation_time": "2012-10-08T09:47:30Z"}, {"bug_id": 671277, "count": 20, "id": 8389312, "attachment_id": null, "raw_text": "Same problem experienced with Firefox 19.02 and Firefox 25.0 on Ubuntu 12.04 (i386).", "creation_time": "2014-02-07T16:41:34Z", "author": "sanicki@yahoo.com", "text": "Same problem experienced with Firefox 19.02 and Firefox 25.0 on Ubuntu 12.04 (i386).", "time": "2014-02-07T16:41:34Z", "tags": [], "is_private": false, "creator": "sanicki@yahoo.com"}, {"text": "Reproduced with both Firefox and Chromium running directly via xinit in identical ArchLinux snapshots on ArchLinux host.\nRunning either via i3 instead solves the flicker/disappear menus.", "time": "2019-01-27T22:09:01Z", "tags": [], "bug_id": 671277, "creation_time": "2019-01-27T22:09:01Z", "author": "mu3en@zenitation.com", "count": 21, "is_private": false, "creator": "mu3en@zenitation.com", "id": 13886834, "raw_text": "Reproduced with both Firefox and Chromium running directly via xinit in identical ArchLinux snapshots on ArchLinux host.\nRunning either via i3 instead solves the flicker/disappear menus.", "attachment_id": null}]}}}