{"bugs": {"1630229": {"comments": [{"author": "etoop@mozilla.com", "tags": [], "creator": "etoop@mozilla.com", "attachment_id": null, "id": 14756656, "bug_id": 1630229, "count": 0, "is_private": false, "raw_text": "This bug is for crash report bp-8479b20a-ebbf-4cad-a4bc-424330200415.\n\n```\nJava stack trace:\n\njava.lang.AssertionError\n\tat org.mozilla.gecko.process.GeckoProcessManager$ChildConnection.bind(GeckoProcessManager.java:19)\n\tat org.mozilla.gecko.process.GeckoProcessManager.start(GeckoProcessManager.java:7)\n\tat org.mozilla.gecko.process.GeckoProcessManager.lambda$start$5(GeckoProcessManager.java:2)\n\tat org.mozilla.gecko.process.-$$Lambda$GeckoProcessManager$49HYY0DiXCj5gwg0g9ecfGUvYqc.run(Unknown Source:20)\n\tat org.mozilla.gecko.util.XPCOMEventTarget$JNIRunnable.run(XPCOMEventTarget.java:1)", "text": "This bug is for crash report bp-8479b20a-ebbf-4cad-a4bc-424330200415.\n\n```\nJava stack trace:\n\njava.lang.AssertionError\n\tat org.mozilla.gecko.process.GeckoProcessManager$ChildConnection.bind(GeckoProcessManager.java:19)\n\tat org.mozilla.gecko.process.GeckoProcessManager.start(GeckoProcessManager.java:7)\n\tat org.mozilla.gecko.process.GeckoProcessManager.lambda$start$5(GeckoProcessManager.java:2)\n\tat org.mozilla.gecko.process.-$$Lambda$GeckoProcessManager$49HYY0DiXCj5gwg0g9ecfGUvYqc.run(Unknown Source:20)\n\tat org.mozilla.gecko.util.XPCOMEventTarget$JNIRunnable.run(XPCOMEventTarget.java:1)", "time": "2020-04-15T12:26:30Z", "creation_time": "2020-04-15T12:26:30Z"}, {"is_private": false, "raw_text": "Aaron, this isn't happening a ton, but it seems like it may be the new signature for our old friend.", "time": "2020-04-16T15:50:05Z", "count": 1, "id": 14759345, "bug_id": 1630229, "creator": "snorp@snorp.net", "text": "Aaron, this isn't happening a ton, but it seems like it may be the new signature for our old friend.", "creation_time": "2020-04-16T15:50:05Z", "author": "snorp@snorp.net", "tags": [], "attachment_id": null}, {"creator": "bugzilla@dblohm7.ca", "id": 14761962, "bug_id": 1630229, "count": 2, "is_private": false, "time": "2020-04-17T17:31:31Z", "raw_text": "My best guess here is that we need other processes besides content processing calling `markAsDead`, otherwise Gecko tries to restart the non-content process before the launcher thread is able to process the notification that the binder connection was lost.", "tags": [], "author": "bugzilla@dblohm7.ca", "attachment_id": null, "creation_time": "2020-04-17T17:31:31Z", "text": "My best guess here is that we need other processes besides content processing calling `markAsDead`, otherwise Gecko tries to restart the non-content process before the launcher thread is able to process the notification that the binder connection was lost."}, {"text": "Created attachment 9141407\nBug 1630229: Part 1 - Ensure that GMP process notifies GeckoView when its actor is destroyed; r=jya\n\n\nWhen a GMP process's top-level actor is destroyed, we need to relay that\ninformation up to GeckoView's Java layer. We only want to do this when the\nprocess had previously been successfully started.", "creation_time": "2020-04-17T20:32:41Z", "author": "bugzilla@dblohm7.ca", "tags": [], "attachment_id": 9141407, "count": 3, "is_private": false, "raw_text": "\nWhen a GMP process's top-level actor is destroyed, we need to relay that\ninformation up to GeckoView's Java layer. We only want to do this when the\nprocess had previously been successfully started.", "time": "2020-04-17T20:32:41Z", "creator": "bugzilla@dblohm7.ca", "id": 14762418, "bug_id": 1630229}, {"attachment_id": 9141408, "author": "bugzilla@dblohm7.ca", "tags": [], "text": "Created attachment 9141408\nBug 1630229: Part 2 - Ensure that the socket process notifies GeckoView when its actor is destroyed; r=#necko-reviewers\n\n\nWhen the Socket process's top-level actor is destroyed, we need to relay that\ninformation up to GeckoView's Java layer.\n\nDepends on D71405", "creation_time": "2020-04-17T20:32:49Z", "bug_id": 1630229, "id": 14762419, "creator": "bugzilla@dblohm7.ca", "raw_text": "\nWhen the Socket process's top-level actor is destroyed, we need to relay that\ninformation up to GeckoView's Java layer.\n\nDepends on D71405", "time": "2020-04-17T20:32:49Z", "is_private": false, "count": 4}, {"is_private": false, "time": "2020-04-21T19:23:41Z", "raw_text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/76a6d3885038\nPart 1 - Ensure that GMP process notifies GeckoView when its actor is destroyed; r=jya\nhttps://hg.mozilla.org/integration/autoland/rev/c72a435a5f5c\nPart 2 - Ensure that the socket process notifies GeckoView when its actor is destroyed; r=necko-reviewers,valentin", "count": 5, "id": 14770047, "bug_id": 1630229, "creator": "pulsebot@bots.tld", "text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/76a6d3885038\nPart 1 - Ensure that GMP process notifies GeckoView when its actor is destroyed; r=jya\nhttps://hg.mozilla.org/integration/autoland/rev/c72a435a5f5c\nPart 2 - Ensure that the socket process notifies GeckoView when its actor is destroyed; r=necko-reviewers,valentin", "creation_time": "2020-04-21T19:23:41Z", "tags": [], "author": "pulsebot@bots.tld", "attachment_id": null}, {"id": 14770867, "bug_id": 1630229, "creator": "aiakab@mozilla.com", "is_private": false, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/76a6d3885038\nhttps://hg.mozilla.org/mozilla-central/rev/c72a435a5f5c", "time": "2020-04-22T04:16:46Z", "count": 6, "author": "aiakab@mozilla.com", "tags": ["bugherder"], "attachment_id": null, "text": "https://hg.mozilla.org/mozilla-central/rev/76a6d3885038\nhttps://hg.mozilla.org/mozilla-central/rev/c72a435a5f5c", "creation_time": "2020-04-22T04:16:46Z"}, {"tags": [], "author": "bugzilla@dblohm7.ca", "attachment_id": null, "creator": "bugzilla@dblohm7.ca", "id": 14785205, "bug_id": 1630229, "count": 7, "is_private": false, "creation_time": "2020-04-28T22:41:18Z", "time": "2020-04-28T22:41:18Z", "text": "Looks like we're still seeing this. Reopening.", "raw_text": "Looks like we're still seeing this. Reopening."}, {"time": "2020-04-28T22:49:41Z", "raw_text": "", "is_private": false, "count": 8, "bug_id": 1630229, "id": 14785212, "creator": "bugzilla@dblohm7.ca", "creation_time": "2020-04-28T22:49:41Z", "text": "Created attachment 9144173\nBug 1630229: Part 3 - Include process type in AssertionError message; r=#geckoview-reviewers", "attachment_id": 9144173, "tags": [], "author": "bugzilla@dblohm7.ca"}, {"attachment_id": null, "author": "pulsebot@bots.tld", "tags": [], "creation_time": "2020-04-30T15:30:03Z", "text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/877d47b23fff\nPart 3 - Include process type in AssertionError message; r=geckoview-reviewers,agi", "bug_id": 1630229, "id": 14788999, "creator": "pulsebot@bots.tld", "raw_text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/877d47b23fff\nPart 3 - Include process type in AssertionError message; r=geckoview-reviewers,agi", "time": "2020-04-30T15:30:03Z", "is_private": false, "count": 9}, {"author": "cbrindusan@mozilla.com", "tags": ["bugherder"], "creator": "cbrindusan@mozilla.com", "attachment_id": null, "id": 14790722, "bug_id": 1630229, "count": 10, "is_private": false, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/877d47b23fff", "creation_time": "2020-05-01T09:46:07Z", "time": "2020-05-01T09:46:07Z", "text": "https://hg.mozilla.org/mozilla-central/rev/877d47b23fff"}, {"id": 14805782, "bug_id": 1630229, "author": "bugzilla@dblohm7.ca", "tags": [], "creator": "bugzilla@dblohm7.ca", "attachment_id": 9146957, "is_private": false, "raw_text": "\n1. `GeckoProcessManager.ConnectionManager.onStartComplete` is called later than\n   it ideally should be; it would be better to do this as soon as binding is\n   complete, rather than as soon as `start` is complete. To accomplish this:\n\n* We rename `onStartComplete` to `onBindComplete` and call it as soon as we\n  have successfully bound.\n* We call `IChildProcess.getPid` as soon as we're bound and immediately clean\n  up if that fails.\n* This implies that `getPid` should always have a pid and should not need to\n  call into `IChildProcess` during the remaining lifetime of the connection.\n  This allows us to eliminate exception throwing from `getPid`, and thus we may\n  also remove `getPidFallible`.\n* This also means that we no longer need to explicitly call `getPid` in\n  `GeckoProcessManager.preload`.\n\n2. We also use `XPCOMEventTarget.runOnLauncherThread` so that we do not need to\n   bounce through the launcher thread's event queue unnecessarily.\n\n3. I noticed that we do not unbind the connection if the start fails but we\n   are not retrying. We should be unbinding regardless of whether we are going\n   to retry.", "time": "2020-05-08T22:57:13Z", "text": "Created attachment 9146957\nBug 1630229: Part 4 - Register ChildConnection after bind instead of start; r=#geckoview-reviewers\n\n\n1. `GeckoProcessManager.ConnectionManager.onStartComplete` is called later than\n   it ideally should be; it would be better to do this as soon as binding is\n   complete, rather than as soon as `start` is complete. To accomplish this:\n\n* We rename `onStartComplete` to `onBindComplete` and call it as soon as we\n  have successfully bound.\n* We call `IChildProcess.getPid` as soon as we're bound and immediately clean\n  up if that fails.\n* This implies that `getPid` should always have a pid and should not need to\n  call into `IChildProcess` during the remaining lifetime of the connection.\n  This allows us to eliminate exception throwing from `getPid`, and thus we may\n  also remove `getPidFallible`.\n* This also means that we no longer need to explicitly call `getPid` in\n  `GeckoProcessManager.preload`.\n\n2. We also use `XPCOMEventTarget.runOnLauncherThread` so that we do not need to\n   bounce through the launcher thread's event queue unnecessarily.\n\n3. I noticed that we do not unbind the connection if the start fails but we\n   are not retrying. We should be unbinding regardless of whether we are going\n   to retry.", "creation_time": "2020-05-08T22:57:13Z", "count": 11}, {"text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/73098ca189ff\nPart 4 - Register ChildConnection after bind instead of start; r=geckoview-reviewers,snorp", "creation_time": "2020-05-12T19:05:17Z", "author": "pulsebot@bots.tld", "tags": [], "attachment_id": null, "is_private": false, "raw_text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/73098ca189ff\nPart 4 - Register ChildConnection after bind instead of start; r=geckoview-reviewers,snorp", "time": "2020-05-12T19:05:17Z", "count": 12, "id": 14815173, "bug_id": 1630229, "creator": "pulsebot@bots.tld"}, {"count": 13, "text": "https://hg.mozilla.org/mozilla-central/rev/73098ca189ff", "time": "2020-05-13T03:50:53Z", "creation_time": "2020-05-13T03:50:53Z", "raw_text": "https://hg.mozilla.org/mozilla-central/rev/73098ca189ff", "is_private": false, "attachment_id": null, "creator": "apavel@mozilla.com", "tags": ["bugherder"], "author": "apavel@mozilla.com", "bug_id": 1630229, "id": 14815880}, {"bug_id": 1630229, "id": 14821281, "attachment_id": 9149153, "creator": "bugzilla@dblohm7.ca", "tags": [], "author": "bugzilla@dblohm7.ca", "creation_time": "2020-05-14T20:29:42Z", "time": "2020-05-14T20:29:42Z", "text": "Created attachment 9149153\nBug 1630229: Part 5 - GeckoProcessManager: When start fails, chain resolution of the result promise to the bind shutdown promise; r=#geckoview-reviewers\n\n\nCurrently `unbind()` is more or less synchronous, but since those semantics may\nchange in the future, for the sake of cleanliness we should ensure that our\nreaction is linked to `unbindResult`.", "raw_text": "\nCurrently `unbind()` is more or less synchronous, but since those semantics may\nchange in the future, for the sake of cleanliness we should ensure that our\nreaction is linked to `unbindResult`.", "is_private": false, "count": 14}, {"is_private": false, "creation_time": "2020-05-14T20:29:51Z", "text": "Created attachment 9149154\nBug 1630229: Part 6 - When attempting to bind a defunct connection, throw a BindException in non-debug builds; r=#geckoview-reviewers\n\n\nSince this is so common, let's reserve the `AssertionError` for debug builds\nand let our normal exception handling machinery deal with this failure.\nGeckoProcessManager will retry unbinding and restarting the process, which\nhopefully will mitigate the problem.\n\nDepends on D75414", "time": "2020-05-14T20:29:51Z", "raw_text": "\nSince this is so common, let's reserve the `AssertionError` for debug builds\nand let our normal exception handling machinery deal with this failure.\nGeckoProcessManager will retry unbinding and restarting the process, which\nhopefully will mitigate the problem.\n\nDepends on D75414", "count": 15, "id": 14821282, "bug_id": 1630229, "tags": [], "author": "bugzilla@dblohm7.ca", "attachment_id": 9149154, "creator": "bugzilla@dblohm7.ca"}, {"count": 16, "is_private": false, "raw_text": "\nI'm wondering whether Gecko's response to noticing that the child process was\nkilled is causing some notifications on the launcher thread to arrive out of\norder from others. Removing the kill since we can just let Android handle\nprocess termination.\n\nDepends on D75415", "time": "2020-05-14T20:30:00Z", "creator": "bugzilla@dblohm7.ca", "id": 14821284, "bug_id": 1630229, "creation_time": "2020-05-14T20:30:00Z", "text": "Created attachment 9149155\nBug 1630229: Part 7 - Remove explicit kill from GeckoProcessManager and just let Android do its thing; r=#geckoview-reviewers\n\n\nI'm wondering whether Gecko's response to noticing that the child process was\nkilled is causing some notifications on the launcher thread to arrive out of\norder from others. Removing the kill since we can just let Android handle\nprocess termination.\n\nDepends on D75415", "author": "bugzilla@dblohm7.ca", "tags": [], "attachment_id": 9149155}, {"bug_id": 1630229, "id": 14824533, "creator": "pulsebot@bots.tld", "attachment_id": null, "author": "pulsebot@bots.tld", "tags": [], "raw_text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0caead34be39\nPart 5 - GeckoProcessManager: When start fails, chain resolution of the result promise to the bind shutdown promise; r=geckoview-reviewers,agi", "time": "2020-05-15T19:54:33Z", "text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0caead34be39\nPart 5 - GeckoProcessManager: When start fails, chain resolution of the result promise to the bind shutdown promise; r=geckoview-reviewers,agi", "creation_time": "2020-05-15T19:54:33Z", "is_private": false, "count": 17}, {"count": 18, "raw_text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/42909f2f05d7\nPart 6 - When attempting to bind a defunct connection, throw a BindException in non-debug builds; r=geckoview-reviewers,agi\nhttps://hg.mozilla.org/integration/autoland/rev/0dbf4eb14160\nPart 7 - Remove explicit kill from GeckoProcessManager and just let Android do its thing; r=geckoview-reviewers,agi", "text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/42909f2f05d7\nPart 6 - When attempting to bind a defunct connection, throw a BindException in non-debug builds; r=geckoview-reviewers,agi\nhttps://hg.mozilla.org/integration/autoland/rev/0dbf4eb14160\nPart 7 - Remove explicit kill from GeckoProcessManager and just let Android do its thing; r=geckoview-reviewers,agi", "creation_time": "2020-05-15T22:13:30Z", "time": "2020-05-15T22:13:30Z", "is_private": false, "creator": "pulsebot@bots.tld", "attachment_id": null, "author": "pulsebot@bots.tld", "tags": [], "bug_id": 1630229, "id": 14824799}, {"is_private": false, "creation_time": "2020-05-15T23:36:09Z", "time": "2020-05-15T23:36:09Z", "text": "Will need Beta 77 uplift so we can pick this up in Fenix 5.1.", "raw_text": "Will need Beta 77 uplift so we can pick this up in Fenix 5.1.", "count": 19, "id": 14824917, "bug_id": 1630229, "tags": [], "author": "liucheia+bugzilla@gmail.com", "attachment_id": null, "creator": "liucheia+bugzilla@gmail.com"}, {"creator": "cbrindusan@mozilla.com", "attachment_id": null, "author": "cbrindusan@mozilla.com", "tags": ["bugherder"], "bug_id": 1630229, "id": 14825214, "count": 20, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/0caead34be39\nhttps://hg.mozilla.org/mozilla-central/rev/42909f2f05d7\nhttps://hg.mozilla.org/mozilla-central/rev/0dbf4eb14160", "text": "https://hg.mozilla.org/mozilla-central/rev/0caead34be39\nhttps://hg.mozilla.org/mozilla-central/rev/42909f2f05d7\nhttps://hg.mozilla.org/mozilla-central/rev/0dbf4eb14160", "creation_time": "2020-05-16T09:37:05Z", "time": "2020-05-16T09:37:05Z", "is_private": false}, {"creator": "bugzilla@dblohm7.ca", "attachment_id": 9146957, "author": "bugzilla@dblohm7.ca", "tags": [], "bug_id": 1630229, "id": 14826743, "count": 21, "raw_text": "### Beta/Release Uplift Approval Request\n* **User impact if declined**: Crashes on Android\n* **Is this code covered by automated tests?**: Yes\n* **Has the fix been verified in Nightly?**: Yes\n* **Needs manual test from QE?**: No\n* **If yes, steps to reproduce**: \n* **List of other uplifts needed**: None\n* **Risk to taking this patch**: Low\n* **Why is the change risky/not risky? (and alternatives if risky)**: Scope of changes is narrow and have been baking on Nightly for a few days.\n* **String changes made/needed**: None", "creation_time": "2020-05-18T06:11:57Z", "time": "2020-05-18T06:11:57Z", "text": "Comment on attachment 9146957\nBug 1630229: Part 4 - Register ChildConnection after bind instead of start; r=#geckoview-reviewers\n\n### Beta/Release Uplift Approval Request\n* **User impact if declined**: Crashes on Android\n* **Is this code covered by automated tests?**: Yes\n* **Has the fix been verified in Nightly?**: Yes\n* **Needs manual test from QE?**: No\n* **If yes, steps to reproduce**: \n* **List of other uplifts needed**: None\n* **Risk to taking this patch**: Low\n* **Why is the change risky/not risky? (and alternatives if risky)**: Scope of changes is narrow and have been baking on Nightly for a few days.\n* **String changes made/needed**: None", "is_private": false}, {"bug_id": 1630229, "id": 14827889, "creator": "pascalc@gmail.com", "time": "2020-05-18T07:54:29Z", "raw_text": "Fix for a Fenix top crash, uplift approved for 77 beta, thanks.", "is_private": false, "count": 22, "attachment_id": 9146957, "tags": [], "author": "pascalc@gmail.com", "creation_time": "2020-05-18T07:54:29Z", "text": "Comment on attachment 9146957\nBug 1630229: Part 4 - Register ChildConnection after bind instead of start; r=#geckoview-reviewers\n\nFix for a Fenix top crash, uplift approved for 77 beta, thanks."}, {"count": 23, "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/6f0057aae335\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/304e05ef476a\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/95891b8d9b7e\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/db057bf9fd24", "time": "2020-05-18T14:20:50Z", "creation_time": "2020-05-18T14:20:50Z", "raw_text": "https://hg.mozilla.org/releases/mozilla-beta/rev/6f0057aae335\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/304e05ef476a\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/95891b8d9b7e\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/db057bf9fd24", "is_private": false, "attachment_id": null, "creator": "jcristau@mozilla.com", "tags": ["bugherder", "uplift"], "author": "jcristau@mozilla.com", "bug_id": 1630229, "id": 14828574}, {"is_private": false, "text": "Hi!\nWhile testing Fenix Beta Build 5.1.0-beta.1 with Samsung Galaxy Tab S3 (Android 8), I received a crash, crash report: https://crash-stats.mozilla.org/report/index/458c7010-2311-41a4-9473-ec1ee0200520, that is indicated as being related with this issue.\n\nThis was reproducible only once.\n\nSteps to reproduce:\n1. Make Fenix your default browser;\n2. Leave Fenix in background for 10 minutes;\n3. Go to Gmail and tap on a link;\n\nExpected result:\nCustom tab opens.\n\nActual result:\nFenix crashed with the crash report https://crash-stats.mozilla.org/report/index/458c7010-2311-41a4-9473-ec1ee0200520.", "creation_time": "2020-05-20T11:54:03Z", "time": "2020-05-20T11:54:03Z", "raw_text": "Hi!\nWhile testing Fenix Beta Build 5.1.0-beta.1 with Samsung Galaxy Tab S3 (Android 8), I received a crash, crash report: https://crash-stats.mozilla.org/report/index/458c7010-2311-41a4-9473-ec1ee0200520, that is indicated as being related with this issue.\n\nThis was reproducible only once.\n\nSteps to reproduce:\n1. Make Fenix your default browser;\n2. Leave Fenix in background for 10 minutes;\n3. Go to Gmail and tap on a link;\n\nExpected result:\nCustom tab opens.\n\nActual result:\nFenix crashed with the crash report https://crash-stats.mozilla.org/report/index/458c7010-2311-41a4-9473-ec1ee0200520.", "count": 24, "id": 14833258, "bug_id": 1630229, "tags": [], "author": "eliza.balazs@softvision.ro", "attachment_id": null, "creator": "eliza.balazs@softvision.ro"}, {"text": "Thank you for the STR! That's very helpful! That particular signature should go away in subsequent builds, but this is an excellent indicator as to the root cause. I will investigate further.", "time": "2020-05-20T15:10:51Z", "creation_time": "2020-05-20T15:10:51Z", "raw_text": "Thank you for the STR! That's very helpful! That particular signature should go away in subsequent builds, but this is an excellent indicator as to the root cause. I will investigate further.", "is_private": false, "count": 25, "bug_id": 1630229, "id": 14833670, "attachment_id": null, "creator": "bugzilla@dblohm7.ca", "tags": [], "author": "bugzilla@dblohm7.ca"}, {"tags": [], "author": "bugzilla@dblohm7.ca", "attachment_id": null, "creation_time": "2020-05-21T16:33:01Z", "text": "Ugh! I'm just going to remove that `AssertionError` for now and add more stuff for investigating the root cause in follow-up bugs.", "id": 14835817, "bug_id": 1630229, "creator": "bugzilla@dblohm7.ca", "is_private": false, "time": "2020-05-21T16:33:01Z", "raw_text": "Ugh! I'm just going to remove that `AssertionError` for now and add more stuff for investigating the root cause in follow-up bugs.", "count": 26}, {"is_private": false, "text": "Created attachment 9150780\nBug 1630229: Part 8 - Stop throwing AssertionError for binding of defunct ServiceAllocator.InstanceInfo; r=#geckoview-reviewers\n\n\nI'm keeping this patch as simple as possible so that we can uplift to beta.\nI'll sort out the rest of this in follow-up bugs.", "creation_time": "2020-05-21T16:37:06Z", "time": "2020-05-21T16:37:06Z", "raw_text": "\nI'm keeping this patch as simple as possible so that we can uplift to beta.\nI'll sort out the rest of this in follow-up bugs.", "count": 27, "id": 14835823, "bug_id": 1630229, "tags": [], "author": "bugzilla@dblohm7.ca", "attachment_id": 9150780, "creator": "bugzilla@dblohm7.ca"}, {"id": 14836039, "bug_id": 1630229, "author": "pulsebot@bots.tld", "tags": [], "creator": "pulsebot@bots.tld", "attachment_id": null, "is_private": false, "raw_text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/e562d64f2bf9\nPart 8 - Stop throwing AssertionError for binding of defunct ServiceAllocator.InstanceInfo; r=geckoview-reviewers,owlish", "time": "2020-05-21T18:23:47Z", "text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/e562d64f2bf9\nPart 8 - Stop throwing AssertionError for binding of defunct ServiceAllocator.InstanceInfo; r=geckoview-reviewers,owlish", "creation_time": "2020-05-21T18:23:47Z", "count": 28}, {"raw_text": "Backed out changeset e562d64f2bf9 (bug 1630229) for lints failure on ServiceAllocator.java\n\nPush with failure: https://treeherder.mozilla.org/#/jobs?repo=autoland&selectedTaskRun=bLpGoMMYRTC2ZLtZ7PTY5g-0&fromchange=e562d64f2bf9a26db09e338b701f98d11e1d2629&searchStr=linting%2Copt%2Candroid%2Cgradle%2Ctests%2Csource-test-mozlint-android-lints%2Ca%28lints%29&tochange=c8e34e81ac8a1e359a64cc94ebeeb9132989a413\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/c8e34e81ac8a1e359a64cc94ebeeb9132989a413\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=303253758&repo=autoland&lineNumber=947\n\n```\n[task 2020-05-21T18:37:32.766Z] > Task :geckoview:javadocWithGeckoBinariesDebug\n[task 2020-05-21T18:37:32.766Z] Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=utf-8\n[task 2020-05-21T18:37:32.766Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlocking.java:355: warning - Tag @link: reference not found: STP\n[task 2020-05-21T18:37:32.766Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlocking.java:223: warning - Tag @link: reference not found: setAntiTracking\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:270: warning - Tag @link: reference not found: saveExceptionList\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:280: warning - Tag @link: reference not found: saveExceptionList\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:76: warning - Tag @link: reference not found: toJson\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:368: warning - Tag @link: reference not found: COOKIES_LOADED\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:361: warning - Tag @link: reference not found: COOKIES_LOADED\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:361: warning - Tag @link: reference not found: COOKIES_LOADED\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:368: warning - Tag @link: reference not found: COOKIES_LOADED\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:142: warning - Tag @link: reference not found: toString\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:154: warning - Tag @link: reference not found: toJson\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoSession.java:3372: warning - Tag @link: reference not found: SelectionActionDelegateAction\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoSession.java:3361: warning - Tag @link: reference not found: SelectionActionDelegateAction\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoSession.java:3372: warning - Tag @link: reference not found: SelectionActionDelegateAction\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoSession.java:3372: warning - Tag @link: reference not found: SelectionActionDelegateAction\n[task 2020-05-21T18:37:32.767Z] 15 warnings\n[task 2020-05-21T18:37:32.768Z] > Task :geckoview:javadocJarWithGeckoBinariesDebug\n[task 2020-05-21T18:37:32.768Z] > Task :geckoview:sourcesJarWithGeckoBinariesDebug\n[task 2020-05-21T18:37:32.768Z] > Task :geckoview:publishWithGeckoBinariesDebugPublicationToMavenRepository\n[task 2020-05-21T18:37:32.768Z] Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\n[task 2020-05-21T18:37:32.768Z] Use '--warning-mode all' to show the individual deprecation warnings.\n[task 2020-05-21T18:37:32.768Z] See https://docs.gradle.org/5.1.1/userguide/command_line_interface.html#sec:command_line_warnings\n[task 2020-05-21T18:37:32.768Z] BUILD SUCCESSFUL in 1m 34s\n[task 2020-05-21T18:37:32.768Z] 173 actionable tasks: 158 executed, 15 up-to-date\n[task 2020-05-21T18:37:32.784Z] Packaging quitter@mozilla.org.xpi...\n[task 2020-05-21T18:37:32.980Z] Automation steps completed.\n[task 2020-05-21T18:37:32.981Z] 0 compiler warnings present.\n[task 2020-05-21T18:37:33.013Z] Overall system resources - Wall time: 194s; CPU: 0%; Read bytes: 0; Write bytes: 0; Read time: 0; Write time: 0\n[task 2020-05-21T18:37:33.040Z] Your build was successful!\n[task 2020-05-21T18:37:33.041Z]  Config object not found by mach.\n[task 2020-05-21T18:37:33.041Z] Configure complete!\n[task 2020-05-21T18:37:33.041Z] Be sure to run |mach build| to pick up any changes\n[task 2020-05-21T18:37:33.041Z] To view resource usage of the build, run |mach resource-usage|.\n[task 2020-05-21T18:37:33.041Z] For more information on what to do now, see https://developer.mozilla.org/docs/Developer_Guide/So_You_Just_Built_Firefox\n[task 2020-05-21T18:37:33.084Z] + ./mach --log-no-times lint -f treeherder -f json:/builds/worker/mozlint.json --linter android-api-lint --linter android-javadoc --linter android-checkstyle --linter android-lint --linter android-test\n[task 2020-05-21T18:39:41.059Z] TEST-UNEXPECTED-ERROR | /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/gecko/process/ServiceAllocator.java:7:8 | Unused import - org.mozilla.geckoview.BuildConfig. (com.puppycrawl.tools.checkstyle.checks.imports.UnusedImportsCheck)\n[fetches 2020-05-21T18:39:41.096Z] removing /builds/worker/fetches\n[fetches 2020-05-21T18:39:42.763Z] finished\n```", "time": "2020-05-21T19:10:55Z", "creation_time": "2020-05-21T19:10:55Z", "text": "Backed out changeset e562d64f2bf9 (bug 1630229) for lints failure on ServiceAllocator.java\n\nPush with failure: https://treeherder.mozilla.org/#/jobs?repo=autoland&selectedTaskRun=bLpGoMMYRTC2ZLtZ7PTY5g-0&fromchange=e562d64f2bf9a26db09e338b701f98d11e1d2629&searchStr=linting%2Copt%2Candroid%2Cgradle%2Ctests%2Csource-test-mozlint-android-lints%2Ca%28lints%29&tochange=c8e34e81ac8a1e359a64cc94ebeeb9132989a413\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/c8e34e81ac8a1e359a64cc94ebeeb9132989a413\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=303253758&repo=autoland&lineNumber=947\n\n```\n[task 2020-05-21T18:37:32.766Z] > Task :geckoview:javadocWithGeckoBinariesDebug\n[task 2020-05-21T18:37:32.766Z] Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=utf-8\n[task 2020-05-21T18:37:32.766Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlocking.java:355: warning - Tag @link: reference not found: STP\n[task 2020-05-21T18:37:32.766Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlocking.java:223: warning - Tag @link: reference not found: setAntiTracking\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:270: warning - Tag @link: reference not found: saveExceptionList\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:280: warning - Tag @link: reference not found: saveExceptionList\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:76: warning - Tag @link: reference not found: toJson\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:368: warning - Tag @link: reference not found: COOKIES_LOADED\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:361: warning - Tag @link: reference not found: COOKIES_LOADED\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:361: warning - Tag @link: reference not found: COOKIES_LOADED\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:368: warning - Tag @link: reference not found: COOKIES_LOADED\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:142: warning - Tag @link: reference not found: toString\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/ContentBlockingController.java:154: warning - Tag @link: reference not found: toJson\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoSession.java:3372: warning - Tag @link: reference not found: SelectionActionDelegateAction\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoSession.java:3361: warning - Tag @link: reference not found: SelectionActionDelegateAction\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoSession.java:3372: warning - Tag @link: reference not found: SelectionActionDelegateAction\n[task 2020-05-21T18:37:32.767Z] /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/geckoview/GeckoSession.java:3372: warning - Tag @link: reference not found: SelectionActionDelegateAction\n[task 2020-05-21T18:37:32.767Z] 15 warnings\n[task 2020-05-21T18:37:32.768Z] > Task :geckoview:javadocJarWithGeckoBinariesDebug\n[task 2020-05-21T18:37:32.768Z] > Task :geckoview:sourcesJarWithGeckoBinariesDebug\n[task 2020-05-21T18:37:32.768Z] > Task :geckoview:publishWithGeckoBinariesDebugPublicationToMavenRepository\n[task 2020-05-21T18:37:32.768Z] Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\n[task 2020-05-21T18:37:32.768Z] Use '--warning-mode all' to show the individual deprecation warnings.\n[task 2020-05-21T18:37:32.768Z] See https://docs.gradle.org/5.1.1/userguide/command_line_interface.html#sec:command_line_warnings\n[task 2020-05-21T18:37:32.768Z] BUILD SUCCESSFUL in 1m 34s\n[task 2020-05-21T18:37:32.768Z] 173 actionable tasks: 158 executed, 15 up-to-date\n[task 2020-05-21T18:37:32.784Z] Packaging quitter@mozilla.org.xpi...\n[task 2020-05-21T18:37:32.980Z] Automation steps completed.\n[task 2020-05-21T18:37:32.981Z] 0 compiler warnings present.\n[task 2020-05-21T18:37:33.013Z] Overall system resources - Wall time: 194s; CPU: 0%; Read bytes: 0; Write bytes: 0; Read time: 0; Write time: 0\n[task 2020-05-21T18:37:33.040Z] Your build was successful!\n[task 2020-05-21T18:37:33.041Z]  Config object not found by mach.\n[task 2020-05-21T18:37:33.041Z] Configure complete!\n[task 2020-05-21T18:37:33.041Z] Be sure to run |mach build| to pick up any changes\n[task 2020-05-21T18:37:33.041Z] To view resource usage of the build, run |mach resource-usage|.\n[task 2020-05-21T18:37:33.041Z] For more information on what to do now, see https://developer.mozilla.org/docs/Developer_Guide/So_You_Just_Built_Firefox\n[task 2020-05-21T18:37:33.084Z] + ./mach --log-no-times lint -f treeherder -f json:/builds/worker/mozlint.json --linter android-api-lint --linter android-javadoc --linter android-checkstyle --linter android-lint --linter android-test\n[task 2020-05-21T18:39:41.059Z] TEST-UNEXPECTED-ERROR | /builds/worker/checkouts/gecko/mobile/android/geckoview/src/main/java/org/mozilla/gecko/process/ServiceAllocator.java:7:8 | Unused import - org.mozilla.geckoview.BuildConfig. (com.puppycrawl.tools.checkstyle.checks.imports.UnusedImportsCheck)\n[fetches 2020-05-21T18:39:41.096Z] removing /builds/worker/fetches\n[fetches 2020-05-21T18:39:42.763Z] finished\n```", "is_private": false, "count": 29, "bug_id": 1630229, "id": 14836139, "creator": "btara@mozilla.com", "attachment_id": null, "author": "btara@mozilla.com", "tags": []}, {"author": "pulsebot@bots.tld", "tags": [], "creator": "pulsebot@bots.tld", "attachment_id": null, "id": 14836154, "bug_id": 1630229, "count": 30, "is_private": false, "raw_text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/9c5b9c33920b\nPart 8 - Stop throwing AssertionError for binding of defunct ServiceAllocator.InstanceInfo; r=geckoview-reviewers,owlish", "creation_time": "2020-05-21T19:13:58Z", "text": "Pushed by aklotz@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/9c5b9c33920b\nPart 8 - Stop throwing AssertionError for binding of defunct ServiceAllocator.InstanceInfo; r=geckoview-reviewers,owlish", "time": "2020-05-21T19:13:58Z"}, {"count": 31, "text": "Comment on attachment 9150780\nBug 1630229: Part 8 - Stop throwing AssertionError for binding of defunct ServiceAllocator.InstanceInfo; r=#geckoview-reviewers\n\n### Beta/Release Uplift Approval Request\n* **User impact if declined**: Crashes\n* **Is this code covered by automated tests?**: Yes\n* **Has the fix been verified in Nightly?**: Yes\n* **Needs manual test from QE?**: No\n* **If yes, steps to reproduce**: \n* **List of other uplifts needed**: None\n* **Risk to taking this patch**: Low\n* **Why is the change risky/not risky? (and alternatives if risky)**: Trivial patch\n* **String changes made/needed**:", "creation_time": "2020-05-21T19:17:41Z", "time": "2020-05-21T19:17:41Z", "raw_text": "### Beta/Release Uplift Approval Request\n* **User impact if declined**: Crashes\n* **Is this code covered by automated tests?**: Yes\n* **Has the fix been verified in Nightly?**: Yes\n* **Needs manual test from QE?**: No\n* **If yes, steps to reproduce**: \n* **List of other uplifts needed**: None\n* **Risk to taking this patch**: Low\n* **Why is the change risky/not risky? (and alternatives if risky)**: Trivial patch\n* **String changes made/needed**:", "is_private": false, "attachment_id": 9150780, "creator": "bugzilla@dblohm7.ca", "tags": [], "author": "bugzilla@dblohm7.ca", "bug_id": 1630229, "id": 14836171}, {"tags": [], "author": "ryanvm@gmail.com", "attachment_id": 9150780, "creator": "ryanvm@gmail.com", "id": 14836639, "bug_id": 1630229, "count": 32, "is_private": false, "creation_time": "2020-05-21T22:44:06Z", "time": "2020-05-21T22:44:06Z", "text": "Comment on attachment 9150780\nBug 1630229: Part 8 - Stop throwing AssertionError for binding of defunct ServiceAllocator.InstanceInfo; r=#geckoview-reviewers\n\nFixes a GV crash, approved for 77.0b9.", "raw_text": "Fixes a GV crash, approved for 77.0b9."}, {"count": 33, "time": "2020-05-21T22:46:46Z", "creation_time": "2020-05-21T22:46:46Z", "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/300dc3a419af", "raw_text": "https://hg.mozilla.org/releases/mozilla-beta/rev/300dc3a419af", "is_private": false, "attachment_id": null, "creator": "ryanvm@gmail.com", "tags": ["bugherder", "uplift"], "author": "ryanvm@gmail.com", "bug_id": 1630229, "id": 14836650}, {"id": 14837265, "bug_id": 1630229, "tags": ["bugherder"], "author": "abutkovits@mozilla.com", "attachment_id": null, "creator": "abutkovits@mozilla.com", "is_private": false, "time": "2020-05-22T09:51:38Z", "text": "https://hg.mozilla.org/mozilla-central/rev/9c5b9c33920b", "creation_time": "2020-05-22T09:51:38Z", "raw_text": "https://hg.mozilla.org/mozilla-central/rev/9c5b9c33920b", "count": 34}, {"creation_time": "2020-05-28T12:17:09Z", "time": "2020-05-28T12:17:09Z", "text": "Hi! This issue is verified as fixed, since we did not encounter any crashes related with this it while testing Fenix Beta 5.1.0-beta.2.", "raw_text": "Hi! This issue is verified as fixed, since we did not encounter any crashes related with this it while testing Fenix Beta 5.1.0-beta.2.", "is_private": false, "count": 35, "bug_id": 1630229, "id": 14849193, "attachment_id": null, "creator": "eliza.balazs@softvision.ro", "tags": [], "author": "eliza.balazs@softvision.ro"}]}}, "comments": {}}