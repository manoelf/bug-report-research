{"bugs": {"638038": {"comments": [{"author": "jimb@mozilla.com", "time": "2011-03-02T09:25:03Z", "count": 0, "is_private": false, "id": 5314625, "raw_text": "When triggering the operation callback function explicitly via JS_TriggerOperationCallback or its friends, it would be nice to have a re-entrant way to tell the callback function *why* it was being invoked.\n\nAt the moment, the operation callback function takes a single argument, the context as whose operation callback it was installed. I would like to extend it to take a 'void *' argument as well.\n\n- When the callback is being invoked because the operation limit has expired or because JS_TriggerOperationCallback was called, this argument would be NULL.\n\n- A new function, JS_SendToOperationCallback, would be like JS_TriggerOperationCallback, but take an additional 'void *' argument whose value would be passed through to the callback function. This value could be some sort of message indicating to the callback function what has happened.\n\nIf we don't mind changing the interface, we could just add the 'void *' argument to JS_TriggerOperationCallback itself.", "creator": "jimb@mozilla.com", "tags": [], "creation_time": "2011-03-02T09:25:03Z", "attachment_id": null, "text": "When triggering the operation callback function explicitly via JS_TriggerOperationCallback or its friends, it would be nice to have a re-entrant way to tell the callback function *why* it was being invoked.\n\nAt the moment, the operation callback function takes a single argument, the context as whose operation callback it was installed. I would like to extend it to take a 'void *' argument as well.\n\n- When the callback is being invoked because the operation limit has expired or because JS_TriggerOperationCallback was called, this argument would be NULL.\n\n- A new function, JS_SendToOperationCallback, would be like JS_TriggerOperationCallback, but take an additional 'void *' argument whose value would be passed through to the callback function. This value could be some sort of message indicating to the callback function what has happened.\n\nIf we don't mind changing the interface, we could just add the 'void *' argument to JS_TriggerOperationCallback itself.", "bug_id": 638038}]}}, "comments": {}}