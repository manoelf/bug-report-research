{"bugs": {"696502": {"comments": [{"attachment_id": null, "raw_text": "When viewing an XML page with the browser that doesn't supply stylesheet, the browser informs the user that there is no stylesheet and is falling into Pretty Print XML view, which doesn't show that string well. \n\n\nSteps to reproduce:\na. Enter the following URL using RTL Firefox build: https://bug64945.bugzilla.mozilla.org/attachment.cgi?id=31654 or any other XML file. (See above for an XML file containing RTL text)\nb. Note that the string at the page top is aligned to the right but doesn't contain dir=rtl.\n\n\nWorkaround: \nWe can add RLE character to dom/chrome/xml/prettyprint.dtd:xml.nostylesheet on RTL locales.\n\ni.e., for Hebrew, we should do it on \nhttp://hg.mozilla.org/releases/l10n/mozilla-aurora/he/file/tip/dom/chrome/xml/prettyprint.dtd#l37", "time": "2011-10-21T22:22:43Z", "tags": [], "author": "tomer.moz.bugs@tomercohen.com", "count": 0, "text": "When viewing an XML page with the browser that doesn't supply stylesheet, the browser informs the user that there is no stylesheet and is falling into Pretty Print XML view, which doesn't show that string well. \n\n\nSteps to reproduce:\na. Enter the following URL using RTL Firefox build: https://bug64945.bugzilla.mozilla.org/attachment.cgi?id=31654 or any other XML file. (See above for an XML file containing RTL text)\nb. Note that the string at the page top is aligned to the right but doesn't contain dir=rtl.\n\n\nWorkaround: \nWe can add RLE character to dom/chrome/xml/prettyprint.dtd:xml.nostylesheet on RTL locales.\n\ni.e., for Hebrew, we should do it on \nhttp://hg.mozilla.org/releases/l10n/mozilla-aurora/he/file/tip/dom/chrome/xml/prettyprint.dtd#l37", "creator": "tomer.moz.bugs@tomercohen.com", "is_private": false, "creation_time": "2011-10-21T22:22:43Z", "id": 5798007, "bug_id": 696502}, {"bug_id": 696502, "id": 5798027, "creation_time": "2011-10-21T22:29:15Z", "is_private": false, "creator": "tomer.moz.bugs@tomercohen.com", "text": "DOM source for the XML file linked above: \n\n<html:div xmlns:html=\"http://www.w3.org/1999/xhtml\" id=\"top\"><html:link href=\"chrome://global/content/xml/XMLPrettyPrint.css\" type=\"text/css\" rel=\"stylesheet\"/><html:link title=\"Monospace\" href=\"chrome://global/content/xml/XMLMonoPrint.css\" type=\"text/css\" rel=\"alternate stylesheet\"/><html:div id=\"header\" dir=\"rtl\"><html:p>\n        .\u05d6\u05d4 \u05d0\u05d9\u05df \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05e1\u05d2\u05e0\u05d5\u05df \u05d4\u05de\u05e7\u05d5\u05e9\u05e8 \u05d0\u05d9\u05ea\u05d5. \u05e2\u05e5 \u05d4\u05de\u05e1\u05de\u05da \u05de\u05d5\u05e6\u05d2 \u05dc\u05d4\u05dc\u05df XML \u05e0\u05e8\u05d0\u05d4 \u05e9\u05dc\u05e7\u05d5\u05d1\u05e5\n      </html:p></html:div><html:div class=\"expander-open\"><html:div class=\"expander\">\u2212</html:div>&lt;<html:span class=\"start-tag\">doc</html:span> <html:span class=\"attribute-name\">foo</html:span>=<html:span class=\"attribute-value\">\"bar\"</html:span>&gt;<html:div class=\"expander-content\"><html:div>&lt;<html:span class=\"start-tag\">a</html:span>/&gt;</html:div>\n    raboof\n  <html:div>&lt;<html:span class=\"start-tag\">x:b</html:span>&gt;<html:span class=\"text\">hiihaa</html:span>&lt;/<html:span class=\"end-tag\">x:b</html:span>&gt;</html:div></html:div>&lt;/<html:span class=\"end-tag\">doc</html:span>&gt;</html:div></html:div>\n\n\nAs you can see, it does contain dir=rtl, but it seems to be overridden by the stylesheet. After following few @includes in the stylesheets, I've found the following rule in resource://gre-resources/viewsource.css which I suspects that is the source for the problem:\n\n*|*:root {\n  background-color: white;\n  color: black;\n  direction: ltr;\n}\n\n\n(Seems that Firebug is unable to process such files)\n\n\n\nThe PrettyPrint page is generated by XMLPrettyPrint.xsl: \n\nhttp://mxr.mozilla.org/mozilla-central/source/content/xml/document/resources/XMLPrettyPrint.xsl", "count": 1, "author": "tomer.moz.bugs@tomercohen.com", "tags": [], "time": "2011-10-21T22:29:15Z", "raw_text": "DOM source for the XML file linked above: \n\n<html:div xmlns:html=\"http://www.w3.org/1999/xhtml\" id=\"top\"><html:link href=\"chrome://global/content/xml/XMLPrettyPrint.css\" type=\"text/css\" rel=\"stylesheet\"/><html:link title=\"Monospace\" href=\"chrome://global/content/xml/XMLMonoPrint.css\" type=\"text/css\" rel=\"alternate stylesheet\"/><html:div id=\"header\" dir=\"rtl\"><html:p>\n        .\u05d6\u05d4 \u05d0\u05d9\u05df \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05e1\u05d2\u05e0\u05d5\u05df \u05d4\u05de\u05e7\u05d5\u05e9\u05e8 \u05d0\u05d9\u05ea\u05d5. \u05e2\u05e5 \u05d4\u05de\u05e1\u05de\u05da \u05de\u05d5\u05e6\u05d2 \u05dc\u05d4\u05dc\u05df XML \u05e0\u05e8\u05d0\u05d4 \u05e9\u05dc\u05e7\u05d5\u05d1\u05e5\n      </html:p></html:div><html:div class=\"expander-open\"><html:div class=\"expander\">\u2212</html:div>&lt;<html:span class=\"start-tag\">doc</html:span> <html:span class=\"attribute-name\">foo</html:span>=<html:span class=\"attribute-value\">\"bar\"</html:span>&gt;<html:div class=\"expander-content\"><html:div>&lt;<html:span class=\"start-tag\">a</html:span>/&gt;</html:div>\n    raboof\n  <html:div>&lt;<html:span class=\"start-tag\">x:b</html:span>&gt;<html:span class=\"text\">hiihaa</html:span>&lt;/<html:span class=\"end-tag\">x:b</html:span>&gt;</html:div></html:div>&lt;/<html:span class=\"end-tag\">doc</html:span>&gt;</html:div></html:div>\n\n\nAs you can see, it does contain dir=rtl, but it seems to be overridden by the stylesheet. After following few @includes in the stylesheets, I've found the following rule in resource://gre-resources/viewsource.css which I suspects that is the source for the problem:\n\n*|*:root {\n  background-color: white;\n  color: black;\n  direction: ltr;\n}\n\n\n(Seems that Firebug is unable to process such files)\n\n\n\nThe PrettyPrint page is generated by XMLPrettyPrint.xsl: \n\nhttp://mxr.mozilla.org/mozilla-central/source/content/xml/document/resources/XMLPrettyPrint.xsl", "attachment_id": null}, {"tags": [], "attachment_id": null, "raw_text": "Why is the viewsource.css stylesheet involved here at all?!", "time": "2012-05-10T22:02:51Z", "creation_time": "2012-05-10T22:02:51Z", "is_private": false, "id": 6298892, "bug_id": 696502, "author": "ehsan.akhgari@gmail.com", "count": 2, "text": "Why is the viewsource.css stylesheet involved here at all?!", "creator": "ehsan.akhgari@gmail.com"}]}}, "comments": {}}