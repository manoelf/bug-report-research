{"comments": {}, "bugs": {"645488": {"comments": [{"raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.0; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: 4.0\n\nWhen using Bugzilla directly from a standalone Perl application (OS daemon, batch script, etc) - currently Bugzilla seems to do some console-specific initializations which are most likely not desired.\n\nWould be good to skip those (let the embedding application take control on its outputs encoding).\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Run this on non utf8 environment (e.g. Windows usually results in weird encodings)\n2.Run standalone perl app (USAGE_MODE_CMDLINE) - in which Bugzilla is loaded (\"use Bugzilla;\")\n3.Check PerlIO layers\nActual Results:  \nBugzilla is changing stdout/stderr encoding in Bugzilla::Install::Util->set_output_encodings(). (This is called by Bugzilla.pm init_page which is called on module initialization). \n\nUse case is also described here (alongside with another issue): http://groups.google.com/group/mozilla.support.bugzilla/browse_thread/thread/87e6b858e2594e46\n\n\nExpected Results:  \nBe able to somehow instruct Bugzilla so that it skips changing outputs encoding (and maybe other irrelevant initializations intended for foreground console usage).", "creator": "yavor.nikolov7+bugzilla@gmail.com", "creation_time": "2011-03-27T13:20:18Z", "tags": [], "attachment_id": null, "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.0; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: 4.0\n\nWhen using Bugzilla directly from a standalone Perl application (OS daemon, batch script, etc) - currently Bugzilla seems to do some console-specific initializations which are most likely not desired.\n\nWould be good to skip those (let the embedding application take control on its outputs encoding).\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Run this on non utf8 environment (e.g. Windows usually results in weird encodings)\n2.Run standalone perl app (USAGE_MODE_CMDLINE) - in which Bugzilla is loaded (\"use Bugzilla;\")\n3.Check PerlIO layers\nActual Results:  \nBugzilla is changing stdout/stderr encoding in Bugzilla::Install::Util->set_output_encodings(). (This is called by Bugzilla.pm init_page which is called on module initialization). \n\nUse case is also described here (alongside with another issue): http://groups.google.com/group/mozilla.support.bugzilla/browse_thread/thread/87e6b858e2594e46\n\n\nExpected Results:  \nBe able to somehow instruct Bugzilla so that it skips changing outputs encoding (and maybe other irrelevant initializations intended for foreground console usage).", "bug_id": 645488, "author": "yavor.nikolov7+bugzilla@gmail.com", "time": "2011-03-27T13:20:18Z", "count": 0, "is_private": false, "id": 5372740}]}}}