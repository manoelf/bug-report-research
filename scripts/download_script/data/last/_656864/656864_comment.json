{"comments": {}, "bugs": {"656864": {"comments": [{"raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Any\n\nBugzilla should have support for recursive group membership filtering when authentication, in order to centralize user management outside of Bugzilla. E.G. Common Active Directory setups. The current filter approach only support a flat structure (E.G filter on memberOf attribute), and does not support group in group memberships. \n\nFurther, the (currently) mandatory bind should be removed, as the authentication really is a bind, and any attributes can be looked up using this session (if the bind fail, then the credentials are invalid and login denied in any case)\n\nAnd finally, it should support mapping Bugzilla groups to LDAP groups, so that user administration can move out of the Bugzilla realm completely, and allow for permissions to be defined in Bugzilla groups, while group membership is maintained at the LDAP end.\n\nReproducible: Always", "is_private": false, "tags": [], "creation_time": "2011-05-13T08:47:36Z", "id": 5467650, "attachment_id": null, "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Any\n\nBugzilla should have support for recursive group membership filtering when authentication, in order to centralize user management outside of Bugzilla. E.G. Common Active Directory setups. The current filter approach only support a flat structure (E.G filter on memberOf attribute), and does not support group in group memberships. \n\nFurther, the (currently) mandatory bind should be removed, as the authentication really is a bind, and any attributes can be looked up using this session (if the bind fail, then the credentials are invalid and login denied in any case)\n\nAnd finally, it should support mapping Bugzilla groups to LDAP groups, so that user administration can move out of the Bugzilla realm completely, and allow for permissions to be defined in Bugzilla groups, while group membership is maintained at the LDAP end.\n\nReproducible: Always", "bug_id": 656864, "count": 0, "time": "2011-05-13T08:47:36Z", "creator": "jon.skarpeteig@gmail.com", "author": "jon.skarpeteig@gmail.com"}, {"tags": [], "is_private": false, "time": "2011-05-13T19:19:49Z", "count": 1, "bug_id": 656864, "raw_text": "(In reply to comment #0)\n> Bugzilla should have support for recursive group membership filtering when\n> authentication, in order to centralize user management outside of Bugzilla.\n\n  You could just specify the BindDN as a specific user who can only see certain users.\n\n> Further, the (currently) mandatory bind should be removed,\n\n  Well, you could just clear LDAPBindDN and then you'd get an anonymous bind instead. See the code comments in Bugzilla/Auth/Verify/LDAP.pm for why we need to do things the way we do them. (There are also other cases not mentioned there.)\n\n> And finally, it should support mapping Bugzilla groups to LDAP groups [snip]\n\n  For sure. However, that's a separate bug that's already been filed: bug 343614.", "author": "mkanat@bugzilla.org", "text": "(In reply to comment #0)\n> Bugzilla should have support for recursive group membership filtering when\n> authentication, in order to centralize user management outside of Bugzilla.\n\n  You could just specify the BindDN as a specific user who can only see certain users.\n\n> Further, the (currently) mandatory bind should be removed,\n\n  Well, you could just clear LDAPBindDN and then you'd get an anonymous bind instead. See the code comments in Bugzilla/Auth/Verify/LDAP.pm for why we need to do things the way we do them. (There are also other cases not mentioned there.)\n\n> And finally, it should support mapping Bugzilla groups to LDAP groups [snip]\n\n  For sure. However, that's a separate bug that's already been filed: bug 343614.", "creator": "mkanat@bugzilla.org", "attachment_id": null, "id": 5468852, "creation_time": "2011-05-13T19:19:49Z"}, {"tags": [], "is_private": false, "time": "2011-05-14T16:54:05Z", "count": 2, "bug_id": 656864, "raw_text": "Unfortunately your approach will not work using default Active Directory setups. In AD, every user is granted read access to all objects in the directory, while anonymous bind is not supported by default (http://support.microsoft.com/kb/326690). \n\nIn my opinion it would be a good idea to support default configurations, and still supply the option to recursively look up group membership as means of authentication as well as authorization.\n\nAlso, you do not need to bind to Active Directoy, to look up the DN of the user trying to connect (as per comments in LDAP.pm), due to AD supporting username@domain.com syntax (I cannot speak for OpenLDAP or the like if this syntax is supported, but here I assume anonymous bind is supported by default). This would however require the domain short name to be entered into the parameters, as opposed to valid bind credentials to look up the full DN.\n\nAnother feature request regarding LDAP (if someone decides to do changes in LDAP), is to allow for real name lookup in order to populate the real name field in Bugzilla on user creation (first login authenticated by ldap).", "author": "jon.skarpeteig@gmail.com", "creator": "jon.skarpeteig@gmail.com", "text": "Unfortunately your approach will not work using default Active Directory setups. In AD, every user is granted read access to all objects in the directory, while anonymous bind is not supported by default (http://support.microsoft.com/kb/326690). \n\nIn my opinion it would be a good idea to support default configurations, and still supply the option to recursively look up group membership as means of authentication as well as authorization.\n\nAlso, you do not need to bind to Active Directoy, to look up the DN of the user trying to connect (as per comments in LDAP.pm), due to AD supporting username@domain.com syntax (I cannot speak for OpenLDAP or the like if this syntax is supported, but here I assume anonymous bind is supported by default). This would however require the domain short name to be entered into the parameters, as opposed to valid bind credentials to look up the full DN.\n\nAnother feature request regarding LDAP (if someone decides to do changes in LDAP), is to allow for real name lookup in order to populate the real name field in Bugzilla on user creation (first login authenticated by ldap).", "attachment_id": null, "id": 5470281, "creation_time": "2011-05-14T16:54:05Z"}, {"time": "2011-10-31T21:07:16Z", "tags": [], "is_private": false, "bug_id": 656864, "raw_text": "This might be a dupe of bug 363821", "count": 3, "text": "This might be a dupe of bug 363821", "creator": "michael.bellomo@gmail.com", "id": 5816257, "attachment_id": null, "author": "michael.bellomo@gmail.com", "creation_time": "2011-10-31T21:07:16Z"}, {"count": 4, "raw_text": "Only partly. Bug 363821 describes a non-recursive approach to group filter only. It does not cover:\n\n* Recursive membership\n* Option to remove generic account / anonymous user and use shortname format instead (user@domain.com or DOMAIN\\user format) during bind\n* LDAP group to Bugzilla group mapping in regards to group permissions (This however, is covered by bug 343614, however a recursive solution doesn't appear to have been discussed)", "bug_id": 656864, "is_private": false, "tags": [], "time": "2011-11-01T08:09:49Z", "creation_time": "2011-11-01T08:09:49Z", "author": "jon.skarpeteig@gmail.com", "id": 5817361, "attachment_id": null, "text": "Only partly. Bug 363821 describes a non-recursive approach to group filter only. It does not cover:\n\n* Recursive membership\n* Option to remove generic account / anonymous user and use shortname format instead (user@domain.com or DOMAIN\\user format) during bind\n* LDAP group to Bugzilla group mapping in regards to group permissions (This however, is covered by bug 343614, however a recursive solution doesn't appear to have been discussed)", "creator": "jon.skarpeteig@gmail.com"}]}}}