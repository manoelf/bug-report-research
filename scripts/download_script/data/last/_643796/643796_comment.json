{"comments": {}, "bugs": {"643796": {"comments": [{"count": 0, "time": "2011-03-22T17:07:54Z", "creator": "vseerror@lehigh.edu", "raw_text": "about:support should indicate folders which may be near or exceeding OS/Thunderbird limits. Or over N GB in size (2GB?)\n\nSuch folders cause at least three problems:\n1. large folders = large memory requirements (due to bug .msf summary files)\n2. users having trouble deleting or moving messages\n3. needless, excessive size of global search index\n\nand identifying them may help expose these issues:\n1. user not emptying trash or junk - or bugs which have the same result\n2. user not doing compact of folder - or bugs which have the same result\n3. user never deletes mail\n4. corrupted folders\n\n\nfrom https://github.com/sid0/tb-about-support/issues/9", "text": "about:support should indicate folders which may be near or exceeding OS/Thunderbird limits. Or over N GB in size (2GB?)\n\nSuch folders cause at least three problems:\n1. large folders = large memory requirements (due to bug .msf summary files)\n2. users having trouble deleting or moving messages\n3. needless, excessive size of global search index\n\nand identifying them may help expose these issues:\n1. user not emptying trash or junk - or bugs which have the same result\n2. user not doing compact of folder - or bugs which have the same result\n3. user never deletes mail\n4. corrupted folders\n\n\nfrom https://github.com/sid0/tb-about-support/issues/9", "author": "vseerror@lehigh.edu", "is_private": false, "id": 5360091, "attachment_id": null, "creation_time": "2011-03-22T17:07:54Z", "tags": [], "bug_id": 643796}, {"text": ":sid0 can you pull off any of this in time for 3.3 #hopingForYetAnotherSid0Miracle :-) ?", "raw_text": ":sid0 can you pull off any of this in time for 3.3 #hopingForYetAnotherSid0Miracle :-) ?", "creator": "rtanglao@mozilla.com", "time": "2011-03-22T18:17:18Z", "count": 1, "bug_id": 643796, "tags": [], "creation_time": "2011-03-22T18:17:18Z", "attachment_id": null, "id": 5360273, "is_private": false, "author": "rtanglao@mozilla.com"}, {"tags": [], "creation_time": "2011-03-22T21:45:11Z", "attachment_id": null, "raw_text": "Bryan: possible to get some UI feedback here? How should this be presented? Should we just have an entirely separate section listing large folders?\n\nRoland, are there any privacy concerns with displaying folder names and paths?", "creator": "rain@sunshowers.io", "bug_id": 643796, "text": "Bryan: possible to get some UI feedback here? How should this be presented? Should we just have an entirely separate section listing large folders?\n\nRoland, are there any privacy concerns with displaying folder names and paths?", "is_private": false, "author": "rain@sunshowers.io", "time": "2011-03-22T21:45:11Z", "count": 2, "id": 5361000}, {"time": "2011-03-22T23:59:42Z", "count": 3, "raw_text": "(In reply to comment #2)\n> Bryan: possible to get some UI feedback here? How should this be presented?\n> Should we just have an entirely separate section listing large folders?\n\nI would guess you'd have to show a separate list for \"Possible Problem Folders\".  This feels a little scary because unless we have the tools to help people fix these issues I wouldn't want to identify these folders as \"problems\"; unless that is we're certain they are problems.  But perhaps we should overlook user impression and possible support burden of labeling these folders this way so people can get their installations fixed.\n\nPart of me also feels like fixing the folders issues might want to be a space or page.  Right now we have all sorts of \"Troubleshooting Information\" and no actions so it makes the page very simple to copy&paste.  I guess I'm wondering if we should list the possible problematic folders with a link that opens up the \"Thunderbird Garage\" for tuning things.  Maybe that's overboard.", "creator": "clarkbw@mozilla.com", "text": "(In reply to comment #2)\n> Bryan: possible to get some UI feedback here? How should this be presented?\n> Should we just have an entirely separate section listing large folders?\n\nI would guess you'd have to show a separate list for \"Possible Problem Folders\".  This feels a little scary because unless we have the tools to help people fix these issues I wouldn't want to identify these folders as \"problems\"; unless that is we're certain they are problems.  But perhaps we should overlook user impression and possible support burden of labeling these folders this way so people can get their installations fixed.\n\nPart of me also feels like fixing the folders issues might want to be a space or page.  Right now we have all sorts of \"Troubleshooting Information\" and no actions so it makes the page very simple to copy&paste.  I guess I'm wondering if we should list the possible problematic folders with a link that opens up the \"Thunderbird Garage\" for tuning things.  Maybe that's overboard.", "is_private": false, "author": "clarkbw@mozilla.com", "id": 5361398, "creation_time": "2011-03-22T23:59:42Z", "tags": [], "attachment_id": null, "bug_id": 643796}, {"id": 5361978, "is_private": false, "count": 4, "author": "rain@sunshowers.io", "time": "2011-03-23T08:18:33Z", "bug_id": 643796, "text": "How about a more neutral term, e.g. \"Large Folders\"?", "attachment_id": null, "tags": [], "creation_time": "2011-03-23T08:18:33Z", "creator": "rain@sunshowers.io", "raw_text": "How about a more neutral term, e.g. \"Large Folders\"?"}, {"text": "(In reply to comment #4)\n> How about a more neutral term, e.g. \"Large Folders\"?\n\nYeah, that could work.", "bug_id": 643796, "raw_text": "(In reply to comment #4)\n> How about a more neutral term, e.g. \"Large Folders\"?\n\nYeah, that could work.", "creator": "clarkbw@mozilla.com", "creation_time": "2011-03-23T20:34:49Z", "tags": [], "attachment_id": null, "id": 5363628, "time": "2011-03-23T20:34:49Z", "author": "clarkbw@mozilla.com", "count": 5, "is_private": false}, {"id": 5363670, "author": "vseerror@lehigh.edu", "time": "2011-03-23T20:46:33Z", "count": 6, "is_private": false, "text": "\"Folders of Interest\" ala Person of Interest?\n\njust kidding. Large sounds good to me too.\n\n(In reply to comment #3)\n> Part of me also feels like fixing the folders issues might want to be a space\n> or page.  Right now we have all sorts of \"Troubleshooting Information\" and no\n> actions so it makes the page very simple to copy&paste.  I guess I'm wondering\n> if we should list the possible problematic folders with a link that opens up\n> the \"Thunderbird Garage\" for tuning things.  Maybe that's overboard.\n\nI think we can be patient about pointing the user to help.", "bug_id": 643796, "raw_text": "\"Folders of Interest\" ala Person of Interest?\n\njust kidding. Large sounds good to me too.\n\n(In reply to comment #3)\n> Part of me also feels like fixing the folders issues might want to be a space\n> or page.  Right now we have all sorts of \"Troubleshooting Information\" and no\n> actions so it makes the page very simple to copy&paste.  I guess I'm wondering\n> if we should list the possible problematic folders with a link that opens up\n> the \"Thunderbird Garage\" for tuning things.  Maybe that's overboard.\n\nI think we can be patient about pointing the user to help.", "creator": "vseerror@lehigh.edu", "creation_time": "2011-03-23T20:46:33Z", "tags": [], "attachment_id": null}, {"text": "Created attachment 524103\nFirst cut\n\nThis needs feedback about:\n- the threshold\n- the fields displayed in both public and private mode\n- the general UX.\n\nI've started off try builds.", "bug_id": 643796, "raw_text": "This needs feedback about:\n- the threshold\n- the fields displayed in both public and private mode\n- the general UX.\n\nI've started off try builds.", "creator": "rain@sunshowers.io", "creation_time": "2011-04-05T22:53:09Z", "tags": [], "attachment_id": 524103, "id": 5391639, "author": "rain@sunshowers.io", "time": "2011-04-05T22:53:09Z", "count": 7, "is_private": false}, {"id": 5392177, "author": "rain@sunshowers.io", "is_private": false, "bug_id": 643796, "creation_time": "2011-04-06T12:42:42Z", "tags": [], "attachment_id": null, "time": "2011-04-06T12:42:42Z", "count": 8, "text": "Try builds: http://stage.mozilla.org/pub/mozilla.org/thunderbird/tryserver-builds/sid.bugzilla@gmail.com-944daa4c8553", "raw_text": "Try builds: http://stage.mozilla.org/pub/mozilla.org/thunderbird/tryserver-builds/sid.bugzilla@gmail.com-944daa4c8553", "creator": "rain@sunshowers.io"}, {"bug_id": 643796, "creation_time": "2011-04-08T11:22:40Z", "tags": [], "attachment_id": 524103, "id": 5396271, "author": "vseerror@lehigh.edu", "is_private": false, "text": "Comment on attachment 524103\nFirst cut\n\non my fast i7 desktop, Tested local folders @ 1.8 & 2.1 GB, roughly 40k messages.\n\nSome aspects of performance were not good. My feedback / thoughts on possible improvements, some of which go beyond scope of this bug:\n1. Add msg count to the folder\n2. Add msg count threshold as alternative size criteria\n3. 2 gb seems reasonable. I think we don't want to go lower\n4. Can we easily flag folders that are over the OS limit?\n5. Is there a simple way to indicate whether it's a laptop environment? (which typically have slow drives)\n6. add drive space and free sPace\n7. To provide more context, Add to the folder name ... the full mail dir path, or name of parent folder?\n8. List size(s) first, before acct and folder name?\n\n6.", "raw_text": "on my fast i7 desktop, Tested local folders @ 1.8 & 2.1 GB, roughly 40k messages.\n\nSome aspects of performance were not good. My feedback / thoughts on possible improvements, some of which go beyond scope of this bug:\n1. Add msg count to the folder\n2. Add msg count threshold as alternative size criteria\n3. 2 gb seems reasonable. I think we don't want to go lower\n4. Can we easily flag folders that are over the OS limit?\n5. Is there a simple way to indicate whether it's a laptop environment? (which typically have slow drives)\n6. add drive space and free sPace\n7. To provide more context, Add to the folder name ... the full mail dir path, or name of parent folder?\n8. List size(s) first, before acct and folder name?\n\n6.", "creator": "vseerror@lehigh.edu", "time": "2011-04-08T11:22:40Z", "count": 9}, {"text": "Comment on attachment 524103\nFirst cut\n\n#1 only must have, assuming it is easy.\n#8 would be nice for this pass\n#2 likewise, but beyond scOpe?", "creator": "vseerror@lehigh.edu", "raw_text": "#1 only must have, assuming it is easy.\n#8 would be nice for this pass\n#2 likewise, but beyond scOpe?", "count": 10, "time": "2011-04-08T12:21:26Z", "bug_id": 643796, "attachment_id": 524103, "tags": [], "creation_time": "2011-04-08T12:21:26Z", "id": 5396293, "author": "vseerror@lehigh.edu", "is_private": false}, {"id": 5399786, "author": "vseerror@lehigh.edu", "is_private": false, "bug_id": 643796, "attachment_id": null, "creation_time": "2011-04-11T02:40:09Z", "tags": [], "count": 11, "time": "2011-04-11T02:40:09Z", "text": "p.s. kudos to sid0 for continuing to push forward with improvements for about:support.\n\n\n> on my fast i7 desktop, Tested local folders @ 1.8 & 2.1 GB, roughly 40k\n> messages.\n> \n> Some aspects of performance were not good. My feedback ...\n\nick! That doesn't read well. My comment about bad performance of course relates to folders with 40k messages, not to about:support.\n\n\nWhile I'm here, to elaborate on #6 (add drive space and free sPace) although it's out of scope for this bug ... for windows systems, defrag doesn't run great at reduce freespace (<20% iirc) and app performance can also tend to suffer, extremely, at some lower points.", "creator": "vseerror@lehigh.edu", "raw_text": "p.s. kudos to sid0 for continuing to push forward with improvements for about:support.\n\n\n> on my fast i7 desktop, Tested local folders @ 1.8 & 2.1 GB, roughly 40k\n> messages.\n> \n> Some aspects of performance were not good. My feedback ...\n\nick! That doesn't read well. My comment about bad performance of course relates to folders with 40k messages, not to about:support.\n\n\nWhile I'm here, to elaborate on #6 (add drive space and free sPace) although it's out of scope for this bug ... for windows systems, defrag doesn't run great at reduce freespace (<20% iirc) and app performance can also tend to suffer, extremely, at some lower points."}, {"time": "2011-04-22T18:16:09Z", "count": 12, "raw_text": "I didn't have large enough folders to test this out with so my only concern was that it awkwardly says \"None\" when the list is empty.\n\nMy only suggestion is to take the largest 3 or so folders and list them as with their sizes and status as \"good\".  Though grabbing some random number of folders might need an explanation.  It would at least allow me to see what folders might become problematic and also know that I'm in the clear.\n\nI'll switch the review over to Blake from now on.  Feel free to request feedback from me when there are try builds available.", "creator": "clarkbw@mozilla.com", "text": "Comment on attachment 524103\nFirst cut\n\nI didn't have large enough folders to test this out with so my only concern was that it awkwardly says \"None\" when the list is empty.\n\nMy only suggestion is to take the largest 3 or so folders and list them as with their sizes and status as \"good\".  Though grabbing some random number of folders might need an explanation.  It would at least allow me to see what folders might become problematic and also know that I'm in the clear.\n\nI'll switch the review over to Blake from now on.  Feel free to request feedback from me when there are try builds available.", "author": "clarkbw@mozilla.com", "is_private": false, "id": 5426622, "creation_time": "2011-04-22T18:16:09Z", "tags": [], "attachment_id": 524103, "bug_id": 643796}, {"count": 13, "time": "2011-04-27T21:20:54Z", "author": "bwinton@latte.ca", "is_private": false, "id": 5435745, "creator": "bwinton@latte.ca", "raw_text": "Review of attachment 524103:\n\nwmswk said:\n> 1. user not emptying trash or junk - or bugs which have the same result\n\nI wonder if we should make the limit of trash or junk folders much smaller, like, 100k, or something?\n\nWhen I changed the limit to 2MB (so that I could see my folders), I noticed that it showed a bunch of folders named after companies I consulted with, which I probably shouldn't be sending around, so the ability to either remove all the large folders, or selectively hide some of them, seems like it might be a good idea.\n\n2 Gb sounds pretty big to me, but it might be the right number.  What's the OS limit that we're trying to avoid here?\n\nAnd other than that, it seems to fit into the rest of the page pretty well, so ui-r=me.\n\nThanks,\nBlake.", "attachment_id": 524103, "creation_time": "2011-04-27T21:20:54Z", "tags": [], "text": "Comment on attachment 524103\nFirst cut\n\nReview of attachment 524103:\n\nwmswk said:\n> 1. user not emptying trash or junk - or bugs which have the same result\n\nI wonder if we should make the limit of trash or junk folders much smaller, like, 100k, or something?\n\nWhen I changed the limit to 2MB (so that I could see my folders), I noticed that it showed a bunch of folders named after companies I consulted with, which I probably shouldn't be sending around, so the ability to either remove all the large folders, or selectively hide some of them, seems like it might be a good idea.\n\n2 Gb sounds pretty big to me, but it might be the right number.  What's the OS limit that we're trying to avoid here?\n\nAnd other than that, it seems to fit into the rest of the page pretty well, so ui-r=me.\n\nThanks,\nBlake.", "bug_id": 643796}, {"text": "(In reply to Blake Winton (:bwinton - Thunderbird UX) from comment #13)\n> Comment on attachment 524103\n> First cut\n> \n> Review of attachment 524103:\n> \n> wmswk said:\n> > 1. user not emptying trash or junk - or bugs which have the same result\n> \n> I wonder if we should make the limit of trash or junk folders much smaller,\n> like, 100k, or something?\n\nnot a bad idea. But indeed what value?  100k seems too low to me, given that someone can easily delete a single N mb message and thus exceed the threshold.  Is a (additional) metric of number of messages worth considering?  \n\n\n> When I changed the limit to 2MB (so that I could see my folders), I noticed\n> that it showed a bunch of folders named after companies I consulted with,\n> which I probably shouldn't be sending around, so the ability to either\n> remove all the large folders, or selectively hide some of them, seems like\n> it might be a good idea.\n> \n> 2 Gb sounds pretty big to me, but it might be the right number.  What's the\n> OS limit that we're trying to avoid here?\n\nbienvenu, what do you think?", "creator": "vseerror@lehigh.edu", "raw_text": "(In reply to Blake Winton (:bwinton - Thunderbird UX) from comment #13)\n> Comment on attachment 524103\n> First cut\n> \n> Review of attachment 524103:\n> \n> wmswk said:\n> > 1. user not emptying trash or junk - or bugs which have the same result\n> \n> I wonder if we should make the limit of trash or junk folders much smaller,\n> like, 100k, or something?\n\nnot a bad idea. But indeed what value?  100k seems too low to me, given that someone can easily delete a single N mb message and thus exceed the threshold.  Is a (additional) metric of number of messages worth considering?  \n\n\n> When I changed the limit to 2MB (so that I could see my folders), I noticed\n> that it showed a bunch of folders named after companies I consulted with,\n> which I probably shouldn't be sending around, so the ability to either\n> remove all the large folders, or selectively hide some of them, seems like\n> it might be a good idea.\n> \n> 2 Gb sounds pretty big to me, but it might be the right number.  What's the\n> OS limit that we're trying to avoid here?\n\nbienvenu, what do you think?", "count": 14, "time": "2011-08-23T18:58:51Z", "bug_id": 643796, "attachment_id": null, "creation_time": "2011-08-23T18:58:51Z", "tags": [], "id": 5672631, "author": "vseerror@lehigh.edu", "is_private": false}, {"count": 15, "time": "2011-10-26T19:11:37Z", "creator": "acelists@atlas.sk", "raw_text": "I have a test folder of 2,1GB (600 000 messages), so if there is any patch I can try it. The performance on it is not bad, I am doing some tests.\n\nI didn't get a definitive answer what is the max size of mbox file that TB supports. I think it is 4GB on linux, but I've seen reports 2GB already has problems. I'd vote for showing folders exceeding 2GB.", "text": "I have a test folder of 2,1GB (600 000 messages), so if there is any patch I can try it. The performance on it is not bad, I am doing some tests.\n\nI didn't get a definitive answer what is the max size of mbox file that TB supports. I think it is 4GB on linux, but I've seen reports 2GB already has problems. I'd vote for showing folders exceeding 2GB.", "is_private": false, "author": "acelists@atlas.sk", "id": 5806918, "attachment_id": null, "tags": [], "creation_time": "2011-10-26T19:11:37Z", "bug_id": 643796}, {"is_private": false, "author": "rtanglao@mozilla.com", "time": "2011-10-27T03:08:59Z", "count": 16, "id": 5808135, "creation_time": "2011-10-27T03:08:59Z", "tags": [], "attachment_id": null, "raw_text": ":bienvenu in an email about another bug confirmed the max folder size on all platforms is 4gb, so i also vote for showing folders exceeding 2GB", "creator": "rtanglao@mozilla.com", "bug_id": 643796, "text": ":bienvenu in an email about another bug confirmed the max folder size on all platforms is 4gb, so i also vote for showing folders exceeding 2GB"}, {"id": 5816118, "author": "standard8@mozilla.com", "is_private": false, "bug_id": 643796, "creation_time": "2011-10-31T20:23:48Z", "tags": [], "attachment_id": 524103, "time": "2011-10-31T20:23:48Z", "count": 17, "text": "Comment on attachment 524103\nFirst cut\n\nRemoving no longer needed request.", "raw_text": "Removing no longer needed request.", "creator": "standard8@mozilla.com"}, {"id": 6020438, "count": 18, "time": "2012-01-30T21:09:47Z", "author": "acelists@atlas.sk", "is_private": false, "text": "Sid0, are you working on this? Can you move it further? David Bienvenu pointed out that the 4GB limit is no longer valid (but probably not on all platforms/filesystems) so this can still be useful.", "bug_id": 643796, "creator": "acelists@atlas.sk", "raw_text": "Sid0, are you working on this? Can you move it further? David Bienvenu pointed out that the 4GB limit is no longer valid (but probably not on all platforms/filesystems) so this can still be useful.", "attachment_id": null, "tags": [], "creation_time": "2012-01-30T21:09:47Z"}, {"count": 19, "time": "2012-01-30T21:38:56Z", "author": "rtanglao@mozilla.com", "is_private": false, "id": 6020573, "creator": "rtanglao@mozilla.com", "raw_text": "(In reply to :aceman from comment #18)\n> Sid0, are you working on this? Can you move it further? David Bienvenu\n> pointed out that the 4GB limit is no longer valid (but probably not on all\n> platforms/filesystems) so this can still be useful.\n\n:aceman which platforms/filesystems is the 4GB limit still valid on ?", "attachment_id": null, "tags": [], "creation_time": "2012-01-30T21:38:56Z", "text": "(In reply to :aceman from comment #18)\n> Sid0, are you working on this? Can you move it further? David Bienvenu\n> pointed out that the 4GB limit is no longer valid (but probably not on all\n> platforms/filesystems) so this can still be useful.\n\n:aceman which platforms/filesystems is the 4GB limit still valid on ?", "bug_id": 643796}, {"creator": "acelists@atlas.sk", "raw_text": "I am not sure about that. David Bienvenu would be the authoritative source. I am not sure how he meant it (if it is only lifted in some backend architecture and still needs more work in various places).\n\nBut I'd bet FAT32 filesystem would still have the limit.", "text": "I am not sure about that. David Bienvenu would be the authoritative source. I am not sure how he meant it (if it is only lifted in some backend architecture and still needs more work in various places).\n\nBut I'd bet FAT32 filesystem would still have the limit.", "count": 20, "time": "2012-01-30T21:54:24Z", "attachment_id": null, "creation_time": "2012-01-30T21:54:24Z", "tags": [], "bug_id": 643796, "author": "acelists@atlas.sk", "is_private": false, "id": 6020639}, {"count": 21, "time": "2012-01-30T21:56:47Z", "text": "For reference I am talking about bug 721925.", "creator": "acelists@atlas.sk", "raw_text": "For reference I am talking about bug 721925.", "id": 6020646, "is_private": false, "author": "acelists@atlas.sk", "bug_id": 643796, "attachment_id": null, "creation_time": "2012-01-30T21:56:47Z", "tags": []}, {"text": "It's true that FAT file systems won't allow files > 4GB. This is something the berkeley mailbox pluggable store should special-case. I'm not sure how common FAT file systems are in this day and age. Macs have used HFS Plus for a long time now, which doesn't have a reachable limit, as I understand it.", "bug_id": 643796, "raw_text": "It's true that FAT file systems won't allow files > 4GB. This is something the berkeley mailbox pluggable store should special-case. I'm not sure how common FAT file systems are in this day and age. Macs have used HFS Plus for a long time now, which doesn't have a reachable limit, as I understand it.", "creator": "mozilla@davidbienvenu.org", "tags": [], "creation_time": "2012-01-30T22:01:03Z", "attachment_id": null, "id": 6020670, "author": "mozilla@davidbienvenu.org", "time": "2012-01-30T22:01:03Z", "count": 22, "is_private": false}, {"is_private": false, "count": 23, "author": "acelists@atlas.sk", "time": "2019-05-16T12:35:34Z", "id": 14121649, "attachment_id": null, "creation_time": "2019-05-16T12:35:34Z", "tags": [], "creator": "acelists@atlas.sk", "raw_text": "Internally, we have removed the 4GB limit for folder size. So it can only fail if the filesystem does not allow a larger file (mbox).\n\nI think there is some way to get the filesystem type (https://searchfox.org/comm-central/source/mailnews/test/resources/mailTestUtils.js#136) so we could display when FAT is used.\n\nWe could do indicators like this one when an overall infrastructure for these (how to display them nicely) is created in bug 1517958.", "bug_id": 643796, "text": "Internally, we have removed the 4GB limit for folder size. So it can only fail if the filesystem does not allow a larger file (mbox).\n\nI think there is some way to get the filesystem type (https://searchfox.org/comm-central/source/mailnews/test/resources/mailTestUtils.js#136) so we could display when FAT is used.\n\nWe could do indicators like this one when an overall infrastructure for these (how to display them nicely) is created in bug 1517958."}, {"is_private": false, "author": "mkmelin+mozilla@iki.fi", "id": 15453511, "attachment_id": null, "tags": [], "creation_time": "2021-06-16T20:11:19Z", "bug_id": 643796, "count": 24, "time": "2021-06-16T20:11:19Z", "creator": "mkmelin+mozilla@iki.fi", "raw_text": "Not sure this is worth doing as it would be the specific over 4G on FAT filesystems... which will be very rare by now.", "text": "Not sure this is worth doing as it would be the specific over 4G on FAT filesystems... which will be very rare by now."}]}}}