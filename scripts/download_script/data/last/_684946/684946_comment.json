{"comments": {}, "bugs": {"684946": {"comments": [{"author": "edmundhyan@gmail.com", "creator": "edmundhyan@gmail.com", "creation_time": "2011-09-06T18:58:55Z", "raw_text": "Converting all hard coded \"Version\" strings to use the template variable field_descs.\n\nOne of the hardest things about this was figuring out what exactly needed to be converted and to make sure I didn't miss any files.  Hopefully I've done it right.\n\nBlocks bug 218746", "time": "2011-09-06T18:58:55Z", "attachment_id": 558544, "text": "Created attachment 558544\nInitial patch for \"Version\" as field_desc\n\nConverting all hard coded \"Version\" strings to use the template variable field_descs.\n\nOne of the hardest things about this was figuring out what exactly needed to be converted and to make sure I didn't miss any files.  Hopefully I've done it right.\n\nBlocks bug 218746", "id": 5702742, "tags": [], "count": 0, "is_private": false, "bug_id": 684946}, {"creation_time": "2011-09-06T19:01:28Z", "raw_text": "Can't add patch to initial bug create..", "author": "edmundhyan@gmail.com", "time": "2011-09-06T19:01:28Z", "attachment_id": 558545, "text": "Created attachment 558545\nInitial patch for \"Version\" as field_desc v2\n\nCan't add patch to initial bug create..", "creator": "edmundhyan@gmail.com", "id": 5702746, "tags": [], "count": 1, "is_private": false, "bug_id": 684946}, {"creator": "mkanat@bugzilla.org", "author": "mkanat@bugzilla.org", "text": "Comment on attachment 558545\nInitial patch for \"Version\" as field_desc v2\n\nReview of attachment 558545:\n-----------------------------------------------------------------\n\nWow, this is pretty great! I'm excited. :-) Just a few small comments:\n\n::: template/en/default/admin/versions/footer.html.tmpl\n@@ +43,5 @@\n>  \n>  [% IF version.name && !no_edit_version_link %]\n> +  Edit [% field_descs.version FILTER html %] <a \n> +  title=\"Edit [% field_descs.version FILTER html %] '\n> +         [% version.name FILTER html %]' of product '\n\nYou probably want [%~ there just to be sure that works. (That strips all preceding whitespace including newlines.)\n\n::: template/en/default/global/user-error.html.tmpl\n@@ +1190,3 @@\n>      [% admindocslinks = {'versions.html' => 'Defining versions'} %]\n>      Sorry, the product <em>[% product.name FILTER html %]</em>\n>      has to have at least one active version in order for you to\n\nat least one active \"version\" (literal, there).\n\n@@ +1417,5 @@\n>  \n>    [% ELSIF error == \"product_must_have_version\" %]\n> +    [% title = BLOCK %]\n> +      Product needs [% field_descs.version FILTER html %]\n> +    [% END %]\n\nInstead of making these into blocks, just do:\n\n[% title = \"Product needs ${field_descs.version}\" %]\n\nWe don't care a whole lot about HTML filtering of field_descs, we just do it in normal template code because otherwise our tests complain.\n\nNote that this comment applies everywhere that you used title = BLOCK, not just here.", "time": "2011-09-13T01:40:12Z", "attachment_id": 558545, "creation_time": "2011-09-13T01:40:12Z", "raw_text": "Review of attachment 558545:\n-----------------------------------------------------------------\n\nWow, this is pretty great! I'm excited. :-) Just a few small comments:\n\n::: template/en/default/admin/versions/footer.html.tmpl\n@@ +43,5 @@\n>  \n>  [% IF version.name && !no_edit_version_link %]\n> +  Edit [% field_descs.version FILTER html %] <a \n> +  title=\"Edit [% field_descs.version FILTER html %] '\n> +         [% version.name FILTER html %]' of product '\n\nYou probably want [%~ there just to be sure that works. (That strips all preceding whitespace including newlines.)\n\n::: template/en/default/global/user-error.html.tmpl\n@@ +1190,3 @@\n>      [% admindocslinks = {'versions.html' => 'Defining versions'} %]\n>      Sorry, the product <em>[% product.name FILTER html %]</em>\n>      has to have at least one active version in order for you to\n\nat least one active \"version\" (literal, there).\n\n@@ +1417,5 @@\n>  \n>    [% ELSIF error == \"product_must_have_version\" %]\n> +    [% title = BLOCK %]\n> +      Product needs [% field_descs.version FILTER html %]\n> +    [% END %]\n\nInstead of making these into blocks, just do:\n\n[% title = \"Product needs ${field_descs.version}\" %]\n\nWe don't care a whole lot about HTML filtering of field_descs, we just do it in normal template code because otherwise our tests complain.\n\nNote that this comment applies everywhere that you used title = BLOCK, not just here.", "bug_id": 684946, "tags": [], "count": 2, "is_private": false, "id": 5714939}, {"attachment_id": 562226, "time": "2011-09-24T07:13:35Z", "text": "Created attachment 562226\nSecond patch for \"Version\" as field_desc.version\n\nSorry for such a long delay.  I went on vacation and then started school, back on this now.\n\nWhile fixing mkanat's changes, I found a huge bug in my old patch. I had modified a lot more in template/en/default/admin/* but they were all deleted for some reason.  Around 70~ lines were missing.  This caused the  file_not_specified_in_diff error viewing the patch in diff view.   Extremely sorry for this, this new patch has all of the files I've modified.\n\nmkanat: I don't know if I understood your comment on template/en/default/global/user-error.html.tmpl:1190.  Are you saying to add literal double quotes to the string, \"version\"?  I've gone and done that in this new patch.\n\nSecondly, I've gone ahead and done the change regarding the BLOCKs that I had added for titles.  What should I do for titles that already had the BLOCK to begin with?  For example, in:\n/var/www/html/bugzilla/template/en/default/admin/versions/create.html.tmpl:27\n\nDoes product.name have to be HTML filtered, or could I just do ${product.name} too?  Another interesting example is template/en/default/global/user-error.html.tmpl:1628 which uses terms.Bugs without any html filtering already and could be replaced with ${terms.Bugs}.\n\nI'm leaving all existing title blocks with \"Version\" alone for now.", "raw_text": "Sorry for such a long delay.  I went on vacation and then started school, back on this now.\n\nWhile fixing mkanat's changes, I found a huge bug in my old patch. I had modified a lot more in template/en/default/admin/* but they were all deleted for some reason.  Around 70~ lines were missing.  This caused the  file_not_specified_in_diff error viewing the patch in diff view.   Extremely sorry for this, this new patch has all of the files I've modified.\n\nmkanat: I don't know if I understood your comment on template/en/default/global/user-error.html.tmpl:1190.  Are you saying to add literal double quotes to the string, \"version\"?  I've gone and done that in this new patch.\n\nSecondly, I've gone ahead and done the change regarding the BLOCKs that I had added for titles.  What should I do for titles that already had the BLOCK to begin with?  For example, in:\n/var/www/html/bugzilla/template/en/default/admin/versions/create.html.tmpl:27\n\nDoes product.name have to be HTML filtered, or could I just do ${product.name} too?  Another interesting example is template/en/default/global/user-error.html.tmpl:1628 which uses terms.Bugs without any html filtering already and could be replaced with ${terms.Bugs}.\n\nI'm leaving all existing title blocks with \"Version\" alone for now.", "creation_time": "2011-09-24T07:13:35Z", "bug_id": 684946, "id": 5735150, "tags": [], "count": 3, "is_private": false, "author": "edmundhyan@gmail.com", "creator": "edmundhyan@gmail.com"}, {"raw_text": "Also, since we're modifying the file already with this fix, could we fix bug 465118 while we're at it too?", "creation_time": "2011-09-24T09:27:41Z", "attachment_id": null, "time": "2011-09-24T09:27:41Z", "text": "Also, since we're modifying the file already with this fix, could we fix bug 465118 while we're at it too?", "id": 5735198, "tags": [], "is_private": false, "count": 4, "bug_id": 684946, "author": "edmundhyan@gmail.com", "creator": "edmundhyan@gmail.com"}, {"bug_id": 684946, "tags": [], "count": 5, "is_private": false, "id": 5744665, "creator": "mkanat@bugzilla.org", "text": "(In reply to Edmund Yan from comment #3)\n> mkanat: I don't know if I understood your comment on\n> template/en/default/global/user-error.html.tmpl:1190.  Are you saying to add\n> literal double quotes to the string, \"version\"?  I've gone and done that in\n> this new patch.\n\n  No, that was my error. I thought that you had left that there and failed to use field_descs. Don't put quotes around it, that's nonsensical. :-)\n\n> Secondly, I've gone ahead and done the change regarding the BLOCKs that I\n> had added for titles.  What should I do for titles that already had the\n> BLOCK to begin with?  For example, in:\n> /var/www/html/bugzilla/template/en/default/admin/versions/create.html.tmpl:27\n\n  Just retain the blocks.\n\n> Does product.name have to be HTML filtered, or could I just do\n> ${product.name} too?  Another interesting example is\n> template/en/default/global/user-error.html.tmpl:1628 which uses terms.Bugs\n> without any html filtering already and could be replaced with ${terms.Bugs}.\n\n  product.name must be HTML filtered. terms.Bugs does not have to be HTML filtered.", "author": "mkanat@bugzilla.org", "time": "2011-09-28T23:07:55Z", "attachment_id": null, "raw_text": "(In reply to Edmund Yan from comment #3)\n> mkanat: I don't know if I understood your comment on\n> template/en/default/global/user-error.html.tmpl:1190.  Are you saying to add\n> literal double quotes to the string, \"version\"?  I've gone and done that in\n> this new patch.\n\n  No, that was my error. I thought that you had left that there and failed to use field_descs. Don't put quotes around it, that's nonsensical. :-)\n\n> Secondly, I've gone ahead and done the change regarding the BLOCKs that I\n> had added for titles.  What should I do for titles that already had the\n> BLOCK to begin with?  For example, in:\n> /var/www/html/bugzilla/template/en/default/admin/versions/create.html.tmpl:27\n\n  Just retain the blocks.\n\n> Does product.name have to be HTML filtered, or could I just do\n> ${product.name} too?  Another interesting example is\n> template/en/default/global/user-error.html.tmpl:1628 which uses terms.Bugs\n> without any html filtering already and could be replaced with ${terms.Bugs}.\n\n  product.name must be HTML filtered. terms.Bugs does not have to be HTML filtered.", "creation_time": "2011-09-28T23:07:55Z"}, {"creator": "mkanat@bugzilla.org", "author": "mkanat@bugzilla.org", "creation_time": "2011-09-28T23:11:00Z", "raw_text": "Review of attachment 562226:\n-----------------------------------------------------------------\n\n::: template/en/default/global/user-error.html.tmpl\n@@ +1190,3 @@\n>      [% admindocslinks = {'versions.html' => 'Defining versions'} %]\n>      Sorry, the product <em>[% product.name FILTER html %]</em>\n> +    has to have at least one active \"version\" in order for you to\n\nOkay, no, I was right. Don't use quotes there, use [% field_descs.version FILTER html %].\n\n@@ +1420,3 @@\n>      [% admindocslinks = {'products.html' => 'Administering products',\n>                           'versions.html' => 'Administering versions'} %]\n>      You must enter a valid version to create a new product.\n\nYou must enter a valid [% field_descs.version FILTER html %]\n\n@@ +1619,2 @@\n>      [% admindocslinks = {'versions.html' => 'Administering versions'} %]\n>      The version '[% name FILTER html %]' already exists for product '\n\nThe [% field_descs.version FILTER html %]\n\n@@ +1625,1 @@\n>      You must enter a name for this version.\n\nYou must enter a name for this [% field_descs.version FILTER html %]\n\n@@ +1631,3 @@\n>      There are [% nb FILTER html %] [%+ terms.bugs %] associated with this\n>      version! You must reassign those [% terms.bugs %] to another version\n>      before you can delete this one.\n\nSame comment here as the others, many literal instances of the word \"version\" here.", "text": "Comment on attachment 562226\nSecond patch for \"Version\" as field_desc.version\n\nReview of attachment 562226:\n-----------------------------------------------------------------\n\n::: template/en/default/global/user-error.html.tmpl\n@@ +1190,3 @@\n>      [% admindocslinks = {'versions.html' => 'Defining versions'} %]\n>      Sorry, the product <em>[% product.name FILTER html %]</em>\n> +    has to have at least one active \"version\" in order for you to\n\nOkay, no, I was right. Don't use quotes there, use [% field_descs.version FILTER html %].\n\n@@ +1420,3 @@\n>      [% admindocslinks = {'products.html' => 'Administering products',\n>                           'versions.html' => 'Administering versions'} %]\n>      You must enter a valid version to create a new product.\n\nYou must enter a valid [% field_descs.version FILTER html %]\n\n@@ +1619,2 @@\n>      [% admindocslinks = {'versions.html' => 'Administering versions'} %]\n>      The version '[% name FILTER html %]' already exists for product '\n\nThe [% field_descs.version FILTER html %]\n\n@@ +1625,1 @@\n>      You must enter a name for this version.\n\nYou must enter a name for this [% field_descs.version FILTER html %]\n\n@@ +1631,3 @@\n>      There are [% nb FILTER html %] [%+ terms.bugs %] associated with this\n>      version! You must reassign those [% terms.bugs %] to another version\n>      before you can delete this one.\n\nSame comment here as the others, many literal instances of the word \"version\" here.", "attachment_id": 562226, "time": "2011-09-28T23:11:00Z", "tags": [], "count": 6, "is_private": false, "id": 5744674, "bug_id": 684946}, {"author": "mkanat@bugzilla.org", "creator": "mkanat@bugzilla.org", "time": "2011-11-29T08:40:53Z", "attachment_id": null, "text": "(In reply to Edmund Yan from comment #4)\n> Also, since we're modifying the file already with this fix, could we fix bug\n> 465118 while we're at it too?\n\n  Sure, go ahead. :-)", "creation_time": "2011-11-29T08:40:53Z", "raw_text": "(In reply to Edmund Yan from comment #4)\n> Also, since we're modifying the file already with this fix, could we fix bug\n> 465118 while we're at it too?\n\n  Sure, go ahead. :-)", "bug_id": 684946, "id": 5878189, "tags": [], "count": 7, "is_private": false}, {"author": "LpSolit@gmail.com", "creator": "LpSolit@gmail.com", "creation_time": "2013-01-17T19:06:51Z", "raw_text": "Too late for 4.4. We already released rc1.", "attachment_id": null, "time": "2013-01-17T19:06:51Z", "text": "Too late for 4.4. We already released rc1.", "id": 7013277, "is_private": false, "count": 8, "tags": [], "bug_id": 684946}]}}}