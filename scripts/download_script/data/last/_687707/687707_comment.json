{"comments": {}, "bugs": {"687707": {"comments": [{"creator": "cedricv@neonux.com", "author": "cedricv@neonux.com", "bug_id": 687707, "is_private": false, "count": 0, "tags": [], "id": 5724346, "text": "PRessing F1 when caret is on a property or value name should display CSS documentation.\n\nSuggested by jwein during AllHands.", "attachment_id": null, "time": "2011-09-19T23:03:11Z", "creation_time": "2011-09-19T23:03:11Z", "raw_text": "PRessing F1 when caret is on a property or value name should display CSS documentation.\n\nSuggested by jwein during AllHands."}, {"author": "cedricv@neonux.com", "creator": "cedricv@neonux.com", "time": "2011-10-13T17:51:43Z", "attachment_id": null, "text": "This is implemented in add-on v0.4.0.", "creation_time": "2011-10-13T17:51:43Z", "raw_text": "This is implemented in add-on v0.4.0.", "bug_id": 687707, "id": 5780601, "is_private": false, "count": 1, "tags": []}, {"raw_text": "", "creation_time": "2012-01-12T16:43:43Z", "author": "cedricv@neonux.com", "attachment_id": 588048, "time": "2012-01-12T16:43:43Z", "creator": "cedricv@neonux.com", "text": "Created attachment 588048\nOpen MDN when pressing F1 on a CSS property", "id": 5975527, "tags": [], "is_private": false, "count": 2, "bug_id": 687707}, {"author": "dao+bmo@mozilla.com", "time": "2012-01-12T17:40:50Z", "attachment_id": 588048, "text": "Comment on attachment 588048\nOpen MDN when pressing F1 on a CSS property\n\nMDN doesn't support all locales that Firefox supports. I think general.useragent.locale is deprecated, too.", "creator": "dao+bmo@mozilla.com", "creation_time": "2012-01-12T17:40:50Z", "raw_text": "MDN doesn't support all locales that Firefox supports. I think general.useragent.locale is deprecated, too.", "bug_id": 687707, "id": 5975706, "tags": [], "count": 3, "is_private": false}, {"creator": "cedricv@neonux.com", "author": "cedricv@neonux.com", "bug_id": 687707, "is_private": false, "count": 4, "tags": [], "id": 5975834, "text": "(In reply to D\u00e3o Gottwald [:dao] from comment #3)\n> Comment on attachment 588048\n> Open MDN when pressing F1 on a CSS property\n> \n> MDN doesn't support all locales that Firefox supports.\n\nThis sounds like a MDN bug. If a locale is not available, MDN should redirect to en-US or whatever makes more sense wrt the requested locale.\n\n\n> I think general.useragent.locale is deprecated, too.\n\nWhat is the recommended way to get the user locale?", "time": "2012-01-12T18:18:46Z", "attachment_id": null, "raw_text": "(In reply to D\u00e3o Gottwald [:dao] from comment #3)\n> Comment on attachment 588048\n> Open MDN when pressing F1 on a CSS property\n> \n> MDN doesn't support all locales that Firefox supports.\n\nThis sounds like a MDN bug. If a locale is not available, MDN should redirect to en-US or whatever makes more sense wrt the requested locale.\n\n\n> I think general.useragent.locale is deprecated, too.\n\nWhat is the recommended way to get the user locale?", "creation_time": "2012-01-12T18:18:46Z"}, {"tags": [], "count": 5, "is_private": false, "id": 5978105, "bug_id": 687707, "raw_text": "CssHtmlTree.jsm:510:  this.link = \"https://developer.mozilla.org/en/CSS/\" + aName;(In reply to Cedric Vivier [cedricv] from comment #4)\n> (In reply to D\u00e3o Gottwald [:dao] from comment #3)\n> > Comment on attachment 588048\n> > Open MDN when pressing F1 on a CSS property\n> > \n> > MDN doesn't support all locales that Firefox supports.\n> \n> This sounds like a MDN bug. If a locale is not available, MDN should\n> redirect to en-US or whatever makes more sense wrt the requested locale.\n\nIdeally, we would fix MDN bug 713924 so that documentation links are locale neutral.\n\nFWIW, the similar feature that already landed in the Style Inspector does not handle locales :\n\n\"\"\"\nCssHtmlTree.jsm:510:  this.link = \"https://developer.mozilla.org/en/CSS/\" + aName;\n\"\"\"\n\nIf sending users to the English MDN is preferred we should do the change in this patch... or do what this patch does in Style Inspector as well for consistency.\n\nAlternatively, it might be a good idea to add a new \"devtools.locale\" pref since DevTools have slightly different localization needs than the rest of Firefox (eg. our strings are not required to be translated iirc).", "creation_time": "2012-01-13T11:02:45Z", "text": "CssHtmlTree.jsm:510:  this.link = \"https://developer.mozilla.org/en/CSS/\" + aName;(In reply to Cedric Vivier [cedricv] from comment #4)\n> (In reply to D\u00e3o Gottwald [:dao] from comment #3)\n> > Comment on attachment 588048\n> > Open MDN when pressing F1 on a CSS property\n> > \n> > MDN doesn't support all locales that Firefox supports.\n> \n> This sounds like a MDN bug. If a locale is not available, MDN should\n> redirect to en-US or whatever makes more sense wrt the requested locale.\n\nIdeally, we would fix MDN bug 713924 so that documentation links are locale neutral.\n\nFWIW, the similar feature that already landed in the Style Inspector does not handle locales :\n\n\"\"\"\nCssHtmlTree.jsm:510:  this.link = \"https://developer.mozilla.org/en/CSS/\" + aName;\n\"\"\"\n\nIf sending users to the English MDN is preferred we should do the change in this patch... or do what this patch does in Style Inspector as well for consistency.\n\nAlternatively, it might be a good idea to add a new \"devtools.locale\" pref since DevTools have slightly different localization needs than the rest of Firefox (eg. our strings are not required to be translated iirc).", "attachment_id": null, "time": "2012-01-13T11:02:45Z", "creator": "cedricv@neonux.com", "author": "cedricv@neonux.com"}, {"creation_time": "2012-01-16T14:39:35Z", "raw_text": "", "attachment_id": 588864, "time": "2012-01-16T14:39:35Z", "author": "cedricv@neonux.com", "creator": "cedricv@neonux.com", "text": "Created attachment 588864\npatch v2 that follows pref-related conventions discussed in bug 687698", "id": 5982709, "count": 6, "is_private": false, "tags": [], "bug_id": 687707}, {"creation_time": "2012-01-16T15:51:04Z", "raw_text": ">+const LOCALE_PREF = \"general.useragent.locale\";\n>+const MDN_CSS_URL = \"https://developer.mozilla.org/{locale}/CSS/{token}\";\n\nI explicitly r-'d this already :/\n\nUntil bug 713924 is fixed, you should link to the English version.", "text": "Comment on attachment 588864\npatch v2 that follows pref-related conventions discussed in bug 687698\n\n>+const LOCALE_PREF = \"general.useragent.locale\";\n>+const MDN_CSS_URL = \"https://developer.mozilla.org/{locale}/CSS/{token}\";\n\nI explicitly r-'d this already :/\n\nUntil bug 713924 is fixed, you should link to the English version.", "attachment_id": 588864, "time": "2012-01-16T15:51:04Z", "count": 7, "is_private": false, "tags": [], "id": 5982809, "bug_id": 687707, "creator": "dao+bmo@mozilla.com", "author": "dao+bmo@mozilla.com"}, {"creator": "cedricv@neonux.com", "author": "cedricv@neonux.com", "is_private": false, "count": 8, "tags": [], "id": 5982964, "bug_id": 687707, "raw_text": "(In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> Comment on attachment 588864\n> patch v2 that follows pref-related conventions discussed in bug 687698\n> >+const LOCALE_PREF = \"general.useragent.locale\";\n> I explicitly r-'d this already :/\n\nSorry Dao, consider this as a mere patch queue update to make it still apply after the  pref change in bug 687698...\n\n\n> Until bug 713924 is fixed, you should link to the English version.\n\nI didn't get answer to my questions in comment #5 until now hence why I didn't change the behavior yet.\n\nWill update the patch to link to EN locale only...", "creation_time": "2012-01-16T17:23:03Z", "text": "(In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> Comment on attachment 588864\n> patch v2 that follows pref-related conventions discussed in bug 687698\n> >+const LOCALE_PREF = \"general.useragent.locale\";\n> I explicitly r-'d this already :/\n\nSorry Dao, consider this as a mere patch queue update to make it still apply after the  pref change in bug 687698...\n\n\n> Until bug 713924 is fixed, you should link to the English version.\n\nI didn't get answer to my questions in comment #5 until now hence why I didn't change the behavior yet.\n\nWill update the patch to link to EN locale only...", "time": "2012-01-16T17:23:03Z", "attachment_id": null}, {"author": "rcampbell@mozilla.com", "attachment_id": null, "time": "2012-01-16T22:53:41Z", "creator": "rcampbell@mozilla.com", "text": "sorry, I was slow on the response regarding localized links. en/CSS seems to be the way to go.", "creation_time": "2012-01-16T22:53:41Z", "raw_text": "sorry, I was slow on the response regarding localized links. en/CSS seems to be the way to go.", "bug_id": 687707, "id": 5983820, "tags": [], "is_private": false, "count": 9}, {"creator": "cedricv@neonux.com", "author": "cedricv@neonux.com", "text": "Created attachment 589099\nv3 - link to english MDN only", "attachment_id": 589099, "time": "2012-01-17T04:28:05Z", "raw_text": "", "creation_time": "2012-01-17T04:28:05Z", "bug_id": 687707, "tags": [], "count": 10, "is_private": false, "id": 5984359}, {"attachment_id": 589447, "time": "2012-01-18T10:42:50Z", "text": "Created attachment 589447\nv4 - just remove unnecessary event handling\n\nSo, looking back at this... I end up thinking the whole event handling is kinda unnecessary complexity anyways - we can just use the timer-based fallback every time.\n\nUpdated patch.", "creation_time": "2012-01-18T10:42:50Z", "raw_text": "So, looking back at this... I end up thinking the whole event handling is kinda unnecessary complexity anyways - we can just use the timer-based fallback every time.\n\nUpdated patch.", "bug_id": 687707, "id": 5988264, "is_private": false, "count": 11, "tags": [], "author": "cedricv@neonux.com", "creator": "cedricv@neonux.com"}, {"bug_id": 687707, "id": 5988275, "count": 12, "is_private": false, "tags": [], "attachment_id": 589447, "time": "2012-01-18T10:52:20Z", "text": "Comment on attachment 589447\nv4 - just remove unnecessary event handling\n\nwrong bug!", "raw_text": "wrong bug!", "creation_time": "2012-01-18T10:52:20Z", "author": "dao+bmo@mozilla.com", "creator": "dao+bmo@mozilla.com"}, {"creator": "rcampbell@mozilla.com", "author": "rcampbell@mozilla.com", "raw_text": "@@ -66,16 +66,19 @@ const TRANSITION_DURATION_MS = 500; /* sync with TRANSITION_RULE */\n const TRANSITION_RULE = \"\\\n :root.moz-styleeditor-transitioning, :root.moz-styleeditor-transitioning * {\\\n\nthis'll need another rebasing since landing the transition patch.\n\nin function SE_getTokenAtCursor():\n\n+    let text = this._sourceEditor.getText();\n\nthat is the whole file. Could we limit our testing to just the line at cursor?\n\n+    while (!/[\\s;:\\{\\}\\[\\]\\\"\\']/.test(text[end] || \" \")) {\n+      end++;\n+    }\n+    while (!/[\\s;:\\{\\}\\[\\]\\\"\\']/.test(text[start] || \" \")) {\n+      start--;\n+    }\n\nthese make me a little concerned.\n\nFirst, the regex is repeated, add it to a const and reuse it in each loop.\n\n\"test the character at text[position] if it is in the range of non-space characters or allowed punctuation\" is how I read those. True?\n\nif test fails or \" \" (space)?\n\nincrement or decrement the boundaries.\n\nAre these tests ever going to be reused? Should we make an isValidCSSCharacter method to test the characters and hide that regex from the getTokenAtCursor method altogether?\n\n+  openInfoForTokenAtCursor: function SE_openInfoForTokenAtCursor()\n+  {\n+    let token = this.getTokenAtCursor();\n+    if (!token.text.length ||\n+        !/\\s/.test(token.previousCharacter) || token.nextCharacter != \":\") {\n+      return;\n+    }\n\nwhat happens here if we're in a selector with a pseudo-class like ::hover as the next character?\n\nR- for this pass. Please forgive me! :)", "creation_time": "2012-01-19T16:36:07Z", "text": "Comment on attachment 589099\nv3 - link to english MDN only\n\n@@ -66,16 +66,19 @@ const TRANSITION_DURATION_MS = 500; /* sync with TRANSITION_RULE */\n const TRANSITION_RULE = \"\\\n :root.moz-styleeditor-transitioning, :root.moz-styleeditor-transitioning * {\\\n\nthis'll need another rebasing since landing the transition patch.\n\nin function SE_getTokenAtCursor():\n\n+    let text = this._sourceEditor.getText();\n\nthat is the whole file. Could we limit our testing to just the line at cursor?\n\n+    while (!/[\\s;:\\{\\}\\[\\]\\\"\\']/.test(text[end] || \" \")) {\n+      end++;\n+    }\n+    while (!/[\\s;:\\{\\}\\[\\]\\\"\\']/.test(text[start] || \" \")) {\n+      start--;\n+    }\n\nthese make me a little concerned.\n\nFirst, the regex is repeated, add it to a const and reuse it in each loop.\n\n\"test the character at text[position] if it is in the range of non-space characters or allowed punctuation\" is how I read those. True?\n\nif test fails or \" \" (space)?\n\nincrement or decrement the boundaries.\n\nAre these tests ever going to be reused? Should we make an isValidCSSCharacter method to test the characters and hide that regex from the getTokenAtCursor method altogether?\n\n+  openInfoForTokenAtCursor: function SE_openInfoForTokenAtCursor()\n+  {\n+    let token = this.getTokenAtCursor();\n+    if (!token.text.length ||\n+        !/\\s/.test(token.previousCharacter) || token.nextCharacter != \":\") {\n+      return;\n+    }\n\nwhat happens here if we're in a selector with a pseudo-class like ::hover as the next character?\n\nR- for this pass. Please forgive me! :)", "attachment_id": 589099, "time": "2012-01-19T16:36:07Z", "is_private": false, "count": 13, "tags": [], "id": 5992284, "bug_id": 687707}, {"text": "This feature will likely rather use another approach using an AST.", "creator": "cedricv@neonux.com", "author": "cedricv@neonux.com", "attachment_id": null, "time": "2012-02-09T04:23:45Z", "creation_time": "2012-02-09T04:23:45Z", "raw_text": "This feature will likely rather use another approach using an AST.", "bug_id": 687707, "tags": [], "is_private": false, "count": 14, "id": 6046197}, {"author": "michael@ratcliffefamily.org", "creator": "michael@ratcliffefamily.org", "id": 7468876, "tags": [], "is_private": false, "count": 15, "bug_id": 687707, "raw_text": "", "creation_time": "2013-05-28T13:35:47Z", "attachment_id": null, "time": "2013-05-28T13:35:47Z", "text": "*** Bug 725735 has been marked as a duplicate of this bug. ***"}, {"bug_id": 687707, "id": 7468881, "tags": [], "is_private": false, "count": 16, "attachment_id": null, "time": "2013-05-28T13:37:35Z", "text": "This bug also applies to the Rule and Computed views.", "raw_text": "This bug also applies to the Rule and Computed views.", "creation_time": "2013-05-28T13:37:35Z", "author": "michael@ratcliffefamily.org", "creator": "michael@ratcliffefamily.org"}, {"author": "patrickbrosset+bugzilla@gmail.com", "creator": "patrickbrosset+bugzilla@gmail.com", "bug_id": 687707, "id": 11520456, "tags": [], "is_private": false, "count": 17, "time": "2016-07-04T08:44:49Z", "attachment_id": null, "text": "Inspector bug triage (filter on CLIMBING SHOES).", "raw_text": "Inspector bug triage (filter on CLIMBING SHOES).", "creation_time": "2016-07-04T08:44:49Z"}, {"text": "Inspector bug triage (filter on CLIMBING SHOES).", "time": "2016-07-12T11:50:29Z", "attachment_id": null, "raw_text": "Inspector bug triage (filter on CLIMBING SHOES).", "creation_time": "2016-07-12T11:50:29Z", "bug_id": 687707, "is_private": false, "count": 18, "tags": [], "id": 11541319, "creator": "patrickbrosset+bugzilla@gmail.com", "author": "patrickbrosset+bugzilla@gmail.com"}]}}}