{"bugs": {"713680": {"comments": [{"id": 5941186, "attachment_id": 584454, "raw_text": "", "author": "dao+bmo@mozilla.com", "creation_time": "2011-12-27T18:25:24Z", "time": "2011-12-27T18:25:24Z", "bug_id": 713680, "tags": [], "text": "Created attachment 584454\npatch", "creator": "dao+bmo@mozilla.com", "is_private": false, "count": 0}, {"raw_text": "Does this involve XP if Consolas is installed?", "attachment_id": null, "id": 5941255, "count": 1, "is_private": false, "creator": "moz@jeka.info", "text": "Does this involve XP if Consolas is installed?", "tags": [], "time": "2011-12-27T19:00:10Z", "bug_id": 713680, "creation_time": "2011-12-27T19:00:10Z", "author": "moz@jeka.info"}, {"attachment_id": null, "raw_text": "(In reply to j.j. from comment #1)\n> Does this involve XP if Consolas is installed?\n\nYes.\n\nWhat needs to be documented here?", "id": 5941267, "creator": "dao+bmo@mozilla.com", "is_private": false, "count": 2, "author": "dao+bmo@mozilla.com", "creation_time": "2011-12-27T19:03:45Z", "tags": [], "bug_id": 713680, "time": "2011-12-27T19:03:45Z", "text": "(In reply to j.j. from comment #1)\n> Does this involve XP if Consolas is installed?\n\nYes.\n\nWhat needs to be documented here?"}, {"count": 3, "creator": "dbaron@dbaron.org", "is_private": false, "tags": [], "bug_id": 713680, "time": "2011-12-27T19:55:50Z", "text": "Is it ok to put a list of names in the font.name.* preferences (as opposed to the font.name-list.* preferences)?", "author": "dbaron@dbaron.org", "creation_time": "2011-12-27T19:55:50Z", "raw_text": "Is it ok to put a list of names in the font.name.* preferences (as opposed to the font.name-list.* preferences)?", "attachment_id": null, "id": 5941424}, {"text": "Unless you force ClearType on for Consolas, I'd recommend against this. Consolas looks terrible without ClearType.", "tags": [], "time": "2011-12-27T21:02:23Z", "creation_time": "2011-12-27T21:02:23Z", "author": "rain@sunshowers.io", "is_private": false, "creator": "rain@sunshowers.io", "id": 5941534, "raw_text": "Unless you force ClearType on for Consolas, I'd recommend against this. Consolas looks terrible without ClearType.", "attachment_id": null, "bug_id": 713680, "count": 4}, {"count": 5, "bug_id": 713680, "attachment_id": null, "raw_text": "(In reply to David Baron [:dbaron] from comment #3)\n> Is it ok to put a list of names in the font.name.* preferences (as opposed\n> to the font.name-list.* preferences)?\n\nI haven't looked at the code, but the Courier New fallback appears to work fine.\n\n(In reply to Siddharth Agarwal [:sid0] from comment #4)\n> Unless you force ClearType on for Consolas, I'd recommend against this.\n> Consolas looks terrible without ClearType.\n\nIt's on by default on Windows Vista and 7 and Consolas doesn't exist by default on XP, so I'm not too worried about this. I don't know what it would take to force ClearType on for Consolas, but it sounds like this would be a good followup bug.", "id": 5941574, "is_private": false, "creator": "dao+bmo@mozilla.com", "creation_time": "2011-12-27T21:19:51Z", "author": "dao+bmo@mozilla.com", "text": "(In reply to David Baron [:dbaron] from comment #3)\n> Is it ok to put a list of names in the font.name.* preferences (as opposed\n> to the font.name-list.* preferences)?\n\nI haven't looked at the code, but the Courier New fallback appears to work fine.\n\n(In reply to Siddharth Agarwal [:sid0] from comment #4)\n> Unless you force ClearType on for Consolas, I'd recommend against this.\n> Consolas looks terrible without ClearType.\n\nIt's on by default on Windows Vista and 7 and Consolas doesn't exist by default on XP, so I'm not too worried about this. I don't know what it would take to force ClearType on for Consolas, but it sounds like this would be a good followup bug.", "time": "2011-12-27T21:19:51Z", "tags": []}, {"count": 6, "creator": "rain@sunshowers.io", "is_private": false, "tags": [], "bug_id": 713680, "time": "2011-12-27T21:26:57Z", "text": "(In reply to D\u00e3o Gottwald [:dao] from comment #5)\n> Consolas doesn't exist by\n> default on XP\n\nEveryone who installs Microsoft Office 2007 or above, or one of the free Office viewers, gets Consolas. That is going to be a sizable number of people. Expect plenty of gnashing and/or bugs filed.\n\nWhat I'd recommend instead is something like bug 465633, where you only switch to Consolas if you're on Vista/7. (Disclosure: I wrote that code.)", "author": "rain@sunshowers.io", "creation_time": "2011-12-27T21:26:57Z", "raw_text": "(In reply to D\u00e3o Gottwald [:dao] from comment #5)\n> Consolas doesn't exist by\n> default on XP\n\nEveryone who installs Microsoft Office 2007 or above, or one of the free Office viewers, gets Consolas. That is going to be a sizable number of people. Expect plenty of gnashing and/or bugs filed.\n\nWhat I'd recommend instead is something like bug 465633, where you only switch to Consolas if you're on Vista/7. (Disclosure: I wrote that code.)", "attachment_id": null, "id": 5941600}, {"id": 5941624, "attachment_id": null, "raw_text": "(In reply to Siddharth Agarwal [:sid0] from comment #6)\n> (In reply to D\u00e3o Gottwald [:dao] from comment #5)\n> > Consolas doesn't exist by default on XP\n> \n> Everyone who installs Microsoft Office 2007 or above, or one of the free\n> Office viewers, gets Consolas. That is going to be a sizable number of\n> people. Expect plenty of gnashing and/or bugs filed.\n\nThe prospect of bugs being filed doesn't scare me. ;) I'd be more interested in estimations as to how many users are going to be affected.\n\n> What I'd recommend instead is something like bug 465633, where you only\n> switch to Consolas if you're on Vista/7. (Disclosure: I wrote that code.)\n\nIf core developers want something like that, I'm all ears. It surely doesn't look like it belongs in front-end code and forcing ClearType on for Consolas sounds like a cleaner solution to me.\n\nNote that the aliased rendering is already a problem in places that hard-code Consolas, such as our own devtools stylesheets: http://mxr.mozilla.org/mozilla-central/search?string=consolas&find=devtools", "creation_time": "2011-12-27T21:39:50Z", "author": "dao+bmo@mozilla.com", "text": "(In reply to Siddharth Agarwal [:sid0] from comment #6)\n> (In reply to D\u00e3o Gottwald [:dao] from comment #5)\n> > Consolas doesn't exist by default on XP\n> \n> Everyone who installs Microsoft Office 2007 or above, or one of the free\n> Office viewers, gets Consolas. That is going to be a sizable number of\n> people. Expect plenty of gnashing and/or bugs filed.\n\nThe prospect of bugs being filed doesn't scare me. ;) I'd be more interested in estimations as to how many users are going to be affected.\n\n> What I'd recommend instead is something like bug 465633, where you only\n> switch to Consolas if you're on Vista/7. (Disclosure: I wrote that code.)\n\nIf core developers want something like that, I'm all ears. It surely doesn't look like it belongs in front-end code and forcing ClearType on for Consolas sounds like a cleaner solution to me.\n\nNote that the aliased rendering is already a problem in places that hard-code Consolas, such as our own devtools stylesheets: http://mxr.mozilla.org/mozilla-central/search?string=consolas&find=devtools", "tags": [], "bug_id": 713680, "time": "2011-12-27T21:39:50Z", "is_private": false, "creator": "dao+bmo@mozilla.com", "count": 7}, {"count": 8, "bug_id": 713680, "raw_text": "(In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> If core developers want something like that, I'm all ears. It surely doesn't\n> look like it belongs in front-end code and forcing ClearType on for Consolas\n> sounds like a cleaner solution to me.\n\nDefinitely; I don't disagree that it's a hack. I do think that the outcome's going to be better if you don't do that though.\n\n> \n> Note that the aliased rendering is already a problem in places that\n> hard-code Consolas, such as our own devtools stylesheets:\n> http://mxr.mozilla.org/mozilla-central/search?string=consolas&find=devtools\n\nI think that's a bug, though, and should just be monospace.", "attachment_id": null, "id": 5941632, "creator": "rain@sunshowers.io", "is_private": false, "time": "2011-12-27T21:46:10Z", "tags": [], "text": "(In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> If core developers want something like that, I'm all ears. It surely doesn't\n> look like it belongs in front-end code and forcing ClearType on for Consolas\n> sounds like a cleaner solution to me.\n\nDefinitely; I don't disagree that it's a hack. I do think that the outcome's going to be better if you don't do that though.\n\n> \n> Note that the aliased rendering is already a problem in places that\n> hard-code Consolas, such as our own devtools stylesheets:\n> http://mxr.mozilla.org/mozilla-central/search?string=consolas&find=devtools\n\nI think that's a bug, though, and should just be monospace.", "author": "rain@sunshowers.io", "creation_time": "2011-12-27T21:46:10Z"}, {"bug_id": 713680, "count": 9, "id": 5941637, "attachment_id": null, "raw_text": "(In reply to Siddharth Agarwal [:sid0] from comment #8)\n> (In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> > Note that the aliased rendering is already a problem in places that\n> > hard-code Consolas, such as our own devtools stylesheets:\n> > http://mxr.mozilla.org/mozilla-central/search?string=consolas&find=devtools\n> \n> I think that's a bug, though, and should just be monospace.\n\nThat's why this one blocks bug 706047.", "author": "dao+bmo@mozilla.com", "creation_time": "2011-12-27T21:47:40Z", "tags": [], "time": "2011-12-27T21:47:40Z", "text": "(In reply to Siddharth Agarwal [:sid0] from comment #8)\n> (In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> > Note that the aliased rendering is already a problem in places that\n> > hard-code Consolas, such as our own devtools stylesheets:\n> > http://mxr.mozilla.org/mozilla-central/search?string=consolas&find=devtools\n> \n> I think that's a bug, though, and should just be monospace.\n\nThat's why this one blocks bug 706047.", "creator": "dao+bmo@mozilla.com", "is_private": false}, {"id": 5941643, "raw_text": "(In reply to Siddharth Agarwal [:sid0] from comment #8)\n> Definitely; I don't disagree that it's a hack. I do think that the outcome's\n> going to be better if you don't do that though.\n\nEr, I mean \"going to be better THAN if you don't do that\". The best way is definitely to force ClearType on for Consolas. The second-best way is to make this dependent on the OS ClearType setting.", "attachment_id": null, "time": "2011-12-27T21:53:09Z", "tags": [], "text": "(In reply to Siddharth Agarwal [:sid0] from comment #8)\n> Definitely; I don't disagree that it's a hack. I do think that the outcome's\n> going to be better if you don't do that though.\n\nEr, I mean \"going to be better THAN if you don't do that\". The best way is definitely to force ClearType on for Consolas. The second-best way is to make this dependent on the OS ClearType setting.", "author": "rain@sunshowers.io", "creation_time": "2011-12-27T21:53:09Z", "creator": "rain@sunshowers.io", "is_private": false, "bug_id": 713680, "count": 10}, {"count": 11, "bug_id": 713680, "creator": "moz@jeka.info", "is_private": false, "time": "2011-12-28T01:24:44Z", "tags": [], "text": "> What needs to be documented here?\n\nWeb developers should know that default appearance of monospaced elements like <pre>, <code>, <tt> etc. and CSS \"font-family:monospace\" changes.\nWorth a note in\nhttps://developer.mozilla.org/en/Firefox_12_for_developers", "author": "moz@jeka.info", "creation_time": "2011-12-28T01:24:44Z", "raw_text": "> What needs to be documented here?\n\nWeb developers should know that default appearance of monospaced elements like <pre>, <code>, <tt> etc. and CSS \"font-family:monospace\" changes.\nWorth a note in\nhttps://developer.mozilla.org/en/Firefox_12_for_developers", "attachment_id": null, "id": 5942010}, {"creator": "moz@jeka.info", "is_private": false, "count": 12, "author": "moz@jeka.info", "creation_time": "2011-12-28T01:33:09Z", "time": "2011-12-28T01:33:09Z", "bug_id": 713680, "tags": [], "text": "(In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> The prospect of bugs being filed doesn't scare me. ;)\n\nThis is unacceptable misbehaviour against people who care about and take time to file bugs as well as people who care and take time to track bugs.", "attachment_id": null, "raw_text": "(In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> The prospect of bugs being filed doesn't scare me. ;)\n\nThis is unacceptable misbehaviour against people who care about and take time to file bugs as well as people who care and take time to track bugs.", "id": 5942019}, {"count": 13, "creator": "dao+bmo@mozilla.com", "is_private": false, "tags": [], "bug_id": 713680, "time": "2011-12-28T07:59:05Z", "text": "(In reply to j.j. from comment #11)\n> > What needs to be documented here?\n> \n> Web developers should know that default appearance of monospaced elements\n> like <pre>, <code>, <tt> etc. and CSS \"font-family:monospace\" changes.\n> Worth a note in\n> https://developer.mozilla.org/en/Firefox_12_for_developers\n\nThis would make sense if we ever set the expectation or guaranteed that Courier New was the default font. But it's already OS- and language-dependent and user configurable.\n\n(In reply to j.j. from comment #12)\n> (In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> > The prospect of bugs being filed doesn't scare me. ;)\n> \n> This is unacceptable misbehaviour against people who care about and take\n> time to file bugs as well as people who care and take time to track bugs.\n\nNo, it's not, unless you're saying I'm expected to be scared.", "author": "dao+bmo@mozilla.com", "creation_time": "2011-12-28T07:59:05Z", "raw_text": "(In reply to j.j. from comment #11)\n> > What needs to be documented here?\n> \n> Web developers should know that default appearance of monospaced elements\n> like <pre>, <code>, <tt> etc. and CSS \"font-family:monospace\" changes.\n> Worth a note in\n> https://developer.mozilla.org/en/Firefox_12_for_developers\n\nThis would make sense if we ever set the expectation or guaranteed that Courier New was the default font. But it's already OS- and language-dependent and user configurable.\n\n(In reply to j.j. from comment #12)\n> (In reply to D\u00e3o Gottwald [:dao] from comment #7)\n> > The prospect of bugs being filed doesn't scare me. ;)\n> \n> This is unacceptable misbehaviour against people who care about and take\n> time to file bugs as well as people who care and take time to track bugs.\n\nNo, it's not, unless you're saying I'm expected to be scared.", "attachment_id": null, "id": 5942374}, {"id": 5942441, "raw_text": "> This would make sense if we ever set the expectation or guaranteed that\n> Courier New was the default font. But it's already OS- and language-dependent\n> and user configurable.\n\nA large subset of web developer has wrong expectations an only works on Windows with default font settings.\nIt's not a big deal but there is nothing wrong to inform them that the default font changes the first time since 1994.", "attachment_id": null, "text": "> This would make sense if we ever set the expectation or guaranteed that\n> Courier New was the default font. But it's already OS- and language-dependent\n> and user configurable.\n\nA large subset of web developer has wrong expectations an only works on Windows with default font settings.\nIt's not a big deal but there is nothing wrong to inform them that the default font changes the first time since 1994.", "time": "2011-12-28T09:23:51Z", "bug_id": 713680, "tags": [], "creation_time": "2011-12-28T09:23:51Z", "author": "moz@jeka.info", "count": 14, "is_private": false, "creator": "moz@jeka.info"}, {"bug_id": 713680, "count": 15, "id": 5942446, "raw_text": "(In reply to j.j. from comment #14)\n> > This would make sense if we ever set the expectation or guaranteed that\n> > Courier New was the default font. But it's already OS- and language-dependent\n> > and user configurable.\n> \n> A large subset of web developer has wrong expectations an only works on\n> Windows with default font settings.\n> It's not a big deal but there is nothing wrong to inform them that the\n> default font changes the first time since 1994.\n\nThere's a risk of setting a wrong expectation here by saying Consolas would be the new default font, while it remains OS- and language-dependent and user configurable. So whoever documents this needs to word things very carefully, otherwise it's better not to document anything.", "attachment_id": null, "text": "(In reply to j.j. from comment #14)\n> > This would make sense if we ever set the expectation or guaranteed that\n> > Courier New was the default font. But it's already OS- and language-dependent\n> > and user configurable.\n> \n> A large subset of web developer has wrong expectations an only works on\n> Windows with default font settings.\n> It's not a big deal but there is nothing wrong to inform them that the\n> default font changes the first time since 1994.\n\nThere's a risk of setting a wrong expectation here by saying Consolas would be the new default font, while it remains OS- and language-dependent and user configurable. So whoever documents this needs to word things very carefully, otherwise it's better not to document anything.", "time": "2011-12-28T09:32:54Z", "tags": [], "creation_time": "2011-12-28T09:32:54Z", "author": "dao+bmo@mozilla.com", "is_private": false, "creator": "dao+bmo@mozilla.com"}, {"id": 6013889, "attachment_id": 584454, "raw_text": "While I don't have an issue with changing the default to Consolas for Vista and later systems, I'm a little more hesitant about imposing this change on XP, where it wasn't a standard system font, and where it's perhaps more likely that there are significant numbers of users who run without ClearType, or indeed without any antialiasing. So I'm not entirely happy with making the change for all Windows users, rather than having a version-dependent default.\n\n(And I'd be opposed to unilaterally forcing ClearType on for Consolas.)\n\nMore importantly, though, assuming we do want to make the change, this is the wrong way to do it. The font.name.* prefs were designed to take a single font name; the fact that putting a list of fonts in there happens to work for \"fallback\" is an accident of the current implementation, IMO - it could even be considered a bug - and probably not something we should rely on.\n\nBut the real show-stopper here is that these prefs are exposed in the Firefox UI, and that UI doesn't have the capability to either display or set a list of fonts, rather than a single name. Therefore, doing things this way would mean that (a) users will see an incorrect value if they try to look at their font preferences throguh the browser UI; and (b) if they make any change there, they would be unable to restore the original setting via that same UI. I don't think that's acceptable.", "creation_time": "2012-01-27T10:24:38Z", "author": "jfkthame@gmail.com", "text": "Comment on attachment 584454\npatch\n\nWhile I don't have an issue with changing the default to Consolas for Vista and later systems, I'm a little more hesitant about imposing this change on XP, where it wasn't a standard system font, and where it's perhaps more likely that there are significant numbers of users who run without ClearType, or indeed without any antialiasing. So I'm not entirely happy with making the change for all Windows users, rather than having a version-dependent default.\n\n(And I'd be opposed to unilaterally forcing ClearType on for Consolas.)\n\nMore importantly, though, assuming we do want to make the change, this is the wrong way to do it. The font.name.* prefs were designed to take a single font name; the fact that putting a list of fonts in there happens to work for \"fallback\" is an accident of the current implementation, IMO - it could even be considered a bug - and probably not something we should rely on.\n\nBut the real show-stopper here is that these prefs are exposed in the Firefox UI, and that UI doesn't have the capability to either display or set a list of fonts, rather than a single name. Therefore, doing things this way would mean that (a) users will see an incorrect value if they try to look at their font preferences throguh the browser UI; and (b) if they make any change there, they would be unable to restore the original setting via that same UI. I don't think that's acceptable.", "bug_id": 713680, "tags": [], "time": "2012-01-27T10:24:38Z", "is_private": false, "creator": "jfkthame@gmail.com", "count": 16}, {"text": "Woudn't be \"Lucida Console\" better anyhow? It contains more characters.\n\nA quick incomplete list of code points included in WGL4 and Lucida Console, but not in Consolas:\n\n203e    \u203e overline\n207f    \u207f superscript n\n2320    \u2320 integral\n2321    \u2321 integral\n\n2500-256c (complete box-drawing?)\n\u2500\u2502\u250c\u2510\u2514\u2518\u251c\u2524\u252c\u2534\u253c\u2550\u2551\u2552\u2553\u2554\u2555\u2556\u2557\u2558\u2559\u255a\u255b\u255c\u255d\u255e\u255f\u2560\u2561\u2562\u2563\u2564\u2565\u2566\u2567\u2568\u2569\u256a\u256b\u256c\n\n2580-2593 (some of block elements)\n\u2580\u2584\u2588\u258c\u2590\u2591\u2592\u2593\n  \n25a0-25e6 (some of geometric shapes)\n\u25a0\u25ac\u25b2\u25ba\u25bc\u25c4\u25ca\u25cb\u25d8\u25d9", "tags": [], "bug_id": 713680, "time": "2012-02-23T05:28:10Z", "creation_time": "2012-02-23T05:28:10Z", "author": "moz@jeka.info", "count": 17, "is_private": false, "creator": "moz@jeka.info", "id": 6085520, "raw_text": "Woudn't be \"Lucida Console\" better anyhow? It contains more characters.\n\nA quick incomplete list of code points included in WGL4 and Lucida Console, but not in Consolas:\n\n203e    \u203e overline\n207f    \u207f superscript n\n2320    \u2320 integral\n2321    \u2321 integral\n\n2500-256c (complete box-drawing?)\n\u2500\u2502\u250c\u2510\u2514\u2518\u251c\u2524\u252c\u2534\u253c\u2550\u2551\u2552\u2553\u2554\u2555\u2556\u2557\u2558\u2559\u255a\u255b\u255c\u255d\u255e\u255f\u2560\u2561\u2562\u2563\u2564\u2565\u2566\u2567\u2568\u2569\u256a\u256b\u256c\n\n2580-2593 (some of block elements)\n\u2580\u2584\u2588\u258c\u2590\u2591\u2592\u2593\n  \n25a0-25e6 (some of geometric shapes)\n\u25a0\u25ac\u25b2\u25ba\u25bc\u25c4\u25ca\u25cb\u25d8\u25d9", "attachment_id": null}, {"author": "bzcc@fowlsmurf.net", "creation_time": "2012-02-23T11:35:45Z", "tags": [], "time": "2012-02-23T11:35:45Z", "bug_id": 713680, "text": "All those work fine for me. (Unless some sort magic fallback is happening?)\n\nWhat version of Consolas are you using? I have 5.22 - Windows 7 SP1 + Office 2010 SP1.", "creator": "bzcc@fowlsmurf.net", "is_private": false, "count": 18, "id": 6086060, "attachment_id": null, "raw_text": "All those work fine for me. (Unless some sort magic fallback is happening?)\n\nWhat version of Consolas are you using? I have 5.22 - Windows 7 SP1 + Office 2010 SP1."}, {"id": 6086159, "raw_text": "> All those work fine for me. (Unless some sort magic fallback is happening?)\n\nTo avoid fallback I tested with BableMap\nhttp://www.babelstone.co.uk/Software/BabelMap.html\n\n> What version of Consolas are you using? I have 5.22 - Windows 7 SP1 + Office\n> 2010 SP1.\n\nHmm, it's version 1.00. Microsoft provides a download until today here:\nhttp://www.microsoft.com/download/en/details.aspx?displaylang=en&id=17879\n\nSeems v5.22 from Windows 7 has much more glyphs than 5.0, which shipped with Vista\nhttp://www.microsoft.com/typography/fonts/font.aspx?FMID=1723", "attachment_id": null, "time": "2012-02-23T12:54:44Z", "tags": [], "text": "> All those work fine for me. (Unless some sort magic fallback is happening?)\n\nTo avoid fallback I tested with BableMap\nhttp://www.babelstone.co.uk/Software/BabelMap.html\n\n> What version of Consolas are you using? I have 5.22 - Windows 7 SP1 + Office\n> 2010 SP1.\n\nHmm, it's version 1.00. Microsoft provides a download until today here:\nhttp://www.microsoft.com/download/en/details.aspx?displaylang=en&id=17879\n\nSeems v5.22 from Windows 7 has much more glyphs than 5.0, which shipped with Vista\nhttp://www.microsoft.com/typography/fonts/font.aspx?FMID=1723", "author": "moz@jeka.info", "creation_time": "2012-02-23T12:54:44Z", "creator": "moz@jeka.info", "is_private": false, "bug_id": 713680, "count": 19}, {"creator": "at.light@live.com.au", "is_private": false, "count": 20, "author": "at.light@live.com.au", "creation_time": "2013-12-29T06:54:47Z", "time": "2013-12-29T06:54:47Z", "tags": [], "bug_id": 713680, "text": "Created attachment 8351680\nPatch\n\nHere it is again.\n\nIf Consolas is not present on the user's system, they will get Courier New.\n\nThe issue of Consolas looking bad without antialiasing is really a separate bug, and should be looked at regardless of what happens here.", "attachment_id": 8351680, "raw_text": "Here it is again.\n\nIf Consolas is not present on the user's system, they will get Courier New.\n\nThe issue of Consolas looking bad without antialiasing is really a separate bug, and should be looked at regardless of what happens here.", "id": 8228506}, {"attachment_id": 8351680, "raw_text": "Sorry, should have transferred this request sooner.", "id": 8258227, "creator": "dbaron@dbaron.org", "is_private": false, "author": "dbaron@dbaron.org", "creation_time": "2014-01-07T00:35:56Z", "time": "2014-01-07T00:35:56Z", "tags": [], "text": "Comment on attachment 8351680\nPatch\n\nSorry, should have transferred this request sooner.", "count": 21, "bug_id": 713680}, {"is_private": false, "creator": "jfkthame@gmail.com", "creation_time": "2014-01-07T13:36:58Z", "author": "jfkthame@gmail.com", "text": "Comment on attachment 8351680\nPatch\n\nReview of attachment 8351680:\n-----------------------------------------------------------------\n\nI'm still concerned about the impact on users who have ClearType (or indeed -all- font smoothing) disabled, given the claims here that Consolas looks terrible in that scenario. I just tried it on an XP VM here, and agree that it's a pretty bad visual regression on such a configuration.\n\nWe still have lots of users on XP; I don't have any actual data, but I think it's a fair guess that many (the majority?) of them will not have tweaked any system settings so as to enable CT, and also that many of them have a version of Consolas installed (thanks to MS Office or other products that bundled it). They may never actually -use- that Consolas font themselves, e.g. in their Word docs, but this patch will nevertheless make it suddenly appear on lots of web sites.\n\n(I'm less bothered about the Vista-or-later users who have deliberately disabled ClearType; if they feel strongly enough about font rendering to change the system's default settings, they can also reconfigure their default fonts as desired.)\n\nThis bug was originally filed as \"Use Consolas ... on Windows Vista & 7\", but the patch will negatively affect many XP users. As such, I don't think I can r+ this as it stands.\n\nA few possibilities we could consider:\n\n(a) A migration script that updates the default font prefs for users on Vista and later, but not on XP, as suggested in comment 6.\n\n(b) Rather than Consolas, consider Lucida Console, which I believe is available on XP as well, and which renders much better (IMO) than Consolas on non-ClearType systems. I haven't compared it under CT on newer Windows versions, though; perhaps it's inferior there.\n\n(c) Implement a platform-specific function to get the system's default monospaced font, and use this to resolve the CSS generic \"monospace\" value. For Windows GDI, this would probably be based on GetStockObject(ANSI_FIXED_FONT), I guess. But this would involve core code changes, and I haven't really thought about how it'd interact with the font prefs UI.\n\nI haven't seen any compelling argument that there's an urgent need to update the defaults here. In the absence of a better solution, perhaps this should just wait until we have dropped XP support altogether.", "tags": [], "time": "2014-01-07T13:36:58Z", "attachment_id": 8351680, "raw_text": "Review of attachment 8351680:\n-----------------------------------------------------------------\n\nI'm still concerned about the impact on users who have ClearType (or indeed -all- font smoothing) disabled, given the claims here that Consolas looks terrible in that scenario. I just tried it on an XP VM here, and agree that it's a pretty bad visual regression on such a configuration.\n\nWe still have lots of users on XP; I don't have any actual data, but I think it's a fair guess that many (the majority?) of them will not have tweaked any system settings so as to enable CT, and also that many of them have a version of Consolas installed (thanks to MS Office or other products that bundled it). They may never actually -use- that Consolas font themselves, e.g. in their Word docs, but this patch will nevertheless make it suddenly appear on lots of web sites.\n\n(I'm less bothered about the Vista-or-later users who have deliberately disabled ClearType; if they feel strongly enough about font rendering to change the system's default settings, they can also reconfigure their default fonts as desired.)\n\nThis bug was originally filed as \"Use Consolas ... on Windows Vista & 7\", but the patch will negatively affect many XP users. As such, I don't think I can r+ this as it stands.\n\nA few possibilities we could consider:\n\n(a) A migration script that updates the default font prefs for users on Vista and later, but not on XP, as suggested in comment 6.\n\n(b) Rather than Consolas, consider Lucida Console, which I believe is available on XP as well, and which renders much better (IMO) than Consolas on non-ClearType systems. I haven't compared it under CT on newer Windows versions, though; perhaps it's inferior there.\n\n(c) Implement a platform-specific function to get the system's default monospaced font, and use this to resolve the CSS generic \"monospace\" value. For Windows GDI, this would probably be based on GetStockObject(ANSI_FIXED_FONT), I guess. But this would involve core code changes, and I haven't really thought about how it'd interact with the font prefs UI.\n\nI haven't seen any compelling argument that there's an urgent need to update the defaults here. In the absence of a better solution, perhaps this should just wait until we have dropped XP support altogether.", "id": 8260280, "count": 22, "bug_id": 713680}, {"attachment_id": null, "raw_text": "(In reply to Jonathan Kew (:jfkthame) from comment #22)\n \n> A few possibilities we could consider:\n> \n> (a) A migration script that updates the default font prefs for users on\n> Vista and later, but not on XP, as suggested in comment 6.\n> \n> (b) Rather than Consolas, consider Lucida Console, which I believe is\n> available on XP as well, \n\nsure, it is\n\n> and which renders much better (IMO) than Consolas\n> on non-ClearType systems. I haven't compared it under CT on newer Windows\n> versions, though; perhaps it's inferior there.\n> \n> (c) Implement a platform-specific function to get the system's default\n> monospaced font, and use this to resolve the CSS generic \"monospace\" value.\n> For Windows GDI, this would probably be based on\n> GetStockObject(ANSI_FIXED_FONT), I guess. But this would involve core code\n> changes, and I haven't really thought about how it'd interact with the font\n> prefs UI.\n> \n\nCan't we keep it just simple and use Lucida Console on XP and Consolas on later systems?\n(See also comment 17, lack of some glyphs in early versions of Consolas)", "id": 8260593, "creator": "moz@jeka.info", "is_private": false, "count": 23, "author": "moz@jeka.info", "creation_time": "2014-01-07T15:17:28Z", "time": "2014-01-07T15:17:28Z", "tags": [], "bug_id": 713680, "text": "(In reply to Jonathan Kew (:jfkthame) from comment #22)\n \n> A few possibilities we could consider:\n> \n> (a) A migration script that updates the default font prefs for users on\n> Vista and later, but not on XP, as suggested in comment 6.\n> \n> (b) Rather than Consolas, consider Lucida Console, which I believe is\n> available on XP as well, \n\nsure, it is\n\n> and which renders much better (IMO) than Consolas\n> on non-ClearType systems. I haven't compared it under CT on newer Windows\n> versions, though; perhaps it's inferior there.\n> \n> (c) Implement a platform-specific function to get the system's default\n> monospaced font, and use this to resolve the CSS generic \"monospace\" value.\n> For Windows GDI, this would probably be based on\n> GetStockObject(ANSI_FIXED_FONT), I guess. But this would involve core code\n> changes, and I haven't really thought about how it'd interact with the font\n> prefs UI.\n> \n\nCan't we keep it just simple and use Lucida Console on XP and Consolas on later systems?\n(See also comment 17, lack of some glyphs in early versions of Consolas)"}, {"is_private": false, "creator": "jfkthame@gmail.com", "text": "(In reply to j.j. (mostly inactive) from comment #23)\n\n> Can't we keep it just simple and use Lucida Console on XP and Consolas on\n> later systems?\n\nAnd how would we do that? Currently, the code implementing the font prefs doesn't distinguish between versions of Windows.", "time": "2014-01-07T15:31:35Z", "tags": [], "creation_time": "2014-01-07T15:31:35Z", "author": "jfkthame@gmail.com", "raw_text": "(In reply to j.j. (mostly inactive) from comment #23)\n\n> Can't we keep it just simple and use Lucida Console on XP and Consolas on\n> later systems?\n\nAnd how would we do that? Currently, the code implementing the font prefs doesn't distinguish between versions of Windows.", "attachment_id": null, "id": 8260694, "count": 24, "bug_id": 713680}, {"creation_time": "2014-01-12T01:11:12Z", "author": "papalowa@gmail.com", "text": "> In the absence of a better solution, perhaps this should just wait until we have dropped XP support altogether.\n\nIs there a meta bug for this?", "bug_id": 713680, "tags": [], "time": "2014-01-12T01:11:12Z", "is_private": false, "creator": "papalowa@gmail.com", "count": 25, "id": 8280082, "attachment_id": null, "raw_text": "> In the absence of a better solution, perhaps this should just wait until we have dropped XP support altogether.\n\nIs there a meta bug for this?"}, {"count": 26, "is_private": false, "creator": "philipp@mozilla.com", "text": "We still have >14% users on XP even though Microsoft has dropped support a while ago. Since it doesn't seem to be going anywhere, we should just move to Consolas by default for Windows Vista and up. Is it possible to make that distinction in the code?", "tags": [], "bug_id": 713680, "time": "2015-03-11T02:00:58Z", "creation_time": "2015-03-11T02:00:58Z", "author": "philipp@mozilla.com", "raw_text": "We still have >14% users on XP even though Microsoft has dropped support a while ago. Since it doesn't seem to be going anywhere, we should just move to Consolas by default for Windows Vista and up. Is it possible to make that distinction in the code?", "attachment_id": null, "id": 10013007}, {"creation_time": "2016-09-11T20:59:11Z", "author": "cpeterson@mozilla.com", "text": "Jonathan, what do you think of the following worse-is-better suggestion?\n\nUse Lucida Console on 32-bit Firefox and Consolas on 64-bit Firefox. Of course, 64-bit has nothing to do with font support, but we only support 64-bit on Windows 7+ and we can conveniently check #ifdef _WIN64 at compile-time (thus avoid run-time checks for OS version to rewrite the monospace prefs). Thus we would use Lucida Console on XP, Vista, and 32-bit Windows 7+ and Consolas for 64-bit Windows 7+.\n\nI assume using Consolas for some users is better than for none. Once XP support is dropped (bug 1130266), we can use Consolas for Windows versions.", "bug_id": 713680, "tags": [], "time": "2016-09-11T20:59:11Z", "is_private": false, "creator": "cpeterson@mozilla.com", "count": 27, "id": 11701322, "attachment_id": null, "raw_text": "Jonathan, what do you think of the following worse-is-better suggestion?\n\nUse Lucida Console on 32-bit Firefox and Consolas on 64-bit Firefox. Of course, 64-bit has nothing to do with font support, but we only support 64-bit on Windows 7+ and we can conveniently check #ifdef _WIN64 at compile-time (thus avoid run-time checks for OS version to rewrite the monospace prefs). Thus we would use Lucida Console on XP, Vista, and 32-bit Windows 7+ and Consolas for 64-bit Windows 7+.\n\nI assume using Consolas for some users is better than for none. Once XP support is dropped (bug 1130266), we can use Consolas for Windows versions."}, {"count": 28, "is_private": false, "creator": "jfkthame@gmail.com", "text": "Well... it'd be possible, but I'm hesitant. That would give us a situation where Win7/8/10 users get a different configuration depending which build they happen to have installed -- and I suspect that a large proportion of users would be unaware of the issue. It sounds like a potential support nightmare...\n\nIt's one thing if users on WinXP and users on Win7+ see pages somewhat differently; I think most people understand that they're different systems, and the entire UI looks different in all sorts of ways. But if someone has two machines, both running Win10, and both running up-to-date Firefox, yet they render pages differently, that'll be much more confusing.\n\nIf we want to do something here (prior to dropping XP support altogether), I think a better way forward would be to add something to the profile-migration code. IIRC, we have the ability to run custom code as a one-time operation when updating the profile for a new Firefox release. At that point, we could check whether the user is on a Windows version where we want to make this change, and if so, iterate over the monospace font prefs making the update. The only case where this would have a bad result is if the user then takes such a profile back to use on a WinXP system (with Consolas installed, and ClearType turned off), but that seems pretty far-fetched.", "bug_id": 713680, "tags": [], "time": "2016-09-12T08:55:31Z", "creation_time": "2016-09-12T08:55:31Z", "author": "jfkthame@gmail.com", "raw_text": "Well... it'd be possible, but I'm hesitant. That would give us a situation where Win7/8/10 users get a different configuration depending which build they happen to have installed -- and I suspect that a large proportion of users would be unaware of the issue. It sounds like a potential support nightmare...\n\nIt's one thing if users on WinXP and users on Win7+ see pages somewhat differently; I think most people understand that they're different systems, and the entire UI looks different in all sorts of ways. But if someone has two machines, both running Win10, and both running up-to-date Firefox, yet they render pages differently, that'll be much more confusing.\n\nIf we want to do something here (prior to dropping XP support altogether), I think a better way forward would be to add something to the profile-migration code. IIRC, we have the ability to run custom code as a one-time operation when updating the profile for a new Firefox release. At that point, we could check whether the user is on a Windows version where we want to make this change, and if so, iterate over the monospace font prefs making the update. The only case where this would have a bad result is if the user then takes such a profile back to use on a WinXP system (with Consolas installed, and ClearType turned off), but that seems pretty far-fetched.", "attachment_id": null, "id": 11702341}, {"id": 12091097, "raw_text": "Consolas is narrower than Courier New, so we must adjust some layout tests to accommodate:\n\n* 323386-1.html's intermittent assertion failure (bug 718883) now appears to be 100% reliable on Windows, joining Linux and Android.\n\n* size-1-ref.html reftest needs a little fuzz because the horizontal line of the test image's '4' character is ~1 pixel shorter than the reference image's.\n\nReview commit: https://reviewboard.mozilla.org/r/114802/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/114802/", "attachment_id": 8840301, "text": "Created attachment 8840301\nBug 713680 - Change default Windows monospace font from Courier New to Consolas.\n\nConsolas is narrower than Courier New, so we must adjust some layout tests to accommodate:\n\n* 323386-1.html's intermittent assertion failure (bug 718883) now appears to be 100% reliable on Windows, joining Linux and Android.\n\n* size-1-ref.html reftest needs a little fuzz because the horizontal line of the test image's '4' character is ~1 pixel shorter than the reference image's.\n\nReview commit: https://reviewboard.mozilla.org/r/114802/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/114802/", "time": "2017-02-23T06:11:51Z", "tags": ["mozreview-request"], "creation_time": "2017-02-23T06:11:51Z", "author": "cpeterson@mozilla.com", "is_private": false, "creator": "cpeterson@mozilla.com", "bug_id": 713680, "count": 29}, {"count": 30, "bug_id": 713680, "attachment_id": 8840302, "raw_text": "Consolas is narrower than Courier New, so we must adjust some editor tests to accommodate:\n\n* browser_inplace-editor_maxwidth.js needs a longer LONG_TEXT to wrap three lines of text.\n\n* test_continuous_wheel_events.html needs shorter horizontal mouse wheel increments so three mouse wheel increments fire just one DOMMouseScroll event. Reduce increment from 5.3 pixels to 4.3 for these horizontal scrolling test cases.\n\n* queryCaretRectWin.html can now use the same expected min.left values as queryCaretRectUnix.html. The only difference between these two files now is the line endings (plus the comment warning about the line endings).\n\n* selectAtPoint.html no longer needs a Windows-only code path because Firefox on Windows now selects the same text as it does on Mac and Linux.\n\nReview commit: https://reviewboard.mozilla.org/r/114804/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/114804/", "id": 12091098, "creator": "cpeterson@mozilla.com", "is_private": false, "author": "cpeterson@mozilla.com", "creation_time": "2017-02-23T06:11:51Z", "time": "2017-02-23T06:11:51Z", "tags": ["mozreview-request"], "text": "Created attachment 8840302\nBug 713680 - Part 2: Fix editor tests to accommodate narrower Consolas monospace font.\n\nConsolas is narrower than Courier New, so we must adjust some editor tests to accommodate:\n\n* browser_inplace-editor_maxwidth.js needs a longer LONG_TEXT to wrap three lines of text.\n\n* test_continuous_wheel_events.html needs shorter horizontal mouse wheel increments so three mouse wheel increments fire just one DOMMouseScroll event. Reduce increment from 5.3 pixels to 4.3 for these horizontal scrolling test cases.\n\n* queryCaretRectWin.html can now use the same expected min.left values as queryCaretRectUnix.html. The only difference between these two files now is the line endings (plus the comment warning about the line endings).\n\n* selectAtPoint.html no longer needs a Windows-only code path because Firefox on Windows now selects the same text as it does on Mac and Linux.\n\nReview commit: https://reviewboard.mozilla.org/r/114804/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/114804/"}, {"id": 12091111, "attachment_id": null, "raw_text": "As of Firefox 53, we no longer support Windows XP or Vista.\n\nHere is a mostly green Try run. The failures on Linux and Mac are not related.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=787d53d6fcc0c3bd8c87992cc27c101124ee9363", "author": "cpeterson@mozilla.com", "creation_time": "2017-02-23T06:17:46Z", "tags": [], "time": "2017-02-23T06:17:46Z", "bug_id": 713680, "text": "As of Firefox 53, we no longer support Windows XP or Vista.\n\nHere is a mostly green Try run. The failures on Linux and Mac are not related.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=787d53d6fcc0c3bd8c87992cc27c101124ee9363", "creator": "cpeterson@mozilla.com", "is_private": false, "count": 31}, {"creation_time": "2017-02-23T06:24:01Z", "author": "cpeterson@mozilla.com", "text": "For reference, here are the reftest images from the reftest that needed fuzz to accommodate the pixel differences when changing Windows' default monospace font from Courier New to Consolas:\n\nREFTEST TEST-UNEXPECTED-FAIL | file:///C:/slave/test/build/tests/reftest/tests/layout/reftests/forms/input/text/size-1.html == file:///C:/slave/test/build/tests/reftest/tests/layout/reftests/forms/input/text/size-1-ref.html | image comparison, max difference: 24, number of differing pixels: 1\n\nREFTEST IMAGE 1 (TEST):\n\ndata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAPoCAYAAAAmy5qxAAAV2klEQVR4nO3dMW7bSABAUd6SR+JRWCy2ShmkSaNDbOHAASIoMLAuDKScLZzEsazYjmF/Adz3ADYaDUWw+xgONQ0AAIDIdO4LAAAA/j8ECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABA5skAufh0Od5/+Dj++vvdWY73Hz6Oi0+Xxb0AAADe2JMBcvn56zhcXRfXctLh6nr8c/HlbL8PAAC8nmcFyLkJEAAA2AYBAgAAZAQIAACQESAAAEBGgAAAAJkXBMh+rPM0pmkay+54aB3zdDs2TfNY93dDu+XH5w/H7qbPJ88rQAAAYBv+MEB2Y5nmse5vI+R+KOzHOi/jx0f7dR7TvI4TnXF6bLeMaV7G8uC8AgQAALbihY9gnQqQI7tlTNNdkNybvc5jujf5sbARIAAAsBVvFiCnI+P7I1hHqx+7ZRrzuv/teQUIAABsw9sEyCOrHw/Gd8svoSJAAABgy149QG43kj8SH2OM40eu7jan/3LM689vCxAAANiGVw2Q58XH+L7h/NQGdSsgAACwZS94C9bD1YplN45ewXs0djzvN2/HEiAAALBt/ogQAADICBAAACAjQAAAgIwAAQAAMs8KkMPVdXEtJx2urgUIAABsxJMBcnPzbXw+/HvW4+bmW3EvAACAN/ZkgAAAALwWAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkPkPcycaOQaH0nUAAAAASUVORK5CYII=\n\nREFTEST IMAGE 2 (REFERENCE):\n\ndata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAPoCAYAAAAmy5qxAAAV2ElEQVR4nO3dsWrcSACAYb2lHkmPouJIlTKkSbMPkcLBgVv2MJwLQ8pJ4QTb643tM/a/oPs+UKNhtELdz2i00wAAAIhM574BAADg/0OAAAAAGQECAABkBAgAAJARIAAAQEaAAAAAGQECAABkng2Qi2+X49PnL+OvDx/Pcnz6/GVcfLssngUAAPDOng2Qy+//jMPVdXEvJx2ursfXi7/P9vsAAMDbeVGAnJsAAQCAbRAgAABARoAAAAAZAQIAAGQECAAAkHlFgOzHOk9jmqax7I6H1jFPt2PTNI91fze0W36ffzx2N30+eV0BAgAA2/AfA2Q3lmke6/42Qh6Gwn6s8zJ+n9qv85jmdZzojNNju2VM8zKWR9cVIAAAsBWvfAXrVIAc2S1jmu6C5MHsdR7Tg8lPhY0AAQCArXi3ADkdGb9ewTpa/dgt05jX/R+vK0AAAGAb3idAnlj9eDS+W+6FigABAIAte/MAud1I/kR8jDGOX7m625x+77i3SiJAAABgG940QF4WH+PXhvNTG9StgAAAwJa94itYj1crlt04+gTv0djxvD98HUuAAADAtvkjQgAAICNAAACAjAABAAAyAgQAAMi8KEAOV9fFvZx0uLoWIAAAsBHPBsjNzY/x/fDvWY+bmx/FswAAAN7ZswECAADwVgQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEDmJ3KsGiGrC/zDAAAAAElFTkSuQmCC", "tags": [], "time": "2017-02-23T06:24:01Z", "bug_id": 713680, "is_private": false, "creator": "cpeterson@mozilla.com", "count": 32, "id": 12091121, "attachment_id": null, "raw_text": "For reference, here are the reftest images from the reftest that needed fuzz to accommodate the pixel differences when changing Windows' default monospace font from Courier New to Consolas:\n\nREFTEST TEST-UNEXPECTED-FAIL | file:///C:/slave/test/build/tests/reftest/tests/layout/reftests/forms/input/text/size-1.html == file:///C:/slave/test/build/tests/reftest/tests/layout/reftests/forms/input/text/size-1-ref.html | image comparison, max difference: 24, number of differing pixels: 1\n\nREFTEST IMAGE 1 (TEST):\n\ndata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAPoCAYAAAAmy5qxAAAV2klEQVR4nO3dMW7bSABAUd6SR+JRWCy2ShmkSaNDbOHAASIoMLAuDKScLZzEsazYjmF/Adz3ADYaDUWw+xgONQ0AAIDIdO4LAAAA/j8ECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABA5skAufh0Od5/+Dj++vvdWY73Hz6Oi0+Xxb0AAADe2JMBcvn56zhcXRfXctLh6nr8c/HlbL8PAAC8nmcFyLkJEAAA2AYBAgAAZAQIAACQESAAAEBGgAAAAJkXBMh+rPM0pmkay+54aB3zdDs2TfNY93dDu+XH5w/H7qbPJ88rQAAAYBv+MEB2Y5nmse5vI+R+KOzHOi/jx0f7dR7TvI4TnXF6bLeMaV7G8uC8AgQAALbihY9gnQqQI7tlTNNdkNybvc5jujf5sbARIAAAsBVvFiCnI+P7I1hHqx+7ZRrzuv/teQUIAABsw9sEyCOrHw/Gd8svoSJAAABgy149QG43kj8SH2OM40eu7jan/3LM689vCxAAANiGVw2Q58XH+L7h/NQGdSsgAACwZS94C9bD1YplN45ewXs0djzvN2/HEiAAALBt/ogQAADICBAAACAjQAAAgIwAAQAAMs8KkMPVdXEtJx2urgUIAABsxJMBcnPzbXw+/HvW4+bmW3EvAACAN/ZkgAAAALwWAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkBEgAABARoAAAAAZAQIAAGQECAAAkPkPcycaOQaH0nUAAAAASUVORK5CYII=\n\nREFTEST IMAGE 2 (REFERENCE):\n\ndata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAPoCAYAAAAmy5qxAAAV2ElEQVR4nO3dsWrcSACAYb2lHkmPouJIlTKkSbMPkcLBgVv2MJwLQ8pJ4QTb643tM/a/oPs+UKNhtELdz2i00wAAAIhM574BAADg/0OAAAAAGQECAABkBAgAAJARIAAAQEaAAAAAGQECAABkng2Qi2+X49PnL+OvDx/Pcnz6/GVcfLssngUAAPDOng2Qy+//jMPVdXEvJx2ursfXi7/P9vsAAMDbeVGAnJsAAQCAbRAgAABARoAAAAAZAQIAAGQECAAAkHlFgOzHOk9jmqax7I6H1jFPt2PTNI91fze0W36ffzx2N30+eV0BAgAA2/AfA2Q3lmke6/42Qh6Gwn6s8zJ+n9qv85jmdZzojNNju2VM8zKWR9cVIAAAsBWvfAXrVIAc2S1jmu6C5MHsdR7Tg8lPhY0AAQCArXi3ADkdGb9ewTpa/dgt05jX/R+vK0AAAGAb3idAnlj9eDS+W+6FigABAIAte/MAud1I/kR8jDGOX7m625x+77i3SiJAAABgG940QF4WH+PXhvNTG9StgAAAwJa94itYj1crlt04+gTv0djxvD98HUuAAADAtvkjQgAAICNAAACAjAABAAAyAgQAAMi8KEAOV9fFvZx0uLoWIAAAsBHPBsjNzY/x/fDvWY+bmx/FswAAAN7ZswECAADwVgQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEBGgAAAABkBAgAAZAQIAACQESAAAEDmJ3KsGiGrC/zDAAAAAElFTkSuQmCC"}, {"attachment_id": 8840302, "raw_text": "https://reviewboard.mozilla.org/r/114804/#review116264\n\nI hope that this patch does not change any meaning of the tests, though (especially test_continuous_wheel_events.html).\n\nI wonder, specifying font-family might be safer than this patch, but fine if you like this better.", "id": 12091134, "creator": "masayuki@d-toybox.com", "is_private": false, "count": 33, "author": "masayuki@d-toybox.com", "creation_time": "2017-02-23T06:37:38Z", "time": "2017-02-23T06:37:38Z", "bug_id": 713680, "tags": ["mozreview-review"], "text": "Comment on attachment 8840302\nBug 713680 - Part 2: Fix editor tests to accommodate narrower Consolas monospace font.\n\nhttps://reviewboard.mozilla.org/r/114804/#review116264\n\nI hope that this patch does not change any meaning of the tests, though (especially test_continuous_wheel_events.html).\n\nI wonder, specifying font-family might be safer than this patch, but fine if you like this better."}, {"id": 12091251, "attachment_id": null, "raw_text": "(In reply to Masayuki Nakano [:masayuki] from comment #33)\n> I hope that this patch does not change any meaning of the tests, though\n> (especially test_continuous_wheel_events.html).\n\nI don't think it does. I just changed the horizontal scroll increment for these test cases. I wasn't able to fix these test cases by setting line-height, as you suggested in email a few months ago, because the particular test cases only fail for horizontal scrolling.\n\nThe queryCaretRectWin.html and selectAtPoint.html test changes removed special case code where Windows previously had different expected results than Mac and Linux.\n\n> I wonder, specifying font-family might be safer than this patch, but fine if\n> you like this better.\n\nSpecifying font-family how? If you prefer a different approach than what I have proposed here, please just let me know.", "creation_time": "2017-02-23T08:03:32Z", "author": "cpeterson@mozilla.com", "text": "(In reply to Masayuki Nakano [:masayuki] from comment #33)\n> I hope that this patch does not change any meaning of the tests, though\n> (especially test_continuous_wheel_events.html).\n\nI don't think it does. I just changed the horizontal scroll increment for these test cases. I wasn't able to fix these test cases by setting line-height, as you suggested in email a few months ago, because the particular test cases only fail for horizontal scrolling.\n\nThe queryCaretRectWin.html and selectAtPoint.html test changes removed special case code where Windows previously had different expected results than Mac and Linux.\n\n> I wonder, specifying font-family might be safer than this patch, but fine if\n> you like this better.\n\nSpecifying font-family how? If you prefer a different approach than what I have proposed here, please just let me know.", "time": "2017-02-23T08:03:32Z", "tags": [], "bug_id": 713680, "is_private": false, "creator": "cpeterson@mozilla.com", "count": 34}, {"creation_time": "2017-02-23T08:53:41Z", "author": "masayuki@d-toybox.com", "text": "(In reply to Chris Peterson [:cpeterson] from comment #34)\n> (In reply to Masayuki Nakano [:masayuki] from comment #33)\n> > I wonder, specifying font-family might be safer than this patch, but fine if\n> > you like this better.\n> \n> Specifying font-family how? If you prefer a different approach than what I\n> have proposed here, please just let me know.\n\nCannot specify the old font (\"Courier New\"?) instead of \"monospace\"?", "bug_id": 713680, "time": "2017-02-23T08:53:41Z", "tags": [], "is_private": false, "creator": "masayuki@d-toybox.com", "count": 35, "id": 12091347, "attachment_id": null, "raw_text": "(In reply to Chris Peterson [:cpeterson] from comment #34)\n> (In reply to Masayuki Nakano [:masayuki] from comment #33)\n> > I wonder, specifying font-family might be safer than this patch, but fine if\n> > you like this better.\n> \n> Specifying font-family how? If you prefer a different approach than what I\n> have proposed here, please just let me know.\n\nCannot specify the old font (\"Courier New\"?) instead of \"monospace\"?"}, {"bug_id": 713680, "count": 36, "text": "(In reply to Masayuki Nakano [:masayuki] from comment #35)\n> (In reply to Chris Peterson [:cpeterson] from comment #34)\n> > (In reply to Masayuki Nakano [:masayuki] from comment #33)\n> > > I wonder, specifying font-family might be safer than this patch, but fine if\n> > > you like this better.\n> > \n> > Specifying font-family how? If you prefer a different approach than what I\n> > have proposed here, please just let me know.\n> \n> Cannot specify the old font (\"Courier New\"?) instead of \"monospace\"?\n\nI see what you mean. I'll test specifying \"Courier New\", though I don't know whether a font with that name exists on Mac and Linux or has the same font metrics as on Windows.", "tags": [], "time": "2017-02-23T09:11:37Z", "creation_time": "2017-02-23T09:11:37Z", "author": "cpeterson@mozilla.com", "is_private": false, "creator": "cpeterson@mozilla.com", "id": 12091376, "raw_text": "(In reply to Masayuki Nakano [:masayuki] from comment #35)\n> (In reply to Chris Peterson [:cpeterson] from comment #34)\n> > (In reply to Masayuki Nakano [:masayuki] from comment #33)\n> > > I wonder, specifying font-family might be safer than this patch, but fine if\n> > > you like this better.\n> > \n> > Specifying font-family how? If you prefer a different approach than what I\n> > have proposed here, please just let me know.\n> \n> Cannot specify the old font (\"Courier New\"?) instead of \"monospace\"?\n\nI see what you mean. I'll test specifying \"Courier New\", though I don't know whether a font with that name exists on Mac and Linux or has the same font metrics as on Windows.", "attachment_id": null}, {"id": 12091447, "attachment_id": null, "raw_text": "FWIW, \"Courier New\" should be present on Mac OS, though we may have been using \"Courier\" previously so it's possible the change will affect tests in some way. (Character widths will match, I think, but font ascent/descent may not, so line height could change.)\n\nOn Linux, \"Courier New\" won't usually be present, but I'd expect fontconfig to alias it to the system's default monospace font on most configurations.", "creation_time": "2017-02-23T09:49:11Z", "author": "jfkthame@gmail.com", "text": "FWIW, \"Courier New\" should be present on Mac OS, though we may have been using \"Courier\" previously so it's possible the change will affect tests in some way. (Character widths will match, I think, but font ascent/descent may not, so line height could change.)\n\nOn Linux, \"Courier New\" won't usually be present, but I'd expect fontconfig to alias it to the system's default monospace font on most configurations.", "time": "2017-02-23T09:49:11Z", "tags": [], "bug_id": 713680, "is_private": false, "creator": "jfkthame@gmail.com", "count": 37}, {"is_private": false, "creator": "jfkthame@gmail.com", "creation_time": "2017-02-23T09:53:13Z", "author": "jfkthame@gmail.com", "text": "Comment on attachment 8840301\nBug 713680 - Change default Windows monospace font from Courier New to Consolas.\n\nhttps://reviewboard.mozilla.org/r/114802/#review116320\n\nI guess this should be fine, in principle. I'm a little nervous because the change in metrics could lead to layout changes that may catch people by surprise (e.g. a text area with a size specified in characters becomes narrower, affecting placement of other elements), but given that things like that have never been consistent across browsers and platforms anyway, it's probably not too big a risk.", "tags": ["mozreview-review"], "time": "2017-02-23T09:53:13Z", "attachment_id": 8840301, "raw_text": "https://reviewboard.mozilla.org/r/114802/#review116320\n\nI guess this should be fine, in principle. I'm a little nervous because the change in metrics could lead to layout changes that may catch people by surprise (e.g. a text area with a size specified in characters becomes narrower, affecting placement of other elements), but given that things like that have never been consistent across browsers and platforms anyway, it's probably not too big a risk.", "id": 12091454, "count": 38, "bug_id": 713680}, {"raw_text": "(In reply to Jonathan Kew (:jfkthame) from comment #38)\n> I guess this should be fine, in principle. I'm a little nervous because the\n> change in metrics could lead to layout changes that may catch people by\n> surprise (e.g. a text area with a size specified in characters becomes\n> narrower, affecting placement of other elements), but given that things like\n> that have never been consistent across browsers and platforms anyway, it's\n> probably not too big a risk.\n\nThe Nightly 55 dev cycle begins in a little over one week. I can wait until Nightly 55 begins to land this change so we have a full six weeks of Nightly 'bake time' instead of riding from Nightly 54 to Aurora after just one week.\n\nKohei, can you please announce this change on fxsitecompat.com after I land this change in 55? Thank you!\n\nI will also request a release note for 55.", "attachment_id": null, "id": 12093465, "count": 39, "is_private": false, "creator": "cpeterson@mozilla.com", "text": "(In reply to Jonathan Kew (:jfkthame) from comment #38)\n> I guess this should be fine, in principle. I'm a little nervous because the\n> change in metrics could lead to layout changes that may catch people by\n> surprise (e.g. a text area with a size specified in characters becomes\n> narrower, affecting placement of other elements), but given that things like\n> that have never been consistent across browsers and platforms anyway, it's\n> probably not too big a risk.\n\nThe Nightly 55 dev cycle begins in a little over one week. I can wait until Nightly 55 begins to land this change so we have a full six weeks of Nightly 'bake time' instead of riding from Nightly 54 to Aurora after just one week.\n\nKohei, can you please announce this change on fxsitecompat.com after I land this change in 55? Thank you!\n\nI will also request a release note for 55.", "bug_id": 713680, "time": "2017-02-23T20:50:01Z", "tags": [], "creation_time": "2017-02-23T20:50:01Z", "author": "cpeterson@mozilla.com"}, {"is_private": false, "creator": "cpeterson@mozilla.com", "creation_time": "2017-02-23T20:53:56Z", "author": "cpeterson@mozilla.com", "text": "Release Note Request (optional, but appreciated)\n[Why is this notable]: Firefox 55 will change our default monospace font on Windows from the venerable \"Courier New\" to the nicer-looking \"Consolas\".\n[Affects Firefox for Android]: No. This change only affects Windows.\n[Suggested wording]: Changed default monospace font on Windows from \"Courier New\" to \"Consolas\".\n[Links (documentation, blog post, etc)]: Nothing to link other than this bug.", "time": "2017-02-23T20:53:56Z", "tags": [], "attachment_id": null, "raw_text": "Release Note Request (optional, but appreciated)\n[Why is this notable]: Firefox 55 will change our default monospace font on Windows from the venerable \"Courier New\" to the nicer-looking \"Consolas\".\n[Affects Firefox for Android]: No. This change only affects Windows.\n[Suggested wording]: Changed default monospace font on Windows from \"Courier New\" to \"Consolas\".\n[Links (documentation, blog post, etc)]: Nothing to link other than this bug.", "id": 12093477, "count": 40, "bug_id": 713680}, {"text": "(In reply to Chris Peterson [:cpeterson] from comment #39)\n> Kohei, can you please announce this change on fxsitecompat.com after I land\n> this change in 55? Thank you!\n\nSure thing.", "tags": [], "time": "2017-02-23T23:36:28Z", "creation_time": "2017-02-23T23:36:28Z", "author": "kohei.yoshino@gmail.com", "is_private": false, "creator": "kohei.yoshino@gmail.com", "id": 12094001, "raw_text": "(In reply to Chris Peterson [:cpeterson] from comment #39)\n> Kohei, can you please announce this change on fxsitecompat.com after I land\n> this change in 55? Thank you!\n\nSure thing.", "attachment_id": null, "bug_id": 713680, "count": 41}, {"attachment_id": 8840301, "raw_text": "Review request updated; see interdiff: https://reviewboard.mozilla.org/r/114802/diff/1-2/", "id": 12094853, "creator": "cpeterson@mozilla.com", "is_private": false, "count": 42, "author": "cpeterson@mozilla.com", "creation_time": "2017-02-24T09:19:58Z", "time": "2017-02-24T09:19:58Z", "tags": ["mozreview-request"], "bug_id": 713680, "text": "Comment on attachment 8840301\nBug 713680 - Change default Windows monospace font from Courier New to Consolas.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/114802/diff/1-2/"}, {"bug_id": 713680, "count": 43, "author": "masayuki@d-toybox.com", "creation_time": "2017-02-24T10:38:27Z", "tags": ["mozreview-review"], "time": "2017-02-24T10:38:27Z", "text": "Comment on attachment 8840301\nBug 713680 - Change default Windows monospace font from Courier New to Consolas.\n\nhttps://reviewboard.mozilla.org/r/114802/#review116686", "creator": "masayuki@d-toybox.com", "is_private": false, "id": 12095007, "attachment_id": 8840301, "raw_text": "https://reviewboard.mozilla.org/r/114802/#review116686"}, {"id": 12121464, "raw_text": "Pushed by cpeterson@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/da035ac87fe4\nChange default Windows monospace font from Courier New to Consolas. r=jfkthame r=masayuki", "attachment_id": null, "bug_id": 713680, "time": "2017-03-07T05:18:24Z", "tags": [], "text": "Pushed by cpeterson@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/da035ac87fe4\nChange default Windows monospace font from Courier New to Consolas. r=jfkthame r=masayuki", "author": "pulsebot@bots.tld", "creation_time": "2017-03-07T05:18:24Z", "count": 44, "creator": "pulsebot@bots.tld", "is_private": false}, {"count": 45, "bug_id": 713680, "raw_text": "backed this out for reftest failures like https://treeherder.mozilla.org/logviewer.html#?job_id=82088840&repo=mozilla-inbound&lineNumber=47296 and https://treeherder.mozilla.org/logviewer.html#?job_id=82088659&repo=mozilla-inbound&lineNumber=21988", "attachment_id": null, "id": 12121586, "is_private": false, "creator": "ihsiao@mozilla.com", "text": "backed this out for reftest failures like https://treeherder.mozilla.org/logviewer.html#?job_id=82088840&repo=mozilla-inbound&lineNumber=47296 and https://treeherder.mozilla.org/logviewer.html#?job_id=82088659&repo=mozilla-inbound&lineNumber=21988", "time": "2017-03-07T06:58:24Z", "tags": [], "creation_time": "2017-03-07T06:58:24Z", "author": "ihsiao@mozilla.com"}, {"attachment_id": null, "raw_text": "Backout by ihsiao@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/f50437ed4599\nBacked out changeset da035ac87fe4 for reftest failures", "id": 12121600, "is_private": false, "creator": "pulsebot@bots.tld", "count": 46, "creation_time": "2017-03-07T07:05:38Z", "author": "pulsebot@bots.tld", "text": "Backout by ihsiao@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/f50437ed4599\nBacked out changeset da035ac87fe4 for reftest failures", "tags": [], "bug_id": 713680, "time": "2017-03-07T07:05:38Z"}, {"count": 47, "bug_id": 713680, "attachment_id": 8851195, "raw_text": "layout/reftests/bidi/brackets-3b-rtl.html\nlayout/reftests/css-break/box-decoration-break-with-outset-box-shadow-1.html\nlayout/reftests/forms/input/text/size-1.html\n\nReview commit: https://reviewboard.mozilla.org/r/123566/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/123566/", "id": 12177479, "creator": "cpeterson@mozilla.com", "is_private": false, "author": "cpeterson@mozilla.com", "creation_time": "2017-03-25T05:00:35Z", "time": "2017-03-25T05:00:35Z", "tags": ["mozreview-request"], "text": "Created attachment 8851195\nBug 713680 - Part 2: Add fuzz to some layout reftests to accommodate subpixel differences from ClearText anti-aliasing on Windows 7 VM without GPU.\n\nlayout/reftests/bidi/brackets-3b-rtl.html\nlayout/reftests/css-break/box-decoration-break-with-outset-box-shadow-1.html\nlayout/reftests/forms/input/text/size-1.html\n\nReview commit: https://reviewboard.mozilla.org/r/123566/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/123566/"}, {"is_private": false, "creator": "cpeterson@mozilla.com", "creation_time": "2017-03-25T05:00:35Z", "author": "cpeterson@mozilla.com", "text": "Comment on attachment 8840301\nBug 713680 - Change default Windows monospace font from Courier New to Consolas.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/114802/diff/2-3/", "time": "2017-03-25T05:00:35Z", "tags": ["mozreview-request"], "attachment_id": 8840301, "raw_text": "Review request updated; see interdiff: https://reviewboard.mozilla.org/r/114802/diff/2-3/", "id": 12177480, "count": 48, "bug_id": 713680}, {"bug_id": 713680, "count": 49, "creation_time": "2017-03-25T05:07:16Z", "author": "cpeterson@mozilla.com", "text": "Here are links to the reftest analyzers showing the differences on Windows 7 VM without GPU:\n\n1. For test layout/reftests/bidi/brackets-3b-rtl.html, there is a subpixel alignment difference in one of the Arabic characters:\n\nhttps://hg.mozilla.org/mozilla-central/raw-file/tip/layout/tools/reftest/reftest-analyzer.xhtml#logurl=https://archive.mozilla.org/pub/firefox/try-builds/cpeterson@mozilla.com-454605bcafd18a74067a0a975c154377d8e839b0/try-win64/try_win8_64_test-reftest-no-accel-bm110-tests1-windows-build5.txt.gz&only_show_unexpected=1\n\n2. For test layout/reftests/css-break/box-decoration-break-with-outset-box-shadow-1.html, there are some tiny differences in two of the rounded rectangles' curves:\n\nhttps://hg.mozilla.org/mozilla-central/raw-file/tip/layout/tools/reftest/reftest-analyzer.xhtml#logurl=https://archive.mozilla.org/pub/firefox/try-builds/cpeterson@mozilla.com-20caef0e840bb75fccbd5e59a86bc17193741dd0/try-win64-debug/try_win8_64-debug_test-reftest-e10s-1-bm112-tests1-windows-build65.txt.gz&only_show_unexpected=1\n\n3. For test layout/reftests/forms/input/text/size-1.html, the test image has monochromatic text, but reference image has blue/red artifacts from ClearText anti-aliasing:\n\nhttps://hg.mozilla.org/mozilla-central/raw-file/tip/layout/tools/reftest/reftest-analyzer.xhtml#logurl=https://archive.mozilla.org/pub/firefox/try-builds/cpeterson@mozilla.com-454605bcafd18a74067a0a975c154377d8e839b0/try-win32/try_win7_vm_gfx_test-reftest-gpu-e10s-bm139-tests1-windows-build225.txt.gz&only_show_unexpected=1", "tags": [], "time": "2017-03-25T05:07:16Z", "is_private": false, "creator": "cpeterson@mozilla.com", "id": 12177485, "attachment_id": null, "raw_text": "Here are links to the reftest analyzers showing the differences on Windows 7 VM without GPU:\n\n1. For test layout/reftests/bidi/brackets-3b-rtl.html, there is a subpixel alignment difference in one of the Arabic characters:\n\nhttps://hg.mozilla.org/mozilla-central/raw-file/tip/layout/tools/reftest/reftest-analyzer.xhtml#logurl=https://archive.mozilla.org/pub/firefox/try-builds/cpeterson@mozilla.com-454605bcafd18a74067a0a975c154377d8e839b0/try-win64/try_win8_64_test-reftest-no-accel-bm110-tests1-windows-build5.txt.gz&only_show_unexpected=1\n\n2. For test layout/reftests/css-break/box-decoration-break-with-outset-box-shadow-1.html, there are some tiny differences in two of the rounded rectangles' curves:\n\nhttps://hg.mozilla.org/mozilla-central/raw-file/tip/layout/tools/reftest/reftest-analyzer.xhtml#logurl=https://archive.mozilla.org/pub/firefox/try-builds/cpeterson@mozilla.com-20caef0e840bb75fccbd5e59a86bc17193741dd0/try-win64-debug/try_win8_64-debug_test-reftest-e10s-1-bm112-tests1-windows-build65.txt.gz&only_show_unexpected=1\n\n3. For test layout/reftests/forms/input/text/size-1.html, the test image has monochromatic text, but reference image has blue/red artifacts from ClearText anti-aliasing:\n\nhttps://hg.mozilla.org/mozilla-central/raw-file/tip/layout/tools/reftest/reftest-analyzer.xhtml#logurl=https://archive.mozilla.org/pub/firefox/try-builds/cpeterson@mozilla.com-454605bcafd18a74067a0a975c154377d8e839b0/try-win32/try_win7_vm_gfx_test-reftest-gpu-e10s-bm139-tests1-windows-build225.txt.gz&only_show_unexpected=1"}, {"creator": "masayuki@d-toybox.com", "is_private": false, "count": 50, "author": "masayuki@d-toybox.com", "creation_time": "2017-03-27T05:46:30Z", "time": "2017-03-27T05:46:30Z", "bug_id": 713680, "tags": ["mozreview-review"], "text": "Comment on attachment 8851195\nBug 713680 - Part 2: Add fuzz to some layout reftests to accommodate subpixel differences from ClearText anti-aliasing on Windows 7 VM without GPU.\n\nhttps://reviewboard.mozilla.org/r/123566/#review126174\n\nAlthough, why you requested to review to me.", "attachment_id": 8851195, "raw_text": "https://reviewboard.mozilla.org/r/123566/#review126174\n\nAlthough, why you requested to review to me.", "id": 12179682}, {"count": 51, "bug_id": 713680, "is_private": false, "creator": "cpeterson@mozilla.com", "creation_time": "2017-03-29T05:02:37Z", "author": "cpeterson@mozilla.com", "text": "Thanks. I had requested your review for these test patches because you had reviewed part of the original Consolas patch. And you had a shorter review queue than jfkthame. :)", "tags": [], "time": "2017-03-29T05:02:37Z", "attachment_id": null, "raw_text": "Thanks. I had requested your review for these test patches because you had reviewed part of the original Consolas patch. And you had a shorter review queue than jfkthame. :)", "id": 12186742}, {"id": 12186744, "raw_text": "Pushed by cpeterson@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/e4ecf720b3a1\nChange default Windows monospace font from Courier New to Consolas. r=jfkthame r=masayuki", "attachment_id": null, "time": "2017-03-29T05:10:43Z", "tags": [], "text": "Pushed by cpeterson@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/e4ecf720b3a1\nChange default Windows monospace font from Courier New to Consolas. r=jfkthame r=masayuki", "author": "pulsebot@bots.tld", "creation_time": "2017-03-29T05:10:43Z", "creator": "pulsebot@bots.tld", "is_private": false, "bug_id": 713680, "count": 52}, {"attachment_id": null, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/e4ecf720b3a1", "id": 12187924, "creator": "ryanvm@gmail.com", "is_private": false, "count": 53, "author": "ryanvm@gmail.com", "creation_time": "2017-03-29T14:00:15Z", "bug_id": 713680, "time": "2017-03-29T14:00:15Z", "tags": ["bugherder"], "text": "https://hg.mozilla.org/mozilla-central/rev/e4ecf720b3a1"}, {"is_private": false, "creator": "aryx.bugmail@gmx-topmail.de", "count": 54, "creation_time": "2017-03-29T19:55:35Z", "author": "aryx.bugmail@gmx-topmail.de", "text": "Backed out for crashing in dom/tests/mochitest/chrome/test_xray_event_constructor.xul on Windows 7 debug:\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/389ff5662e9ce4a1b91bb815326773c020fb41ea\n\nPush with failure: https://treeherder.mozilla.org/#/jobs?repo=mozilla-inbound&revision=e4ecf720b3a1cad1629a7552a559bdb0eed64650&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception&filter-resultStatus=retry&filter-resultStatus=usercancel&filter-resultStatus=runnable&filter-resultStatus=success&filter-searchStr=windows+debug+M(c2)\nFailure log: https://treeherder.mozilla.org/logviewer.html#?job_id=87191113&repo=mozilla-inbound\n\n23:55:45     INFO - GECKO(792) | Assertion failure: IsIdle(oldState), at c:\\builds\\moz2_slave\\m-in-w32-d-0000000000000000000\\build\\src\\xpcom\\ds\\PLDHashTable.h:132\n23:55:45     INFO - GECKO(792) | #01: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x48fd80]\n23:55:45     INFO - GECKO(792) | #02: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xee3444]\n23:55:45     INFO - GECKO(792) | #03: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xe947ce]\n23:55:45     INFO - GECKO(792) | #04: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xe94826]\n23:55:45     INFO - GECKO(792) | #05: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xedf85c]\n23:55:45     INFO - GECKO(792) | #06: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xecfb98]\n23:55:45     INFO - GECKO(792) | #07: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x493d29]\n23:55:45     INFO - GECKO(792) | #08: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x493e1f]\n23:55:45     INFO - GECKO(792) | #09: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2babac1]\n23:55:45     INFO - GECKO(792) | #10: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x4e4067]\n23:55:45     INFO - GECKO(792) | #11: soundtouch::SoundTouch::operator=[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xc002dc]\n23:55:45     INFO - GECKO(792) | #12: soundtouch::SoundTouch::operator=[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xbf5371]\n23:55:45     INFO - GECKO(792) | #13: soundtouch::SoundTouch::operator=[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xc06559]\n23:55:45     INFO - GECKO(792) | #14: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32db7c3]\n23:55:45     INFO - GECKO(792) | #15: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32e1143]\n23:55:45     INFO - GECKO(792) | #16: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32e0e89]\n23:55:45     INFO - GECKO(792) | #17: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x33e7a44]\n23:55:45     INFO - GECKO(792) | #18: ??? (???:???)\n23:55:45     INFO - GECKO(792) | #19: ??? (???:???)\n23:55:45     INFO - GECKO(792) | #20: ??? (???:???)\n23:55:45     INFO - GECKO(792) | #21: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x33eb6aa]\n23:55:45     INFO - GECKO(792) | #22: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x33ebf0f]\n23:55:45     INFO - GECKO(792) | #23: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32ec035]\n23:55:45     INFO - GECKO(792) | #24: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32e11b2]\n23:55:45     INFO - GECKO(792) | #25: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32e0e89]\n23:55:45     INFO - GECKO(792) | #26: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32db5a5]\n23:55:45     INFO - GECKO(792) | #27: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2d7ffa4]\n23:55:45     INFO - GECKO(792) | #28: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfaabca]\n23:55:45     INFO - GECKO(792) | #29: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfaaefa]\n23:55:45     INFO - GECKO(792) | #30: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfaaefa]\n23:55:45     INFO - GECKO(792) | #31: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfaaefa]\n23:55:45     INFO - GECKO(792) | #32: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfab2c2]\n23:55:45     INFO - GECKO(792) | #33: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x10bfdff]\n23:55:45     INFO - GECKO(792) | #34: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x103d002]\n23:55:45     INFO - GECKO(792) | #35: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x4dcab8]\n23:55:45     INFO - GECKO(792) | #36: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x4dc0c1]\n23:55:46     INFO - GECKO(792) | #37: soundtouch::SoundTouch::operator=[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x89b24f]\n23:55:46     INFO - GECKO(792) | #38: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x873c55]\n23:55:46     INFO - GECKO(792) | #39: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x873c0d]\n23:55:46     INFO - GECKO(792) | #40: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x87396c]\n23:55:46     INFO - GECKO(792) | #41: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x1ea3b1b]\n23:55:46     INFO - GECKO(792) | #42: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x1ef73d4]\n23:55:46     INFO - GECKO(792) | #43: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2babd1b]\n23:55:46     INFO - GECKO(792) | #44: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2c19adc]\n23:55:46     INFO - GECKO(792) | #45: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2c17d07]\n23:55:46     INFO - GECKO(792) | #46: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2c177d3]\n23:55:46     INFO - GECKO(792) | #47: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2c2455f]\n23:55:46     INFO - GECKO(792) | #48: ???[C:\\slave\\test\\build\\application\\firefox\\firefox.exe +0x174c]\n23:55:46     INFO - GECKO(792) | #49: ???[C:\\slave\\test\\build\\application\\firefox\\firefox.exe +0x13b6]\n23:55:46     INFO - GECKO(792) | #50: ???[C:\\slave\\test\\build\\application\\firefox\\firefox.exe +0x1a89]\n23:55:46     INFO - GECKO(792) | #51: TargetNtUnmapViewOfSection[C:\\slave\\test\\build\\application\\firefox\\firefox.exe +0x32eb9]\n23:55:46     INFO - GECKO(792) | #52: BaseThreadInitThunk[C:\\windows\\system32\\kernel32.dll +0x53c45]\n23:55:46     INFO - GECKO(792) | #53: RtlInitializeExceptionChain[C:\\windows\\SYSTEM32\\ntdll.dll +0x637f5]\n23:55:46     INFO - GECKO(792) | #54: RtlInitializeExceptionChain[C:\\windows\\SYSTEM32\\ntdll.dll +0x637c8]\n23:55:46     INFO - TEST-INFO | Main app process: exit 1\n23:55:46     INFO - Buffered messages finished\n23:55:46    ERROR - TEST-UNEXPECTED-FAIL | dom/tests/mochitest/chrome/test_xray_event_constructor.xul | application terminated with exit code 1\n23:55:46     INFO - runtests.py | Application ran for: 0:00:53.516000\n23:55:46     INFO - zombiecheck | Reading PID log: c:\\users\\cltbld\\appdata\\local\\temp\\tmpgbbzwbpidlog\n23:55:46     INFO - mozcrash Copy/paste: C:\\slave\\test\\build\\win32-minidump_stackwalk.exe c:\\users\\cltbld\\appdata\\local\\temp\\tmpyuejzx.mozrunner\\minidumps\\4d7e9c85-c9b1-43b1-919d-32d8b10f0911.dmp C:\\slave\\test\\build\\symbols\n23:55:57     INFO - mozcrash Saved minidump as C:\\slave\\test\\build\\blobber_upload_dir\\4d7e9c85-c9b1-43b1-919d-32d8b10f0911.dmp\n23:55:57     INFO - mozcrash Saved app info as C:\\slave\\test\\build\\blobber_upload_dir\\4d7e9c85-c9b1-43b1-919d-32d8b10f0911.extra\n23:55:57     INFO - PROCESS-CRASH | dom/tests/mochitest/chrome/test_xray_event_constructor.xul | application crashed [@ Checker::StartWriteOp()]\n23:55:57     INFO - Crash dump filename: c:\\users\\cltbld\\appdata\\local\\temp\\tmpyuejzx.mozrunner\\minidumps\\4d7e9c85-c9b1-43b1-919d-32d8b10f0911.dmp\n23:55:57     INFO - Operating system: Windows NT\n23:55:57     INFO -                   6.1.7601 Service Pack 1\n23:55:57     INFO - CPU: x86\n23:55:57     INFO -      GenuineIntel family 6 model 30 stepping 5\n23:55:57     INFO -      8 CPUs\n23:55:57     INFO - \n23:55:57     INFO - GPU: UNKNOWN\n23:55:57     INFO - \n23:55:57     INFO - Crash reason:  EXCEPTION_BREAKPOINT\n23:55:57     INFO - Crash address: 0x5e046a3b\n23:55:57     INFO - Process uptime: 53 seconds\n23:55:57     INFO - \n23:55:57     INFO - Thread 0 (crashed)\n23:55:57     INFO -  0  xul.dll!Checker::StartWriteOp() [PLDHashTable.h:e4ecf720b3a1 : 130 + 0x18]\n23:55:57     INFO -     eip = 0x5e046a3b   esp = 0x001ddbcc   ebp = 0x001ddbe0   ebx = 0x00000001\n23:55:57     INFO -     esi = 0x00000084   edi = 0x27df9460   eax = 0x00000000   ecx = 0x68f906ef\n23:55:57     INFO -     edx = 0x00000060   efl = 0x00000206\n23:55:57     INFO -     Found by: given as instruction pointer in context\n23:55:57     INFO -  1  xul.dll!PLDHashTable::Add(void const *,mozilla::fallible_t const &) [PLDHashTable.cpp:e4ecf720b3a1 : 531 + 0xa]\n23:55:57     INFO -     eip = 0x5e03fddd   esp = 0x001ddbd4   ebp = 0x001ddbe0\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  2  xul.dll!PLDHashTable::Add(void const *) [PLDHashTable.cpp:e4ecf720b3a1 : 591 + 0xf]\n23:55:57     INFO -     eip = 0x5e03fd80   esp = 0x001ddbe8   ebp = 0x001ddbf8\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  3  xul.dll!gfxPlatformFontList::FindAndAddFamilies(nsAString const &,nsTArray<gfxFontFamily *> *,gfxFontStyle *,double) [gfxPlatformFontList.cpp:e4ecf720b3a1 : 719 + 0x15]\n23:55:57     INFO -     eip = 0x5ea93444   esp = 0x001ddc00   ebp = 0x001ddcb4\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  4  xul.dll!gfxGDIFontList::FindAndAddFamilies(nsAString const &,nsTArray<gfxFontFamily *> *,gfxFontStyle *,double) [gfxGDIFontList.cpp:e4ecf720b3a1 : 890 + 0x20]\n23:55:57     INFO -     eip = 0x5ea447ce   esp = 0x001ddcbc   ebp = 0x001ddd84\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  5  xul.dll!gfxPlatformFontList::FindFamily(nsAString const &,gfxFontStyle *,double) [gfxPlatformFontList.h:e4ecf720b3a1 : 278 + 0x1d]\n23:55:57     INFO -     eip = 0x5ea44826   esp = 0x001ddd8c   ebp = 0x001dddb4\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  6  xul.dll!gfxPlatformFontList::CleanupLoader() [gfxPlatformFontList.cpp:e4ecf720b3a1 : 1507 + 0x24]\n23:55:57     INFO -     eip = 0x5ea8f85c   esp = 0x001dddbc   ebp = 0x001dddfc\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  7  xul.dll!gfxFontInfoLoader::ShutdownObserver::Observe(nsISupports *,char const *,char16_t const *) [gfxFontInfoLoader.cpp:e4ecf720b3a1 : 125 + 0xb]\n23:55:57     INFO -     eip = 0x5ea7fb98   esp = 0x001dde04   ebp = 0x001dde04\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  8  xul.dll!nsObserverList::NotifyObservers(nsISupports *,char const *,char16_t const *) [nsObserverList.cpp:e4ecf720b3a1 : 112 + 0x1a]\n23:55:57     INFO -     eip = 0x5e043d29   esp = 0x001dde0c   ebp = 0x001dde24\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  9  xul.dll!nsObserverService::NotifyObservers(nsISupports *,char const *,char16_t const *) [nsObserverService.cpp:e4ecf720b3a1 : 281 + 0xe]\n23:55:57     INFO -     eip = 0x5e043e1f   esp = 0x001dde2c   ebp = 0x001dde40\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 10  xul.dll!nsAppStartup::Quit(unsigned int) [nsAppStartup.cpp:e4ecf720b3a1 : 461 + 0x2c]\n23:55:57     INFO -     eip = 0x6075bac1   esp = 0x001dde48   ebp = 0x001dde80\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 11  xul.dll!NS_InvokeByIndex + 0x27\n23:55:57     INFO -     eip = 0x5e094067   esp = 0x001dde88   ebp = 0x001dde94\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 12  xul.dll!CallMethodHelper::Invoke() [XPCWrappedNative.cpp:e4ecf720b3a1 : 2010 + 0xf]\n23:55:57     INFO -     eip = 0x5e7b02dc   esp = 0x001dde9c   ebp = 0x001ddec8\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 13  xul.dll!CallMethodHelper::Call() [XPCWrappedNative.cpp:e4ecf720b3a1 : 1329 + 0x7]\n23:55:57     INFO -     eip = 0x5e7a52dc   esp = 0x001ddeb0   ebp = 0x001ddec8\n23:55:57     INFO -     Found by: call frame info with scanning\n23:55:57     INFO - 14  xul.dll!XPCWrappedNative::CallMethod(XPCCallContext &,XPCWrappedNative::CallMode) [XPCWrappedNative.cpp:e4ecf720b3a1 : 1296 + 0x12]\n23:55:57     INFO -     eip = 0x5e7a5371   esp = 0x001dded0   ebp = 0x001ddec8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 15  xul.dll!XPCWrappedNative::CallMethod(XPCCallContext &,XPCWrappedNative::CallMode) [XPCWrappedNative.cpp:e4ecf720b3a1 : 1296 + 0x12]\n23:55:57     INFO -     eip = 0x5e7a5371   esp = 0x001dded8   ebp = 0x001ddfa8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 16  xul.dll!js::jit::TryAttachCallStub [BaselineIC.cpp:e4ecf720b3a1 : 2005 + 0x8]\n23:55:57     INFO -     eip = 0x60fa0006   esp = 0x001ddf18   ebp = 0x001ddfa8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 17  xul.dll!js::jit::TryAttachCallStub [BaselineIC.cpp:e4ecf720b3a1 : 2217 + 0x20]\n23:55:57     INFO -     eip = 0x60fa0840   esp = 0x001ddf28   ebp = 0x001ddf3c\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 18  nss3.dll!_MD_CURRENT_THREAD [w95thred.c:e4ecf720b3a1 : 317 + 0xc]\n23:55:57     INFO -     eip = 0x68e27748   esp = 0x001ddf30   ebp = 0x001ddf7c\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 19  xul.dll!XPCNativeInterface::AddRef() [xpcprivate.h:e4ecf720b3a1 : 1203 + 0x35]\n23:55:57     INFO -     eip = 0x5e7832e4   esp = 0x001ddf64   ebp = 0x001ddf7c\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 20  xul.dll!RefPtr<XPCNativeInterface>::assign_with_AddRef(XPCNativeInterface *) [RefPtr.h:e4ecf720b3a1 : 54 + 0x6]\n23:55:57     INFO -     eip = 0x5e79cbd4   esp = 0x001ddf84   ebp = 0x001ddf90\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 21  xul.dll!XPCCallContext::SetCallInfo(XPCNativeInterface *,XPCNativeMember *,bool) [XPCCallContext.cpp:e4ecf720b3a1 : 135 + 0x9]\n23:55:57     INFO -     eip = 0x5e799872   esp = 0x001ddf98   ebp = 0x001de210\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 22  xul.dll!XPC_WN_CallMethod(JSContext *,unsigned int,JS::Value *) [XPCWrappedNativeJSOps.cpp:e4ecf720b3a1 : 983 + 0xd]\n23:55:57     INFO -     eip = 0x5e7b6559   esp = 0x001ddfb0   ebp = 0x001de058\n23:55:57     INFO -     Found by: call frame info with scanning\n23:55:57     INFO - 23  xul.dll!js::jit::DebugModeOSRVolatileStub<js::jit::ICCompare_Fallback *>::operator->() [BaselineDebugModeOSR.h:e4ecf720b3a1 : 74 + 0xe0]\n23:55:57     INFO -     eip = 0x60ffd000   esp = 0x001de008   ebp = 0x001de058\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 24  xul.dll!js::CompartmentChecker::check(JS::CallArgs const &) [jscntxtinlines.h:e4ecf720b3a1 : 155 + 0x14]\n23:55:57     INFO -     eip = 0x60cd5d4a   esp = 0x001de050   ebp = 0x001de058\n23:55:57     INFO -     Found by: call frame info with scanning\n23:55:57     INFO - 25  xul.dll!js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [jscntxtinlines.h:e4ecf720b3a1 : 282 + 0xe]\n23:55:57     INFO -     eip = 0x60e8b7c3   esp = 0x001de060   ebp = 0x001de084\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 26  xul.dll!js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [Interpreter.cpp:e4ecf720b3a1 : 454 + 0x1d]\n23:55:57     INFO -     eip = 0x60e91143   esp = 0x001de08c   ebp = 0x001de0dc\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 27  xul.dll!InternalCall [Interpreter.cpp:e4ecf720b3a1 : 499 + 0xb]\n23:55:57     INFO -     eip = 0x60e90e89   esp = 0x001de0e4   ebp = 0x001de100\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 28  xul.dll!XPCWrappedNative_Trace(JSTracer *,JSObject *) [XPCWrappedNativeJSOps.cpp:e4ecf720b3a1 : 597 + 0x5]\n23:55:57     INFO -     eip = 0x5e7b63d5   esp = 0x001de0ec   ebp = 0x001de100\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 29  xul.dll!js::jit::DoCallFallback [BaselineIC.cpp:e4ecf720b3a1 : 2354 + 0xa]\n23:55:57     INFO -     eip = 0x60f97a44   esp = 0x001de108   ebp = 0x001de1a8\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 30  xul.dll!js::jit::DoCallFallback [BaselineIC.cpp:e4ecf720b3a1 : 2354 + 0xa]\n23:55:57     INFO -     eip = 0x60f97a44   esp = 0x001de110   ebp = 0x001de1a8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 31  0x16247af1\n23:55:57     INFO -     eip = 0x16247af1   esp = 0x001de1b0   ebp = 0x001de218\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 32  0x22337808\n23:55:57     INFO -     eip = 0x22337808   esp = 0x001de220   ebp = 0x001de27c\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 33  0x16240c55\n23:55:57     INFO -     eip = 0x16240c55   esp = 0x001de284   ebp = 0x001de2b0\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 34  xul.dll!EnterBaseline [BaselineJIT.cpp:e4ecf720b3a1 : 160 + 0x1e]\n23:55:57     INFO -     eip = 0x60f9b6aa   esp = 0x001de2b8   ebp = 0x001de448\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 35  xul.dll!js::jit::OptimizationInfo::compilerWarmUpThreshold(JSScript *,unsigned char *) [IonOptimizationLevels.cpp:e4ecf720b3a1 : 90 + 0x5]\n23:55:57     INFO -     eip = 0x61157dab   esp = 0x001de2d4   ebp = 0x001de448\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 36  xul.dll!js::jit::EnterBaselineMethod(JSContext *,js::RunState &) [BaselineJIT.cpp:e4ecf720b3a1 : 200 + 0xd]\n23:55:57     INFO -     eip = 0x60f9bf0f   esp = 0x001de450   ebp = 0x001de4f0\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 37  xul.dll!js::jit::EnterBaselineMethod(JSContext *,js::RunState &) [BaselineJIT.cpp:e4ecf720b3a1 : 200 + 0xd]\n23:55:57     INFO -     eip = 0x60f9bf0f   esp = 0x001de458   ebp = 0x001de6d8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 38  xul.dll!js::jit::OptimizationInfo::compilerWarmUpThreshold(JSScript *,unsigned char *) [IonOptimizationLevels.cpp:e4ecf720b3a1 : 90 + 0x5]\n23:55:57     INFO -     eip = 0x61157dab   esp = 0x001de484   ebp = 0x001de6d8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 39  xul.dll!JS::GCVector<JS::Value,0,js::TempAllocPolicy>::trace(JSTracer *) [GCVector.h:e4ecf720b3a1 : 134 + 0x23]\n23:55:57     INFO -     eip = 0x609e8f70   esp = 0x001de4b4   ebp = 0x001de400\n23:55:57     INFO -     Found by: call frame info with scanning", "time": "2017-03-29T19:55:35Z", "tags": [], "bug_id": 713680, "attachment_id": null, "raw_text": "Backed out for crashing in dom/tests/mochitest/chrome/test_xray_event_constructor.xul on Windows 7 debug:\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/389ff5662e9ce4a1b91bb815326773c020fb41ea\n\nPush with failure: https://treeherder.mozilla.org/#/jobs?repo=mozilla-inbound&revision=e4ecf720b3a1cad1629a7552a559bdb0eed64650&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception&filter-resultStatus=retry&filter-resultStatus=usercancel&filter-resultStatus=runnable&filter-resultStatus=success&filter-searchStr=windows+debug+M(c2)\nFailure log: https://treeherder.mozilla.org/logviewer.html#?job_id=87191113&repo=mozilla-inbound\n\n23:55:45     INFO - GECKO(792) | Assertion failure: IsIdle(oldState), at c:\\builds\\moz2_slave\\m-in-w32-d-0000000000000000000\\build\\src\\xpcom\\ds\\PLDHashTable.h:132\n23:55:45     INFO - GECKO(792) | #01: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x48fd80]\n23:55:45     INFO - GECKO(792) | #02: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xee3444]\n23:55:45     INFO - GECKO(792) | #03: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xe947ce]\n23:55:45     INFO - GECKO(792) | #04: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xe94826]\n23:55:45     INFO - GECKO(792) | #05: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xedf85c]\n23:55:45     INFO - GECKO(792) | #06: PrintJSStack[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xecfb98]\n23:55:45     INFO - GECKO(792) | #07: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x493d29]\n23:55:45     INFO - GECKO(792) | #08: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x493e1f]\n23:55:45     INFO - GECKO(792) | #09: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2babac1]\n23:55:45     INFO - GECKO(792) | #10: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x4e4067]\n23:55:45     INFO - GECKO(792) | #11: soundtouch::SoundTouch::operator=[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xc002dc]\n23:55:45     INFO - GECKO(792) | #12: soundtouch::SoundTouch::operator=[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xbf5371]\n23:55:45     INFO - GECKO(792) | #13: soundtouch::SoundTouch::operator=[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xc06559]\n23:55:45     INFO - GECKO(792) | #14: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32db7c3]\n23:55:45     INFO - GECKO(792) | #15: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32e1143]\n23:55:45     INFO - GECKO(792) | #16: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32e0e89]\n23:55:45     INFO - GECKO(792) | #17: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x33e7a44]\n23:55:45     INFO - GECKO(792) | #18: ??? (???:???)\n23:55:45     INFO - GECKO(792) | #19: ??? (???:???)\n23:55:45     INFO - GECKO(792) | #20: ??? (???:???)\n23:55:45     INFO - GECKO(792) | #21: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x33eb6aa]\n23:55:45     INFO - GECKO(792) | #22: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x33ebf0f]\n23:55:45     INFO - GECKO(792) | #23: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32ec035]\n23:55:45     INFO - GECKO(792) | #24: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32e11b2]\n23:55:45     INFO - GECKO(792) | #25: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32e0e89]\n23:55:45     INFO - GECKO(792) | #26: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x32db5a5]\n23:55:45     INFO - GECKO(792) | #27: XRE_GetBootstrap[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2d7ffa4]\n23:55:45     INFO - GECKO(792) | #28: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfaabca]\n23:55:45     INFO - GECKO(792) | #29: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfaaefa]\n23:55:45     INFO - GECKO(792) | #30: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfaaefa]\n23:55:45     INFO - GECKO(792) | #31: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfaaefa]\n23:55:45     INFO - GECKO(792) | #32: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0xfab2c2]\n23:55:45     INFO - GECKO(792) | #33: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x10bfdff]\n23:55:45     INFO - GECKO(792) | #34: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x103d002]\n23:55:45     INFO - GECKO(792) | #35: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x4dcab8]\n23:55:45     INFO - GECKO(792) | #36: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x4dc0c1]\n23:55:46     INFO - GECKO(792) | #37: soundtouch::SoundTouch::operator=[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x89b24f]\n23:55:46     INFO - GECKO(792) | #38: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x873c55]\n23:55:46     INFO - GECKO(792) | #39: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x873c0d]\n23:55:46     INFO - GECKO(792) | #40: ???[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x87396c]\n23:55:46     INFO - GECKO(792) | #41: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x1ea3b1b]\n23:55:46     INFO - GECKO(792) | #42: mozilla_dump_image[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x1ef73d4]\n23:55:46     INFO - GECKO(792) | #43: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2babd1b]\n23:55:46     INFO - GECKO(792) | #44: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2c19adc]\n23:55:46     INFO - GECKO(792) | #45: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2c17d07]\n23:55:46     INFO - GECKO(792) | #46: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2c177d3]\n23:55:46     INFO - GECKO(792) | #47: workerlz4_maxCompressedSize[C:\\slave\\test\\build\\application\\firefox\\xul.dll +0x2c2455f]\n23:55:46     INFO - GECKO(792) | #48: ???[C:\\slave\\test\\build\\application\\firefox\\firefox.exe +0x174c]\n23:55:46     INFO - GECKO(792) | #49: ???[C:\\slave\\test\\build\\application\\firefox\\firefox.exe +0x13b6]\n23:55:46     INFO - GECKO(792) | #50: ???[C:\\slave\\test\\build\\application\\firefox\\firefox.exe +0x1a89]\n23:55:46     INFO - GECKO(792) | #51: TargetNtUnmapViewOfSection[C:\\slave\\test\\build\\application\\firefox\\firefox.exe +0x32eb9]\n23:55:46     INFO - GECKO(792) | #52: BaseThreadInitThunk[C:\\windows\\system32\\kernel32.dll +0x53c45]\n23:55:46     INFO - GECKO(792) | #53: RtlInitializeExceptionChain[C:\\windows\\SYSTEM32\\ntdll.dll +0x637f5]\n23:55:46     INFO - GECKO(792) | #54: RtlInitializeExceptionChain[C:\\windows\\SYSTEM32\\ntdll.dll +0x637c8]\n23:55:46     INFO - TEST-INFO | Main app process: exit 1\n23:55:46     INFO - Buffered messages finished\n23:55:46    ERROR - TEST-UNEXPECTED-FAIL | dom/tests/mochitest/chrome/test_xray_event_constructor.xul | application terminated with exit code 1\n23:55:46     INFO - runtests.py | Application ran for: 0:00:53.516000\n23:55:46     INFO - zombiecheck | Reading PID log: c:\\users\\cltbld\\appdata\\local\\temp\\tmpgbbzwbpidlog\n23:55:46     INFO - mozcrash Copy/paste: C:\\slave\\test\\build\\win32-minidump_stackwalk.exe c:\\users\\cltbld\\appdata\\local\\temp\\tmpyuejzx.mozrunner\\minidumps\\4d7e9c85-c9b1-43b1-919d-32d8b10f0911.dmp C:\\slave\\test\\build\\symbols\n23:55:57     INFO - mozcrash Saved minidump as C:\\slave\\test\\build\\blobber_upload_dir\\4d7e9c85-c9b1-43b1-919d-32d8b10f0911.dmp\n23:55:57     INFO - mozcrash Saved app info as C:\\slave\\test\\build\\blobber_upload_dir\\4d7e9c85-c9b1-43b1-919d-32d8b10f0911.extra\n23:55:57     INFO - PROCESS-CRASH | dom/tests/mochitest/chrome/test_xray_event_constructor.xul | application crashed [@ Checker::StartWriteOp()]\n23:55:57     INFO - Crash dump filename: c:\\users\\cltbld\\appdata\\local\\temp\\tmpyuejzx.mozrunner\\minidumps\\4d7e9c85-c9b1-43b1-919d-32d8b10f0911.dmp\n23:55:57     INFO - Operating system: Windows NT\n23:55:57     INFO -                   6.1.7601 Service Pack 1\n23:55:57     INFO - CPU: x86\n23:55:57     INFO -      GenuineIntel family 6 model 30 stepping 5\n23:55:57     INFO -      8 CPUs\n23:55:57     INFO - \n23:55:57     INFO - GPU: UNKNOWN\n23:55:57     INFO - \n23:55:57     INFO - Crash reason:  EXCEPTION_BREAKPOINT\n23:55:57     INFO - Crash address: 0x5e046a3b\n23:55:57     INFO - Process uptime: 53 seconds\n23:55:57     INFO - \n23:55:57     INFO - Thread 0 (crashed)\n23:55:57     INFO -  0  xul.dll!Checker::StartWriteOp() [PLDHashTable.h:e4ecf720b3a1 : 130 + 0x18]\n23:55:57     INFO -     eip = 0x5e046a3b   esp = 0x001ddbcc   ebp = 0x001ddbe0   ebx = 0x00000001\n23:55:57     INFO -     esi = 0x00000084   edi = 0x27df9460   eax = 0x00000000   ecx = 0x68f906ef\n23:55:57     INFO -     edx = 0x00000060   efl = 0x00000206\n23:55:57     INFO -     Found by: given as instruction pointer in context\n23:55:57     INFO -  1  xul.dll!PLDHashTable::Add(void const *,mozilla::fallible_t const &) [PLDHashTable.cpp:e4ecf720b3a1 : 531 + 0xa]\n23:55:57     INFO -     eip = 0x5e03fddd   esp = 0x001ddbd4   ebp = 0x001ddbe0\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  2  xul.dll!PLDHashTable::Add(void const *) [PLDHashTable.cpp:e4ecf720b3a1 : 591 + 0xf]\n23:55:57     INFO -     eip = 0x5e03fd80   esp = 0x001ddbe8   ebp = 0x001ddbf8\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  3  xul.dll!gfxPlatformFontList::FindAndAddFamilies(nsAString const &,nsTArray<gfxFontFamily *> *,gfxFontStyle *,double) [gfxPlatformFontList.cpp:e4ecf720b3a1 : 719 + 0x15]\n23:55:57     INFO -     eip = 0x5ea93444   esp = 0x001ddc00   ebp = 0x001ddcb4\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  4  xul.dll!gfxGDIFontList::FindAndAddFamilies(nsAString const &,nsTArray<gfxFontFamily *> *,gfxFontStyle *,double) [gfxGDIFontList.cpp:e4ecf720b3a1 : 890 + 0x20]\n23:55:57     INFO -     eip = 0x5ea447ce   esp = 0x001ddcbc   ebp = 0x001ddd84\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  5  xul.dll!gfxPlatformFontList::FindFamily(nsAString const &,gfxFontStyle *,double) [gfxPlatformFontList.h:e4ecf720b3a1 : 278 + 0x1d]\n23:55:57     INFO -     eip = 0x5ea44826   esp = 0x001ddd8c   ebp = 0x001dddb4\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  6  xul.dll!gfxPlatformFontList::CleanupLoader() [gfxPlatformFontList.cpp:e4ecf720b3a1 : 1507 + 0x24]\n23:55:57     INFO -     eip = 0x5ea8f85c   esp = 0x001dddbc   ebp = 0x001dddfc\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  7  xul.dll!gfxFontInfoLoader::ShutdownObserver::Observe(nsISupports *,char const *,char16_t const *) [gfxFontInfoLoader.cpp:e4ecf720b3a1 : 125 + 0xb]\n23:55:57     INFO -     eip = 0x5ea7fb98   esp = 0x001dde04   ebp = 0x001dde04\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  8  xul.dll!nsObserverList::NotifyObservers(nsISupports *,char const *,char16_t const *) [nsObserverList.cpp:e4ecf720b3a1 : 112 + 0x1a]\n23:55:57     INFO -     eip = 0x5e043d29   esp = 0x001dde0c   ebp = 0x001dde24\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO -  9  xul.dll!nsObserverService::NotifyObservers(nsISupports *,char const *,char16_t const *) [nsObserverService.cpp:e4ecf720b3a1 : 281 + 0xe]\n23:55:57     INFO -     eip = 0x5e043e1f   esp = 0x001dde2c   ebp = 0x001dde40\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 10  xul.dll!nsAppStartup::Quit(unsigned int) [nsAppStartup.cpp:e4ecf720b3a1 : 461 + 0x2c]\n23:55:57     INFO -     eip = 0x6075bac1   esp = 0x001dde48   ebp = 0x001dde80\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 11  xul.dll!NS_InvokeByIndex + 0x27\n23:55:57     INFO -     eip = 0x5e094067   esp = 0x001dde88   ebp = 0x001dde94\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 12  xul.dll!CallMethodHelper::Invoke() [XPCWrappedNative.cpp:e4ecf720b3a1 : 2010 + 0xf]\n23:55:57     INFO -     eip = 0x5e7b02dc   esp = 0x001dde9c   ebp = 0x001ddec8\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 13  xul.dll!CallMethodHelper::Call() [XPCWrappedNative.cpp:e4ecf720b3a1 : 1329 + 0x7]\n23:55:57     INFO -     eip = 0x5e7a52dc   esp = 0x001ddeb0   ebp = 0x001ddec8\n23:55:57     INFO -     Found by: call frame info with scanning\n23:55:57     INFO - 14  xul.dll!XPCWrappedNative::CallMethod(XPCCallContext &,XPCWrappedNative::CallMode) [XPCWrappedNative.cpp:e4ecf720b3a1 : 1296 + 0x12]\n23:55:57     INFO -     eip = 0x5e7a5371   esp = 0x001dded0   ebp = 0x001ddec8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 15  xul.dll!XPCWrappedNative::CallMethod(XPCCallContext &,XPCWrappedNative::CallMode) [XPCWrappedNative.cpp:e4ecf720b3a1 : 1296 + 0x12]\n23:55:57     INFO -     eip = 0x5e7a5371   esp = 0x001dded8   ebp = 0x001ddfa8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 16  xul.dll!js::jit::TryAttachCallStub [BaselineIC.cpp:e4ecf720b3a1 : 2005 + 0x8]\n23:55:57     INFO -     eip = 0x60fa0006   esp = 0x001ddf18   ebp = 0x001ddfa8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 17  xul.dll!js::jit::TryAttachCallStub [BaselineIC.cpp:e4ecf720b3a1 : 2217 + 0x20]\n23:55:57     INFO -     eip = 0x60fa0840   esp = 0x001ddf28   ebp = 0x001ddf3c\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 18  nss3.dll!_MD_CURRENT_THREAD [w95thred.c:e4ecf720b3a1 : 317 + 0xc]\n23:55:57     INFO -     eip = 0x68e27748   esp = 0x001ddf30   ebp = 0x001ddf7c\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 19  xul.dll!XPCNativeInterface::AddRef() [xpcprivate.h:e4ecf720b3a1 : 1203 + 0x35]\n23:55:57     INFO -     eip = 0x5e7832e4   esp = 0x001ddf64   ebp = 0x001ddf7c\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 20  xul.dll!RefPtr<XPCNativeInterface>::assign_with_AddRef(XPCNativeInterface *) [RefPtr.h:e4ecf720b3a1 : 54 + 0x6]\n23:55:57     INFO -     eip = 0x5e79cbd4   esp = 0x001ddf84   ebp = 0x001ddf90\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 21  xul.dll!XPCCallContext::SetCallInfo(XPCNativeInterface *,XPCNativeMember *,bool) [XPCCallContext.cpp:e4ecf720b3a1 : 135 + 0x9]\n23:55:57     INFO -     eip = 0x5e799872   esp = 0x001ddf98   ebp = 0x001de210\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 22  xul.dll!XPC_WN_CallMethod(JSContext *,unsigned int,JS::Value *) [XPCWrappedNativeJSOps.cpp:e4ecf720b3a1 : 983 + 0xd]\n23:55:57     INFO -     eip = 0x5e7b6559   esp = 0x001ddfb0   ebp = 0x001de058\n23:55:57     INFO -     Found by: call frame info with scanning\n23:55:57     INFO - 23  xul.dll!js::jit::DebugModeOSRVolatileStub<js::jit::ICCompare_Fallback *>::operator->() [BaselineDebugModeOSR.h:e4ecf720b3a1 : 74 + 0xe0]\n23:55:57     INFO -     eip = 0x60ffd000   esp = 0x001de008   ebp = 0x001de058\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 24  xul.dll!js::CompartmentChecker::check(JS::CallArgs const &) [jscntxtinlines.h:e4ecf720b3a1 : 155 + 0x14]\n23:55:57     INFO -     eip = 0x60cd5d4a   esp = 0x001de050   ebp = 0x001de058\n23:55:57     INFO -     Found by: call frame info with scanning\n23:55:57     INFO - 25  xul.dll!js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [jscntxtinlines.h:e4ecf720b3a1 : 282 + 0xe]\n23:55:57     INFO -     eip = 0x60e8b7c3   esp = 0x001de060   ebp = 0x001de084\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 26  xul.dll!js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [Interpreter.cpp:e4ecf720b3a1 : 454 + 0x1d]\n23:55:57     INFO -     eip = 0x60e91143   esp = 0x001de08c   ebp = 0x001de0dc\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 27  xul.dll!InternalCall [Interpreter.cpp:e4ecf720b3a1 : 499 + 0xb]\n23:55:57     INFO -     eip = 0x60e90e89   esp = 0x001de0e4   ebp = 0x001de100\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 28  xul.dll!XPCWrappedNative_Trace(JSTracer *,JSObject *) [XPCWrappedNativeJSOps.cpp:e4ecf720b3a1 : 597 + 0x5]\n23:55:57     INFO -     eip = 0x5e7b63d5   esp = 0x001de0ec   ebp = 0x001de100\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 29  xul.dll!js::jit::DoCallFallback [BaselineIC.cpp:e4ecf720b3a1 : 2354 + 0xa]\n23:55:57     INFO -     eip = 0x60f97a44   esp = 0x001de108   ebp = 0x001de1a8\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 30  xul.dll!js::jit::DoCallFallback [BaselineIC.cpp:e4ecf720b3a1 : 2354 + 0xa]\n23:55:57     INFO -     eip = 0x60f97a44   esp = 0x001de110   ebp = 0x001de1a8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 31  0x16247af1\n23:55:57     INFO -     eip = 0x16247af1   esp = 0x001de1b0   ebp = 0x001de218\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 32  0x22337808\n23:55:57     INFO -     eip = 0x22337808   esp = 0x001de220   ebp = 0x001de27c\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 33  0x16240c55\n23:55:57     INFO -     eip = 0x16240c55   esp = 0x001de284   ebp = 0x001de2b0\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 34  xul.dll!EnterBaseline [BaselineJIT.cpp:e4ecf720b3a1 : 160 + 0x1e]\n23:55:57     INFO -     eip = 0x60f9b6aa   esp = 0x001de2b8   ebp = 0x001de448\n23:55:57     INFO -     Found by: previous frame's frame pointer\n23:55:57     INFO - 35  xul.dll!js::jit::OptimizationInfo::compilerWarmUpThreshold(JSScript *,unsigned char *) [IonOptimizationLevels.cpp:e4ecf720b3a1 : 90 + 0x5]\n23:55:57     INFO -     eip = 0x61157dab   esp = 0x001de2d4   ebp = 0x001de448\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 36  xul.dll!js::jit::EnterBaselineMethod(JSContext *,js::RunState &) [BaselineJIT.cpp:e4ecf720b3a1 : 200 + 0xd]\n23:55:57     INFO -     eip = 0x60f9bf0f   esp = 0x001de450   ebp = 0x001de4f0\n23:55:57     INFO -     Found by: call frame info\n23:55:57     INFO - 37  xul.dll!js::jit::EnterBaselineMethod(JSContext *,js::RunState &) [BaselineJIT.cpp:e4ecf720b3a1 : 200 + 0xd]\n23:55:57     INFO -     eip = 0x60f9bf0f   esp = 0x001de458   ebp = 0x001de6d8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 38  xul.dll!js::jit::OptimizationInfo::compilerWarmUpThreshold(JSScript *,unsigned char *) [IonOptimizationLevels.cpp:e4ecf720b3a1 : 90 + 0x5]\n23:55:57     INFO -     eip = 0x61157dab   esp = 0x001de484   ebp = 0x001de6d8\n23:55:57     INFO -     Found by: stack scanning\n23:55:57     INFO - 39  xul.dll!JS::GCVector<JS::Value,0,js::TempAllocPolicy>::trace(JSTracer *) [GCVector.h:e4ecf720b3a1 : 134 + 0x23]\n23:55:57     INFO -     eip = 0x609e8f70   esp = 0x001de4b4   ebp = 0x001de400\n23:55:57     INFO -     Found by: call frame info with scanning", "id": 12189362}, {"raw_text": "Merged backout https://hg.mozilla.org/mozilla-central/rev/389ff5662e9c", "attachment_id": null, "id": 12189896, "count": 55, "creator": "kwierso@gmail.com", "is_private": false, "time": "2017-03-29T22:43:53Z", "tags": [], "bug_id": 713680, "text": "Merged backout https://hg.mozilla.org/mozilla-central/rev/389ff5662e9c", "author": "kwierso@gmail.com", "creation_time": "2017-03-29T22:43:53Z"}, {"creator": "jorgk-bmo@jorgk.com", "is_private": false, "count": 56, "author": "jorgk-bmo@jorgk.com", "creation_time": "2017-03-30T06:40:49Z", "tags": [], "time": "2017-03-30T06:40:49Z", "bug_id": 713680, "text": "I ported this change to TB (bug 1351721) and now this got backed out :-(", "attachment_id": null, "raw_text": "I ported this change to TB (bug 1351721) and now this got backed out :-(", "id": 12190609}, {"id": 12192084, "attachment_id": null, "raw_text": "", "author": "aryx.bugmail@gmx-topmail.de", "creation_time": "2017-03-30T16:36:41Z", "tags": [], "time": "2017-03-30T16:36:41Z", "bug_id": 713680, "text": "*** Bug 1351825 has been marked as a duplicate of this bug. ***", "creator": "aryx.bugmail@gmx-topmail.de", "is_private": false, "count": 57}, {"attachment_id": null, "raw_text": "Jonathan, this PLDHashTable assertion fails during application shutdown because gfxPlatformFontList::FindAndAddFamilies() is inserting into hash table mOtherNamesMissed, while, earlier in the stack, gfxPlatformFontList::CleanupLoader() is already enumerating/reading mOtherNamesMissed. Do you have any suggestions why changing Windows' default monospace font from Courier New to Consolas would suddenly cause problems in this old code path (from bug 752394)? Is Consolas a localized font family name while Courier New is not?\n\nDuring application shutdown, gfxPlatformFontList::CleanupLoader() enumerates mOtherNamesMissed:\n\n  http://searchfox.org/mozilla-central/source/gfx/thebes/gfxPlatformFontList.cpp#1528\n\nthen calls gfxPlatformFontList::FindFamily(), which calls gfxPlatformFontList::FindAndAddFamilies(), thinks mOtherFamilyNamesInitialized is false, and then tries to mOtherNamesMissed->PutEntry():\n\n  http://searchfox.org/mozilla-central/source/gfx/thebes/gfxPlatformFontList.cpp#719\n\nHere is a better stack trace for the PLDHashTable assertion failure during the mochitest chrome tests:\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=91175543&repo=try&lineNumber=7768\n\n22:12:42     INFO - GECKO(3532) | Assertion failure: IsIdle(oldState), at c:\\builds\\moz2_slave\\try-w32-d-00000000000000000000\\build\\src\\xpcom\\ds\\PLDHashTable.h:132\n22:12:56     INFO - GECKO(3532) | #01: PLDHashTable::Add(void const *) [xpcom/ds/PLDHashTable.cpp:589]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #02: gfxPlatformFontList::FindAndAddFamilies(nsAString const &,nsTArray<gfxFontFamily *> *,gfxFontStyle *,double) [gfx/thebes/gfxPlatformFontList.cpp:723]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #03: gfxGDIFontList::FindAndAddFamilies(nsAString const &,nsTArray<gfxFontFamily *> *,gfxFontStyle *,double) [gfx/thebes/gfxGDIFontList.cpp:931]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #04: gfxPlatformFontList::FindFamily(nsAString const &,gfxFontStyle *,double) [gfx/thebes/gfxPlatformFontList.h:328]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #05: gfxPlatformFontList::CleanupLoader() [gfx/thebes/gfxPlatformFontList.cpp:1529]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #06: gfxFontInfoLoader::ShutdownObserver::Observe(nsISupports *,char const *,char16_t const *) [gfx/thebes/gfxFontInfoLoader.cpp:126]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #07: nsObserverList::NotifyObservers(nsISupports *,char const *,char16_t const *) [xpcom/ds/nsObserverList.cpp:112]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #08: nsObserverService::NotifyObservers(nsISupports *,char const *,char16_t const *) [xpcom/ds/nsObserverService.cpp:285]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #09: nsAppStartup::Quit(unsigned int) [toolkit/components/startup/nsAppStartup.cpp:465]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #10: NS_InvokeByIndex\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #11: CallMethodHelper::Invoke() [js/xpconnect/src/XPCWrappedNative.cpp:2010]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #12: XPCWrappedNative::CallMethod(XPCCallContext &,XPCWrappedNative::CallMode) [js/xpconnect/src/XPCWrappedNative.cpp:1296]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #13: XPC_WN_CallMethod(JSContext *,unsigned int,JS::Value *) [js/xpconnect/src/XPCWrappedNativeJSOps.cpp:983]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #14: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:291]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #15: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:455]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #16: InternalCall [js/src/vm/Interpreter.cpp:500]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #17: Interpret [js/src/vm/Interpreter.cpp:2997]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #18: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:395]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #19: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:473]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #20: InternalCall [js/src/vm/Interpreter.cpp:500]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #21: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:519]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #22: JS_CallFunctionValue(JSContext *,JS::Handle<JSObject *>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2826]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #23: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsAString const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1108]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #24: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsAString const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1138]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #25: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsAString const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1138]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #26: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsAString const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1138]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #27: nsSameProcessAsyncMessageBase::ReceiveMessage(nsISupports *,nsIFrameLoader *,nsFrameMessageManager *) [dom/base/nsFrameMessageManager.cpp:2076]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #28: nsAsyncMessageToParent::HandleMessage() [dom/base/nsInProcessTabChildGlobal.cpp:63]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #29: mozilla::dom::SameProcessMessageQueue::Runnable::Run() [dom/base/SameProcessMessageQueue.cpp:73]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #30: nsThread::ProcessNextEvent(bool,bool *) [xpcom/threads/nsThread.cpp:1270]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #31: NS_ProcessNextEvent(nsIThread *,bool) [xpcom/threads/nsThreadUtils.cpp:389]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #32: mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate *) [ipc/glue/MessagePump.cpp:96]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #33: MessageLoop::RunInternal() [ipc/chromium/src/base/message_loop.cc:238]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #34: MessageLoop::RunHandler() [ipc/chromium/src/base/message_loop.cc:232]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #35: MessageLoop::Run() [ipc/chromium/src/base/message_loop.cc:212]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #36: nsBaseAppShell::Run() [widget/nsBaseAppShell.cpp:158]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #37: nsAppShell::Run() [widget/windows/nsAppShell.cpp:271]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #38: nsAppStartup::Run() [toolkit/components/startup/nsAppStartup.cpp:284]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #39: XREMain::XRE_mainRun() [toolkit/xre/nsAppRunner.cpp:4538]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #40: XREMain::XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/nsAppRunner.cpp:4718]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #41: XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/nsAppRunner.cpp:4811]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #42: mozilla::BootstrapImpl::XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/Bootstrap.cpp:45]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #43: do_main [browser/app/nsBrowserApp.cpp:237]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #44: NS_internal_main(int,char * *,char * *) [browser/app/nsBrowserApp.cpp:307]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #45: wmain [toolkit/xre/nsWindowsWMain.cpp:118]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #46: __scrt_common_main_seh [f:/dd/vctools/crt/vcstartup/src/startup/exe_common.inl:253]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #47: kernel32.dll + 0x53c45\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #48: ntdll.dll + 0x637f5\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #49: ntdll.dll + 0x637c8", "id": 12235231, "is_private": false, "creator": "cpeterson@mozilla.com", "creation_time": "2017-04-14T06:45:50Z", "author": "cpeterson@mozilla.com", "text": "Jonathan, this PLDHashTable assertion fails during application shutdown because gfxPlatformFontList::FindAndAddFamilies() is inserting into hash table mOtherNamesMissed, while, earlier in the stack, gfxPlatformFontList::CleanupLoader() is already enumerating/reading mOtherNamesMissed. Do you have any suggestions why changing Windows' default monospace font from Courier New to Consolas would suddenly cause problems in this old code path (from bug 752394)? Is Consolas a localized font family name while Courier New is not?\n\nDuring application shutdown, gfxPlatformFontList::CleanupLoader() enumerates mOtherNamesMissed:\n\n  http://searchfox.org/mozilla-central/source/gfx/thebes/gfxPlatformFontList.cpp#1528\n\nthen calls gfxPlatformFontList::FindFamily(), which calls gfxPlatformFontList::FindAndAddFamilies(), thinks mOtherFamilyNamesInitialized is false, and then tries to mOtherNamesMissed->PutEntry():\n\n  http://searchfox.org/mozilla-central/source/gfx/thebes/gfxPlatformFontList.cpp#719\n\nHere is a better stack trace for the PLDHashTable assertion failure during the mochitest chrome tests:\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=91175543&repo=try&lineNumber=7768\n\n22:12:42     INFO - GECKO(3532) | Assertion failure: IsIdle(oldState), at c:\\builds\\moz2_slave\\try-w32-d-00000000000000000000\\build\\src\\xpcom\\ds\\PLDHashTable.h:132\n22:12:56     INFO - GECKO(3532) | #01: PLDHashTable::Add(void const *) [xpcom/ds/PLDHashTable.cpp:589]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #02: gfxPlatformFontList::FindAndAddFamilies(nsAString const &,nsTArray<gfxFontFamily *> *,gfxFontStyle *,double) [gfx/thebes/gfxPlatformFontList.cpp:723]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #03: gfxGDIFontList::FindAndAddFamilies(nsAString const &,nsTArray<gfxFontFamily *> *,gfxFontStyle *,double) [gfx/thebes/gfxGDIFontList.cpp:931]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #04: gfxPlatformFontList::FindFamily(nsAString const &,gfxFontStyle *,double) [gfx/thebes/gfxPlatformFontList.h:328]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #05: gfxPlatformFontList::CleanupLoader() [gfx/thebes/gfxPlatformFontList.cpp:1529]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #06: gfxFontInfoLoader::ShutdownObserver::Observe(nsISupports *,char const *,char16_t const *) [gfx/thebes/gfxFontInfoLoader.cpp:126]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #07: nsObserverList::NotifyObservers(nsISupports *,char const *,char16_t const *) [xpcom/ds/nsObserverList.cpp:112]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #08: nsObserverService::NotifyObservers(nsISupports *,char const *,char16_t const *) [xpcom/ds/nsObserverService.cpp:285]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #09: nsAppStartup::Quit(unsigned int) [toolkit/components/startup/nsAppStartup.cpp:465]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #10: NS_InvokeByIndex\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #11: CallMethodHelper::Invoke() [js/xpconnect/src/XPCWrappedNative.cpp:2010]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #12: XPCWrappedNative::CallMethod(XPCCallContext &,XPCWrappedNative::CallMode) [js/xpconnect/src/XPCWrappedNative.cpp:1296]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #13: XPC_WN_CallMethod(JSContext *,unsigned int,JS::Value *) [js/xpconnect/src/XPCWrappedNativeJSOps.cpp:983]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #14: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:291]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #15: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:455]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #16: InternalCall [js/src/vm/Interpreter.cpp:500]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #17: Interpret [js/src/vm/Interpreter.cpp:2997]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #18: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:395]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #19: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:473]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #20: InternalCall [js/src/vm/Interpreter.cpp:500]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #21: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:519]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #22: JS_CallFunctionValue(JSContext *,JS::Handle<JSObject *>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2826]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #23: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsAString const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1108]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #24: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsAString const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1138]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #25: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsAString const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1138]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #26: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsAString const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1138]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #27: nsSameProcessAsyncMessageBase::ReceiveMessage(nsISupports *,nsIFrameLoader *,nsFrameMessageManager *) [dom/base/nsFrameMessageManager.cpp:2076]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #28: nsAsyncMessageToParent::HandleMessage() [dom/base/nsInProcessTabChildGlobal.cpp:63]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #29: mozilla::dom::SameProcessMessageQueue::Runnable::Run() [dom/base/SameProcessMessageQueue.cpp:73]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #30: nsThread::ProcessNextEvent(bool,bool *) [xpcom/threads/nsThread.cpp:1270]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #31: NS_ProcessNextEvent(nsIThread *,bool) [xpcom/threads/nsThreadUtils.cpp:389]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #32: mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate *) [ipc/glue/MessagePump.cpp:96]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #33: MessageLoop::RunInternal() [ipc/chromium/src/base/message_loop.cc:238]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #34: MessageLoop::RunHandler() [ipc/chromium/src/base/message_loop.cc:232]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #35: MessageLoop::Run() [ipc/chromium/src/base/message_loop.cc:212]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #36: nsBaseAppShell::Run() [widget/nsBaseAppShell.cpp:158]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #37: nsAppShell::Run() [widget/windows/nsAppShell.cpp:271]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #38: nsAppStartup::Run() [toolkit/components/startup/nsAppStartup.cpp:284]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #39: XREMain::XRE_mainRun() [toolkit/xre/nsAppRunner.cpp:4538]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #40: XREMain::XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/nsAppRunner.cpp:4718]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #41: XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/nsAppRunner.cpp:4811]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #42: mozilla::BootstrapImpl::XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/Bootstrap.cpp:45]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #43: do_main [browser/app/nsBrowserApp.cpp:237]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #44: NS_internal_main(int,char * *,char * *) [browser/app/nsBrowserApp.cpp:307]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #45: wmain [toolkit/xre/nsWindowsWMain.cpp:118]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #46: __scrt_common_main_seh [f:/dd/vctools/crt/vcstartup/src/startup/exe_common.inl:253]\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #47: kernel32.dll + 0x53c45\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #48: ntdll.dll + 0x637f5\n22:12:56     INFO - \n22:12:56     INFO - GECKO(3532) | #49: ntdll.dll + 0x637c8", "time": "2017-04-14T06:45:50Z", "tags": [], "count": 58, "bug_id": 713680}, {"author": "jcristau@mozilla.com", "creation_time": "2017-06-05T21:33:54Z", "bug_id": 713680, "time": "2017-06-05T21:33:54Z", "tags": [], "text": "This got backed out of 55 AIUI, updating status flag.", "creator": "jcristau@mozilla.com", "is_private": false, "count": 59, "id": 12373761, "attachment_id": null, "raw_text": "This got backed out of 55 AIUI, updating status flag."}, {"bug_id": 713680, "count": 60, "creation_time": "2017-08-22T05:19:38Z", "author": "kohei.yoshino@gmail.com", "text": "Bug 1354004 is going to land in 57. Time to go ahead along with Bug 1342741 to give a fresh look?", "tags": [], "time": "2017-08-22T05:19:38Z", "is_private": false, "creator": "kohei.yoshino@gmail.com", "id": 12586669, "attachment_id": null, "raw_text": "Bug 1354004 is going to land in 57. Time to go ahead along with Bug 1342741 to give a fresh look?"}, {"id": 12586862, "attachment_id": null, "raw_text": "(In reply to Kohei Yoshino [:kohei] from comment #60)\n> Bug 1354004 is going to land in 57. Time to go ahead along with Bug 1342741\n> to give a fresh look?\n\nI can try again. The challenge with changing the default monospace font is that each operating system's monospace fonts have different dimensions and many layout reftests are tuned to work the current fonts.\n\nChanging Windows' default monospace font to Consolas or Lucida Console triggered some hashtable reentrancy assertion failures during shutdown, as detailed in comment 58.", "author": "cpeterson@mozilla.com", "creation_time": "2017-08-22T07:10:44Z", "time": "2017-08-22T07:10:44Z", "bug_id": 713680, "tags": [], "text": "(In reply to Kohei Yoshino [:kohei] from comment #60)\n> Bug 1354004 is going to land in 57. Time to go ahead along with Bug 1342741\n> to give a fresh look?\n\nI can try again. The challenge with changing the default monospace font is that each operating system's monospace fonts have different dimensions and many layout reftests are tuned to work the current fonts.\n\nChanging Windows' default monospace font to Consolas or Lucida Console triggered some hashtable reentrancy assertion failures during shutdown, as detailed in comment 58.", "creator": "cpeterson@mozilla.com", "is_private": false, "count": 61}, {"attachment_id": null, "raw_text": "Looks like this will not land for 57, but we could still consider it for 59 or maybe even 58. \nI'll go ahead and track for 59.", "id": 12840620, "creator": "lizhenry@gmail.com", "is_private": false, "count": 62, "author": "lizhenry@gmail.com", "creation_time": "2017-11-13T21:17:44Z", "time": "2017-11-13T21:17:44Z", "tags": [], "bug_id": 713680, "text": "Looks like this will not land for 57, but we could still consider it for 59 or maybe even 58. \nI'll go ahead and track for 59."}, {"is_private": false, "creator": "cpeterson@mozilla.com", "count": 63, "creation_time": "2017-11-14T08:22:12Z", "author": "cpeterson@mozilla.com", "text": "I don't think we should track this for 59. I'm not actively working on it. I can change the fonts and fix the tests, but the Try tests hit some hashtable reentrancy assertion failures that I don't understand.", "bug_id": 713680, "time": "2017-11-14T08:22:12Z", "tags": [], "attachment_id": null, "raw_text": "I don't think we should track this for 59. I'm not actively working on it. I can change the fonts and fix the tests, but the Try tests hit some hashtable reentrancy assertion failures that I don't understand.", "id": 12841726}, {"raw_text": "OK, thanks. I'll remove it from the release note triage as well. But if we ever fix this, a release note would be nice.", "attachment_id": null, "id": 12962919, "is_private": false, "creator": "lizhenry@gmail.com", "text": "OK, thanks. I'll remove it from the release note triage as well. But if we ever fix this, a release note would be nice.", "tags": [], "time": "2018-01-11T23:20:22Z", "creation_time": "2018-01-11T23:20:22Z", "author": "lizhenry@gmail.com", "count": 64, "bug_id": 713680}, {"raw_text": "I filed this yesterday ( https://bugzilla.mozilla.org/show_bug.cgi?id=1454196 ) I really hope someone can start working on this because Firefox has built a reputation for having better text rendering than Chrome (text is often too thin/low weight in Chrome), I'm even seeing it mentioned in articles and blog posts. This is one of the major exceptions where Chrome renders text at a more reasonable weight than Firefox. I don't think it has to be Consolas but it really needs to be thicker/\"heavier\" than the current, please see the attached screenshot in 1454196", "attachment_id": null, "id": 13206970, "count": 65, "is_private": false, "creator": "billdillensrevenge@gmail.com", "text": "I filed this yesterday ( https://bugzilla.mozilla.org/show_bug.cgi?id=1454196 ) I really hope someone can start working on this because Firefox has built a reputation for having better text rendering than Chrome (text is often too thin/low weight in Chrome), I'm even seeing it mentioned in articles and blog posts. This is one of the major exceptions where Chrome renders text at a more reasonable weight than Firefox. I don't think it has to be Consolas but it really needs to be thicker/\"heavier\" than the current, please see the attached screenshot in 1454196", "time": "2018-04-15T23:35:19Z", "tags": [], "bug_id": 713680, "creation_time": "2018-04-15T23:35:19Z", "author": "billdillensrevenge@gmail.com"}, {"bug_id": 713680, "count": 66, "time": "2018-04-16T06:38:45Z", "tags": [], "text": "Thanks for the link, Will. I have a patch to use Consolas in Firefox, but it breaks some Firefox tests. I haven't gotten around to fixing all the tests yet because they are finicky and I don't think many websites use `font-family: monospace` for their body text. But apparently the Chromium bug tracker does. :)", "author": "cpeterson@mozilla.com", "creation_time": "2018-04-16T06:38:45Z", "creator": "cpeterson@mozilla.com", "is_private": false, "id": 13208419, "raw_text": "Thanks for the link, Will. I have a patch to use Consolas in Firefox, but it breaks some Firefox tests. I haven't gotten around to fixing all the tests yet because they are finicky and I don't think many websites use `font-family: monospace` for their body text. But apparently the Chromium bug tracker does. :)", "attachment_id": null}, {"creation_time": "2019-12-18T02:18:06Z", "author": "mtanalin@yandex.ru", "text": "Consolas _density_ is closer to density of _normal_ fonts like Arial, and much more _readable_, especially on HiDPI (e.g. 4K@200%) displays where Courier New is horribly thin and _barely readable_ like in paper books. And if for sites, the font can at least be changed via _userstyles_ with extensions like Stylus, userstyles apparently _cannot_ help with _user interface_ of such addons _themselves_.\n\nConsolas is built into Windows Vista+, so it\u2019s now basically _always_ available under Windows.\n\nI suspect this improvement could be done by a simple change in the Firefox _default stylesheet_.\n\nSee the [demo page](http://tanalin.com/_x/bugs/fx/2019/consolas/) for a live comparison and screenshots.", "bug_id": 713680, "time": "2019-12-18T02:18:06Z", "tags": [], "is_private": false, "creator": "mtanalin@yandex.ru", "count": 67, "id": 14553510, "attachment_id": null, "raw_text": "Consolas _density_ is closer to density of _normal_ fonts like Arial, and much more _readable_, especially on HiDPI (e.g. 4K@200%) displays where Courier New is horribly thin and _barely readable_ like in paper books. And if for sites, the font can at least be changed via _userstyles_ with extensions like Stylus, userstyles apparently _cannot_ help with _user interface_ of such addons _themselves_.\n\nConsolas is built into Windows Vista+, so it\u2019s now basically _always_ available under Windows.\n\nI suspect this improvement could be done by a simple change in the Firefox _default stylesheet_.\n\nSee the [demo page](http://tanalin.com/_x/bugs/fx/2019/consolas/) for a live comparison and screenshots."}]}}, "comments": {}}