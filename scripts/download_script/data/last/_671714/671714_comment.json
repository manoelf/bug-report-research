{"bugs": {"671714": {"comments": [{"is_private": false, "creator": "theosib@hotmail.com", "count": 0, "creation_time": "2011-07-15T00:22:41Z", "author": "theosib@hotmail.com", "text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:8.0a1) Gecko/20110708 Firefox/8.0a1\nBuild ID: 20110708030800\n\nSteps to reproduce:\n\nFirefox (Nightly) locked up, so I had to kill it.  However, this applies equally well to when Firefox crashes.\n\n\nActual results:\n\nWhen Firefox was restarts and restores the previous session, it reloads pages fresh, rather than restoring them to the state they were in before the crash.  This particularly evident with regard to pages on tvtropes.org, where expanded subsections and scroll position are lost.\n\nFor instance:\n(1) Load this page: http://tvtropes.org/pmwiki/pmwiki.php/Main/TimeyWimeyBall\n(2) Expand the \"Live Action TV\" section (or any other section)\n(3) Crash or quit Firefox\n(4) Restart and go back to the tab with this document\n\n\n\nExpected results:\n\nParticularly when Firefox crashes or locks up, I don't want to lose my place or lose any work.  Firefox should strive to restore my session EXACTLY as it was before it crapped out on me.  I don't care if the content is stale.  If it's out of date when I restart the session, then it was out of date at the point before it crashed, and I want to see what I was looking at before the crash.  In other words, Firefox should come back up and make it appear as if it never went down in the first place.\n\nTherefore, Firefox should not reload the page.  It should restore the session, precisely as each page was before the crash, including any dynamic content, persistent Javascript variables, the whole nine yards.\n\nPerhaps another way to say this is that Firefox should not simply record metadata about the session.  It should record checkpoints or snapshots and then restore those.  (This is analogous to what is done in some high-availability servers, where the system takes periodic checkpoints of processes and/or VMs that are running so that if a node goes down, the processes can seamlessly and transparently restart from the last checkpoint on some other node.)\n\nThat being said, because of bugs, some checkpoints could be bogus, so perhaps the user should have three choices on restore:  (a) New (empty) session, (b) Full restore from checkpoint, and (c) Reload previous session's documents from the web.", "tags": [], "time": "2011-07-15T00:22:41Z", "bug_id": 671714, "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:8.0a1) Gecko/20110708 Firefox/8.0a1\nBuild ID: 20110708030800\n\nSteps to reproduce:\n\nFirefox (Nightly) locked up, so I had to kill it.  However, this applies equally well to when Firefox crashes.\n\n\nActual results:\n\nWhen Firefox was restarts and restores the previous session, it reloads pages fresh, rather than restoring them to the state they were in before the crash.  This particularly evident with regard to pages on tvtropes.org, where expanded subsections and scroll position are lost.\n\nFor instance:\n(1) Load this page: http://tvtropes.org/pmwiki/pmwiki.php/Main/TimeyWimeyBall\n(2) Expand the \"Live Action TV\" section (or any other section)\n(3) Crash or quit Firefox\n(4) Restart and go back to the tab with this document\n\n\n\nExpected results:\n\nParticularly when Firefox crashes or locks up, I don't want to lose my place or lose any work.  Firefox should strive to restore my session EXACTLY as it was before it crapped out on me.  I don't care if the content is stale.  If it's out of date when I restart the session, then it was out of date at the point before it crashed, and I want to see what I was looking at before the crash.  In other words, Firefox should come back up and make it appear as if it never went down in the first place.\n\nTherefore, Firefox should not reload the page.  It should restore the session, precisely as each page was before the crash, including any dynamic content, persistent Javascript variables, the whole nine yards.\n\nPerhaps another way to say this is that Firefox should not simply record metadata about the session.  It should record checkpoints or snapshots and then restore those.  (This is analogous to what is done in some high-availability servers, where the system takes periodic checkpoints of processes and/or VMs that are running so that if a node goes down, the processes can seamlessly and transparently restart from the last checkpoint on some other node.)\n\nThat being said, because of bugs, some checkpoints could be bogus, so perhaps the user should have three choices on restore:  (a) New (empty) session, (b) Full restore from checkpoint, and (c) Reload previous session's documents from the web.", "id": 5592679}, {"text": "Oh, and let me take this one step further and say that perhaps users should be allowed to select among more than one past checkpoint, and that this should also be an available option from a menu.  This way, if a user starts a new session and then later changes their mind and wants to reload from a past checkpoint, they can do that, and they can select among a few major checkpoints in the past there as well.", "tags": [], "time": "2011-07-15T00:25:25Z", "bug_id": 671714, "creation_time": "2011-07-15T00:25:25Z", "author": "theosib@hotmail.com", "count": 1, "is_private": false, "creator": "theosib@hotmail.com", "id": 5592685, "raw_text": "Oh, and let me take this one step further and say that perhaps users should be allowed to select among more than one past checkpoint, and that this should also be an available option from a menu.  This way, if a user starts a new session and then later changes their mind and wants to reload from a past checkpoint, they can do that, and they can select among a few major checkpoints in the past there as well.", "attachment_id": null}, {"text": "It was bugging me that I couldn't think of the proper name.  This technique is commonly referred to as \"checkpoint and rollback.\"", "bug_id": 671714, "tags": [], "time": "2011-07-15T14:31:56Z", "creation_time": "2011-07-15T14:31:56Z", "author": "theosib@hotmail.com", "count": 2, "is_private": false, "creator": "theosib@hotmail.com", "id": 5593452, "raw_text": "It was bugging me that I couldn't think of the proper name.  This technique is commonly referred to as \"checkpoint and rollback.\"", "attachment_id": null}, {"bug_id": 671714, "count": 3, "author": "vlad.ghetiu@softvision.ro", "creation_time": "2011-07-25T13:07:35Z", "time": "2011-07-25T13:07:35Z", "tags": [], "text": "In my opinion this is not a bug. Firefox restores the last visited webpage(s) without restoring (replicating) the user interaction on that page (pages).", "creator": "vlad.ghetiu@softvision.ro", "is_private": false, "id": 5610803, "attachment_id": null, "raw_text": "In my opinion this is not a bug. Firefox restores the last visited webpage(s) without restoring (replicating) the user interaction on that page (pages)."}, {"count": 4, "bug_id": 671714, "creator": "theosib@hotmail.com", "is_private": false, "tags": [], "time": "2011-07-25T14:31:04Z", "text": "There is an argument to be made that if I explicitly quit Firefox, then perhaps I might want the pages to be refreshed.  \n\nBut if Firefox crashes, then the argument is stronger that Firefox's restore should strive to behave as though Firefox didn't crash.  Of course, it would be best if it didn't crash, but a proper checkpoint and rollback would be second-best.  If a bug caused Firefox to crash, then it's a bug that I didn't get to keep the exact state Firefox was in before it crashed.\n\nI'm not saying that I necessarily expect Firefox developers to do this any time soon.  Firefox devs seem to be way more interested in adding new features than fixing bugs.  I still can't walk away from a Mac notebook with Firefox running and not have it drain the battery to zero (because Firefox prevents sleep during idle), and this bug has been known for YEARS.  I just think this is a legitimate bug and should be registered as one on principle.", "author": "theosib@hotmail.com", "creation_time": "2011-07-25T14:31:04Z", "raw_text": "There is an argument to be made that if I explicitly quit Firefox, then perhaps I might want the pages to be refreshed.  \n\nBut if Firefox crashes, then the argument is stronger that Firefox's restore should strive to behave as though Firefox didn't crash.  Of course, it would be best if it didn't crash, but a proper checkpoint and rollback would be second-best.  If a bug caused Firefox to crash, then it's a bug that I didn't get to keep the exact state Firefox was in before it crashed.\n\nI'm not saying that I necessarily expect Firefox developers to do this any time soon.  Firefox devs seem to be way more interested in adding new features than fixing bugs.  I still can't walk away from a Mac notebook with Firefox running and not have it drain the battery to zero (because Firefox prevents sleep during idle), and this bug has been known for YEARS.  I just think this is a legitimate bug and should be registered as one on principle.", "attachment_id": null, "id": 5610970}, {"attachment_id": null, "raw_text": "Updating title to better reflect what you actually want. And I'll be honest, this is going to be low priority and isn't likely to happen. Serializing and deserializing JS state back into the JS engine seems like something that is just too expensive to do, assuming the architecture is in place to even make that possible. Anyway, I'll mark as new, but there are bigger fish to fry right now.\n\n(In reply to comment #4)\n> I still can't walk away from a Mac notebook with\n> Firefox running and not have it drain the battery to zero (because Firefox\n> prevents sleep during idle), and this bug has been known for YEARS.  I just\n> think this is a legitimate bug and should be registered as one on principle.\n\nI thought that had been fixed. If you can reproduce without any extensions installed, then you should file that bug or find it if it's still open.", "id": 5611398, "creator": "paul@oshannessy.com", "is_private": false, "count": 5, "author": "paul@oshannessy.com", "creation_time": "2011-07-25T17:24:02Z", "time": "2011-07-25T17:24:02Z", "tags": [], "bug_id": 671714, "text": "Updating title to better reflect what you actually want. And I'll be honest, this is going to be low priority and isn't likely to happen. Serializing and deserializing JS state back into the JS engine seems like something that is just too expensive to do, assuming the architecture is in place to even make that possible. Anyway, I'll mark as new, but there are bigger fish to fry right now.\n\n(In reply to comment #4)\n> I still can't walk away from a Mac notebook with\n> Firefox running and not have it drain the battery to zero (because Firefox\n> prevents sleep during idle), and this bug has been known for YEARS.  I just\n> think this is a legitimate bug and should be registered as one on principle.\n\nI thought that had been fixed. If you can reproduce without any extensions installed, then you should file that bug or find it if it's still open."}]}}, "comments": {}}