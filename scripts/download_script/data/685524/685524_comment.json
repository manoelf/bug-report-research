{"comments": {}, "bugs": {"685524": {"comments": [{"time": "2011-09-08T13:27:10Z", "raw_text": "User Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.20) Gecko/20110816 Fedora/3.6.20-1.fc14 Firefox/3.6.20\nBuild ID: 20110816204636\n\nSteps to reproduce:\n\ncreate a patch for local dnssec validation of domain names\n\n\nActual results:\n\nnew error code are added, requiring patch to be updated periodically\n\n\nExpected results:\n\nwe'd like to reserve a range of error codes in nsprpub/pr/include/prerr.h. e.g.\n\n +/* The DNS record failed DNSSEC validation */\n+#define PR_DNSSEC_VALIDATION_ERROR               (-5924L)\n+\n+/* The DNS record failed DNSSEC validation */\n+#define PR_DNSSEC_DNE_ERROR                      (-5923L)\n\nand in netwerk/base/public/nsNetError.h\n\n@@ -281,6 +281,12 @@\n  * DNS specific error codes:\n  */\n\n+#define NS_ERROR_DNSSEC_VALIDATION_ERROR \\\n+    NS_ERROR_GENERATE_FAILURE(NS_ERROR_MODULE_NETWORK, 34)\n+\n+#define NS_ERROR_DNSSEC_DNE_ERROR \\\n+    NS_ERROR_GENERATE_FAILURE(NS_ERROR_MODULE_NETWORK, 35)\n\n\nIn both cases we're currently using 2 error codes, it would be nice if we could get a few extras reserved for future use too.. maybe 8-10?", "bug_id": 685524, "id": 5707512, "count": 0, "text": "User Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.20) Gecko/20110816 Fedora/3.6.20-1.fc14 Firefox/3.6.20\nBuild ID: 20110816204636\n\nSteps to reproduce:\n\ncreate a patch for local dnssec validation of domain names\n\n\nActual results:\n\nnew error code are added, requiring patch to be updated periodically\n\n\nExpected results:\n\nwe'd like to reserve a range of error codes in nsprpub/pr/include/prerr.h. e.g.\n\n +/* The DNS record failed DNSSEC validation */\n+#define PR_DNSSEC_VALIDATION_ERROR               (-5924L)\n+\n+/* The DNS record failed DNSSEC validation */\n+#define PR_DNSSEC_DNE_ERROR                      (-5923L)\n\nand in netwerk/base/public/nsNetError.h\n\n@@ -281,6 +281,12 @@\n  * DNS specific error codes:\n  */\n\n+#define NS_ERROR_DNSSEC_VALIDATION_ERROR \\\n+    NS_ERROR_GENERATE_FAILURE(NS_ERROR_MODULE_NETWORK, 34)\n+\n+#define NS_ERROR_DNSSEC_DNE_ERROR \\\n+    NS_ERROR_GENERATE_FAILURE(NS_ERROR_MODULE_NETWORK, 35)\n\n\nIn both cases we're currently using 2 error codes, it would be nice if we could get a few extras reserved for future use too.. maybe 8-10?", "author": "rs@bugzilla.mozilla.pu.futz.org", "tags": [], "attachment_id": null, "creation_time": "2011-09-08T13:27:10Z", "is_private": false, "creator": "rs@bugzilla.mozilla.pu.futz.org"}, {"is_private": false, "creation_time": "2011-09-08T20:31:49Z", "creator": "jduell.mcbugs@gmail.com", "tags": [], "attachment_id": null, "id": 5708953, "bug_id": 685524, "author": "jduell.mcbugs@gmail.com", "count": 1, "text": "Moving to NSPR, since that's where the code is.  \n\nThe basic idea sounds fine to me.", "raw_text": "Moving to NSPR, since that's where the code is.  \n\nThe basic idea sounds fine to me.", "time": "2011-09-08T20:31:49Z"}]}}}