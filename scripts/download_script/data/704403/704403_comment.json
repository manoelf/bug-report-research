{"bugs": {"704403": {"comments": [{"attachment_id": null, "raw_text": "For example, in https://tbpl.mozilla.org/php/getParsedLog.php?id=7523629&tree=Try&full=1 we see the following gcc invocation:\n\n/tools/gcc-4.5/bin/gcc -o /builds/slave/try-lnx64-dbg/build/obj-firefox/nss/freebl/Linux_SINGLE_SHLIB/mp_comba.o -c -g -ansi -D_POSIX_SOURCE -D_BSD_SOURCE -D_XOPEN_SOURCE -fPIC -DLINUX2_1  -Wall -Werror-implicit-function-declaration -Wno-switch -pipe -DLINUX -Dlinux -DHAVE_STRERROR -DXP_UNIX -DSHLIB_SUFFIX=\\\"so\\\" -DSHLIB_PREFIX=\\\"lib\\\" -DSHLIB_VERSION=\\\"3\\\" -DSOFTOKEN_SHLIB_VERSION=\\\"3\\\" -DRIJNDAEL_INCLUDE_TABLES -DDEBUG -UNDEBUG -DDEBUG_cltbld -D_REENTRANT -DNSS_ENABLE_ECC -DUSE_UTIL_DIRECTLY -DNSS_USE_64 -DFREEBL_NO_DEPEND -DNSS_X86_OR_X64 -DNSS_X64 -DNSS_BEVAND_ARCFOUR -DMPI_AMD64 -DMP_ASSEMBLY_MULTIPLY -DNSS_USE_COMBA -DMP_CHAR_STORE_SLOW -DMP_IS_LITTLE_ENDIAN -DUSE_HW_AES -DMP_API_COMPATIBLE -I/builds/slave/try-lnx64-dbg/build/obj-firefox/dist/include/nspr -I/builds/slave/try-lnx64-dbg/build/obj-firefox/dist/include/nspr -I/builds/slave/try-lnx64-dbg/build/obj-firefox/dist/public/nss -I/builds/slave/try-lnx64-dbg/build/obj-firefox/dist/private/nss -Impi -Iecl  mpi/mp_comba.c\n\nnss should be using optimizations as the rest of the build.", "bug_id": 704403, "text": "For example, in https://tbpl.mozilla.org/php/getParsedLog.php?id=7523629&tree=Try&full=1 we see the following gcc invocation:\n\n/tools/gcc-4.5/bin/gcc -o /builds/slave/try-lnx64-dbg/build/obj-firefox/nss/freebl/Linux_SINGLE_SHLIB/mp_comba.o -c -g -ansi -D_POSIX_SOURCE -D_BSD_SOURCE -D_XOPEN_SOURCE -fPIC -DLINUX2_1  -Wall -Werror-implicit-function-declaration -Wno-switch -pipe -DLINUX -Dlinux -DHAVE_STRERROR -DXP_UNIX -DSHLIB_SUFFIX=\\\"so\\\" -DSHLIB_PREFIX=\\\"lib\\\" -DSHLIB_VERSION=\\\"3\\\" -DSOFTOKEN_SHLIB_VERSION=\\\"3\\\" -DRIJNDAEL_INCLUDE_TABLES -DDEBUG -UNDEBUG -DDEBUG_cltbld -D_REENTRANT -DNSS_ENABLE_ECC -DUSE_UTIL_DIRECTLY -DNSS_USE_64 -DFREEBL_NO_DEPEND -DNSS_X86_OR_X64 -DNSS_X64 -DNSS_BEVAND_ARCFOUR -DMPI_AMD64 -DMP_ASSEMBLY_MULTIPLY -DNSS_USE_COMBA -DMP_CHAR_STORE_SLOW -DMP_IS_LITTLE_ENDIAN -DUSE_HW_AES -DMP_API_COMPATIBLE -I/builds/slave/try-lnx64-dbg/build/obj-firefox/dist/include/nspr -I/builds/slave/try-lnx64-dbg/build/obj-firefox/dist/include/nspr -I/builds/slave/try-lnx64-dbg/build/obj-firefox/dist/public/nss -I/builds/slave/try-lnx64-dbg/build/obj-firefox/dist/private/nss -Impi -Iecl  mpi/mp_comba.c\n\nnss should be using optimizations as the rest of the build.", "tags": [], "is_private": false, "count": 0, "id": 5864591, "creator": "respindola@unverified.tld", "time": "2011-11-22T04:42:26Z", "creation_time": "2011-11-22T04:42:26Z", "author": "respindola@unverified.tld"}, {"author": "brian@briansmith.org", "creator": "brian@briansmith.org", "creation_time": "2011-11-22T08:33:56Z", "time": "2011-11-22T08:33:56Z", "is_private": false, "id": 5864847, "count": 1, "tags": [], "text": "NSS uses a whole separate build system that is mostly independent from Gecko's build system. Please be specific with which optimization options on which platforms should be changed/added to NSS build system. Also, see bug 648407.", "bug_id": 704403, "raw_text": "NSS uses a whole separate build system that is mostly independent from Gecko's build system. Please be specific with which optimization options on which platforms should be changed/added to NSS build system. Also, see bug 648407.", "attachment_id": null}, {"is_private": false, "count": 2, "id": 5865439, "author": "respindola@unverified.tld", "creator": "respindola@unverified.tld", "creation_time": "2011-11-22T15:48:59Z", "time": "2011-11-22T15:48:59Z", "raw_text": "(In reply to Brian Smith (:bsmith) from comment #1)\n> NSS uses a whole separate build system that is mostly independent from\n> Gecko's build system. Please be specific with which optimization options on\n> which platforms should be changed/added to NSS build system. Also, see bug\n> 648407.\n\nWe should probably use the same as firefox's --enable-optimized, which means -O3. Not sure what that does on windows.", "attachment_id": null, "tags": [], "text": "(In reply to Brian Smith (:bsmith) from comment #1)\n> NSS uses a whole separate build system that is mostly independent from\n> Gecko's build system. Please be specific with which optimization options on\n> which platforms should be changed/added to NSS build system. Also, see bug\n> 648407.\n\nWe should probably use the same as firefox's --enable-optimized, which means -O3. Not sure what that does on windows.", "bug_id": 704403}, {"author": "respindola@unverified.tld", "creation_time": "2012-08-02T16:35:24Z", "time": "2012-08-02T16:35:24Z", "creator": "respindola@unverified.tld", "count": 3, "id": 6526968, "is_private": false, "text": "I just noticed that it is still built without optimizations:\n\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/ahalberstadt@mozilla.com-1aa7c0a9117b/try-linux64-debug/try-linux64-debug-bm14-try1-build10957.txt.gz", "bug_id": 704403, "tags": [], "raw_text": "I just noticed that it is still built without optimizations:\n\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/ahalberstadt@mozilla.com-1aa7c0a9117b/try-linux64-debug/try-linux64-debug-bm14-try1-build10957.txt.gz", "attachment_id": null}]}}, "comments": {}}