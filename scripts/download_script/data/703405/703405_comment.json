{"bugs": {"703405": {"comments": [{"raw_text": "It would be nice to be able to create <panel>s that are resizable; on Windows, this would be roughly equivalent to having WS_THICKFRAME / WS_SIZEBOX on the panel hwnd.  (Hacking something up as a test says this doesn't work - the panel keeps trying to animate towards the size it wants to have.)\n\nI see that the devtools inspector panel thing currently sticks a <resizer> below the vertical scrollbar.  Having this means being able to resize via any window edge.", "attachment_id": null, "time": "2011-11-17T22:49:57Z", "tags": [], "count": 0, "text": "It would be nice to be able to create <panel>s that are resizable; on Windows, this would be roughly equivalent to having WS_THICKFRAME / WS_SIZEBOX on the panel hwnd.  (Hacking something up as a test says this doesn't work - the panel keeps trying to animate towards the size it wants to have.)\n\nI see that the devtools inspector panel thing currently sticks a <resizer> below the vertical scrollbar.  Having this means being able to resize via any window edge.", "author": "mark.yen@suse.com", "creator": "mark.yen@suse.com", "creation_time": "2011-11-17T22:49:57Z", "is_private": false, "bug_id": 703405, "id": 5856692}, {"creator": "mark.yen@suse.com", "is_private": false, "creation_time": "2011-11-22T01:31:56Z", "attachment_id": 576044, "tags": [], "author": "mark.yen@suse.com", "count": 1, "text": "Created attachment 576044\nsupport resizable panels on win32/linux (against 7.0)\n\nThis patch _mostly_ works, with the follow caveats:\n - This does not support OSX; resizable panels don't make sense there, having a\n   <resizer> instead fits the platform UI better.  (Presumably whoever did the\n   Firefox devtools inspector is a Mac user; it does this.)\n - On Windows, resizing the panel has... issues.\n    - Resizing the left/right edges does not resize the contents; newly exposed\n      areas draw black.\n    - Resizing the topleft/topright/bottomleft corners cause weird jumps; as\n      the panel is resized, the size changes but position doesn't.  After\n      releasing the mouse the panel snaps to where it should be.\n - The patch is against Gecko 7.0, which is the branch I'm working on.  Might\n   need some adaptation for trunk.\n - Probably needs lots more testing.", "bug_id": 703405, "id": 5864340, "time": "2011-11-22T01:31:56Z", "raw_text": "This patch _mostly_ works, with the follow caveats:\n - This does not support OSX; resizable panels don't make sense there, having a\n   <resizer> instead fits the platform UI better.  (Presumably whoever did the\n   Firefox devtools inspector is a Mac user; it does this.)\n - On Windows, resizing the panel has... issues.\n    - Resizing the left/right edges does not resize the contents; newly exposed\n      areas draw black.\n    - Resizing the topleft/topright/bottomleft corners cause weird jumps; as\n      the panel is resized, the size changes but position doesn't.  After\n      releasing the mouse the panel snaps to where it should be.\n - The patch is against Gecko 7.0, which is the branch I'm working on.  Might\n   need some adaptation for trunk.\n - Probably needs lots more testing."}, {"tags": [], "attachment_id": 576317, "is_private": false, "creation_time": "2011-11-22T23:20:35Z", "creator": "mark.yen@suse.com", "time": "2011-11-22T23:20:35Z", "raw_text": "Attaching a XUL file to test this.  Not sure how to roll this into an automated test... it will need to involve synthesizing an OS-level mouse drag a few pixels outside the panel's screen position.", "bug_id": 703405, "id": 5866902, "author": "mark.yen@suse.com", "count": 2, "text": "Created attachment 576317\nxul file for testing\n\nAttaching a XUL file to test this.  Not sure how to roll this into an automated test... it will need to involve synthesizing an OS-level mouse drag a few pixels outside the panel's screen position."}, {"creation_time": "2011-11-22T23:30:02Z", "is_private": false, "bug_id": 703405, "id": 5866937, "author": "mark.yen@suse.com", "count": 3, "text": "Created attachment 576322\nwin32/linux support, rebased to trunk\n\nRebased to trunk.  If possible, pointers for the following would be appreciated:\n - tips on testing.  (which suite, etc.)\n - any ideas about why resizing is odd on windows (see comment 1).", "creator": "mark.yen@suse.com", "tags": [], "attachment_id": 576322, "raw_text": "Rebased to trunk.  If possible, pointers for the following would be appreciated:\n - tips on testing.  (which suite, etc.)\n - any ideas about why resizing is odd on windows (see comment 1).", "time": "2011-11-22T23:30:02Z"}, {"tags": [], "raw_text": ">+        widgetData.mBorderStyle =\n>+          static_cast<enum nsBorderStyle>(widgetData.mBorderStyle | eBorderStyle_resizeh);\nI don't see any change in the border, and my breakpoint here wasn't hit.\n\n>+      if (mBorderStyle != eBorderStyle_default)\nShouldn't you test if (mBorderStyle & eBorderStyle_resizeh)?", "attachment_id": 576322, "time": "2011-11-25T21:04:56Z", "is_private": false, "creation_time": "2011-11-25T21:04:56Z", "id": 5872798, "bug_id": 703405, "text": "Comment on attachment 576322\nwin32/linux support, rebased to trunk\n\n>+        widgetData.mBorderStyle =\n>+          static_cast<enum nsBorderStyle>(widgetData.mBorderStyle | eBorderStyle_resizeh);\nI don't see any change in the border, and my breakpoint here wasn't hit.\n\n>+      if (mBorderStyle != eBorderStyle_default)\nShouldn't you test if (mBorderStyle & eBorderStyle_resizeh)?", "count": 4, "author": "neil@httl.net", "creator": "neil@httl.net"}, {"tags": [], "time": "2011-11-30T00:28:55Z", "raw_text": "(refreshed to trunk again; sorry for the delay)\n\n(In reply to neil@parkwaycc.co.uk from comment #4)\n> Comment on attachment 576322 [diff] [details] [review]\n> win32/linux support, rebased to trunk\n> \n> >+        widgetData.mBorderStyle =\n> >+          static_cast<enum nsBorderStyle>(widgetData.mBorderStyle | eBorderStyle_resizeh);\n> I don't see any change in the border, and my breakpoint here wasn't hit.\n\nOdd, I do (using attachment 576317 in https://addons.mozilla.org/en-US/firefox/addon/extension-developer/ ).  The breakpoint was hit, for me :( (Win7/WoW64; Ubuntu 11.10 with default-ish things, x64.)  Tried Aero-with-glass, themes-without-glass, and classic.  (The most notable effect was that it got silly double borders in class mode - once for the window, and once for the panel.)\n\n> \n> >+      if (mBorderStyle != eBorderStyle_default)\n> Shouldn't you test if (mBorderStyle & eBorderStyle_resizeh)?\nYes, I should (that is, it needs both parts); fixed.", "attachment_id": 577792, "id": 5880726, "bug_id": 703405, "creation_time": "2011-11-30T00:28:55Z", "is_private": false, "creator": "mark.yen@suse.com", "count": 5, "text": "Created attachment 577792\nwith the right check in nsWindow.cpp\n\n(refreshed to trunk again; sorry for the delay)\n\n(In reply to neil@parkwaycc.co.uk from comment #4)\n> Comment on attachment 576322 [diff] [details] [review]\n> win32/linux support, rebased to trunk\n> \n> >+        widgetData.mBorderStyle =\n> >+          static_cast<enum nsBorderStyle>(widgetData.mBorderStyle | eBorderStyle_resizeh);\n> I don't see any change in the border, and my breakpoint here wasn't hit.\n\nOdd, I do (using attachment 576317 in https://addons.mozilla.org/en-US/firefox/addon/extension-developer/ ).  The breakpoint was hit, for me :( (Win7/WoW64; Ubuntu 11.10 with default-ish things, x64.)  Tried Aero-with-glass, themes-without-glass, and classic.  (The most notable effect was that it got silly double borders in class mode - once for the window, and once for the panel.)\n\n> \n> >+      if (mBorderStyle != eBorderStyle_default)\n> Shouldn't you test if (mBorderStyle & eBorderStyle_resizeh)?\nYes, I should (that is, it needs both parts); fixed.", "author": "mark.yen@suse.com"}, {"time": "2011-11-30T22:14:38Z", "attachment_id": 577792, "raw_text": "I see the aforementioned behaviour on Windows (except I don't have acceleration, so I just get lack-of-paint artefacts instead of black), but I don't know why.", "tags": [], "creator": "neil@httl.net", "author": "neil@httl.net", "count": 6, "text": "Comment on attachment 577792\nwith the right check in nsWindow.cpp\n\nI see the aforementioned behaviour on Windows (except I don't have acceleration, so I just get lack-of-paint artefacts instead of black), but I don't know why.", "id": 5883558, "bug_id": 703405, "is_private": false, "creation_time": "2011-11-30T22:14:38Z"}, {"creator": "glind@mozilla.com", "creation_time": "2013-03-10T17:46:45Z", "is_private": false, "attachment_id": null, "tags": [], "author": "glind@mozilla.com", "text": "Reviving this.  \n\nLooking at the most recent 'nit-list' at http://www.reddit.com/r/IAmA/comments/19x7up/we_are_the_firefox_user_experience_team_this_is/c8sshgy , it would decently easy to solve the \"bookmark entry box is really small\" sort of issues if arrow panels were resizable on the two corners away from the arrow.\n\nin:\n\n   ---------^---\n   |            |\n   ------------- \n\n\nlower right and could / should be draggable.  \n\nI have been trying to recreate a sensible effect there using `resizers` and having trouble.  \n\n(code at:  \"editBookmarkPanel\" in `browser.xul` at http://mxr.mozilla.org/mozilla-central/source/browser/base/content/browser.xul#130)", "count": 7, "id": 7186891, "bug_id": 703405, "raw_text": "Reviving this.  \n\nLooking at the most recent 'nit-list' at http://www.reddit.com/r/IAmA/comments/19x7up/we_are_the_firefox_user_experience_team_this_is/c8sshgy , it would decently easy to solve the \"bookmark entry box is really small\" sort of issues if arrow panels were resizable on the two corners away from the arrow.\n\nin:\n\n   ---------^---\n   |            |\n   ------------- \n\n\nlower right and could / should be draggable.  \n\nI have been trying to recreate a sensible effect there using `resizers` and having trouble.  \n\n(code at:  \"editBookmarkPanel\" in `browser.xul` at http://mxr.mozilla.org/mozilla-central/source/browser/base/content/browser.xul#130)", "time": "2013-03-10T17:46:45Z"}]}}, "comments": {}}