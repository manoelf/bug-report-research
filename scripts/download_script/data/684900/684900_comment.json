{"comments": {}, "bugs": {"684900": {"comments": [{"raw_text": "While testing some stackwalking code, I found that there was a libffi function for which I didn't have debug symbols. It turns out that the assembly files for libffi are built without debug info, despite the fact that they contain proper debug annotations. Getting \"-g\" into the compile line is probably sufficient, but making that happen in the painful depths of Automake might be tricky.", "creation_time": "2011-09-06T17:19:33Z", "attachment_id": null, "time": "2011-09-06T17:19:33Z", "text": "While testing some stackwalking code, I found that there was a libffi function for which I didn't have debug symbols. It turns out that the assembly files for libffi are built without debug info, despite the fact that they contain proper debug annotations. Getting \"-g\" into the compile line is probably sufficient, but making that happen in the painful depths of Automake might be tricky.", "id": 5702393, "is_private": false, "count": 0, "tags": [], "bug_id": 684900, "author": "ted@mielczarek.org", "creator": "ted@mielczarek.org"}, {"id": 5702495, "tags": [], "is_private": false, "count": 1, "bug_id": 684900, "creation_time": "2011-09-06T17:46:29Z", "raw_text": "I fixed this with a simple Makefile.am change, I submitted a pull request upstream:\nhttps://github.com/atgreen/libffi/pull/3", "time": "2011-09-06T17:46:29Z", "attachment_id": null, "text": "I fixed this with a simple Makefile.am change, I submitted a pull request upstream:\nhttps://github.com/atgreen/libffi/pull/3", "author": "ted@mielczarek.org", "creator": "ted@mielczarek.org"}, {"attachment_id": null, "time": "2011-09-06T18:45:41Z", "text": "That change landed upstream:\nhttps://github.com/atgreen/libffi/commit/8c01954c50bf8ef2e00a3db166060a1b8f83a20d\n\nbut it didn't really fix my issue. I still don't get useful symbols for the functions in the assembly files. glandium says it's just missing some debug annotations and he might be able to fix that.", "raw_text": "That change landed upstream:\nhttps://github.com/atgreen/libffi/commit/8c01954c50bf8ef2e00a3db166060a1b8f83a20d\n\nbut it didn't really fix my issue. I still don't get useful symbols for the functions in the assembly files. glandium says it's just missing some debug annotations and he might be able to fix that.", "creation_time": "2011-09-06T18:45:41Z", "bug_id": 684900, "id": 5702696, "count": 2, "is_private": false, "tags": [], "author": "ted@mielczarek.org", "creator": "ted@mielczarek.org"}, {"is_private": false, "count": 3, "tags": [], "id": 5702714, "bug_id": 684900, "creation_time": "2011-09-06T18:51:18Z", "raw_text": "If you want this stuff in our tree soon, you'll probably want to add a patch to our copy as well - not sure when we're going to do another libffi drop.", "text": "If you want this stuff in our tree soon, you'll probably want to add a patch to our copy as well - not sure when we're going to do another libffi drop.", "time": "2011-09-06T18:51:18Z", "attachment_id": null, "creator": "bholley@mozilla.com", "author": "bholley@mozilla.com"}, {"text": "Yeah, we'll sort that out once we actually get the problem fixed. :) Note that libffi has released a 3.0.10 in the meantime, which might subsume some of our local patches.", "time": "2011-09-06T18:59:05Z", "attachment_id": null, "raw_text": "Yeah, we'll sort that out once we actually get the problem fixed. :) Note that libffi has released a 3.0.10 in the meantime, which might subsume some of our local patches.", "creation_time": "2011-09-06T18:59:05Z", "bug_id": 684900, "count": 4, "is_private": false, "tags": [], "id": 5702743, "creator": "ted@mielczarek.org", "author": "ted@mielczarek.org"}]}}}