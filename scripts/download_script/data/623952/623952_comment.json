{"bugs": {"623952": {"comments": [{"count": 0, "author": "karolis.n@gmail.com", "id": 5182985, "tags": [], "is_private": false, "attachment_id": null, "creator": "karolis.n@gmail.com", "raw_text": "User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.45 Safari/534.13\nBuild Identifier: Mozilla/5.0 (X11; U; Linux x86_64; en-GB; rv:1.9.2.14pre) Gecko/20110107 Ubuntu/10.10 (maverick) Namoroka/3.6.14pre\n\nNot sure how important this bug is, but here we go.\nHere is an example of an overlay that reproduces the problem:\n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<overlay id=\"onpopuphidingBug\" xmlns=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\">\n\t\n\t<popupset id=\"mainPopupSet\">\n\t\t<menupopup id=\"onpopuphidingBug-menupopup\" onpopuphiding=\"alert('hiding');\">\n\t\t\t<menuitem label=\"DON'T CLICK ON THESE MENU ITEMS\" />\n\t\t\t<menuitem label=\"RATHER CLICK ANYWHERE ELSE ON THE SCREEN TO CLOSE THE CONTEXT MENU\" />\n\t\t\t<menuitem label=\"now the whole GUI of your whole desktop should be locked out\" />\n\t\t\t<menuitem label=\"try using\" />\n\t\t\t<menuitem label=\"up and down\" />\n\t\t\t<menuitem label=\"arrows\" />\n\t\t\t<menuitem label=\"and enter to 'close' that alert box\" />\n\t\t\t<menuitem label=\"by opening a new one\" />\n\t\t</menupopup>\n\t</popupset>\n\t\n\t<statusbar id=\"status-bar\">\n\t\t<label id=\"onpopuphidingBug-icon\" value=\"right click me\" tooltiptext=\"\" context=\"onpopuphidingBug-menupopup\" />\n\t</statusbar>\n</overlay>\n\nWhen the alert dialog is displayed upon the closing of the context menu, the whole desktop GUI (Gnome) is locked out from the user. It doesn't freeze, but no mouse clicks or keyboard events seem to be handled. The only thing that I found to be working are the arrow keys that let you select some option in the context menu. Pressing enter on some menu item causes a second alert box to appear and unlocks the desktop. Now both alerts can be closed.\n\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Install the extension provided / Run an extension with an overlay that is provided in details / add onpopuphiding=\"alert('hiding');\" attribute to some menupopup element.\n2. Cause the menupopup to appear (by right clicking on the label in case of the provided extension)\n3. Click anywhere EXCEPT for the menu items.\n4. The popuphiding event is fired and the alert is displayed.\n3.\nActual Results:  \nI can't click anywhere with the mouse, not the alert box, not Firefox, not other applications. Keyboard keys are not functioning either. I can change the terminal by pressing ctrl+alt+F5 for example. I can also use up and down arrow keys to select an item in the menupopup. By selecting some item, the onpopuphiding event is triggered again, another alert is displayed. Now I can close both alerts.\n\nExpected Results:  \nWhile the alert is displayed, I can't click on the context menu, cause it's locked out. I can click on other applications on my desktop (not Firefox). I can close the alert box by clicking OK, after that the menupopup hides.\n\nI'm using Ubuntu 10.10 with Gnome.\nMy friend could not reproduce it on Windows.\nI can reproduce it with both\nMozilla/5.0 (X11; U; Linux x86_64; en-GB; rv:1.9.2.14pre) Gecko/20110107 Ubuntu/10.10 (maverick) Namoroka/3.6.14pre\nand\nMozilla/5.0 (X11; Linux x86_64; rv:2.0b9pre) Gecko/20110105 Firefox-4.0/4.0b9pre", "bug_id": 623952, "text": "User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.45 Safari/534.13\nBuild Identifier: Mozilla/5.0 (X11; U; Linux x86_64; en-GB; rv:1.9.2.14pre) Gecko/20110107 Ubuntu/10.10 (maverick) Namoroka/3.6.14pre\n\nNot sure how important this bug is, but here we go.\nHere is an example of an overlay that reproduces the problem:\n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<overlay id=\"onpopuphidingBug\" xmlns=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\">\n\t\n\t<popupset id=\"mainPopupSet\">\n\t\t<menupopup id=\"onpopuphidingBug-menupopup\" onpopuphiding=\"alert('hiding');\">\n\t\t\t<menuitem label=\"DON'T CLICK ON THESE MENU ITEMS\" />\n\t\t\t<menuitem label=\"RATHER CLICK ANYWHERE ELSE ON THE SCREEN TO CLOSE THE CONTEXT MENU\" />\n\t\t\t<menuitem label=\"now the whole GUI of your whole desktop should be locked out\" />\n\t\t\t<menuitem label=\"try using\" />\n\t\t\t<menuitem label=\"up and down\" />\n\t\t\t<menuitem label=\"arrows\" />\n\t\t\t<menuitem label=\"and enter to 'close' that alert box\" />\n\t\t\t<menuitem label=\"by opening a new one\" />\n\t\t</menupopup>\n\t</popupset>\n\t\n\t<statusbar id=\"status-bar\">\n\t\t<label id=\"onpopuphidingBug-icon\" value=\"right click me\" tooltiptext=\"\" context=\"onpopuphidingBug-menupopup\" />\n\t</statusbar>\n</overlay>\n\nWhen the alert dialog is displayed upon the closing of the context menu, the whole desktop GUI (Gnome) is locked out from the user. It doesn't freeze, but no mouse clicks or keyboard events seem to be handled. The only thing that I found to be working are the arrow keys that let you select some option in the context menu. Pressing enter on some menu item causes a second alert box to appear and unlocks the desktop. Now both alerts can be closed.\n\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Install the extension provided / Run an extension with an overlay that is provided in details / add onpopuphiding=\"alert('hiding');\" attribute to some menupopup element.\n2. Cause the menupopup to appear (by right clicking on the label in case of the provided extension)\n3. Click anywhere EXCEPT for the menu items.\n4. The popuphiding event is fired and the alert is displayed.\n3.\nActual Results:  \nI can't click anywhere with the mouse, not the alert box, not Firefox, not other applications. Keyboard keys are not functioning either. I can change the terminal by pressing ctrl+alt+F5 for example. I can also use up and down arrow keys to select an item in the menupopup. By selecting some item, the onpopuphiding event is triggered again, another alert is displayed. Now I can close both alerts.\n\nExpected Results:  \nWhile the alert is displayed, I can't click on the context menu, cause it's locked out. I can click on other applications on my desktop (not Firefox). I can close the alert box by clicking OK, after that the menupopup hides.\n\nI'm using Ubuntu 10.10 with Gnome.\nMy friend could not reproduce it on Windows.\nI can reproduce it with both\nMozilla/5.0 (X11; U; Linux x86_64; en-GB; rv:1.9.2.14pre) Gecko/20110107 Ubuntu/10.10 (maverick) Namoroka/3.6.14pre\nand\nMozilla/5.0 (X11; Linux x86_64; rv:2.0b9pre) Gecko/20110105 Firefox-4.0/4.0b9pre", "time": "2011-01-07T18:12:10Z", "creation_time": "2011-01-07T18:12:10Z"}, {"id": 5182990, "bug_id": 623952, "tags": [], "text": "Created attachment 502027\nan extension reproducing the bug", "is_private": false, "time": "2011-01-07T18:13:11Z", "creation_time": "2011-01-07T18:13:11Z", "count": 1, "author": "karolis.n@gmail.com", "creator": "karolis.n@gmail.com", "raw_text": "", "attachment_id": 502027}, {"attachment_id": null, "creator": "mozilla@virginmedia.com", "raw_text": "I've experienced this in 6.0.", "bug_id": 623952, "text": "I've experienced this in 6.0.", "time": "2011-09-04T20:48:20Z", "creation_time": "2011-09-04T20:48:20Z", "count": 2, "author": "mozilla@virginmedia.com", "id": 5699816, "tags": [], "is_private": false}]}}, "comments": {}}