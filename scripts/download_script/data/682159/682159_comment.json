{"bugs": {"682159": {"comments": [{"raw_text": "In bug 676934, Luke fixed a hang for a user by putting a cap on the number of stack frames that we allow XPConnect to traverse. While that's a fine fix for that specific problem, the more general problem of having an API that requires an XPCOM object per stack frame still exists.\n\nI tend to be pretty conservative in terms of removing features from our platform, so I was suggesting modifying the API to be more of an iterator-style API. This fits in well with most of the use-cases (which only want the first stack frame anyway) and also wouldn't require us to create nearly as many XPCOM objects.\n\nLuke was suggesting killing the API entirely: anybody who wants to walk the stack will have to use jsdbgapiv2. This might be a case where we can provide a much narrower API: getTopStackFrame(JSContext *cx) at the cost of anybody who wants to do anything more general.", "creation_time": "2011-08-26T00:06:25Z", "text": "In bug 676934, Luke fixed a hang for a user by putting a cap on the number of stack frames that we allow XPConnect to traverse. While that's a fine fix for that specific problem, the more general problem of having an API that requires an XPCOM object per stack frame still exists.\n\nI tend to be pretty conservative in terms of removing features from our platform, so I was suggesting modifying the API to be more of an iterator-style API. This fits in well with most of the use-cases (which only want the first stack frame anyway) and also wouldn't require us to create nearly as many XPCOM objects.\n\nLuke was suggesting killing the API entirely: anybody who wants to walk the stack will have to use jsdbgapiv2. This might be a case where we can provide a much narrower API: getTopStackFrame(JSContext *cx) at the cost of anybody who wants to do anything more general.", "attachment_id": null, "time": "2011-08-26T00:06:25Z", "is_private": false, "count": 0, "tags": [], "id": 5679394, "bug_id": 682159, "creator": "mrbkap@gmail.com", "author": "mrbkap@gmail.com"}, {"text": "Or perhaps, to avoid any mention of \"stack frame\":\n  getCurrentCallee : JSContext* -> Maybe<JSObject*>\n\nRegardless, any move away from iterating over stack frames outside JS is a good move.", "attachment_id": null, "time": "2011-08-26T00:10:35Z", "creation_time": "2011-08-26T00:10:35Z", "raw_text": "Or perhaps, to avoid any mention of \"stack frame\":\n  getCurrentCallee : JSContext* -> Maybe<JSObject*>\n\nRegardless, any move away from iterating over stack frames outside JS is a good move.", "bug_id": 682159, "count": 1, "is_private": false, "tags": [], "id": 5679400, "creator": "mail@lukewagner.name", "author": "mail@lukewagner.name"}, {"author": "dmandelin@mozilla.com", "creator": "dmandelin@mozilla.com", "id": 5679441, "tags": [], "count": 2, "is_private": false, "bug_id": 682159, "raw_text": "Are there any use cases that require iteration beyond the top stack frame and also can't use jsdbg2?", "creation_time": "2011-08-26T00:25:46Z", "attachment_id": null, "time": "2011-08-26T00:25:46Z", "text": "Are there any use cases that require iteration beyond the top stack frame and also can't use jsdbg2?"}, {"raw_text": "I can't find any.", "creation_time": "2012-01-28T14:41:52Z", "time": "2012-01-28T14:41:52Z", "attachment_id": null, "text": "I can't find any.", "id": 6016781, "is_private": false, "count": 3, "tags": [], "bug_id": 682159, "author": "mrbkap@gmail.com", "creator": "mrbkap@gmail.com"}, {"text": "I should point out that there are like 3 stack-walking paths in xpconnect.  I filed a bug about this earlier, but I can't find it now...", "attachment_id": null, "time": "2012-01-28T20:19:59Z", "raw_text": "I should point out that there are like 3 stack-walking paths in xpconnect.  I filed a bug about this earlier, but I can't find it now...", "creation_time": "2012-01-28T20:19:59Z", "bug_id": 682159, "tags": [], "is_private": false, "count": 4, "id": 6017104, "creator": "mail@lukewagner.name", "author": "mail@lukewagner.name"}, {"author": "automation@bmo.tld", "creator": "automation@bmo.tld", "id": 13338306, "tags": [], "count": 5, "is_private": false, "bug_id": 682159, "creation_time": "2018-05-24T10:58:06Z", "raw_text": "Per policy at https://wiki.mozilla.org/Bug_Triage/Projects/Bug_Handling/Bug_Husbandry#Inactive_Bugs. If this bug is not an enhancement request or a bug not present in a supported release of Firefox, then it may be reopened.", "time": "2018-05-24T10:58:06Z", "attachment_id": null, "text": "Per policy at https://wiki.mozilla.org/Bug_Triage/Projects/Bug_Handling/Bug_Husbandry#Inactive_Bugs. If this bug is not an enhancement request or a bug not present in a supported release of Firefox, then it may be reopened."}]}}, "comments": {}}