{"comments": {}, "bugs": {"669573": {"comments": [{"author": "nospam-moz@top.geek.nz", "creator": "nospam-moz@top.geek.nz", "bug_id": 669573, "id": 5575939, "tags": [], "is_private": false, "count": 0, "attachment_id": null, "time": "2011-07-06T09:42:25Z", "text": "Setting up a mail filter that has as action to forward mail badly goofs by failing to include attachments of the mail that is forwarded.\n\nIMAP connection to mail server.\nThe sent mail, as logged by thunderbird (and as received by recipient) contains:\n\n--------------12345678901234\nContent-Type: application/vnd.ms-excel;\n name=\"file.csv\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment;\n filename=\"file.csv\"\n\nThisbodypartwillbedownloadedondemand\n--------------12345678901234--\n\nThis happens regardless of any setting for viewing mail (or parts) on demand.\n\nThe relevant setting is the global setting for \"forward mail\".\nIf set to \"inline\" (desirable) IMAP forward filters are useless. The filter forgets to retrieve the attachments from the server before sending the mail.\nIt works as expected if set to \"as attachment\".\n\nThis is a longer standing bug. Fix please. Thanks ;-)", "creation_time": "2011-07-06T09:42:25Z", "raw_text": "Setting up a mail filter that has as action to forward mail badly goofs by failing to include attachments of the mail that is forwarded.\n\nIMAP connection to mail server.\nThe sent mail, as logged by thunderbird (and as received by recipient) contains:\n\n--------------12345678901234\nContent-Type: application/vnd.ms-excel;\n name=\"file.csv\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment;\n filename=\"file.csv\"\n\nThisbodypartwillbedownloadedondemand\n--------------12345678901234--\n\nThis happens regardless of any setting for viewing mail (or parts) on demand.\n\nThe relevant setting is the global setting for \"forward mail\".\nIf set to \"inline\" (desirable) IMAP forward filters are useless. The filter forgets to retrieve the attachments from the server before sending the mail.\nIt works as expected if set to \"as attachment\".\n\nThis is a longer standing bug. Fix please. Thanks ;-)"}, {"author": "ludovic@hirlimann.net", "creator": "ludovic@hirlimann.net", "id": 5586268, "is_private": false, "count": 1, "tags": [], "bug_id": 669573, "raw_text": "xref bug 570914, bug 548507.", "creation_time": "2011-07-12T09:43:58Z", "time": "2011-07-12T09:43:58Z", "attachment_id": null, "text": "xref bug 570914, bug 548507."}, {"creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "raw_text": "(In reply to Ludovic Hirlimann [:Usul] from comment #1)\n> xref bug 570914, bug 548507.\n\nVolker, do you agree this matches bug 548507?", "creation_time": "2014-12-31T14:11:34Z", "text": "(In reply to Ludovic Hirlimann [:Usul] from comment #1)\n> xref bug 570914, bug 548507.\n\nVolker, do you agree this matches bug 548507?", "time": "2014-12-31T14:11:34Z", "attachment_id": null, "count": 2, "is_private": false, "tags": [], "id": 9743866, "bug_id": 669573}, {"raw_text": "xref bug 312025", "creation_time": "2015-01-01T19:12:00Z", "creator": "mkmelin+mozilla@iki.fi", "text": "xref bug 312025", "author": "mkmelin+mozilla@iki.fi", "time": "2015-01-01T19:12:00Z", "attachment_id": null, "tags": [], "count": 3, "is_private": false, "id": 9745759, "bug_id": 669573}, {"author": "unicorn.consulting@gmail.com", "creator": "unicorn.consulting@gmail.com", "id": 11822730, "count": 4, "is_private": false, "tags": [], "bug_id": 669573, "raw_text": "(In reply to Wayne Mery (:wsmwk, NI for questions) from comment #2)\n> (In reply to Ludovic Hirlimann [:Usul] from comment #1)\n> > xref bug 570914, bug 548507.\n> \n> Volker, do you agree this matches bug 548507?\n\nI doubt it Wayne.  I think this bug is all about timing.  We see it, or something very similar, in support occasionally.  The workaround of executing the filter after junk classification has worked in all instances I have seen to date.", "creation_time": "2016-10-28T23:35:25Z", "time": "2016-10-28T23:35:25Z", "attachment_id": null, "text": "(In reply to Wayne Mery (:wsmwk, NI for questions) from comment #2)\n> (In reply to Ludovic Hirlimann [:Usul] from comment #1)\n> > xref bug 570914, bug 548507.\n> \n> Volker, do you agree this matches bug 548507?\n\nI doubt it Wayne.  I think this bug is all about timing.  We see it, or something very similar, in support occasionally.  The workaround of executing the filter after junk classification has worked in all instances I have seen to date."}, {"raw_text": "On that basis, let's confirm. (But I didn't test)", "creation_time": "2016-11-01T11:20:59Z", "time": "2016-11-01T11:20:59Z", "attachment_id": null, "text": "On that basis, let's confirm. (But I didn't test)", "id": 11827689, "is_private": false, "count": 5, "tags": [], "bug_id": 669573, "author": "vseerror@lehigh.edu", "creator": "vseerror@lehigh.edu"}, {"bug_id": 669573, "id": 11983955, "tags": [], "is_private": false, "count": 6, "time": "2017-01-16T01:08:44Z", "attachment_id": null, "text": "What do you call a timing issue? Simply moving the filter execution code to run after junk filtering looks like a bad workaround to me that doesn't actually fix the problem. The problem to me looks like the application failing to download attachments before executing the filters, and the irrespective of whether \"download attachments on demand only\" is turned on or not. Or in other words, TB fails to detect in all cases when the attachments are required and keeps running without them, and with a placeholder instead.\n\nAnyone can set up a simple test case: create a filter with a forward action that matches test emails with a file attachment. Load attachments only when needed, in the global config, and turn the junk filter off. Play with other settings that mey be affecting this.", "creation_time": "2017-01-16T01:08:44Z", "raw_text": "What do you call a timing issue? Simply moving the filter execution code to run after junk filtering looks like a bad workaround to me that doesn't actually fix the problem. The problem to me looks like the application failing to download attachments before executing the filters, and the irrespective of whether \"download attachments on demand only\" is turned on or not. Or in other words, TB fails to detect in all cases when the attachments are required and keeps running without them, and with a placeholder instead.\n\nAnyone can set up a simple test case: create a filter with a forward action that matches test emails with a file attachment. Load attachments only when needed, in the global config, and turn the junk filter off. Play with other settings that mey be affecting this.", "author": "nospam-moz@top.geek.nz", "creator": "nospam-moz@top.geek.nz"}, {"raw_text": "I can confirm the bug on Windows 8.1 (TB 45.8.0). Forwarding messages with attachments \"inline\" does not work, forwarding \"as attachment\" attaches also the attachments in the forwarded e-mail which is the expected behavior.\n\nHowever, inline forwarding is much preferred by all poeople I know and work with. So it would be great to have a solution to this problem.", "creation_time": "2017-03-17T08:14:11Z", "attachment_id": null, "time": "2017-03-17T08:14:11Z", "text": "I can confirm the bug on Windows 8.1 (TB 45.8.0). Forwarding messages with attachments \"inline\" does not work, forwarding \"as attachment\" attaches also the attachments in the forwarded e-mail which is the expected behavior.\n\nHowever, inline forwarding is much preferred by all poeople I know and work with. So it would be great to have a solution to this problem.", "id": 12153597, "count": 7, "is_private": false, "tags": [], "bug_id": 669573, "author": "waldi54@gmx.de", "creator": "waldi54@gmx.de"}]}}}