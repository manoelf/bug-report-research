{"bugs": {"658497": {"comments": [{"author": "terje.rosenlund@gmail.com", "id": 5482243, "attachment_id": null, "creator": "terje.rosenlund@gmail.com", "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nXMLHttpRequest throws 'syntax error' when loading entity-files like HTMLlat1.ent, HTMLsymbol.ent and HTMLspecial.ent\n\nsyntax error\n<!ENTITY ...\n--^\n\nHeaders fetched by getAllResponseHeaders():\n\n\tAccept-Ranges: bytes\n\tContent-Length: 11956\n\tContent-Type: text/xml-external-parsed-entity\n\nQuickfix is to use overrideMimeType('text/plain');\n\n\ttrx.Parser.prototype.load = function(url) {\n\t\tif (!url) {\n\t\t\turl = document.location.href;\n\t\t}\n\t\tvar _httpRequest = new XMLHttpRequest;\n\t\ttry {\n\t\t\t_httpRequest.open(\"GET\", url, false);\n\t\t\t_httpRequest.overrideMimeType('text/plain');\n\t\t\t_httpRequest.send(null);\n\t\t\treturn _httpRequest.responseText;\n\t\t} \n\t\tcatch (e) {}\n\t\treturn '';\n\t};\n\nReproducible: Always", "creation_time": "2011-05-20T10:22:12Z", "is_private": false, "tags": [], "time": "2011-05-20T10:22:12Z", "count": 0, "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nXMLHttpRequest throws 'syntax error' when loading entity-files like HTMLlat1.ent, HTMLsymbol.ent and HTMLspecial.ent\n\nsyntax error\n<!ENTITY ...\n--^\n\nHeaders fetched by getAllResponseHeaders():\n\n\tAccept-Ranges: bytes\n\tContent-Length: 11956\n\tContent-Type: text/xml-external-parsed-entity\n\nQuickfix is to use overrideMimeType('text/plain');\n\n\ttrx.Parser.prototype.load = function(url) {\n\t\tif (!url) {\n\t\t\turl = document.location.href;\n\t\t}\n\t\tvar _httpRequest = new XMLHttpRequest;\n\t\ttry {\n\t\t\t_httpRequest.open(\"GET\", url, false);\n\t\t\t_httpRequest.overrideMimeType('text/plain');\n\t\t\t_httpRequest.send(null);\n\t\t\treturn _httpRequest.responseText;\n\t\t} \n\t\tcatch (e) {}\n\t\treturn '';\n\t};\n\nReproducible: Always", "bug_id": 658497}, {"creation_time": "2011-05-20T13:18:37Z", "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "text": "The issue is that the type contains \"xml\" in it (so we try to parse it with an XML parser), but the actual data is not XML data, so you get a parse error.  Then we report the parse error.\n\nOther than the 'type contains \"xml\"' check maybe being too loose, this seems fine to me.", "id": 5482439, "attachment_id": null, "count": 1, "bug_id": 658497, "raw_text": "The issue is that the type contains \"xml\" in it (so we try to parse it with an XML parser), but the actual data is not XML data, so you get a parse error.  Then we report the parse error.\n\nOther than the 'type contains \"xml\"' check maybe being too loose, this seems fine to me.", "tags": [], "is_private": false, "time": "2011-05-20T13:18:37Z"}, {"raw_text": "The XHR2 draft proposes that parsing only happen if the type is \"text/html, text/xml, application/xml, or ends in +xml\".", "tags": [], "is_private": false, "creation_time": "2011-05-20T13:19:54Z", "text": "The XHR2 draft proposes that parsing only happen if the type is \"text/html, text/xml, application/xml, or ends in +xml\".", "id": 5482442, "attachment_id": null, "count": 2, "bug_id": 658497, "time": "2011-05-20T13:19:54Z", "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu"}, {"is_private": false, "tags": [], "raw_text": "IIRC, that matches WebKit", "attachment_id": null, "id": 5483748, "text": "IIRC, that matches WebKit", "creation_time": "2011-05-20T21:45:45Z", "time": "2011-05-20T21:45:45Z", "count": 3, "bug_id": 658497, "author": "Ms2ger@gmail.com", "creator": "Ms2ger@gmail.com"}, {"creation_time": "2011-05-21T13:07:18Z", "text": "W3C claims that xhtml1-versiones of ent-files basicly are the same as the SGML versions made xml-compatible (eg. no dtd-comments)\nAnd: 'XHTML documents are XML conforming. As such, they are readily viewed, edited, and validated with standard XML tools' (http://www.w3.org/TR/xhtml1/#docconf)\n\n- Why does XMLHttpRequest trow the same error when loading xhtml1-strict.dtd then?\n\nAlso: The spec for XML 1.0 on http://www.w3.org/TR/REC-xml/#NT-NameStartChar lists [#x10000-#xEFFFF] as valid start-chars, 0x10021 = !\n\t\n\t- <!ENTITY ...> is a valid tagname according to xml-spec then?\n\nApache-server returns mime-type based on extention so both SGML- and xhtml1-versions of entity-files are served as mimetype text/xml-external-parsed-entity \nOnly the xhtml1-versions are (supposed to be) well formed xml and SGML-versions are garantied to choke any pure xml-parser (eg. on -- dtd comments --)\n\n\t- Does'nt that imply that XMLHttpRequest MUST skip parsing theese files?\n\nThere is (at least) one thing I dont understand regarding w3c, dtd's and xml: \nAll dtd-tags are selfclosing (empty) tags but are terminated without forward slash before end-tag (ie. not closed)\n\n- How can it be 'XML conforming' and valid to terminate an empty xml-tag without / ?\n(http://www.w3.org/TR/REC-xml/#dt-eetag)", "id": 5484478, "attachment_id": null, "raw_text": "W3C claims that xhtml1-versiones of ent-files basicly are the same as the SGML versions made xml-compatible (eg. no dtd-comments)\nAnd: 'XHTML documents are XML conforming. As such, they are readily viewed, edited, and validated with standard XML tools' (http://www.w3.org/TR/xhtml1/#docconf)\n\n- Why does XMLHttpRequest trow the same error when loading xhtml1-strict.dtd then?\n\nAlso: The spec for XML 1.0 on http://www.w3.org/TR/REC-xml/#NT-NameStartChar lists [#x10000-#xEFFFF] as valid start-chars, 0x10021 = !\n\t\n\t- <!ENTITY ...> is a valid tagname according to xml-spec then?\n\nApache-server returns mime-type based on extention so both SGML- and xhtml1-versions of entity-files are served as mimetype text/xml-external-parsed-entity \nOnly the xhtml1-versions are (supposed to be) well formed xml and SGML-versions are garantied to choke any pure xml-parser (eg. on -- dtd comments --)\n\n\t- Does'nt that imply that XMLHttpRequest MUST skip parsing theese files?\n\nThere is (at least) one thing I dont understand regarding w3c, dtd's and xml: \nAll dtd-tags are selfclosing (empty) tags but are terminated without forward slash before end-tag (ie. not closed)\n\n- How can it be 'XML conforming' and valid to terminate an empty xml-tag without / ?\n(http://www.w3.org/TR/REC-xml/#dt-eetag)", "tags": [], "is_private": false, "author": "terje.rosenlund@gmail.com", "creator": "terje.rosenlund@gmail.com", "count": 4, "bug_id": 658497, "time": "2011-05-21T13:07:18Z"}, {"id": 5484491, "attachment_id": null, "text": "> - Why does XMLHttpRequest trow the same error when loading xhtml1-strict.dtd\n> then?\n\nIncludes eg. xhtml-lat1.ent", "creation_time": "2011-05-21T13:29:52Z", "is_private": false, "tags": [], "raw_text": "> - Why does XMLHttpRequest trow the same error when loading xhtml1-strict.dtd\n> then?\n\nIncludes eg. xhtml-lat1.ent", "creator": "terje.rosenlund@gmail.com", "author": "terje.rosenlund@gmail.com", "time": "2011-05-21T13:29:52Z", "bug_id": 658497, "count": 5}, {"attachment_id": null, "id": 5484671, "text": "(In reply to myself in comment #4)\n> W3C claims that xhtml1-versiones of ent-files basicly are the same as the\n> SGML versions made xml-compatible\nThis do not mean that they are xml-files (dtd and ent files are not xml-files at all). When the parser used by XMLHttpRequest (wrongly) parses external entity files as xml:\n\n<!ENTITY nbsp \"&#160;\">\t\tSyntax error, due to ! (realy valid xml?)\n<ENTITY nbsp \"&#160;\">\t\tNot well formed, due to missing =\n<ENTITY nbsp=\"&#160;\">\t\tNo elements found, due to missing /\n<ENTITY nbsp=\"&#160;\"/>\t\tNo error, ok as xml but not as dtd-entity!\n<!ENTITY nbsp=\"&#160;\"/>\tStill syntax error, due to ! (realy valid xml?)\n\nNo dtd's or external entity files can be parsed as xml", "creation_time": "2011-05-21T18:13:49Z", "is_private": false, "tags": [], "raw_text": "(In reply to myself in comment #4)\n> W3C claims that xhtml1-versiones of ent-files basicly are the same as the\n> SGML versions made xml-compatible\nThis do not mean that they are xml-files (dtd and ent files are not xml-files at all). When the parser used by XMLHttpRequest (wrongly) parses external entity files as xml:\n\n<!ENTITY nbsp \"&#160;\">\t\tSyntax error, due to ! (realy valid xml?)\n<ENTITY nbsp \"&#160;\">\t\tNot well formed, due to missing =\n<ENTITY nbsp=\"&#160;\">\t\tNo elements found, due to missing /\n<ENTITY nbsp=\"&#160;\"/>\t\tNo error, ok as xml but not as dtd-entity!\n<!ENTITY nbsp=\"&#160;\"/>\tStill syntax error, due to ! (realy valid xml?)\n\nNo dtd's or external entity files can be parsed as xml", "creator": "terje.rosenlund@gmail.com", "author": "terje.rosenlund@gmail.com", "time": "2011-05-21T18:13:49Z", "bug_id": 658497, "count": 6}, {"bug_id": 658497, "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "count": 7, "time": "2018-06-29T04:58:09Z", "tags": [], "is_private": false, "creation_time": "2018-06-29T04:58:09Z", "creator": "bug-husbandry-bot@mozilla.bugs", "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "id": 13436460, "attachment_id": null, "author": "bug-husbandry-bot@mozilla.bugs"}]}}, "comments": {}}