{"bugs": {"673400": {"comments": [{"time": "2011-07-22T13:55:43Z", "creation_time": "2011-07-22T13:55:43Z", "creator": "tvanlessen@gmail.com", "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nTB5 with Google Mail via IMAP in conjunction with GMail for Android:\n1. Write a reply to a message with auto save turned on. Because of #618553, this results in multiple drafts, which are marked unread since TB5 (#470746).\n2. Let TB synchronize folder with IMAP\n3. Check the same conversation in GMail for Android\n4. Send the mail and sync.\n5. Check the same conversation in GMail again.\n\n\nActual results:\n\nfor 3: GMail notifies about new messages in the conversation (but there are no new messages, only a draft has been changed. Thus the notification is wrong). Also, it shows every single draft that has been created as new mail. Due to #618553 this can be a lot when autosave is on.\n\nfor 5: GMail again notifies about a new mail in the conversation, this time because the unread draft is moved to trash and remains marked unread. The conversation is now also labeled \"trash\"\n\n\nExpected results:\n\nI expected the behavior from TB 3.1: Drafts and trashed drafts are marked read and will thus not confuse GMail.\n\nI understad this is an interoperability issue and it is not purely TB's fault. However, TB5 introduced this interop regression and thus I report it here. IMO it makes TB almost unusable in this scenario, since a long mail could cause ~10 drafts, which are then a) shown as new mail and b) have to be scrolled through in order to see if there has been a real new message (reply) added to the conversation.\n\nI also skimmed through the related bugs. I understand the reasons for #470746, perhaps there is a different way to bring new drafts to user's attention than marking them unread. What will work in any case is to make the \"mark new drafts unread\" feature configurable and to think about marking it read before/when trashing it.", "bug_id": 673400, "tags": [], "author": "tvanlessen@gmail.com", "count": 0, "id": 5606942, "is_private": false, "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nTB5 with Google Mail via IMAP in conjunction with GMail for Android:\n1. Write a reply to a message with auto save turned on. Because of #618553, this results in multiple drafts, which are marked unread since TB5 (#470746).\n2. Let TB synchronize folder with IMAP\n3. Check the same conversation in GMail for Android\n4. Send the mail and sync.\n5. Check the same conversation in GMail again.\n\n\nActual results:\n\nfor 3: GMail notifies about new messages in the conversation (but there are no new messages, only a draft has been changed. Thus the notification is wrong). Also, it shows every single draft that has been created as new mail. Due to #618553 this can be a lot when autosave is on.\n\nfor 5: GMail again notifies about a new mail in the conversation, this time because the unread draft is moved to trash and remains marked unread. The conversation is now also labeled \"trash\"\n\n\nExpected results:\n\nI expected the behavior from TB 3.1: Drafts and trashed drafts are marked read and will thus not confuse GMail.\n\nI understad this is an interoperability issue and it is not purely TB's fault. However, TB5 introduced this interop regression and thus I report it here. IMO it makes TB almost unusable in this scenario, since a long mail could cause ~10 drafts, which are then a) shown as new mail and b) have to be scrolled through in order to see if there has been a real new message (reply) added to the conversation.\n\nI also skimmed through the related bugs. I understand the reasons for #470746, perhaps there is a different way to bring new drafts to user's attention than marking them unread. What will work in any case is to make the \"mark new drafts unread\" feature configurable and to think about marking it read before/when trashing it."}, {"attachment_id": null, "raw_text": "", "tags": [], "text": "*** Bug 671232 has been marked as a duplicate of this bug. ***", "bug_id": 673400, "is_private": false, "count": 1, "id": 5624134, "creator": "euryalus.0@gmail.com", "time": "2011-07-31T09:44:08Z", "creation_time": "2011-07-31T09:44:08Z", "author": "euryalus.0@gmail.com"}, {"is_private": false, "count": 2, "id": 5624135, "author": "euryalus.0@gmail.com", "creator": "euryalus.0@gmail.com", "creation_time": "2011-07-31T09:46:48Z", "time": "2011-07-31T09:46:48Z", "raw_text": "xref bug #470746 ?", "attachment_id": null, "tags": [], "bug_id": 673400, "text": "xref bug #470746 ?"}, {"id": 5625286, "count": 3, "is_private": false, "creation_time": "2011-08-01T15:15:40Z", "time": "2011-08-01T15:15:40Z", "creator": "themoz@tsotech.com", "author": "themoz@tsotech.com", "attachment_id": null, "raw_text": "I was a voter on bug 671232.  I believe this behavior of marking draft messages as unread is new in Thunderbird 5.  I don't recall it ever happening in 3.x.\n\nI voted on the other bug because I find the behavior bizarre and somewhat disorienting.  I'll be composing a message in a message window and see a bold number come up in the main Thunderbird window.  I think, \"Oh, a new e-mail just arrived.\"  But it turns out it's just my work-in-progress being saved as an unread draft.\n\nSo to be clear: I'm not using GMail; not using Android.  I voted on 671232 because I suspect the general behavior of marking drafts as unread wasn't intentional.  I wanted to chime in here just to say that as I see it, this is not actually an issue isolated to GMail and Android.", "text": "I was a voter on bug 671232.  I believe this behavior of marking draft messages as unread is new in Thunderbird 5.  I don't recall it ever happening in 3.x.\n\nI voted on the other bug because I find the behavior bizarre and somewhat disorienting.  I'll be composing a message in a message window and see a bold number come up in the main Thunderbird window.  I think, \"Oh, a new e-mail just arrived.\"  But it turns out it's just my work-in-progress being saved as an unread draft.\n\nSo to be clear: I'm not using GMail; not using Android.  I voted on 671232 because I suspect the general behavior of marking drafts as unread wasn't intentional.  I wanted to chime in here just to say that as I see it, this is not actually an issue isolated to GMail and Android.", "bug_id": 673400, "tags": []}, {"creation_time": "2011-08-01T16:06:39Z", "time": "2011-08-01T16:06:39Z", "creator": "subscribed@enigma-electronics.com", "author": "subscribed@enigma-electronics.com", "count": 4, "id": 5625407, "is_private": false, "tags": [], "text": "I am in agreement with Brian, I originated this bug and am using a standard IMAP server for mail. This behaviour certainly wasnt present in 3.x. I have the same behaviour also while composing mail, as soon as the autosave happens the program reports a new message.", "bug_id": 673400, "attachment_id": null, "raw_text": "I am in agreement with Brian, I originated this bug and am using a standard IMAP server for mail. This behaviour certainly wasnt present in 3.x. I have the same behaviour also while composing mail, as soon as the autosave happens the program reports a new message."}, {"id": 5625825, "count": 5, "is_private": false, "creation_time": "2011-08-01T18:36:14Z", "time": "2011-08-01T18:36:14Z", "creator": "tvanlessen@gmail.com", "author": "tvanlessen@gmail.com", "attachment_id": null, "raw_text": "I also agree with you. Not the bug reports a duplicates but their origin, so a \"x blocks y\" relation would probably fit better. I see the same behavior as you do and in addition it causes the issues with GMail on Android. For the me the latter is more annoying but of course the issue should be fixed at its roots. When reading through related issues, I also found the issue that asked for the behavior we have right now (drafts should be marked unread so that people will notice that there is a draft at all) and there was a discussion whether this behavior could be achieved with some UI foo instead of marking it unread (in IMAP). I guess this would at least help a little against \"new mail notifications\". In general, I also don't care about the information whether there is now a new draft or not. With autosave on, I usually don't need most of the drafts and if I need one, I'm aware of that and can actively search it. Drafting emails is IMO something people are aware of and do not necessarily have to be reminded about something they know already.", "tags": [], "text": "I also agree with you. Not the bug reports a duplicates but their origin, so a \"x blocks y\" relation would probably fit better. I see the same behavior as you do and in addition it causes the issues with GMail on Android. For the me the latter is more annoying but of course the issue should be fixed at its roots. When reading through related issues, I also found the issue that asked for the behavior we have right now (drafts should be marked unread so that people will notice that there is a draft at all) and there was a discussion whether this behavior could be achieved with some UI foo instead of marking it unread (in IMAP). I guess this would at least help a little against \"new mail notifications\". In general, I also don't care about the information whether there is now a new draft or not. With autosave on, I usually don't need most of the drafts and if I need one, I'm aware of that and can actively search it. Drafting emails is IMO something people are aware of and do not necessarily have to be reminded about something they know already.", "bug_id": 673400}, {"attachment_id": null, "raw_text": "To all problem reporters:\n\nEven when newly saved draft mail is marked as Unread by Tb, if Tb, and if automatic new mail check is disabled for Drafts folder in Tb, and if IDLE command use is disabled at Server Settings/Advanced of Tb, new mail notification won't automatically be passed to Tb from server, then new mail alert on Drafts folder by Tb won't appear automatically.\n\nWhy do you need \"automatic new mail check of Drafts folder\" by your Smart Phone and/or other IMAP clients?\nWhy do you intentionally enable \"automatc new mail check of Drafts folder\" in any IMAP clients which you concurrently use, even though you simulteneously use/access same IMAP account's mbox named Drafts(to save draft mail during your intentional mail composition) from multiple your IMAP clients?\n\nPlease note that I'm not opossite to request of \"Read/Unread status of newly saved draft mail by Tb should be optional or selectable\".", "tags": [], "text": "To all problem reporters:\n\nEven when newly saved draft mail is marked as Unread by Tb, if Tb, and if automatic new mail check is disabled for Drafts folder in Tb, and if IDLE command use is disabled at Server Settings/Advanced of Tb, new mail notification won't automatically be passed to Tb from server, then new mail alert on Drafts folder by Tb won't appear automatically.\n\nWhy do you need \"automatic new mail check of Drafts folder\" by your Smart Phone and/or other IMAP clients?\nWhy do you intentionally enable \"automatc new mail check of Drafts folder\" in any IMAP clients which you concurrently use, even though you simulteneously use/access same IMAP account's mbox named Drafts(to save draft mail during your intentional mail composition) from multiple your IMAP clients?\n\nPlease note that I'm not opossite to request of \"Read/Unread status of newly saved draft mail by Tb should be optional or selectable\".", "bug_id": 673400, "is_private": false, "count": 6, "id": 5771977, "creator": "m-wada@usa.com", "creation_time": "2011-10-10T17:49:10Z", "time": "2011-10-10T17:49:10Z", "author": "m-wada@usa.com"}, {"author": "cstef@parallel.ru", "time": "2011-10-11T05:56:45Z", "creation_time": "2011-10-11T05:56:45Z", "creator": "cstef@parallel.ru", "id": 5773697, "count": 7, "is_private": false, "text": "*** Bug 676249 has been marked as a duplicate of this bug. ***", "bug_id": 673400, "tags": [], "raw_text": "", "attachment_id": null}, {"text": "(In reply to WADA from comment #6)\n> Why do you need \"automatic new mail check of Drafts folder\" by your Smart\n> Phone and/or other IMAP clients?\nAnd why TB has this feature turned on automatically? I reported bug #676249, which deals with TB itself, only one instance, no special configuration, and TB behaves alike: it produses new message notification on message autosaved by itself in Drafts.", "bug_id": 673400, "tags": [], "attachment_id": null, "raw_text": "(In reply to WADA from comment #6)\n> Why do you need \"automatic new mail check of Drafts folder\" by your Smart\n> Phone and/or other IMAP clients?\nAnd why TB has this feature turned on automatically? I reported bug #676249, which deals with TB itself, only one instance, no special configuration, and TB behaves alike: it produses new message notification on message autosaved by itself in Drafts.", "time": "2011-10-11T06:00:20Z", "creation_time": "2011-10-11T06:00:20Z", "creator": "cstef@parallel.ru", "author": "cstef@parallel.ru", "id": 5773699, "count": 8, "is_private": false}, {"text": "And must say that 6.0 and 7.0.1 do have the same bug.", "bug_id": 673400, "tags": [], "attachment_id": null, "raw_text": "And must say that 6.0 and 7.0.1 do have the same bug.", "creation_time": "2011-10-11T06:01:39Z", "time": "2011-10-11T06:01:39Z", "creator": "cstef@parallel.ru", "author": "cstef@parallel.ru", "count": 9, "id": 5773702, "is_private": false}, {"id": 5774761, "count": 10, "is_private": false, "author": "tvanlessen@gmail.com", "time": "2011-10-11T16:29:51Z", "creation_time": "2011-10-11T16:29:51Z", "creator": "tvanlessen@gmail.com", "raw_text": "(In reply to WADA from comment #6)\n> Even when newly saved draft mail is marked as Unread by Tb, if Tb, and if\n> automatic new mail check is disabled for Drafts folder in Tb, and if IDLE\n> command use is disabled at Server Settings/Advanced of Tb, new mail\n> notification won't automatically be passed to Tb from server, then new mail\n> alert on Drafts folder by Tb won't appear automatically.\n\nActually the automatic new mail check is disabled for my Drafts/Trash folders, but I like the IDLE feature. I'll try that as a workaround, but it won't fix this issue in a sound manner IMO.\n\n> Why do you need \"automatic new mail check of Drafts folder\" by your Smart\n> Phone and/or other IMAP clients?\n\nI don't need this, but it's just not configurable in Android's GMail client. It's even pushing changes in these folders. While you can configure the labels to be subscribed to, these 'system folders' are not in this list.\n\n> Why do you intentionally enable \"automatc new mail check of Drafts folder\"\n> in any IMAP clients which you concurrently use, even though you\n> simulteneously use/access same IMAP account's mbox named Drafts(to save\n> draft mail during your intentional mail composition) from multiple your IMAP\n> clients?\n\nThis checkbox is not checked in my setup, but the folder is included in Gloda. Could that be a reason?\n\n> Please note that I'm not opossite to request of \"Read/Unread status of newly\n> saved draft mail by Tb should be optional or selectable\".\n\nPuh ;)", "attachment_id": null, "text": "(In reply to WADA from comment #6)\n> Even when newly saved draft mail is marked as Unread by Tb, if Tb, and if\n> automatic new mail check is disabled for Drafts folder in Tb, and if IDLE\n> command use is disabled at Server Settings/Advanced of Tb, new mail\n> notification won't automatically be passed to Tb from server, then new mail\n> alert on Drafts folder by Tb won't appear automatically.\n\nActually the automatic new mail check is disabled for my Drafts/Trash folders, but I like the IDLE feature. I'll try that as a workaround, but it won't fix this issue in a sound manner IMO.\n\n> Why do you need \"automatic new mail check of Drafts folder\" by your Smart\n> Phone and/or other IMAP clients?\n\nI don't need this, but it's just not configurable in Android's GMail client. It's even pushing changes in these folders. While you can configure the labels to be subscribed to, these 'system folders' are not in this list.\n\n> Why do you intentionally enable \"automatc new mail check of Drafts folder\"\n> in any IMAP clients which you concurrently use, even though you\n> simulteneously use/access same IMAP account's mbox named Drafts(to save\n> draft mail during your intentional mail composition) from multiple your IMAP\n> clients?\n\nThis checkbox is not checked in my setup, but the folder is included in Gloda. Could that be a reason?\n\n> Please note that I'm not opossite to request of \"Read/Unread status of newly\n> saved draft mail by Tb should be optional or selectable\".\n\nPuh ;)", "bug_id": 673400, "tags": []}, {"attachment_id": null, "raw_text": "(In reply to Tammo van Lessen from comment #10)\n> > Why do you need \"automatic new mail check of Drafts folder\" by your Smart\n> > Phone and/or other IMAP clients?\n> I don't need this, but it's just not configurable in Android's GMail client.\n> It's even pushing changes in these folders.\n\nI see.\nIf it's applicable to [Gmail]/All Mail too, \"one additional new mail alert per a draft save\" occurs at Android Smart Phone, because it's Gmail IMAP(Gmail's design).\nIf it's applicable to [Gmail]/Trash, \"a new mail alert per an old draft delete upon draft save\" additionally occurs at Android Smart Phone, because it's Gmail IMAP(phenomenon of Bug 562748).\ni.e. \"Three new mail alerts per a draft save by Tb\" is invoked at an Android Smart Phone. It happens every five minutes at all Android Smart Phone you use, if you start mail composition in Tb with auto-save interval=5 minutes.\n\nSome peoples want Unread status of newly saved draft mail for their convenience, and current \"Unread status upon draft save\" was done by request from such users as the request was reasonable and acceptable.\nHowever, now it's found that \"Unread upon draft save\" produces problem of this bug.\nI think next is practical solution,\n  Change to \"always set as Read upon draft save\",\n  until \"configurable Read/Unread of newly saved draft\" will be implemented, because I think \"loss by Unread status due to problem like this bug\" is larger than \"gain by Unread status in user's convenience\",\nand because I believe silent majority of users are torelant with any of Unread or Read.\n\n(In reply to Tammo van Lessen from comment #0)\n> marking it read before/when trashing it.\n\n\"Mark as Read of draft mail upon move to Trash due to phenomenon of Bug 562748\", shouldn't be applied to non Gmail IMAP account. Such feature should be lmited to Gmail IMAP account only even if such feature will be implemented.\n\nSome peoples are eager for \"change to Read upon move to Trash\", and some peoples are eager for \"keep Unread mail as Unread upon move to Trash\".\n(silent majority of users has favarite one, but can be torelant with any of two)\nTo avoid Read vs Unread war on Trash, \"configurable Read/Unread/Not-change\" is needed for Trash too.", "text": "(In reply to Tammo van Lessen from comment #10)\n> > Why do you need \"automatic new mail check of Drafts folder\" by your Smart\n> > Phone and/or other IMAP clients?\n> I don't need this, but it's just not configurable in Android's GMail client.\n> It's even pushing changes in these folders.\n\nI see.\nIf it's applicable to [Gmail]/All Mail too, \"one additional new mail alert per a draft save\" occurs at Android Smart Phone, because it's Gmail IMAP(Gmail's design).\nIf it's applicable to [Gmail]/Trash, \"a new mail alert per an old draft delete upon draft save\" additionally occurs at Android Smart Phone, because it's Gmail IMAP(phenomenon of Bug 562748).\ni.e. \"Three new mail alerts per a draft save by Tb\" is invoked at an Android Smart Phone. It happens every five minutes at all Android Smart Phone you use, if you start mail composition in Tb with auto-save interval=5 minutes.\n\nSome peoples want Unread status of newly saved draft mail for their convenience, and current \"Unread status upon draft save\" was done by request from such users as the request was reasonable and acceptable.\nHowever, now it's found that \"Unread upon draft save\" produces problem of this bug.\nI think next is practical solution,\n  Change to \"always set as Read upon draft save\",\n  until \"configurable Read/Unread of newly saved draft\" will be implemented, because I think \"loss by Unread status due to problem like this bug\" is larger than \"gain by Unread status in user's convenience\",\nand because I believe silent majority of users are torelant with any of Unread or Read.\n\n(In reply to Tammo van Lessen from comment #0)\n> marking it read before/when trashing it.\n\n\"Mark as Read of draft mail upon move to Trash due to phenomenon of Bug 562748\", shouldn't be applied to non Gmail IMAP account. Such feature should be lmited to Gmail IMAP account only even if such feature will be implemented.\n\nSome peoples are eager for \"change to Read upon move to Trash\", and some peoples are eager for \"keep Unread mail as Unread upon move to Trash\".\n(silent majority of users has favarite one, but can be torelant with any of two)\nTo avoid Read vs Unread war on Trash, \"configurable Read/Unread/Not-change\" is needed for Trash too.", "bug_id": 673400, "tags": [], "id": 5776498, "count": 11, "is_private": false, "creation_time": "2011-10-12T02:22:16Z", "time": "2011-10-12T02:22:16Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com"}, {"raw_text": "Possible short/mid-term solution.\n  If Gmail IMAP account, set as Read(append with \\Seen flag) upon draft save.\nBecause Read or Unread of newly saved draft won't be changed for non-Gmail-IMAP account(POP3, Local Folders, IMAP other than Gmail IMAP), affected users are Gmail IMAP users only, and affected at his Gmail IMAP folder only.\n  Gmail IMAP user who is eager for Unread status of saved draft\n  looses convenient \"Unread of saved draft\" for him at Gmails's Drafts.", "attachment_id": null, "text": "Possible short/mid-term solution.\n  If Gmail IMAP account, set as Read(append with \\Seen flag) upon draft save.\nBecause Read or Unread of newly saved draft won't be changed for non-Gmail-IMAP account(POP3, Local Folders, IMAP other than Gmail IMAP), affected users are Gmail IMAP users only, and affected at his Gmail IMAP folder only.\n  Gmail IMAP user who is eager for Unread status of saved draft\n  looses convenient \"Unread of saved draft\" for him at Gmails's Drafts.", "bug_id": 673400, "tags": [], "is_private": false, "count": 12, "id": 5776642, "author": "m-wada@usa.com", "creator": "m-wada@usa.com", "time": "2011-10-12T04:40:33Z", "creation_time": "2011-10-12T04:40:33Z"}, {"creator": "leitl.christoph@gmail.com", "creation_time": "2012-01-11T21:49:03Z", "time": "2012-01-11T21:49:03Z", "author": "leitl.christoph@gmail.com", "is_private": false, "id": 5973433, "count": 13, "bug_id": 673400, "text": "On 2012-01-11 13:42:28 PST \nhttps://bugzilla.mozilla.org/show_bug.cgi?id=687140 Irving Reid (:irving) wrorte:\n\n We're working on a single implementation of new mail notification for all platforms right now in bug 715799, so rather than patch the existing Unix-specific code I'll include an equivalent fix in the shared version.\n\nWatch https://bugzilla.mozilla.org/show_bug.cgi?id=715799 for updates.\nNevertheless, windows users could vote for Bug #687140 as well.", "tags": [], "attachment_id": null, "raw_text": "On 2012-01-11 13:42:28 PST \nhttps://bugzilla.mozilla.org/show_bug.cgi?id=687140 Irving Reid (:irving) wrorte:\n\n We're working on a single implementation of new mail notification for all platforms right now in bug 715799, so rather than patch the existing Unix-specific code I'll include an equivalent fix in the shared version.\n\nWatch https://bugzilla.mozilla.org/show_bug.cgi?id=715799 for updates.\nNevertheless, windows users could vote for Bug #687140 as well."}, {"attachment_id": null, "raw_text": "(In reply to leitl.christoph from comment #13)\n> Watch https://bugzilla.mozilla.org/show_bug.cgi?id=715799 for updates.\n> Nevertheless, windows users could vote for Bug #687140 as well.\n\nThanks for pointing to bugs.\nThese bugs are for change of new mail notfication behavior of Tb, but this bug is for issue of unwanted new mail alert(s) at Android Smart Phone on draft mail saved by Tb(\\Seen flag is not stored by Tb, then Android Smart Phone shows alert for the draft mail at Smart Phone.)\nDoes your comment posting to this bug imply following?\n Any Android Smart Phone who accesses IMAP server uses Tb as his IMAP client,\n and Android is surely included in \"all platform\" of fix for bug 715799,\n (note: \"Android\" exists in drop down menu of Platform: of bug at B.M.O)\n and fix of the bug will be applied to Android Smart Phone by Smart Phone vendor?\nNote:\n\"At least one Android Smart Phone vendor uses Gmail IMAP as his IMAP server\" is already known by comment #0.", "text": "(In reply to leitl.christoph from comment #13)\n> Watch https://bugzilla.mozilla.org/show_bug.cgi?id=715799 for updates.\n> Nevertheless, windows users could vote for Bug #687140 as well.\n\nThanks for pointing to bugs.\nThese bugs are for change of new mail notfication behavior of Tb, but this bug is for issue of unwanted new mail alert(s) at Android Smart Phone on draft mail saved by Tb(\\Seen flag is not stored by Tb, then Android Smart Phone shows alert for the draft mail at Smart Phone.)\nDoes your comment posting to this bug imply following?\n Any Android Smart Phone who accesses IMAP server uses Tb as his IMAP client,\n and Android is surely included in \"all platform\" of fix for bug 715799,\n (note: \"Android\" exists in drop down menu of Platform: of bug at B.M.O)\n and fix of the bug will be applied to Android Smart Phone by Smart Phone vendor?\nNote:\n\"At least one Android Smart Phone vendor uses Gmail IMAP as his IMAP server\" is already known by comment #0.", "bug_id": 673400, "tags": [], "count": 14, "id": 5973965, "is_private": false, "time": "2012-01-12T00:23:45Z", "creation_time": "2012-01-12T00:23:45Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com"}, {"raw_text": "I tried to create a patch that enables the following:\n  - The default behavior is not changed.\n  - A per identity preference 'mark_drafts_read' is introduced. If this pref is set to true, drafts are marked read, if it is false (default), drafts are marked unread.\n  - No UI support for the flag (yet)\n\nSince this is my first contact with the Mozilla code base and I still don't have a working tool chain running to build Thunderbird, this patch is completely untested, I don't even know if it will compile. It is more meant to serve as a starting point for a TB dev. Would be great if someone could give it a try.", "attachment_id": 588147, "tags": [], "bug_id": 673400, "text": "Created attachment 588147\nuntested git patch\n\nI tried to create a patch that enables the following:\n  - The default behavior is not changed.\n  - A per identity preference 'mark_drafts_read' is introduced. If this pref is set to true, drafts are marked read, if it is false (default), drafts are marked unread.\n  - No UI support for the flag (yet)\n\nSince this is my first contact with the Mozilla code base and I still don't have a working tool chain running to build Thunderbird, this patch is completely untested, I don't even know if it will compile. It is more meant to serve as a starting point for a TB dev. Would be great if someone could give it a try.", "count": 15, "id": 5976353, "is_private": false, "author": "tvanlessen@gmail.com", "creation_time": "2012-01-12T20:17:17Z", "time": "2012-01-12T20:17:17Z", "creator": "tvanlessen@gmail.com"}, {"text": "Oh, \"victim of change by bug 470746 == Tb user\" cases, bug 671232 and bug 676249, were already dup'ed to this bug.\nI thought enhancement of \"configurable Read/Unread of draft\" will be done by bug opened earlier for victim=Tb user case, and critical/special case(this bug for victime=Android Smart Phone case) will be fixed by such change, and this bug will be duped to such bug if required.\n\n(In reply to Constantin Stefanov from comment #8)\n> And why TB has this feature turned on automatically? I reported bug #676249,\n\nI wasn't aware of your duping to this bug.\nIf namespace=Inbox, draft folder = Inbox/Drafts or Inbox.Drafts, and Tb may check all subfolders under Inbox upon automatic new mail check, and, as stated in comment #13, Tb currently doesn't exclude drafts folder from new mail alert.\n\nYour report/request is accurate and crispy too.\n> Actual results:\n> (a) The saved draft appears in 'draft' folder as new (unread) message,\n> (b) and 'New message' alert sounds.\n> Expected results:\n> (A) The message should appear in 'Drafts' folder as read (the preferable),\n> (B) or at least 'New message' alert should not trigger.\n\nInitial bug summary of bug 687140 was following. It looked absolutely same as your (a).\n> message in Drafts folder announced as new mail\nBut request by bug opener of that bug was (B). So I added following(complaint by bug opener) to bug summary of that bug.\n> (New email alert ping after saving a mail in the drafts folder)\nThen, current bug summary looks absolutely same as your (a) + (b) :-)\n> bug 687140 : message in Drafts folder announced as new mail\n>              (New email alert ping after saving a mail in the drafts folder)\n\nCurrent status:\n  (A) : Request of bug opener of this bug, Tammo van Lessen, in comment #0.\n        Because (B) can do nothing for Android Smart Phone case,\n        he didn't request (B).\n  (B) : Request of bug 687140. \n        Linux : already fixed by bug 661239.\n        because fix of bug 661239 is Linux only fix, bug 715799 has been opened.\n\nI'll re-open your bug for ease of tracking of both (A) and (B), and for ease of problem analysis or QA work of future bugs for \"annoying new mail alert on draft saved by Tb\".\nAnd change bug summary of this bug to explict request for \"configurable Read/Unread of draft\".", "bug_id": 673400, "tags": [], "raw_text": "Oh, \"victim of change by bug 470746 == Tb user\" cases, bug 671232 and bug 676249, were already dup'ed to this bug.\nI thought enhancement of \"configurable Read/Unread of draft\" will be done by bug opened earlier for victim=Tb user case, and critical/special case(this bug for victime=Android Smart Phone case) will be fixed by such change, and this bug will be duped to such bug if required.\n\n(In reply to Constantin Stefanov from comment #8)\n> And why TB has this feature turned on automatically? I reported bug #676249,\n\nI wasn't aware of your duping to this bug.\nIf namespace=Inbox, draft folder = Inbox/Drafts or Inbox.Drafts, and Tb may check all subfolders under Inbox upon automatic new mail check, and, as stated in comment #13, Tb currently doesn't exclude drafts folder from new mail alert.\n\nYour report/request is accurate and crispy too.\n> Actual results:\n> (a) The saved draft appears in 'draft' folder as new (unread) message,\n> (b) and 'New message' alert sounds.\n> Expected results:\n> (A) The message should appear in 'Drafts' folder as read (the preferable),\n> (B) or at least 'New message' alert should not trigger.\n\nInitial bug summary of bug 687140 was following. It looked absolutely same as your (a).\n> message in Drafts folder announced as new mail\nBut request by bug opener of that bug was (B). So I added following(complaint by bug opener) to bug summary of that bug.\n> (New email alert ping after saving a mail in the drafts folder)\nThen, current bug summary looks absolutely same as your (a) + (b) :-)\n> bug 687140 : message in Drafts folder announced as new mail\n>              (New email alert ping after saving a mail in the drafts folder)\n\nCurrent status:\n  (A) : Request of bug opener of this bug, Tammo van Lessen, in comment #0.\n        Because (B) can do nothing for Android Smart Phone case,\n        he didn't request (B).\n  (B) : Request of bug 687140. \n        Linux : already fixed by bug 661239.\n        because fix of bug 661239 is Linux only fix, bug 715799 has been opened.\n\nI'll re-open your bug for ease of tracking of both (A) and (B), and for ease of problem analysis or QA work of future bugs for \"annoying new mail alert on draft saved by Tb\".\nAnd change bug summary of this bug to explict request for \"configurable Read/Unread of draft\".", "attachment_id": null, "author": "m-wada@usa.com", "creation_time": "2012-01-13T01:17:09Z", "time": "2012-01-13T01:17:09Z", "creator": "m-wada@usa.com", "id": 5977363, "count": 16, "is_private": false}, {"creator": "m-wada@usa.com", "time": "2012-01-13T02:47:43Z", "creation_time": "2012-01-13T02:47:43Z", "author": "m-wada@usa.com", "is_private": false, "count": 17, "id": 5977576, "tags": [], "text": "(In reply to Tammo van Lessen from comment #15)\n> untested git patch\n\nOwner/patch creator of Bug 470746 is Mark Banner, and reviewer of the patch is David :Bienvenu. Asking review to them is perhaps appropriate action.\n\n> +    // check identity preference to mark draft mails read (Bug #687140, #673400)\n> +    aUserIdentity->GetBoolAttribute(\"mark_drafts_read\", &markRead);\n\n(1) When per entity attribute like server.serverX.aaaa, developer frequently introduces default.aaaa like one and puts it in mailnews.js(or all.js) in order to show the default setting at Config Editor panel.\n> mail.identity.default.draft_folder = mailbox://nobody@Local%20Folders/Drafts\nIs there any plan for such default? \n\n(2) Currently used setting is one like next.\n> mail.identity.idN.drafts_folder\n> mail.identity.idN.drafts_folder_picker_mode\n> mail.server.serverX.trash_folder_name\n> mail.server.serverX.moveOnSpam  <= shown at far upper from spamActionTargetFolder\n> mail.server.serverX.spamActionTargetFolder\n\nI prefer draft_folder.mark_read, fcc_folder.mark_read, trash_folder.mark_read, spam_folder.mark_read like one, because options relate to a folder is shown at near location at Config Editor Panel, and common mark_read is used for any folder.\n(this implies request for trash_folder.mark_as_read_on_delete at same time :-) )", "bug_id": 673400, "attachment_id": null, "raw_text": "(In reply to Tammo van Lessen from comment #15)\n> untested git patch\n\nOwner/patch creator of Bug 470746 is Mark Banner, and reviewer of the patch is David :Bienvenu. Asking review to them is perhaps appropriate action.\n\n> +    // check identity preference to mark draft mails read (Bug #687140, #673400)\n> +    aUserIdentity->GetBoolAttribute(\"mark_drafts_read\", &markRead);\n\n(1) When per entity attribute like server.serverX.aaaa, developer frequently introduces default.aaaa like one and puts it in mailnews.js(or all.js) in order to show the default setting at Config Editor panel.\n> mail.identity.default.draft_folder = mailbox://nobody@Local%20Folders/Drafts\nIs there any plan for such default? \n\n(2) Currently used setting is one like next.\n> mail.identity.idN.drafts_folder\n> mail.identity.idN.drafts_folder_picker_mode\n> mail.server.serverX.trash_folder_name\n> mail.server.serverX.moveOnSpam  <= shown at far upper from spamActionTargetFolder\n> mail.server.serverX.spamActionTargetFolder\n\nI prefer draft_folder.mark_read, fcc_folder.mark_read, trash_folder.mark_read, spam_folder.mark_read like one, because options relate to a folder is shown at near location at Config Editor Panel, and common mark_read is used for any folder.\n(this implies request for trash_folder.mark_as_read_on_delete at same time :-) )"}, {"author": "mozilla@davidbienvenu.org", "time": "2012-01-15T21:32:57Z", "creation_time": "2012-01-15T21:32:57Z", "creator": "mozilla@davidbienvenu.org", "count": 18, "id": 5981974, "is_private": false, "tags": [], "bug_id": 673400, "text": "Comment on attachment 588147\nuntested git patch\n\nyou would want to add a default value for pref in mailnews.js", "raw_text": "you would want to add a default value for pref in mailnews.js", "attachment_id": 588147}, {"creator": "standard8@mozilla.com", "creation_time": "2012-01-16T10:24:30Z", "time": "2012-01-16T10:24:30Z", "author": "standard8@mozilla.com", "is_private": false, "count": 19, "id": 5982434, "tags": [], "bug_id": 673400, "text": "I think what might be the better option here is for TB not to mark messages as unread, but still highlight items in the draft folder as existing in a similar style to the unread listing.\n\n@bwinton: any thoughts on this?\n\nHaving said that it'd be interesting to do some research on other clients first, i.e. which ones actually mark as unread when you save a draft email, and which mark as read - and see if there's a general trend. I suspect the trend is unread, but I'm not altogether sure.\n\nSo far, I've come across K9 which marks as unread, and zimbra web client which marks as read.", "attachment_id": null, "raw_text": "I think what might be the better option here is for TB not to mark messages as unread, but still highlight items in the draft folder as existing in a similar style to the unread listing.\n\n@bwinton: any thoughts on this?\n\nHaving said that it'd be interesting to do some research on other clients first, i.e. which ones actually mark as unread when you save a draft email, and which mark as read - and see if there's a general trend. I suspect the trend is unread, but I'm not altogether sure.\n\nSo far, I've come across K9 which marks as unread, and zimbra web client which marks as read."}, {"text": "Mark, David: First off, thanks for taking care of this issue. \n\n(In reply to Mark Banner (:standard8) from comment #19)\n> I think what might be the better option here is for TB not to mark messages\n> as unread, but still highlight items in the draft folder as existing in a\n> similar style to the unread listing.\n> \n\nI fully agree. I believe there is, conceptually, no such thing like an unread draft. Either there are drafts or not and thus it makes sense to somehow visualize whether there are drafts in the draft folder, which somewhat indicates that there is some pending writing work to do, or not. But I don't think that the \\Seen flag should be used for that. So +1 from me for highlighting the drafts folder if not empty and showing an item count using an alternative approach.\n\n> Having said that it'd be interesting to do some research on other clients\n> first, i.e. which ones actually mark as unread when you save a draft email,\n> and which mark as read - and see if there's a general trend. I suspect the\n> trend is unread, but I'm not altogether sure.\n\nEven if the trend is \"unread\", the behavior should be configurable because of the annoying side effects with Google Mail's android app.", "bug_id": 673400, "tags": [], "raw_text": "Mark, David: First off, thanks for taking care of this issue. \n\n(In reply to Mark Banner (:standard8) from comment #19)\n> I think what might be the better option here is for TB not to mark messages\n> as unread, but still highlight items in the draft folder as existing in a\n> similar style to the unread listing.\n> \n\nI fully agree. I believe there is, conceptually, no such thing like an unread draft. Either there are drafts or not and thus it makes sense to somehow visualize whether there are drafts in the draft folder, which somewhat indicates that there is some pending writing work to do, or not. But I don't think that the \\Seen flag should be used for that. So +1 from me for highlighting the drafts folder if not empty and showing an item count using an alternative approach.\n\n> Having said that it'd be interesting to do some research on other clients\n> first, i.e. which ones actually mark as unread when you save a draft email,\n> and which mark as read - and see if there's a general trend. I suspect the\n> trend is unread, but I'm not altogether sure.\n\nEven if the trend is \"unread\", the behavior should be configurable because of the annoying side effects with Google Mail's android app.", "attachment_id": null, "author": "tvanlessen@gmail.com", "creation_time": "2012-01-16T11:52:04Z", "time": "2012-01-16T11:52:04Z", "creator": "tvanlessen@gmail.com", "count": 20, "id": 5982503, "is_private": false}, {"id": 5983388, "count": 21, "is_private": false, "time": "2012-01-16T20:15:53Z", "creation_time": "2012-01-16T20:15:53Z", "creator": "bwinton@latte.ca", "author": "bwinton@latte.ca", "attachment_id": null, "raw_text": "(In reply to Mark Banner (:standard8) from comment #19)\n> I think what might be the better option here is for TB not to mark messages\n> as unread, but still highlight items in the draft folder as existing in a\n> similar style to the unread listing.\n> \n> @bwinton: any thoughts on this?\n\nYeah, I think I agree with Myk in bug 198087 comment 21.\n\"We should be able to have a css rule for the folder pane that says:  \"if it's a\ndrafts folder and it has messages, make it bold (or what ever)\".\n\nwe should log a spin of bug about fixing this to do it that way, and not\noverload unread this way.\n\none problem with overloading unread is messages could get marked unread, and\nthen you'd have the same problem.\"\n\nLater,\nBlake.", "bug_id": 673400, "text": "(In reply to Mark Banner (:standard8) from comment #19)\n> I think what might be the better option here is for TB not to mark messages\n> as unread, but still highlight items in the draft folder as existing in a\n> similar style to the unread listing.\n> \n> @bwinton: any thoughts on this?\n\nYeah, I think I agree with Myk in bug 198087 comment 21.\n\"We should be able to have a css rule for the folder pane that says:  \"if it's a\ndrafts folder and it has messages, make it bold (or what ever)\".\n\nwe should log a spin of bug about fixing this to do it that way, and not\noverload unread this way.\n\none problem with overloading unread is messages could get marked unread, and\nthen you'd have the same problem.\"\n\nLater,\nBlake.", "tags": []}, {"count": 22, "id": 6013291, "is_private": false, "author": "leitl.christoph@gmail.com", "creation_time": "2012-01-27T01:39:59Z", "time": "2012-01-27T01:39:59Z", "creator": "leitl.christoph@gmail.com", "raw_text": "So, will the problem \"annoying new mail alert on draft saved by Tb\" be solved soon?", "attachment_id": null, "bug_id": 673400, "text": "So, will the problem \"annoying new mail alert on draft saved by Tb\" be solved soon?", "tags": []}, {"author": "ludovic@hirlimann.net", "creator": "ludovic@hirlimann.net", "time": "2012-01-27T13:04:10Z", "creation_time": "2012-01-27T13:04:10Z", "is_private": false, "count": 23, "id": 6014052, "text": "Comment on attachment 588147\nuntested git patch\n\nTo have someone look at patches you'll need to set either the review flag or the feedback flag to ? and select a requestee :-)", "bug_id": 673400, "tags": [], "raw_text": "To have someone look at patches you'll need to set either the review flag or the feedback flag to ? and select a requestee :-)", "attachment_id": 588147}, {"text": "Comment on attachment 588147\nuntested git patch\n\nthx for the patch - at the very least, you need a default value for the pref in mailnews.js, i.e., mail.identity.default.mark_drafts_read, false", "bug_id": 673400, "tags": [], "attachment_id": 588147, "raw_text": "thx for the patch - at the very least, you need a default value for the pref in mailnews.js, i.e., mail.identity.default.mark_drafts_read, false", "time": "2012-02-16T00:39:19Z", "creation_time": "2012-02-16T00:39:19Z", "creator": "mozilla@davidbienvenu.org", "author": "mozilla@davidbienvenu.org", "count": 24, "id": 6065830, "is_private": false}, {"count": 25, "id": 6066548, "is_private": false, "author": "tvanlessen@gmail.com", "creation_time": "2012-02-16T06:13:53Z", "time": "2012-02-16T06:13:53Z", "creator": "tvanlessen@gmail.com", "raw_text": "As requested, I added the default value to the mailnews.js. Unfortunately I was unable to setup a test environment. I followed the docs @ mozilla but for some reason I was unable to recompile Thunderbird after applying the patch. It does not give a compile error, it smoothly runs through, but when running the test cases, it appears that nothing has changed. Do I need to run a full build after every change? Since this is my first contact with TB's code, it would be great if a core dev could take care of testing the patch, but I'm of course willing to help and to contribute by tweaking the patch.", "attachment_id": 597688, "bug_id": 673400, "text": "Created attachment 597688\n2nd version of the patch, added default setting to mailnews.js\n\nAs requested, I added the default value to the mailnews.js. Unfortunately I was unable to setup a test environment. I followed the docs @ mozilla but for some reason I was unable to recompile Thunderbird after applying the patch. It does not give a compile error, it smoothly runs through, but when running the test cases, it appears that nothing has changed. Do I need to run a full build after every change? Since this is my first contact with TB's code, it would be great if a core dev could take care of testing the patch, but I'm of course willing to help and to contribute by tweaking the patch.", "tags": []}, {"author": "tvanlessen@gmail.com", "creator": "tvanlessen@gmail.com", "time": "2012-02-16T06:20:49Z", "creation_time": "2012-02-16T06:20:49Z", "is_private": false, "id": 6066557, "count": 26, "tags": [], "text": "Created attachment 597689\nA variant of the same patch, but adds a new field in IDL\n\nI added a variant of the same patch. The first patch uses aUserIdentity->GetBoolAttribute(\"draft_folder.mark_read\", &markRead); Since I'm not sure if this is the way to go, I also created a variant that adds a new field to nsIMsgIdentity.idl.", "bug_id": 673400, "raw_text": "I added a variant of the same patch. The first patch uses aUserIdentity->GetBoolAttribute(\"draft_folder.mark_read\", &markRead); Since I'm not sure if this is the way to go, I also created a variant that adds a new field to nsIMsgIdentity.idl.", "attachment_id": 597689}, {"attachment_id": 597690, "raw_text": "", "text": "Created attachment 597690\n3rd version of variant A patch. Now it uses 'draft_folder.mark_read' instead of 'mark_drafts_read'", "bug_id": 673400, "tags": [], "count": 27, "id": 6066560, "is_private": false, "time": "2012-02-16T06:22:42Z", "creation_time": "2012-02-16T06:22:42Z", "creator": "tvanlessen@gmail.com", "author": "tvanlessen@gmail.com"}, {"attachment_id": 597690, "raw_text": "Sorry, but I don't think we should do this.\n\nAs discussed in comments 19 to 21, I think we should just revert to not marking as unread and fix the display highlight at the same time.\n\nThere's no point in having an intermediate preference - we should be easily able to fix both at the same time.\n\nI can dig out some pointers as to where to fix the UI if you want some.", "text": "Comment on attachment 597690\n3rd version of variant A patch. Now it uses 'draft_folder.mark_read' instead of 'mark_drafts_read'\n\nSorry, but I don't think we should do this.\n\nAs discussed in comments 19 to 21, I think we should just revert to not marking as unread and fix the display highlight at the same time.\n\nThere's no point in having an intermediate preference - we should be easily able to fix both at the same time.\n\nI can dig out some pointers as to where to fix the UI if you want some.", "bug_id": 673400, "tags": [], "is_private": false, "id": 6066845, "count": 28, "creator": "standard8@mozilla.com", "time": "2012-02-16T10:17:35Z", "creation_time": "2012-02-16T10:17:35Z", "author": "standard8@mozilla.com"}, {"author": "mozilla@davidbienvenu.org", "creation_time": "2012-02-17T00:10:46Z", "time": "2012-02-17T00:10:46Z", "creator": "mozilla@davidbienvenu.org", "count": 29, "id": 6069392, "is_private": false, "tags": [], "text": "Comment on attachment 597690\n3rd version of variant A patch. Now it uses 'draft_folder.mark_read' instead of 'mark_drafts_read'\n\nright, forgot about that, clearing review request.", "bug_id": 673400, "raw_text": "right, forgot about that, clearing review request.", "attachment_id": 597690}, {"raw_text": "clearing review request per standard8's comment.", "attachment_id": 597689, "text": "Comment on attachment 597689\nA variant of the same patch, but adds a new field in IDL\n\nclearing review request per standard8's comment.", "bug_id": 673400, "tags": [], "count": 30, "id": 6071774, "is_private": false, "author": "mozilla@davidbienvenu.org", "creation_time": "2012-02-17T20:01:17Z", "time": "2012-02-17T20:01:17Z", "creator": "mozilla@davidbienvenu.org"}, {"tags": [], "text": "Is there any progress being made on this issue seeing how several patches have already been committed?", "bug_id": 673400, "attachment_id": null, "raw_text": "Is there any progress being made on this issue seeing how several patches have already been committed?", "creator": "unlogic@unlogic.se", "creation_time": "2012-11-20T13:32:08Z", "time": "2012-11-20T13:32:08Z", "author": "unlogic@unlogic.se", "is_private": false, "count": 31, "id": 6837594}, {"is_private": false, "id": 6868678, "count": 32, "creator": "vseerror@lehigh.edu", "creation_time": "2012-11-30T16:13:36Z", "time": "2012-11-30T16:13:36Z", "author": "vseerror@lehigh.edu", "attachment_id": null, "raw_text": "changing severity, because this would solve a regression bug", "tags": [], "bug_id": 673400, "text": "changing severity, because this would solve a regression bug"}, {"tags": [], "text": "(In reply to Mark Banner (:standard8) (afk until 1st Aug) from comment #28)\n> 3rd version of variant A patch. Now it uses 'draft_folder.mark_read' instead of 'mark_drafts_read'\n> \n> Sorry, but I don't think we should do this.\n> As discussed in comments 19 to 21, I think we should just revert to\n> not marking as unread and fix the display highlight at the same time.\n> There's no point in having an intermediate preference\n> - we should be easily able to fix both at the same time.\n\nDoes it mean rejection of following request by this bug?\n  Read/Unread status of draft mail should be configurable\nIf so, I think new bugs for following requests, close this bug as WONTFIX, is better.\n(a) Backout of change by bug 470746 as soon as possible.\nBy this, problem of this bug, Bug 687140, and bug 809513 automatically\ndisappers, and bug such as bug 676249 won't be opened any more.\n(b) implement \"highlighting draft mail\" for reminding or notification of\nnew draft mail to other IMAP client who shares IMAP Drafts folder.\n\nShould we open bug for (a)?", "bug_id": 673400, "attachment_id": null, "raw_text": "(In reply to Mark Banner (:standard8) (afk until 1st Aug) from comment #28)\n> 3rd version of variant A patch. Now it uses 'draft_folder.mark_read' instead of 'mark_drafts_read'\n> \n> Sorry, but I don't think we should do this.\n> As discussed in comments 19 to 21, I think we should just revert to\n> not marking as unread and fix the display highlight at the same time.\n> There's no point in having an intermediate preference\n> - we should be easily able to fix both at the same time.\n\nDoes it mean rejection of following request by this bug?\n  Read/Unread status of draft mail should be configurable\nIf so, I think new bugs for following requests, close this bug as WONTFIX, is better.\n(a) Backout of change by bug 470746 as soon as possible.\nBy this, problem of this bug, Bug 687140, and bug 809513 automatically\ndisappers, and bug such as bug 676249 won't be opened any more.\n(b) implement \"highlighting draft mail\" for reminding or notification of\nnew draft mail to other IMAP client who shares IMAP Drafts folder.\n\nShould we open bug for (a)?", "creator": "m-wada@usa.com", "creation_time": "2013-07-28T02:03:12Z", "time": "2013-07-28T02:03:12Z", "author": "m-wada@usa.com", "is_private": false, "id": 7684684, "count": 33}, {"id": 7684690, "count": 34, "is_private": false, "time": "2013-07-28T02:26:23Z", "creation_time": "2013-07-28T02:26:23Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com", "attachment_id": null, "raw_text": "For Read or Unread status of saved draft mail.\n\nAccording to bug 470746 comment #4, Tb's behavior looks;\n(1) Initial :                 Unread\n(2) After fix of bug 198087 : Read\n    => bug 470746 was opened\n(3) After fix of bug 470746 : Unread\n    => bug 661239 was opened\nAnd,\n(4) bug 661239 was fixed on Linux only,\n    => \"New mail alert on Drafts\" was prohibited on Linux only.\n\nWhich is Tb's spec on draft mail?\nSaved draft=Unread? Saved draft=Read?\nIs following Tb way?\n  (i)   If bug for complaint on Unread is opened, change to Read,\n  (ii)  If bug for complaint on Read   is opened, change to Unread,\n  (iii) Repeat (i) and (ii) forever", "bug_id": 673400, "text": "For Read or Unread status of saved draft mail.\n\nAccording to bug 470746 comment #4, Tb's behavior looks;\n(1) Initial :                 Unread\n(2) After fix of bug 198087 : Read\n    => bug 470746 was opened\n(3) After fix of bug 470746 : Unread\n    => bug 661239 was opened\nAnd,\n(4) bug 661239 was fixed on Linux only,\n    => \"New mail alert on Drafts\" was prohibited on Linux only.\n\nWhich is Tb's spec on draft mail?\nSaved draft=Unread? Saved draft=Read?\nIs following Tb way?\n  (i)   If bug for complaint on Unread is opened, change to Read,\n  (ii)  If bug for complaint on Read   is opened, change to Unread,\n  (iii) Repeat (i) and (ii) forever", "tags": []}, {"count": 35, "id": 7687714, "is_private": false, "author": "m-wada@usa.com", "time": "2013-07-29T15:26:30Z", "creation_time": "2013-07-29T15:26:30Z", "creator": "m-wada@usa.com", "raw_text": "(In reply to Mark Banner (:standard8) (afk until 1st Aug) from comment #28)\n> 3rd version of variant A patch. Now it uses 'draft_folder.mark_read' instead of 'mark_drafts_read'\n> \n> Sorry, but I don't think we should do this.\n> As discussed in comments 19 to 21, I think we should just revert to\n> not marking as unread and fix the display highlight at the same time.\n> There's no point in having an intermediate preference\n> - we should be easily able to fix both at the same time.\n\nYour comment was posted on 2012-02-16.\n\nAnd, according to bug 470746 comment #4, change history is;\n(1) Initial :                 Unread\n(2) After fix of bug 198087 : Read\n   (bug 198087 was opened on 2003-03-18, and was FIXED on 2004-04-12) \n    => bug 470746 was opened on 2008-12-22\n(3) After fix of bug 470746 : Unread\n    Owner of bug 470746 is you. And was fixed on 2010-10-26 by you.\n    => bug 661239 was opened on 2011-06-01.\nAnd,\n(4) bug 661239 was fixed on Linux only by Mike Conley,\n    and the bug 661239 was changed to FIXED by you on 2011-07-04. \n    => \"New mail alert on Drafts\" was prohibited on Linux only.\n\nWhat is reason of \"bug 470746 is still not backed out yet\", even though you posted comment #28 on on 2012-02-16, and despite that you already know well about problem of bug 676249, and request by this bug(bug 673400) & Bug 687140 & bug 809513 in which we are respecting your deciosion on \"Unread status of draft mail\" what was made in bug 470746 by you?", "attachment_id": null, "bug_id": 673400, "text": "(In reply to Mark Banner (:standard8) (afk until 1st Aug) from comment #28)\n> 3rd version of variant A patch. Now it uses 'draft_folder.mark_read' instead of 'mark_drafts_read'\n> \n> Sorry, but I don't think we should do this.\n> As discussed in comments 19 to 21, I think we should just revert to\n> not marking as unread and fix the display highlight at the same time.\n> There's no point in having an intermediate preference\n> - we should be easily able to fix both at the same time.\n\nYour comment was posted on 2012-02-16.\n\nAnd, according to bug 470746 comment #4, change history is;\n(1) Initial :                 Unread\n(2) After fix of bug 198087 : Read\n   (bug 198087 was opened on 2003-03-18, and was FIXED on 2004-04-12) \n    => bug 470746 was opened on 2008-12-22\n(3) After fix of bug 470746 : Unread\n    Owner of bug 470746 is you. And was fixed on 2010-10-26 by you.\n    => bug 661239 was opened on 2011-06-01.\nAnd,\n(4) bug 661239 was fixed on Linux only by Mike Conley,\n    and the bug 661239 was changed to FIXED by you on 2011-07-04. \n    => \"New mail alert on Drafts\" was prohibited on Linux only.\n\nWhat is reason of \"bug 470746 is still not backed out yet\", even though you posted comment #28 on on 2012-02-16, and despite that you already know well about problem of bug 676249, and request by this bug(bug 673400) & Bug 687140 & bug 809513 in which we are respecting your deciosion on \"Unread status of draft mail\" what was made in bug 470746 by you?", "tags": []}, {"count": 36, "id": 7701058, "is_private": false, "creation_time": "2013-08-01T09:25:55Z", "time": "2013-08-01T09:25:55Z", "creator": "standard8@mozilla.com", "author": "standard8@mozilla.com", "attachment_id": null, "raw_text": "Wada, backing out bug 470746 would now cause some regression in UI functionality from what we had before (although, that in itself could be called a regression). In any case, I would rather we fixed the UI and backed out at the same time, rather than reverting to the old behaviour before at some later stage re-implementing the fix.", "bug_id": 673400, "text": "Wada, backing out bug 470746 would now cause some regression in UI functionality from what we had before (although, that in itself could be called a regression). In any case, I would rather we fixed the UI and backed out at the same time, rather than reverting to the old behaviour before at some later stage re-implementing the fix.", "tags": []}, {"raw_text": "(In reply to Mark Banner (:standard8) from comment #36)\n> backing out bug 470746 would now cause some regression\n> in UI functionality from what we had before\n\nChange by bug 470746 is following only(essentially one line patch).\n>                                                After patch by bug 470746\n>     rv = copyService->CopyFileMessage(\n>          aDiskFile, dstFolder, aMsgToReplace,\n>          aIsDraft,\n>          nsMsgMessageFlags::Read,         ==>  aIsDraft ? 0 : nsMsgMessageFlags::Read,        \n>          EmptyCString(),\n>          copyListener, msgWindow);\n\nWhat kind of problem did you have in UI functionality before your patch of bug 470746?\nWhat kind of problem in UI functionality was resolved by your patch of  bug 470746?\n\nIf the problem is request of bug 470746, problem by \"backout of bug 470746\" is following only, isn't it?\n- Problem of bug 470746 comes back.\n- Your automatic test provided by bug 470746 always fails.\nIf so, and if much severe problem is found by patch for a bug, \"backout/re-open of the bug\" is normal procedure, isn't it?", "attachment_id": null, "tags": [], "text": "(In reply to Mark Banner (:standard8) from comment #36)\n> backing out bug 470746 would now cause some regression\n> in UI functionality from what we had before\n\nChange by bug 470746 is following only(essentially one line patch).\n>                                                After patch by bug 470746\n>     rv = copyService->CopyFileMessage(\n>          aDiskFile, dstFolder, aMsgToReplace,\n>          aIsDraft,\n>          nsMsgMessageFlags::Read,         ==>  aIsDraft ? 0 : nsMsgMessageFlags::Read,        \n>          EmptyCString(),\n>          copyListener, msgWindow);\n\nWhat kind of problem did you have in UI functionality before your patch of bug 470746?\nWhat kind of problem in UI functionality was resolved by your patch of  bug 470746?\n\nIf the problem is request of bug 470746, problem by \"backout of bug 470746\" is following only, isn't it?\n- Problem of bug 470746 comes back.\n- Your automatic test provided by bug 470746 always fails.\nIf so, and if much severe problem is found by patch for a bug, \"backout/re-open of the bug\" is normal procedure, isn't it?", "bug_id": 673400, "is_private": false, "count": 37, "id": 7709886, "author": "m-wada@usa.com", "creator": "m-wada@usa.com", "creation_time": "2013-08-04T02:36:50Z", "time": "2013-08-04T02:36:50Z"}, {"bug_id": 673400, "text": "I tried to fix this problem with this addon (waiting for a review at the moment): https://addons.mozilla.org/en-US/thunderbird/addon/imap-draft-unread/\n\nIt works for me, so now the drafts are unread but doesn't trigger a mail alert.\nThere is an option also to set the drafts as read.", "tags": [], "attachment_id": null, "raw_text": "I tried to fix this problem with this addon (waiting for a review at the moment): https://addons.mozilla.org/en-US/thunderbird/addon/imap-draft-unread/\n\nIt works for me, so now the drafts are unread but doesn't trigger a mail alert.\nThere is an option also to set the drafts as read.", "creator": "m@micz.it", "creation_time": "2014-05-06T20:24:26Z", "time": "2014-05-06T20:24:26Z", "author": "m@micz.it", "is_private": false, "count": 38, "id": 8758411}, {"author": "freddy@freddywillemsen.nl", "time": "2020-02-05T17:57:51Z", "creation_time": "2020-02-05T17:57:51Z", "creator": "freddy@freddywillemsen.nl", "count": 39, "id": 14625083, "is_private": false, "text": "The 'imap draft unread' extension worked wonders for a while. Until Thunderbird 68 came along and the old extension no longer work. Is there any chance this becomes a configurable option? I think it is weird to set an unread flag on mails in the drafts folder whenever you (re)edit them.", "bug_id": 673400, "tags": [], "raw_text": "The 'imap draft unread' extension worked wonders for a while. Until Thunderbird 68 came along and the old extension no longer work. Is there any chance this becomes a configurable option? I think it is weird to set an unread flag on mails in the drafts folder whenever you (re)edit them.", "attachment_id": null}]}}, "comments": {}}