{"comments": {}, "bugs": {"668577": {"comments": [{"text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_7) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.803.0 Safari/535.1\n\nSteps to reproduce:\n\nCall registerProtocolHandler - the user accepts and the protocol handler is registered.\n\nCall registerProtocolHandler again with identical parameters.\n\n\nActual results:\n\nFF prompts again.\n\n\nExpected results:\n\nFF should not re-prompt if the user has already prompted.", "tags": [], "bug_id": 668577, "time": "2011-06-30T18:00:20Z", "creation_time": "2011-06-30T18:00:20Z", "author": "mpd@google.com", "count": 0, "is_private": false, "creator": "mpd@google.com", "id": 5567644, "raw_text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_7) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.803.0 Safari/535.1\n\nSteps to reproduce:\n\nCall registerProtocolHandler - the user accepts and the protocol handler is registered.\n\nCall registerProtocolHandler again with identical parameters.\n\n\nActual results:\n\nFF prompts again.\n\n\nExpected results:\n\nFF should not re-prompt if the user has already prompted.", "attachment_id": null}, {"author": "justin.lebar+bug@gmail.com", "creation_time": "2012-02-28T23:47:32Z", "time": "2012-02-28T23:47:32Z", "tags": [], "bug_id": 668577, "text": "This is necessary for Gmail to prompt users to use it as their mailto: handler, as it does on Chrome [1].  This would be a pretty Big Deal, as, unless you set a well-hidden pref in Firefox, mailto: links open your default system mail handler (likely Outlook Express).\n\n[1] http://gmailblog.blogspot.com/2012/02/open-email-links-directly-in-gmail.html", "creator": "justin.lebar+bug@gmail.com", "is_private": false, "count": 1, "id": 6101016, "attachment_id": null, "raw_text": "This is necessary for Gmail to prompt users to use it as their mailto: handler, as it does on Chrome [1].  This would be a pretty Big Deal, as, unless you set a well-hidden pref in Firefox, mailto: links open your default system mail handler (likely Outlook Express).\n\n[1] http://gmailblog.blogspot.com/2012/02/open-email-links-directly-in-gmail.html"}, {"tags": [], "bug_id": 668577, "time": "2012-03-07T20:06:32Z", "text": "> Actual results:\n>\n> FF prompts again.\n\nOn my machine, FF says \"Foo has already been added as an application for mailto links.\"", "author": "justin.lebar+bug@gmail.com", "creation_time": "2012-03-07T20:06:32Z", "count": 2, "creator": "justin.lebar+bug@gmail.com", "is_private": false, "id": 6122170, "raw_text": "> Actual results:\n>\n> FF prompts again.\n\nOn my machine, FF says \"Foo has already been added as an application for mailto links.\"", "attachment_id": null}, {"raw_text": "We don't want FF to say *anything*, or give us an API to see if we're already registered. It would be annoying to see that every time you log in to Gmail.", "attachment_id": null, "id": 6122175, "count": 3, "is_private": false, "creator": "mpd@google.com", "text": "We don't want FF to say *anything*, or give us an API to see if we're already registered. It would be annoying to see that every time you log in to Gmail.", "time": "2012-03-07T20:07:52Z", "tags": [], "bug_id": 668577, "creation_time": "2012-03-07T20:07:52Z", "author": "mpd@google.com"}, {"time": "2012-03-07T20:08:27Z", "tags": [], "text": "(In reply to Michael Davidson from comment #3)\n> We don't want FF to say *anything*, or give us an API to see if we're\n> already registered. It would be annoying to see that every time you log in\n> to Gmail.\n\nUnderstood.", "author": "justin.lebar+bug@gmail.com", "creation_time": "2012-03-07T20:08:27Z", "creator": "justin.lebar+bug@gmail.com", "is_private": false, "id": 6122179, "raw_text": "(In reply to Michael Davidson from comment #3)\n> We don't want FF to say *anything*, or give us an API to see if we're\n> already registered. It would be annoying to see that every time you log in\n> to Gmail.\n\nUnderstood.", "attachment_id": null, "bug_id": 668577, "count": 4}, {"attachment_id": null, "raw_text": "Gavin, there are a few things I think we should change about this dialog, but I have a few questions, and I want to get your feedback first.\n\n* Add a \"don't ask again\" button to the prompt.  If I don't want Gmail to handle my mailto: links, it'll be annoying if it asks every time I log in.\n\nAdding the button is easy enough, but I'm not sure how to allow the user to un-reject a site she has previously rejected, or if we care about that.\n\nI'm also not sure how to keep sites from working around our \"don't ask again\" button by submitting a slightly different URI.  \"Don't  ask again\" could mean don't ask again for this [protocol, origin] tuple.  Do you think that's right?\n\n* Make the new protocol handler the default after it's accepted.  At the moment, the prompt is just to allow Gmail to *register* a protocol handler.  The current code then marks the mailto protocol so the next time you click a mailto link, you're presented with a list of protocol handlers including the one you just registered.  (See WebContentConverter.js::registerProtocolHandler.)\n\nI think we should make the new protocol handler the default and be done with it.\n\nWhat do you think?", "id": 6122237, "is_private": false, "creator": "justin.lebar+bug@gmail.com", "count": 5, "creation_time": "2012-03-07T20:25:16Z", "author": "justin.lebar+bug@gmail.com", "text": "Gavin, there are a few things I think we should change about this dialog, but I have a few questions, and I want to get your feedback first.\n\n* Add a \"don't ask again\" button to the prompt.  If I don't want Gmail to handle my mailto: links, it'll be annoying if it asks every time I log in.\n\nAdding the button is easy enough, but I'm not sure how to allow the user to un-reject a site she has previously rejected, or if we care about that.\n\nI'm also not sure how to keep sites from working around our \"don't ask again\" button by submitting a slightly different URI.  \"Don't  ask again\" could mean don't ask again for this [protocol, origin] tuple.  Do you think that's right?\n\n* Make the new protocol handler the default after it's accepted.  At the moment, the prompt is just to allow Gmail to *register* a protocol handler.  The current code then marks the mailto protocol so the next time you click a mailto link, you're presented with a list of protocol handlers including the one you just registered.  (See WebContentConverter.js::registerProtocolHandler.)\n\nI think we should make the new protocol handler the default and be done with it.\n\nWhat do you think?", "time": "2012-03-07T20:25:16Z", "tags": [], "bug_id": 668577}, {"attachment_id": 603826, "raw_text": "", "id": 6122301, "is_private": false, "creator": "justin.lebar+bug@gmail.com", "count": 6, "creation_time": "2012-03-07T20:47:53Z", "author": "justin.lebar+bug@gmail.com", "text": "Created attachment 603826\nWIP v1", "time": "2012-03-07T20:47:53Z", "tags": [], "bug_id": 668577}, {"bug_id": 668577, "count": 7, "text": "(In reply to Justin Lebar [:jlebar] from comment #5)\n> * Add a \"don't ask again\" button to the prompt.  If I don't want Gmail to\n> handle my mailto: links, it'll be annoying if it asks every time I log in.\n\n> I'm also not sure how to keep sites from working around our \"don't ask\n> again\" button by submitting a slightly different URI.  \"Don't  ask again\"\n> could mean don't ask again for this [protocol, origin] tuple.  Do you think\n> that's right?\n\nWhy not tie the decision to the domain making the request, as with e.g. geolocation?\n\n> I think we should make the new protocol handler the default and be done with\n> it.\n\nThis might make sense. I'm not familiar enough with the UI or common scenarios to say offhand. It seems like this feature could use some UX love in general.", "time": "2012-03-08T02:50:27Z", "tags": [], "creation_time": "2012-03-08T02:50:27Z", "author": "gavin.sharp@gmail.com", "is_private": false, "creator": "gavin.sharp@gmail.com", "id": 6123350, "raw_text": "(In reply to Justin Lebar [:jlebar] from comment #5)\n> * Add a \"don't ask again\" button to the prompt.  If I don't want Gmail to\n> handle my mailto: links, it'll be annoying if it asks every time I log in.\n\n> I'm also not sure how to keep sites from working around our \"don't ask\n> again\" button by submitting a slightly different URI.  \"Don't  ask again\"\n> could mean don't ask again for this [protocol, origin] tuple.  Do you think\n> that's right?\n\nWhy not tie the decision to the domain making the request, as with e.g. geolocation?\n\n> I think we should make the new protocol handler the default and be done with\n> it.\n\nThis might make sense. I'm not familiar enough with the UI or common scenarios to say offhand. It seems like this feature could use some UX love in general.", "attachment_id": null}, {"bug_id": 668577, "count": 8, "creation_time": "2012-03-08T02:53:13Z", "author": "gavin.sharp@gmail.com", "text": "Comment on attachment 603826\nWIP v1\n\nA couple of things look wrong with this patch, did you generate it with hg record or something?\n\n- comment looks misplaced (above registerProtocolHandler?)\n- rejectProtocolHandlerButtonAccesskey seems to have been added randomly earlier in the file, rather than next to rejectProtocolHandlerButton\n\nThe actual code changes seem fine (making the \"already exists\" case a no-op rather than prompting).", "tags": [], "time": "2012-03-08T02:53:13Z", "is_private": false, "creator": "gavin.sharp@gmail.com", "id": 6123356, "attachment_id": 603826, "raw_text": "A couple of things look wrong with this patch, did you generate it with hg record or something?\n\n- comment looks misplaced (above registerProtocolHandler?)\n- rejectProtocolHandlerButtonAccesskey seems to have been added randomly earlier in the file, rather than next to rejectProtocolHandlerButton\n\nThe actual code changes seem fine (making the \"already exists\" case a no-op rather than prompting)."}, {"id": 6123381, "attachment_id": null, "raw_text": "> Why not tie the decision to the domain making the request, as with e.g. geolocation?\n\nI think that's fine.\n\n> Adding the button is easy enough, but I'm not sure how to allow the user to un-reject a \n> site she has previously rejected, or if we care about that.\n\nBut what about this?  I tried to figure out how to un-deny a site I'd \"never share geolocation\"'ed, but I haven't found that in our UI yet.  :)", "creation_time": "2012-03-08T03:13:09Z", "author": "justin.lebar+bug@gmail.com", "text": "> Why not tie the decision to the domain making the request, as with e.g. geolocation?\n\nI think that's fine.\n\n> Adding the button is easy enough, but I'm not sure how to allow the user to un-reject a \n> site she has previously rejected, or if we care about that.\n\nBut what about this?  I tried to figure out how to un-deny a site I'd \"never share geolocation\"'ed, but I haven't found that in our UI yet.  :)", "time": "2012-03-08T03:13:09Z", "tags": [], "is_private": false, "creator": "justin.lebar+bug@gmail.com", "bug_id": 668577, "count": 9}, {"count": 10, "bug_id": 668577, "raw_text": "This works sans an implementation of the \"No, don't bother me again\" button.\n\nI'm not sure how we want to implement this.  For similar things in the past, I've just filled in a pref.  I dunno if we want to do something like that, and whether and how we want to expose this pref to the user.\n\n(I considered exposing whether the page had been \"never again\"'ed in the page permissions dialog.  But it would make more sense to me to put the never again'ed list with the MIME handlers in preferences -> applications.)", "attachment_id": 605431, "id": 6136190, "creator": "justin.lebar+bug@gmail.com", "is_private": false, "tags": [], "time": "2012-03-13T16:48:58Z", "text": "Created attachment 605431\nWIP v2\n\nThis works sans an implementation of the \"No, don't bother me again\" button.\n\nI'm not sure how we want to implement this.  For similar things in the past, I've just filled in a pref.  I dunno if we want to do something like that, and whether and how we want to expose this pref to the user.\n\n(I considered exposing whether the page had been \"never again\"'ed in the page permissions dialog.  But it would make more sense to me to put the never again'ed list with the MIME handlers in preferences -> applications.)", "author": "justin.lebar+bug@gmail.com", "creation_time": "2012-03-13T16:48:58Z"}, {"author": "justin.lebar+bug@gmail.com", "creation_time": "2012-03-13T20:09:48Z", "bug_id": 668577, "time": "2012-03-13T20:09:48Z", "tags": [], "text": "Created attachment 605506\nPatch v1", "creator": "justin.lebar+bug@gmail.com", "is_private": false, "count": 11, "id": 6136914, "attachment_id": 605506, "raw_text": ""}, {"count": 12, "is_private": false, "creator": "jonas@sicking.cc", "text": "I think using the permissions manager to implement the \"remember this decision\" checkbox would work quite well.", "time": "2012-03-13T20:27:13Z", "bug_id": 668577, "tags": [], "creation_time": "2012-03-13T20:27:13Z", "author": "jonas@sicking.cc", "raw_text": "I think using the permissions manager to implement the \"remember this decision\" checkbox would work quite well.", "attachment_id": null, "id": 6136970}, {"text": "(In reply to Jonas Sicking (:sicking) from comment #12)\n> I think using the permissions manager to implement the \"remember this\n> decision\" checkbox would work quite well.\n\nPeople keep saying not to use the permissions manager, for reasons which have never been made clear to me.\n\nAnyway, if we used the permissions manager, how would one go about reverting a \"never allow this page to bug me again\" choice?", "tags": [], "time": "2012-03-13T20:38:22Z", "bug_id": 668577, "creation_time": "2012-03-13T20:38:22Z", "author": "justin.lebar+bug@gmail.com", "count": 13, "is_private": false, "creator": "justin.lebar+bug@gmail.com", "id": 6137017, "raw_text": "(In reply to Jonas Sicking (:sicking) from comment #12)\n> I think using the permissions manager to implement the \"remember this\n> decision\" checkbox would work quite well.\n\nPeople keep saying not to use the permissions manager, for reasons which have never been made clear to me.\n\nAnyway, if we used the permissions manager, how would one go about reverting a \"never allow this page to bug me again\" choice?", "attachment_id": null}, {"text": "You officially have my permission to use the permissions manager :-)\n\nWe don't have very good UI for reverting. The best thing we currently have is the page-info UI where we have a security section. That's where we stuck IndexedDB stuff for example.", "bug_id": 668577, "tags": [], "time": "2012-03-13T22:51:34Z", "creation_time": "2012-03-13T22:51:34Z", "author": "jonas@sicking.cc", "count": 14, "is_private": false, "creator": "jonas@sicking.cc", "id": 6137504, "raw_text": "You officially have my permission to use the permissions manager :-)\n\nWe don't have very good UI for reverting. The best thing we currently have is the page-info UI where we have a security section. That's where we stuck IndexedDB stuff for example.", "attachment_id": null}, {"id": 6137558, "attachment_id": 605506, "raw_text": "I'll have a look at the permissions manager.", "creation_time": "2012-03-13T23:11:06Z", "author": "justin.lebar+bug@gmail.com", "text": "Comment on attachment 605506\nPatch v1\n\nI'll have a look at the permissions manager.", "tags": [], "bug_id": 668577, "time": "2012-03-13T23:11:06Z", "is_private": false, "creator": "justin.lebar+bug@gmail.com", "count": 15}, {"id": 6139177, "raw_text": "So for one thing, the permissions manager appears to do sync SQL on the main thread.  (UpdateDB is called with no indirection from AddInternal.)  I'm not sure I have my own permission to use it, now!  :)", "attachment_id": null, "text": "So for one thing, the permissions manager appears to do sync SQL on the main thread.  (UpdateDB is called with no indirection from AddInternal.)  I'm not sure I have my own permission to use it, now!  :)", "time": "2012-03-14T16:10:17Z", "tags": [], "bug_id": 668577, "creation_time": "2012-03-14T16:10:17Z", "author": "justin.lebar+bug@gmail.com", "count": 16, "is_private": false, "creator": "justin.lebar+bug@gmail.com"}, {"id": 6139521, "raw_text": "ATM, the \"don't bug me again\" button stops the site from requesting another handler for the same protocol.  But the site can still request a handler for a different protocol.\n\nI could expose a permission for \"don't allow this page to register custom protocol handlers\" in the permissions dialog, but it's unclear whether we'd want to expose \"don't allow this page to register mailto handlers\" in that dialog...", "attachment_id": null, "bug_id": 668577, "tags": [], "time": "2012-03-14T17:26:34Z", "text": "ATM, the \"don't bug me again\" button stops the site from requesting another handler for the same protocol.  But the site can still request a handler for a different protocol.\n\nI could expose a permission for \"don't allow this page to register custom protocol handlers\" in the permissions dialog, but it's unclear whether we'd want to expose \"don't allow this page to register mailto handlers\" in that dialog...", "author": "justin.lebar+bug@gmail.com", "creation_time": "2012-03-14T17:26:34Z", "count": 17, "creator": "justin.lebar+bug@gmail.com", "is_private": false}, {"author": "justin.lebar+bug@gmail.com", "creation_time": "2012-03-15T05:01:46Z", "time": "2012-03-15T05:01:46Z", "tags": [], "text": "Comment on attachment 605506\nPatch v1\n\nGavin, what do you think about using prefs, rather than the permission service here?  Using about:config for undoing the \"don't bug me again button\" is pretty bad, but it's a lot simpler than figuring out how to expose this in the permissions page (or somewhere else).", "creator": "justin.lebar+bug@gmail.com", "is_private": false, "id": 6141805, "attachment_id": 605506, "raw_text": "Gavin, what do you think about using prefs, rather than the permission service here?  Using about:config for undoing the \"don't bug me again button\" is pretty bad, but it's a lot simpler than figuring out how to expose this in the permissions page (or somewhere else).", "bug_id": 668577, "count": 18}, {"count": 19, "is_private": false, "creator": "gavin.sharp@gmail.com", "text": "(In reply to Justin Lebar [:jlebar] from comment #18)\n> Gavin, what do you think about using prefs, rather than the permission\n> service here?  Using about:config for undoing the \"don't bug me again\n> button\" is pretty bad, but it's a lot simpler than figuring out how to\n> expose this in the permissions page (or somewhere else).\n\nI think we should use the permission manager, because that's what it's meant for. about:config isn't really better than nothing in practice (vast majority of our users don't know anything about it), so we're going to need to figure out how to fix the UI properly anyways (e.g. add an entry to the page info tab, about:permissions, etc.)", "tags": [], "time": "2012-03-23T00:36:51Z", "bug_id": 668577, "creation_time": "2012-03-23T00:36:51Z", "author": "gavin.sharp@gmail.com", "raw_text": "(In reply to Justin Lebar [:jlebar] from comment #18)\n> Gavin, what do you think about using prefs, rather than the permission\n> service here?  Using about:config for undoing the \"don't bug me again\n> button\" is pretty bad, but it's a lot simpler than figuring out how to\n> expose this in the permissions page (or somewhere else).\n\nI think we should use the permission manager, because that's what it's meant for. about:config isn't really better than nothing in practice (vast majority of our users don't know anything about it), so we're going to need to figure out how to fix the UI properly anyways (e.g. add an entry to the page info tab, about:permissions, etc.)", "attachment_id": null, "id": 6164442}, {"count": 20, "bug_id": 668577, "raw_text": "> we're going to need to figure out how to fix the UI properly anyways (e.g. add an entry to the page \n> info tab, about:permissions, etc.)\n\nI need some help figuring this out.\n\nAt the moment, we expose a static list of permissions in the permissions manager.\n\nWould we want one permission \"Prompt about registering protocol handlers\" (*) in the permissions manager?  That makes sense from the perspective of the permissions manager, but not necessarily from the perspective of this feature -- when the user is prompted to add a gmail mailto handler and clicks \"no, thanks\", she's saying \"don't allow Gmail to bother me about mailto handlers,\" not \"I don't ever want to use gmail for any protocol handler.\"\n\nOn the other hand, having N different permissions in the permission manager, \"allow this site to prompt me about protocol X handlers\" seems sub-optimal.\n\n(*) But with more user-friendly words", "attachment_id": null, "id": 6164497, "is_private": false, "creator": "justin.lebar+bug@gmail.com", "text": "> we're going to need to figure out how to fix the UI properly anyways (e.g. add an entry to the page \n> info tab, about:permissions, etc.)\n\nI need some help figuring this out.\n\nAt the moment, we expose a static list of permissions in the permissions manager.\n\nWould we want one permission \"Prompt about registering protocol handlers\" (*) in the permissions manager?  That makes sense from the perspective of the permissions manager, but not necessarily from the perspective of this feature -- when the user is prompted to add a gmail mailto handler and clicks \"no, thanks\", she's saying \"don't allow Gmail to bother me about mailto handlers,\" not \"I don't ever want to use gmail for any protocol handler.\"\n\nOn the other hand, having N different permissions in the permission manager, \"allow this site to prompt me about protocol X handlers\" seems sub-optimal.\n\n(*) But with more user-friendly words", "tags": [], "time": "2012-03-23T01:02:44Z", "creation_time": "2012-03-23T01:02:44Z", "author": "justin.lebar+bug@gmail.com"}, {"text": "An alternative would be to do the following:\n\nWhen a page does registerProtocolHandler and the user clicks \"no\",\n\n * Leave the default handler for the protocol unchanged.\n * Add the requested handler to Firefox's list, but mark it internally as \"not requested.\"\n * If the origin has any other not requested handlers for the same protocol, delete them.\n\nThis way, when you go into the list of protocol handlers, you'll be able to see all the handlers you've been prompted about.  If you want to use some handler that you'd said \"no\" to, just select it there.\n\nThis is good because all the protocol handling logic is together in one pane.  But it's bad because protocols the user said \"no\" to are remembered here.  I'm not sure that this is a big problem, though -- we have to remember them somewhere.\n\nGuidance here would definitely be appreciated!", "tags": [], "bug_id": 668577, "time": "2012-03-24T20:23:32Z", "creation_time": "2012-03-24T20:23:32Z", "author": "justin.lebar+bug@gmail.com", "count": 21, "is_private": false, "creator": "justin.lebar+bug@gmail.com", "id": 6168717, "raw_text": "An alternative would be to do the following:\n\nWhen a page does registerProtocolHandler and the user clicks \"no\",\n\n * Leave the default handler for the protocol unchanged.\n * Add the requested handler to Firefox's list, but mark it internally as \"not requested.\"\n * If the origin has any other not requested handlers for the same protocol, delete them.\n\nThis way, when you go into the list of protocol handlers, you'll be able to see all the handlers you've been prompted about.  If you want to use some handler that you'd said \"no\" to, just select it there.\n\nThis is good because all the protocol handling logic is together in one pane.  But it's bad because protocols the user said \"no\" to are remembered here.  I'm not sure that this is a big problem, though -- we have to remember them somewhere.\n\nGuidance here would definitely be appreciated!", "attachment_id": null}, {"bug_id": 668577, "count": 22, "creation_time": "2012-05-29T21:23:04Z", "author": "joshjohnson72@gmail.com", "text": "Just checking to see if this is still on anyone's radar.  Justin asked for guidance, but it's unclear who that ask had gone out to.  I personally think his 'alternative' suggestion in Comment #21 seems to make the most sense, as it covers the requirements and presents the same list for remembering handlers as well as removing unwanted ones which makes sense from a user's perspective.", "tags": [], "time": "2012-05-29T21:23:04Z", "is_private": false, "creator": "joshjohnson72@gmail.com", "id": 6346495, "attachment_id": null, "raw_text": "Just checking to see if this is still on anyone's radar.  Justin asked for guidance, but it's unclear who that ask had gone out to.  I personally think his 'alternative' suggestion in Comment #21 seems to make the most sense, as it covers the requirements and presents the same list for remembering handlers as well as removing unwanted ones which makes sense from a user's perspective."}, {"count": 23, "creator": "gfritzsche@mozilla.com", "is_private": false, "bug_id": 668577, "tags": [], "time": "2014-10-17T13:59:44Z", "text": "This hasnt seen activity since 2012, resetting assignee.", "author": "gfritzsche@mozilla.com", "creation_time": "2014-10-17T13:59:44Z", "raw_text": "This hasnt seen activity since 2012, resetting assignee.", "attachment_id": null, "id": 9461954}, {"count": 24, "bug_id": 668577, "attachment_id": null, "raw_text": "", "id": 9461973, "creator": "gfritzsche@mozilla.com", "is_private": false, "author": "gfritzsche@mozilla.com", "creation_time": "2014-10-17T14:03:19Z", "time": "2014-10-17T14:03:19Z", "tags": [], "text": "*** Bug 998427 has been marked as a duplicate of this bug. ***"}, {"is_private": false, "creator": "gfritzsche@mozilla.com", "text": "If this had a UX concept, this might actually make a great mentored diamond bug.", "time": "2014-10-17T14:18:24Z", "tags": [], "creation_time": "2014-10-17T14:18:24Z", "author": "gfritzsche@mozilla.com", "raw_text": "If this had a UX concept, this might actually make a great mentored diamond bug.", "attachment_id": null, "id": 9462055, "count": 25, "bug_id": 668577}, {"id": 9465084, "raw_text": "This report is about not prompting when the protocol handler exists. When I tested, that was already the current behavior. Its STR specifically says,\n\n\"Call registerProtocolHandler - the user accepts and the protocol handler is registered.\"\n\nBug 998427 that you marked as a duplicate is about not prompting when the user declines to add the protocol handler. If you're going to repurpose this report to accomplish the same thing, please change its summary accordingly.", "attachment_id": null, "time": "2014-10-18T04:41:13Z", "bug_id": 668577, "tags": [], "text": "This report is about not prompting when the protocol handler exists. When I tested, that was already the current behavior. Its STR specifically says,\n\n\"Call registerProtocolHandler - the user accepts and the protocol handler is registered.\"\n\nBug 998427 that you marked as a duplicate is about not prompting when the user declines to add the protocol handler. If you're going to repurpose this report to accomplish the same thing, please change its summary accordingly.", "author": "gingerbread_man@live.com", "creation_time": "2014-10-18T04:41:13Z", "count": 26, "creator": "gingerbread_man@live.com", "is_private": false}, {"count": 27, "is_private": false, "creator": "gfritzsche@mozilla.com", "text": "(In reply to Gingerbread Man from comment #26)\n> Bug 998427 that you marked as a duplicate is about not prompting when the\n> user declines to add the protocol handler. If you're going to repurpose this\n> report to accomplish the same thing, please change its summary accordingly.\n\nThe second part of the title here was:\n> and should provide a \"don't bug me again\" button\n... which covers the concern from bug 998427, right?\n\nAdjusted title for the current behavior.", "time": "2014-10-19T13:48:32Z", "bug_id": 668577, "tags": [], "creation_time": "2014-10-19T13:48:32Z", "author": "gfritzsche@mozilla.com", "raw_text": "(In reply to Gingerbread Man from comment #26)\n> Bug 998427 that you marked as a duplicate is about not prompting when the\n> user declines to add the protocol handler. If you're going to repurpose this\n> report to accomplish the same thing, please change its summary accordingly.\n\nThe second part of the title here was:\n> and should provide a \"don't bug me again\" button\n... which covers the concern from bug 998427, right?\n\nAdjusted title for the current behavior.", "attachment_id": null, "id": 9466965}, {"raw_text": "", "attachment_id": null, "id": 11331693, "count": 28, "creator": "Virtual@teknik.io", "is_private": false, "tags": [], "time": "2016-04-16T10:22:45Z", "bug_id": 668577, "text": "*** Bug 1265146 has been marked as a duplicate of this bug. ***", "author": "Virtual@teknik.io", "creation_time": "2016-04-16T10:22:45Z"}, {"id": 11332389, "raw_text": "but how to remove this information .Nightly still ask my about it.\n\n\nAdd ProtoMaill as an application for mailto links", "attachment_id": null, "time": "2016-04-17T17:57:01Z", "tags": [], "bug_id": 668577, "text": "but how to remove this information .Nightly still ask my about it.\n\n\nAdd ProtoMaill as an application for mailto links", "author": "iiiiikolor@gmail.com.tld", "creation_time": "2016-04-17T17:57:01Z", "count": 29, "creator": "iiiiikolor@gmail.com.tld", "is_private": false}, {"creator": "mail@free5lot.com", "is_private": false, "count": 30, "author": "mail@free5lot.com", "creation_time": "2016-05-18T06:06:59Z", "tags": [], "bug_id": 668577, "time": "2016-05-18T06:06:59Z", "text": "Bug still exist (Year 2016, Firefox 45).\n\nWorkaround with external addon: https://support.mozilla.org/en-US/questions/994658\n\nStill an unsolved problem in Firefox.", "attachment_id": null, "raw_text": "Bug still exist (Year 2016, Firefox 45).\n\nWorkaround with external addon: https://support.mozilla.org/en-US/questions/994658\n\nStill an unsolved problem in Firefox.", "id": 11417467}, {"creation_time": "2016-09-28T17:30:11Z", "author": "josh@joshtriplett.org", "text": "I'm still interested in seeing a fix for this as well.\n\nOne thought on permission UI: if the user has refused the request, perhaps it'd make sense to have a single icon for \"denied permissions\" similar to the geolocation or camera permission icon, that shows \"you've denied this site from (doing X and Y)\", with a single button that leads to information and the ability to undo that denial\".  That icon *shouldn't* open its doorhanger by default; users would have to click on it explicitly.  That seems reasonably discoverable, while remaining unobtrusive when the user wants to leave the permissions denied permanently.", "time": "2016-09-28T17:30:11Z", "tags": [], "bug_id": 668577, "is_private": false, "creator": "josh@joshtriplett.org", "count": 31, "id": 11744261, "attachment_id": null, "raw_text": "I'm still interested in seeing a fix for this as well.\n\nOne thought on permission UI: if the user has refused the request, perhaps it'd make sense to have a single icon for \"denied permissions\" similar to the geolocation or camera permission icon, that shows \"you've denied this site from (doing X and Y)\", with a single button that leads to information and the ability to undo that denial\".  That icon *shouldn't* open its doorhanger by default; users would have to click on it explicitly.  That seems reasonably discoverable, while remaining unobtrusive when the user wants to leave the permissions denied permanently."}, {"bug_id": 668577, "count": 32, "time": "2019-05-29T10:59:35Z", "tags": [], "text": "To expand on Josh's proposal, some of us prefer not to have this functionality at all and would love to have an option to block all of these notifications.\n\nSimilarly to how there's a \"Block new requests asking to allow notifications\" for push notifications it would be great to have a \"Block new requests asking to set as default application\" or similar.", "author": "b37a@deadbeef.club", "creation_time": "2019-05-29T10:59:35Z", "creator": "b37a@deadbeef.club", "is_private": false, "id": 14146697, "raw_text": "To expand on Josh's proposal, some of us prefer not to have this functionality at all and would love to have an option to block all of these notifications.\n\nSimilarly to how there's a \"Block new requests asking to allow notifications\" for push notifications it would be great to have a \"Block new requests asking to set as default application\" or similar.", "attachment_id": null}, {"id": 14971051, "attachment_id": null, "raw_text": "", "author": "gingerbread_man@live.com", "creation_time": "2020-08-04T11:33:04Z", "tags": [], "bug_id": 668577, "time": "2020-08-04T11:33:04Z", "text": "*** Bug 1657015 has been marked as a duplicate of this bug. ***", "creator": "gingerbread_man@live.com", "is_private": false, "count": 33}, {"id": 15392363, "raw_text": "Since the last comment was two years ago, my web mail client is showing a banner every refresh apparently due to this issue, so it is still an issue.", "attachment_id": null, "time": "2021-05-03T18:47:58Z", "bug_id": 668577, "tags": [], "text": "Since the last comment was two years ago, my web mail client is showing a banner every refresh apparently due to this issue, so it is still an issue.", "author": "chris.hamons@gmail.com", "creation_time": "2021-05-03T18:47:58Z", "count": 34, "creator": "chris.hamons@gmail.com", "is_private": false}, {"is_private": false, "creator": "kierenj@gmail.com", "creation_time": "2021-05-27T08:00:17Z", "author": "kierenj@gmail.com", "text": "Indeed, something changed with Office 365 recently it seems - every single time I open webmail, I'm prompted. I don't want it. My intuition is that all other similar prompts in Firefox have a 'Block' / 'Don't ask again' option. Is the same possible here?", "time": "2021-05-27T08:00:17Z", "tags": [], "attachment_id": null, "raw_text": "Indeed, something changed with Office 365 recently it seems - every single time I open webmail, I'm prompted. I don't want it. My intuition is that all other similar prompts in Firefox have a 'Block' / 'Don't ask again' option. Is the same possible here?", "id": 15422640, "count": 35, "bug_id": 668577}, {"id": 15546100, "attachment_id": null, "raw_text": "Is there a way to disable this feature completely? It is nothing but useless spam anyway.", "creation_time": "2021-08-29T11:36:25Z", "author": "bugsgalore@protonmail.com", "text": "Is there a way to disable this feature completely? It is nothing but useless spam anyway.", "tags": ["offtopic"], "time": "2021-08-29T11:36:25Z", "bug_id": 668577, "is_private": false, "creator": "bugsgalore@protonmail.com", "count": 36}, {"count": 37, "bug_id": 668577, "raw_text": "I was annoyed enough to write an addon: https://addons.mozilla.org/en-US/firefox/addon/app-notification-no-more/\nIt's four lines of javascript but could be less: https://github.com/adioe3/app-notif-no-more/blob/main/main.js", "attachment_id": null, "id": 15548674, "is_private": false, "creator": "armin@besirovic.com", "text": "I was annoyed enough to write an addon: https://addons.mozilla.org/en-US/firefox/addon/app-notification-no-more/\nIt's four lines of javascript but could be less: https://github.com/adioe3/app-notif-no-more/blob/main/main.js", "time": "2021-08-30T17:56:07Z", "tags": ["offtopic"], "creation_time": "2021-08-30T17:56:07Z", "author": "armin@besirovic.com"}, {"count": 38, "bug_id": 668577, "is_private": false, "creator": "annevk@annevk.nl", "creation_time": "2021-08-31T12:41:38Z", "author": "annevk@annevk.nl", "text": "*** Bug 1728275 has been marked as a duplicate of this bug. ***", "tags": [], "time": "2021-08-31T12:41:38Z", "attachment_id": null, "raw_text": "", "id": 15549514}, {"id": 15550732, "attachment_id": null, "raw_text": "It's not clear why these bugs keep getting closed and/or marked as duplicates.  \n\nBut I wish to add my voice to others and report that this problem still exists, and is showing up with increasing frequency.  I use Webmail sites including PM, GMail, Outlook, and others, and I do *NOT* want to \"add any of them as a protocol handler.\"   But my only choice is \"ADD\", and if I hit the \"X\" on the far right edge of the popup (and that's, really, what this is, an annoying, invasive popup that cannot be blocked), I get reprompted the next time I enter the site.\n\nThis bug is present, and relevant, and highly annoying. Edge, Chrome, and others ALL have a \"Do Not Ask Again\" option - Why doesn't Firefox???", "creation_time": "2021-09-01T01:44:59Z", "author": "glenbarney@gmail.com", "text": "It's not clear why these bugs keep getting closed and/or marked as duplicates.  \n\nBut I wish to add my voice to others and report that this problem still exists, and is showing up with increasing frequency.  I use Webmail sites including PM, GMail, Outlook, and others, and I do *NOT* want to \"add any of them as a protocol handler.\"   But my only choice is \"ADD\", and if I hit the \"X\" on the far right edge of the popup (and that's, really, what this is, an annoying, invasive popup that cannot be blocked), I get reprompted the next time I enter the site.\n\nThis bug is present, and relevant, and highly annoying. Edge, Chrome, and others ALL have a \"Do Not Ask Again\" option - Why doesn't Firefox???", "time": "2021-09-01T01:44:59Z", "bug_id": 668577, "tags": ["metoo"], "is_private": false, "creator": "glenbarney@gmail.com", "count": 39}, {"id": 15553201, "raw_text": "So after A DECADE this has not been fixed, and now countless millions of Outlook users are presumably getting a banner they can't dismiss unless they allow Web Outlook to handle their mailtos!  I suggest upping the priority of this.\n\nA workaround is to go to about:config and use the Toggle button to set network.protocol-handler.external.mailto to false (though of course this prevents all external mailto functionality).", "attachment_id": null, "text": "So after A DECADE this has not been fixed, and now countless millions of Outlook users are presumably getting a banner they can't dismiss unless they allow Web Outlook to handle their mailtos!  I suggest upping the priority of this.\n\nA workaround is to go to about:config and use the Toggle button to set network.protocol-handler.external.mailto to false (though of course this prevents all external mailto functionality).", "time": "2021-09-02T17:19:13Z", "bug_id": 668577, "tags": ["offtopic"], "creation_time": "2021-09-02T17:19:13Z", "author": "beneficentone@gmail.com", "count": 40, "is_private": false, "creator": "beneficentone@gmail.com"}, {"creator": "gingerbread_man@live.com", "is_private": false, "count": 41, "author": "gingerbread_man@live.com", "creation_time": "2021-09-03T13:51:22Z", "tags": [], "time": "2021-09-03T13:51:22Z", "bug_id": 668577, "text": "*** Bug 1728923 has been marked as a duplicate of this bug. ***", "attachment_id": null, "raw_text": "", "id": 15554365}, {"id": 15580867, "attachment_id": null, "raw_text": "10 years old issue. Workaround:\n1. open new tab page address: about:config\n2. find variable: network.protocol-handler.external.mailto\n3. double-click it to set to false", "author": "adm@prnet.info", "creation_time": "2021-09-22T10:48:08Z", "bug_id": 668577, "tags": ["offtopic"], "time": "2021-09-22T10:48:08Z", "text": "10 years old issue. Workaround:\n1. open new tab page address: about:config\n2. find variable: network.protocol-handler.external.mailto\n3. double-click it to set to false", "creator": "adm@prnet.info", "is_private": false, "count": 42}]}}}