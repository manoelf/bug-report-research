{"comments": {}, "bugs": {"687140": {"comments": [{"creator": "tilman@snafu.de", "creation_time": "2011-09-16T19:31:52Z", "time": "2011-09-16T19:31:52Z", "author": "tilman@snafu.de", "is_private": false, "id": 5720657, "count": 0, "bug_id": 687140, "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\nBuild ID: 20110902133214\n\nSteps to reproduce:\n\nComposing a message and saving from time to time\n\n\nActual results:\n\nPing! and box on the top right of the screen, announcing a new message.\n\nI believe this has started with 6 or 7, that messages saved in the Drafts folder are considered to be \"newly arrived\".\n\n\nExpected results:\n\nnothing.", "tags": [], "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\nBuild ID: 20110902133214\n\nSteps to reproduce:\n\nComposing a message and saving from time to time\n\n\nActual results:\n\nPing! and box on the top right of the screen, announcing a new message.\n\nI believe this has started with 6 or 7, that messages saved in the Drafts folder are considered to be \"newly arrived\".\n\n\nExpected results:\n\nnothing."}, {"id": 5766398, "count": 1, "is_private": false, "author": "ludovic@hirlimann.net", "time": "2011-10-07T14:19:46Z", "creation_time": "2011-10-07T14:19:46Z", "creator": "ludovic@hirlimann.net", "raw_text": "This should have been fixed by bug 661239.\n\nAnything in Tools -> Error console when this happens ?\n\nDoes this also happens if your run Thunderbird in -safe-mode (see http://support.mozillamessaging.com/en-US/kb/Safe-Mode) ?", "attachment_id": null, "text": "This should have been fixed by bug 661239.\n\nAnything in Tools -> Error console when this happens ?\n\nDoes this also happens if your run Thunderbird in -safe-mode (see http://support.mozillamessaging.com/en-US/kb/Safe-Mode) ?", "bug_id": 687140, "tags": []}, {"count": 2, "id": 5766417, "is_private": false, "time": "2011-10-07T14:26:09Z", "creation_time": "2011-10-07T14:26:09Z", "creator": "mconley@mozilla.com", "author": "mconley@mozilla.com", "attachment_id": null, "raw_text": "Ludo:\n\nHm - my patch for bug 661239 only affects the Linux version of Thunderbird.  Unfortunately, due to the ternary nature of our notification backends, it didn't propagate to the other two platforms.\n\nI do believe Irving was going to be looking at this notification code - he might be a good candidate to tackle this one.\n\nIf he doesn't want it, I can take it.\n\n-Mike", "tags": [], "bug_id": 687140, "text": "Ludo:\n\nHm - my patch for bug 661239 only affects the Linux version of Thunderbird.  Unfortunately, due to the ternary nature of our notification backends, it didn't propagate to the other two platforms.\n\nI do believe Irving was going to be looking at this notification code - he might be a good candidate to tackle this one.\n\nIf he doesn't want it, I can take it.\n\n-Mike"}, {"author": "tilman@snafu.de", "creation_time": "2011-10-09T16:15:29Z", "time": "2011-10-09T16:15:29Z", "creator": "tilman@snafu.de", "id": 5770114, "count": 3, "is_private": false, "text": "It didn't happen in safe mode, but I haven't used that one long enough. The bug does not happen the whole day, and I haven't found out a sure way to reproduce it.\n\nThe error console does not have timestamps, so I can't tell whether an error entry is related to the effect.\n\nPS: Apparently I sent this bug twice, see Bug #690293. That one mentions that I use the german version where the drafts folder is named differently (Entw\u00fcrfe)", "bug_id": 687140, "tags": [], "raw_text": "It didn't happen in safe mode, but I haven't used that one long enough. The bug does not happen the whole day, and I haven't found out a sure way to reproduce it.\n\nThe error console does not have timestamps, so I can't tell whether an error entry is related to the effect.\n\nPS: Apparently I sent this bug twice, see Bug #690293. That one mentions that I use the german version where the drafts folder is named differently (Entw\u00fcrfe)", "attachment_id": null}, {"author": "m-wada@usa.com", "creator": "m-wada@usa.com", "creation_time": "2011-10-10T17:08:41Z", "time": "2011-10-10T17:08:41Z", "is_private": false, "id": 5771834, "count": 4, "text": "*** Bug 690293 has been marked as a duplicate of this bug. ***", "bug_id": 687140, "tags": [], "raw_text": "", "attachment_id": null}, {"is_private": false, "count": 5, "id": 5771870, "creator": "m-wada@usa.com", "time": "2011-10-10T17:20:44Z", "creation_time": "2011-10-10T17:20:44Z", "author": "m-wada@usa.com", "attachment_id": null, "raw_text": "Is your complaint same as bug 673400?", "text": "Is your complaint same as bug 673400?", "bug_id": 687140, "tags": []}, {"count": 6, "id": 5771947, "is_private": false, "author": "tilman@snafu.de", "creation_time": "2011-10-10T17:40:41Z", "time": "2011-10-10T17:40:41Z", "creator": "tilman@snafu.de", "raw_text": "(In reply to WADA from comment #5)\n> Is your complaint same as bug 673400?\n\nIts not a duplicate, but clearly related. I don't mind that TB saves several versions in the drafts folder. But maybe saving them as \"unread\" might be the cause of the effect I am complaining about.", "attachment_id": null, "bug_id": 687140, "text": "(In reply to WADA from comment #5)\n> Is your complaint same as bug 673400?\n\nIts not a duplicate, but clearly related. I don't mind that TB saves several versions in the drafts folder. But maybe saving them as \"unread\" might be the cause of the effect I am complaining about.", "tags": []}, {"is_private": false, "id": 5773617, "count": 7, "creator": "m-wada@usa.com", "creation_time": "2011-10-11T04:31:29Z", "time": "2011-10-11T04:31:29Z", "author": "m-wada@usa.com", "attachment_id": null, "raw_text": "Additional question.\n  Saved drafts will appear in [Gmail]/All Mail too, if Gmail IMAP.\n  Do you enable automatic new mail check for [Gmail]/All Mail, even Smart Phone?", "tags": [], "text": "Additional question.\n  Saved drafts will appear in [Gmail]/All Mail too, if Gmail IMAP.\n  Do you enable automatic new mail check for [Gmail]/All Mail, even Smart Phone?", "bug_id": 687140}, {"is_private": false, "id": 5784997, "count": 8, "creator": "filbert04-comm@yahoo.com.au", "creation_time": "2011-10-16T04:18:24Z", "time": "2011-10-16T04:18:24Z", "author": "filbert04-comm@yahoo.com.au", "attachment_id": null, "raw_text": "> But maybe saving them as \"unread\" might be\n> the cause of the effect I am complaining about.\n\nI'm seeing the same thing (7.0.1, Windows 7, US) and suspected the same cause. \n\nI will get notification windows for new mail when there is no new mail, but just a draft message open that I am working on. The message is saved to a Drafts folder on my IMAP server. That folder is not a subfolder of the Inbox.", "bug_id": 687140, "text": "> But maybe saving them as \"unread\" might be\n> the cause of the effect I am complaining about.\n\nI'm seeing the same thing (7.0.1, Windows 7, US) and suspected the same cause. \n\nI will get notification windows for new mail when there is no new mail, but just a draft message open that I am working on. The message is saved to a Drafts folder on my IMAP server. That folder is not a subfolder of the Inbox.", "tags": []}, {"creator": "spam2@splicedigital.com", "creation_time": "2011-11-03T16:50:13Z", "time": "2011-11-03T16:50:13Z", "author": "spam2@splicedigital.com", "is_private": false, "id": 5823858, "count": 9, "tags": [], "text": "Thought I would chime in here since I've starting having this problem as SOON as I upgraded to one of the major versions (8 or 9 I think). Currently on Bleeding-Edge path, with 9.0a2, Windows 7 64, using MailEnable IMAP server.\n\n1. Start typing a long message.\n\n2. Within 5-minutes (my draft save time), I get a \"new email\" notification for the draft, and I see an UNREAD draft in the drafts folder.\n\n3. Keep typing for another 5-minutes and another one is created. This happens until I send the message (I don't think the drafts get deleted after send).\n\n4. Even after I've left the computer for an hour (no new composition), if I get a new legitimate email, the \"new email\" notification shows all of my unsaved drafts! So it looks like I have TONS of new email when in reality, there is only one.\n\n5. When I finally do get around to looking in the drafts folder, I see multiple copies of the same draft (one for each 5 minute save). So if I have been working on an email for 30 minutes, I will see 6 identically-titled UNREAD drafts for that email. Should they not overwrite eachother and keep ONE draft per email?\n\nVery Very Very annoying. I would be happy to help run a test build if the Moz team needs a hand. \n\n-Brian", "bug_id": 687140, "attachment_id": null, "raw_text": "Thought I would chime in here since I've starting having this problem as SOON as I upgraded to one of the major versions (8 or 9 I think). Currently on Bleeding-Edge path, with 9.0a2, Windows 7 64, using MailEnable IMAP server.\n\n1. Start typing a long message.\n\n2. Within 5-minutes (my draft save time), I get a \"new email\" notification for the draft, and I see an UNREAD draft in the drafts folder.\n\n3. Keep typing for another 5-minutes and another one is created. This happens until I send the message (I don't think the drafts get deleted after send).\n\n4. Even after I've left the computer for an hour (no new composition), if I get a new legitimate email, the \"new email\" notification shows all of my unsaved drafts! So it looks like I have TONS of new email when in reality, there is only one.\n\n5. When I finally do get around to looking in the drafts folder, I see multiple copies of the same draft (one for each 5 minute save). So if I have been working on an email for 30 minutes, I will see 6 identically-titled UNREAD drafts for that email. Should they not overwrite eachother and keep ONE draft per email?\n\nVery Very Very annoying. I would be happy to help run a test build if the Moz team needs a hand. \n\n-Brian"}, {"count": 10, "id": 5935015, "is_private": false, "time": "2011-12-22T13:53:24Z", "creation_time": "2011-12-22T13:53:24Z", "creator": "joost@ruijsch.com", "author": "joost@ruijsch.com", "attachment_id": null, "raw_text": "I can confirm this, it is very annoying!\n\nWhen composing new message, after a few minutes it is auto-saved in drafts and new-message popup appears.\n\nIt is marked as new message in bold BLUE with a little star before the subject. But when I mark it read and unread again then it is bold BLACK as usual.\n\nThe problem started when I upgraded from thunderbird 3.6x to 8.0.\n\nI am using courier-IMAP on the server side. It is one of several IMAP servers that presents all folders as subfolders of INBOX.\nTo see the folders in a normal flat structure, you set \"IMAP server directory\" to \"INBOX.\" (with trailing dot, but without quotes) in advanced IMAP server settings.\n\nI do have \"mail.check_all_imap_folders_for_new=true\" but that always used to work fine.\n\nIf anyone wants to debug this I can provide a test account if needed.\n\nJoost.", "tags": [], "text": "I can confirm this, it is very annoying!\n\nWhen composing new message, after a few minutes it is auto-saved in drafts and new-message popup appears.\n\nIt is marked as new message in bold BLUE with a little star before the subject. But when I mark it read and unread again then it is bold BLACK as usual.\n\nThe problem started when I upgraded from thunderbird 3.6x to 8.0.\n\nI am using courier-IMAP on the server side. It is one of several IMAP servers that presents all folders as subfolders of INBOX.\nTo see the folders in a normal flat structure, you set \"IMAP server directory\" to \"INBOX.\" (with trailing dot, but without quotes) in advanced IMAP server settings.\n\nI do have \"mail.check_all_imap_folders_for_new=true\" but that always used to work fine.\n\nIf anyone wants to debug this I can provide a test account if needed.\n\nJoost.", "bug_id": 687140}, {"bug_id": 687140, "text": "I can confirm this, it is very annoying, too\n\nCan anyone set the status to confirmed, please? The bug itself is anoying enough to me, but since I read this [1], i'm sure this is severe!\n\n[1] Bug #673400, https://bugzilla.mozilla.org/show_bug.cgi?id=673400", "tags": [], "attachment_id": null, "raw_text": "I can confirm this, it is very annoying, too\n\nCan anyone set the status to confirmed, please? The bug itself is anoying enough to me, but since I read this [1], i'm sure this is severe!\n\n[1] Bug #673400, https://bugzilla.mozilla.org/show_bug.cgi?id=673400", "creator": "leitl.christoph@gmail.com", "creation_time": "2012-01-09T18:49:45Z", "time": "2012-01-09T18:49:45Z", "author": "leitl.christoph@gmail.com", "is_private": false, "count": 11, "id": 5965929}, {"time": "2012-01-11T12:59:22Z", "creation_time": "2012-01-11T12:59:22Z", "creator": "jpstotz@gmx.de", "text": "From my point of view the simplest solution would be an preference option for specifying if draft messages should be saved with status read or unread into the draft folder. \n\nMay be an boolean option named \"mail.compose.autosave_as_unread\" can be implemented?\n\nAs new mails with status \"read\" are not announced, this should provide an easy way for fixing this annoying problem.", "bug_id": 687140, "tags": [], "author": "jpstotz@gmx.de", "id": 5971741, "count": 12, "is_private": false, "attachment_id": null, "raw_text": "From my point of view the simplest solution would be an preference option for specifying if draft messages should be saved with status read or unread into the draft folder. \n\nMay be an boolean option named \"mail.compose.autosave_as_unread\" can be implemented?\n\nAs new mails with status \"read\" are not announced, this should provide an easy way for fixing this annoying problem."}, {"text": "I vote for Jan Peter Stotz's suggestion. \n\nAlso, what the heck are the devs working on where we can have an update every other day, but this issue drags for months...\n\n-Brian", "bug_id": 687140, "tags": [], "attachment_id": null, "raw_text": "I vote for Jan Peter Stotz's suggestion. \n\nAlso, what the heck are the devs working on where we can have an update every other day, but this issue drags for months...\n\n-Brian", "creator": "spam2@splicedigital.com", "time": "2012-01-11T18:02:35Z", "creation_time": "2012-01-11T18:02:35Z", "author": "spam2@splicedigital.com", "is_private": false, "id": 5972521, "count": 13}, {"id": 5973348, "count": 14, "is_private": false, "author": "leitl.christoph@gmail.com", "time": "2012-01-11T21:29:01Z", "creation_time": "2012-01-11T21:29:01Z", "creator": "leitl.christoph@gmail.com", "raw_text": "Hi,\n\nAs far as I can see, it is just a matter of adding a few lines:\nhttps://bugzilla.mozilla.org/attachment.cgi?id=537638&action=diff\n\nCan anyone take care of it, please?", "attachment_id": null, "text": "Hi,\n\nAs far as I can see, it is just a matter of adding a few lines:\nhttps://bugzilla.mozilla.org/attachment.cgi?id=537638&action=diff\n\nCan anyone take care of it, please?", "bug_id": 687140, "tags": []}, {"author": "irving@cfrq.net", "creator": "irving@cfrq.net", "time": "2012-01-11T21:42:28Z", "creation_time": "2012-01-11T21:42:28Z", "is_private": false, "count": 15, "id": 5973407, "bug_id": 687140, "text": "Christoph, thanks for the test case and draft patch. We're working on a single implementation of new mail notification for all platforms right now in bug 715799, so rather than patch the existing Unix-specific code I'll include an equivalent fix in the shared version.", "tags": [], "raw_text": "Christoph, thanks for the test case and draft patch. We're working on a single implementation of new mail notification for all platforms right now in bug 715799, so rather than patch the existing Unix-specific code I'll include an equivalent fix in the shared version.", "attachment_id": null}, {"tags": [], "text": "Thanks Irving! You're our hero!\n\n-Brian", "bug_id": 687140, "author": "spam2@splicedigital.com", "creation_time": "2012-01-11T22:26:46Z", "time": "2012-01-11T22:26:46Z", "creator": "spam2@splicedigital.com", "raw_text": "Thanks Irving! You're our hero!\n\n-Brian", "id": 5973599, "count": 16, "is_private": false, "attachment_id": null}, {"is_private": false, "count": 17, "id": 5974801, "creator": "joost@ruijsch.com", "creation_time": "2012-01-12T09:53:54Z", "time": "2012-01-12T09:53:54Z", "author": "joost@ruijsch.com", "attachment_id": null, "raw_text": "IMHO, notification is not the problem here. Tilman is right in comment #6.\n\nIf drafts are saved as unread, then it makes sense to identify them as a new unread message, because it is new and marked unread. Making exceptions in the notification code is only a workaround.\n\nI mean, what's the point of saving a draft as unread? If you just typed the message does that mean you have not read it and have no idea what's in there?\n\nI prefer just to revert to saving drafts as read, like it has been working fine for many years. Why break something that works and then implement a workaround for it elsewhere?\n\nIn case there is some scenario where people prefer saving drafts as unread, then implement Jan Peter Stotz's (comment #12) suggestion but make the option default to false.\n\nPS: Downgrade to 3.1.17 on windows worked fine.", "tags": [], "bug_id": 687140, "text": "IMHO, notification is not the problem here. Tilman is right in comment #6.\n\nIf drafts are saved as unread, then it makes sense to identify them as a new unread message, because it is new and marked unread. Making exceptions in the notification code is only a workaround.\n\nI mean, what's the point of saving a draft as unread? If you just typed the message does that mean you have not read it and have no idea what's in there?\n\nI prefer just to revert to saving drafts as read, like it has been working fine for many years. Why break something that works and then implement a workaround for it elsewhere?\n\nIn case there is some scenario where people prefer saving drafts as unread, then implement Jan Peter Stotz's (comment #12) suggestion but make the option default to false.\n\nPS: Downgrade to 3.1.17 on windows worked fine."}, {"attachment_id": null, "raw_text": "A big +1 for Joost's comment #17. Changing the notification behavior is just a workaround and does not fix the actual problem, which is also exposed when using the same GMail account with other systems (e.g. Android's GMail client) concurrently, see Bug #673400.\n\nI also vote for Jan Peter Stotz's suggestion, but perhaps on a per account level and not globally. This could then automatically be set for GMail accounts.", "text": "A big +1 for Joost's comment #17. Changing the notification behavior is just a workaround and does not fix the actual problem, which is also exposed when using the same GMail account with other systems (e.g. Android's GMail client) concurrently, see Bug #673400.\n\nI also vote for Jan Peter Stotz's suggestion, but perhaps on a per account level and not globally. This could then automatically be set for GMail accounts.", "bug_id": 687140, "tags": [], "is_private": false, "count": 18, "id": 5974892, "creator": "tvanlessen@gmail.com", "creation_time": "2012-01-12T11:19:47Z", "time": "2012-01-12T11:19:47Z", "author": "tvanlessen@gmail.com"}, {"count": 19, "id": 5975284, "is_private": false, "creation_time": "2012-01-12T15:31:27Z", "time": "2012-01-12T15:31:27Z", "creator": "spam2@splicedigital.com", "author": "spam2@splicedigital.com", "attachment_id": null, "raw_text": "i agree that drafts should be saved as unread. Per account would be fine.", "text": "i agree that drafts should be saved as unread. Per account would be fine.", "bug_id": 687140, "tags": []}, {"tags": [], "bug_id": 687140, "text": "Brian, perhaps you meant \".. drafts should be saved as READ\"? Saving as UNread causes the notification problem.", "attachment_id": null, "raw_text": "Brian, perhaps you meant \".. drafts should be saved as READ\"? Saving as UNread causes the notification problem.", "creator": "joost@ruijsch.com", "time": "2012-01-12T16:35:14Z", "creation_time": "2012-01-12T16:35:14Z", "author": "joost@ruijsch.com", "is_private": false, "id": 5975488, "count": 20}, {"bug_id": 687140, "text": "Oups. My bad.  Yes, they should be saved as READ, and not generate a notification.\n\n:)\n\n-Brian", "tags": [], "attachment_id": null, "raw_text": "Oups. My bad.  Yes, they should be saved as READ, and not generate a notification.\n\n:)\n\n-Brian", "creator": "spam2@splicedigital.com", "creation_time": "2012-01-12T18:58:53Z", "time": "2012-01-12T18:58:53Z", "author": "spam2@splicedigital.com", "is_private": false, "id": 5976016, "count": 21}, {"author": "tvanlessen@gmail.com", "creator": "tvanlessen@gmail.com", "creation_time": "2012-01-12T20:27:24Z", "time": "2012-01-12T20:27:24Z", "is_private": false, "id": 5976394, "count": 22, "tags": [], "text": "I tried to implement that and created a patch. It's attached to Bug 673400, comment 15. I don't have a dev environment handy, so it is completely untested. Would be great if somebody could have a look.", "bug_id": 687140, "raw_text": "I tried to implement that and created a patch. It's attached to Bug 673400, comment 15. I don't have a dev environment handy, so it is completely untested. Would be great if somebody could have a look.", "attachment_id": null}, {"time": "2012-01-13T09:36:27Z", "creation_time": "2012-01-13T09:36:27Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com", "id": 5977998, "count": 23, "is_private": false, "tags": [], "bug_id": 687140, "text": "This bug looks initially for request of \"don't show alert for draft\"(see comment #1, comment #6), and doesn't look to have requested \"change back to 'store \\Seen flag for draft' in order not to show new mail alert for draft\" explicitly.\nAs written in comment #22, \"store \\Seen for draft\" part is already being processed as \"configurable Read/Unread status of draft\" in Bug 673400.\nSo adding \"don't show alert for draft\" part to bug summary of this bug, to avoid misleading and confusion.\n\nBug 676249 comment #0 is crispy and is sufficient to know what bug generated problem, what caused problem, how can the problem be resolved, and clearly refers to both \"don't show alert for draft\" and \"store \\Seen for draft\" since initial, So I've re-opened that bug(refers to two solutions, so meta bug like one).\nPlease watch bug 676249 if you are interested in both solutions, and please dup future bugs to one of next;\n> bug 676249 : if generic complaint of \"draft is Unread, new mail alert is shown for draft\"\n> bug 673400 : if request of \"store \\Seen for draft\" (mark as Read on draft save)\n> bug 687140 (this bug) :\n>              if request of \"don't show alert for draft\"\n>              fixed by bug 661239 (but Linux only)\n>              needs fix of bug 715799\nBy the way, there is no need of additional \"me too\" posting in above bugs.", "attachment_id": null, "raw_text": "This bug looks initially for request of \"don't show alert for draft\"(see comment #1, comment #6), and doesn't look to have requested \"change back to 'store \\Seen flag for draft' in order not to show new mail alert for draft\" explicitly.\nAs written in comment #22, \"store \\Seen for draft\" part is already being processed as \"configurable Read/Unread status of draft\" in Bug 673400.\nSo adding \"don't show alert for draft\" part to bug summary of this bug, to avoid misleading and confusion.\n\nBug 676249 comment #0 is crispy and is sufficient to know what bug generated problem, what caused problem, how can the problem be resolved, and clearly refers to both \"don't show alert for draft\" and \"store \\Seen for draft\" since initial, So I've re-opened that bug(refers to two solutions, so meta bug like one).\nPlease watch bug 676249 if you are interested in both solutions, and please dup future bugs to one of next;\n> bug 676249 : if generic complaint of \"draft is Unread, new mail alert is shown for draft\"\n> bug 673400 : if request of \"store \\Seen for draft\" (mark as Read on draft save)\n> bug 687140 (this bug) :\n>              if request of \"don't show alert for draft\"\n>              fixed by bug 661239 (but Linux only)\n>              needs fix of bug 715799\nBy the way, there is no need of additional \"me too\" posting in above bugs."}, {"tags": [], "bug_id": 687140, "text": "Change by bug 470746 is intentional, which is based on reasonable request of bug 470746.\n- Status of \"Unread\" for newly saved draft mail\n- New mail notification or indication of the newly saved draft mail\n\nTo bug opener and problem reporterd in this bug:\n  What is essential difference of this bug from bug 676249?\n  What is actual problem of this bug?\n  What is your actual request? \n\nWhat is actual problem in \"newly saved draft mail in new mail alert\"?\nWhat is bad or wrong in \"newly saved draft mail in new mail alert\"?\nSimply \"newly saved draft mail in new mail alert\" is annoyng for you?\nSimply claiming \"newly saved draft mail must have Read status\"?\n\nIf \"Read status of newly saved draft mail\" is your request, it's dup of bug 673400, isn't it?\n\nWhat is actual trigger of \"new mail alert\" in your case?\nNewly saved draft mail by Tb who showed the new mail alert?\nNewly saved draft mail by other Tb?\nOr new mail arrived at Inbox?\n\nIf trigger of new mail alert is \"new mail in Inbox\" istead of \"newly saved draft mail in Drafts\"(which is Unread, then is assigned 'new mail' state),\nit's problem described by Bug 809513, isn't it? (see bug 809513 comment #4, please)", "attachment_id": null, "raw_text": "Change by bug 470746 is intentional, which is based on reasonable request of bug 470746.\n- Status of \"Unread\" for newly saved draft mail\n- New mail notification or indication of the newly saved draft mail\n\nTo bug opener and problem reporterd in this bug:\n  What is essential difference of this bug from bug 676249?\n  What is actual problem of this bug?\n  What is your actual request? \n\nWhat is actual problem in \"newly saved draft mail in new mail alert\"?\nWhat is bad or wrong in \"newly saved draft mail in new mail alert\"?\nSimply \"newly saved draft mail in new mail alert\" is annoyng for you?\nSimply claiming \"newly saved draft mail must have Read status\"?\n\nIf \"Read status of newly saved draft mail\" is your request, it's dup of bug 673400, isn't it?\n\nWhat is actual trigger of \"new mail alert\" in your case?\nNewly saved draft mail by Tb who showed the new mail alert?\nNewly saved draft mail by other Tb?\nOr new mail arrived at Inbox?\n\nIf trigger of new mail alert is \"new mail in Inbox\" istead of \"newly saved draft mail in Drafts\"(which is Unread, then is assigned 'new mail' state),\nit's problem described by Bug 809513, isn't it? (see bug 809513 comment #4, please)", "creation_time": "2013-07-25T02:39:25Z", "time": "2013-07-25T02:39:25Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com", "id": 7674517, "count": 24, "is_private": false}, {"count": 25, "id": 7675430, "is_private": false, "author": "tilman@snafu.de", "time": "2013-07-25T09:44:27Z", "creation_time": "2013-07-25T09:44:27Z", "creator": "tilman@snafu.de", "raw_text": "(In reply to WADA from comment #24)\n> Change by bug 470746 is intentional, which is based on reasonable request of\n> bug 470746.\n> - Status of \"Unread\" for newly saved draft mail\n> - New mail notification or indication of the newly saved draft mail\n> \n> To bug opener and problem reporterd in this bug:\n>   What is essential difference of this bug from bug 676249?\nNone at all\n\n>   What is actual problem of this bug?\nThat I get a \"new mail alert\" because of a draft\n\n>   What is your actual request? \nThat I don't get a \"new mail alert\" because of a draft, or that it be configurable.\n\n> What is actual problem in \"newly saved draft mail in new mail alert\"?\nThat I get a \"new mail alert\" because of a draft\n\n> What is bad or wrong in \"newly saved draft mail in new mail alert\"?\nThat it isn't a new mail\n\n> Simply \"newly saved draft mail in new mail alert\" is annoyng for you?\nYes\n\n> Simply claiming \"newly saved draft mail must have Read status\"?\nI don't care whether it has read status. I don't want it to produce a new mail alert.\n\n> If \"Read status of newly saved draft mail\" is your request, it's dup of bug\n> 673400, isn't it?\nYou asked this on 2011-10-10 10:20:44, I answered on 2011-10-10 10:40:41. (No)\n\n> What is actual trigger of \"new mail alert\" in your case?\nWriting a new mail\n\n> Newly saved draft mail by Tb who showed the new mail alert?\nYes\n\n> Newly saved draft mail by other Tb?\nI don't know what \"other Tb\" is. I run only one instance of Tb.\n\n> Or new mail arrived at Inbox?\nMaybe\n\n> If trigger of new mail alert is \"new mail in Inbox\" istead of \"newly saved\n> draft mail in Drafts\"(which is Unread, then is assigned 'new mail' state),\n> it's problem described by Bug 809513, isn't it? (see bug 809513 comment #4,\n> please)\n\nMaybe. I get new mails very often, so I can't tell whether the annoying alert comes all the time or only when a new mail comes.", "attachment_id": null, "tags": [], "text": "(In reply to WADA from comment #24)\n> Change by bug 470746 is intentional, which is based on reasonable request of\n> bug 470746.\n> - Status of \"Unread\" for newly saved draft mail\n> - New mail notification or indication of the newly saved draft mail\n> \n> To bug opener and problem reporterd in this bug:\n>   What is essential difference of this bug from bug 676249?\nNone at all\n\n>   What is actual problem of this bug?\nThat I get a \"new mail alert\" because of a draft\n\n>   What is your actual request? \nThat I don't get a \"new mail alert\" because of a draft, or that it be configurable.\n\n> What is actual problem in \"newly saved draft mail in new mail alert\"?\nThat I get a \"new mail alert\" because of a draft\n\n> What is bad or wrong in \"newly saved draft mail in new mail alert\"?\nThat it isn't a new mail\n\n> Simply \"newly saved draft mail in new mail alert\" is annoyng for you?\nYes\n\n> Simply claiming \"newly saved draft mail must have Read status\"?\nI don't care whether it has read status. I don't want it to produce a new mail alert.\n\n> If \"Read status of newly saved draft mail\" is your request, it's dup of bug\n> 673400, isn't it?\nYou asked this on 2011-10-10 10:20:44, I answered on 2011-10-10 10:40:41. (No)\n\n> What is actual trigger of \"new mail alert\" in your case?\nWriting a new mail\n\n> Newly saved draft mail by Tb who showed the new mail alert?\nYes\n\n> Newly saved draft mail by other Tb?\nI don't know what \"other Tb\" is. I run only one instance of Tb.\n\n> Or new mail arrived at Inbox?\nMaybe\n\n> If trigger of new mail alert is \"new mail in Inbox\" istead of \"newly saved\n> draft mail in Drafts\"(which is Unread, then is assigned 'new mail' state),\n> it's problem described by Bug 809513, isn't it? (see bug 809513 comment #4,\n> please)\n\nMaybe. I get new mails very often, so I can't tell whether the annoying alert comes all the time or only when a new mail comes.", "bug_id": 687140}, {"attachment_id": null, "raw_text": "(In reply to Tilman from comment #25)\n> > What is bad or wrong in \"newly saved draft mail in new mail alert\"?\n> That it isn't a new mail\n> > Simply claiming \"newly saved draft mail must have Read status\"?\n> I don't care whether it has read status.\n> I don't want it to produce a new mail alert.\n\nThanks for clear description about \"what is bad\", \"what is problem\".\n\n> > If \"Read status of newly saved draft mail\" is your request, it's dup of bug 673400, isn't it?\n> You asked this on 2011-10-10 10:20:44, I answered on 2011-10-10 10:40:41.\n> (No)\n\nSorry for duped question. I was trying to consolidate bug 676249, bug 676249, and bug 767051 to single bug at once, and I'm tryng to find proper solution for following issue in Bug 809513.\n  When newly saved draft has no \\Seen flag after change by bug 470746,\n  \"New Mail\" state is set for the newly saved draft mail,\n  even though who generated the draft mail is Tb himself.\n  So, following occurs at Tb who generated the draft mail.\n  - \"New mail alert\" is shown if \"new mail check\" is enabled for Drafts.\n  - In \"New mail alert\", the newly saved draft is shown.\n  And, following occurs at Tb who didn't generated the draft mail.\n  (Tb who shares IMAP Mbox) \n  - \"New mail alert\" is shown if \"new mail check\" is enabled for Drafts.\n  - In \"New mail alert\", the \"newly saved draft by other Tb\" is shown,\n    if the \"newly saved draft mail\" is detected by \"new mail check by\n    auo-syc\" or \"via IDLE\".  \nAs for following problem at other IMAP client such as Smart Phone, change by bug 673400 will be needed.\n  - \"New mail alert\" is shown due to Unread status of the newly saved\n    draft mail by Tb.", "bug_id": 687140, "text": "(In reply to Tilman from comment #25)\n> > What is bad or wrong in \"newly saved draft mail in new mail alert\"?\n> That it isn't a new mail\n> > Simply claiming \"newly saved draft mail must have Read status\"?\n> I don't care whether it has read status.\n> I don't want it to produce a new mail alert.\n\nThanks for clear description about \"what is bad\", \"what is problem\".\n\n> > If \"Read status of newly saved draft mail\" is your request, it's dup of bug 673400, isn't it?\n> You asked this on 2011-10-10 10:20:44, I answered on 2011-10-10 10:40:41.\n> (No)\n\nSorry for duped question. I was trying to consolidate bug 676249, bug 676249, and bug 767051 to single bug at once, and I'm tryng to find proper solution for following issue in Bug 809513.\n  When newly saved draft has no \\Seen flag after change by bug 470746,\n  \"New Mail\" state is set for the newly saved draft mail,\n  even though who generated the draft mail is Tb himself.\n  So, following occurs at Tb who generated the draft mail.\n  - \"New mail alert\" is shown if \"new mail check\" is enabled for Drafts.\n  - In \"New mail alert\", the newly saved draft is shown.\n  And, following occurs at Tb who didn't generated the draft mail.\n  (Tb who shares IMAP Mbox) \n  - \"New mail alert\" is shown if \"new mail check\" is enabled for Drafts.\n  - In \"New mail alert\", the \"newly saved draft by other Tb\" is shown,\n    if the \"newly saved draft mail\" is detected by \"new mail check by\n    auo-syc\" or \"via IDLE\".  \nAs for following problem at other IMAP client such as Smart Phone, change by bug 673400 will be needed.\n  - \"New mail alert\" is shown due to Unread status of the newly saved\n    draft mail by Tb.", "tags": [], "count": 26, "id": 7675561, "is_private": false, "creation_time": "2013-07-25T10:39:45Z", "time": "2013-07-25T10:39:45Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com"}, {"raw_text": "I wonder why this bug has not been addressed in two years time.\nSomething has changed though. With my current TB 17.0.7 on Windows, the new message alert is no longer triggered when draft autosave happens. However, it is still marked unread and when a new mail arrives in inbox then any 'unread' draft messages are also listed in the new mail popup.\n\nHere is the documentation about IMAP flags:\nhttp://tools.ietf.org/html/rfc3501#section-2.3.2\n\nChecking the message files in my IMAP server's maildir tells me that TB does mark all messages in Drafts with the \\Draft flag. It also tells me that marking messages with a star in TB sets the \\Flagged flag.\n\nI can see the benefit of marking the draft as unread, to notify the user that is was auto-saved and has not been sent or explicitly saved. However, abusing the IMAP \\Seen flag may not be the best way to do that.\n\nImho, there are two possible solutions to this problem:\n\n1) Make sure to never ever alert in popups about 'unread' messages flagged \\Draft, but perhaps other IMAP clients (like on your smartphone) may still nag about it because this behavior is not an RFC requirement.\n\n2) Use \\Flagged instead of \\Seen when auto-saving items or do not flag at all. Downside to this may be that the star does not show in the folder list and unfinished email may go unnoticed by the user, but the solution is compatible with other clients.\n\nI would suggest implementing 1) and make 2) configurable.", "attachment_id": null, "tags": [], "bug_id": 687140, "text": "I wonder why this bug has not been addressed in two years time.\nSomething has changed though. With my current TB 17.0.7 on Windows, the new message alert is no longer triggered when draft autosave happens. However, it is still marked unread and when a new mail arrives in inbox then any 'unread' draft messages are also listed in the new mail popup.\n\nHere is the documentation about IMAP flags:\nhttp://tools.ietf.org/html/rfc3501#section-2.3.2\n\nChecking the message files in my IMAP server's maildir tells me that TB does mark all messages in Drafts with the \\Draft flag. It also tells me that marking messages with a star in TB sets the \\Flagged flag.\n\nI can see the benefit of marking the draft as unread, to notify the user that is was auto-saved and has not been sent or explicitly saved. However, abusing the IMAP \\Seen flag may not be the best way to do that.\n\nImho, there are two possible solutions to this problem:\n\n1) Make sure to never ever alert in popups about 'unread' messages flagged \\Draft, but perhaps other IMAP clients (like on your smartphone) may still nag about it because this behavior is not an RFC requirement.\n\n2) Use \\Flagged instead of \\Seen when auto-saving items or do not flag at all. Downside to this may be that the star does not show in the folder list and unfinished email may go unnoticed by the user, but the solution is compatible with other clients.\n\nI would suggest implementing 1) and make 2) configurable.", "is_private": false, "count": 27, "id": 7675674, "author": "joost@ruijsch.com", "creator": "joost@ruijsch.com", "time": "2013-07-25T11:37:37Z", "creation_time": "2013-07-25T11:37:37Z"}, {"creation_time": "2013-07-26T00:29:23Z", "time": "2013-07-26T00:29:23Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com", "count": 28, "id": 7678737, "is_private": false, "tags": [], "text": "As written in comment #1, external symptom of this bug is same as bug 661239 which is already FIXED, but as written in comment #2, fix of that bug is Linux only patch(change in nsMessengerUnixIntegration.cpp only). And, change by that bug for Linux was \"exclude folder of Draft, Template flag from new mail alert\".\nIf solution for problem of this bug is similar to fix by bug 661239, new mail alert for \"draft mail saved with no \\Seen by other Tb who shares IMAP Drafts folder\" will not be shown.\n\nTo Tilman(bug opener), what do you think about following case?\n  By Thunderbird-1, draft mail is saved without \\Seen flag(Unread).\n  At Thunderbird-2, the draft mail of no \\Seen is detected at Drafts.\n\"New mail alert\" should be shown at Thunderbird-2?\nOr it shouldn't be shown?\nThe \"draft mail saved by other Tb\" should be shown in new mail alert which is shown when new mail in Ibox is detected at Thunderbird-2?\nOr it shouldn't be shown?\n\nPlease note that;\n- \"draft saved by other IMAP client\" is obviously \"New Mail\" in this Tb.\n  So, \"New mail alert\" is never \"BAD\" or \"Wrong\" or \"Incorrect\".\n- Some people wants \"new mail alert\" on \"draft mail saved by other IMAP\n  client\", but other people never wants \"new mail alert\" on \"draft\n  mail\".\n  So, if \"New mail alert\" is shown, someone opens bug at B.M.O.,\n  and if \"New mail alert\" is not shown, other one opens bug at B.M.O.\nThis is reason why solution of bug 673400 is sufficient for this kind of problem on draft mail.\n  - If user doesn't want new mail alert on draft, store draft as Read.\n  - If user want Unread status of draft, store draft as Unread.\n\nPlease note that I also think following can be called \"bug of Tb\".\n  When draft mail is saved without \\Seen flag in IMAP Drafts folder,\n  \"New mail\" state is set in msgDBHdr of the saved draft mail\n  at Tb who saved the draft mail.\nI believe this is not intentional behavior.\nThis is simply \"appended without \\Seen flag, then New Mail state is set by response parser.", "bug_id": 687140, "attachment_id": null, "raw_text": "As written in comment #1, external symptom of this bug is same as bug 661239 which is already FIXED, but as written in comment #2, fix of that bug is Linux only patch(change in nsMessengerUnixIntegration.cpp only). And, change by that bug for Linux was \"exclude folder of Draft, Template flag from new mail alert\".\nIf solution for problem of this bug is similar to fix by bug 661239, new mail alert for \"draft mail saved with no \\Seen by other Tb who shares IMAP Drafts folder\" will not be shown.\n\nTo Tilman(bug opener), what do you think about following case?\n  By Thunderbird-1, draft mail is saved without \\Seen flag(Unread).\n  At Thunderbird-2, the draft mail of no \\Seen is detected at Drafts.\n\"New mail alert\" should be shown at Thunderbird-2?\nOr it shouldn't be shown?\nThe \"draft mail saved by other Tb\" should be shown in new mail alert which is shown when new mail in Ibox is detected at Thunderbird-2?\nOr it shouldn't be shown?\n\nPlease note that;\n- \"draft saved by other IMAP client\" is obviously \"New Mail\" in this Tb.\n  So, \"New mail alert\" is never \"BAD\" or \"Wrong\" or \"Incorrect\".\n- Some people wants \"new mail alert\" on \"draft mail saved by other IMAP\n  client\", but other people never wants \"new mail alert\" on \"draft\n  mail\".\n  So, if \"New mail alert\" is shown, someone opens bug at B.M.O.,\n  and if \"New mail alert\" is not shown, other one opens bug at B.M.O.\nThis is reason why solution of bug 673400 is sufficient for this kind of problem on draft mail.\n  - If user doesn't want new mail alert on draft, store draft as Read.\n  - If user want Unread status of draft, store draft as Unread.\n\nPlease note that I also think following can be called \"bug of Tb\".\n  When draft mail is saved without \\Seen flag in IMAP Drafts folder,\n  \"New mail\" state is set in msgDBHdr of the saved draft mail\n  at Tb who saved the draft mail.\nI believe this is not intentional behavior.\nThis is simply \"appended without \\Seen flag, then New Mail state is set by response parser."}, {"creator": "m-wada@usa.com", "creation_time": "2013-07-26T08:33:30Z", "time": "2013-07-26T08:33:30Z", "author": "m-wada@usa.com", "is_private": false, "id": 7679797, "count": 29, "bug_id": 687140, "text": "*** Bug 767051 has been marked as a duplicate of this bug. ***", "tags": [], "attachment_id": null, "raw_text": ""}, {"creator": "m-wada@usa.com", "time": "2013-07-26T08:40:58Z", "creation_time": "2013-07-26T08:40:58Z", "author": "m-wada@usa.com", "is_private": false, "id": 7679816, "count": 30, "bug_id": 687140, "text": "*** Bug 727405 has been marked as a duplicate of this bug. ***", "tags": [], "attachment_id": null, "raw_text": ""}, {"raw_text": "(In reply to WADA from comment #28)\n> As written in comment #1, external symptom of this bug is same as bug 661239\n> which is already FIXED, but as written in comment #2, fix of that bug is\n> Linux only patch(change in nsMessengerUnixIntegration.cpp only). And, change\n> by that bug for Linux was \"exclude folder of Draft, Template flag from new\n> mail alert\".\n> If solution for problem of this bug is similar to fix by bug 661239, new\n> mail alert for \"draft mail saved with no \\Seen by other Tb who shares IMAP\n> Drafts folder\" will not be shown.\n> \n> To Tilman(bug opener), what do you think about following case?\n>   By Thunderbird-1, draft mail is saved without \\Seen flag(Unread).\n>   At Thunderbird-2, the draft mail of no \\Seen is detected at Drafts.\n> \"New mail alert\" should be shown at Thunderbird-2?\n> Or it shouldn't be shown?\n\nNo should not, because it's not a new mail.\n\n> The \"draft mail saved by other Tb\" should be shown in new mail alert which\n> is shown when new mail in Ibox is detected at Thunderbird-2?\n> Or it shouldn't be shown?\n\nNo.\n\n> Please note that;\n> - \"draft saved by other IMAP client\" is obviously \"New Mail\" in this Tb.\n>   So, \"New mail alert\" is never \"BAD\" or \"Wrong\" or \"Incorrect\".\n\nI disagree, a draft is just a draft.\n\n> - Some people wants \"new mail alert\" on \"draft mail saved by other IMAP\n>   client\", but other people never wants \"new mail alert\" on \"draft\n>   mail\".\n\nThen make it configurable. (If understand correctly, THAT is the proposal in bug 673400). I can live with this.\n\nOr do something so that it can be remembered whether a draft was done by the same instance of thunderbird. Maybe through some id in the header, but that is only used while its in a draft, not when the mail is sent. It might make sense to have an alert when the user launches a new tb instance later/somewhere else, to remind him that he forgot to finish his draft.", "attachment_id": null, "tags": [], "text": "(In reply to WADA from comment #28)\n> As written in comment #1, external symptom of this bug is same as bug 661239\n> which is already FIXED, but as written in comment #2, fix of that bug is\n> Linux only patch(change in nsMessengerUnixIntegration.cpp only). And, change\n> by that bug for Linux was \"exclude folder of Draft, Template flag from new\n> mail alert\".\n> If solution for problem of this bug is similar to fix by bug 661239, new\n> mail alert for \"draft mail saved with no \\Seen by other Tb who shares IMAP\n> Drafts folder\" will not be shown.\n> \n> To Tilman(bug opener), what do you think about following case?\n>   By Thunderbird-1, draft mail is saved without \\Seen flag(Unread).\n>   At Thunderbird-2, the draft mail of no \\Seen is detected at Drafts.\n> \"New mail alert\" should be shown at Thunderbird-2?\n> Or it shouldn't be shown?\n\nNo should not, because it's not a new mail.\n\n> The \"draft mail saved by other Tb\" should be shown in new mail alert which\n> is shown when new mail in Ibox is detected at Thunderbird-2?\n> Or it shouldn't be shown?\n\nNo.\n\n> Please note that;\n> - \"draft saved by other IMAP client\" is obviously \"New Mail\" in this Tb.\n>   So, \"New mail alert\" is never \"BAD\" or \"Wrong\" or \"Incorrect\".\n\nI disagree, a draft is just a draft.\n\n> - Some people wants \"new mail alert\" on \"draft mail saved by other IMAP\n>   client\", but other people never wants \"new mail alert\" on \"draft\n>   mail\".\n\nThen make it configurable. (If understand correctly, THAT is the proposal in bug 673400). I can live with this.\n\nOr do something so that it can be remembered whether a draft was done by the same instance of thunderbird. Maybe through some id in the header, but that is only used while its in a draft, not when the mail is sent. It might make sense to have an alert when the user launches a new tb instance later/somewhere else, to remind him that he forgot to finish his draft.", "bug_id": 687140, "count": 31, "id": 7679940, "is_private": false, "author": "tilman@snafu.de", "time": "2013-07-26T09:26:58Z", "creation_time": "2013-07-26T09:26:58Z", "creator": "tilman@snafu.de"}, {"creator": "m-wada@usa.com", "time": "2013-07-26T12:16:38Z", "creation_time": "2013-07-26T12:16:38Z", "author": "m-wada@usa.com", "tags": [], "bug_id": 687140, "text": "(In reply to Tilman from comment #31)\n> > To Tilman(bug opener), what do you think about following case?\n> >   By Thunderbird-1, draft mail is saved without \\Seen flag(Unread).\n> >   At Thunderbird-2, the draft mail of no \\Seen is detected at Drafts.\n> > \"New mail alert\" should be shown at Thunderbird-2?\n> > Or it shouldn't be shown?\n> \n> No should not, because it's not a new mail.\n> \n> > The \"draft mail saved by other Tb\" should be shown in new mail alert which\n> > is shown when new mail in Ibox is detected at Thunderbird-2?\n> > Or it shouldn't be shown?\n> \n> No.\n> > - \"draft saved by other IMAP client\" is obviously \"New Mail\" in this Tb.\n> >   So, \"New mail alert\" is never \"BAD\" or \"Wrong\" or \"Incorrect\".\n> \n> I disagree, a draft is just a draft.\n\nHow about \"new mail indicator\"(red star etc.) at Folder Pane and \"new icon\" before Subject at Thread Pane?\n\nIf any one agree with you, and if it's applicable to \"new mail indicator at Folder Pane/Thread Pane\", required code change is simple.\n  If newly detected mail has \\Draft flag,\n  don't set flag of \"this is new mail\" in msgDBHdr of the draft mail\n  at any Tb, who saved draft mail, and who didn't save the new draft.\n  (change in response parser)\n\nIf \"new mail indicator at Folder Pane/Thread Pane\" is neeeded when draft mail is saved without \\Seen by other client, change in Biff code is needed.\n  Don't show new mail alert if Draft folder.\n  Don't show mail in \"New Mail Alert\" if newly detected mail has \\Draft\n  flag.\n  (these are perhaps change by bug 661239 on Linux only)", "is_private": false, "attachment_id": null, "id": 7680402, "count": 32, "raw_text": "(In reply to Tilman from comment #31)\n> > To Tilman(bug opener), what do you think about following case?\n> >   By Thunderbird-1, draft mail is saved without \\Seen flag(Unread).\n> >   At Thunderbird-2, the draft mail of no \\Seen is detected at Drafts.\n> > \"New mail alert\" should be shown at Thunderbird-2?\n> > Or it shouldn't be shown?\n> \n> No should not, because it's not a new mail.\n> \n> > The \"draft mail saved by other Tb\" should be shown in new mail alert which\n> > is shown when new mail in Ibox is detected at Thunderbird-2?\n> > Or it shouldn't be shown?\n> \n> No.\n> > - \"draft saved by other IMAP client\" is obviously \"New Mail\" in this Tb.\n> >   So, \"New mail alert\" is never \"BAD\" or \"Wrong\" or \"Incorrect\".\n> \n> I disagree, a draft is just a draft.\n\nHow about \"new mail indicator\"(red star etc.) at Folder Pane and \"new icon\" before Subject at Thread Pane?\n\nIf any one agree with you, and if it's applicable to \"new mail indicator at Folder Pane/Thread Pane\", required code change is simple.\n  If newly detected mail has \\Draft flag,\n  don't set flag of \"this is new mail\" in msgDBHdr of the draft mail\n  at any Tb, who saved draft mail, and who didn't save the new draft.\n  (change in response parser)\n\nIf \"new mail indicator at Folder Pane/Thread Pane\" is neeeded when draft mail is saved without \\Seen by other client, change in Biff code is needed.\n  Don't show new mail alert if Draft folder.\n  Don't show mail in \"New Mail Alert\" if newly detected mail has \\Draft\n  flag.\n  (these are perhaps change by bug 661239 on Linux only)"}, {"author": "tvanlessen@gmail.com", "time": "2013-07-26T14:19:48Z", "creation_time": "2013-07-26T14:19:48Z", "creator": "tvanlessen@gmail.com", "id": 7680779, "count": 33, "is_private": false, "bug_id": 687140, "text": "The important thing is that the new draft MUST NOT be marked a unread in IMAP, since this is causing the whole mess with Android's GMail client.\n\nIf I reply to a read mail and save a draft 10 times, the mail thread is shown unread in Gmail on Android with 10 draft mails that need to be scrolled through, just to figure out that there is no new reply to that thread but only a bunch of uninteresting drafts. Uninteresting because I created them typically myself. The combination of the bug that each draft saving results in a new draft mail and the fact that those messages appear as unread render Thunderbird unusable for the combination with GMail and Android.", "tags": [], "raw_text": "The important thing is that the new draft MUST NOT be marked a unread in IMAP, since this is causing the whole mess with Android's GMail client.\n\nIf I reply to a read mail and save a draft 10 times, the mail thread is shown unread in Gmail on Android with 10 draft mails that need to be scrolled through, just to figure out that there is no new reply to that thread but only a bunch of uninteresting drafts. Uninteresting because I created them typically myself. The combination of the bug that each draft saving results in a new draft mail and the fact that those messages appear as unread render Thunderbird unusable for the combination with GMail and Android.", "attachment_id": null}, {"is_private": false, "count": 34, "id": 7682075, "creator": "tilman@snafu.de", "creation_time": "2013-07-26T18:30:05Z", "time": "2013-07-26T18:30:05Z", "author": "tilman@snafu.de", "attachment_id": null, "raw_text": "(In reply to WADA from comment #32)\n\n> How about \"new mail indicator\"(red star etc.) at Folder Pane and \"new icon\"\n> before Subject at Thread Pane?\n> \n> If any one agree with you, and if it's applicable to \"new mail indicator at\n> Folder Pane/Thread Pane\", required code change is simple.\n>   If newly detected mail has \\Draft flag,\n>   don't set flag of \"this is new mail\" in msgDBHdr of the draft mail\n>   at any Tb, who saved draft mail, and who didn't save the new draft.\n>   (change in response parser)\n> \n> If \"new mail indicator at Folder Pane/Thread Pane\" is neeeded when draft\n> mail is saved without \\Seen by other client, change in Biff code is needed.\n>   Don't show new mail alert if Draft folder.\n>   Don't show mail in \"New Mail Alert\" if newly detected mail has \\Draft\n>   flag.\n>   (these are perhaps change by bug 661239 on Linux only)\n\nYes that sounds like a good solution.", "tags": [], "bug_id": 687140, "text": "(In reply to WADA from comment #32)\n\n> How about \"new mail indicator\"(red star etc.) at Folder Pane and \"new icon\"\n> before Subject at Thread Pane?\n> \n> If any one agree with you, and if it's applicable to \"new mail indicator at\n> Folder Pane/Thread Pane\", required code change is simple.\n>   If newly detected mail has \\Draft flag,\n>   don't set flag of \"this is new mail\" in msgDBHdr of the draft mail\n>   at any Tb, who saved draft mail, and who didn't save the new draft.\n>   (change in response parser)\n> \n> If \"new mail indicator at Folder Pane/Thread Pane\" is neeeded when draft\n> mail is saved without \\Seen by other client, change in Biff code is needed.\n>   Don't show new mail alert if Draft folder.\n>   Don't show mail in \"New Mail Alert\" if newly detected mail has \\Draft\n>   flag.\n>   (these are perhaps change by bug 661239 on Linux only)\n\nYes that sounds like a good solution."}, {"attachment_id": null, "raw_text": "Changing bug summary.\n- add request for \"port of bug 661239 to other than Linux\".\n- remove \"new mail indicator\" part, in order to avoid further confusion\n  which will produce comment like \"draft should be saved as Read\",\n  in order to focus on \"new mail alert on draft is incorrect\" only.\n\n\"New mail alert on draft\" will be prohibited by \"port of bug 661239\".\nIncorrect \"new mail state(new icon) of draft mail at Tb where draft is saved\" part is covered by bug 809513.", "tags": [], "text": "Changing bug summary.\n- add request for \"port of bug 661239 to other than Linux\".\n- remove \"new mail indicator\" part, in order to avoid further confusion\n  which will produce comment like \"draft should be saved as Read\",\n  in order to focus on \"new mail alert on draft is incorrect\" only.\n\n\"New mail alert on draft\" will be prohibited by \"port of bug 661239\".\nIncorrect \"new mail state(new icon) of draft mail at Tb where draft is saved\" part is covered by bug 809513.", "bug_id": 687140, "is_private": false, "id": 7683708, "count": 35, "creator": "m-wada@usa.com", "creation_time": "2013-07-27T02:54:18Z", "time": "2013-07-27T02:54:18Z", "author": "m-wada@usa.com"}, {"attachment_id": null, "raw_text": "(In reply to Tammo van Lessen from comment #33)\n> The important thing is that the new draft MUST NOT be marked a unread in\n> IMAP, since this is causing the whole mess with Android's GMail client.\n\n\"New mail alerts on Smart Phone due to no \\Seen flag\" is already covered by repeatedly referred and pointed bug 673400.\nWhat is reason to add such comment to this bug for problem of incorrect \"new mail alert in Tb for draft\" when draft is saved without \\Seen flag in order to make draft mail \"Unread status\" for some users convenience?\n\n> If I reply to a read mail and save a draft 10 times,\n> the mail thread is shown unread in Gmail on Android with 10 draft mails\n> that need to be scrolled through, (snip)\n\n\"Status of Unread\" is produced by \"\\Seen flag is not set by Tb\".\nBut \"many draft mails which are already deleted by Tb\" is merely bug(actual flaw in code) of mail application on Android what is implemented by developer who doesn't understand Gmail's design well.\nWhat is your purpose of adding comment about irrelevant problem to this bug?\nRead thru bug 562748, please.\n\nAnyway, please note that here is bugzilla.mozilla.org for solving Tb's bug. Here is not place for complain to developers. Here is not support forum.", "text": "(In reply to Tammo van Lessen from comment #33)\n> The important thing is that the new draft MUST NOT be marked a unread in\n> IMAP, since this is causing the whole mess with Android's GMail client.\n\n\"New mail alerts on Smart Phone due to no \\Seen flag\" is already covered by repeatedly referred and pointed bug 673400.\nWhat is reason to add such comment to this bug for problem of incorrect \"new mail alert in Tb for draft\" when draft is saved without \\Seen flag in order to make draft mail \"Unread status\" for some users convenience?\n\n> If I reply to a read mail and save a draft 10 times,\n> the mail thread is shown unread in Gmail on Android with 10 draft mails\n> that need to be scrolled through, (snip)\n\n\"Status of Unread\" is produced by \"\\Seen flag is not set by Tb\".\nBut \"many draft mails which are already deleted by Tb\" is merely bug(actual flaw in code) of mail application on Android what is implemented by developer who doesn't understand Gmail's design well.\nWhat is your purpose of adding comment about irrelevant problem to this bug?\nRead thru bug 562748, please.\n\nAnyway, please note that here is bugzilla.mozilla.org for solving Tb's bug. Here is not place for complain to developers. Here is not support forum.", "bug_id": 687140, "tags": [], "id": 7683810, "count": 36, "is_private": false, "creation_time": "2013-07-27T04:07:18Z", "time": "2013-07-27T04:07:18Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com"}, {"bug_id": 687140, "text": "By the way, to Tammo van Lessen, when will your patch for bug 673400 be released? If your patch will be released, this bug will be pretty easily worked around by \"save draft mail with \\Seen flag\" when user doesn't want \"Unread status of draft mail\". So we are waiting for your patch for long time...", "tags": [], "raw_text": "By the way, to Tammo van Lessen, when will your patch for bug 673400 be released? If your patch will be released, this bug will be pretty easily worked around by \"save draft mail with \\Seen flag\" when user doesn't want \"Unread status of draft mail\". So we are waiting for your patch for long time...", "attachment_id": null, "author": "m-wada@usa.com", "creation_time": "2013-07-27T09:55:47Z", "time": "2013-07-27T09:55:47Z", "creator": "m-wada@usa.com", "count": 37, "id": 7684031, "is_private": false}, {"bug_id": 687140, "text": "(In reply to Joost from comment #27)\n> I can see the benefit of marking the draft as unread,\n> to notify the user that is was auto-saved and has not been sent or explicitly saved.\n> However, abusing the IMAP \\Seen flag may not be the best way to do that.\n> Imho, there are two possible solutions to this problem:\n>(snip)\n> 2) Use \\Flagged instead of \\Seen when auto-saving items or do not flag at all. \n\nFYI.\nAccording to bug 673400 comment #28 and bug 673400 comment #30, developer's decision in bug 673400 sounds solution like yours.\n- backout change by bug 470746 (-> store \\Seen to draft mail always)\n- implement a way to \"highlighting of draft mail\" for reminder or\n  new draft notification to other IMAP client who shares Drafts folder.\n  (this is objective of bug 470746)", "tags": [], "attachment_id": null, "raw_text": "(In reply to Joost from comment #27)\n> I can see the benefit of marking the draft as unread,\n> to notify the user that is was auto-saved and has not been sent or explicitly saved.\n> However, abusing the IMAP \\Seen flag may not be the best way to do that.\n> Imho, there are two possible solutions to this problem:\n>(snip)\n> 2) Use \\Flagged instead of \\Seen when auto-saving items or do not flag at all. \n\nFYI.\nAccording to bug 673400 comment #28 and bug 673400 comment #30, developer's decision in bug 673400 sounds solution like yours.\n- backout change by bug 470746 (-> store \\Seen to draft mail always)\n- implement a way to \"highlighting of draft mail\" for reminder or\n  new draft notification to other IMAP client who shares Drafts folder.\n  (this is objective of bug 470746)", "creation_time": "2013-07-27T10:18:59Z", "time": "2013-07-27T10:18:59Z", "creator": "m-wada@usa.com", "author": "m-wada@usa.com", "count": 38, "id": 7684053, "is_private": false}, {"tags": [], "bug_id": 687140, "text": "(In reply to WADA from comment #36)\n> Anyway, please note that here is bugzilla.mozilla.org for solving Tb's bug.\n> Here is not place for complain to developers. Here is not support forum.\n\nI'm sorry if I upset you, I never meant to upset other developers, too. I was just afraid, that the key problem that I have got lost out of focus. It looks, however, that I just misunderstood the proposed solution, which appears to be inline with fixing the smartphone issue as well. I'm totally aware of the fact that this is a bug tracker and not a support forum, however, I'm also pretty annoyed about the fact that bug 673400 is now open for 2 year without any progress, so I felt like pushing it a little.\n\n(In reply to WADA from comment #37)\n> By the way, to Tammo van Lessen, when will your patch for bug 673400 be\n> released? If your patch will be released, this bug will be pretty easily\n> worked around by \"save draft mail with \\Seen flag\" when user doesn't want\n> \"Unread status of draft mail\". So we are waiting for your patch for long\n> time...\n\nYou're waiting for my patch? Well, my patch is there, it is waiting for some TB dev picking it up, applying it, testing it, maybe rewriting, committing it and releasing it. I'm not a Thunderbird developer, I don't even know if the patch fully works. It was just meant to provide a starting point for fixing this bug. I have never been in touch with the thunderbird code base before, so the patch is probably not in the best shape. So please find some TB dev who is fancy to just try it, fix it and release it. As a simple TB user I can't help here any more.", "attachment_id": null, "raw_text": "(In reply to WADA from comment #36)\n> Anyway, please note that here is bugzilla.mozilla.org for solving Tb's bug.\n> Here is not place for complain to developers. Here is not support forum.\n\nI'm sorry if I upset you, I never meant to upset other developers, too. I was just afraid, that the key problem that I have got lost out of focus. It looks, however, that I just misunderstood the proposed solution, which appears to be inline with fixing the smartphone issue as well. I'm totally aware of the fact that this is a bug tracker and not a support forum, however, I'm also pretty annoyed about the fact that bug 673400 is now open for 2 year without any progress, so I felt like pushing it a little.\n\n(In reply to WADA from comment #37)\n> By the way, to Tammo van Lessen, when will your patch for bug 673400 be\n> released? If your patch will be released, this bug will be pretty easily\n> worked around by \"save draft mail with \\Seen flag\" when user doesn't want\n> \"Unread status of draft mail\". So we are waiting for your patch for long\n> time...\n\nYou're waiting for my patch? Well, my patch is there, it is waiting for some TB dev picking it up, applying it, testing it, maybe rewriting, committing it and releasing it. I'm not a Thunderbird developer, I don't even know if the patch fully works. It was just meant to provide a starting point for fixing this bug. I have never been in touch with the thunderbird code base before, so the patch is probably not in the best shape. So please find some TB dev who is fancy to just try it, fix it and release it. As a simple TB user I can't help here any more.", "creation_time": "2013-07-27T11:29:30Z", "time": "2013-07-27T11:29:30Z", "creator": "tvanlessen@gmail.com", "author": "tvanlessen@gmail.com", "count": 39, "id": 7684106, "is_private": false}, {"creation_time": "2013-11-05T14:09:03Z", "time": "2013-11-05T14:09:03Z", "creator": "joost@ruijsch.com", "author": "joost@ruijsch.com", "count": 40, "id": 8041949, "is_private": false, "tags": [], "bug_id": 687140, "text": "\n(In reply to Tammo van Lessen from comment #39)\n> You're waiting for my patch? Well, my patch is there, it is waiting for some\n> TB dev picking it up, applying it, testing it, maybe rewriting, committing\n> it and releasing it. \n\nAnother 3 months later, it seems TB developers can't be bothered fixing bugs. They seem to be more keen on implementing features.\n\nSo I would like to change this bug into:\n\nFEATURE REQUEST: implement folder option to disable new mail alert\n\nWhy:\nUser may not want to be bothered by alert popups for new messages in folders considered less important. The Junk or Spam folder is a good example, but it may also apply to Drafts, \"mailing lists\" and \"annoying people\" folders.\n\nHow:\nOn the \"general Information\" tab in the \"Folder properties\" dialog, there are two options:\n\n[x] Include messages in this folder in Global Search results.\n[x] When getting new messages for this account, always check this folder.\n\nPlease add:\n\n[x] Do not alert when new message arrives in this folder.", "attachment_id": null, "raw_text": "\n(In reply to Tammo van Lessen from comment #39)\n> You're waiting for my patch? Well, my patch is there, it is waiting for some\n> TB dev picking it up, applying it, testing it, maybe rewriting, committing\n> it and releasing it. \n\nAnother 3 months later, it seems TB developers can't be bothered fixing bugs. They seem to be more keen on implementing features.\n\nSo I would like to change this bug into:\n\nFEATURE REQUEST: implement folder option to disable new mail alert\n\nWhy:\nUser may not want to be bothered by alert popups for new messages in folders considered less important. The Junk or Spam folder is a good example, but it may also apply to Drafts, \"mailing lists\" and \"annoying people\" folders.\n\nHow:\nOn the \"general Information\" tab in the \"Folder properties\" dialog, there are two options:\n\n[x] Include messages in this folder in Global Search results.\n[x] When getting new messages for this account, always check this folder.\n\nPlease add:\n\n[x] Do not alert when new message arrives in this folder."}, {"author": "firstpeterfourten@gmail.com", "creator": "firstpeterfourten@gmail.com", "creation_time": "2013-11-05T20:39:10Z", "time": "2013-11-05T20:39:10Z", "is_private": false, "id": 8044057, "count": 41, "tags": [], "text": "It'd be better for that message to be positively framed:\n[x] Alert when new message arrives in this folder.\n\nand maybe it would be selected/enabled by default.", "bug_id": 687140, "raw_text": "It'd be better for that message to be positively framed:\n[x] Alert when new message arrives in this folder.\n\nand maybe it would be selected/enabled by default.", "attachment_id": null}, {"bug_id": 687140, "text": "(In reply to Joost from comment #40)\n> So I would like to change this bug into:\n> FEATURE REQUEST: implement folder option to disable new mail alert\n\nSuch feature is perhaps needed for following request by other bug,\n  Don't include \"New mail count or Unread mail count of Trash or subfolders of Trash\"\n  in \"Total New or Unread mail count of parent folder including account FOLDER\".\n  A solution :\n    [x] Don't include this folder in Total New/Unread count of parent folder\nand is obviously \"Request for enhancement of Thunderbird\".\nPlease open separate bug for your request.", "tags": [], "raw_text": "(In reply to Joost from comment #40)\n> So I would like to change this bug into:\n> FEATURE REQUEST: implement folder option to disable new mail alert\n\nSuch feature is perhaps needed for following request by other bug,\n  Don't include \"New mail count or Unread mail count of Trash or subfolders of Trash\"\n  in \"Total New or Unread mail count of parent folder including account FOLDER\".\n  A solution :\n    [x] Don't include this folder in Total New/Unread count of parent folder\nand is obviously \"Request for enhancement of Thunderbird\".\nPlease open separate bug for your request.", "attachment_id": null, "author": "m-wada@usa.com", "creator": "m-wada@usa.com", "creation_time": "2013-11-05T22:35:24Z", "time": "2013-11-05T22:35:24Z", "is_private": false, "count": 42, "id": 8044645}, {"bug_id": 687140, "text": "Porting the changes from bug 661239 would appear straight forward for someone with a windows build set up.\n\nLikely just copy a few lines from http://mxr.mozilla.org/comm-central/source/mailnews/base/src/nsMessengerUnixIntegration.cpp#622 to somewhere around here: http://mxr.mozilla.org/comm-central/source/mailnews/base/src/nsMessengerWinIntegration.cpp#817", "tags": [], "raw_text": "Porting the changes from bug 661239 would appear straight forward for someone with a windows build set up.\n\nLikely just copy a few lines from http://mxr.mozilla.org/comm-central/source/mailnews/base/src/nsMessengerUnixIntegration.cpp#622 to somewhere around here: http://mxr.mozilla.org/comm-central/source/mailnews/base/src/nsMessengerWinIntegration.cpp#817", "attachment_id": null, "author": "mkmelin+mozilla@iki.fi", "creator": "mkmelin+mozilla@iki.fi", "creation_time": "2013-11-08T20:25:56Z", "time": "2013-11-08T20:25:56Z", "is_private": false, "id": 8060106, "count": 43}, {"attachment_id": null, "raw_text": "hello, is somebody working on this bug because i would like to work on this bug, i know c++ this would be my first bug so i might need some extra guidance debugging it. thanks!", "tags": [], "text": "hello, is somebody working on this bug because i would like to work on this bug, i know c++ this would be my first bug so i might need some extra guidance debugging it. thanks!", "bug_id": 687140, "is_private": false, "id": 9249669, "count": 44, "creator": "dj.dij123@gmail.com", "creation_time": "2014-08-29T21:15:20Z", "time": "2014-08-29T21:15:20Z", "author": "dj.dij123@gmail.com"}, {"bug_id": 687140, "text": "Hello diwas! Please seee comment 43, that should be pretty much what needs to be done I think.", "tags": [], "raw_text": "Hello diwas! Please seee comment 43, that should be pretty much what needs to be done I think.", "attachment_id": null, "author": "mkmelin+mozilla@iki.fi", "creation_time": "2014-08-30T10:56:57Z", "time": "2014-08-30T10:56:57Z", "creator": "mkmelin+mozilla@iki.fi", "id": 9250988, "count": 45, "is_private": false}, {"attachment_id": 8484037, "raw_text": "", "bug_id": 687140, "text": "Created attachment 8484037\nNew mail notification shown for autosaved drafts fixed.", "tags": [], "is_private": false, "count": 46, "id": 9268917, "creator": "dj.dij123@gmail.com", "creation_time": "2014-09-04T08:31:37Z", "time": "2014-09-04T08:31:37Z", "author": "dj.dij123@gmail.com"}, {"text": "Comment on attachment 8484037\nNew mail notification shown for autosaved drafts fixed.\n\nReview of attachment 8484037:\n-----------------------------------------------------------------\n\nPlease fix the indention (2 spaces per level). \nAlso you want to enable the test for windows - remove winnt from here - http://mxr.mozilla.org/comm-central/source/mail/test/mozmill/notification/test-notification.js#523 (and make sure the test still works).", "bug_id": 687140, "tags": [], "raw_text": "Review of attachment 8484037:\n-----------------------------------------------------------------\n\nPlease fix the indention (2 spaces per level). \nAlso you want to enable the test for windows - remove winnt from here - http://mxr.mozilla.org/comm-central/source/mail/test/mozmill/notification/test-notification.js#523 (and make sure the test still works).", "attachment_id": 8484037, "author": "mkmelin+mozilla@iki.fi", "time": "2014-09-06T19:25:35Z", "creation_time": "2014-09-06T19:25:35Z", "creator": "mkmelin+mozilla@iki.fi", "count": 47, "id": 9279492, "is_private": false}, {"tags": [], "bug_id": 687140, "text": "Created attachment 8485812\nbug687140.diff", "raw_text": "", "attachment_id": 8485812, "author": "dj.dij123@gmail.com", "creator": "dj.dij123@gmail.com", "time": "2014-09-08T16:45:27Z", "creation_time": "2014-09-08T16:45:27Z", "is_private": false, "id": 9282788, "count": 48}, {"tags": [], "text": "Created attachment 8485820\nbug687140.diff", "bug_id": 687140, "raw_text": "", "attachment_id": 8485820, "author": "dj.dij123@gmail.com", "creation_time": "2014-09-08T17:08:06Z", "time": "2014-09-08T17:08:06Z", "creator": "dj.dij123@gmail.com", "count": 49, "id": 9282954, "is_private": false}, {"tags": [], "bug_id": 687140, "text": "Created attachment 8485824\nbug687140.diff", "attachment_id": 8485824, "raw_text": "", "creation_time": "2014-09-08T17:13:18Z", "time": "2014-09-08T17:13:18Z", "creator": "dj.dij123@gmail.com", "author": "dj.dij123@gmail.com", "count": 50, "id": 9282999, "is_private": false}, {"raw_text": "Review of attachment 8485824:\n-----------------------------------------------------------------\n\nI notice there are differences (from bug 661239) to the linux version, but that's for another bug.\nr=mkmelin from code inspection, with the below fixed\n\n::: mailnews/base/src/nsMessengerWinIntegration.cpp\n@@ +827,5 @@\n> +            // Unless we're dealing with an Inbox, we don't care\n> +            // about Drafts, Queue, SentMail, Template, or Junk folders\n> +            if (!(flags & nsMsgFolderFlags::Inbox) &&\n> +                 (flags & (nsMsgFolderFlags::SpecialUse & ~nsMsgFolderFlags::Inbox)))\n> +            continue;\n\nthis row should be indented two spaces more", "attachment_id": 8485824, "bug_id": 687140, "text": "Comment on attachment 8485824\nbug687140.diff\n\nReview of attachment 8485824:\n-----------------------------------------------------------------\n\nI notice there are differences (from bug 661239) to the linux version, but that's for another bug.\nr=mkmelin from code inspection, with the below fixed\n\n::: mailnews/base/src/nsMessengerWinIntegration.cpp\n@@ +827,5 @@\n> +            // Unless we're dealing with an Inbox, we don't care\n> +            // about Drafts, Queue, SentMail, Template, or Junk folders\n> +            if (!(flags & nsMsgFolderFlags::Inbox) &&\n> +                 (flags & (nsMsgFolderFlags::SpecialUse & ~nsMsgFolderFlags::Inbox)))\n> +            continue;\n\nthis row should be indented two spaces more", "tags": [], "is_private": false, "id": 9283801, "count": 51, "author": "mkmelin+mozilla@iki.fi", "creator": "mkmelin+mozilla@iki.fi", "time": "2014-09-08T19:19:00Z", "creation_time": "2014-09-08T19:19:00Z"}, {"raw_text": "Review of attachment 8485824:\n-----------------------------------------------------------------\n\nWhen you update the patch, also make sure the patch commit comment is as it should. It must include the bug number, and usually it's the same as the bug summary. \nAlso add r=mkmelin at the end as it now has review.\n\nSent to try to make sure the tests still pass\nhttps://tbpl.mozilla.org/?tree=Thunderbird-Try&rev=1210be4fe1c4", "attachment_id": 8485824, "bug_id": 687140, "text": "Comment on attachment 8485824\nbug687140.diff\n\nReview of attachment 8485824:\n-----------------------------------------------------------------\n\nWhen you update the patch, also make sure the patch commit comment is as it should. It must include the bug number, and usually it's the same as the bug summary. \nAlso add r=mkmelin at the end as it now has review.\n\nSent to try to make sure the tests still pass\nhttps://tbpl.mozilla.org/?tree=Thunderbird-Try&rev=1210be4fe1c4", "tags": [], "is_private": false, "id": 9283854, "count": 52, "author": "mkmelin+mozilla@iki.fi", "creator": "mkmelin+mozilla@iki.fi", "creation_time": "2014-09-08T19:29:36Z", "time": "2014-09-08T19:29:36Z"}, {"raw_text": "", "attachment_id": 8485919, "bug_id": 687140, "text": "Created attachment 8485919\nbug687140.diff", "tags": [], "count": 53, "id": 9283855, "is_private": false, "author": "dj.dij123@gmail.com", "time": "2014-09-08T19:30:13Z", "creation_time": "2014-09-08T19:30:13Z", "creator": "dj.dij123@gmail.com"}, {"count": 54, "id": 9283904, "is_private": false, "author": "dj.dij123@gmail.com", "time": "2014-09-08T19:41:15Z", "creation_time": "2014-09-08T19:41:15Z", "creator": "dj.dij123@gmail.com", "raw_text": "(In reply to Magnus Melin from comment #52)\n> Comment on attachment 8485824\n> bug687140.diff\n> \n> Review of attachment 8485824:\n> -----------------------------------------------------------------\n> \n> When you update the patch, also make sure the patch commit comment is as it\n> should. It must include the bug number, and usually it's the same as the bug\n> summary. \n> Also add r=mkmelin at the end as it now has review.\n> \n> Sent to try to make sure the tests still pass\n> https://tbpl.mozilla.org/?tree=Thunderbird-Try&rev=1210be4fe1c4\n\nsorry i did not understand what manner should the commit comment be this is my first bug submission. please tell me how to do that.", "attachment_id": null, "text": "(In reply to Magnus Melin from comment #52)\n> Comment on attachment 8485824\n> bug687140.diff\n> \n> Review of attachment 8485824:\n> -----------------------------------------------------------------\n> \n> When you update the patch, also make sure the patch commit comment is as it\n> should. It must include the bug number, and usually it's the same as the bug\n> summary. \n> Also add r=mkmelin at the end as it now has review.\n> \n> Sent to try to make sure the tests still pass\n> https://tbpl.mozilla.org/?tree=Thunderbird-Try&rev=1210be4fe1c4\n\nsorry i did not understand what manner should the commit comment be this is my first bug submission. please tell me how to do that.", "bug_id": 687140, "tags": []}, {"creator": "mkmelin+mozilla@iki.fi", "creation_time": "2014-09-08T19:45:53Z", "time": "2014-09-08T19:45:53Z", "author": "mkmelin+mozilla@iki.fi", "is_private": false, "id": 9283921, "count": 55, "bug_id": 687140, "text": "Well, in this case, when you do hg qrefresh -e you could fill in something like\nBug 687140 - \"port of bug 661239 to other than Linux\" is needed (New email alert ping after saving a mail in the drafts folder. New mail alert for draft shouldn't be shown, even when draft is saved without \\Seen by change of bug 470746). r=mkmelin\n\nNote that all relevant info should be on one line (as that's all that shows in the hg quick log). Extra info can be on additional lines.", "tags": [], "attachment_id": null, "raw_text": "Well, in this case, when you do hg qrefresh -e you could fill in something like\nBug 687140 - \"port of bug 661239 to other than Linux\" is needed (New email alert ping after saving a mail in the drafts folder. New mail alert for draft shouldn't be shown, even when draft is saved without \\Seen by change of bug 470746). r=mkmelin\n\nNote that all relevant info should be on one line (as that's all that shows in the hg quick log). Extra info can be on additional lines."}, {"raw_text": "i hope this the correct way for the patch, also what should be my next step after review for the fixation of this bug.", "attachment_id": 8485930, "tags": [], "bug_id": 687140, "text": "Created attachment 8485930\nbug687140.diff\n\ni hope this the correct way for the patch, also what should be my next step after review for the fixation of this bug.", "is_private": false, "count": 56, "id": 9283957, "author": "dj.dij123@gmail.com", "creator": "dj.dij123@gmail.com", "creation_time": "2014-09-08T19:50:32Z", "time": "2014-09-08T19:50:32Z"}, {"count": 57, "id": 9289284, "is_private": false, "author": "mkmelin+mozilla@iki.fi", "creation_time": "2014-09-09T18:33:48Z", "time": "2014-09-09T18:33:48Z", "creator": "mkmelin+mozilla@iki.fi", "raw_text": "Did you edit that by hand? That's usually not a good idea.\nWhere it now reads \"New email alert ping ....\" should be what you have entered on the first line. \"# Bug 687140 - \"port of bug ....\", without the starting hashtag.\n\nSo, \"hg qrefresh -e\", then e.g. \"hg export qtip > b687140.patch\" and attach b687140.patch\n\nPlease fix that, and when you attach the new patch you should mark the old ones as obsolete. If it has review (like in this case) you can mark it review+ and state in the comment that you're carrying forward the review. \n\nWhen everything is ready you add the checkin-needed keyword to the bug, and someone will check it in for you.", "attachment_id": null, "bug_id": 687140, "text": "Did you edit that by hand? That's usually not a good idea.\nWhere it now reads \"New email alert ping ....\" should be what you have entered on the first line. \"# Bug 687140 - \"port of bug ....\", without the starting hashtag.\n\nSo, \"hg qrefresh -e\", then e.g. \"hg export qtip > b687140.patch\" and attach b687140.patch\n\nPlease fix that, and when you attach the new patch you should mark the old ones as obsolete. If it has review (like in this case) you can mark it review+ and state in the comment that you're carrying forward the review. \n\nWhen everything is ready you add the checkin-needed keyword to the bug, and someone will check it in for you.", "tags": []}, {"creator": "dj.dij123@gmail.com", "creation_time": "2014-09-16T16:40:41Z", "time": "2014-09-16T16:40:41Z", "author": "dj.dij123@gmail.com", "is_private": false, "count": 58, "id": 9317728, "bug_id": 687140, "text": "Created attachment 8490133\nb687140.patch\n\ni am carrying forward the review.", "tags": [], "attachment_id": 8490133, "raw_text": "i am carrying forward the review."}, {"count": 59, "id": 9560236, "is_private": false, "author": "clokep@patrick.cloke.us", "creation_time": "2014-11-07T13:39:09Z", "time": "2014-11-07T13:39:09Z", "creator": "clokep@patrick.cloke.us", "raw_text": "Review of attachment 8490133:\n-----------------------------------------------------------------\n\n::: mailnews/base/src/nsMessengerWinIntegration.cpp\n@@ +828,5 @@\n> +            // about Drafts, Queue, SentMail, Template, or Junk folders\n> +            if (!(flags & nsMsgFolderFlags::Inbox) &&\n> +                 (flags & (nsMsgFolderFlags::SpecialUse & ~nsMsgFolderFlags::Inbox)))\n> +              continue;\n> +\t\t\t  \n\nI'm processing checkin-needed, but this seems to add trailing whitespace. Can someone confirm if this can just be trimmed?", "attachment_id": 8490133, "tags": [], "bug_id": 687140, "text": "Comment on attachment 8490133\nb687140.patch\n\nReview of attachment 8490133:\n-----------------------------------------------------------------\n\n::: mailnews/base/src/nsMessengerWinIntegration.cpp\n@@ +828,5 @@\n> +            // about Drafts, Queue, SentMail, Template, or Junk folders\n> +            if (!(flags & nsMsgFolderFlags::Inbox) &&\n> +                 (flags & (nsMsgFolderFlags::SpecialUse & ~nsMsgFolderFlags::Inbox)))\n> +              continue;\n> +\t\t\t  \n\nI'm processing checkin-needed, but this seems to add trailing whitespace. Can someone confirm if this can just be trimmed?"}, {"bug_id": 687140, "text": "https://hg.mozilla.org/comm-central/rev/1ca0267e1790", "tags": [], "raw_text": "https://hg.mozilla.org/comm-central/rev/1ca0267e1790", "attachment_id": null, "author": "aleth@instantbird.org", "creator": "aleth@instantbird.org", "time": "2014-11-07T23:07:30Z", "creation_time": "2014-11-07T23:07:30Z", "is_private": false, "count": 60, "id": 9563177}, {"text": "Thanks for fixing this!", "bug_id": 687140, "tags": [], "raw_text": "Thanks for fixing this!", "attachment_id": null, "author": "aleth@instantbird.org", "time": "2014-11-08T01:14:25Z", "creation_time": "2014-11-08T01:14:25Z", "creator": "aleth@instantbird.org", "count": 61, "id": 9563610, "is_private": false}, {"is_private": false, "id": 9564314, "count": 62, "author": "mkmelin+mozilla@iki.fi", "creator": "mkmelin+mozilla@iki.fi", "creation_time": "2014-11-08T13:27:11Z", "time": "2014-11-08T13:27:11Z", "raw_text": "Backing out due to orange - https://hg.mozilla.org/comm-central/rev/e1347282bbec\n\nLooking at it more closely, the patch is indeed wrong. Compare when msgFolder gets set in the end (or not) on unix. \nhttp://mxr.mozilla.org/comm-central/source/mailnews/base/src/nsMessengerUnixIntegration.cpp#599", "attachment_id": null, "tags": [], "bug_id": 687140, "text": "Backing out due to orange - https://hg.mozilla.org/comm-central/rev/e1347282bbec\n\nLooking at it more closely, the patch is indeed wrong. Compare when msgFolder gets set in the end (or not) on unix. \nhttp://mxr.mozilla.org/comm-central/source/mailnews/base/src/nsMessengerUnixIntegration.cpp#599"}, {"tags": [], "bug_id": 687140, "text": "https://tbpl.mozilla.org/php/getParsedLog.php?id=52171545&tree=Thunderbird-Trunk&full=1#error4", "raw_text": "https://tbpl.mozilla.org/php/getParsedLog.php?id=52171545&tree=Thunderbird-Trunk&full=1#error4", "attachment_id": null, "author": "mkmelin+mozilla@iki.fi", "creation_time": "2014-11-08T13:27:22Z", "time": "2014-11-08T13:27:22Z", "creator": "mkmelin+mozilla@iki.fi", "id": 9564315, "count": 63, "is_private": false}, {"text": "Created attachment 8543788\nb687140.patch\n\nfrom what i understand from the last comment, i have tried to fix the mistakes in previous patch.", "bug_id": 687140, "tags": [], "attachment_id": 8543788, "raw_text": "from what i understand from the last comment, i have tried to fix the mistakes in previous patch.", "creator": "dj.dij123@gmail.com", "creation_time": "2015-01-05T05:26:21Z", "time": "2015-01-05T05:26:21Z", "author": "dj.dij123@gmail.com", "is_private": false, "id": 9750742, "count": 64}, {"is_private": false, "count": 65, "id": 9814149, "creator": "mkmelin+mozilla@iki.fi", "time": "2015-01-19T20:55:24Z", "creation_time": "2015-01-19T20:55:24Z", "author": "mkmelin+mozilla@iki.fi", "attachment_id": 8543788, "raw_text": "Review of attachment 8543788:\n-----------------------------------------------------------------\n\nUnfortunately, still fails. https://treeherder.mozilla.org/#/jobs?repo=try-comm-central&revision=9c99e14654c3\nYou can run it locally by going to the obj-dir, then\n\nmake SOLO_TEST=notification/test-notification.js mozmill-one", "bug_id": 687140, "text": "Comment on attachment 8543788\nb687140.patch\n\nReview of attachment 8543788:\n-----------------------------------------------------------------\n\nUnfortunately, still fails. https://treeherder.mozilla.org/#/jobs?repo=try-comm-central&revision=9c99e14654c3\nYou can run it locally by going to the obj-dir, then\n\nmake SOLO_TEST=notification/test-notification.js mozmill-one", "tags": []}, {"attachment_id": null, "raw_text": "This bug should be fixed, but in the meantime, a potentially helpful link:\nhttps://addons.mozilla.org/en-US/thunderbird/addon/imap-draft-unread/", "tags": [], "text": "This bug should be fixed, but in the meantime, a potentially helpful link:\nhttps://addons.mozilla.org/en-US/thunderbird/addon/imap-draft-unread/", "bug_id": 687140, "id": 9839726, "count": 66, "is_private": false, "time": "2015-01-25T23:52:28Z", "creation_time": "2015-01-25T23:52:28Z", "creator": "firstpeterfourten@gmail.com", "author": "firstpeterfourten@gmail.com"}, {"tags": [], "bug_id": 687140, "text": "dij, might you be able to finished this?", "attachment_id": null, "raw_text": "dij, might you be able to finished this?", "creator": "vseerror@lehigh.edu", "creation_time": "2015-12-03T02:53:38Z", "time": "2015-12-03T02:53:38Z", "author": "vseerror@lehigh.edu", "is_private": false, "count": 67, "id": 10983887}, {"creation_time": "2016-02-10T14:22:48Z", "time": "2016-02-10T14:22:48Z", "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "id": 11153783, "count": 68, "is_private": false, "tags": [], "text": "Bugs like this remind me why I hate notifications every time I turn it back on, even if just for testing.", "bug_id": 687140, "attachment_id": null, "raw_text": "Bugs like this remind me why I hate notifications every time I turn it back on, even if just for testing."}]}}}