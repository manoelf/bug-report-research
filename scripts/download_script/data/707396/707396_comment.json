{"bugs": {"707396": {"comments": [{"creator": "bugzillamozillaorg_serge_20140323@gautherie.fr", "author": "bugzillamozillaorg_serge_20140323@gautherie.fr", "raw_text": "Bug 512106 comment 0:\n{\nI think we should switch to using NS_MIN/NS_MAX instead, in all C++ code\nif we can, and then #undef these macros in a central location to protect\nus from mistakes (like bug 511482).\n}\n\nThis would have prevented bug 707395, for example.\n\nInstead_of/In_addition_to undefining NS_MIN/NS_MAX, they should be redefined as explicit build error messages.", "creation_time": "2011-12-03T02:48:58Z", "text": "Bug 512106 comment 0:\n{\nI think we should switch to using NS_MIN/NS_MAX instead, in all C++ code\nif we can, and then #undef these macros in a central location to protect\nus from mistakes (like bug 511482).\n}\n\nThis would have prevented bug 707395, for example.\n\nInstead_of/In_addition_to undefining NS_MIN/NS_MAX, they should be redefined as explicit build error messages.", "time": "2011-12-03T02:48:58Z", "attachment_id": null, "count": 0, "is_private": false, "tags": [], "id": 5890157, "bug_id": 707396}, {"author": "bugzillamozillaorg_serge_20140323@gautherie.fr", "creator": "bugzillamozillaorg_serge_20140323@gautherie.fr", "creation_time": "2011-12-03T03:00:09Z", "raw_text": "Ah, I just noticed the following comment:\n\n(In reply to Mats Palmgren [:mats] from bug 512106 comment #15)\n> I don't think adding an #undef in a header somewhere will help much\n> since it needs to come after the #include of prtypes.h to have an effect.\n> The best would be to remove them from prtypes.h but I suspect we can't\n> do that.  We should simply stop using other things from that header file,\n> PRBool for example, and then eventually we can just remove the #include.\n\nIirc, s/PRBool/bool/g has been done (at least to some extent).\n\nMaybe morph this bug to (a meta bug) \"Stop including prtypes.h\"?\nhttp://mxr.mozilla.org/mozilla-central/search?string=prtypes.h&case=1\n\"Found 321 matching lines in 313 files\"\nhttp://mxr.mozilla.org/comm-central/search?string=prtypes.h&case=1\n\"Found 345 matching lines in 337 files\"", "time": "2011-12-03T03:00:09Z", "attachment_id": null, "text": "Ah, I just noticed the following comment:\n\n(In reply to Mats Palmgren [:mats] from bug 512106 comment #15)\n> I don't think adding an #undef in a header somewhere will help much\n> since it needs to come after the #include of prtypes.h to have an effect.\n> The best would be to remove them from prtypes.h but I suspect we can't\n> do that.  We should simply stop using other things from that header file,\n> PRBool for example, and then eventually we can just remove the #include.\n\nIirc, s/PRBool/bool/g has been done (at least to some extent).\n\nMaybe morph this bug to (a meta bug) \"Stop including prtypes.h\"?\nhttp://mxr.mozilla.org/mozilla-central/search?string=prtypes.h&case=1\n\"Found 321 matching lines in 313 files\"\nhttp://mxr.mozilla.org/comm-central/search?string=prtypes.h&case=1\n\"Found 345 matching lines in 337 files\"", "id": 5890165, "tags": [], "is_private": false, "count": 1, "bug_id": 707396}]}}, "comments": {}}