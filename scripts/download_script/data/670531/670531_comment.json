{"bugs": {"670531": {"comments": [{"tags": [], "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a2) Gecko/20110706 Firefox/7.0a2\nBuild ID: 20110706042005\n\nSteps to reproduce:\n\n1. Visited a website\n2. Website redirected to a different page, changing the URL path a bit\n3. I edited the Location bar content to put back the original URL\n3b. Note: I did not press Enter after modifying the URL, as I didn't want the redirection to happen again\n4. I copied the (modified) Location bar content to the clipboard using Ctrl-C.\n5. I pasted the clipboard content to another application (tested with different applications: Notepad, and Trillian - an IRC client).\n\nI visited a website, which then redirected to a different page, changing the URL a bit.  I then edited the URL to put back the original URL (before the redirect), and then I copied the location bar content to the clipboard using Ctrl-C (without pressing enter so the URL wouldn't get modified again by the redirection).\n\n\nActual results:\n\nWhen pasted, the URL was missing the http:// part in the URL.\n\n\nExpected results:\n\nhttp:// (or whichever protocol the original URL used before editing it) should be present at the start of the pasted URL.  This is the actual behaviour that happens if you copy/paste without editing the location bar content.", "bug_id": 670531, "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a2) Gecko/20110706 Firefox/7.0a2\nBuild ID: 20110706042005\n\nSteps to reproduce:\n\n1. Visited a website\n2. Website redirected to a different page, changing the URL path a bit\n3. I edited the Location bar content to put back the original URL\n3b. Note: I did not press Enter after modifying the URL, as I didn't want the redirection to happen again\n4. I copied the (modified) Location bar content to the clipboard using Ctrl-C.\n5. I pasted the clipboard content to another application (tested with different applications: Notepad, and Trillian - an IRC client).\n\nI visited a website, which then redirected to a different page, changing the URL a bit.  I then edited the URL to put back the original URL (before the redirect), and then I copied the location bar content to the clipboard using Ctrl-C (without pressing enter so the URL wouldn't get modified again by the redirection).\n\n\nActual results:\n\nWhen pasted, the URL was missing the http:// part in the URL.\n\n\nExpected results:\n\nhttp:// (or whichever protocol the original URL used before editing it) should be present at the start of the pasted URL.  This is the actual behaviour that happens if you copy/paste without editing the location bar content.", "time": "2011-07-10T16:36:05Z", "creation_time": "2011-07-10T16:36:05Z", "creator": "rmerl@lostrealm.ca", "author": "rmerl@lostrealm.ca", "id": 5583454, "count": 0, "is_private": false}, {"attachment_id": null, "raw_text": "", "tags": [], "bug_id": 670531, "text": "\n\n*** This bug has been marked as a duplicate of bug 666964 ***", "count": 1, "id": 5583457, "is_private": false, "time": "2011-07-10T16:38:34Z", "creation_time": "2011-07-10T16:38:34Z", "creator": "mardeg@inbox.ru", "author": "mardeg@inbox.ru"}, {"tags": [], "bug_id": 670531, "text": "This isn't a duplicate. Once the location bar is modified, we no longer fall back to using the loaded URL, and just copy what is selected.", "attachment_id": null, "raw_text": "This isn't a duplicate. Once the location bar is modified, we no longer fall back to using the loaded URL, and just copy what is selected.", "creator": "gavin.sharp@gmail.com", "time": "2011-07-10T21:53:10Z", "creation_time": "2011-07-10T21:53:10Z", "author": "gavin.sharp@gmail.com", "is_private": false, "count": 2, "id": 5583659}, {"raw_text": "", "attachment_id": null, "bug_id": 670531, "text": "*** Bug 670714 has been marked as a duplicate of this bug. ***", "tags": [], "is_private": false, "count": 3, "id": 5602036, "author": "vseerror@lehigh.edu", "creator": "vseerror@lehigh.edu", "creation_time": "2011-07-20T16:58:50Z", "time": "2011-07-20T16:58:50Z"}, {"bug_id": 670531, "text": "I can confirm this on tonight's Aurora. Little sad how the feature landed with most use cases broken :-/", "tags": [], "raw_text": "I can confirm this on tonight's Aurora. Little sad how the feature landed with most use cases broken :-/", "attachment_id": null, "author": "bugmail@wenzel.io", "creation_time": "2011-07-23T19:51:44Z", "time": "2011-07-23T19:51:44Z", "creator": "bugmail@wenzel.io", "id": 5609275, "count": 4, "is_private": false}, {"tags": [], "bug_id": 670531, "text": "That isn't a fair characterization; \"most use cases\" aren't broken. Editing the URL (without loading it) and then trying to copy it is an edge case. (that isn't to say we shouldn't fix this - it's just tricky to do reliably)", "author": "gavin.sharp@gmail.com", "creation_time": "2011-07-23T19:58:01Z", "time": "2011-07-23T19:58:01Z", "creator": "gavin.sharp@gmail.com", "raw_text": "That isn't a fair characterization; \"most use cases\" aren't broken. Editing the URL (without loading it) and then trying to copy it is an edge case. (that isn't to say we shouldn't fix this - it's just tricky to do reliably)", "id": 5609278, "count": 5, "attachment_id": null, "is_private": false}, {"raw_text": "", "attachment_id": null, "bug_id": 670531, "text": "*** Bug 671929 has been marked as a duplicate of this bug. ***", "tags": [], "is_private": false, "id": 5609322, "count": 6, "author": "gavin.sharp@gmail.com", "creator": "gavin.sharp@gmail.com", "creation_time": "2011-07-23T21:50:45Z", "time": "2011-07-23T21:50:45Z"}, {"attachment_id": null, "raw_text": "(In reply to comment #5)\n> Editing\n> the URL (without loading it) and then trying to copy it is an edge case.\n> (that isn't to say we shouldn't fix this - it's just tricky to do reliably)\n\nAn alternative approach that could simplify some cases: Add back the \"http://\" when the URL bar gets focus. The only state to be maintained is whether the \"http://\"  has been stripped off.\n\nImplementation detail: Add it to the left of the visible area of the URL bar (i.e., increase the scroll position of the URL bar by 7 characters). That way there wouldn't be a visible position change to annoy someone trying to select characters in the URL, and a mouse drag to the left would pick up the characters.\n\nOr, even simpler: Never remove the \"http://\". Just change the initial shift position of HTTP URLs in the URL bar so 7 characters aren't visible on initial load but are always available to shift into view or select before of after editing.\n\n(I can think of one \"edge case\" where these two approaches fail: Someone sees \"mozilla.org\" in the URL bar and isn't aware of the \"http://\" to the left. The mouse is positioned to the left of the \"m\" and \"http://\" (or \"https://\") is typed followed by <SelectAll><Copy>. The copied UTL has two protocols. I think this requires an experience but naive user. Hmmm, sounds like something I'd do.)", "tags": [], "bug_id": 670531, "text": "(In reply to comment #5)\n> Editing\n> the URL (without loading it) and then trying to copy it is an edge case.\n> (that isn't to say we shouldn't fix this - it's just tricky to do reliably)\n\nAn alternative approach that could simplify some cases: Add back the \"http://\" when the URL bar gets focus. The only state to be maintained is whether the \"http://\"  has been stripped off.\n\nImplementation detail: Add it to the left of the visible area of the URL bar (i.e., increase the scroll position of the URL bar by 7 characters). That way there wouldn't be a visible position change to annoy someone trying to select characters in the URL, and a mouse drag to the left would pick up the characters.\n\nOr, even simpler: Never remove the \"http://\". Just change the initial shift position of HTTP URLs in the URL bar so 7 characters aren't visible on initial load but are always available to shift into view or select before of after editing.\n\n(I can think of one \"edge case\" where these two approaches fail: Someone sees \"mozilla.org\" in the URL bar and isn't aware of the \"http://\" to the left. The mouse is positioned to the left of the \"m\" and \"http://\" (or \"https://\") is typed followed by <SelectAll><Copy>. The copied UTL has two protocols. I think this requires an experience but naive user. Hmmm, sounds like something I'd do.)", "count": 7, "id": 5609400, "is_private": false, "creation_time": "2011-07-23T23:09:35Z", "time": "2011-07-23T23:09:35Z", "creator": "bj@herbison.com", "author": "bj@herbison.com"}, {"raw_text": "(In reply to comment #5)\n> That isn't a fair characterization; \"most use cases\" aren't broken. Editing\n> the URL (without loading it) and then trying to copy it is an edge case.\n\nRight, apologies, I spoke too generally. I guess I was more unhappy to see that this feature has so many edge cases to consider. Thanks for working on it, Gavin :)", "attachment_id": null, "bug_id": 670531, "text": "(In reply to comment #5)\n> That isn't a fair characterization; \"most use cases\" aren't broken. Editing\n> the URL (without loading it) and then trying to copy it is an edge case.\n\nRight, apologies, I spoke too generally. I guess I was more unhappy to see that this feature has so many edge cases to consider. Thanks for working on it, Gavin :)", "tags": [], "id": 5609426, "count": 8, "is_private": false, "author": "bugmail@wenzel.io", "creation_time": "2011-07-24T00:20:38Z", "time": "2011-07-24T00:20:38Z", "creator": "bugmail@wenzel.io"}, {"attachment_id": null, "raw_text": "(In reply to comment #5)\n> That isn't a fair characterization; \"most use cases\" aren't broken. Editing\n> the URL (without loading it) and then trying to copy it is an edge case.\n\nAnother use case of URL editing is: \"Add an 's' to the protocol\" in order to switch to HTTPS. This will be covered by B.J.s proposal.", "text": "(In reply to comment #5)\n> That isn't a fair characterization; \"most use cases\" aren't broken. Editing\n> the URL (without loading it) and then trying to copy it is an edge case.\n\nAnother use case of URL editing is: \"Add an 's' to the protocol\" in order to switch to HTTPS. This will be covered by B.J.s proposal.", "bug_id": 670531, "tags": [], "id": 5609719, "count": 9, "is_private": false, "time": "2011-07-24T13:53:12Z", "creation_time": "2011-07-24T13:53:12Z", "creator": "kdevel@vogtner.de", "author": "kdevel@vogtner.de"}, {"is_private": false, "id": 5610299, "count": 10, "creator": "alice0775@gmail.com", "time": "2011-07-25T04:33:37Z", "creation_time": "2011-07-25T04:33:37Z", "author": "alice0775@gmail.com", "attachment_id": null, "raw_text": "", "tags": [], "text": "*** Bug 673839 has been marked as a duplicate of this bug. ***", "bug_id": 670531}, {"raw_text": "Note that the STR in bug 673839 doesn't require you to edit the location bar's text -- just type something, press down to select the first awesomebar result, press ctrl-l, ctrl-c.", "attachment_id": null, "tags": [], "bug_id": 670531, "text": "Note that the STR in bug 673839 doesn't require you to edit the location bar's text -- just type something, press down to select the first awesomebar result, press ctrl-l, ctrl-c.", "is_private": false, "id": 5610720, "count": 11, "author": "justin.lebar+bug@gmail.com", "creator": "justin.lebar+bug@gmail.com", "time": "2011-07-25T12:31:54Z", "creation_time": "2011-07-25T12:31:54Z"}, {"tags": [], "text": "(In reply to comment #7)\n> (In reply to comment #5)\n> > Editing\n> > the URL (without loading it) and then trying to copy it is an edge case.\n> > (that isn't to say we shouldn't fix this - it's just tricky to do reliably)\n> \n> An alternative approach that could simplify some cases: Add back the\n> \"http://\" when the URL bar gets focus. The only state to be maintained is\n> whether the \"http://\"  has been stripped off.\n\nBig +1\n\nThis would also fix the only gripe I have due to vanishing http:// breakage of bit.ly functionality described here http://maketecheasier.com/quickly-shorten-links-from-address-bar =(", "bug_id": 670531, "raw_text": "(In reply to comment #7)\n> (In reply to comment #5)\n> > Editing\n> > the URL (without loading it) and then trying to copy it is an edge case.\n> > (that isn't to say we shouldn't fix this - it's just tricky to do reliably)\n> \n> An alternative approach that could simplify some cases: Add back the\n> \"http://\" when the URL bar gets focus. The only state to be maintained is\n> whether the \"http://\"  has been stripped off.\n\nBig +1\n\nThis would also fix the only gripe I have due to vanishing http:// breakage of bit.ly functionality described here http://maketecheasier.com/quickly-shorten-links-from-address-bar =(", "attachment_id": null, "author": "alex_mayorga@yahoo.com", "time": "2011-07-26T16:51:47Z", "creation_time": "2011-07-26T16:51:47Z", "creator": "alex_mayorga@yahoo.com", "count": 12, "id": 5614157, "is_private": false}, {"author": "Smorpg@gmail.com", "time": "2011-08-24T21:37:51Z", "creation_time": "2011-08-24T21:37:51Z", "creator": "Smorpg@gmail.com", "count": 13, "id": 5676142, "is_private": false, "bug_id": 670531, "text": "I'm going to add that http:// fails to get copied if you try to copy a URL before the page has loaded fully, even without modifying it.\n\nThis is very annoying because I either have to wait for the page to load fully or add the http:// manually when copying a URL, happens to me about a dozen times per day.\n\nI'm going to disable the URL-shortering feature for now because it's simply not working correctly.\n\nShould I file this as a separate bug or not?", "tags": [], "raw_text": "I'm going to add that http:// fails to get copied if you try to copy a URL before the page has loaded fully, even without modifying it.\n\nThis is very annoying because I either have to wait for the page to load fully or add the http:// manually when copying a URL, happens to me about a dozen times per day.\n\nI'm going to disable the URL-shortering feature for now because it's simply not working correctly.\n\nShould I file this as a separate bug or not?", "attachment_id": null}, {"raw_text": "(In reply to Nick from comment #13)\n> I'm going to add that http:// fails to get copied if you try to copy a URL\n> before the page has loaded fully, even without modifying it. [...]\n> \n> Should I file this as a separate bug or not?\n\nAt least some of these cases are covered by bug 668019.", "attachment_id": null, "text": "(In reply to Nick from comment #13)\n> I'm going to add that http:// fails to get copied if you try to copy a URL\n> before the page has loaded fully, even without modifying it. [...]\n> \n> Should I file this as a separate bug or not?\n\nAt least some of these cases are covered by bug 668019.", "bug_id": 670531, "tags": [], "id": 5676155, "count": 14, "is_private": false, "author": "mbrubeck@limpet.net", "creation_time": "2011-08-24T21:41:35Z", "time": "2011-08-24T21:41:35Z", "creator": "mbrubeck@limpet.net"}, {"creator": "jhopkins@mozilla.com", "time": "2011-09-24T19:45:35Z", "creation_time": "2011-09-24T19:45:35Z", "author": "jhopkins@mozilla.com", "is_private": false, "id": 5735587, "count": 15, "text": "One usability issue I have with the http protocol being hidden is that \"what I see is not what I get\" when I copy a link from the location bar to the clipboard.  I find it mildly disconcerting.", "bug_id": 670531, "tags": [], "attachment_id": null, "raw_text": "One usability issue I have with the http protocol being hidden is that \"what I see is not what I get\" when I copy a link from the location bar to the clipboard.  I find it mildly disconcerting."}, {"text": "*** Bug 695329 has been marked as a duplicate of this bug. ***", "bug_id": 670531, "tags": [], "attachment_id": null, "raw_text": "", "time": "2011-10-18T16:20:11Z", "creation_time": "2011-10-18T16:20:11Z", "creator": "dao+bmo@mozilla.com", "author": "dao+bmo@mozilla.com", "count": 16, "id": 5789300, "is_private": false}, {"attachment_id": null, "raw_text": "", "text": "*** Bug 695621 has been marked as a duplicate of this bug. ***", "bug_id": 670531, "tags": [], "id": 5791297, "count": 17, "is_private": false, "time": "2011-10-19T06:54:37Z", "creation_time": "2011-10-19T06:54:37Z", "creator": "mardeg@inbox.ru", "author": "mardeg@inbox.ru"}, {"author": "tnikkel@gmail.com", "creator": "tnikkel@gmail.com", "time": "2011-10-27T06:25:49Z", "creation_time": "2011-10-27T06:25:49Z", "is_private": false, "id": 5808327, "count": 18, "tags": [], "bug_id": 670531, "text": "Bug 697248 is a special case of this where we use undo to go back to the original contents of the location bar but still don't copy the http.", "raw_text": "Bug 697248 is a special case of this where we use undo to go back to the original contents of the location bar but still don't copy the http.", "attachment_id": null}, {"author": "dao+bmo@mozilla.com", "creator": "dao+bmo@mozilla.com", "time": "2011-10-28T07:53:07Z", "creation_time": "2011-10-28T07:53:07Z", "is_private": false, "id": 5810893, "count": 19, "tags": [], "bug_id": 670531, "text": "*** Bug 697853 has been marked as a duplicate of this bug. ***", "raw_text": "", "attachment_id": null}, {"creation_time": "2012-01-23T02:19:11Z", "time": "2012-01-23T02:19:11Z", "creator": "gavin.sharp@gmail.com", "text": "*** Bug 720282 has been marked as a duplicate of this bug. ***", "bug_id": 670531, "tags": [], "author": "gavin.sharp@gmail.com", "count": 20, "id": 5999763, "attachment_id": null, "is_private": false, "raw_text": ""}, {"creator": "felash@gmail.com", "creation_time": "2012-01-24T12:48:05Z", "time": "2012-01-24T12:48:05Z", "author": "felash@gmail.com", "is_private": false, "count": 21, "id": 6003863, "tags": [], "bug_id": 670531, "text": "ok, so, is somebody working on this ?\n5 duplicates, 10 votes, it seems to be a quite important bug.", "attachment_id": null, "raw_text": "ok, so, is somebody working on this ?\n5 duplicates, 10 votes, it seems to be a quite important bug."}, {"is_private": false, "id": 6182578, "count": 22, "creator": "john@pointysoftware.net", "time": "2012-03-29T18:40:31Z", "creation_time": "2012-03-29T18:40:31Z", "author": "john@pointysoftware.net", "attachment_id": 610617, "raw_text": "We're bailing out in _getSelectedValueForClipboard if the url has been edited by the user. However, our fixups below account for issues this could cause (such as a new protocol being added). Someone more familiar with this code would need to take a look at if this can be safely removed.", "text": "Created attachment 610617\nRemove the this.valueIsTyped bailout\n\nWe're bailing out in _getSelectedValueForClipboard if the url has been edited by the user. However, our fixups below account for issues this could cause (such as a new protocol being added). Someone more familiar with this code would need to take a look at if this can be safely removed.", "bug_id": 670531, "tags": []}, {"author": "dao+bmo@mozilla.com", "creator": "dao+bmo@mozilla.com", "time": "2012-03-29T19:07:16Z", "creation_time": "2012-03-29T19:07:16Z", "is_private": false, "id": 6182691, "count": 23, "tags": [], "bug_id": 670531, "text": "Comment on attachment 610617\nRemove the this.valueIsTyped bailout\n\nThis looks like it would copy \"http://foo/\" when typing \"foo\" in the location bar and selecting everything.", "raw_text": "This looks like it would copy \"http://foo/\" when typing \"foo\" in the location bar and selecting everything.", "attachment_id": 610617}, {"raw_text": "(In reply to D\u00e3o Gottwald [:dao] from comment #23)\n> Comment on attachment 610617\n> Remove the this.valueIsTyped bailout\n> \n> This looks like it would copy \"http://foo/\" when typing \"foo\" in the\n> location bar and selecting everything.\n\nWhat behavior would we want here? We could extend the check for if they've selected through what looks like a full domain, such that \"foo\" would yield \"foo\" but \"foo.foo/blee\" would yield \"http://foo.foo/blee\"", "attachment_id": null, "bug_id": 670531, "text": "(In reply to D\u00e3o Gottwald [:dao] from comment #23)\n> Comment on attachment 610617\n> Remove the this.valueIsTyped bailout\n> \n> This looks like it would copy \"http://foo/\" when typing \"foo\" in the\n> location bar and selecting everything.\n\nWhat behavior would we want here? We could extend the check for if they've selected through what looks like a full domain, such that \"foo\" would yield \"foo\" but \"foo.foo/blee\" would yield \"http://foo.foo/blee\"", "tags": [], "is_private": false, "count": 24, "id": 6182737, "author": "john@pointysoftware.net", "creator": "john@pointysoftware.net", "creation_time": "2012-03-29T19:19:24Z", "time": "2012-03-29T19:19:24Z"}, {"creator": "dao+bmo@mozilla.com", "time": "2012-03-29T19:24:31Z", "creation_time": "2012-03-29T19:24:31Z", "author": "dao+bmo@mozilla.com", "is_private": false, "id": 6182755, "count": 25, "tags": [], "bug_id": 670531, "text": "Where exactly would you draw the line? What about \"foo.foo\" and \"localhost\"?", "attachment_id": null, "raw_text": "Where exactly would you draw the line? What about \"foo.foo\" and \"localhost\"?"}, {"author": "jstpierre@mecheye.net", "creator": "jstpierre@mecheye.net", "creation_time": "2012-03-29T19:50:00Z", "time": "2012-03-29T19:50:00Z", "is_private": false, "id": 6182830, "count": 26, "tags": [], "bug_id": 670531, "text": "The behaviour should be consistent with what was there before the protocol hiding existed: if there's a hidden protocol, it should be copied, otherwise no.\n\nI don't know the internal code, but it doesn't seem that hard to me -- add the hidden protocol when the browser resolves it, and remove it when the user blanks or replaces the text in the entry.", "raw_text": "The behaviour should be consistent with what was there before the protocol hiding existed: if there's a hidden protocol, it should be copied, otherwise no.\n\nI don't know the internal code, but it doesn't seem that hard to me -- add the hidden protocol when the browser resolves it, and remove it when the user blanks or replaces the text in the entry.", "attachment_id": null}, {"author": "john@pointysoftware.net", "creator": "john@pointysoftware.net", "creation_time": "2012-03-29T20:21:15Z", "time": "2012-03-29T20:21:15Z", "is_private": false, "count": 27, "id": 6182928, "tags": [], "bug_id": 670531, "text": "(In reply to D\u00e3o Gottwald [:dao] from comment #25)\n> Where exactly would you draw the line? What about \"foo.foo\" and \"localhost\"?\n\nRequiring a selection through a slash in the case the user has edited the field seems reasonable. The case where \"foo/foo\" yields \"http://foo/foo/\" is much less of a user experience hit than the current behavior -- I think assuming users copying out of the URL bar generally want a URL is fairly sane. A bare+edited \"foo.foo\" or \"localhost\" would still fail to prepend the protocol.\n\nAs is, touching the URL at all removes your ability to copy it in a sane fashion -- If I want to share a link to a google search I've just performed in IRC: I select the blob of useless parameters google appends and press cut-selectall-copy. Now my clipboard has no protocol, and the result wont be linkified by most IRC clients. I've been hitting this a lot lately linking people to specific views of areweslimyet.com - I'll add or remove some parameters and copy it, only to be given a link I need to manually fix up more after pasting.", "raw_text": "(In reply to D\u00e3o Gottwald [:dao] from comment #25)\n> Where exactly would you draw the line? What about \"foo.foo\" and \"localhost\"?\n\nRequiring a selection through a slash in the case the user has edited the field seems reasonable. The case where \"foo/foo\" yields \"http://foo/foo/\" is much less of a user experience hit than the current behavior -- I think assuming users copying out of the URL bar generally want a URL is fairly sane. A bare+edited \"foo.foo\" or \"localhost\" would still fail to prepend the protocol.\n\nAs is, touching the URL at all removes your ability to copy it in a sane fashion -- If I want to share a link to a google search I've just performed in IRC: I select the blob of useless parameters google appends and press cut-selectall-copy. Now my clipboard has no protocol, and the result wont be linkified by most IRC clients. I've been hitting this a lot lately linking people to specific views of areweslimyet.com - I'll add or remove some parameters and copy it, only to be given a link I need to manually fix up more after pasting.", "attachment_id": null}, {"author": "eb3f73+buzilla+com@yaymail.com", "creation_time": "2012-07-08T23:15:13Z", "time": "2012-07-08T23:15:13Z", "creator": "eb3f73+buzilla+com@yaymail.com", "id": 6453940, "count": 28, "is_private": false, "tags": [], "bug_id": 670531, "text": "Once you magically hide the protocol in the URL bar (like Chrome does, instead of like iOS Safari does), THERE IS NO CORRECT BEHAVIOR FOR CUT/COPY. See, e.g., <http://code.google.com/p/chromium/issues/detail?id=131143>.\n\nIf you choose to omit the protocol, you're screwed because there's no way to cut/copy the protocol (since it's magically hidden). If you choose to include the protocol, you're screwed, because people expect what is visibly selected to end up on the clipboard.\n\n<Rant>Either way, it's broken, broken, broken. This is what happens when people get \"clever\" and \"fix\" things that aren't in need of repair, like working magic to \"make things easier\" without fully considering all the ways in which people actually use the interface. It's arrogant and often harmful. The ONLY way to do this right is to do URL hiding a la iOS Safari, which Chrome and Firefox both have explicitly rejected. (Sadly, it appears that Mountain Lion might adopt the same asinine behavior as Chrome; see <http://mountain-lion.en.softonic.com/mac>.)</Rant>\n\nJust my $1.05.... ;o)", "raw_text": "Once you magically hide the protocol in the URL bar (like Chrome does, instead of like iOS Safari does), THERE IS NO CORRECT BEHAVIOR FOR CUT/COPY. See, e.g., <http://code.google.com/p/chromium/issues/detail?id=131143>.\n\nIf you choose to omit the protocol, you're screwed because there's no way to cut/copy the protocol (since it's magically hidden). If you choose to include the protocol, you're screwed, because people expect what is visibly selected to end up on the clipboard.\n\n<Rant>Either way, it's broken, broken, broken. This is what happens when people get \"clever\" and \"fix\" things that aren't in need of repair, like working magic to \"make things easier\" without fully considering all the ways in which people actually use the interface. It's arrogant and often harmful. The ONLY way to do this right is to do URL hiding a la iOS Safari, which Chrome and Firefox both have explicitly rejected. (Sadly, it appears that Mountain Lion might adopt the same asinine behavior as Chrome; see <http://mountain-lion.en.softonic.com/mac>.)</Rant>\n\nJust my $1.05.... ;o)", "attachment_id": null}, {"creator": "john@pointysoftware.net", "creation_time": "2012-07-08T23:22:40Z", "time": "2012-07-08T23:22:40Z", "author": "john@pointysoftware.net", "is_private": false, "count": 29, "id": 6453944, "tags": [], "text": "(In reply to Matthew Bogosian from comment #28)\n> Once you magically hide the protocol in the URL bar (like Chrome does,\n> instead of like iOS Safari does), THERE IS NO CORRECT BEHAVIOR FOR CUT/COPY.\n> See, e.g., <http://code.google.com/p/chromium/issues/detail?id=131143>.\n> \n> If you choose to omit the protocol, you're screwed because there's no way to\n> cut/copy the protocol (since it's magically hidden). If you choose to\n> include the protocol, you're screwed, because people expect what is visibly\n> selected to end up on the clipboard.\n> \n> <Rant>Either way, it's broken, broken, broken. This is what happens when\n> people get \"clever\" and \"fix\" things that aren't in need of repair, like\n> working magic to \"make things easier\" without fully considering all the ways\n> in which people actually use the interface. It's arrogant and often harmful.\n> The ONLY way to do this right is to do URL hiding a la iOS Safari, which\n> Chrome and Firefox both have explicitly rejected. (Sadly, it appears that\n> Mountain Lion might adopt the same asinine behavior as Chrome; see\n> <http://mountain-lion.en.softonic.com/mac>.)</Rant>\n> \n> Just my $1.05.... ;o)\n\nDiscussing features would be more productive on the mailing list, rather than a random bug about said feature: https://lists.mozilla.org/listinfo/dev-apps-firefox\n\nAdditionally, you can disable this functionality in Firefox entirely by going to about:config and setting browser.urlbar.trimURLs to 'false'", "bug_id": 670531, "attachment_id": null, "raw_text": "(In reply to Matthew Bogosian from comment #28)\n> Once you magically hide the protocol in the URL bar (like Chrome does,\n> instead of like iOS Safari does), THERE IS NO CORRECT BEHAVIOR FOR CUT/COPY.\n> See, e.g., <http://code.google.com/p/chromium/issues/detail?id=131143>.\n> \n> If you choose to omit the protocol, you're screwed because there's no way to\n> cut/copy the protocol (since it's magically hidden). If you choose to\n> include the protocol, you're screwed, because people expect what is visibly\n> selected to end up on the clipboard.\n> \n> <Rant>Either way, it's broken, broken, broken. This is what happens when\n> people get \"clever\" and \"fix\" things that aren't in need of repair, like\n> working magic to \"make things easier\" without fully considering all the ways\n> in which people actually use the interface. It's arrogant and often harmful.\n> The ONLY way to do this right is to do URL hiding a la iOS Safari, which\n> Chrome and Firefox both have explicitly rejected. (Sadly, it appears that\n> Mountain Lion might adopt the same asinine behavior as Chrome; see\n> <http://mountain-lion.en.softonic.com/mac>.)</Rant>\n> \n> Just my $1.05.... ;o)\n\nDiscussing features would be more productive on the mailing list, rather than a random bug about said feature: https://lists.mozilla.org/listinfo/dev-apps-firefox\n\nAdditionally, you can disable this functionality in Firefox entirely by going to about:config and setting browser.urlbar.trimURLs to 'false'"}, {"author": "reuben.morais@gmail.com", "creator": "reuben.morais@gmail.com", "creation_time": "2012-07-08T23:38:03Z", "time": "2012-07-08T23:38:03Z", "is_private": false, "id": 6453957, "count": 30, "tags": [], "text": "I still believe we should show the protocol when the urlbar is focused. I believe Opeara does this. It is simple and the results of text operations are very clear to the user. Does this sound reasonable to the UX people?", "bug_id": 670531, "raw_text": "I still believe we should show the protocol when the urlbar is focused. I believe Opeara does this. It is simple and the results of text operations are very clear to the user. Does this sound reasonable to the UX people?", "attachment_id": null}, {"creation_time": "2012-07-09T06:15:13Z", "time": "2012-07-09T06:15:13Z", "creator": "felash@gmail.com", "author": "felash@gmail.com", "count": 31, "id": 6454315, "is_private": false, "tags": [], "bug_id": 670531, "text": "+1, I believe this is the only sane way to implement the feature.", "attachment_id": null, "raw_text": "+1, I believe this is the only sane way to implement the feature."}, {"attachment_id": null, "raw_text": "This bug only deals with the clipboard aspects of cutting/copying \"magically\" hidden URLs. It does not deal with hiding (or showing if the URL bar has focus). That is bug 665580 which has been marked as fixed. While I agree with the last two comments, they are more appropriately made either in bug 665580 or in a new bug upon which this one depends.\n\nIn response to comment 29, my comment 28 is actually on point for this bug. My point was that this bug *cannot* be fixed with the current (broken) scheme-hiding behavior. Until that aberration is removed (or at least fixed to reveal the scheme when the URL bar has focus), no matter which behavior one picks for resolving this bug (either RESOLVED as FIXED or WONTFIX), it's the wrong behavior (see my comments here <http://code.google.com/p/chromium/issues/detail?id=131143>). There can be no correct behavior as long as you need something copied that isn't seen and where (simultaneously) you shouldn't copy something that isn't seen. (And no, requiring all users to set browser.urlbar.trimURLs to false is *not* a fix.)", "tags": [], "text": "This bug only deals with the clipboard aspects of cutting/copying \"magically\" hidden URLs. It does not deal with hiding (or showing if the URL bar has focus). That is bug 665580 which has been marked as fixed. While I agree with the last two comments, they are more appropriately made either in bug 665580 or in a new bug upon which this one depends.\n\nIn response to comment 29, my comment 28 is actually on point for this bug. My point was that this bug *cannot* be fixed with the current (broken) scheme-hiding behavior. Until that aberration is removed (or at least fixed to reveal the scheme when the URL bar has focus), no matter which behavior one picks for resolving this bug (either RESOLVED as FIXED or WONTFIX), it's the wrong behavior (see my comments here <http://code.google.com/p/chromium/issues/detail?id=131143>). There can be no correct behavior as long as you need something copied that isn't seen and where (simultaneously) you shouldn't copy something that isn't seen. (And no, requiring all users to set browser.urlbar.trimURLs to false is *not* a fix.)", "bug_id": 670531, "count": 32, "id": 6454332, "is_private": false, "time": "2012-07-09T06:32:46Z", "creation_time": "2012-07-09T06:32:46Z", "creator": "eb3f73+buzilla+com@yaymail.com", "author": "eb3f73+buzilla+com@yaymail.com"}, {"attachment_id": null, "raw_text": "", "bug_id": 670531, "text": "*** Bug 786260 has been marked as a duplicate of this bug. ***", "tags": [], "is_private": false, "count": 33, "id": 6589658, "creator": "dao+bmo@mozilla.com", "time": "2012-08-28T15:05:23Z", "creation_time": "2012-08-28T15:05:23Z", "author": "dao+bmo@mozilla.com"}, {"text": "*** Bug 786268 has been marked as a duplicate of this bug. ***", "bug_id": 670531, "tags": [], "raw_text": "", "attachment_id": null, "author": "dao+bmo@mozilla.com", "time": "2012-08-28T15:07:17Z", "creation_time": "2012-08-28T15:07:17Z", "creator": "dao+bmo@mozilla.com", "count": 34, "id": 6589666, "is_private": false}, {"tags": [], "text": "I agree with comments #30 and #31\nIt would probably also fix the performance problem with URL trimming.\n\nHowever, that bug was closed WONTFIX - sorry guys.  bug #667271", "bug_id": 670531, "attachment_id": null, "raw_text": "I agree with comments #30 and #31\nIt would probably also fix the performance problem with URL trimming.\n\nHowever, that bug was closed WONTFIX - sorry guys.  bug #667271", "creator": "bugs@m8y.org", "time": "2012-09-04T15:03:41Z", "creation_time": "2012-09-04T15:03:41Z", "author": "bugs@m8y.org", "is_private": false, "id": 6607440, "count": 35}, {"is_private": false, "count": 36, "id": 6963083, "creator": "bugzilla@mversen.de", "time": "2013-01-04T11:22:16Z", "creation_time": "2013-01-04T11:22:16Z", "author": "bugzilla@mversen.de", "attachment_id": null, "raw_text": "", "text": "*** Bug 826453 has been marked as a duplicate of this bug. ***", "bug_id": 670531, "tags": []}, {"attachment_id": null, "raw_text": "", "tags": [], "bug_id": 670531, "text": "*** Bug 734662 has been marked as a duplicate of this bug. ***", "is_private": false, "id": 7094718, "count": 37, "creator": "jesper@staunhansen.dk", "creation_time": "2013-02-12T15:25:31Z", "time": "2013-02-12T15:25:31Z", "author": "jesper@staunhansen.dk"}, {"is_private": false, "count": 38, "id": 7186165, "creator": "mardeg@inbox.ru", "time": "2013-03-09T23:36:15Z", "creation_time": "2013-03-09T23:36:15Z", "author": "mardeg@inbox.ru", "attachment_id": null, "raw_text": "", "tags": [], "bug_id": 670531, "text": "*** Bug 849574 has been marked as a duplicate of this bug. ***"}, {"creator": "nothanksmojo@mailinator.com", "time": "2013-03-10T02:20:12Z", "creation_time": "2013-03-10T02:20:12Z", "author": "nothanksmojo@mailinator.com", "is_private": false, "id": 7186325, "count": 39, "tags": [], "text": "This seems to be two separate issues:\n\n 1) The behaviour of select+copy is different before and after editing the URL. Before editing, any selection which goes to the far left, includes the hidden protocol; after editing, it doesn't. This can be improved by making it consistent.\n\n 2) Select+copy includes hidden information. Comment 30 is a real fix.", "bug_id": 670531, "attachment_id": null, "raw_text": "This seems to be two separate issues:\n\n 1) The behaviour of select+copy is different before and after editing the URL. Before editing, any selection which goes to the far left, includes the hidden protocol; after editing, it doesn't. This can be improved by making it consistent.\n\n 2) Select+copy includes hidden information. Comment 30 is a real fix."}, {"creator": "clement.lefevre@mail.com", "time": "2015-08-17T16:15:26Z", "creation_time": "2015-08-17T16:15:26Z", "author": "clement.lefevre@mail.com", "bug_id": 670531, "text": "Need info on you, in case you would know a bit more about who can take a look at this, working on this component as there were no real changes on this bug recently.", "tags": [], "is_private": false, "attachment_id": null, "count": 40, "id": 10625727, "raw_text": "Need info on you, in case you would know a bit more about who can take a look at this, working on this component as there were no real changes on this bug recently."}, {"creator": "gijskruitbosch+bugs@gmail.com", "creation_time": "2015-08-17T16:47:27Z", "time": "2015-08-17T16:47:27Z", "author": "gijskruitbosch+bugs@gmail.com", "is_private": false, "id": 10625850, "count": 41, "tags": [], "text": "(In reply to Cl\u00e9ment Lef\u00e8vre from comment #40)\n> Need info on you, in case you would know a bit more about who can take a\n> look at this, working on this component as there were no real changes on\n> this bug recently.\n\nI don't understand what the question is, or what people actually want at this point. Many comments are contradictory (e.g. comment #26 seems to just suggest that changing the text should stop copying the protocol, whereas this bug as filed was about how editing the URLs breaks this; other comments now want to re-show the protocol immediately on focus (which will change what e.g. \"select all\" does) ). We already have a pref to turn this feature off completely.\n\nWhat this bug needs is a concrete summary of what it wants to do, with agreement from core Firefox (UX) people that that is a sensible plan.\n\nI also don't understand why you picked me to comment here, having previously not had anything to do with this bug.", "bug_id": 670531, "attachment_id": null, "raw_text": "(In reply to Cl\u00e9ment Lef\u00e8vre from comment #40)\n> Need info on you, in case you would know a bit more about who can take a\n> look at this, working on this component as there were no real changes on\n> this bug recently.\n\nI don't understand what the question is, or what people actually want at this point. Many comments are contradictory (e.g. comment #26 seems to just suggest that changing the text should stop copying the protocol, whereas this bug as filed was about how editing the URLs breaks this; other comments now want to re-show the protocol immediately on focus (which will change what e.g. \"select all\" does) ). We already have a pref to turn this feature off completely.\n\nWhat this bug needs is a concrete summary of what it wants to do, with agreement from core Firefox (UX) people that that is a sensible plan.\n\nI also don't understand why you picked me to comment here, having previously not had anything to do with this bug."}, {"raw_text": "I agree with the behavior described in comment 30 and comment 7.\n\nThe addition of the 7 char offset described in comment 7 makes sense to me:\n\n* It preserves any url shortening benefits of the current behavior\n* Is mostly WYSIWYG and always consistent when copy+pasting, assuming a Ctrl+A (select all) shifts the true beginning of the selection into view, just as a right-to-left mouse-drag would. (Unless the URL is too long for the URL bar and the view is scrolled to the right, in which case the usual behavior of leaving the view where it is should be preserved)\n\nIt even caters to the use-case described in <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=666964#c33\">comment 33 of 6669644</a>.", "count": 42, "id": 11779719, "attachment_id": null, "is_private": false, "tags": [], "bug_id": 670531, "text": "I agree with the behavior described in comment 30 and comment 7.\n\nThe addition of the 7 char offset described in comment 7 makes sense to me:\n\n* It preserves any url shortening benefits of the current behavior\n* Is mostly WYSIWYG and always consistent when copy+pasting, assuming a Ctrl+A (select all) shifts the true beginning of the selection into view, just as a right-to-left mouse-drag would. (Unless the URL is too long for the URL bar and the view is scrolled to the right, in which case the usual behavior of leaving the view where it is should be preserved)\n\nIt even caters to the use-case described in <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=666964#c33\">comment 33 of 6669644</a>.", "author": "zzyxpaw@gmail.com", "creation_time": "2016-10-12T15:55:33Z", "time": "2016-10-12T15:55:33Z", "creator": "zzyxpaw@gmail.com"}, {"author": "automation@bmo.tld", "creator": "automation@bmo.tld", "time": "2018-05-24T11:11:30Z", "creation_time": "2018-05-24T11:11:30Z", "is_private": false, "id": 13338954, "count": 43, "bug_id": 670531, "text": "Per policy at https://wiki.mozilla.org/Bug_Triage/Projects/Bug_Handling/Bug_Husbandry#Inactive_Bugs. If this bug is not an enhancement request or a bug not present in a supported release of Firefox, then it may be reopened.", "tags": [], "raw_text": "Per policy at https://wiki.mozilla.org/Bug_Triage/Projects/Bug_Handling/Bug_Husbandry#Inactive_Bugs. If this bug is not an enhancement request or a bug not present in a supported release of Firefox, then it may be reopened.", "attachment_id": null}, {"raw_text": "Hi, I'm closing this bug as WFM since I think this has been done. If I'm wrong, please do reopen it.", "attachment_id": null, "tags": [], "text": "Hi, I'm closing this bug as WFM since I think this has been done. If I'm wrong, please do reopen it.", "bug_id": 670531, "id": 15240055, "count": 44, "is_private": false, "author": "florencia.diciocco@softvision.com", "creation_time": "2021-01-29T19:03:54Z", "time": "2021-01-29T19:03:54Z", "creator": "florencia.diciocco@softvision.com"}, {"id": 15240135, "count": 45, "is_private": false, "author": "bj@herbison.com", "time": "2021-01-29T20:16:40Z", "creation_time": "2021-01-29T20:16:40Z", "creator": "bj@herbison.com", "raw_text": "I'm still able to reproduce this with http://example.com and other HTTP sites. On that site control-L-control-c will copy \"http://example.com/\" but control-L-END-<typing>-control-c will copy \"example.com-<typing>\".\n\nNote that the issue doesn't affect HTTPS sites.", "attachment_id": null, "bug_id": 670531, "text": "I'm still able to reproduce this with http://example.com and other HTTP sites. On that site control-L-control-c will copy \"http://example.com/\" but control-L-END-<typing>-control-c will copy \"example.com-<typing>\".\n\nNote that the issue doesn't affect HTTPS sites.", "tags": []}]}}, "comments": {}}