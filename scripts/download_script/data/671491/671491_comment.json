{"comments": {}, "bugs": {"671491": {"comments": [{"creator": "emiliosic@me.com", "is_private": false, "count": 0, "author": "emiliosic@me.com", "creation_time": "2011-07-14T05:50:10Z", "tags": [], "time": "2011-07-14T05:50:10Z", "bug_id": 671491, "text": "User Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; en-us) AppleWebKit/533.21.1 (KHTML, like Gecko) Version/5.0.5 Safari/533.21.1\n\nSteps to reproduce:\n\n...\n<td>\n<span title=\"8.55625\"></span>\n<div id=\"olgx-pbid-1402188443\" class=\"BarChartText ui-progressbar ui-widget ui-widget-content ui-corner-all\" style=\"position: relative; color: Black; width: 80pt\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"85.6\">\n<span style=\"position: absolute; text-align: center; width: 100%;\">8.56</span>\n<div class=\"ui-progressbar-value ui-widget-header ui-corner-left\" style=\"width: 86%; background: none repeat scroll 0pt 0pt YellowGreen;\"></div>\n</div>\n</td>\n...\n\n\nActual results:\n\nThis renders a 'progress bar'. However; the number '8.56' within the <span> should be in the center of the bar; but inspecting the DOM; the box containing the <span> with number starts within the center of the containing <DIV>\n\n\nExpected results:\n\nthe <span> should extend to cover 100% of the containing <div> so the contents of the <span> are displayed at the center of the containing <div>. Note that other render engines work as expected here.", "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; en-us) AppleWebKit/533.21.1 (KHTML, like Gecko) Version/5.0.5 Safari/533.21.1\n\nSteps to reproduce:\n\n...\n<td>\n<span title=\"8.55625\"></span>\n<div id=\"olgx-pbid-1402188443\" class=\"BarChartText ui-progressbar ui-widget ui-widget-content ui-corner-all\" style=\"position: relative; color: Black; width: 80pt\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"85.6\">\n<span style=\"position: absolute; text-align: center; width: 100%;\">8.56</span>\n<div class=\"ui-progressbar-value ui-widget-header ui-corner-left\" style=\"width: 86%; background: none repeat scroll 0pt 0pt YellowGreen;\"></div>\n</div>\n</td>\n...\n\n\nActual results:\n\nThis renders a 'progress bar'. However; the number '8.56' within the <span> should be in the center of the bar; but inspecting the DOM; the box containing the <span> with number starts within the center of the containing <DIV>\n\n\nExpected results:\n\nthe <span> should extend to cover 100% of the containing <div> so the contents of the <span> are displayed at the center of the containing <div>. Note that other render engines work as expected here.", "id": 5590759}, {"bug_id": 671491, "count": 1, "creation_time": "2011-07-14T05:52:17Z", "author": "emiliosic@me.com", "text": "Created attachment 545833\nRendering by another engine displays correctly", "time": "2011-07-14T05:52:17Z", "tags": [], "is_private": false, "creator": "emiliosic@me.com", "id": 5590760, "attachment_id": 545833, "raw_text": ""}, {"creator": "emiliosic@me.com", "is_private": false, "count": 2, "author": "emiliosic@me.com", "creation_time": "2011-07-14T06:19:25Z", "bug_id": 671491, "tags": [], "time": "2011-07-14T06:19:25Z", "text": "Created attachment 545841\nTest case HTML", "attachment_id": 545841, "raw_text": "", "id": 5590779}, {"is_private": false, "creator": "emiliosic@me.com", "count": 3, "creation_time": "2011-07-14T06:20:24Z", "author": "emiliosic@me.com", "text": "Created attachment 545842\nFirefox rendering", "bug_id": 671491, "time": "2011-07-14T06:20:24Z", "tags": [], "attachment_id": 545842, "raw_text": "", "id": 5590780}, {"id": 5591312, "attachment_id": null, "raw_text": "As far as I can tell, our behavior is correct.  The testcase doesn't set left or right, so the 'left' value is determined by where the span would be if the position were static.  And the text-align:center on the parent block make that be the middle of the block.\n\nBoth WebKit and Presto seem to ignore the original display value for purposes of horizontal positioning here... as long as that line box is empty.  As soon as it becomes non-empty, they take the text-align on the parent into account (see testcase I'm about to attach)1.  That inconsistency looks like a bug to me.\n\nIn any case, just setting \"left: 0\" in your CSS should make this work correctly for you without depending on the underdefined behavior of auto offsets.", "creation_time": "2011-07-14T15:21:09Z", "author": "bzbarsky@mit.edu", "text": "As far as I can tell, our behavior is correct.  The testcase doesn't set left or right, so the 'left' value is determined by where the span would be if the position were static.  And the text-align:center on the parent block make that be the middle of the block.\n\nBoth WebKit and Presto seem to ignore the original display value for purposes of horizontal positioning here... as long as that line box is empty.  As soon as it becomes non-empty, they take the text-align on the parent into account (see testcase I'm about to attach)1.  That inconsistency looks like a bug to me.\n\nIn any case, just setting \"left: 0\" in your CSS should make this work correctly for you without depending on the underdefined behavior of auto offsets.", "bug_id": 671491, "tags": [], "time": "2011-07-14T15:21:09Z", "is_private": false, "creator": "bzbarsky@mit.edu", "count": 4}, {"id": 5591313, "raw_text": "", "attachment_id": 545914, "tags": [], "bug_id": 671491, "time": "2011-07-14T15:21:44Z", "text": "Created attachment 545914\nTestcase that shows the inconsistent Presto/WebKit behavior", "author": "bzbarsky@mit.edu", "creation_time": "2011-07-14T15:21:44Z", "count": 5, "creator": "bzbarsky@mit.edu", "is_private": false}, {"id": 5592996, "attachment_id": null, "raw_text": "Thanks. Left: 0 fixes the issue in this case.\nI would expect however that when position: absolute; it's placed on the left; not in relation to the parent object.", "author": "emiliosic@me.com", "creation_time": "2011-07-15T05:23:59Z", "bug_id": 671491, "tags": [], "time": "2011-07-15T05:23:59Z", "text": "Thanks. Left: 0 fixes the issue in this case.\nI would expect however that when position: absolute; it's placed on the left; not in relation to the parent object.", "creator": "emiliosic@me.com", "is_private": false, "count": 6}, {"count": 7, "bug_id": 671491, "attachment_id": null, "raw_text": "You would expect wrong, then.  See http://www.w3.org/TR/CSS21/visudet.html#abs-non-replaced-width item 2 in the second list).", "id": 5593312, "creator": "bzbarsky@mit.edu", "is_private": false, "author": "bzbarsky@mit.edu", "creation_time": "2011-07-15T13:08:09Z", "time": "2011-07-15T13:08:09Z", "tags": [], "text": "You would expect wrong, then.  See http://www.w3.org/TR/CSS21/visudet.html#abs-non-replaced-width item 2 in the second list)."}, {"id": 5594656, "attachment_id": null, "raw_text": "Thank you. Not a defect then", "author": "emiliosic@me.com", "creation_time": "2011-07-16T04:26:12Z", "bug_id": 671491, "tags": [], "time": "2011-07-16T04:26:12Z", "text": "Thank you. Not a defect then", "creator": "emiliosic@me.com", "is_private": false, "count": 8}, {"id": 5594659, "attachment_id": null, "raw_text": "Well, I still want dbaron to make a call on whether matching WebKit/Presto here makes sense or not...", "author": "bzbarsky@mit.edu", "creation_time": "2011-07-16T04:33:46Z", "bug_id": 671491, "tags": [], "time": "2011-07-16T04:33:46Z", "text": "Well, I still want dbaron to make a call on whether matching WebKit/Presto here makes sense or not...", "creator": "bzbarsky@mit.edu", "is_private": false, "count": 9}]}}}