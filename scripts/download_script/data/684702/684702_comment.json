{"bugs": {"684702": {"comments": [{"id": 5700463, "count": 0, "is_private": false, "time": "2011-09-05T12:59:44Z", "creation_time": "2011-09-05T12:59:44Z", "creator": "restaurant@alice.de", "author": "restaurant@alice.de", "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.1) Gecko/20100101 Firefox/6.0.1\nBuild ID: 20110830092941\n\nSteps to reproduce:\n\nWe enabled \"Warn me when web sites try to redirect or reload the page\"\n(Tools > Settings > Advanced > General > Accessibility)\n\nWe use a web framework that uses 301 redirects. In our case, the redirect reloads the current page.\n\n\nActual results:\n\nWhen \"Warn me when web sites try to redirect or reload the page\" is enabled, a redirect is immediately executed without waiting for user input. An information bar pops up nontheless and on confirmation a second redirect is sent. So the request gets sent twice.\n\n\nExpected results:\n\nThe redirect should only be sent after user confirmation via the information bar.", "tags": [], "bug_id": 684702, "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.1) Gecko/20100101 Firefox/6.0.1\nBuild ID: 20110830092941\n\nSteps to reproduce:\n\nWe enabled \"Warn me when web sites try to redirect or reload the page\"\n(Tools > Settings > Advanced > General > Accessibility)\n\nWe use a web framework that uses 301 redirects. In our case, the redirect reloads the current page.\n\n\nActual results:\n\nWhen \"Warn me when web sites try to redirect or reload the page\" is enabled, a redirect is immediately executed without waiting for user input. An information bar pops up nontheless and on confirmation a second redirect is sent. So the request gets sent twice.\n\n\nExpected results:\n\nThe redirect should only be sent after user confirmation via the information bar."}, {"text": "I do not even get this prompt when 301 redirection is used (on sites like www.lwn.net or www.slashdot.org). Can you provide an URL where this feature 'works' (displays the prompt)?", "bug_id": 684702, "tags": [], "attachment_id": null, "raw_text": "I do not even get this prompt when 301 redirection is used (on sites like www.lwn.net or www.slashdot.org). Can you provide an URL where this feature 'works' (displays the prompt)?", "time": "2011-09-05T17:10:21Z", "creation_time": "2011-09-05T17:10:21Z", "creator": "acelists@atlas.sk", "author": "acelists@atlas.sk", "count": 1, "id": 5700734, "is_private": false}, {"raw_text": "I'm sorry, I can't provide a link. In my case, this happens in a local development environment.", "is_private": false, "attachment_id": null, "count": 2, "id": 5700838, "author": "restaurant@alice.de", "bug_id": 684702, "text": "I'm sorry, I can't provide a link. In my case, this happens in a local development environment.", "tags": [], "creator": "restaurant@alice.de", "time": "2011-09-05T18:58:47Z", "creation_time": "2011-09-05T18:58:47Z"}, {"id": 5701628, "count": 3, "is_private": false, "author": "acelists@atlas.sk", "time": "2011-09-06T10:20:09Z", "creation_time": "2011-09-06T10:20:09Z", "creator": "acelists@atlas.sk", "raw_text": "I get the prompt on pages that use <META HTTP-EQUIV=\"Refresh\" CONTENT=\"0;URL=xxx\">. It seems to work correctly, asks before redirect.\nI can't get the prompt to open on any reply that has HTTP status of 301. That seems to be in line with bug 510186.\nAre you sure you get the prompt on 301 redirects?", "attachment_id": null, "tags": [], "bug_id": 684702, "text": "I get the prompt on pages that use <META HTTP-EQUIV=\"Refresh\" CONTENT=\"0;URL=xxx\">. It seems to work correctly, asks before redirect.\nI can't get the prompt to open on any reply that has HTTP status of 301. That seems to be in line with bug 510186.\nAre you sure you get the prompt on 301 redirects?"}, {"id": 5701798, "count": 4, "is_private": false, "author": "mjh563@yahoo.co.uk", "time": "2011-09-06T12:38:54Z", "creation_time": "2011-09-06T12:38:54Z", "creator": "mjh563@yahoo.co.uk", "raw_text": "I also don't get prompted on 301 redirects. The option is documented to work only if a refresh header or meta refresh is present:\nhttp://kb.mozillazine.org/Accessibility.blockautorefresh\n\nIt would really help to have a URL that shows the problem. Could you put up a temporary page or something?", "attachment_id": null, "tags": [], "text": "I also don't get prompted on 301 redirects. The option is documented to work only if a refresh header or meta refresh is present:\nhttp://kb.mozillazine.org/Accessibility.blockautorefresh\n\nIt would really help to have a URL that shows the problem. Could you put up a temporary page or something?", "bug_id": 684702}, {"count": 5, "id": 5707161, "is_private": false, "time": "2011-09-08T09:34:15Z", "creation_time": "2011-09-08T09:34:15Z", "creator": "restaurant@alice.de", "author": "restaurant@alice.de", "attachment_id": null, "raw_text": "You can reproduce the bug with the following URL:\nhttps://bankingportal.frankfurter-sparkasse.de/portal/portal/Starten?p=p.smstanverfahren\n\nlogin: smsDEMO / 12345\n\nAfter you click \"Anmelden\", a POST is sent which is answered by a 302 redirect. This redirect is immediately performed. On the screenshot you can see that the information bar pops up for user confirmation that would result in a second undesired GET request if confirmed.", "tags": [], "text": "You can reproduce the bug with the following URL:\nhttps://bankingportal.frankfurter-sparkasse.de/portal/portal/Starten?p=p.smstanverfahren\n\nlogin: smsDEMO / 12345\n\nAfter you click \"Anmelden\", a POST is sent which is answered by a 302 redirect. This redirect is immediately performed. On the screenshot you can see that the information bar pops up for user confirmation that would result in a second undesired GET request if confirmed.", "bug_id": 684702}, {"raw_text": "", "attachment_id": 559085, "tags": [], "bug_id": 684702, "text": "Created attachment 559085\nreproduce - login page", "is_private": false, "id": 5707178, "count": 6, "author": "restaurant@alice.de", "creator": "restaurant@alice.de", "time": "2011-09-08T09:41:01Z", "creation_time": "2011-09-08T09:41:01Z"}, {"text": "Created attachment 559086\nreproduce - redirect result", "bug_id": 684702, "tags": [], "attachment_id": 559086, "raw_text": "", "creator": "restaurant@alice.de", "time": "2011-09-08T09:41:47Z", "creation_time": "2011-09-08T09:41:47Z", "author": "restaurant@alice.de", "is_private": false, "id": 5707179, "count": 7}, {"attachment_id": null, "raw_text": "In the example described above it's a 302 instead of a 301. I'm not sure whether that makes a difference...", "tags": [], "bug_id": 684702, "text": "In the example described above it's a 302 instead of a 301. I'm not sure whether that makes a difference...", "count": 8, "id": 5707184, "is_private": false, "creation_time": "2011-09-08T09:43:01Z", "time": "2011-09-08T09:43:01Z", "creator": "restaurant@alice.de", "author": "restaurant@alice.de"}, {"is_private": false, "id": 5707352, "count": 9, "author": "acelists@atlas.sk", "creator": "acelists@atlas.sk", "time": "2011-09-08T12:03:36Z", "creation_time": "2011-09-08T12:03:36Z", "raw_text": "The 302 or 301 should have no influence on the information bar. It should not appear (see bug 510186). Notice there is a <meta refresh> tab in the main page. If you have the warning disabled, you won't get the refresh/redirection (only after 720 seconds). If you have the warning enabled, it shows immediatelly. If you click it, it redirects you to a session expiration page. That is bug 417770.\n\nDo you have any other page to test?", "attachment_id": null, "tags": [], "text": "The 302 or 301 should have no influence on the information bar. It should not appear (see bug 510186). Notice there is a <meta refresh> tab in the main page. If you have the warning disabled, you won't get the refresh/redirection (only after 720 seconds). If you have the warning enabled, it shows immediatelly. If you click it, it redirects you to a session expiration page. That is bug 417770.\n\nDo you have any other page to test?", "bug_id": 684702}]}}, "comments": {}}