{"comments": {}, "bugs": {"697948": {"comments": [{"id": 5810906, "count": 0, "is_private": false, "time": "2011-10-28T08:12:28Z", "creation_time": "2011-10-28T08:12:28Z", "creator": "josh@joshtriplett.org", "author": "josh@joshtriplett.org", "attachment_id": null, "raw_text": "If a page has an onbeforeunload event handler which returns a string to produce a dialog, *and* the previous page resulted from a POST which necessitates the POST warning dialog, then hitting the back button will cause he following to occur:\n- The onbeforeunload dialog shows up.  Hit \"Leave Page\".\n- The POST warning dialog shows up.  Hit \"Resend\" to proceed with re-POSTing.\n- The onbeforeunload dialog shows up again.  Bug.\n\n\nI discovered this bug when I went to edit a wiki page after logging in to that wiki via a POST.  Steps to reproduce via the GNOME wiki, which will probably work on just about any wiki:\n\n- Have an account on https://live.gnome.org/ .  Anyone can register an account there.\n- Start from a logged-out state, on any page you can edit.\n- Click the login link (in the right sidebar).\n- Log in; this submits the login form via a POST, and returns you to the page.\n- Click the \"Edit\" button.\n- Make any change to the page contents in the edit box; this enables the onbeforeunload handler.  (Don't save your changes.)\n- Hit the back button.", "tags": [], "text": "If a page has an onbeforeunload event handler which returns a string to produce a dialog, *and* the previous page resulted from a POST which necessitates the POST warning dialog, then hitting the back button will cause he following to occur:\n- The onbeforeunload dialog shows up.  Hit \"Leave Page\".\n- The POST warning dialog shows up.  Hit \"Resend\" to proceed with re-POSTing.\n- The onbeforeunload dialog shows up again.  Bug.\n\n\nI discovered this bug when I went to edit a wiki page after logging in to that wiki via a POST.  Steps to reproduce via the GNOME wiki, which will probably work on just about any wiki:\n\n- Have an account on https://live.gnome.org/ .  Anyone can register an account there.\n- Start from a logged-out state, on any page you can edit.\n- Click the login link (in the right sidebar).\n- Log in; this submits the login form via a POST, and returns you to the page.\n- Click the \"Edit\" button.\n- Make any change to the page contents in the edit box; this enables the onbeforeunload handler.  (Don't save your changes.)\n- Hit the back button.", "bug_id": 697948}, {"bug_id": 697948, "text": "Can Reproduce on the latest Nightly\nUpdated Steps to Reproduce:\n1.Go to https://live.gnome.org/\n2.Log-in\n3.Click \"Edit\"\n4.Type anything in the edit box\n5.Click the Back button\n6.Click \"Leave Page\"\n\nActual Results:\n7.Another \"Leave Page\" dialog appears\n\nExpected Results:\n7.You are on the Gnome live Home page, without a second \"Leave Page\" dialog appearing\n\nChromium only displays one dialog", "tags": [], "raw_text": "Can Reproduce on the latest Nightly\nUpdated Steps to Reproduce:\n1.Go to https://live.gnome.org/\n2.Log-in\n3.Click \"Edit\"\n4.Type anything in the edit box\n5.Click the Back button\n6.Click \"Leave Page\"\n\nActual Results:\n7.Another \"Leave Page\" dialog appears\n\nExpected Results:\n7.You are on the Gnome live Home page, without a second \"Leave Page\" dialog appearing\n\nChromium only displays one dialog", "attachment_id": null, "author": "alex.lakatos.qa@gmail.com", "creator": "alex.lakatos.qa@gmail.com", "time": "2011-10-28T09:18:29Z", "creation_time": "2011-10-28T09:18:29Z", "is_private": false, "id": 5810959, "count": 1}, {"raw_text": "I can also confirm that this occurs in the latest Nightly as of writing (Mozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0a1) Gecko/20111028 Firefox/10.0a1) \n\nAlso, on top of the double \"Leave Page\" dialogs, I get a \"Document Expired\" error as well.", "attachment_id": null, "bug_id": 697948, "text": "I can also confirm that this occurs in the latest Nightly as of writing (Mozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0a1) Gecko/20111028 Firefox/10.0a1) \n\nAlso, on top of the double \"Leave Page\" dialogs, I get a \"Document Expired\" error as well.", "tags": [], "id": 5811951, "count": 2, "is_private": false, "author": "Immatix@gmail.com", "creation_time": "2011-10-28T18:40:41Z", "time": "2011-10-28T18:40:41Z", "creator": "Immatix@gmail.com"}, {"tags": [], "bug_id": 697948, "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "attachment_id": null, "author": "bug-husbandry-bot@mozilla.bugs", "time": "2018-06-29T04:48:38Z", "creation_time": "2018-06-29T04:48:38Z", "creator": "bug-husbandry-bot@mozilla.bugs", "id": 13435887, "count": 3, "is_private": false}]}}}