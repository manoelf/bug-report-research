{"comments": {}, "bugs": {"710436": {"comments": [{"raw_text": "+++ This bug was initially created as a clone of Bug #710428 +++\n\nPotentially, doing this would enable us to restrict the privileges of the *account* to a safer subset of the privileges that LocalSystem has. We already have written code to drop per-process token privileges (bug 708778).\n\n(In reply to Ian Melven :imelven from bug 708778 comment 19)\n> (In reply to Brian R. Bondy [:bbondy] from bug 708778 comment 15)\n> > Brian Smith wrote:\n> > > It seems like this patch does correctly drop the privileges that\n> > > we can drop at the per-process level. However, we should follow\n> > > up this work with some analysis of the per-user privileges (i.e.\n> > > should we be running as LocalSystem or someone else) and\n> > > per-directory privileges (including mandatory integrity control)\n> > > to ensure that we are making the proper tradeoffs on those areas.\n\n> My personal opinion is that if we want to not use LocalSystem and worry\n> about what directories the process has access to, i would suggest focusing\n> on an analysis of what it would take to move to an update process that\n> doesn't require elevation of privileges, similar to what some other browsers\n> have implemented.\n\n(In reply to Brian R. Bondy [:bbondy] from bug 708778 comment 21)\n> I should note that using a system or domain username is not possible because\n> each would be a different username with a different password.\n> The username/password must be set at service creation time\n> (http://msdn.microsoft.com/en-us/library/windows/desktop/ms682450%28v=vs.\n> 85%29.aspx).\n> \n> So I think the only other options are:\n> - LocalSystem\n> - NT AUTHORITY\\LocalService\n> - AUTHORITY\\NetworkService\n> \n> It seems there's also virtual accounts, but I don't know anything about them.\n> http://technet.microsoft.com/en-us/library/dd548356%28WS.10%29.aspx", "time": "2011-12-13T23:25:48Z", "bug_id": 710436, "id": 5913881, "count": 0, "text": "+++ This bug was initially created as a clone of Bug #710428 +++\n\nPotentially, doing this would enable us to restrict the privileges of the *account* to a safer subset of the privileges that LocalSystem has. We already have written code to drop per-process token privileges (bug 708778).\n\n(In reply to Ian Melven :imelven from bug 708778 comment 19)\n> (In reply to Brian R. Bondy [:bbondy] from bug 708778 comment 15)\n> > Brian Smith wrote:\n> > > It seems like this patch does correctly drop the privileges that\n> > > we can drop at the per-process level. However, we should follow\n> > > up this work with some analysis of the per-user privileges (i.e.\n> > > should we be running as LocalSystem or someone else) and\n> > > per-directory privileges (including mandatory integrity control)\n> > > to ensure that we are making the proper tradeoffs on those areas.\n\n> My personal opinion is that if we want to not use LocalSystem and worry\n> about what directories the process has access to, i would suggest focusing\n> on an analysis of what it would take to move to an update process that\n> doesn't require elevation of privileges, similar to what some other browsers\n> have implemented.\n\n(In reply to Brian R. Bondy [:bbondy] from bug 708778 comment 21)\n> I should note that using a system or domain username is not possible because\n> each would be a different username with a different password.\n> The username/password must be set at service creation time\n> (http://msdn.microsoft.com/en-us/library/windows/desktop/ms682450%28v=vs.\n> 85%29.aspx).\n> \n> So I think the only other options are:\n> - LocalSystem\n> - NT AUTHORITY\\LocalService\n> - AUTHORITY\\NetworkService\n> \n> It seems there's also virtual accounts, but I don't know anything about them.\n> http://technet.microsoft.com/en-us/library/dd548356%28WS.10%29.aspx", "author": "brian@briansmith.org", "tags": [], "attachment_id": null, "creation_time": "2011-12-13T23:25:48Z", "is_private": false, "creator": "brian@briansmith.org"}, {"tags": [], "time": "2011-12-13T23:37:41Z", "attachment_id": null, "raw_text": "Is this bug talking about the update service being done as bug 481815?", "id": 5913922, "bug_id": 710436, "creation_time": "2011-12-13T23:37:41Z", "is_private": false, "creator": "mardeg@inbox.ru", "author": "mardeg@inbox.ru", "count": 1, "text": "Is this bug talking about the update service being done as bug 481815?"}, {"text": "Yes.", "count": 2, "author": "brian@briansmith.org", "creator": "brian@briansmith.org", "creation_time": "2011-12-14T00:06:58Z", "is_private": false, "id": 5914052, "bug_id": 710436, "raw_text": "Yes.", "attachment_id": null, "time": "2011-12-14T00:06:58Z", "tags": []}]}}}