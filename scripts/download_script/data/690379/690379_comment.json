{"comments": {}, "bugs": {"690379": {"comments": [{"author": "decedion@gmail.com", "creator": "decedion@gmail.com", "id": 5746347, "tags": [], "count": 0, "is_private": false, "bug_id": 690379, "raw_text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:7.0) Gecko/20100101 Firefox/7.0\nBuild ID: 20110928001814\n\nSteps to reproduce:\n\nI have compiled and installed the gcc version 4.6.1 in my Ubuntu Natty 64 bits.\nThe new binaries and libraries are in /usr/local/ and the old gcc and its libraries remains in /usr/.\nI have defined two new variables in my .bashrc:\nexport CC=\"/usr/local/bin/gcc\"\nexport CXX=\"/usr/local/bin/g++\"\n\n\nActual results:\n\nI've compiled Firefox with PGO but when it goes to execute the compiled Firefox to execute the tests it shows this error: \"/home/simon/sources/mozilla/mozilla-release/obj-x86_64-linux-gnu/dist/bin/xpcshell: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.15' not found (required by /home/simon/sources/mozilla/mozilla-release/obj-x86_64-linux-gnu/browser/installer/../../dist/bin/libxul.so)\nmake[4]: *** [make-package] Error 1\nmake[3]: *** [default] Error 2\nmake[2]: *** [package] Error 2\nmake[1]: *** [profiledbuild] Error 2\nmake: *** [build] Error 2\" \n\n\nExpected results:\n\nWhy it searches that lib first in /usr/lib/ when the correct order is search first in /usr/local?", "creation_time": "2011-09-29T15:54:38Z", "time": "2011-09-29T15:54:38Z", "attachment_id": null, "text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:7.0) Gecko/20100101 Firefox/7.0\nBuild ID: 20110928001814\n\nSteps to reproduce:\n\nI have compiled and installed the gcc version 4.6.1 in my Ubuntu Natty 64 bits.\nThe new binaries and libraries are in /usr/local/ and the old gcc and its libraries remains in /usr/.\nI have defined two new variables in my .bashrc:\nexport CC=\"/usr/local/bin/gcc\"\nexport CXX=\"/usr/local/bin/g++\"\n\n\nActual results:\n\nI've compiled Firefox with PGO but when it goes to execute the compiled Firefox to execute the tests it shows this error: \"/home/simon/sources/mozilla/mozilla-release/obj-x86_64-linux-gnu/dist/bin/xpcshell: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.15' not found (required by /home/simon/sources/mozilla/mozilla-release/obj-x86_64-linux-gnu/browser/installer/../../dist/bin/libxul.so)\nmake[4]: *** [make-package] Error 1\nmake[3]: *** [default] Error 2\nmake[2]: *** [package] Error 2\nmake[1]: *** [profiledbuild] Error 2\nmake: *** [build] Error 2\" \n\n\nExpected results:\n\nWhy it searches that lib first in /usr/lib/ when the correct order is search first in /usr/local?"}, {"time": "2011-09-29T16:24:54Z", "attachment_id": null, "text": "$ gcc -v main.c \nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/lto-wrapper\nTarget: x86_64-pc-linux-gnu\nConfigured with: ../configure --enable-lto --disable-multilib --enable-bootstrap --enable-shared --disable-werror --with-arch=native --with-tune=native --enable-cloog-backend=isl --with-mpc=/usr/local --with-mpfr=/usr/local --with-gmp=/usr/local --with-ppl=/usr/local --with-cloog=/usr/local --build=x86_64-pc-linux-gnu --host=x86_64-pc-linux-gnu --target=x86_64-pc-linux-gnu --with-sysroot=/\nThread model: posix\ngcc version 4.6.1 (GCC) \nCOLLECT_GCC_OPTIONS='-v' '-mtune=native' '-march=native'\n /usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/cc1 -quiet -v main.c -march=corei7 -mcx16 -msahf -mno-movbe -mno-aes -mno-pclmul -mpopcnt -mno-abm -mno-lwp -mno-fma -mno-fma4 -mno-xop -mno-bmi -mno-tbm -mno-avx -msse4.2 -msse4.1 --param l1-cache-size=32 --param l1-cache-line-size=64 --param l2-cache-size=8192 -mtune=corei7 -quiet -dumpbase main.c -auxbase main -version -o /tmp/ccUQrMA2.s\nGNU C (GCC) version 4.6.1 (x86_64-pc-linux-gnu)\n\tcompiled by GNU C version 4.6.1, GMP version 5.0.2, MPFR version 3.0.1-p4, MPC version 0.9\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nignoring nonexistent directory \"/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../../x86_64-pc-linux-gnu/include\"\n#include \"...\" search starts here:\n#include <...> search starts here:\n /usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/include\n //usr/local/include\n /usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/include-fixed\n //usr/include\nEnd of search list.\nGNU C (GCC) version 4.6.1 (x86_64-pc-linux-gnu)\n\tcompiled by GNU C version 4.6.1, GMP version 5.0.2, MPFR version 3.0.1-p4, MPC version 0.9\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nCompiler executable checksum: 70ab9d910b169cc128235bb5591aae00\nCOLLECT_GCC_OPTIONS='-v' '-mtune=native' '-march=native'\n as --64 -o /tmp/cchRW8sA.o /tmp/ccUQrMA2.s\nCOMPILER_PATH=/usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/:/usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/:/usr/local/libexec/gcc/x86_64-pc-linux-gnu/:/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/:/usr/local/lib/gcc/x86_64-pc-linux-gnu/\nLIBRARY_PATH=/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/:/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../../lib64/://lib/../lib64/://usr/lib/../lib64/:/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../://lib/://usr/lib/\nCOLLECT_GCC_OPTIONS='-v' '-mtune=native' '-march=native'\n /usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/collect2 --sysroot=/ --eh-frame-hdr -m elf_x86_64 -dynamic-linker /lib64/ld-linux-x86-64.so.2 //usr/lib/../lib64/crt1.o //usr/lib/../lib64/crti.o /usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/crtbegin.o -L/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1 -L/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../../lib64 -L//lib/../lib64 -L//usr/lib/../lib64 -L/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../.. -L//lib -L//usr/lib /tmp/cchRW8sA.o -lgcc --as-needed -lgcc_s --no-as-needed -lc -lgcc --as-needed -lgcc_s --no-as-needed /usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/crtend.o //usr/lib/../lib64/crtn.o", "raw_text": "$ gcc -v main.c \nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/lto-wrapper\nTarget: x86_64-pc-linux-gnu\nConfigured with: ../configure --enable-lto --disable-multilib --enable-bootstrap --enable-shared --disable-werror --with-arch=native --with-tune=native --enable-cloog-backend=isl --with-mpc=/usr/local --with-mpfr=/usr/local --with-gmp=/usr/local --with-ppl=/usr/local --with-cloog=/usr/local --build=x86_64-pc-linux-gnu --host=x86_64-pc-linux-gnu --target=x86_64-pc-linux-gnu --with-sysroot=/\nThread model: posix\ngcc version 4.6.1 (GCC) \nCOLLECT_GCC_OPTIONS='-v' '-mtune=native' '-march=native'\n /usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/cc1 -quiet -v main.c -march=corei7 -mcx16 -msahf -mno-movbe -mno-aes -mno-pclmul -mpopcnt -mno-abm -mno-lwp -mno-fma -mno-fma4 -mno-xop -mno-bmi -mno-tbm -mno-avx -msse4.2 -msse4.1 --param l1-cache-size=32 --param l1-cache-line-size=64 --param l2-cache-size=8192 -mtune=corei7 -quiet -dumpbase main.c -auxbase main -version -o /tmp/ccUQrMA2.s\nGNU C (GCC) version 4.6.1 (x86_64-pc-linux-gnu)\n\tcompiled by GNU C version 4.6.1, GMP version 5.0.2, MPFR version 3.0.1-p4, MPC version 0.9\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nignoring nonexistent directory \"/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../../x86_64-pc-linux-gnu/include\"\n#include \"...\" search starts here:\n#include <...> search starts here:\n /usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/include\n //usr/local/include\n /usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/include-fixed\n //usr/include\nEnd of search list.\nGNU C (GCC) version 4.6.1 (x86_64-pc-linux-gnu)\n\tcompiled by GNU C version 4.6.1, GMP version 5.0.2, MPFR version 3.0.1-p4, MPC version 0.9\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nCompiler executable checksum: 70ab9d910b169cc128235bb5591aae00\nCOLLECT_GCC_OPTIONS='-v' '-mtune=native' '-march=native'\n as --64 -o /tmp/cchRW8sA.o /tmp/ccUQrMA2.s\nCOMPILER_PATH=/usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/:/usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/:/usr/local/libexec/gcc/x86_64-pc-linux-gnu/:/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/:/usr/local/lib/gcc/x86_64-pc-linux-gnu/\nLIBRARY_PATH=/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/:/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../../lib64/://lib/../lib64/://usr/lib/../lib64/:/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../://lib/://usr/lib/\nCOLLECT_GCC_OPTIONS='-v' '-mtune=native' '-march=native'\n /usr/local/libexec/gcc/x86_64-pc-linux-gnu/4.6.1/collect2 --sysroot=/ --eh-frame-hdr -m elf_x86_64 -dynamic-linker /lib64/ld-linux-x86-64.so.2 //usr/lib/../lib64/crt1.o //usr/lib/../lib64/crti.o /usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/crtbegin.o -L/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1 -L/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../../lib64 -L//lib/../lib64 -L//usr/lib/../lib64 -L/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../.. -L//lib -L//usr/lib /tmp/cchRW8sA.o -lgcc --as-needed -lgcc_s --no-as-needed -lc -lgcc --as-needed -lgcc_s --no-as-needed /usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/crtend.o //usr/lib/../lib64/crtn.o", "creation_time": "2011-09-29T16:24:54Z", "bug_id": 690379, "id": 5746459, "tags": [], "count": 1, "is_private": false, "author": "decedion@gmail.com", "creator": "decedion@gmail.com"}, {"author": "decedion@gmail.com", "creator": "decedion@gmail.com", "raw_text": "The second path of LIBRARY_PATH output is the correct: \"/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../../lib64/\" = \"/usr/local/lib64/\"\n\nBut if I'm not mistaken, these are the paths to compile and the problem isn't in the compilation (which is good), the problem is when it does \"make package\".", "creation_time": "2011-09-29T16:43:23Z", "attachment_id": null, "time": "2011-09-29T16:43:23Z", "text": "The second path of LIBRARY_PATH output is the correct: \"/usr/local/lib/gcc/x86_64-pc-linux-gnu/4.6.1/../../../../lib64/\" = \"/usr/local/lib64/\"\n\nBut if I'm not mistaken, these are the paths to compile and the problem isn't in the compilation (which is good), the problem is when it does \"make package\".", "id": 5746500, "tags": [], "is_private": false, "count": 2, "bug_id": 690379}, {"author": "decedion@gmail.com", "creator": "decedion@gmail.com", "bug_id": 690379, "id": 5746901, "count": 3, "is_private": false, "tags": [], "time": "2011-09-29T18:34:19Z", "attachment_id": null, "text": "If I add: 'export LD_LIBRARY_PATH=\"/usr/local/lib64:$LD_LIBRARY_PATH\"' to my ~/.bashrc it executes but it shows several errors in console: \"...mozilla-release/OBJ-x86_64-linux-gnu/dist/bin/plugin-container: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.15' not found (required by /home/simon/sources/mozilla/mozilla-release/OBJ-x86_64-linux-gnu/dist/bin/libxul.so\" every time that I visit a web with Flash.", "raw_text": "If I add: 'export LD_LIBRARY_PATH=\"/usr/local/lib64:$LD_LIBRARY_PATH\"' to my ~/.bashrc it executes but it shows several errors in console: \"...mozilla-release/OBJ-x86_64-linux-gnu/dist/bin/plugin-container: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.15' not found (required by /home/simon/sources/mozilla/mozilla-release/OBJ-x86_64-linux-gnu/dist/bin/libxul.so\" every time that I visit a web with Flash.", "creation_time": "2011-09-29T18:34:19Z"}]}}}