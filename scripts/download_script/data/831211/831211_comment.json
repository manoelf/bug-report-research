{"comments": {}, "bugs": {"831211": {"comments": [{"id": 7007229, "attachment_id": null, "creation_time": "2013-01-16T11:31:59Z", "tags": [], "creator": "hskupin@gmail.com", "raw_text": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:21.0) Gecko/20130115 Firefox/21.0\n\nSwitching between the active and disabled state of pdf.js can leave the feature permanently disabled. This would cause us problems when we have to turn it off, which hopefully will not happen. But just in case it would be helpful to have it fixed.\n\nSteps:\n1. Create a fresh profile\n2. Disable pdf.js via about:config\n3. Open preferences and select an external application for the pdf mimetype\n4. Load a PDF: www.gesetze-im-internet.de/bundesrecht/bgb/gesamt.pdf\n5. Enable pdf.js\n6. Reload the above PDF\n\nAfter step 6 we no longer use pdf.js as the mimetype handler but still open the PDF with the selected externally application. As workaround you would have to reset 'pdfjs.migrationVersion' and restart the browser.\n\nAsking for blocking 19.0 because it breaks the enable/disable logic of a new feature in Firefox.", "text": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:21.0) Gecko/20130115 Firefox/21.0\n\nSwitching between the active and disabled state of pdf.js can leave the feature permanently disabled. This would cause us problems when we have to turn it off, which hopefully will not happen. But just in case it would be helpful to have it fixed.\n\nSteps:\n1. Create a fresh profile\n2. Disable pdf.js via about:config\n3. Open preferences and select an external application for the pdf mimetype\n4. Load a PDF: www.gesetze-im-internet.de/bundesrecht/bgb/gesamt.pdf\n5. Enable pdf.js\n6. Reload the above PDF\n\nAfter step 6 we no longer use pdf.js as the mimetype handler but still open the PDF with the selected externally application. As workaround you would have to reset 'pdfjs.migrationVersion' and restart the browser.\n\nAsking for blocking 19.0 because it breaks the enable/disable logic of a new feature in Firefox.", "bug_id": 831211, "author": "hskupin@gmail.com", "time": "2013-01-16T11:31:59Z", "count": 0, "is_private": false}, {"bug_id": 831211, "count": 1, "author": "bdahl@mozilla.com", "time": "2013-01-16T17:01:27Z", "is_private": false, "creator": "bdahl@mozilla.com", "text": "My thinking on this was if we have to disable pdf.js it would be through a hot fix.  Re-enabling would then happen in a later version of FF through the normal release process by increasing the migration version number at http://mxr.mozilla.org/mozilla-central/source/browser/extensions/pdfjs/content/PdfJs.jsm#119", "raw_text": "My thinking on this was if we have to disable pdf.js it would be through a hot fix.  Re-enabling would then happen in a later version of FF through the normal release process by increasing the migration version number at http://mxr.mozilla.org/mozilla-central/source/browser/extensions/pdfjs/content/PdfJs.jsm#119", "creation_time": "2013-01-16T17:01:27Z", "tags": [], "id": 7008311, "attachment_id": null}, {"creator": "lukasblakk+bugs@gmail.com", "raw_text": "(In reply to Brendan Dahl from comment #1)\n> My thinking on this was if we have to disable pdf.js it would be through a\n> hot fix.  Re-enabling would then happen in a later version of FF through the\n> normal release process by increasing the migration version number at\n> http://mxr.mozilla.org/mozilla-central/source/browser/extensions/pdfjs/\n> content/PdfJs.jsm#119\n\nI don't that's a precedent we want to set. We should not be forced to hotfix in order to disable. The pref disable/enable must work.", "bug_id": 831211, "count": 2, "is_private": false, "id": 7009161, "attachment_id": null, "tags": [], "text": "(In reply to Brendan Dahl from comment #1)\n> My thinking on this was if we have to disable pdf.js it would be through a\n> hot fix.  Re-enabling would then happen in a later version of FF through the\n> normal release process by increasing the migration version number at\n> http://mxr.mozilla.org/mozilla-central/source/browser/extensions/pdfjs/\n> content/PdfJs.jsm#119\n\nI don't that's a precedent we want to set. We should not be forced to hotfix in order to disable. The pref disable/enable must work.", "time": "2013-01-16T20:19:26Z", "author": "lukasblakk+bugs@gmail.com", "creation_time": "2013-01-16T20:19:26Z"}, {"id": 7009164, "attachment_id": null, "creation_time": "2013-01-16T20:20:19Z", "tags": [], "creator": "lukasblakk+bugs@gmail.com", "text": "Assigning to Brendan, is this a regressions as well?", "raw_text": "Assigning to Brendan, is this a regressions as well?", "bug_id": 831211, "author": "lukasblakk+bugs@gmail.com", "count": 3, "time": "2013-01-16T20:20:19Z", "is_private": false}, {"is_private": false, "bug_id": 831211, "author": "bdahl@mozilla.com", "time": "2013-01-16T20:35:41Z", "count": 4, "text": "I think we're misunderstanding each other.  That pref is to completely disable pdf.js so it isn't listed in the application preferences as a possible content handler for PDFs.\n\nIt is still possible to turn off pdf.js without using that preference by selecting a different PDF viewer in the application preferences.  We're not expecting(and don't want) the user to toggle that pref to disable pdf.js.", "raw_text": "I think we're misunderstanding each other.  That pref is to completely disable pdf.js so it isn't listed in the application preferences as a possible content handler for PDFs.\n\nIt is still possible to turn off pdf.js without using that preference by selecting a different PDF viewer in the application preferences.  We're not expecting(and don't want) the user to toggle that pref to disable pdf.js.", "creator": "bdahl@mozilla.com", "tags": [], "creation_time": "2013-01-16T20:35:41Z", "attachment_id": null, "id": 7009278}, {"creation_time": "2013-01-16T21:04:11Z", "text": "Updating summary so it's a bit more clear that this is about the feature preference 'pdfjs.disabled' we make use of to enable/disable the feature by default.", "time": "2013-01-16T21:04:11Z", "author": "hskupin@gmail.com", "id": 7009431, "attachment_id": null, "tags": [], "creator": "hskupin@gmail.com", "raw_text": "Updating summary so it's a bit more clear that this is about the feature preference 'pdfjs.disabled' we make use of to enable/disable the feature by default.", "bug_id": 831211, "count": 5, "is_private": false}, {"text": "Also, pdf.js is not permanently disabled if you toggle the pref.  Once you set disabled back to false, you then just have to make sure it is the selected option in the application preferences again.\n\nTo modify your above steps:\n5. Enable pdf.js\n5.1 In application preferences choose \"Preview in Nightly\"\n6. Reload the above PDF\n\nWhich should load pdf.js", "author": "bdahl@mozilla.com", "time": "2013-01-18T20:11:20Z", "creation_time": "2013-01-18T20:11:20Z", "raw_text": "Also, pdf.js is not permanently disabled if you toggle the pref.  Once you set disabled back to false, you then just have to make sure it is the selected option in the application preferences again.\n\nTo modify your above steps:\n5. Enable pdf.js\n5.1 In application preferences choose \"Preview in Nightly\"\n6. Reload the above PDF\n\nWhich should load pdf.js", "creator": "bdahl@mozilla.com", "is_private": false, "bug_id": 831211, "count": 6, "attachment_id": null, "id": 7017754, "tags": []}, {"time": "2013-01-22T15:36:22Z", "count": 7, "author": "akeybl@mozilla.com", "bug_id": 831211, "is_private": false, "creator": "akeybl@mozilla.com", "raw_text": "(In reply to Brendan Dahl from comment #6)\n> Also, pdf.js is not permanently disabled if you toggle the pref.  Once you\n> set disabled back to false, you then just have to make sure it is the\n> selected option in the application preferences again.\n> \n> To modify your above steps:\n> 5. Enable pdf.js\n> 5.1 In application preferences choose \"Preview in Nightly\"\n> 6. Reload the above PDF\n> \n> Which should load pdf.js\n\nSounds recoverable, either through user ineraction or as part of a hotfix. No need to track in that case.", "text": "(In reply to Brendan Dahl from comment #6)\n> Also, pdf.js is not permanently disabled if you toggle the pref.  Once you\n> set disabled back to false, you then just have to make sure it is the\n> selected option in the application preferences again.\n> \n> To modify your above steps:\n> 5. Enable pdf.js\n> 5.1 In application preferences choose \"Preview in Nightly\"\n> 6. Reload the above PDF\n> \n> Which should load pdf.js\n\nSounds recoverable, either through user ineraction or as part of a hotfix. No need to track in that case.", "creation_time": "2013-01-22T15:36:22Z", "tags": [], "id": 7025568, "attachment_id": null}, {"creation_time": "2013-01-28T21:14:52Z", "tags": [], "id": 7046128, "attachment_id": null, "count": 8, "author": "bdahl@mozilla.com", "time": "2013-01-28T21:14:52Z", "bug_id": 831211, "is_private": false, "creator": "bdahl@mozilla.com", "raw_text": "As Alex said, this is recoverable and users shouldn't really be toggling this pref anyway.", "text": "As Alex said, this is recoverable and users shouldn't really be toggling this pref anyway."}]}}}