{"bugs": {"707165": {"comments": [{"bug_id": 707165, "is_private": false, "count": 0, "tags": [], "id": 5888172, "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\nBuild ID: 20110928134238\n\nSteps to reproduce:\n\nPreconditions:\naccount1.server1.name a@a.a\naccount2.server2.name b@b.b\naccount3.server3.name Local Folder\nInbox of a@a.a:\nmessage1: X-Account-Key: account1\nmessage2: X-Account-Key: account2\nmessage3: X-Account-Key: account3\nmessage4: X-Account-Key: account4\nmessage5: <no X-Account-Key:>\n\nIn the list of messages:\n- set focus on Inbox of a@a.a\n- enable 'Account' column\n\n\n\n\n\nActual results:\n\nColumn 'Account' in the list of messages:\nmessage1: a@a.a\nmessage2: b@b.b\nmessage3: a@a.a\nmessage4: a@a.a\nmessage5: a@a.a\n\nIMO, displaying 'a@a.a' is wrong, or at least misleading/useless\n\n\nExpected results:\n\nColumn 'Account' in the list of messages:\nmessage1: a@a.a\nmessage2: b@b.b\nmessage3: <invalid (3)>\nmessage4: <unknown (4)>\nmessage5: <none>", "attachment_id": null, "time": "2011-12-02T15:29:18Z", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\nBuild ID: 20110928134238\n\nSteps to reproduce:\n\nPreconditions:\naccount1.server1.name a@a.a\naccount2.server2.name b@b.b\naccount3.server3.name Local Folder\nInbox of a@a.a:\nmessage1: X-Account-Key: account1\nmessage2: X-Account-Key: account2\nmessage3: X-Account-Key: account3\nmessage4: X-Account-Key: account4\nmessage5: <no X-Account-Key:>\n\nIn the list of messages:\n- set focus on Inbox of a@a.a\n- enable 'Account' column\n\n\n\n\n\nActual results:\n\nColumn 'Account' in the list of messages:\nmessage1: a@a.a\nmessage2: b@b.b\nmessage3: a@a.a\nmessage4: a@a.a\nmessage5: a@a.a\n\nIMO, displaying 'a@a.a' is wrong, or at least misleading/useless\n\n\nExpected results:\n\nColumn 'Account' in the list of messages:\nmessage1: a@a.a\nmessage2: b@b.b\nmessage3: <invalid (3)>\nmessage4: <unknown (4)>\nmessage5: <none>", "creation_time": "2011-12-02T15:29:18Z", "creator": "Ulf.Zibis@gmx.de", "author": "Ulf.Zibis@gmx.de"}, {"author": "bugzilla2007@duellmann24.net", "creator": "bugzilla2007@duellmann24.net", "creation_time": "2011-12-03T08:10:35Z", "raw_text": "Hmm. I don't understand. If all the messages, albeit originating from different accounts, are now located in account a@a.a's inbox, then all of them should have X-account-key: account1, or not? Anything else would cause confusion of known bugs where we use the wrong identity when replying to messages located in one account!\n\nIf my understanding is right, then this would be invalid.", "time": "2011-12-03T08:10:35Z", "attachment_id": null, "text": "Hmm. I don't understand. If all the messages, albeit originating from different accounts, are now located in account a@a.a's inbox, then all of them should have X-account-key: account1, or not? Anything else would cause confusion of known bugs where we use the wrong identity when replying to messages located in one account!\n\nIf my understanding is right, then this would be invalid.", "id": 5890358, "tags": [], "is_private": false, "count": 1, "bug_id": 707165}, {"raw_text": "OK, I understand, I should have explained more detailed.\nImagine, the Inbox a@a.a is in use since 10 years, where no X-account-key was used, so there are some old messages without it.\nLater messages got the X-Account-Key: account4, as a@a.a was the 4th account.\nSome time later, TB was installed new on another machine, where a@a.a is account3, and the existing Inbox was reused, so then received messages got X-Account-Key: account3.\nThen later another change for a@a.a to account2 and account1 ...\n\nA similar scenario could be observed, if those messages have been moved to a local folder.\n\nSuch kind of scenarios really happened to me, so today I'm facing bug 704613.\nHaving account column behaving like 'expected', would ease to 'repair' my mbox files manually, see: https://bugzilla.mozilla.org/show_bug.cgi?id=704613#c10 bug 704613#c10", "creation_time": "2011-12-08T22:18:01Z", "text": "OK, I understand, I should have explained more detailed.\nImagine, the Inbox a@a.a is in use since 10 years, where no X-account-key was used, so there are some old messages without it.\nLater messages got the X-Account-Key: account4, as a@a.a was the 4th account.\nSome time later, TB was installed new on another machine, where a@a.a is account3, and the existing Inbox was reused, so then received messages got X-Account-Key: account3.\nThen later another change for a@a.a to account2 and account1 ...\n\nA similar scenario could be observed, if those messages have been moved to a local folder.\n\nSuch kind of scenarios really happened to me, so today I'm facing bug 704613.\nHaving account column behaving like 'expected', would ease to 'repair' my mbox files manually, see: https://bugzilla.mozilla.org/show_bug.cgi?id=704613#c10 bug 704613#c10", "attachment_id": null, "time": "2011-12-08T22:18:01Z", "is_private": false, "count": 2, "tags": [], "id": 5902339, "bug_id": 707165, "creator": "Ulf.Zibis@gmx.de", "author": "Ulf.Zibis@gmx.de"}, {"author": "m-wada@usa.com", "creator": "m-wada@usa.com", "time": "2011-12-09T09:26:00Z", "attachment_id": null, "text": "(In reply to Ulf.Zibis from comment #0)\n> Steps to reproduce:\n> Preconditions:\n> account1.server1.name a@a.a\n> account2.server2.name b@b.b\n> account3.server3.name Local Folder\n> Inbox of a@a.a:\n> message1: X-Account-Key: account1\n> message2: X-Account-Key: account2\n> message3: X-Account-Key: account3\n> message4: X-Account-Key: account4\n> message5: <no X-Account-Key:>\n> \n> Actual results:\n> Column 'Account' in the list of messages:\n> message1: a@a.a\n> message2: b@b.b\n> message3: a@a.a\n> message4: a@a.a\n> message5: a@a.a\n\nUnable to reproduce next combination.\n> account3.server3.name Local Folder\n> message3: X-Account-Key: account3\n> message3: a@a.a\n\nTb 8 on Win-XP showed next in Account column.\n\naccount1/server1 to account8 is defined. No Global Inbox is used.\n  account1/server1 : POP3, not default account\n  account2/server2 : POP3, default account\n  account3/server3 : Unified Folders\n  accountP/serverP : POP3, not default account\n  accountS/serverS : IMAP account\n  accountL/serverL : Local Folders  \nChecked at POP3 accountP/serverP(not server1, not default account, not Local Folders, not Unified Folders), Local Folders, and IMAP account.\n\n                            accountP         accountL         accountS\n                            serverP          serverL          serverS\n X-Account-Key: of mail     POP3 folder      Local Folders    IMAP folder \n \n mail-X : accountN          accountN         accountN         serverS.name of    \n   (accountN is defined)    -> serverN.name  -> serverN.name  this IMAP account\n   (non Local Folders  )\n\n mail-Y : accountL          accountL         accountL         serverS.name of    \n   (accountL is defined)    -> serverL.name  -> serverL.name  this IMAP account\n   (as Local Folders   )    ==Local Folders  ==Local Folders   \n\n mail-Z : accountC          serverP.name of  serverL.name of  serverS.name of    \n   (accountC is        )    this account     this account     this IMAP account\n   (  not defined      )                     ==Local Folders   \n\n mail-W : no X-Account-Key  server1.name of  server1.name of  serverS.name of    \n                            account1         account1         this account\n     \nNote:\nEven if existent accountN is hidden account for Unified Folders(smart mail boxes), corresponding serverN.name is used and \"Unified Folders\" is shown.\n\n> Expected results:\n> Column 'Account' in the list of messages:\n> message3: <invalid (3)>\nWhy showning \"Local Folders\" is wrong even though account3 is defined as \"Local Folders\"?\nI agree with you on account number of \"Unified Folders\" case.\n\nCurrent account column for local mail folder is for Global Inbox, and shown account is account used for identity selection upon reply when Global Inbox. And if associated identity is not defined for chosen account(Local Folders, Unified Folders), main identity of default account is selected.\nSo, I don't think \"Useless\" or \"Misleading\" except next cases.\n(a) \"Unified Folders\" is shown.\n(b) account1 or accountX for server1 is always used when no X-Account-Key: header.\nI wasn't aware of this (b) until I execute above check. (b) is possibly one of big causes of phenomenon of \"preselected reply address is far from user's expectation\".", "raw_text": "(In reply to Ulf.Zibis from comment #0)\n> Steps to reproduce:\n> Preconditions:\n> account1.server1.name a@a.a\n> account2.server2.name b@b.b\n> account3.server3.name Local Folder\n> Inbox of a@a.a:\n> message1: X-Account-Key: account1\n> message2: X-Account-Key: account2\n> message3: X-Account-Key: account3\n> message4: X-Account-Key: account4\n> message5: <no X-Account-Key:>\n> \n> Actual results:\n> Column 'Account' in the list of messages:\n> message1: a@a.a\n> message2: b@b.b\n> message3: a@a.a\n> message4: a@a.a\n> message5: a@a.a\n\nUnable to reproduce next combination.\n> account3.server3.name Local Folder\n> message3: X-Account-Key: account3\n> message3: a@a.a\n\nTb 8 on Win-XP showed next in Account column.\n\naccount1/server1 to account8 is defined. No Global Inbox is used.\n  account1/server1 : POP3, not default account\n  account2/server2 : POP3, default account\n  account3/server3 : Unified Folders\n  accountP/serverP : POP3, not default account\n  accountS/serverS : IMAP account\n  accountL/serverL : Local Folders  \nChecked at POP3 accountP/serverP(not server1, not default account, not Local Folders, not Unified Folders), Local Folders, and IMAP account.\n\n                            accountP         accountL         accountS\n                            serverP          serverL          serverS\n X-Account-Key: of mail     POP3 folder      Local Folders    IMAP folder \n \n mail-X : accountN          accountN         accountN         serverS.name of    \n   (accountN is defined)    -> serverN.name  -> serverN.name  this IMAP account\n   (non Local Folders  )\n\n mail-Y : accountL          accountL         accountL         serverS.name of    \n   (accountL is defined)    -> serverL.name  -> serverL.name  this IMAP account\n   (as Local Folders   )    ==Local Folders  ==Local Folders   \n\n mail-Z : accountC          serverP.name of  serverL.name of  serverS.name of    \n   (accountC is        )    this account     this account     this IMAP account\n   (  not defined      )                     ==Local Folders   \n\n mail-W : no X-Account-Key  server1.name of  server1.name of  serverS.name of    \n                            account1         account1         this account\n     \nNote:\nEven if existent accountN is hidden account for Unified Folders(smart mail boxes), corresponding serverN.name is used and \"Unified Folders\" is shown.\n\n> Expected results:\n> Column 'Account' in the list of messages:\n> message3: <invalid (3)>\nWhy showning \"Local Folders\" is wrong even though account3 is defined as \"Local Folders\"?\nI agree with you on account number of \"Unified Folders\" case.\n\nCurrent account column for local mail folder is for Global Inbox, and shown account is account used for identity selection upon reply when Global Inbox. And if associated identity is not defined for chosen account(Local Folders, Unified Folders), main identity of default account is selected.\nSo, I don't think \"Useless\" or \"Misleading\" except next cases.\n(a) \"Unified Folders\" is shown.\n(b) account1 or accountX for server1 is always used when no X-Account-Key: header.\nI wasn't aware of this (b) until I execute above check. (b) is possibly one of big causes of phenomenon of \"preselected reply address is far from user's expectation\".", "creation_time": "2011-12-09T09:26:00Z", "bug_id": 707165, "id": 5903677, "tags": [], "count": 3, "is_private": false}, {"creation_time": "2011-12-09T23:33:11Z", "raw_text": "(In reply to WADA from comment #3)\nWow, you did much work!\n\n> Unable to reproduce next combination.\n> > account3.server3.name Local Folder\n> > message3: X-Account-Key: account3\n> > message3: a@a.a\nActually I did my test on a local folder, so I assumed\n    message3: a@a.a\nbecause on local folder it was\n    message3: Local Folders\nSorry for my error.\n\n> Tb 8 on Win-XP showed next in Account column.\n> \n> account1/server1 to account8 is defined. No Global Inbox is used.\n>   account1/server1 : POP3, not default account\n>   account2/server2 : POP3, default account\n>   account3/server3 : Unified Folders\n>   accountP/serverP : POP3, not default account\n>   accountS/serverS : IMAP account\n>   accountL/serverL : Local Folders  \n> Checked at POP3 accountP/serverP(not server1, not default account, not Local\n> Folders, not Unified Folders), Local Folders, and IMAP account.\n> \n>                             accountP         accountL         accountS\n>                             serverP          serverL          serverS\n>  X-Account-Key: of mail     POP3 folder      Local Folders    IMAP folder \n>  \n>  mail-X : accountN          accountN         accountN         serverS.name\n> of    \n>    (accountN is defined)    -> serverN.name  -> serverN.name  this IMAP\n> account\n>    (non Local Folders  )\nExpected(IMO):                serverN.name     serverN.name     serverN.name\n\n>  mail-Y : accountL          accountL         accountL         serverS.name\n> of    \n>    (accountL is defined)    -> serverL.name  -> serverL.name  this IMAP\n> account\n>    (as Local Folders   )    ==Local Folders  ==Local Folders   \nExpected(IMO):                Local F(invalid) Local F(invalid) Local F(invalid)\nAlternative:                  serverL.name     serverL.name     serverL.name\n\n>  mail-Z : accountC          serverP.name of  serverL.name of  serverS.name\n> of    \n>    (accountC is        )    this account     this account     this IMAP\n> account\n>    (  not defined      )                     ==Local Folders   \nExpected(IMO):                <unknown (C)>    <unknown (C)>    <unknown (C)>    \nAlternative:                  <invalid (C)>    <invalid (C)>    <invalid (C)>    \n\n>  mail-W : no X-Account-Key  server1.name of  server1.name of  serverS.name\n> of    \nExpected(IMO):                <none>           <none>           <none>\nAlternative:                  <unknown>        <unknown>        <unknown>    \n\n> > Expected results:\n> > Column 'Account' in the list of messages:\n> > message3: <invalid (3)>\n> Why showning \"Local Folders\" is wrong even though account3 is defined as\n> \"Local Folders\"?\nAs local folder can not be an account to where a message was received from the server, it is invalid as input account.\nBut yes, it may be more descriptive to show \"Local Folders (invalid)\" or \"<invalid (Local Folders)>\"\n\n> Current account column for local mail folder is for Global Inbox, and shown\n> account is account used for identity selection upon reply when Global Inbox.\n> And if associated identity is not defined for chosen account(Local Folders,\n> Unified Folders), main identity of default account is selected.\n> So, I don't think \"Useless\" or \"Misleading\" except next cases.\n> (a) \"Unified Folders\" is shown.\n> (b) account1 or accountX for server1 is always used when no X-Account-Key:\n> header.\nAgreed.\n\n> I wasn't aware of this (b) until I execute above check. (b) is possibly one\n> of big causes of phenomenon of \"preselected reply address is far from user's\n> expectation\".\nBecause of all this problems I've opened bug 706451.\n\nAdditionally, if a message is copied/moved from an IMAP (or very old untagged POP3) account to any local/POP3/IMAP folder, I think, \"X-Account-Key: accountS\" should be added to the message's header.", "attachment_id": null, "time": "2011-12-09T23:33:11Z", "text": "(In reply to WADA from comment #3)\nWow, you did much work!\n\n> Unable to reproduce next combination.\n> > account3.server3.name Local Folder\n> > message3: X-Account-Key: account3\n> > message3: a@a.a\nActually I did my test on a local folder, so I assumed\n    message3: a@a.a\nbecause on local folder it was\n    message3: Local Folders\nSorry for my error.\n\n> Tb 8 on Win-XP showed next in Account column.\n> \n> account1/server1 to account8 is defined. No Global Inbox is used.\n>   account1/server1 : POP3, not default account\n>   account2/server2 : POP3, default account\n>   account3/server3 : Unified Folders\n>   accountP/serverP : POP3, not default account\n>   accountS/serverS : IMAP account\n>   accountL/serverL : Local Folders  \n> Checked at POP3 accountP/serverP(not server1, not default account, not Local\n> Folders, not Unified Folders), Local Folders, and IMAP account.\n> \n>                             accountP         accountL         accountS\n>                             serverP          serverL          serverS\n>  X-Account-Key: of mail     POP3 folder      Local Folders    IMAP folder \n>  \n>  mail-X : accountN          accountN         accountN         serverS.name\n> of    \n>    (accountN is defined)    -> serverN.name  -> serverN.name  this IMAP\n> account\n>    (non Local Folders  )\nExpected(IMO):                serverN.name     serverN.name     serverN.name\n\n>  mail-Y : accountL          accountL         accountL         serverS.name\n> of    \n>    (accountL is defined)    -> serverL.name  -> serverL.name  this IMAP\n> account\n>    (as Local Folders   )    ==Local Folders  ==Local Folders   \nExpected(IMO):                Local F(invalid) Local F(invalid) Local F(invalid)\nAlternative:                  serverL.name     serverL.name     serverL.name\n\n>  mail-Z : accountC          serverP.name of  serverL.name of  serverS.name\n> of    \n>    (accountC is        )    this account     this account     this IMAP\n> account\n>    (  not defined      )                     ==Local Folders   \nExpected(IMO):                <unknown (C)>    <unknown (C)>    <unknown (C)>    \nAlternative:                  <invalid (C)>    <invalid (C)>    <invalid (C)>    \n\n>  mail-W : no X-Account-Key  server1.name of  server1.name of  serverS.name\n> of    \nExpected(IMO):                <none>           <none>           <none>\nAlternative:                  <unknown>        <unknown>        <unknown>    \n\n> > Expected results:\n> > Column 'Account' in the list of messages:\n> > message3: <invalid (3)>\n> Why showning \"Local Folders\" is wrong even though account3 is defined as\n> \"Local Folders\"?\nAs local folder can not be an account to where a message was received from the server, it is invalid as input account.\nBut yes, it may be more descriptive to show \"Local Folders (invalid)\" or \"<invalid (Local Folders)>\"\n\n> Current account column for local mail folder is for Global Inbox, and shown\n> account is account used for identity selection upon reply when Global Inbox.\n> And if associated identity is not defined for chosen account(Local Folders,\n> Unified Folders), main identity of default account is selected.\n> So, I don't think \"Useless\" or \"Misleading\" except next cases.\n> (a) \"Unified Folders\" is shown.\n> (b) account1 or accountX for server1 is always used when no X-Account-Key:\n> header.\nAgreed.\n\n> I wasn't aware of this (b) until I execute above check. (b) is possibly one\n> of big causes of phenomenon of \"preselected reply address is far from user's\n> expectation\".\nBecause of all this problems I've opened bug 706451.\n\nAdditionally, if a message is copied/moved from an IMAP (or very old untagged POP3) account to any local/POP3/IMAP folder, I think, \"X-Account-Key: accountS\" should be added to the message's header.", "id": 5905609, "count": 4, "is_private": false, "tags": [], "bug_id": 707165, "author": "Ulf.Zibis@gmx.de", "creator": "Ulf.Zibis@gmx.de"}, {"creator": "m-wada@usa.com", "author": "m-wada@usa.com", "tags": [], "count": 5, "is_private": false, "id": 5906245, "bug_id": 707165, "creation_time": "2011-12-10T10:17:07Z", "raw_text": "(In reply to Ulf.Zibis from comment #4)\n> Additionally, if a message is copied/moved from an IMAP (or very old\n> untagged POP3) account to any local/POP3/IMAP folder, I think,\n> \"X-Account-Key: accountS\" should be added to the message's header.\n\nIf you think X-Account-Key: and X-UIDL: is better kept upon copy of mail from POP3 mail folder to IMAP folder, add comment to bug 426651, which is request of removal of such headers upon copy to IMAP folder, please.\nI imagined use case of \"upload of mail to IMAP for account transfer\".\nBut for use case like \"IMAP folder as central mail data repository for other account's mail data\"(for example, utilizing of large free disk space of Gmail, Global Inbox like use of Gmail IMAP folder), they are better kept.\n\nHowever, to be torelant with \"different account number on different Tb\" and \"account number change by delete/re-define of same POP3 account in single Tb\", X-Account-Key: need to be enhanced or changed; change to X-Account-Key: accountN abc@x.y.z(main identity's mail address of accountN) like one is needed for required setting of preset From: upon reply, if X-Account-Key: based identity selection upon reply will be used continuously for other than Global Inbox.\nI think these kind of issue needs to be cared in your bug 706451.", "text": "(In reply to Ulf.Zibis from comment #4)\n> Additionally, if a message is copied/moved from an IMAP (or very old\n> untagged POP3) account to any local/POP3/IMAP folder, I think,\n> \"X-Account-Key: accountS\" should be added to the message's header.\n\nIf you think X-Account-Key: and X-UIDL: is better kept upon copy of mail from POP3 mail folder to IMAP folder, add comment to bug 426651, which is request of removal of such headers upon copy to IMAP folder, please.\nI imagined use case of \"upload of mail to IMAP for account transfer\".\nBut for use case like \"IMAP folder as central mail data repository for other account's mail data\"(for example, utilizing of large free disk space of Gmail, Global Inbox like use of Gmail IMAP folder), they are better kept.\n\nHowever, to be torelant with \"different account number on different Tb\" and \"account number change by delete/re-define of same POP3 account in single Tb\", X-Account-Key: need to be enhanced or changed; change to X-Account-Key: accountN abc@x.y.z(main identity's mail address of accountN) like one is needed for required setting of preset From: upon reply, if X-Account-Key: based identity selection upon reply will be used continuously for other than Global Inbox.\nI think these kind of issue needs to be cared in your bug 706451.", "time": "2011-12-10T10:17:07Z", "attachment_id": null}, {"raw_text": "so dup of, or dependent on bug 706451?", "creation_time": "2011-12-22T14:38:04Z", "time": "2011-12-22T14:38:04Z", "attachment_id": null, "text": "so dup of, or dependent on bug 706451?", "id": 5935101, "count": 6, "is_private": false, "tags": [], "bug_id": 707165, "author": "vseerror@lehigh.edu", "creator": "vseerror@lehigh.edu"}, {"creator": "acelists@atlas.sk", "author": "acelists@atlas.sk", "text": "I thought \"Account\" column shows in which account the message is currently stored and has nothing to do with the raw X-Account-Key header value. And this info would be used when using Unified folders so that you can see from which account any particular message was aggregated. But if \"message2\" shows \"b@b.b\" while still residing in Inbox of Account \"a@a.a\", then it may show something different.\n\nThe code for the value of that column seems to be here:\nhttps://searchfox.org/comm-central/source/mailnews/base/src/nsMsgDBView.cpp#448\nSo really, it first finds the account by the account key found in the message, and only if there is none found it checks in which folder the message is in and queries its contain server (account).\n\nSo that looks weird.\n\nUlf is correct that the X-Account-Key may be outdated and e.g. account3 in an old message copied across a few TB profiles, may have nothing to do with the account3 that may by chance also exist in the current message.\nI'm not sure for how critical operations the X-Account-Key header is useful, but I'd think it should only be used for short-lived hints about the originating account in the local profile, not for inferring anything from 10 years old messages.\nWe've seen in bug 394216 that even \"short-lived\" is a myth as the same message can be shared from multiple profiles even before it is finalized from its draft form.\n\nMy suggestion would be to always show the account containing the message and just ignore the account key in the message.", "attachment_id": null, "time": "2018-11-19T16:58:56Z", "creation_time": "2018-11-19T16:58:56Z", "raw_text": "I thought \"Account\" column shows in which account the message is currently stored and has nothing to do with the raw X-Account-Key header value. And this info would be used when using Unified folders so that you can see from which account any particular message was aggregated. But if \"message2\" shows \"b@b.b\" while still residing in Inbox of Account \"a@a.a\", then it may show something different.\n\nThe code for the value of that column seems to be here:\nhttps://searchfox.org/comm-central/source/mailnews/base/src/nsMsgDBView.cpp#448\nSo really, it first finds the account by the account key found in the message, and only if there is none found it checks in which folder the message is in and queries its contain server (account).\n\nSo that looks weird.\n\nUlf is correct that the X-Account-Key may be outdated and e.g. account3 in an old message copied across a few TB profiles, may have nothing to do with the account3 that may by chance also exist in the current message.\nI'm not sure for how critical operations the X-Account-Key header is useful, but I'd think it should only be used for short-lived hints about the originating account in the local profile, not for inferring anything from 10 years old messages.\nWe've seen in bug 394216 that even \"short-lived\" is a myth as the same message can be shared from multiple profiles even before it is finalized from its draft form.\n\nMy suggestion would be to always show the account containing the message and just ignore the account key in the message.", "bug_id": 707165, "count": 7, "is_private": false, "tags": [], "id": 13765237}, {"bug_id": 707165, "id": 13766805, "count": 8, "is_private": false, "tags": [], "time": "2018-11-19T18:56:26Z", "attachment_id": null, "author": "richard.marti@gmail.com", "creator": "richard.marti@gmail.com", "text": "Only checking the account containing the message is what I expected.", "creation_time": "2018-11-19T18:56:26Z", "raw_text": "Only checking the account containing the message is what I expected."}, {"creator": "Ulf.Zibis@gmx.de", "author": "Ulf.Zibis@gmx.de", "bug_id": 707165, "count": 9, "is_private": false, "tags": [], "id": 14248375, "text": "I too share the suggestion of aceman.", "attachment_id": null, "time": "2019-07-20T11:44:01Z", "raw_text": "I too share the suggestion of aceman.", "creation_time": "2019-07-20T11:44:01Z"}]}}, "comments": {}}