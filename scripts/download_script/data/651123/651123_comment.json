{"bugs": {"651123": {"comments": [{"id": 5418475, "author": "mounir@lamouri.fr", "is_private": false, "bug_id": 651123, "tags": [], "creation_time": "2011-04-19T14:11:12Z", "attachment_id": null, "time": "2011-04-19T14:11:12Z", "count": 0, "text": "", "raw_text": "", "creator": "mounir@lamouri.fr"}, {"count": 1, "time": "2011-05-31T17:44:42Z", "creator": "mounir@lamouri.fr", "raw_text": "", "text": "Created attachment 536347\nPatch v1", "is_private": false, "author": "mounir@lamouri.fr", "id": 5503790, "attachment_id": 536347, "tags": [], "creation_time": "2011-05-31T17:44:42Z", "bug_id": 651123}, {"time": "2011-05-31T21:44:11Z", "count": 2, "text": "Isn't there any way we can make this simply not use indexes? I'm worried about perf regressions here.", "raw_text": "Isn't there any way we can make this simply not use indexes? I'm worried about perf regressions here.", "creator": "jonas@sicking.cc", "id": 5504489, "author": "jonas@sicking.cc", "is_private": false, "bug_id": 651123, "creation_time": "2011-05-31T21:44:11Z", "tags": [], "attachment_id": null}, {"creator": "bzbarsky@mit.edu", "raw_text": "Yeah, to be clear IndexOf is not cheap and will get even more expensive...", "text": "Yeah, to be clear IndexOf is not cheap and will get even more expensive...", "count": 3, "time": "2011-06-01T04:27:11Z", "attachment_id": null, "creation_time": "2011-06-01T04:27:11Z", "tags": [], "bug_id": 651123, "author": "bzbarsky@mit.edu", "is_private": false, "id": 5505299}, {"text": "The problem is that this code wants to work with range endpoints... :(", "creator": "bzbarsky@mit.edu", "raw_text": "The problem is that this code wants to work with range endpoints... :(", "count": 4, "time": "2011-06-01T04:28:28Z", "bug_id": 651123, "attachment_id": null, "creation_time": "2011-06-01T04:28:28Z", "tags": [], "id": 5505300, "author": "bzbarsky@mit.edu", "is_private": false}, {"id": 5505636, "is_private": false, "author": "mounir@lamouri.fr", "time": "2011-06-01T11:01:23Z", "count": 5, "bug_id": 651123, "text": "(In reply to comment #4)\n> The problem is that this code wants to work with range endpoints... :(\n\nAnd how hard would that be to have nsIRange/nsRange dealing with nodes instead of offsets?", "tags": [], "creation_time": "2011-06-01T11:01:23Z", "attachment_id": null, "raw_text": "(In reply to comment #4)\n> The problem is that this code wants to work with range endpoints... :(\n\nAnd how hard would that be to have nsIRange/nsRange dealing with nodes instead of offsets?", "creator": "mounir@lamouri.fr"}, {"id": 5549458, "is_private": false, "count": 6, "time": "2011-06-22T21:46:59Z", "author": "jonas@sicking.cc", "bug_id": 651123, "text": "Comment on attachment 536347\nPatch v1\n\nReview of attachment 536347:\n-----------------------------------------------------------------\n\nInstead make nsTextStateManager::NotifyContentAdded take a start child and end child (end child being the first non-added child, null to indicate \"all following\"). You'll also need to make nsContentEventHandler::GetFlatTextOffsetOfRange use nsINode::GetNextNode and TextLength to measure text length.", "attachment_id": 536347, "creation_time": "2011-06-22T21:46:59Z", "tags": [], "creator": "jonas@sicking.cc", "raw_text": "Review of attachment 536347:\n-----------------------------------------------------------------\n\nInstead make nsTextStateManager::NotifyContentAdded take a start child and end child (end child being the first non-added child, null to indicate \"all following\"). You'll also need to make nsContentEventHandler::GetFlatTextOffsetOfRange use nsINode::GetNextNode and TextLength to measure text length."}]}}, "comments": {}}