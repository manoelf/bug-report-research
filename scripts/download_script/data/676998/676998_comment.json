{"comments": {}, "bugs": {"676998": {"comments": [{"raw_text": "With patches for bug 668349 and 668351, xpcshell tests can be run on an Android device, and the majority of tests pass. \n\nHowever, some tests in xpcom/test/unit fail when run on Android. The failing tests are:\n\nxpcom/test/unit/test_bug364285-1.js\nxpcom/test/unit/test_bug476919.js\nxpcom/test/unit/test_home.js\nxpcom/test/unit/test_symlinks.js\nxpcom/test/unit/test_systemInfo.js", "attachment_id": null, "id": 5637180, "creator": "gbrown@mozilla.com", "is_private": false, "time": "2011-08-06T01:13:32Z", "tags": [], "text": "With patches for bug 668349 and 668351, xpcshell tests can be run on an Android device, and the majority of tests pass. \n\nHowever, some tests in xpcom/test/unit fail when run on Android. The failing tests are:\n\nxpcom/test/unit/test_bug364285-1.js\nxpcom/test/unit/test_bug476919.js\nxpcom/test/unit/test_home.js\nxpcom/test/unit/test_symlinks.js\nxpcom/test/unit/test_systemInfo.js", "author": "gbrown@mozilla.com", "creation_time": "2011-08-06T01:13:32Z", "count": 0, "bug_id": 676998}, {"attachment_id": null, "raw_text": "test_bug364285-1.js fails with:\n\nTEST-UNEXPECTED-FAIL | xpcshell/head.js | [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.createUnique]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: test_bug364285-1.js :: create_file :: line 26\"  data: no]\n\nThe error only occurs on the Deseret (U+10400\u2013U+1044F) filename.", "id": 6284121, "creator": "gbrown@mozilla.com", "is_private": false, "count": 1, "author": "gbrown@mozilla.com", "creation_time": "2012-05-06T17:29:26Z", "time": "2012-05-06T17:29:26Z", "tags": [], "bug_id": 676998, "text": "test_bug364285-1.js fails with:\n\nTEST-UNEXPECTED-FAIL | xpcshell/head.js | [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.createUnique]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: test_bug364285-1.js :: create_file :: line 26\"  data: no]\n\nThe error only occurs on the Deseret (U+10400\u2013U+1044F) filename."}, {"id": 6284365, "attachment_id": null, "raw_text": "test_476919.js fails when it cannot find file \"/bin/ld\" -- expected.\n\ntest_home.js fails trying to access the \"Home\" property:\n\nvar dirSvc = Cc[\"@mozilla.org/file/directory_service;1\"].getService(Ci.nsIProperties);\nvar homeDir = dirSvc.get(\"Home\", Ci.nsIFile);\n\ntest_symlinks.js fails when it cannot find file \"/bin/ld\" -- expected.\n\ntest_systemInfo.js fails on \"memsize\", on Android 2.2 and earlier -- see bug 660036 and 661351.", "creation_time": "2012-05-06T22:28:39Z", "author": "gbrown@mozilla.com", "text": "test_476919.js fails when it cannot find file \"/bin/ld\" -- expected.\n\ntest_home.js fails trying to access the \"Home\" property:\n\nvar dirSvc = Cc[\"@mozilla.org/file/directory_service;1\"].getService(Ci.nsIProperties);\nvar homeDir = dirSvc.get(\"Home\", Ci.nsIFile);\n\ntest_symlinks.js fails when it cannot find file \"/bin/ld\" -- expected.\n\ntest_systemInfo.js fails on \"memsize\", on Android 2.2 and earlier -- see bug 660036 and 661351.", "time": "2012-05-06T22:28:39Z", "bug_id": 676998, "tags": [], "is_private": false, "creator": "gbrown@mozilla.com", "count": 2}, {"creation_time": "2012-05-07T21:13:16Z", "author": "gbrown@mozilla.com", "text": "There are some new failures:\n\ntest_nsIProcess.js fails when it tries to execute TestQuickReturn. Attemping to execute this program from the shell suggests that it was not built/linked correctly:\n\n> # ./TestQuickReturn\n> link_image[1995]: failed to link ./TestQuickReturn\n> CANNOT LINK EXECUTABLE\n\ntest_bug745466.js also tries to access \"Home\".\n\nAll the \"Home\" failures are caused by: https://hg.mozilla.org/mozilla-central/annotate/c24b721ca5c9/xpcom/io/SpecialSystemDirectory.cpp#l217. \"Home\" is intentionally not mapped to the \"HOME\" environment variable; this should be revisited in light of bug 749711 and earlier work.", "bug_id": 676998, "tags": [], "time": "2012-05-07T21:13:16Z", "is_private": false, "creator": "gbrown@mozilla.com", "count": 3, "id": 6287171, "attachment_id": null, "raw_text": "There are some new failures:\n\ntest_nsIProcess.js fails when it tries to execute TestQuickReturn. Attemping to execute this program from the shell suggests that it was not built/linked correctly:\n\n> # ./TestQuickReturn\n> link_image[1995]: failed to link ./TestQuickReturn\n> CANNOT LINK EXECUTABLE\n\ntest_bug745466.js also tries to access \"Home\".\n\nAll the \"Home\" failures are caused by: https://hg.mozilla.org/mozilla-central/annotate/c24b721ca5c9/xpcom/io/SpecialSystemDirectory.cpp#l217. \"Home\" is intentionally not mapped to the \"HOME\" environment variable; this should be revisited in light of bug 749711 and earlier work."}, {"bug_id": 676998, "count": 4, "author": "gbrown@mozilla.com", "creation_time": "2013-05-03T22:54:45Z", "time": "2013-05-03T22:54:45Z", "tags": [], "text": "These tests are running on tbpl now. \n\nThe set of failing tests is now:\n\n[test_bug476919.js]\n[test_bug656331.js]\n[test_compmgr_warnings.js]\n[test_home.js]\n[test_nsIProcess.js]\n[test_symlinks.js]\n[test_systemInfo.js]\n[test_bug745466.js]", "creator": "gbrown@mozilla.com", "is_private": false, "id": 7386641, "attachment_id": null, "raw_text": "These tests are running on tbpl now. \n\nThe set of failing tests is now:\n\n[test_bug476919.js]\n[test_bug656331.js]\n[test_compmgr_warnings.js]\n[test_home.js]\n[test_nsIProcess.js]\n[test_symlinks.js]\n[test_systemInfo.js]\n[test_bug745466.js]"}]}}}