{"bugs": {"707261": {"comments": [{"bug_id": 707261, "text": "Created attachment 578673\nTroubleshooting Information\n\n[testday-20111202]\nAfter installing the extension in a new profile, each time I start Firefox I have the following message in the console:\n\nDOMApplicationRegistry::init() [object Window]\nerror: An exception occurred.\nTraceback (most recent call last):\n  File \"/home/clochix/.mozilla/firefox/2hdhssy6.OWA/extensions/openwebapps@mozillalabs.com//resources/openwebapps/data/mgmtapi.js\", line 74, in null\n[Exception... \"Cannot modify properties of a WrappedNative\"  nsresult: \"0x80570034 (NS_ERROR_XPC_CANT_MODIFY_PROP_ON_WN)\"  location: \"JS frame :: /home/clochix/.mozilla/firefox/2hdhssy6.OWA/extensions/openwebapps@mozillalabs.com//resources/openwebapps/data/mgmtapi.js :: <TOP_LEVEL> :: line 74\"  data: no]", "tags": [], "attachment_id": 578673, "raw_text": "[testday-20111202]\nAfter installing the extension in a new profile, each time I start Firefox I have the following message in the console:\n\nDOMApplicationRegistry::init() [object Window]\nerror: An exception occurred.\nTraceback (most recent call last):\n  File \"/home/clochix/.mozilla/firefox/2hdhssy6.OWA/extensions/openwebapps@mozillalabs.com//resources/openwebapps/data/mgmtapi.js\", line 74, in null\n[Exception... \"Cannot modify properties of a WrappedNative\"  nsresult: \"0x80570034 (NS_ERROR_XPC_CANT_MODIFY_PROP_ON_WN)\"  location: \"JS frame :: /home/clochix/.mozilla/firefox/2hdhssy6.OWA/extensions/openwebapps@mozillalabs.com//resources/openwebapps/data/mgmtapi.js :: <TOP_LEVEL> :: line 74\"  data: no]", "creator": "clochix@clochix.net", "creation_time": "2011-12-02T19:48:44Z", "time": "2011-12-02T19:48:44Z", "author": "clochix@clochix.net", "is_private": false, "count": 0, "id": 5889027}, {"is_private": false, "id": 5889149, "count": 1, "creator": "mixedpuppy@gmail.com", "time": "2011-12-02T20:15:04Z", "creation_time": "2011-12-02T20:15:04Z", "author": "mixedpuppy@gmail.com", "attachment_id": null, "raw_text": "what version of firefox?  and I'm assuming it's on linux per that field in the bug.", "tags": [], "text": "what version of firefox?  and I'm assuming it's on linux per that field in the bug.", "bug_id": 707261}, {"attachment_id": null, "raw_text": "FF nightly", "text": "FF nightly", "bug_id": 707261, "tags": [], "is_private": false, "count": 2, "id": 5889194, "creator": "onecyrenus@gmail.com", "time": "2011-12-02T20:32:41Z", "creation_time": "2011-12-02T20:32:41Z", "author": "onecyrenus@gmail.com"}, {"author": "clochix@clochix.net", "creator": "clochix@clochix.net", "time": "2011-12-02T20:43:54Z", "creation_time": "2011-12-02T20:43:54Z", "is_private": false, "count": 3, "id": 5889232, "text": "ok, it's related to nightly. I launched my 8.0.1 on the same profile and was able to install an app. Then I closed the 8.0.1 and launched again the nightly, and got this error in the console:\n\nerror: An exception occurred.\nTraceback (most recent call last):\n  File \"/home/clochix/.mozilla/firefox/2hdhssy6.OWA/extensions/openwebapps@mozillalabs.com//resources/openwebapps/data/mgmtapi.js\", line 74, in null\n[Exception... \"Cannot modify properties of a WrappedNative\"  nsresult: \"0x80570034 (NS_ERROR_XPC_CANT_MODIFY_PROP_ON_WN)\"  location: \"JS frame :: /home/clochix/.mozilla/firefox/2hdhssy6.OWA/extensions/openwebapps@mozillalabs.com//resources/openwebapps/data/mgmtapi.js :: <TOP_LEVEL> :: line 74\"  data: no]\nerror: An exception occurred.\nTraceback (most recent call last):\n  File \"resource://openwebapps-at-mozillalabs-dot-com/addon-kit/lib/panel.js\", line 313, in _onShow\n    this._frameLoadersSwapped = true;\n  File \"resource://openwebapps-at-mozillalabs-dot-com/addon-kit/lib/panel.js\", line 95, in \n    .swapFrameLoaders(this._viewFrame);\n  File \"resource://openwebapps-at-mozillalabs-dot-com/addon-kit/lib/panel.js\", line 290, in \n    get _viewFrame() this.__xulPanel.children[0],\nTypeError: this.__xulPanel is null\n\n\nSeems like a recent regression. I tried the extension 2 or 3 days ago with my nightly, and was able to install the only free app in the store.", "bug_id": 707261, "tags": [], "raw_text": "ok, it's related to nightly. I launched my 8.0.1 on the same profile and was able to install an app. Then I closed the 8.0.1 and launched again the nightly, and got this error in the console:\n\nerror: An exception occurred.\nTraceback (most recent call last):\n  File \"/home/clochix/.mozilla/firefox/2hdhssy6.OWA/extensions/openwebapps@mozillalabs.com//resources/openwebapps/data/mgmtapi.js\", line 74, in null\n[Exception... \"Cannot modify properties of a WrappedNative\"  nsresult: \"0x80570034 (NS_ERROR_XPC_CANT_MODIFY_PROP_ON_WN)\"  location: \"JS frame :: /home/clochix/.mozilla/firefox/2hdhssy6.OWA/extensions/openwebapps@mozillalabs.com//resources/openwebapps/data/mgmtapi.js :: <TOP_LEVEL> :: line 74\"  data: no]\nerror: An exception occurred.\nTraceback (most recent call last):\n  File \"resource://openwebapps-at-mozillalabs-dot-com/addon-kit/lib/panel.js\", line 313, in _onShow\n    this._frameLoadersSwapped = true;\n  File \"resource://openwebapps-at-mozillalabs-dot-com/addon-kit/lib/panel.js\", line 95, in \n    .swapFrameLoaders(this._viewFrame);\n  File \"resource://openwebapps-at-mozillalabs-dot-com/addon-kit/lib/panel.js\", line 290, in \n    get _viewFrame() this.__xulPanel.children[0],\nTypeError: this.__xulPanel is null\n\n\nSeems like a recent regression. I tried the extension 2 or 3 days ago with my nightly, and was able to install the only free app in the store.", "attachment_id": null}, {"is_private": false, "count": 4, "id": 5889264, "creator": "mixedpuppy@gmail.com", "time": "2011-12-02T20:52:06Z", "creation_time": "2011-12-02T20:52:06Z", "author": "mixedpuppy@gmail.com", "attachment_id": null, "raw_text": "Ok, I think this is related to Bug 707104.  \n\nThe problem is that the new APIs have landed into nightlies, and our injector is trying to inject the same APIs.  I don't know if this problem is solvable in the short term (ie. before developer preview release).\n\nNightly is Firefox 11.  The current release is Fx8, and Fx9 will be released soon (end of month or early jan?).\n\nSo, should we be testing on nightly, or should we be testing on fx9/10?", "text": "Ok, I think this is related to Bug 707104.  \n\nThe problem is that the new APIs have landed into nightlies, and our injector is trying to inject the same APIs.  I don't know if this problem is solvable in the short term (ie. before developer preview release).\n\nNightly is Firefox 11.  The current release is Fx8, and Fx9 will be released soon (end of month or early jan?).\n\nSo, should we be testing on nightly, or should we be testing on fx9/10?", "bug_id": 707261, "tags": []}, {"attachment_id": null, "raw_text": "", "bug_id": 707261, "text": "*** Bug 707104 has been marked as a duplicate of this bug. ***", "tags": [], "count": 5, "id": 5889269, "is_private": false, "time": "2011-12-02T20:55:01Z", "creation_time": "2011-12-02T20:55:01Z", "creator": "mixedpuppy@gmail.com", "author": "mixedpuppy@gmail.com"}, {"raw_text": "I highly recommend getting rid of the awful injector once Firefox 9 is released as stable and bug 641552 will be available in all released Firefox versions.", "attachment_id": null, "text": "I highly recommend getting rid of the awful injector once Firefox 9 is released as stable and bug 641552 will be available in all released Firefox versions.", "bug_id": 707261, "tags": [], "is_private": false, "id": 5889283, "count": 6, "author": "philipp@weitershausen.de", "creator": "philipp@weitershausen.de", "time": "2011-12-02T20:58:34Z", "creation_time": "2011-12-02T20:58:34Z"}, {"tags": [], "bug_id": 707261, "text": "(In reply to Philipp von Weitershausen [:philikon] from comment #6)\n> I highly recommend getting rid of the awful injector once Firefox 9 is\n> released as stable and bug 641552 will be available in all released Firefox\n> versions.\n\nMy previous comment is slightly incorrect.\n\nThe injector has been rewritten as a backwards compat shim that is compatible with what is happening in fx9. The shim is only used pre-fx9.  So this really has nothing to do with the injector shim.\n\nThe issue is that we are injecting APIs (via the proper mechanism) that the nightlies now also inject.  They are colliding and I expect that anything in owa would fail.", "raw_text": "(In reply to Philipp von Weitershausen [:philikon] from comment #6)\n> I highly recommend getting rid of the awful injector once Firefox 9 is\n> released as stable and bug 641552 will be available in all released Firefox\n> versions.\n\nMy previous comment is slightly incorrect.\n\nThe injector has been rewritten as a backwards compat shim that is compatible with what is happening in fx9. The shim is only used pre-fx9.  So this really has nothing to do with the injector shim.\n\nThe issue is that we are injecting APIs (via the proper mechanism) that the nightlies now also inject.  They are colliding and I expect that anything in owa would fail.", "attachment_id": null, "author": "mixedpuppy@gmail.com", "creation_time": "2011-12-02T21:03:33Z", "time": "2011-12-02T21:03:33Z", "creator": "mixedpuppy@gmail.com", "count": 7, "id": 5889295, "is_private": false}, {"is_private": false, "count": 8, "id": 5911164, "creator": "mozilla+bmo@noorenberghe.ca", "time": "2011-12-13T02:50:12Z", "creation_time": "2011-12-13T02:50:12Z", "author": "mozilla+bmo@noorenberghe.ca", "attachment_id": null, "raw_text": "There is a different error in the error console related to an \"injector\".  Will the following error be resolved by this bug or shall I file another:\n\nError: uncaught exception: [Exception... \"Cannot modify properties of a WrappedNative\"  nsresult: \"0x80570034 (NS_ERROR_XPC_CANT_MODIFY_PROP_ON_WN)\"  location: \"JS frame :: resource://openwebapps-at-mozillalabs-dot-com-api-utils-lib/securable-module.js -> resource://openwebapps-at-mozillalabs-dot-com-openwebapps-lib/injector.js :: <TOP_LEVEL> :: line 134\"  data: no]\n\nMozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:11.0a1) Gecko/20111212 Firefox/11.0a1\nExtension version: 0.5.1", "text": "There is a different error in the error console related to an \"injector\".  Will the following error be resolved by this bug or shall I file another:\n\nError: uncaught exception: [Exception... \"Cannot modify properties of a WrappedNative\"  nsresult: \"0x80570034 (NS_ERROR_XPC_CANT_MODIFY_PROP_ON_WN)\"  location: \"JS frame :: resource://openwebapps-at-mozillalabs-dot-com-api-utils-lib/securable-module.js -> resource://openwebapps-at-mozillalabs-dot-com-openwebapps-lib/injector.js :: <TOP_LEVEL> :: line 134\"  data: no]\n\nMozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:11.0a1) Gecko/20111212 Firefox/11.0a1\nExtension version: 0.5.1", "bug_id": 707261, "tags": []}, {"attachment_id": null, "raw_text": "Bump? I sorely miss fx share :(", "tags": [], "bug_id": 707261, "text": "Bump? I sorely miss fx share :(", "count": 9, "id": 5955718, "is_private": false, "time": "2012-01-04T23:37:06Z", "creation_time": "2012-01-04T23:37:06Z", "creator": "philipp@weitershausen.de", "author": "philipp@weitershausen.de"}, {"is_private": false, "count": 10, "id": 6053693, "creator": "jsmith@mozilla.com", "time": "2012-02-12T00:14:28Z", "creation_time": "2012-02-12T00:14:28Z", "author": "jsmith@mozilla.com", "attachment_id": null, "raw_text": "A Pivotal Tracker story has been created for this Bug: http://www.pivotaltracker.com/story/show/24808713", "text": "A Pivotal Tracker story has been created for this Bug: http://www.pivotaltracker.com/story/show/24808713", "bug_id": 707261, "tags": []}, {"time": "2012-03-14T01:32:37Z", "creation_time": "2012-03-14T01:32:37Z", "creator": "jsmith@mozilla.com", "author": "jsmith@mozilla.com", "count": 11, "id": 6137942, "is_private": false, "tags": [], "bug_id": 707261, "text": "Not sure if this applicable to mozilla-central or not. It might not be (as this is referring to possibly old vs. new API conflicts), but I need someone to confirm. David Clarke - Is this or not applicable to mozilla-central?", "attachment_id": null, "raw_text": "Not sure if this applicable to mozilla-central or not. It might not be (as this is referring to possibly old vs. new API conflicts), but I need someone to confirm. David Clarke - Is this or not applicable to mozilla-central?"}]}}, "comments": {}}