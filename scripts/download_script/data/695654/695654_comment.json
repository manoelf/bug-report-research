{"comments": {}, "bugs": {"695654": {"comments": [{"creator": "kdevel@vogtner.de", "creation_time": "2011-10-19T12:22:23Z", "time": "2011-10-19T12:22:23Z", "author": "kdevel@vogtner.de", "is_private": false, "count": 0, "id": 5791571, "tags": [], "bug_id": 695654, "text": "Created attachment 568013\nTestcase\n\nUser Agent:  \n\nSteps to reproduce:\n\n0. Enable Emacs keybindings*)\n1. Open Testcase. **)\n2. Move cursor behind the text (page down). ***)\n3. Press ctrl-u five times.\n\n\nActual results:\n\n3. Text in third line is deleted, cursor at the beginning of third line.\n\n\nExpected results:\n\n3. Textarea is empty (as in Fx 3.6).", "attachment_id": 568013, "raw_text": "User Agent:  \n\nSteps to reproduce:\n\n0. Enable Emacs keybindings*)\n1. Open Testcase. **)\n2. Move cursor behind the text (page down). ***)\n3. Press ctrl-u five times.\n\n\nActual results:\n\n3. Text in third line is deleted, cursor at the beginning of third line.\n\n\nExpected results:\n\n3. Textarea is empty (as in Fx 3.6)."}, {"raw_text": "*) Put\n   gtk-key-theme-name = \"Emacs\"\n   into ~/.gtkrc-2.0\n\n**) I get the Error Console message:\n\nWarning: Use of getAttributeNode() is deprecated. Use getAttribute() instead.\nSource File: https://bug695654.bugzilla.mozilla.org/attachment.cgi?id=568013\nLine: 0\n\n***) In Fx 3.6 the focus() call places the cursor at the end of the text. Is this\n     change intended?\n\ngood 2010-08-31-03-mozilla-central 1b43ce0bda4f\n bad 2010-09-30-03-mozilla-central 5a2012482a63\n\nmaybe related to Bug 259810 \"Ctrl+U works in textbox but not in textarea (when \"emacs bindings\" are enabled)\".", "attachment_id": null, "tags": [], "bug_id": 695654, "text": "*) Put\n   gtk-key-theme-name = \"Emacs\"\n   into ~/.gtkrc-2.0\n\n**) I get the Error Console message:\n\nWarning: Use of getAttributeNode() is deprecated. Use getAttribute() instead.\nSource File: https://bug695654.bugzilla.mozilla.org/attachment.cgi?id=568013\nLine: 0\n\n***) In Fx 3.6 the focus() call places the cursor at the end of the text. Is this\n     change intended?\n\ngood 2010-08-31-03-mozilla-central 1b43ce0bda4f\n bad 2010-09-30-03-mozilla-central 5a2012482a63\n\nmaybe related to Bug 259810 \"Ctrl+U works in textbox but not in textarea (when \"emacs bindings\" are enabled)\".", "id": 5791586, "count": 1, "is_private": false, "author": "kdevel@vogtner.de", "creation_time": "2011-10-19T12:32:27Z", "time": "2011-10-19T12:32:27Z", "creator": "kdevel@vogtner.de"}, {"creation_time": "2011-10-25T18:21:44Z", "time": "2011-10-25T18:21:44Z", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "count": 2, "id": 5803850, "is_private": false, "tags": [], "bug_id": 695654, "text": "> good 2010-08-31-03-mozilla-central 1b43ce0bda4f\n> bad 2010-09-30-03-mozilla-central 5a2012482a63\n\nCan you possibly narrow down that range more?  That's a _lot_ of changesets....", "attachment_id": null, "raw_text": "> good 2010-08-31-03-mozilla-central 1b43ce0bda4f\n> bad 2010-09-30-03-mozilla-central 5a2012482a63\n\nCan you possibly narrow down that range more?  That's a _lot_ of changesets...."}, {"id": 5804042, "count": 3, "is_private": false, "time": "2011-10-25T19:19:35Z", "creation_time": "2011-10-25T19:19:35Z", "creator": "kdevel@vogtner.de", "author": "kdevel@vogtner.de", "attachment_id": null, "raw_text": "good 2010-09-13-03-mozilla-central 84ee6bc0484d\n bad 2010-09-14-03-mozilla-central 5588c9796f0b", "tags": [], "text": "good 2010-09-13-03-mozilla-central 84ee6bc0484d\n bad 2010-09-14-03-mozilla-central 5588c9796f0b", "bug_id": 695654}, {"time": "2011-10-25T19:29:57Z", "creation_time": "2011-10-25T19:29:57Z", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "count": 4, "id": 5804077, "is_private": false, "text": "That corresponds to http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=84ee6bc0484d&tochange=5588c9796f0b\n\nPossibly a regression from bug 240933?", "bug_id": 695654, "tags": [], "attachment_id": null, "raw_text": "That corresponds to http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=84ee6bc0484d&tochange=5588c9796f0b\n\nPossibly a regression from bug 240933?"}, {"id": 5831104, "count": 5, "is_private": false, "author": "kdevel@vogtner.de", "creation_time": "2011-11-07T17:01:27Z", "time": "2011-11-07T17:01:27Z", "creator": "kdevel@vogtner.de", "raw_text": "The first bad revision is:\nchangeset: 53732:75768c38273c\nuser: Ehsan Akhgari <ehsan@mozilla.com>\ndate: Mon Jul 19 16:19:27 2010 -0400\nsummary: Bug 240933 - Part 6: Put the selection on the moz BR element if the user presses Enter at the end of a textarea; r=roc a=dbaron\n\nhttp://hg.mozilla.org/mozilla-central/rev/75768c38273c", "attachment_id": null, "bug_id": 695654, "text": "The first bad revision is:\nchangeset: 53732:75768c38273c\nuser: Ehsan Akhgari <ehsan@mozilla.com>\ndate: Mon Jul 19 16:19:27 2010 -0400\nsummary: Bug 240933 - Part 6: Put the selection on the moz BR element if the user presses Enter at the end of a textarea; r=roc a=dbaron\n\nhttp://hg.mozilla.org/mozilla-central/rev/75768c38273c", "tags": []}, {"id": 6301430, "count": 6, "is_private": false, "author": "ehsan.akhgari@gmail.com", "time": "2012-05-11T18:53:04Z", "creation_time": "2012-05-11T18:53:04Z", "creator": "ehsan.akhgari@gmail.com", "raw_text": "What is ctrl-u supposed to do?  Can you please let me know how to reproduce the bug without emacs bindings?", "attachment_id": null, "tags": [], "text": "What is ctrl-u supposed to do?  Can you please let me know how to reproduce the bug without emacs bindings?", "bug_id": 695654}, {"author": "kdevel@vogtner.de", "creator": "kdevel@vogtner.de", "creation_time": "2012-05-11T19:30:32Z", "time": "2012-05-11T19:30:32Z", "is_private": false, "count": 7, "id": 6301580, "text": "(In reply to Ehsan Akhgari [:ehsan] from comment #6)\n> What is ctrl-u supposed to do? \n\n   If the current cursor position is at the start of any but the first line remove the preceeding line break\n\nelse\n\n   If the current cursor position is at any but the first character of a line remove all characters from the first character of that line to the character preceeding the character of the current cursor position.\n\n> Can you please let me know how to reproduce\n> the bug without emacs bindings?\n\nSorry, no I can't. This bug's issue is about FF having changed the emacs bindings' behavior in textareas, so in order to reproduce you need to enable it.", "bug_id": 695654, "tags": [], "raw_text": "(In reply to Ehsan Akhgari [:ehsan] from comment #6)\n> What is ctrl-u supposed to do? \n\n   If the current cursor position is at the start of any but the first line remove the preceeding line break\n\nelse\n\n   If the current cursor position is at any but the first character of a line remove all characters from the first character of that line to the character preceeding the character of the current cursor position.\n\n> Can you please let me know how to reproduce\n> the bug without emacs bindings?\n\nSorry, no I can't. This bug's issue is about FF having changed the emacs bindings' behavior in textareas, so in order to reproduce you need to enable it.", "attachment_id": null}, {"tags": [], "bug_id": 695654, "text": "Ah, looking more closely, this is <http://mxr.mozilla.org/mozilla-central/source/content/xbl/builtin/emacs/platformHTMLBindings.xml#25>, which is cmd_deleteToBeginningOfLine, and now I can reproduce this.", "attachment_id": null, "raw_text": "Ah, looking more closely, this is <http://mxr.mozilla.org/mozilla-central/source/content/xbl/builtin/emacs/platformHTMLBindings.xml#25>, which is cmd_deleteToBeginningOfLine, and now I can reproduce this.", "time": "2012-05-11T21:02:50Z", "creation_time": "2012-05-11T21:02:50Z", "creator": "ehsan.akhgari@gmail.com", "author": "ehsan.akhgari@gmail.com", "id": 6301856, "count": 8, "is_private": false}, {"creator": "ehsan.akhgari@gmail.com", "time": "2012-05-11T23:21:27Z", "creation_time": "2012-05-11T23:21:27Z", "author": "ehsan.akhgari@gmail.com", "is_private": false, "count": 9, "id": 6302287, "bug_id": 695654, "text": "Created attachment 623354\nWIP", "tags": [], "attachment_id": 623354, "raw_text": ""}, {"author": "kdevel@vogtner.de", "bug_id": 695654, "text": "Your patch now seems to implement this behavior:\n\n   If there is only a single line delete it\n\nelse\n\n   If the current cursor position is in any but the first line set it to the first character in this line and delete the preceeding linebreak\n\nelse\n\n   Set the current cursor position to the first character of the next line and delete the preceeding linebreak.", "tags": [], "creator": "kdevel@vogtner.de", "creation_time": "2012-05-12T15:23:23Z", "time": "2012-05-12T15:23:23Z", "raw_text": "Your patch now seems to implement this behavior:\n\n   If there is only a single line delete it\n\nelse\n\n   If the current cursor position is in any but the first line set it to the first character in this line and delete the preceeding linebreak\n\nelse\n\n   Set the current cursor position to the first character of the next line and delete the preceeding linebreak.", "is_private": false, "attachment_id": null, "id": 6302982, "count": 10}, {"count": 11, "id": 6305000, "is_private": false, "time": "2012-05-14T14:48:29Z", "creation_time": "2012-05-14T14:48:29Z", "creator": "ehsan.akhgari@gmail.com", "author": "ehsan.akhgari@gmail.com", "attachment_id": null, "raw_text": "Thanks for testing my patch, Stefan!  Now, my question is: is this the behavior that you expect ctrl-u to have?  I'm not an Emacs user myself, and I have no idea what the desired behavior is supposed to be.  :-)", "bug_id": 695654, "text": "Thanks for testing my patch, Stefan!  Now, my question is: is this the behavior that you expect ctrl-u to have?  I'm not an Emacs user myself, and I have no idea what the desired behavior is supposed to be.  :-)", "tags": []}, {"creator": "kdevel@vogtner.de", "time": "2012-05-14T15:02:26Z", "creation_time": "2012-05-14T15:02:26Z", "author": "kdevel@vogtner.de", "is_private": false, "count": 12, "id": 6305053, "tags": [], "bug_id": 695654, "text": "(In reply to Ehsan Akhgari [:ehsan] from comment #11)\n> Now, my question is: is this the behavior that you expect ctrl-u to have?  \n\nNot yet. The behavior that I expect is described in Comment 7.", "attachment_id": null, "raw_text": "(In reply to Ehsan Akhgari [:ehsan] from comment #11)\n> Now, my question is: is this the behavior that you expect ctrl-u to have?  \n\nNot yet. The behavior that I expect is described in Comment 7."}, {"tags": [], "text": "Sorry, I see that my description in Comment 7 is wrong in the sense that it does not match what FF 3.6 does. FF 3.6 in a first step deletes all the characters in the current line if there are any. If there are none and the cursor is not in the first line, it deleted the preceeding newline. If there are no characters in the current line and the cursor is in the first line, the trailing newline is deleted.", "bug_id": 695654, "raw_text": "Sorry, I see that my description in Comment 7 is wrong in the sense that it does not match what FF 3.6 does. FF 3.6 in a first step deletes all the characters in the current line if there are any. If there are none and the cursor is not in the first line, it deleted the preceeding newline. If there are no characters in the current line and the cursor is in the first line, the trailing newline is deleted.", "attachment_id": null, "author": "kdevel@vogtner.de", "creator": "kdevel@vogtner.de", "creation_time": "2012-05-14T15:24:49Z", "time": "2012-05-14T15:24:49Z", "is_private": false, "count": 13, "id": 6305128}, {"creator": "kdevel@vogtner.de", "creation_time": "2012-05-14T15:56:31Z", "time": "2012-05-14T15:56:31Z", "author": "kdevel@vogtner.de", "is_private": false, "id": 6305228, "count": 14, "tags": [], "bug_id": 695654, "text": "Sorry again. What FF 3.6 appears to do is this:\n\n   If the current line is non-empty delete all characters in this line\nelse {\n       If there are lines after the current line delete the trailing line break (join current and next line)\n   else\n       If there are lines before the current line delete the preceeding line break (join previous with current line).\n}", "attachment_id": null, "raw_text": "Sorry again. What FF 3.6 appears to do is this:\n\n   If the current line is non-empty delete all characters in this line\nelse {\n       If there are lines after the current line delete the trailing line break (join current and next line)\n   else\n       If there are lines before the current line delete the preceeding line break (join previous with current line).\n}"}, {"id": 6305579, "count": 15, "is_private": false, "author": "ehsan.akhgari@gmail.com", "time": "2012-05-14T17:22:46Z", "creation_time": "2012-05-14T17:22:46Z", "creator": "ehsan.akhgari@gmail.com", "raw_text": "(In reply to Stefan from comment #14)\n> Sorry again. What FF 3.6 appears to do is this:\n> \n>    If the current line is non-empty delete all characters in this line\n> else {\n>        If there are lines after the current line delete the trailing line\n> break (join current and next line)\n>    else\n>        If there are lines before the current line delete the preceeding line\n> break (join previous with current line).\n> }\n\nHmm, for me, when I use 3.6 with the steps in comment 0, the last line gets deleted completely, and then further ctrl-u's do not seem to do anything...", "attachment_id": null, "bug_id": 695654, "text": "(In reply to Stefan from comment #14)\n> Sorry again. What FF 3.6 appears to do is this:\n> \n>    If the current line is non-empty delete all characters in this line\n> else {\n>        If there are lines after the current line delete the trailing line\n> break (join current and next line)\n>    else\n>        If there are lines before the current line delete the preceeding line\n> break (join previous with current line).\n> }\n\nHmm, for me, when I use 3.6 with the steps in comment 0, the last line gets deleted completely, and then further ctrl-u's do not seem to do anything...", "tags": []}, {"id": 6311538, "count": 16, "is_private": false, "creation_time": "2012-05-16T07:04:00Z", "time": "2012-05-16T07:04:00Z", "creator": "kdevel@vogtner.de", "author": "kdevel@vogtner.de", "attachment_id": null, "raw_text": "What happens with the textcase if you put the cursor right at the start of the textarea and press ctrl-u five times?", "tags": [], "bug_id": 695654, "text": "What happens with the textcase if you put the cursor right at the start of the textarea and press ctrl-u five times?"}, {"is_private": false, "count": 17, "id": 6313351, "author": "ehsan.akhgari@gmail.com", "creator": "ehsan.akhgari@gmail.com", "time": "2012-05-16T19:44:37Z", "creation_time": "2012-05-16T19:44:37Z", "raw_text": "In what version/what OS?", "attachment_id": null, "text": "In what version/what OS?", "bug_id": 695654, "tags": []}, {"author": "kdevel@vogtner.de", "creator": "kdevel@vogtner.de", "creation_time": "2012-05-16T19:59:53Z", "time": "2012-05-16T19:59:53Z", "is_private": false, "count": 18, "id": 6313394, "tags": [], "bug_id": 695654, "text": "In that version/OS you used in Comment 15.", "raw_text": "In that version/OS you used in Comment 15.", "attachment_id": null}, {"creation_time": "2012-05-16T21:45:29Z", "time": "2012-05-16T21:45:29Z", "creator": "ehsan.akhgari@gmail.com", "author": "ehsan.akhgari@gmail.com", "id": 6313840, "count": 19, "is_private": false, "bug_id": 695654, "text": "The first time, the first line gets deleted (excluding the trailing newline) and then nothing happens.", "tags": [], "attachment_id": null, "raw_text": "The first time, the first line gets deleted (excluding the trailing newline) and then nothing happens."}]}}}