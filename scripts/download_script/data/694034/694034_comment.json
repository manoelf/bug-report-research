{"bugs": {"694034": {"comments": [{"creator": "bugs@pettay.fi", "creation_time": "2011-10-12T16:17:06Z", "is_private": false, "attachment_id": null, "tags": [], "count": 0, "text": "We could try to collect how often innerHTML is used just to set some\nshort string. If that is very common, we should try to fix the existing optimizations bugs we have related to that.", "author": "bugs@pettay.fi", "id": 5777660, "bug_id": 694034, "time": "2011-10-12T16:17:06Z", "raw_text": "We could try to collect how often innerHTML is used just to set some\nshort string. If that is very common, we should try to fix the existing optimizations bugs we have related to that."}, {"raw_text": "Asking strictly as a DOM newbie, is there a single place that innerHTML sets go through?  Are you envisioning gathering a simple distribution of lengths?  If the answer to both of those is yes, that doesn't sound too hard to implement.", "time": "2011-10-12T19:20:31Z", "id": 5778263, "bug_id": 694034, "text": "Asking strictly as a DOM newbie, is there a single place that innerHTML sets go through?  Are you envisioning gathering a simple distribution of lengths?  If the answer to both of those is yes, that doesn't sound too hard to implement.", "count": 1, "author": "froydnj+bz@gmail.com", "tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-10-12T19:20:31Z", "creator": "froydnj+bz@gmail.com"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-10-12T19:37:56Z", "creator": "josh@joshmatthews.net", "time": "2011-10-12T19:37:56Z", "raw_text": "http://mxr.mozilla.org/mozilla-central/search?string=setinnerhtml shows there are three places. nsGenericHTMLElement::SetInnerHTML is the most relevant one that covers the majority of the cases.", "id": 5778306, "bug_id": 694034, "count": 2, "text": "http://mxr.mozilla.org/mozilla-central/search?string=setinnerhtml shows there are three places. nsGenericHTMLElement::SetInnerHTML is the most relevant one that covers the majority of the cases.", "author": "josh@joshmatthews.net"}, {"creation_time": "2011-10-17T16:27:24Z", "is_private": false, "bug_id": 694034, "id": 5786539, "text": "Created attachment 567476\nadd Telemetry probes for setting innerHTML\n\nThanks for the pointer.  I think this is about what you want.", "count": 3, "author": "froydnj+bz@gmail.com", "creator": "froydnj+bz@gmail.com", "tags": [], "raw_text": "Thanks for the pointer.  I think this is about what you want.", "attachment_id": 567476, "time": "2011-10-17T16:27:24Z"}, {"creator": "bugs@pettay.fi", "count": 4, "text": "Comment on attachment 567476\nadd Telemetry probes for setting innerHTML\n\nI think I'd like to see how often setting innerHTML ends up creating \njust one text node. And even better would be to record if before\nsetting innerHTML there was just one text node.\n\n(We need to test how must just having the probes there slow down\ninnerHTML.)", "author": "bugs@pettay.fi", "bug_id": 694034, "id": 5787669, "creation_time": "2011-10-17T22:37:24Z", "is_private": false, "time": "2011-10-17T22:37:24Z", "raw_text": "I think I'd like to see how often setting innerHTML ends up creating \njust one text node. And even better would be to record if before\nsetting innerHTML there was just one text node.\n\n(We need to test how must just having the probes there slow down\ninnerHTML.)", "attachment_id": 567476, "tags": []}, {"creation_time": "2011-10-21T18:16:23Z", "is_private": false, "bug_id": 694034, "id": 5797326, "text": "Created attachment 568713\nadd Telemetry probes for setting innerHTML\n\nOK, here's a different patch that just handles the nsGenericHTMLElement path.  I know nothing about content, but this seems to produce interesting results.  Light browsing indicates that we rarely have a single text node before or after...but that could just be due to bugs in the implementation.", "count": 5, "author": "froydnj+bz@gmail.com", "creator": "froydnj+bz@gmail.com", "tags": [], "raw_text": "OK, here's a different patch that just handles the nsGenericHTMLElement path.  I know nothing about content, but this seems to produce interesting results.  Light browsing indicates that we rarely have a single text node before or after...but that could just be due to bugs in the implementation.", "attachment_id": 568713, "time": "2011-10-21T18:16:23Z"}, {"is_private": false, "creation_time": "2011-10-21T19:00:26Z", "creator": "bugs@pettay.fi", "tags": [], "attachment_id": null, "bug_id": 694034, "id": 5797471, "text": "Bugs in what implementation?\n\nDon't use GetChildAt(0) but GetFirstChild(). Also, if telemetry is disabled we should make sure that\nIsNodeOfType doesn't run. It is a virtual method (read \"slow\").\n\nBut let me think still a bit if we could make the probes even more useful...\nAt least, it would be interesting to know if we have a text node which we're replacing with a new\ntext node.", "count": 6, "author": "bugs@pettay.fi", "raw_text": "Bugs in what implementation?\n\nDon't use GetChildAt(0) but GetFirstChild(). Also, if telemetry is disabled we should make sure that\nIsNodeOfType doesn't run. It is a virtual method (read \"slow\").\n\nBut let me think still a bit if we could make the probes even more useful...\nAt least, it would be interesting to know if we have a text node which we're replacing with a new\ntext node.", "time": "2011-10-21T19:00:26Z"}, {"raw_text": "I meant bugs in my implementation.  Your comment makes it sounds like I was on the right track, though.", "time": "2011-10-21T19:18:44Z", "author": "froydnj+bz@gmail.com", "count": 7, "text": "I meant bugs in my implementation.  Your comment makes it sounds like I was on the right track, though.", "id": 5797518, "bug_id": 694034, "attachment_id": null, "tags": [], "creator": "froydnj+bz@gmail.com", "creation_time": "2011-10-21T19:18:44Z", "is_private": false}, {"tags": [], "attachment_id": null, "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "time": "2018-06-29T04:48:05Z", "is_private": false, "creation_time": "2018-06-29T04:48:05Z", "bug_id": 694034, "id": 13435667, "author": "bug-husbandry-bot@mozilla.bugs", "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "count": 8, "creator": "bug-husbandry-bot@mozilla.bugs"}]}}, "comments": {}}