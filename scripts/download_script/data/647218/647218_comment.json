{"bugs": {"647218": {"comments": [{"attachment_id": null, "author": "andrei.domuta@softvision.ro", "id": 5386165, "raw_text": "Build ID:\nMozilla/5.0 (Windows NT 6.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nIn the Bookmark Library, if a bookmark is selected, clicking on an empty space in the window loads that selected bookmark in the main window.\n\nSteps to reproduce:\n1. Launch Firefox on a new profile. \n2. Bookmark some website\n3. Open the Bookmark Library and select (single click) one of the previously bookmarked website.\n4. Double click on an empty space in the window (the visual space of the bookmarks)\n\nExpected result:\n4. No response if double clicking in an empty area\n \nActual result:\n4. The selected bookmark (single clicked) is loaded in the current tab", "creation_time": "2011-04-01T13:45:32Z", "is_private": false, "text": "Build ID:\nMozilla/5.0 (Windows NT 6.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nIn the Bookmark Library, if a bookmark is selected, clicking on an empty space in the window loads that selected bookmark in the main window.\n\nSteps to reproduce:\n1. Launch Firefox on a new profile. \n2. Bookmark some website\n3. Open the Bookmark Library and select (single click) one of the previously bookmarked website.\n4. Double click on an empty space in the window (the visual space of the bookmarks)\n\nExpected result:\n4. No response if double clicking in an empty area\n \nActual result:\n4. The selected bookmark (single clicked) is loaded in the current tab", "creator": "andrei.domuta@softvision.ro", "time": "2011-04-01T13:45:32Z", "count": 0, "tags": [], "bug_id": 647218}, {"attachment_id": null, "author": "S.P.Roach@gmail.com", "count": 1, "time": "2014-06-04T03:37:57Z", "creator": "S.P.Roach@gmail.com", "tags": [], "bug_id": 647218, "creation_time": "2014-06-04T03:37:57Z", "is_private": false, "text": "I'll give you one better, and it appears to be the same bug.\n\n1. Open a tab of bookmarks in the library.\n2. single click on one choice.\n3. double click on a different choice.\n\nExpected result:\nThe double clicked choice should open.\n\nActual result:\nThe selected choice opens\n\nProbable reason:\nDouble clicking doesn't change highlighted choice to the current object under the pointer before firing.", "id": 8880868, "raw_text": "I'll give you one better, and it appears to be the same bug.\n\n1. Open a tab of bookmarks in the library.\n2. single click on one choice.\n3. double click on a different choice.\n\nExpected result:\nThe double clicked choice should open.\n\nActual result:\nThe selected choice opens\n\nProbable reason:\nDouble clicking doesn't change highlighted choice to the current object under the pointer before firing."}, {"tags": [], "count": 2, "creator": "abeldav_94@hotmail.com", "bug_id": 647218, "creation_time": "2018-05-13T23:06:12Z", "text": "Hello, i checked with the actual version of mozilla and the bug is still there, i would like work on this.", "id": 13273277, "raw_text": "Hello, i checked with the actual version of mozilla and the bug is still there, i would like work on this.", "author": "abeldav_94@hotmail.com", "time": "2018-05-13T23:06:12Z", "is_private": false, "attachment_id": null}, {"author": "standard8@mozilla.com", "bug_id": 647218, "creator": "standard8@mozilla.com", "tags": [], "count": 3, "raw_text": "(In reply to abeldav_94 from comment #2)\n> Hello, i checked with the actual version of mozilla and the bug is still\n> there, i would like work on this.\n\nGreat, thank you for the offer. If you haven't already, you'll want to start off by building Firefox:\n\nhttps://developer.mozilla.org/docs/Mozilla/Developer_guide/Build_Instructions/Simple_Firefox_build\n\nThe place to start looking for the code, would be the click handler, in the Library window, that's defined here:\n\nhttps://searchfox.org/mozilla-central/rev/a85db9e29eb3f022dbaf8b9a6390ecbacf51e7dd/browser/components/places/content/places.xul#433", "id": 13275004, "text": "(In reply to abeldav_94 from comment #2)\n> Hello, i checked with the actual version of mozilla and the bug is still\n> there, i would like work on this.\n\nGreat, thank you for the offer. If you haven't already, you'll want to start off by building Firefox:\n\nhttps://developer.mozilla.org/docs/Mozilla/Developer_guide/Build_Instructions/Simple_Firefox_build\n\nThe place to start looking for the code, would be the click handler, in the Library window, that's defined here:\n\nhttps://searchfox.org/mozilla-central/rev/a85db9e29eb3f022dbaf8b9a6390ecbacf51e7dd/browser/components/places/content/places.xul#433", "creation_time": "2018-05-14T08:08:59Z", "attachment_id": null, "time": "2018-05-14T08:08:59Z", "is_private": false}, {"author": "abeldav_94@hotmail.com", "bug_id": 647218, "tags": [], "count": 4, "creator": "abeldav_94@hotmail.com", "text": "Ok, thanks", "creation_time": "2018-05-14T23:10:24Z", "raw_text": "Ok, thanks", "id": 13277432, "attachment_id": null, "time": "2018-05-14T23:10:24Z", "is_private": false}, {"bug_id": 647218, "tags": [], "creator": "abeldav_94@hotmail.com", "count": 5, "text": "Hi, i have a question i made the build and now i want work with the code so how i can pass the code to visual studio, sorry for the incovinience.", "creation_time": "2018-05-19T23:10:37Z", "raw_text": "Hi, i have a question i made the build and now i want work with the code so how i can pass the code to visual studio, sorry for the incovinience.", "id": 13291167, "author": "abeldav_94@hotmail.com", "time": "2018-05-19T23:10:37Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "is_private": false, "time": "2018-05-19T23:55:19Z", "author": "lina@yakshaving.ninja", "text": "It's usually easier to work on Firefox in a text editor than an IDE, especially if you're working on front-end code. I like Visual Studio Code (https://code.visualstudio.com/), other folks I know also use Atom (https://atom.io/) and Sublime (https://www.sublimetext.com/).\n\nJust open `browser/components/places/content` from your mozilla-central folder in your editor, and you're ready to go. :-) `ContentTree.onClick` is defined in `places.js`, so that's probably where you'll want to start. Once you're ready to test out your changes, switch back to the MozillaBuild shell, run `mach build-faster`, then `mach run` to start your changed version of Firefox.\n\nAll that said, if you really want to use the full-blown Visual Studio, I think you can try `mach build-backend -b VisualStudio` to build a solution file. See https://firefox-source-docs.mozilla.org/build/buildsystem/visualstudio.html for docs.", "creation_time": "2018-05-19T23:55:19Z", "raw_text": "It's usually easier to work on Firefox in a text editor than an IDE, especially if you're working on front-end code. I like Visual Studio Code (https://code.visualstudio.com/), other folks I know also use Atom (https://atom.io/) and Sublime (https://www.sublimetext.com/).\n\nJust open `browser/components/places/content` from your mozilla-central folder in your editor, and you're ready to go. :-) `ContentTree.onClick` is defined in `places.js`, so that's probably where you'll want to start. Once you're ready to test out your changes, switch back to the MozillaBuild shell, run `mach build-faster`, then `mach run` to start your changed version of Firefox.\n\nAll that said, if you really want to use the full-blown Visual Studio, I think you can try `mach build-backend -b VisualStudio` to build a solution file. See https://firefox-source-docs.mozilla.org/build/buildsystem/visualstudio.html for docs.", "id": 13291186, "bug_id": 647218, "creator": "lina@yakshaving.ninja", "count": 6, "tags": []}, {"author": "abeldav_94@hotmail.com", "attachment_id": null, "raw_text": "Ohh great, thank you this was very usefull XD", "id": 13291265, "text": "Ohh great, thank you this was very usefull XD", "creation_time": "2018-05-20T02:55:55Z", "is_private": false, "bug_id": 647218, "tags": [], "creator": "abeldav_94@hotmail.com", "time": "2018-05-20T02:55:55Z", "count": 7}, {"raw_text": "I tried to reproduce the bug again but it seems is fixed, i will search for another.", "id": 13291468, "text": "I tried to reproduce the bug again but it seems is fixed, i will search for another.", "creation_time": "2018-05-20T16:30:16Z", "bug_id": 647218, "creator": "abeldav_94@hotmail.com", "count": 8, "tags": [], "author": "abeldav_94@hotmail.com", "is_private": false, "time": "2018-05-20T16:30:16Z", "attachment_id": null}, {"time": "2018-05-20T16:32:38Z", "is_private": false, "attachment_id": null, "bug_id": 647218, "creator": "abeldav_94@hotmail.com", "tags": [], "count": 9, "raw_text": "(In reply to abeldav_94 from comment #8)\n> I tried to reproduce the bug again but it seems is fixed, i will search for\n> another.\n\nCould you confirm me that the bug is fixed?", "id": 13291469, "text": "(In reply to abeldav_94 from comment #8)\n> I tried to reproduce the bug again but it seems is fixed, i will search for\n> another.\n\nCould you confirm me that the bug is fixed?", "creation_time": "2018-05-20T16:32:38Z", "author": "abeldav_94@hotmail.com"}, {"text": "(In reply to abeldav_94 from comment #9)\n> (In reply to abeldav_94 from comment #8)\n> > I tried to reproduce the bug again but it seems is fixed, i will search for\n> > another.\n> \n> Could you confirm me that the bug is fixed?\n\nForget it, the bug is still there", "creation_time": "2018-05-20T17:41:36Z", "raw_text": "(In reply to abeldav_94 from comment #9)\n> (In reply to abeldav_94 from comment #8)\n> > I tried to reproduce the bug again but it seems is fixed, i will search for\n> > another.\n> \n> Could you confirm me that the bug is fixed?\n\nForget it, the bug is still there", "id": 13291491, "bug_id": 647218, "count": 10, "tags": [], "creator": "abeldav_94@hotmail.com", "author": "abeldav_94@hotmail.com", "is_private": false, "time": "2018-05-20T17:41:36Z", "attachment_id": null}, {"time": "2018-05-21T10:16:22Z", "is_private": false, "attachment_id": null, "count": 11, "creator": "mak@mozilla.com", "tags": [], "bug_id": 647218, "id": 13293724, "raw_text": "fwiw, I can still reproduce it, hopefully you can patch the problem!", "creation_time": "2018-05-21T10:16:22Z", "text": "fwiw, I can still reproduce it, hopefully you can patch the problem!", "author": "mak@mozilla.com"}, {"author": "abeldav_94@hotmail.com", "text": "Hi, I have a question, I made some changes in places.xul but when i run mach build faster and mach run i can`t see my changes, so my question, is needed something more to apply changes?", "creation_time": "2018-05-23T19:03:03Z", "raw_text": "Hi, I have a question, I made some changes in places.xul but when i run mach build faster and mach run i can`t see my changes, so my question, is needed something more to apply changes?", "id": 13300365, "bug_id": 647218, "creator": "abeldav_94@hotmail.com", "count": 12, "tags": [], "attachment_id": null, "is_private": false, "time": "2018-05-23T19:03:03Z"}, {"raw_text": "Ideally build faster is all you need for xul, css and js changes.\nMaybe you can try ./mach run -purgecaches", "id": 13300441, "text": "Ideally build faster is all you need for xul, css and js changes.\nMaybe you can try ./mach run -purgecaches", "creation_time": "2018-05-23T19:25:19Z", "is_private": false, "bug_id": 647218, "count": 13, "creator": "mak@mozilla.com", "time": "2018-05-23T19:25:19Z", "tags": [], "author": "mak@mozilla.com", "attachment_id": null}, {"id": 13300725, "raw_text": "Nope, maybe I am not doing something right, I will keep trying after class.", "creation_time": "2018-05-23T21:12:19Z", "text": "Nope, maybe I am not doing something right, I will keep trying after class.", "tags": [], "creator": "abeldav_94@hotmail.com", "count": 14, "bug_id": 647218, "author": "abeldav_94@hotmail.com", "is_private": false, "time": "2018-05-23T21:12:19Z", "attachment_id": null}, {"author": "abeldav_94@hotmail.com", "attachment_id": null, "bug_id": 647218, "count": 15, "creator": "abeldav_94@hotmail.com", "tags": [], "time": "2018-05-28T23:25:01Z", "raw_text": "Hi, I think i have fixed the bug, I tested it and for me works fine.", "id": 13369908, "text": "Hi, I think i have fixed the bug, I tested it and for me works fine.", "creation_time": "2018-05-28T23:25:01Z", "is_private": false}, {"bug_id": 647218, "time": "2018-05-29T17:11:32Z", "tags": [], "count": 16, "creator": "abeldav_94@hotmail.com", "text": "Hello, what i need to do the pull request or merge request?", "creation_time": "2018-05-29T17:11:32Z", "is_private": false, "raw_text": "Hello, what i need to do the pull request or merge request?", "id": 13371808, "author": "abeldav_94@hotmail.com", "attachment_id": null}, {"author": "standard8@mozilla.com", "count": 17, "creator": "standard8@mozilla.com", "tags": [], "bug_id": 647218, "id": 13373590, "raw_text": "You can push a patch to mozreview: http://mozilla-version-control-tools.readthedocs.io/en/latest/mozreview/commits.html\n\nNote the commit message format there, as that'll get it attached and the right flags set.", "creation_time": "2018-05-30T07:51:15Z", "text": "You can push a patch to mozreview: http://mozilla-version-control-tools.readthedocs.io/en/latest/mozreview/commits.html\n\nNote the commit message format there, as that'll get it attached and the right flags set.", "attachment_id": null, "time": "2018-05-30T07:51:15Z", "is_private": false}, {"author": "abeldav_94@hotmail.com", "raw_text": "Hello, I am trying to do the hg push review, and this error shows up:\nhg push review\npushing to ssh://reviewboard-hg.mozilla.org/autoreview\nremote: Permission denied (publickey).\nabort: no suitable response from remote hg!\n\nHow I can solve this?", "id": 13381865, "text": "Hello, I am trying to do the hg push review, and this error shows up:\nhg push review\npushing to ssh://reviewboard-hg.mozilla.org/autoreview\nremote: Permission denied (publickey).\nabort: no suitable response from remote hg!\n\nHow I can solve this?", "creation_time": "2018-06-02T01:29:18Z", "bug_id": 647218, "tags": [], "count": 18, "creator": "abeldav_94@hotmail.com", "attachment_id": null, "is_private": false, "time": "2018-06-02T01:29:18Z"}, {"time": "2018-06-04T00:39:12Z", "count": 19, "tags": ["mozreview-request"], "creator": "abeldav_94@hotmail.com", "bug_id": 647218, "is_private": false, "creation_time": "2018-06-04T00:39:12Z", "text": "Created attachment 8982943\nfix click in bookmarks in Mozreview (bug 647218);\n\nReview commit: https://reviewboard.mozilla.org/r/248764/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/248764/", "id": 13382994, "raw_text": "Review commit: https://reviewboard.mozilla.org/r/248764/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/248764/", "attachment_id": 8982943, "author": "abeldav_94@hotmail.com"}, {"author": "standard8@mozilla.com", "bug_id": 647218, "count": 20, "tags": ["mozreview-review"], "creator": "standard8@mozilla.com", "text": "Comment on attachment 8982943\nfix click in bookmarks in Mozreview (bug 647218);\n\nhttps://reviewboard.mozilla.org/r/248764/#review254994\n\nHi, thank you for working on this. You're in generally the right area, but unfortuantely the change as it is breaks some other functionality. I've left comments below for suggesting how you might be able to fix this better.\n\nNote: whilst you're updating the patch, you can also visit the mozreview link, click on \"reviews\", and mark off the issues as \"fixed\" as you go along.\n\nAlso, when you do the updated patch, please just update the existing commit so that we only have one commit.\n\n::: commit-message-fe66c:1\n(Diff revision 1)\n> +fix click in bookmarks in Mozreview (bug 647218);  r?\n\nNormally our commit messages are like:\n\nBug 647218 - Stop double-clicking in an empty area in the places content view taking action. r?Standard8\n\n\nHence, the bug id, followed by a description of what is being fixed/changed, and then lastly the review request.\n\nPlease can you update yours to match this.\n\n::: browser/components/places/content/places.js:1382\n(Diff revision 1)\n>    },\n>  \n>    onKeyPress: function CT_onKeyPress(aEvent) {\n>      if (aEvent.keyCode == KeyEvent.DOM_VK_RETURN)\n>        this.openSelectedNode(aEvent);\n> -  }\n> +  },\n\nPlease drop this change, it doesn't need to be part of the patch.\n\n::: browser/components/places/content/places.xul:377\n(Diff revision 1)\n>    <hbox flex=\"1\" id=\"placesView\">\n>      <tree id=\"placesList\"\n>            class=\"plain placesTree\"\n>            type=\"places\"\n>            hidecolumnpicker=\"true\" context=\"placesContext\"\n> -          onselect=\"PlacesOrganizer.onPlaceSelected(true);\"\n> +          onselect=\"PlacesOrganizer.onPlaceSelected(true);\" \n\nPlease also drop the added whitespace here. We generally avoid whitespace on the end of lines.\n\n::: browser/components/places/content/places.xul:433\n(Diff revision 1)\n>                        persist=\"width hidden ordinal sortActive sortDirection\"/>\n>              <splitter class=\"tree-splitter\"/>\n>              <treecol label=\"&col.lastmodified.label;\" id=\"placesContentLastModified\" anonid=\"lastModified\" flex=\"1\" hidden=\"true\"\n>                        persist=\"width hidden ordinal sortActive sortDirection\"/>\n>            </treecols>\n> -          <treechildren flex=\"1\" onclick=\"ContentTree.onClick(event);\"/>\n> +          <treechildren flex=\"1\" ondblclick=\"PlacesUIUtils.onSidebarTreeClick(event);\" /> \n\nUnfortunately this isn't going to work right, for a couple of reasons:\n\n1) It stops middle-click in the library working.\n2) There's weird effects when you double-click a bookmarks folder (the folder opens, and then if there's a bookmark under where the mouse is, that gets opened as well).\n\nThe middle-click case you can see is affected if you run:\n\n./mach mochitest browser/components/places/tests/browser/browser_library_middleclick.js\n\nIt is possible, that we could get onSidebarTreeClick to somehow work for us and not regresss the sidebar nor the library window, but I think maybe the safer option is to leave the onclick handler as it is (calling ContentTree.onClick), and then add duplicate this bit of code into onClick:\n\nhttps://searchfox.org/mozilla-central/rev/292d295d6b084b43b70de26a42e68513bb7b36a3/browser/components/places/PlacesUIUtils.jsm#954-958\n\nThat will check to see if there's anything under the cursor or not.\n\nBonus points for also changing onClick to return early if the node doesn't exist (rather than most of the function wrapped in an if statement).\n\nIt would also be nice to add a test for this bug. You could probably add at the end of https://searchfox.org/mozilla-central/source/browser/components/places/tests/browser/browser_library_open_bookmark.js, something like:\n\n```\n// Simulate double-clicking in an empty area. This should not open a tab.\n// The test harness will detect if there is a tab open at the end of the test and fail the test accordingly.\nEventUtils.synthesizeMouse(aTree.body, 50, 10000, aOptions || {},\n                           aTree.ownerGlobal);\n```", "creation_time": "2018-06-04T11:54:55Z", "raw_text": "https://reviewboard.mozilla.org/r/248764/#review254994\n\nHi, thank you for working on this. You're in generally the right area, but unfortuantely the change as it is breaks some other functionality. I've left comments below for suggesting how you might be able to fix this better.\n\nNote: whilst you're updating the patch, you can also visit the mozreview link, click on \"reviews\", and mark off the issues as \"fixed\" as you go along.\n\nAlso, when you do the updated patch, please just update the existing commit so that we only have one commit.\n\n::: commit-message-fe66c:1\n(Diff revision 1)\n> +fix click in bookmarks in Mozreview (bug 647218);  r?\n\nNormally our commit messages are like:\n\nBug 647218 - Stop double-clicking in an empty area in the places content view taking action. r?Standard8\n\n\nHence, the bug id, followed by a description of what is being fixed/changed, and then lastly the review request.\n\nPlease can you update yours to match this.\n\n::: browser/components/places/content/places.js:1382\n(Diff revision 1)\n>    },\n>  \n>    onKeyPress: function CT_onKeyPress(aEvent) {\n>      if (aEvent.keyCode == KeyEvent.DOM_VK_RETURN)\n>        this.openSelectedNode(aEvent);\n> -  }\n> +  },\n\nPlease drop this change, it doesn't need to be part of the patch.\n\n::: browser/components/places/content/places.xul:377\n(Diff revision 1)\n>    <hbox flex=\"1\" id=\"placesView\">\n>      <tree id=\"placesList\"\n>            class=\"plain placesTree\"\n>            type=\"places\"\n>            hidecolumnpicker=\"true\" context=\"placesContext\"\n> -          onselect=\"PlacesOrganizer.onPlaceSelected(true);\"\n> +          onselect=\"PlacesOrganizer.onPlaceSelected(true);\" \n\nPlease also drop the added whitespace here. We generally avoid whitespace on the end of lines.\n\n::: browser/components/places/content/places.xul:433\n(Diff revision 1)\n>                        persist=\"width hidden ordinal sortActive sortDirection\"/>\n>              <splitter class=\"tree-splitter\"/>\n>              <treecol label=\"&col.lastmodified.label;\" id=\"placesContentLastModified\" anonid=\"lastModified\" flex=\"1\" hidden=\"true\"\n>                        persist=\"width hidden ordinal sortActive sortDirection\"/>\n>            </treecols>\n> -          <treechildren flex=\"1\" onclick=\"ContentTree.onClick(event);\"/>\n> +          <treechildren flex=\"1\" ondblclick=\"PlacesUIUtils.onSidebarTreeClick(event);\" /> \n\nUnfortunately this isn't going to work right, for a couple of reasons:\n\n1) It stops middle-click in the library working.\n2) There's weird effects when you double-click a bookmarks folder (the folder opens, and then if there's a bookmark under where the mouse is, that gets opened as well).\n\nThe middle-click case you can see is affected if you run:\n\n./mach mochitest browser/components/places/tests/browser/browser_library_middleclick.js\n\nIt is possible, that we could get onSidebarTreeClick to somehow work for us and not regresss the sidebar nor the library window, but I think maybe the safer option is to leave the onclick handler as it is (calling ContentTree.onClick), and then add duplicate this bit of code into onClick:\n\nhttps://searchfox.org/mozilla-central/rev/292d295d6b084b43b70de26a42e68513bb7b36a3/browser/components/places/PlacesUIUtils.jsm#954-958\n\nThat will check to see if there's anything under the cursor or not.\n\nBonus points for also changing onClick to return early if the node doesn't exist (rather than most of the function wrapped in an if statement).\n\nIt would also be nice to add a test for this bug. You could probably add at the end of https://searchfox.org/mozilla-central/source/browser/components/places/tests/browser/browser_library_open_bookmark.js, something like:\n\n```\n// Simulate double-clicking in an empty area. This should not open a tab.\n// The test harness will detect if there is a tab open at the end of the test and fail the test accordingly.\nEventUtils.synthesizeMouse(aTree.body, 50, 10000, aOptions || {},\n                           aTree.ownerGlobal);\n```", "id": 13384924, "attachment_id": 8982943, "time": "2018-06-04T11:54:55Z", "is_private": false}, {"author": "standard8@mozilla.com", "text": "Comment on attachment 8982943\nfix click in bookmarks in Mozreview (bug 647218);\n\nhttps://reviewboard.mozilla.org/r/248764/#review254996", "creation_time": "2018-06-04T11:55:04Z", "raw_text": "https://reviewboard.mozilla.org/r/248764/#review254996", "id": 13384925, "bug_id": 647218, "count": 21, "creator": "standard8@mozilla.com", "tags": ["mozreview-review"], "attachment_id": 8982943, "is_private": false, "time": "2018-06-04T11:55:04Z"}]}}, "comments": {}}