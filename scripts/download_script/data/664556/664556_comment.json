{"comments": {}, "bugs": {"664556": {"comments": [{"creation_time": "2011-06-15T20:41:52Z", "raw_text": "1. Load about:permissions\n2. Press Alt+Home (or Cmd+L or ...)\n\nResult: home page loads in the same tab\n\nExpected: open home page in a new tab\n\nThis is a security risk because it allows content to *navigate to chrome*. This can elevate a [universal-]XSS bug to a sg:critical, and it can enable clickjacking.", "text": "1. Load about:permissions\n2. Press Alt+Home (or Cmd+L or ...)\n\nResult: home page loads in the same tab\n\nExpected: open home page in a new tab\n\nThis is a security risk because it allows content to *navigate to chrome*. This can elevate a [universal-]XSS bug to a sg:critical, and it can enable clickjacking.", "creator": "jruderman@gmail.com", "time": "2011-06-15T20:41:52Z", "attachment_id": null, "author": "jruderman@gmail.com", "count": 0, "is_private": false, "tags": [], "id": 5535106, "bug_id": 664556}, {"attachment_id": null, "time": "2011-06-15T20:43:29Z", "text": "(In reply to comment #0)\n> This is a security risk because it allows content to *navigate to chrome*.\n\n\"content\" isn't doing that, the user is. I don't understand the concern.", "creation_time": "2011-06-15T20:43:29Z", "raw_text": "(In reply to comment #0)\n> This is a security risk because it allows content to *navigate to chrome*.\n\n\"content\" isn't doing that, the user is. I don't understand the concern.", "bug_id": 664556, "id": 5535111, "is_private": false, "count": 1, "tags": [], "author": "gavin.sharp@gmail.com", "creator": "gavin.sharp@gmail.com"}, {"creation_time": "2011-06-15T20:45:38Z", "raw_text": "Oh, is your concern the home page then calling history.go(-1) or whatever?", "attachment_id": null, "time": "2011-06-15T20:45:38Z", "text": "Oh, is your concern the home page then calling history.go(-1) or whatever?", "id": 5535116, "tags": [], "is_private": false, "count": 2, "bug_id": 664556, "author": "gavin.sharp@gmail.com", "creator": "gavin.sharp@gmail.com"}, {"bug_id": 664556, "is_private": false, "count": 3, "tags": [], "id": 5535694, "text": "Yes. Or something the home page links to or window.open()s.", "attachment_id": null, "time": "2011-06-16T00:35:20Z", "raw_text": "Yes. Or something the home page links to or window.open()s.", "creation_time": "2011-06-16T00:35:20Z", "creator": "jruderman@gmail.com", "author": "jruderman@gmail.com"}, {"raw_text": "Brian Smith suggests using the opposite rule: don't allow navigating (back) from content to chrome.  Slice off the session history.  This seems more consistent with how about:newtab works.", "creation_time": "2013-07-12T01:52:27Z", "text": "Brian Smith suggests using the opposite rule: don't allow navigating (back) from content to chrome.  Slice off the session history.  This seems more consistent with how about:newtab works.", "time": "2013-07-12T01:52:27Z", "attachment_id": null, "tags": [], "is_private": false, "count": 4, "id": 7626950, "bug_id": 664556, "creator": "jruderman@gmail.com", "author": "jruderman@gmail.com"}, {"creation_time": "2013-07-16T00:22:15Z", "raw_text": "See also bug 776167, which refers to security bugs (bug 724239, bug 769108).\n\nUX wants to allow *users* to navigate, even if web pages can't.  But how do we allow back and forward without web pages being able to follow the WindowProxy to the chrome page?", "text": "See also bug 776167, which refers to security bugs (bug 724239, bug 769108).\n\nUX wants to allow *users* to navigate, even if web pages can't.  But how do we allow back and forward without web pages being able to follow the WindowProxy to the chrome page?", "time": "2013-07-16T00:22:15Z", "attachment_id": null, "tags": [], "count": 5, "is_private": false, "id": 7637765, "bug_id": 664556, "creator": "jruderman@gmail.com", "author": "jruderman@gmail.com"}, {"author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "id": 7638133, "is_private": false, "count": 6, "tags": [], "bug_id": 664556, "raw_text": "The obvious way is by having a multiple docshells under the hood, and having the UI back/forward buttons switch between them as needed...  As in, when navigating from a content to a chrome URI and vice versa, implement it as a tab switch but make the UI look like it's the same tab. \n\nNot saying this is easy...", "creation_time": "2013-07-16T02:57:48Z", "time": "2013-07-16T02:57:48Z", "attachment_id": null, "text": "The obvious way is by having a multiple docshells under the hood, and having the UI back/forward buttons switch between them as needed...  As in, when navigating from a content to a chrome URI and vice versa, implement it as a tab switch but make the UI look like it's the same tab. \n\nNot saying this is easy..."}, {"creator": "jruderman@gmail.com", "author": "jruderman@gmail.com", "text": "Would the non-shown page be frozen?", "attachment_id": null, "time": "2013-07-16T04:51:47Z", "raw_text": "Would the non-shown page be frozen?", "creation_time": "2013-07-16T04:51:47Z", "bug_id": 664556, "tags": [], "is_private": false, "count": 7, "id": 7638339}, {"author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "bug_id": 664556, "id": 7638344, "is_private": false, "count": 8, "tags": [], "time": "2013-07-16T04:52:25Z", "attachment_id": null, "text": "Presumably yes.", "raw_text": "Presumably yes.", "creation_time": "2013-07-16T04:52:25Z"}, {"attachment_id": null, "time": "2013-07-16T12:56:28Z", "text": "(In reply to Boris Zbarsky (:bz) from comment #6)\n> The obvious way is by having a multiple docshells under the hood, and having\n> the UI back/forward buttons switch between them as needed...  As in, when\n> navigating from a content to a chrome URI and vice versa, implement it as a\n> tab switch but make the UI look like it's the same tab. \n> \n> Not saying this is easy...\n\nWould this work with the preloaded new tab page?\n\nAnd if so, could other chrome URIs be preloaded to make the switch faster/snappier?", "creation_time": "2013-07-16T12:56:28Z", "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #6)\n> The obvious way is by having a multiple docshells under the hood, and having\n> the UI back/forward buttons switch between them as needed...  As in, when\n> navigating from a content to a chrome URI and vice versa, implement it as a\n> tab switch but make the UI look like it's the same tab. \n> \n> Not saying this is easy...\n\nWould this work with the preloaded new tab page?\n\nAnd if so, could other chrome URIs be preloaded to make the switch faster/snappier?", "bug_id": 664556, "id": 7639681, "is_private": false, "count": 9, "tags": [], "author": "johan.charlez@gmail.com", "creator": "johan.charlez@gmail.com"}]}}}