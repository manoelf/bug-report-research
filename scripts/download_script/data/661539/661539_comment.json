{"bugs": {"661539": {"comments": [{"creator": "john.wilander@gmail.com", "time": "2011-06-02T15:42:09Z", "creation_time": "2011-06-02T15:42:09Z", "author": "john.wilander@gmail.com", "is_private": false, "id": 5508672, "count": 0, "bug_id": 661539, "text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10_5_8) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.71 Safari/534.24\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\n1. HTML with three <canvas id=\"canvasId\">, i.e. having the same id => no error in console\n2. (Using jQuery) canvas = $(\"#canvasId\")[0]; context = canvas.getContext('2d'); context.fillStyle = \"rgb(255,0,0)\"; context.fillRect(30, 30, 50, 50); => three red rectangles drawn in first canvas.\n\nHTML spec says element ids have to be unique. Expected an error. Perhaps <canvas> is an exception but that would be odd.\n\nI tested this in Chrome 11 too and no warning or error there either. Also, my IDE WebStorm doesn't warn. Maybe I'm totally mistaken about this. In such case \u2013 sorry guys! :)\n\nReproducible: Always\n\nSteps to Reproduce:\n1. HTML with three <canvas id=\"canvasId\">, i.e. having the same id => no error in console\n2. (Using jQuery) canvas = $(\"#canvasId\")[0]; context = canvas.getContext('2d'); context.fillStyle = \"rgb(255,0,0)\"; context.fillRect(30, 30, 50, 50); => three red rectangles drawn in first canvas.\n3.\n\nActual Results:  \nNo warnings or errors in Firebug console or elsewhere. With three canvas elements having same id a subsequent draw will end up three times in the first canvas.\n\nExpected Results:  \nAn error or warning since HTML element ids have to be unique.", "tags": [], "attachment_id": null, "raw_text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10_5_8) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.71 Safari/534.24\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\n1. HTML with three <canvas id=\"canvasId\">, i.e. having the same id => no error in console\n2. (Using jQuery) canvas = $(\"#canvasId\")[0]; context = canvas.getContext('2d'); context.fillStyle = \"rgb(255,0,0)\"; context.fillRect(30, 30, 50, 50); => three red rectangles drawn in first canvas.\n\nHTML spec says element ids have to be unique. Expected an error. Perhaps <canvas> is an exception but that would be odd.\n\nI tested this in Chrome 11 too and no warning or error there either. Also, my IDE WebStorm doesn't warn. Maybe I'm totally mistaken about this. In such case \u2013 sorry guys! :)\n\nReproducible: Always\n\nSteps to Reproduce:\n1. HTML with three <canvas id=\"canvasId\">, i.e. having the same id => no error in console\n2. (Using jQuery) canvas = $(\"#canvasId\")[0]; context = canvas.getContext('2d'); context.fillStyle = \"rgb(255,0,0)\"; context.fillRect(30, 30, 50, 50); => three red rectangles drawn in first canvas.\n3.\n\nActual Results:  \nNo warnings or errors in Firebug console or elsewhere. With three canvas elements having same id a subsequent draw will end up three times in the first canvas.\n\nExpected Results:  \nAn error or warning since HTML element ids have to be unique."}, {"tags": [], "bug_id": 661539, "text": "> no error in console\n\nThe console doesn't report any HTML validation errors.  Which is a good thing, since otherwise there would be hundreds of reports on every single page on the web, pretty much...\n\n> HTML spec says element ids have to be unique. \n\nThat's an authoring requirement, not a UA requirement.  UAs are required to handle multiple elements with the same ID in specific ways (e.g. getElementById must return the first one in tree order, querySelectorAll(\"#foo\") will return all the elements with id=\"foo\", etc).\n\nThe jQuery behavior sounds like a jQuery-specific issue in particular; it's apparently doing something really bizarre with the way it handles operations on its wrappers around DOM objects.  You may want to report that to the jQuery folks.\n\nWe could consider adding a warning for duplicate IDs, but it's so common on the web (in some cases temporarily, as the new element is added before the old one is removed, but _we_ have no way to tell the future!) that I'm not sure it's worth it; it would just add overwhelming noise to the console...", "raw_text": "> no error in console\n\nThe console doesn't report any HTML validation errors.  Which is a good thing, since otherwise there would be hundreds of reports on every single page on the web, pretty much...\n\n> HTML spec says element ids have to be unique. \n\nThat's an authoring requirement, not a UA requirement.  UAs are required to handle multiple elements with the same ID in specific ways (e.g. getElementById must return the first one in tree order, querySelectorAll(\"#foo\") will return all the elements with id=\"foo\", etc).\n\nThe jQuery behavior sounds like a jQuery-specific issue in particular; it's apparently doing something really bizarre with the way it handles operations on its wrappers around DOM objects.  You may want to report that to the jQuery folks.\n\nWe could consider adding a warning for duplicate IDs, but it's so common on the web (in some cases temporarily, as the new element is added before the old one is removed, but _we_ have no way to tell the future!) that I'm not sure it's worth it; it would just add overwhelming noise to the console...", "attachment_id": null, "author": "bzbarsky@mit.edu", "creation_time": "2011-06-02T16:01:40Z", "time": "2011-06-02T16:01:40Z", "creator": "bzbarsky@mit.edu", "id": 5508715, "count": 1, "is_private": false}, {"raw_text": "Maybe this could be part of DevTools?", "attachment_id": null, "tags": [], "text": "Maybe this could be part of DevTools?", "bug_id": 661539, "count": 2, "id": 5514072, "is_private": false, "author": "mounir@lamouri.fr", "creation_time": "2011-06-05T15:05:25Z", "time": "2011-06-05T15:05:25Z", "creator": "mounir@lamouri.fr"}, {"count": 3, "id": 13436619, "is_private": false, "time": "2018-06-29T04:58:33Z", "creation_time": "2018-06-29T04:58:33Z", "creator": "bug-husbandry-bot@mozilla.bugs", "author": "bug-husbandry-bot@mozilla.bugs", "attachment_id": null, "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "bug_id": 661539, "tags": []}]}}, "comments": {}}