{"bugs": {"386311": {"comments": [{"id": 3233598, "text": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.4) Gecko/20070629 BonEcho/2.0.0.4\nBuild Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.4) Gecko/20070629 BonEcho/2.0.0.4\n\nWhen the autoscaled option is enabled and you open an image file containing a very large picture (for instance : http://www.bxlug.be/uploadfiles/156/image/tux_vectmap-02_inkscape-04.png ), in every version, from 1.8 up to 3alpha, trying to shrink the whole window (by clicking then dragging up the bottom-right-hand corner of it for instance), will make the rescaling percentage which can be seen in the title bar become negative if you keep shrinking the window after the image has become invisible (down to -2% is the lowest I've happened to see).\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Open a very large picture file.\n2.Drag a corner of the window to shrink it.\n3.Keep doing it slowly after the percentage in the title bar has reached 0%.\nActual Results:  \nThe \"scaled\" percentage in the title bar will become negative.\n\nExpected Results:  \nIt should remain = 0\n\nActually, I think this value does not remain equal to 0 to avoid a division by zero. Nevertheless, it's very easy to show 0 instead of the value when it gets negative. Just apply the following patch :\n\n#patch mozilla/content/html/document/src/nsImageDocument.cpp autoscale.patch\n735c735,736\n<     ratioStr.AppendInt(NSToCoordFloor(GetRatio() * 100));\n---\n>     float lef=GetRatio();\n>     ratioStr.AppendInt(NSToCoordFloor((lef >= 0) ? lef * 100 : 0));", "tags": [], "time": "2007-06-29T11:11:56Z", "bug_id": 386311, "attachment_id": null, "count": 0, "creator": "benjamin@lefoul.com", "is_private": false, "raw_text": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.4) Gecko/20070629 BonEcho/2.0.0.4\nBuild Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.4) Gecko/20070629 BonEcho/2.0.0.4\n\nWhen the autoscaled option is enabled and you open an image file containing a very large picture (for instance : http://www.bxlug.be/uploadfiles/156/image/tux_vectmap-02_inkscape-04.png ), in every version, from 1.8 up to 3alpha, trying to shrink the whole window (by clicking then dragging up the bottom-right-hand corner of it for instance), will make the rescaling percentage which can be seen in the title bar become negative if you keep shrinking the window after the image has become invisible (down to -2% is the lowest I've happened to see).\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Open a very large picture file.\n2.Drag a corner of the window to shrink it.\n3.Keep doing it slowly after the percentage in the title bar has reached 0%.\nActual Results:  \nThe \"scaled\" percentage in the title bar will become negative.\n\nExpected Results:  \nIt should remain = 0\n\nActually, I think this value does not remain equal to 0 to avoid a division by zero. Nevertheless, it's very easy to show 0 instead of the value when it gets negative. Just apply the following patch :\n\n#patch mozilla/content/html/document/src/nsImageDocument.cpp autoscale.patch\n735c735,736\n<     ratioStr.AppendInt(NSToCoordFloor(GetRatio() * 100));\n---\n>     float lef=GetRatio();\n>     ratioStr.AppendInt(NSToCoordFloor((lef >= 0) ? lef * 100 : 0));", "author": "benjamin@lefoul.com", "creation_time": "2007-06-29T11:11:56Z"}, {"count": 1, "attachment_id": null, "creator": "benjamin@lefoul.com", "raw_text": "#patch mozilla/content/html/document/src/nsImageDocument.cpp autoscale.patch\n735c735,736\n<     ratioStr.AppendInt(NSToCoordFloor(GetRatio() * 100));\n---\n>     float lef=GetRatio();\n>     ratioStr.AppendInt(NSToCoordFloor((lef >= 0) ? lef * 100 : 0));", "is_private": false, "creation_time": "2007-06-29T11:17:18Z", "author": "benjamin@lefoul.com", "text": "#patch mozilla/content/html/document/src/nsImageDocument.cpp autoscale.patch\n735c735,736\n<     ratioStr.AppendInt(NSToCoordFloor(GetRatio() * 100));\n---\n>     float lef=GetRatio();\n>     ratioStr.AppendInt(NSToCoordFloor((lef >= 0) ? lef * 100 : 0));", "id": 3233600, "time": "2007-06-29T11:17:18Z", "tags": [], "bug_id": 386311}, {"creator": "benjamin@lefoul.com", "count": 2, "attachment_id": 270307, "creation_time": "2007-06-29T11:21:03Z", "author": "benjamin@lefoul.com", "raw_text": "", "is_private": false, "time": "2007-06-29T11:21:03Z", "tags": [], "id": 3233601, "text": "Created attachment 270307\nmozilla/content/html/document/src/nsImageDocument.cpp", "bug_id": 386311}]}}, "comments": {}}