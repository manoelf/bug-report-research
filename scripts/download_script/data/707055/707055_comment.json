{"comments": {}, "bugs": {"707055": {"comments": [{"count": 0, "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0) Gecko/20100101 Firefox/9.0\nBuild ID: 20111122192043\n\nSteps to reproduce:\n\nWe have an internal web page that displays log files in a textarea field.  These can be quite large at times.  I've noticed when they grow to be too big, firefox freezes up for long periods of time.  Sometimes, the only way to get control back is to kill the browser.\n\nSee a simplified example at http://devicenull.org/fftest3.html", "author": "dn@devicenull.org", "creator": "dn@devicenull.org", "creation_time": "2011-12-02T03:16:14Z", "is_private": false, "id": 5887301, "bug_id": 707055, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0) Gecko/20100101 Firefox/9.0\nBuild ID: 20111122192043\n\nSteps to reproduce:\n\nWe have an internal web page that displays log files in a textarea field.  These can be quite large at times.  I've noticed when they grow to be too big, firefox freezes up for long periods of time.  Sometimes, the only way to get control back is to kill the browser.\n\nSee a simplified example at http://devicenull.org/fftest3.html", "attachment_id": null, "time": "2011-12-02T03:16:14Z", "tags": []}, {"bug_id": 707055, "id": 5894588, "author": "acelists@atlas.sk", "text": "The page takes a long time to render (on first load, but also anytime the tab is selected again after some minutes of not using FF). Think 1 minute.\n\nI also takes a lot of memory for that page:\n\n374.36 MB (100.0%) -- explicit\n\u251c\u2500\u2500191.85 MB (51.25%) -- layout\n\u2502  \u251c\u2500\u2500190.99 MB (51.02%) -- shell(http://devicenull.org/fftest3.html)\n\u2502  \u2502  \u251c\u2500\u2500150.00 MB (40.07%) -- textruns\n\u2502  \u2502  \u251c\u2500\u2500\u250040.92 MB (10.93%) -- arenas\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u25000.08 MB (00.02%) -- (1 omitted)\n\u2502  \u2514\u2500\u2500\u2500\u25000.86 MB (00.23%) -- (4 omitted)\n\u251c\u2500\u2500130.96 MB (34.98%) -- heap-unclassified\n\u251c\u2500\u2500\u250030.15 MB (08.05%) -- dom\n\u251c\u2500\u2500\u250011.87 MB (03.17%) -- js\n\u2502   \u251c\u2500\u2500\u25007.94 MB (02.12%) -- compartment([System Principal], 0x3669000)\n\u2502   \u2502   \u251c\u2500\u25004.48 MB (01.20%) -- (8 omitted)\n\u2502   \u2502   \u2514\u2500\u25003.46 MB (00.92%) -- gc-heap\n\u2502   \u2502      \u2514\u2500\u25003.46 MB (00.92%) -- (7 omitted)\n\u2502   \u2514\u2500\u2500\u25003.93 MB (01.05%) -- (9 omitted)\n\u251c\u2500\u2500\u2500\u25005.67 MB (01.51%) -- storage\n\u2502    \u251c\u2500\u25004.55 MB (01.21%) -- sqlite\n\u2502    \u2502  \u2514\u2500\u25004.55 MB (01.21%) -- (12 omitted)\n\u2502    \u2514\u2500\u25001.12 MB (00.30%) -- (1 omitted)\n\u251c\u2500\u2500\u2500\u25002.21 MB (00.59%) -- spell-check\n\u251c\u2500\u2500\u2500\u25001.65 MB (00.44%) -- (7 omitted)\n\nHowever, when I tried to turn off spell checking inside the textarea (as the long word was marked incorrect), then Firefox hung for a long time (think 30 minutes). So I killed it.", "count": 1, "time": "2011-12-06T15:24:26Z", "raw_text": "The page takes a long time to render (on first load, but also anytime the tab is selected again after some minutes of not using FF). Think 1 minute.\n\nI also takes a lot of memory for that page:\n\n374.36 MB (100.0%) -- explicit\n\u251c\u2500\u2500191.85 MB (51.25%) -- layout\n\u2502  \u251c\u2500\u2500190.99 MB (51.02%) -- shell(http://devicenull.org/fftest3.html)\n\u2502  \u2502  \u251c\u2500\u2500150.00 MB (40.07%) -- textruns\n\u2502  \u2502  \u251c\u2500\u2500\u250040.92 MB (10.93%) -- arenas\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u25000.08 MB (00.02%) -- (1 omitted)\n\u2502  \u2514\u2500\u2500\u2500\u25000.86 MB (00.23%) -- (4 omitted)\n\u251c\u2500\u2500130.96 MB (34.98%) -- heap-unclassified\n\u251c\u2500\u2500\u250030.15 MB (08.05%) -- dom\n\u251c\u2500\u2500\u250011.87 MB (03.17%) -- js\n\u2502   \u251c\u2500\u2500\u25007.94 MB (02.12%) -- compartment([System Principal], 0x3669000)\n\u2502   \u2502   \u251c\u2500\u25004.48 MB (01.20%) -- (8 omitted)\n\u2502   \u2502   \u2514\u2500\u25003.46 MB (00.92%) -- gc-heap\n\u2502   \u2502      \u2514\u2500\u25003.46 MB (00.92%) -- (7 omitted)\n\u2502   \u2514\u2500\u2500\u25003.93 MB (01.05%) -- (9 omitted)\n\u251c\u2500\u2500\u2500\u25005.67 MB (01.51%) -- storage\n\u2502    \u251c\u2500\u25004.55 MB (01.21%) -- sqlite\n\u2502    \u2502  \u2514\u2500\u25004.55 MB (01.21%) -- (12 omitted)\n\u2502    \u2514\u2500\u25001.12 MB (00.30%) -- (1 omitted)\n\u251c\u2500\u2500\u2500\u25002.21 MB (00.59%) -- spell-check\n\u251c\u2500\u2500\u2500\u25001.65 MB (00.44%) -- (7 omitted)\n\nHowever, when I tried to turn off spell checking inside the textarea (as the long word was marked incorrect), then Firefox hung for a long time (think 30 minutes). So I killed it.", "is_private": false, "creation_time": "2011-12-06T15:24:26Z", "creator": "acelists@atlas.sk", "tags": [], "attachment_id": null}, {"bug_id": 707055, "id": 5895018, "is_private": false, "creation_time": "2011-12-06T18:45:18Z", "creator": "bzbarsky@mit.edu", "count": 2, "text": "> I also takes a lot of memory for that page:\n\nThat's not much memory given that the page HTML is 30MB....\n\nThe testcase linked to has a single 30MB-long word in the textarea.  That's not the common way textareas are used, and I really doubt the log files in question look like that.  So speeding up this case may well not help with the log file situation.  A testcase that better reflects the original use case would probably be better...\n\nThe attached testcase is basically bug 667412 for the initial load as far as I can tell.  The spell check thing is a separate bug, of course.\n\nThat all said, with a current trunk nightly loading the testcase from disk is pretty quick for me (< 10 seconds).  Same thing with loading it over the network.  Unchecking the spell-check item is instantaneous.  aceman, what build were you testing in?", "author": "bzbarsky@mit.edu", "tags": [], "time": "2011-12-06T18:45:18Z", "raw_text": "> I also takes a lot of memory for that page:\n\nThat's not much memory given that the page HTML is 30MB....\n\nThe testcase linked to has a single 30MB-long word in the textarea.  That's not the common way textareas are used, and I really doubt the log files in question look like that.  So speeding up this case may well not help with the log file situation.  A testcase that better reflects the original use case would probably be better...\n\nThe attached testcase is basically bug 667412 for the initial load as far as I can tell.  The spell check thing is a separate bug, of course.\n\nThat all said, with a current trunk nightly loading the testcase from disk is pretty quick for me (< 10 seconds).  Same thing with loading it over the network.  Unchecking the spell-check item is instantaneous.  aceman, what build were you testing in?", "attachment_id": null}, {"attachment_id": null, "raw_text": "Today's Nightly 11, on Win XP, Core 2 Duo notebook (don't know the frequency now).\n\nBut I agree with you that there should be spaces in the textarea text.\nBrian, can you update the testcase?", "time": "2011-12-06T19:28:48Z", "tags": [], "author": "acelists@atlas.sk", "count": 3, "text": "Today's Nightly 11, on Win XP, Core 2 Duo notebook (don't know the frequency now).\n\nBut I agree with you that there should be spaces in the textarea text.\nBrian, can you update the testcase?", "creator": "acelists@atlas.sk", "is_private": false, "creation_time": "2011-12-06T19:28:48Z", "bug_id": 707055, "id": 5895167}, {"raw_text": "I'll see if I can get an updated testcase.  The actual page has 5mb of text inside the textarea, and a large majority of it is on one line (the backend code has an issue with newlines, and corrupts them somehow).", "attachment_id": null, "time": "2011-12-07T01:23:26Z", "tags": [], "text": "I'll see if I can get an updated testcase.  The actual page has 5mb of text inside the textarea, and a large majority of it is on one line (the backend code has an issue with newlines, and corrupts them somehow).", "count": 4, "author": "dn@devicenull.org", "creator": "dn@devicenull.org", "creation_time": "2011-12-07T01:23:26Z", "is_private": false, "bug_id": 707055, "id": 5896267}]}}}