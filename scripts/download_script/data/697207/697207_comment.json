{"comments": {}, "bugs": {"697207": {"comments": [{"creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com", "bug_id": 697207, "is_private": false, "count": 0, "tags": [], "id": 5803980, "text": "STEPS TO REPRODUCE\n1. load layout/reftests/bugs/598726-1.html in a debug build\n2. click on the text field\n\nACTUAL RESULT\n###!!! ASSERTION: Unexpected document: 'capturingContent->GetCurrentDoc() == GetDocument()', file layout/base/nsPresShell.cpp, line 5884\n###!!! ASSERTION: Unexpected document: 'capturingContent->GetCurrentDoc() == GetDocument()', file layout/base/nsPresShell.cpp, line 5947", "time": "2011-10-25T19:00:53Z", "attachment_id": null, "raw_text": "STEPS TO REPRODUCE\n1. load layout/reftests/bugs/598726-1.html in a debug build\n2. click on the text field\n\nACTUAL RESULT\n###!!! ASSERTION: Unexpected document: 'capturingContent->GetCurrentDoc() == GetDocument()', file layout/base/nsPresShell.cpp, line 5884\n###!!! ASSERTION: Unexpected document: 'capturingContent->GetCurrentDoc() == GetDocument()', file layout/base/nsPresShell.cpp, line 5947", "creation_time": "2011-10-25T19:00:53Z"}, {"creation_time": "2012-04-11T13:27:09Z", "raw_text": "I also see this assertion with the current ICHC sites; they do something with their comment form and the upshot is that the capturing content has been removed from the document by the time the assertion is checked.", "author": "neil@httl.net", "attachment_id": null, "time": "2012-04-11T13:27:09Z", "text": "I also see this assertion with the current ICHC sites; they do something with their comment form and the upshot is that the capturing content has been removed from the document by the time the assertion is checked.", "creator": "neil@httl.net", "id": 6213554, "tags": [], "count": 1, "is_private": false, "bug_id": 697207}, {"tags": [], "is_private": false, "count": 2, "id": 6213771, "bug_id": 697207, "creation_time": "2012-04-11T14:58:27Z", "raw_text": "So, here's the script they use:\n\n<script type=\"text/javascript\">\njQuery(document).ready(function(){\n\t// Expando Mode: start small, then auto-resize on focus + text length\n\tjQuery( '#comment-form-identity' ).hide();\n\tjQuery( '#comment-form-subscribe' ).hide();\n\tjQuery( '#commentform .form-submit' ).hide();\n\tjQuery( '#comment' ).css( { 'height':'10px' } ).focus( function() {\n\t\tjQuery( this ).animate( { 'height':'70px' } );\n\t\tjQuery( '#comment-form-identity' ).slideDown();\n\t\tjQuery( '#comment-form-subscribe' ).slideDown();\n\t\tjQuery( '#commentform .form-submit' ).slideDown();\n\t});\n});\n</script>\n\nI've no idea why animating the height of the textarea to 70px would cause the anonymous content to be recreated but it does and this happens in between the capturing content getting set and it getting asserted.", "text": "So, here's the script they use:\n\n<script type=\"text/javascript\">\njQuery(document).ready(function(){\n\t// Expando Mode: start small, then auto-resize on focus + text length\n\tjQuery( '#comment-form-identity' ).hide();\n\tjQuery( '#comment-form-subscribe' ).hide();\n\tjQuery( '#commentform .form-submit' ).hide();\n\tjQuery( '#comment' ).css( { 'height':'10px' } ).focus( function() {\n\t\tjQuery( this ).animate( { 'height':'70px' } );\n\t\tjQuery( '#comment-form-identity' ).slideDown();\n\t\tjQuery( '#comment-form-subscribe' ).slideDown();\n\t\tjQuery( '#commentform .form-submit' ).slideDown();\n\t});\n});\n</script>\n\nI've no idea why animating the height of the textarea to 70px would cause the anonymous content to be recreated but it does and this happens in between the capturing content getting set and it getting asserted.", "time": "2012-04-11T14:58:27Z", "attachment_id": null, "creator": "neil@httl.net", "author": "neil@httl.net"}]}}}