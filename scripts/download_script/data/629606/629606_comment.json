{"bugs": {"629606": {"comments": [{"count": 0, "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; rv:2.0b11pre) Gecko/20110126 Firefox/4.0b11pre\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; rv:2.0b11pre) Gecko/20110126 Firefox/4.0b11pre\n\nTesting for ram consumption, i set 40 704x74 apng banners of 66 frame loops at 3.72MB each on a page totaling 150MB, which after some seconds upon opening (apng's take a while to load), my page ram usage was 780MB. I let it sit a while and it did not change. Then i began to scroll down the page and ram usage began jumping upwards until it reached 1620MB. I tried this again and observed that as i scrolled to different points it would increase, until i had scrolled to every point possible and thats when it reached 1620MB. It only increases at points where you click to or let go at. \n\nReproducible: Always\n\nSteps to Reproduce:\n1. Download the attached project files, copy the apng into 40 iterations (or less if you dont want to repeat my results), and rename to 1.png, 2.png,...40.png. Observe ram before opening.\n\n2. Load page and note ram usage.\n\n3. Begin moving the scroll bar in different ways and watch ram jump at each point. \nActual Results:  \nRam usage doubled.\n\nExpected Results:  \nRam usage should have stayed the same. \n\nI believe firefox is saving an iteration of the page at different points along the scroll bar.", "attachment_id": null, "bug_id": 629606, "tags": [], "author": "brmpfi@gmail.com", "is_private": false, "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; rv:2.0b11pre) Gecko/20110126 Firefox/4.0b11pre\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; rv:2.0b11pre) Gecko/20110126 Firefox/4.0b11pre\n\nTesting for ram consumption, i set 40 704x74 apng banners of 66 frame loops at 3.72MB each on a page totaling 150MB, which after some seconds upon opening (apng's take a while to load), my page ram usage was 780MB. I let it sit a while and it did not change. Then i began to scroll down the page and ram usage began jumping upwards until it reached 1620MB. I tried this again and observed that as i scrolled to different points it would increase, until i had scrolled to every point possible and thats when it reached 1620MB. It only increases at points where you click to or let go at. \n\nReproducible: Always\n\nSteps to Reproduce:\n1. Download the attached project files, copy the apng into 40 iterations (or less if you dont want to repeat my results), and rename to 1.png, 2.png,...40.png. Observe ram before opening.\n\n2. Load page and note ram usage.\n\n3. Begin moving the scroll bar in different ways and watch ram jump at each point. \nActual Results:  \nRam usage doubled.\n\nExpected Results:  \nRam usage should have stayed the same. \n\nI believe firefox is saving an iteration of the page at different points along the scroll bar.", "id": 5234580, "time": "2011-01-28T06:34:59Z", "creation_time": "2011-01-28T06:34:59Z", "creator": "brmpfi@gmail.com"}, {"raw_text": "I ran a test on opera v.11.01 (as its the only other browser with apng support) and observed the following:\n\nLoad times\nmoz- 10s of blank before loading\nopera - instant\n\nApng performance \nmoz - laggy\nopera - smooth\n\nScroll smoothness\nmoz - staggers\nopera - smooth\n\nRam usage on load\nmoz - jumps to 700MB after 10 sec load.\nopera - climbs to 700MB in 10 sec.\n\nRam usage on scroll\nmoz - up to double\nopera - stays the same\n\nBut hey, who the hell cares about apng, lets all go back to apng and tables while the mozilla team tries to implement some more features we dont need.", "count": 1, "tags": [], "author": "brmpfi@gmail.com", "attachment_id": null, "bug_id": 629606, "text": "I ran a test on opera v.11.01 (as its the only other browser with apng support) and observed the following:\n\nLoad times\nmoz- 10s of blank before loading\nopera - instant\n\nApng performance \nmoz - laggy\nopera - smooth\n\nScroll smoothness\nmoz - staggers\nopera - smooth\n\nRam usage on load\nmoz - jumps to 700MB after 10 sec load.\nopera - climbs to 700MB in 10 sec.\n\nRam usage on scroll\nmoz - up to double\nopera - stays the same\n\nBut hey, who the hell cares about apng, lets all go back to apng and tables while the mozilla team tries to implement some more features we dont need.", "id": 5237201, "time": "2011-01-29T04:31:20Z", "is_private": false, "creator": "brmpfi@gmail.com", "creation_time": "2011-01-29T04:31:20Z"}, {"time": "2011-01-29T04:32:25Z", "text": "*gif\n\ngod im tired.", "id": 5237202, "is_private": false, "creator": "brmpfi@gmail.com", "creation_time": "2011-01-29T04:32:25Z", "raw_text": "*gif\n\ngod im tired.", "count": 2, "author": "brmpfi@gmail.com", "tags": [], "bug_id": 629606, "attachment_id": null}, {"tags": [], "author": "kwierso@gmail.com", "attachment_id": null, "bug_id": 629606, "raw_text": "(In reply to comment #1)\n> But hey, who the hell cares about apng, lets all go back to apng and tables\n> while the mozilla team tries to implement some more features we dont need.\n\nWell, I'm sure the devs will want to look at this bug, now...", "count": 3, "creator": "kwierso@gmail.com", "creation_time": "2011-01-30T02:39:05Z", "text": "(In reply to comment #1)\n> But hey, who the hell cares about apng, lets all go back to apng and tables\n> while the mozilla team tries to implement some more features we dont need.\n\nWell, I'm sure the devs will want to look at this bug, now...", "id": 5238144, "time": "2011-01-30T02:39:05Z", "is_private": false}, {"attachment_id": null, "bug_id": 629606, "tags": [], "author": "n.nethercote@gmail.com", "count": 4, "raw_text": "brmpfi:  thanks for the report and the measurements.  As for the last sentence in comment 1 -- you made that comment less than 24 hours after you first reported the bug.  All Firefox devs are currently flat out fixing blockers for the 4.0 release.  Please be patient.  There's a chance someone will get around to looking at this issue, but I suspect it will take a few weeks at the absolute minimum.", "creation_time": "2011-01-30T07:33:37Z", "creator": "n.nethercote@gmail.com", "text": "brmpfi:  thanks for the report and the measurements.  As for the last sentence in comment 1 -- you made that comment less than 24 hours after you first reported the bug.  All Firefox devs are currently flat out fixing blockers for the 4.0 release.  Please be patient.  There's a chance someone will get around to looking at this issue, but I suspect it will take a few weeks at the absolute minimum.", "id": 5238329, "time": "2011-01-30T07:33:37Z", "is_private": false}, {"text": "Ah, just like [url=https://bugzilla.mozilla.org/show_bug.cgi?id=585375]this report[/url] of apng's bloated ram usage in august 2010 was resolved. Or the fact that this isnt new to FF4.\n\nNo, my cynicism is founded and my remark stands. Firefox consuming 11x the ram of an images size id like to think is a bit more critical than anything else.", "id": 5238800, "time": "2011-01-30T19:57:13Z", "is_private": false, "creation_time": "2011-01-30T19:57:13Z", "creator": "brmpfi@gmail.com", "count": 5, "raw_text": "Ah, just like [url=https://bugzilla.mozilla.org/show_bug.cgi?id=585375]this report[/url] of apng's bloated ram usage in august 2010 was resolved. Or the fact that this isnt new to FF4.\n\nNo, my cynicism is founded and my remark stands. Firefox consuming 11x the ram of an images size id like to think is a bit more critical than anything else.", "attachment_id": null, "bug_id": 629606, "tags": [], "author": "brmpfi@gmail.com"}, {"count": 6, "is_private": false, "time": "2011-01-31T11:03:35Z", "text": "Cannot reproduce. I don't see any changes after scrolling.\n\nabout:memory reports:\n\nimages/content/used/raw 156,408,694\nimages/content/used/uncompressed 541,896,780\n\nIt is consistent with what I would expect from the test files:\n3,910,195 * 40 = 156,407,800 (149mb)\n704*74*4*65 * 40 = 541,798,400 (524 mb)", "raw_text": "Cannot reproduce. I don't see any changes after scrolling.\n\nabout:memory reports:\n\nimages/content/used/raw 156,408,694\nimages/content/used/uncompressed 541,896,780\n\nIt is consistent with what I would expect from the test files:\n3,910,195 * 40 = 156,407,800 (149mb)\n704*74*4*65 * 40 = 541,798,400 (524 mb)", "id": 5239470, "creation_time": "2011-01-31T11:03:35Z", "bug_id": 629606, "attachment_id": null, "author": "newstop@gmail.com", "creator": "newstop@gmail.com", "tags": []}, {"count": 7, "time": "2011-02-01T05:11:31Z", "raw_text": "Yeah, i was having a bit of trouble reproducing it recently. It takes a bit of time before it will start to climb, or at least it did, until i found out how to trigger it right away. Scroll to any point on the page and click refresh, then scroll to another point and repeat. If you refresh on the same point the memory usage will reset itself. Also the animation stops on refresh, should i submit another bug report for that? And the animation lags alot, call that apng bug report #3? None of these issues are present in opera.", "id": 5242009, "text": "Yeah, i was having a bit of trouble reproducing it recently. It takes a bit of time before it will start to climb, or at least it did, until i found out how to trigger it right away. Scroll to any point on the page and click refresh, then scroll to another point and repeat. If you refresh on the same point the memory usage will reset itself. Also the animation stops on refresh, should i submit another bug report for that? And the animation lags alot, call that apng bug report #3? None of these issues are present in opera.", "is_private": false, "bug_id": 629606, "attachment_id": null, "creation_time": "2011-02-01T05:11:31Z", "author": "brmpfi@gmail.com", "tags": [], "creator": "brmpfi@gmail.com"}, {"creation_time": "2011-02-01T19:45:43Z", "bug_id": 629606, "attachment_id": null, "author": "alex+list@scienceforums.net", "creator": "alex+list@scienceforums.net", "tags": [], "count": 8, "is_private": false, "time": "2011-02-01T19:45:43Z", "id": 5243673, "raw_text": "The animation failing on refresh is probably bug 601723, which should be fixed. Are you seeing this in the latest nightly?", "text": "The animation failing on refresh is probably bug 601723, which should be fixed. Are you seeing this in the latest nightly?"}, {"creation_time": "2011-02-02T03:02:53Z", "creator": "brmpfi@gmail.com", "time": "2011-02-02T03:02:53Z", "text": "Yeah, tried the latest nightly and the animation failing on refresh is gone. The ram spike on refresh is still there, along with the laggy performance.", "id": 5245078, "is_private": false, "bug_id": 629606, "attachment_id": null, "author": "brmpfi@gmail.com", "tags": [], "count": 9, "raw_text": "Yeah, tried the latest nightly and the animation failing on refresh is gone. The ram spike on refresh is still there, along with the laggy performance."}, {"count": 10, "raw_text": "Are you using Hardware Acceleration?", "bug_id": 629606, "attachment_id": null, "author": "newstop@gmail.com", "tags": [], "is_private": false, "time": "2011-02-02T05:30:46Z", "text": "Are you using Hardware Acceleration?", "id": 5245289, "creation_time": "2011-02-02T05:30:46Z", "creator": "newstop@gmail.com"}, {"bug_id": 629606, "attachment_id": null, "author": "brmpfi@gmail.com", "tags": [], "count": 11, "raw_text": "No, is that enabled by default? I can try it if not.", "creation_time": "2011-02-03T08:28:24Z", "creator": "brmpfi@gmail.com", "time": "2011-02-03T08:28:24Z", "text": "No, is that enabled by default? I can try it if not.", "id": 5250944, "is_private": false}, {"creator": "newstop@gmail.com", "creation_time": "2011-02-03T08:45:46Z", "time": "2011-02-03T08:45:46Z", "text": "How to tell:\nhttp://blog.mozilla.com/joe/2010/11/10/how-to-tell-if-youre-using-hardware-acceleration/", "id": 5250965, "is_private": false, "author": "newstop@gmail.com", "tags": [], "bug_id": 629606, "attachment_id": null, "raw_text": "How to tell:\nhttp://blog.mozilla.com/joe/2010/11/10/how-to-tell-if-youre-using-hardware-acceleration/", "count": 12}, {"bug_id": 629606, "attachment_id": null, "author": "brmpfi@gmail.com", "tags": [], "count": 13, "raw_text": "I was getting about 12fps on the hardware acceleration test until i enabled acceleration in about:config and got 64fps. I went back to my apng test to see if it would play smoothly and not only was it just as laggy, the memory started climbing as soon as i scrolled. \n\n645MB ram utilized baseline\n1.54GB ram on pageload\nHad to quit scrolling before it maxed out my ram.\n\nHmm...thats odd....\n\nSo i went ahead and disabled HW acceleration and tried again:\n\n640MB baseline\n1.35GB on pageload\n1.36GB on scroll.\n\nah, ok, now we're seeing the culprit. Re-enabled HW acceleration:\n\n640MB baseline\n1.54GB on pageload\nMy RAM meter scrolled up with the page. \n\nThe performance is actually worse with HW acceleration, despite the use of resources. I believe the reason i observed this before and not later was that i updated FF since then, so there was some sort of settings change that disabled it. \n\n\nhttp://demos.hacks.mozilla.org/openweb/HWACCEL/", "creation_time": "2011-02-04T06:48:50Z", "creator": "brmpfi@gmail.com", "time": "2011-02-04T06:48:50Z", "id": 5254481, "text": "I was getting about 12fps on the hardware acceleration test until i enabled acceleration in about:config and got 64fps. I went back to my apng test to see if it would play smoothly and not only was it just as laggy, the memory started climbing as soon as i scrolled. \n\n645MB ram utilized baseline\n1.54GB ram on pageload\nHad to quit scrolling before it maxed out my ram.\n\nHmm...thats odd....\n\nSo i went ahead and disabled HW acceleration and tried again:\n\n640MB baseline\n1.35GB on pageload\n1.36GB on scroll.\n\nah, ok, now we're seeing the culprit. Re-enabled HW acceleration:\n\n640MB baseline\n1.54GB on pageload\nMy RAM meter scrolled up with the page. \n\nThe performance is actually worse with HW acceleration, despite the use of resources. I believe the reason i observed this before and not later was that i updated FF since then, so there was some sort of settings change that disabled it. \n\n\nhttp://demos.hacks.mozilla.org/openweb/HWACCEL/", "is_private": false}, {"count": 14, "time": "2011-02-04T10:06:28Z", "text": "What about:memory tells you? \n\nEspecially sections named:\n\nimages/content/used/raw\nimages/content/used/uncompressed", "raw_text": "What about:memory tells you? \n\nEspecially sections named:\n\nimages/content/used/raw\nimages/content/used/uncompressed", "id": 5254721, "is_private": false, "bug_id": 629606, "attachment_id": null, "creation_time": "2011-02-04T10:06:28Z", "author": "newstop@gmail.com", "creator": "newstop@gmail.com", "tags": []}, {"count": 15, "is_private": false, "raw_text": "To clarify, i have two computers im testing this on, both with the b11pre. One is a core i7 workstation with a nvidia 9600GT on win7x64 which FF enables HW accel by default. Attempting to enable gfx.direct2d.disabled causes firefox to freeze, which then if i end its process and boot back up it is enabled. Regardless of its setting, images/raw and images/uncompressed show 0. There is no memory leak on scroll on this computer. I get 64fps with hw accel enabled and 23fps disabled. \n\nMy other computer is a Core2 desktop with integrated intel HD graphics (graphics on a chip) on win7x86. FF doesnt recognize its hw accel capabilities by default, which if left off results in 14fps, and enabled, 64fps. Both settings show raw and uncompressed at 0. The memory leak on scroll is present only with HW accel enabled. \n\nRegardless of which setting/computer, performance is terrible. It appears to be playing at 12fps unless its completely left alone, which then it goes up near 24fps. If i scroll it takes about 5 seconds to reprocess (what i dont know) during which it will play at a few fps tops. Once again, none of these problems are present in opera.", "text": "To clarify, i have two computers im testing this on, both with the b11pre. One is a core i7 workstation with a nvidia 9600GT on win7x64 which FF enables HW accel by default. Attempting to enable gfx.direct2d.disabled causes firefox to freeze, which then if i end its process and boot back up it is enabled. Regardless of its setting, images/raw and images/uncompressed show 0. There is no memory leak on scroll on this computer. I get 64fps with hw accel enabled and 23fps disabled. \n\nMy other computer is a Core2 desktop with integrated intel HD graphics (graphics on a chip) on win7x86. FF doesnt recognize its hw accel capabilities by default, which if left off results in 14fps, and enabled, 64fps. Both settings show raw and uncompressed at 0. The memory leak on scroll is present only with HW accel enabled. \n\nRegardless of which setting/computer, performance is terrible. It appears to be playing at 12fps unless its completely left alone, which then it goes up near 24fps. If i scroll it takes about 5 seconds to reprocess (what i dont know) during which it will play at a few fps tops. Once again, none of these problems are present in opera.", "id": 5256665, "time": "2011-02-04T23:03:12Z", "creation_time": "2011-02-04T23:03:12Z", "attachment_id": null, "bug_id": 629606, "creator": "brmpfi@gmail.com", "tags": [], "author": "brmpfi@gmail.com"}, {"author": "brmpfi@gmail.com", "tags": [], "bug_id": 629606, "attachment_id": null, "raw_text": "One more note, memory usage in firefox continues to climb at a rate of 300KB/s even if i leave it open on a blank page.", "count": 16, "creator": "brmpfi@gmail.com", "creation_time": "2011-02-04T23:05:49Z", "is_private": false, "time": "2011-02-04T23:05:49Z", "text": "One more note, memory usage in firefox continues to climb at a rate of 300KB/s even if i leave it open on a blank page.", "id": 5256673}, {"id": 5256713, "text": "Your about:memory results would be useful, particularly with the memory growth. Which category grows the most in about:memory?\n\nNote that if you just refresh about:memory over and over, the JS stats will gradually increase. This is normal; the next garbage collection will clean those out, and so if you wait long enough the memory will drop back down. \n\nYou should check the images/ data in about:memory.", "time": "2011-02-04T23:16:34Z", "is_private": false, "creation_time": "2011-02-04T23:16:34Z", "creator": "alex+list@scienceforums.net", "count": 17, "raw_text": "Your about:memory results would be useful, particularly with the memory growth. Which category grows the most in about:memory?\n\nNote that if you just refresh about:memory over and over, the JS stats will gradually increase. This is normal; the next garbage collection will clean those out, and so if you wait long enough the memory will drop back down. \n\nYou should check the images/ data in about:memory.", "attachment_id": null, "bug_id": 629606, "tags": [], "author": "alex+list@scienceforums.net"}, {"is_private": false, "id": 5257900, "text": "What do you expect, to make you a movie? God you people expect me to work like your full time tester. If you want me to run through the hoops everytime you release a new version and report back every possible statistic, my rate is $200/hr. Ive told you how to trigger the problem, fix it yourselves.", "time": "2011-02-05T20:24:13Z", "creator": "brmpfi@gmail.com", "creation_time": "2011-02-05T20:24:13Z", "raw_text": "What do you expect, to make you a movie? God you people expect me to work like your full time tester. If you want me to run through the hoops everytime you release a new version and report back every possible statistic, my rate is $200/hr. Ive told you how to trigger the problem, fix it yourselves.", "count": 18, "tags": [], "author": "brmpfi@gmail.com", "attachment_id": null, "bug_id": 629606}, {"is_private": false, "id": 5257905, "text": "I'm just another random dude like you. I'm not a developer. I haven't reproduced the bug, you have. If you want someone to fix it, you need to give them sufficient data to determine where the problem comes from. If this is a hardware acceleration issue, it may be related to your particular computer and graphics drivers, so your input is necessary.\n\nIn the spirit of being helpful, however, I'll see if I can reproduce this later, when I'm done working on this major presentation.", "time": "2011-02-05T20:34:12Z", "creation_time": "2011-02-05T20:34:12Z", "creator": "alex+list@scienceforums.net", "count": 19, "raw_text": "I'm just another random dude like you. I'm not a developer. I haven't reproduced the bug, you have. If you want someone to fix it, you need to give them sufficient data to determine where the problem comes from. If this is a hardware acceleration issue, it may be related to your particular computer and graphics drivers, so your input is necessary.\n\nIn the spirit of being helpful, however, I'll see if I can reproduce this later, when I'm done working on this major presentation.", "attachment_id": null, "bug_id": 629606, "tags": [], "author": "alex+list@scienceforums.net"}, {"is_private": false, "text": "I have tested this on Mac OS X 10.6.6 with 4b10 and OpenGL enabled. I cannot reproduce the RAM use increase on scroll. Here are my numbers:\n\nBefore page load:\nimg/content/used/raw 2881\nimg/content/used/uncompressed 4096\ngfx/surface/image 293,396\n\nOnce page has fully loaded:\nimg/content/used/raw 156,410,681\nimg/content/used/uncompressed 541,804,704\ngfx/surface/image 550,626,588\nTotal memory in use 793MB\n\nThese figures do not change significantly on scroll.\n\nbrmpfi: In comment 15 you reported 0 in your about:memory results. This does not make sense. Are you sure you weren't checking img/chrome/used instead of img/content/used? Also, can you check the gfx/d2d/* results? It may be a graphics acceleration issue specific to Windows, so the d2d info is relevant.\n\nEveryone else: If you want to test this bug, I have put the full testcase online at:\n\nhttp://www.scienceforums.net/etc/ff_apng/APNGtest.html\n\nBe warned that the total APNG file size is around 150MB, so it will take a long time to download and use a lot of memory. Please be nice to my server.", "id": 5258079, "time": "2011-02-05T23:27:12Z", "creation_time": "2011-02-05T23:27:12Z", "creator": "alex+list@scienceforums.net", "count": 20, "raw_text": "I have tested this on Mac OS X 10.6.6 with 4b10 and OpenGL enabled. I cannot reproduce the RAM use increase on scroll. Here are my numbers:\n\nBefore page load:\nimg/content/used/raw 2881\nimg/content/used/uncompressed 4096\ngfx/surface/image 293,396\n\nOnce page has fully loaded:\nimg/content/used/raw 156,410,681\nimg/content/used/uncompressed 541,804,704\ngfx/surface/image 550,626,588\nTotal memory in use 793MB\n\nThese figures do not change significantly on scroll.\n\nbrmpfi: In comment 15 you reported 0 in your about:memory results. This does not make sense. Are you sure you weren't checking img/chrome/used instead of img/content/used? Also, can you check the gfx/d2d/* results? It may be a graphics acceleration issue specific to Windows, so the d2d info is relevant.\n\nEveryone else: If you want to test this bug, I have put the full testcase online at:\n\nhttp://www.scienceforums.net/etc/ff_apng/APNGtest.html\n\nBe warned that the total APNG file size is around 150MB, so it will take a long time to download and use a lot of memory. Please be nice to my server.", "attachment_id": null, "bug_id": 629606, "tags": [], "author": "alex+list@scienceforums.net"}, {"raw_text": "I see similar numbers on Windows XP, maybe the problem is Windows 7 specific. \n\nAlex, I would be much easier on your server if you use a highly compressed example. Here's the one I made:\nhttp://img137.imageshack.us/img137/2134/colors1.png\n\nIt is only 166kb compressed, but 64mb uncompressed. Put 8 of them on a webpage, and that should be 512mb uncompressed, close enough to the original test.", "count": 21, "author": "newstop@gmail.com", "tags": [], "bug_id": 629606, "attachment_id": null, "time": "2011-02-06T08:21:11Z", "id": 5258372, "text": "I see similar numbers on Windows XP, maybe the problem is Windows 7 specific. \n\nAlex, I would be much easier on your server if you use a highly compressed example. Here's the one I made:\nhttp://img137.imageshack.us/img137/2134/colors1.png\n\nIt is only 166kb compressed, but 64mb uncompressed. Put 8 of them on a webpage, and that should be 512mb uncompressed, close enough to the original test.", "is_private": false, "creator": "newstop@gmail.com", "creation_time": "2011-02-06T08:21:11Z"}, {"author": "brmpfi@gmail.com", "tags": [], "bug_id": 629606, "attachment_id": null, "raw_text": "Been a month and no one from mozilla has even bothered to look at it. No wonder firefox has become such a piece of shit, but i guess you get what you pay for.", "count": 22, "creator": "brmpfi@gmail.com", "creation_time": "2011-02-20T22:48:09Z", "is_private": false, "time": "2011-02-20T22:48:09Z", "id": 5293314, "text": "Been a month and no one from mozilla has even bothered to look at it. No wonder firefox has become such a piece of shit, but i guess you get what you pay for."}, {"author": "roc@ocallahan.org", "tags": [], "bug_id": 629606, "attachment_id": null, "raw_text": "We try not to reward people for hurling abuse.", "count": 23, "creator": "roc@ocallahan.org", "creation_time": "2011-02-20T23:55:24Z", "time": "2011-02-20T23:55:24Z", "id": 5293386, "text": "We try not to reward people for hurling abuse.", "is_private": false}, {"count": 24, "id": 5293641, "raw_text": "brmpfi: we don't appreciate language like that here. I appreciate you have been helpful and constructive further up this thread, and we thank you for that, but please reign in your language. Everyone is trying to make Firefox better - we are all on the same side.\n\nGerv", "text": "brmpfi: we don't appreciate language like that here. I appreciate you have been helpful and constructive further up this thread, and we thank you for that, but please reign in your language. Everyone is trying to make Firefox better - we are all on the same side.\n\nGerv", "time": "2011-02-21T06:37:16Z", "is_private": false, "attachment_id": null, "bug_id": 629606, "creation_time": "2011-02-21T06:37:16Z", "creator": "gerv@mozilla.org", "tags": [], "author": "gerv@mozilla.org"}, {"bug_id": 629606, "attachment_id": null, "author": "brmpfi@gmail.com", "tags": [], "count": 25, "raw_text": "Oh look, someone from mozilla, did you guys finally get your one computer to work?", "creation_time": "2011-02-26T22:56:17Z", "creator": "brmpfi@gmail.com", "is_private": false, "time": "2011-02-26T22:56:17Z", "id": 5306684, "text": "Oh look, someone from mozilla, did you guys finally get your one computer to work?"}, {"count": 26, "raw_text": "brmpfi: this is not helping your case. Any more of this, and I will disable your account. There's no reason Mozilla developers should have to put up with your snide remarks.\n\nGerv", "attachment_id": null, "bug_id": 629606, "tags": [], "author": "gerv@mozilla.org", "text": "brmpfi: this is not helping your case. Any more of this, and I will disable your account. There's no reason Mozilla developers should have to put up with your snide remarks.\n\nGerv", "id": 5311169, "time": "2011-03-01T11:09:28Z", "is_private": false, "creation_time": "2011-03-01T11:09:28Z", "creator": "gerv@mozilla.org"}, {"count": 27, "raw_text": "Marking this MemShrink:P3 because APNGs are rare, due to only Firefox and Opera supporting them.", "bug_id": 629606, "attachment_id": null, "author": "n.nethercote@gmail.com", "tags": [], "time": "2011-06-29T00:19:11Z", "text": "Marking this MemShrink:P3 because APNGs are rare, due to only Firefox and Opera supporting them.", "id": 5563414, "is_private": false, "creation_time": "2011-06-29T00:19:11Z", "creator": "n.nethercote@gmail.com"}, {"author": "zlip.792@gmail.com", "creator": "zlip.792@gmail.com", "tags": [], "bug_id": 629606, "attachment_id": null, "creation_time": "2011-08-06T17:03:43Z", "time": "2011-08-06T17:03:43Z", "text": "URL provided in bug does not work anymore. Also this url (http://www.scienceforums.net/etc/ff_apng/APNGtest.html) of testcase took years to load on my pathetic 1 MB connection. So What about these demo pages?\nhttp://people.mozilla.com/~dolske/apng/demo.html\n\nMore:\nhttp://littlesvr.ca/apng/images/012-dispose-none.png\nhttp://littlesvr.ca/apng/images/012-dispose-background.png\nhttp://littlesvr.ca/apng/images/012-dispose-previous.png\n\nThey maybe not memory intensive.. If any of you not mind, making a test case of it. I will try to post about:memory result with latest \"mozilla-central\" nightly.", "id": 5637627, "raw_text": "URL provided in bug does not work anymore. Also this url (http://www.scienceforums.net/etc/ff_apng/APNGtest.html) of testcase took years to load on my pathetic 1 MB connection. So What about these demo pages?\nhttp://people.mozilla.com/~dolske/apng/demo.html\n\nMore:\nhttp://littlesvr.ca/apng/images/012-dispose-none.png\nhttp://littlesvr.ca/apng/images/012-dispose-background.png\nhttp://littlesvr.ca/apng/images/012-dispose-previous.png\n\nThey maybe not memory intensive.. If any of you not mind, making a test case of it. I will try to post about:memory result with latest \"mozilla-central\" nightly.", "is_private": false, "count": 28}, {"creator": "newstop@gmail.com", "creation_time": "2011-08-06T21:36:35Z", "is_private": false, "time": "2011-08-06T21:36:35Z", "id": 5637808, "text": "Created attachment 551282\ntest page\n\nThis test should use 512 MB of memory for uncompressed images.", "author": "newstop@gmail.com", "tags": [], "bug_id": 629606, "attachment_id": 551282, "raw_text": "This test should use 512 MB of memory for uncompressed images.", "count": 29}, {"is_private": false, "id": 5716471, "text": "(In reply to Max Stepin from comment #29)\n> attachment 551282\n> This test should use 512 MB of memory for uncompressed images.\n\nYep, That page does use 512MB of RAM on my machine (Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110913 Firefox/9.0a1 with 6GB RAM and 1GB Dedicated GPU).\nIt also uses 512MB of Dedicated GPU Memory once all frames of all APNGs have been displayed once (this involves viewing the entire animation of each APNG from start to end, including the need to scroll to any that are not visible and repeating there). Best viewed using the graphs in Process Explorer.\n\nI think I know where this so called 'leak' of the original report comes from now.\n\n(In reply to comment #15)\n> My other computer is a Core2 desktop with integrated intel HD graphics\n> (graphics on a chip) on win7x86.\n\nIntegrated graphics cards tend to have no dedicated memory and so they always use shared memory. Since shared memory is stored in normal RAM and is reported with the process as used memory it can be expected that once 512MB of graphics memory is used on this system that 1GB of memory will be used for that page.\n\nI cannot test this out because I do not have a test machine available with the required configuration but I believe this is the most likely cause.", "time": "2011-09-14T02:30:19Z", "creator": "hughnougher@gmail.com", "creation_time": "2011-09-14T02:30:19Z", "raw_text": "(In reply to Max Stepin from comment #29)\n> attachment 551282\n> This test should use 512 MB of memory for uncompressed images.\n\nYep, That page does use 512MB of RAM on my machine (Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110913 Firefox/9.0a1 with 6GB RAM and 1GB Dedicated GPU).\nIt also uses 512MB of Dedicated GPU Memory once all frames of all APNGs have been displayed once (this involves viewing the entire animation of each APNG from start to end, including the need to scroll to any that are not visible and repeating there). Best viewed using the graphs in Process Explorer.\n\nI think I know where this so called 'leak' of the original report comes from now.\n\n(In reply to comment #15)\n> My other computer is a Core2 desktop with integrated intel HD graphics\n> (graphics on a chip) on win7x86.\n\nIntegrated graphics cards tend to have no dedicated memory and so they always use shared memory. Since shared memory is stored in normal RAM and is reported with the process as used memory it can be expected that once 512MB of graphics memory is used on this system that 1GB of memory will be used for that page.\n\nI cannot test this out because I do not have a test machine available with the required configuration but I believe this is the most likely cause.", "count": 30, "tags": [], "author": "hughnougher@gmail.com", "attachment_id": null, "bug_id": 629606}]}}, "comments": {}}