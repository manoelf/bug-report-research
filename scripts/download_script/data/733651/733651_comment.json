{"bugs": {"733651": {"comments": [{"text": "Steps to reproduce:\n\n1. Open Firefox so that about:home is the page immediately loaded and the update branch is taken in the function loadSnippets(). (This can artificially be induced by setting window.localStorage[\"snippets-last-update\"] to 0 and then restarting Firefox without session restore enabled.)\n2. No snippet appears, because the following exception is thrown:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x805e0006 [nsIXMLHttpRequest.open]\"  nsresult: \"0x805e0006 (<unknown>)\"  location: \"JS frame :: chrome://browser/content/abouthome/aboutHome.js :: loadSnippets :: line 223\"  data: no]\n\nI'm not exactly sure why this happens, but since it corrects itself upon a reload, my guess is that the XMLHttpRequest cannot be properly initialized.\n\nThis happens already on about:home in Firefox stable and is not due to the new visual refresh code.", "author": "fryn@frankyan.com", "bug_id": 733651, "is_private": false, "tags": [], "creator": "fryn@frankyan.com", "attachment_id": null, "raw_text": "Steps to reproduce:\n\n1. Open Firefox so that about:home is the page immediately loaded and the update branch is taken in the function loadSnippets(). (This can artificially be induced by setting window.localStorage[\"snippets-last-update\"] to 0 and then restarting Firefox without session restore enabled.)\n2. No snippet appears, because the following exception is thrown:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x805e0006 [nsIXMLHttpRequest.open]\"  nsresult: \"0x805e0006 (<unknown>)\"  location: \"JS frame :: chrome://browser/content/abouthome/aboutHome.js :: loadSnippets :: line 223\"  data: no]\n\nI'm not exactly sure why this happens, but since it corrects itself upon a reload, my guess is that the XMLHttpRequest cannot be properly initialized.\n\nThis happens already on about:home in Firefox stable and is not due to the new visual refresh code.", "creation_time": "2012-03-07T03:01:03Z", "id": 6120076, "time": "2012-03-07T03:01:03Z", "count": 0}, {"creation_time": "2012-03-07T03:14:49Z", "time": "2012-03-07T03:14:49Z", "creator": "fryn@frankyan.com", "attachment_id": 603582, "raw_text": "Here's a workaround to ensure that at least the default snippets load.\n\nWe should still investigate why XMLHttpRequest.open throws.", "is_private": false, "id": 6120098, "count": 1, "bug_id": 733651, "tags": [], "text": "Created attachment 603582\nworkaround to ensure that at least the default snippets load\n\nHere's a workaround to ensure that at least the default snippets load.\n\nWe should still investigate why XMLHttpRequest.open throws.", "author": "fryn@frankyan.com"}, {"raw_text": "please file a follow-up to investigate reasons for the exception and add a comment there pointing to that bug.", "creator": "mak@mozilla.com", "attachment_id": 603582, "count": 2, "creation_time": "2012-03-14T22:23:37Z", "id": 6140761, "time": "2012-03-14T22:23:37Z", "author": "mak@mozilla.com", "text": "Comment on attachment 603582\nworkaround to ensure that at least the default snippets load\n\nplease file a follow-up to investigate reasons for the exception and add a comment there pointing to that bug.", "tags": [], "is_private": false, "bug_id": 733651}, {"attachment_id": null, "creator": "fryn@frankyan.com", "raw_text": "Pushed to fx-team:\nhttps://hg.mozilla.org/integration/fx-team/rev/63612df32193\n\nFiling followup next.", "time": "2012-03-14T23:31:11Z", "creation_time": "2012-03-14T23:31:11Z", "id": 6141019, "count": 3, "text": "Pushed to fx-team:\nhttps://hg.mozilla.org/integration/fx-team/rev/63612df32193\n\nFiling followup next.", "author": "fryn@frankyan.com", "bug_id": 733651, "tags": [], "is_private": false}, {"count": 4, "id": 6145679, "author": "mak@mozilla.com", "text": "https://hg.mozilla.org/mozilla-central/rev/63612df32193\n\nbackported with bug 711157", "tags": [], "bug_id": 733651, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/63612df32193\n\nbackported with bug 711157", "creator": "mak@mozilla.com", "attachment_id": null, "creation_time": "2012-03-16T09:52:50Z", "time": "2012-03-16T09:52:50Z", "is_private": false}, {"tags": [], "bug_id": 733651, "author": "ioana_damy@yahoo.com", "text": "Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20100101 Firefox/13.0\nBuildID: 20120528154913\n\nI evaluated window.localStorage[\"snippets-last-update\"]=0; in the Error Console and restarted Firefox. I didn't get the error from comment 0, but I got:\n\nError: self._interfaceBuilder is undefined\nSource File: resource://testpilot/modules/setup.js\nLine: 260 \n\nFrank, is that ok or should I set window.localStorage[\"snippets-last-update\"] to 0 some other way?", "count": 5, "id": 6347964, "is_private": false, "creation_time": "2012-05-30T09:40:46Z", "time": "2012-05-30T09:40:46Z", "raw_text": "Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20100101 Firefox/13.0\nBuildID: 20120528154913\n\nI evaluated window.localStorage[\"snippets-last-update\"]=0; in the Error Console and restarted Firefox. I didn't get the error from comment 0, but I got:\n\nError: self._interfaceBuilder is undefined\nSource File: resource://testpilot/modules/setup.js\nLine: 260 \n\nFrank, is that ok or should I set window.localStorage[\"snippets-last-update\"] to 0 some other way?", "creator": "ioana_damy@yahoo.com", "attachment_id": null}, {"is_private": false, "time": "2012-05-30T09:48:12Z", "creation_time": "2012-05-30T09:48:12Z", "attachment_id": null, "creator": "ioana_damy@yahoo.com", "raw_text": "Regarding my previous message, when evaluating window.localStorage[\"snippets-last-update\"]=0; in the Error Console, I get the following error:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIDOMWindow.localStorage]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: javascript:%20window.localStorage[\"snippets-last-update\"]=0; :: <TOP_LEVEL> :: line 1\"  data: no]", "bug_id": 733651, "tags": [], "text": "Regarding my previous message, when evaluating window.localStorage[\"snippets-last-update\"]=0; in the Error Console, I get the following error:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIDOMWindow.localStorage]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: javascript:%20window.localStorage[\"snippets-last-update\"]=0; :: <TOP_LEVEL> :: line 1\"  data: no]", "author": "ioana_damy@yahoo.com", "id": 6347975, "count": 6}, {"creation_time": "2012-05-30T09:58:28Z", "time": "2012-05-30T09:58:28Z", "creator": "fryn@frankyan.com", "attachment_id": null, "raw_text": "(In reply to Ioana Budnar [QA] from comment #6)\n\nThis bug doesn't need further verification.\nThanks.", "is_private": false, "id": 6347999, "count": 7, "bug_id": 733651, "tags": [], "text": "(In reply to Ioana Budnar [QA] from comment #6)\n\nThis bug doesn't need further verification.\nThanks.", "author": "fryn@frankyan.com"}]}}, "comments": {}}