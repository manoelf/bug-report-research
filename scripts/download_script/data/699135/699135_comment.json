{"comments": {}, "bugs": {"699135": {"comments": [{"count": 0, "text": "I'm working on extracting data from Makefiles by looking at just the variables. This is challenging at current because there are a few hundred variables that appear less than 5 times in the build tree.\n\nAs part of this bug, I would like to:\n\n1) establish the convention that intermediate variables be non-uppercase.\n2) convert variables in violation to non-uppercase\n\nWhat I mean by \"intermediate variables\" is variables in individual Makefiles which are intended to be used in the Makefiles themselves and not have any side effects from included files, like rules.mk.\n\nFor example:\n\n  FOO=foo\n  CPPSRCS += $(FOO)\n\nFOO is an intermediate variable because it has no side-effects in rules.mk. I propose changing this pattern to:\n\n  foo=foo\n  CPPSRCS += $(foo)\n\nThis proposal is precipitated on the assumption that rules.mk and other included makefiles don't have any side-effects for non-uppercase variables. With the exception of \"topsrcdir\" and the other boilerplate variables at the top of most Makefiles, I /think/ this holds. But, I would appreciate confirmation.", "author": "gps@mozilla.com", "bug_id": 699135, "id": 5821231, "time": "2011-11-02T17:34:37Z", "raw_text": "I'm working on extracting data from Makefiles by looking at just the variables. This is challenging at current because there are a few hundred variables that appear less than 5 times in the build tree.\n\nAs part of this bug, I would like to:\n\n1) establish the convention that intermediate variables be non-uppercase.\n2) convert variables in violation to non-uppercase\n\nWhat I mean by \"intermediate variables\" is variables in individual Makefiles which are intended to be used in the Makefiles themselves and not have any side effects from included files, like rules.mk.\n\nFor example:\n\n  FOO=foo\n  CPPSRCS += $(FOO)\n\nFOO is an intermediate variable because it has no side-effects in rules.mk. I propose changing this pattern to:\n\n  foo=foo\n  CPPSRCS += $(foo)\n\nThis proposal is precipitated on the assumption that rules.mk and other included makefiles don't have any side-effects for non-uppercase variables. With the exception of \"topsrcdir\" and the other boilerplate variables at the top of most Makefiles, I /think/ this holds. But, I would appreciate confirmation.", "creator": "gps@mozilla.com", "creation_time": "2011-11-02T17:34:37Z", "is_private": false, "attachment_id": null, "tags": []}]}}}