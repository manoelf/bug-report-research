{"bugs": {"688235": {"comments": [{"text": "Having callbacks has a number of disadvantages:\n - The decoder can accidentally kill itself because the callback can kill the decoder. This forces us to reference count decoders\n - It makes it harder to nest decoders as needed by the ICO craziness\n\nGetting rid of callbacks is hard though:\n - We currently need to communicate quite a bit of information out of the decoder\n - The information isn't of fixed size (multiple frames per write call)\n\nWe might be able to do it by checking for information after a Write call and having Write calls return after decoding a frame even if there's more data left.", "creator": "jmuizelaar@mozilla.com", "author": "jmuizelaar@mozilla.com", "attachment_id": null, "time": "2011-09-21T18:50:29Z", "raw_text": "Having callbacks has a number of disadvantages:\n - The decoder can accidentally kill itself because the callback can kill the decoder. This forces us to reference count decoders\n - It makes it harder to nest decoders as needed by the ICO craziness\n\nGetting rid of callbacks is hard though:\n - We currently need to communicate quite a bit of information out of the decoder\n - The information isn't of fixed size (multiple frames per write call)\n\nWe might be able to do it by checking for information after a Write call and having Write calls return after decoding a frame even if there's more data left.", "creation_time": "2011-09-21T18:50:29Z", "bug_id": 688235, "tags": [], "count": 0, "is_private": false, "id": 5728898}]}}, "comments": {}}