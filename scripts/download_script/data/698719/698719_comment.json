{"comments": {}, "bugs": {"698719": {"comments": [{"count": 0, "id": 5817582, "is_private": false, "time": "2011-11-01T12:11:43Z", "creation_time": "2011-11-01T12:11:43Z", "creator": "bugzilla2007@duellmann24.net", "author": "bugzilla2007@duellmann24.net", "attachment_id": null, "raw_text": "Filed against trunk, 10.0a1 2011-10-31 (didn't check branches)\n\nChanges of subject line words, saved into an existing draft, are not reflected correctly in Gloda searches, leading to missing results and false positives\n\nSTR\n\n1) compose new mail (on pop 3 account, probably doesn't matter)\n2) type unique short word into subject line (something you know will not occur in other messages, like \"mxn\", everything without quotes in this STR)\n3) Save and close the draft\n4) Perform gloda search for \"mxn\"\n\n5) Edit draft and change subject to \"mzn\"\n6) Save and close the draft\n7) Perform gloda search for \"mzn\"\n7b) Perform gloda search for \"mxn\"\n\nActual result\n\n4) gloda will correctly find mail with \"mxn\" in subject (after first saving of draft)\n7) gloda will NOT find existing saved draft with \"mzn\" in subject (after saving subject line changes to draft)\n7b) gloda will WRONGLY find existing saved draft with \"mzn\" in subject, but we were searching for \"mxn\" (so changes of subject in saved draft have NOT been updated in gloda, we still have record of the old version)\n\nSample use case (showing severity of this bug):\n\nIn real life, this means e.g. when user saves a draft with subject \"Business plan (draft version)\", and later changes subject to \"Business plan (final version)\", gloda search for \"final version\" will find nothing, and searching for \"draft version\" will find \"final version\". Bad stuff -> major.\n\nAdditional info:\n\nReproducable every time (though I think I saw some inexplicable and non-reproducable exceptions). Things don't change if user changes some more subject words, or adds a lot of text in body, or restarts TB, etc. (didn't try long waiting, though). Seems to work fine for similar short word changes in body text.\n\nThoughts for fixing:\n\nSince we do everything correctly when draft is saved for *1st* time, there seems to be a difference in how we handle 1st and subsequent saving. I don't think there should be. On the other hand, body changes seem to reflect correctly (no matter how little). So maybe it's something like a \"message-has-changed-for-gloda\" kind of flag which we don't update when user changes subject.", "bug_id": 698719, "text": "Filed against trunk, 10.0a1 2011-10-31 (didn't check branches)\n\nChanges of subject line words, saved into an existing draft, are not reflected correctly in Gloda searches, leading to missing results and false positives\n\nSTR\n\n1) compose new mail (on pop 3 account, probably doesn't matter)\n2) type unique short word into subject line (something you know will not occur in other messages, like \"mxn\", everything without quotes in this STR)\n3) Save and close the draft\n4) Perform gloda search for \"mxn\"\n\n5) Edit draft and change subject to \"mzn\"\n6) Save and close the draft\n7) Perform gloda search for \"mzn\"\n7b) Perform gloda search for \"mxn\"\n\nActual result\n\n4) gloda will correctly find mail with \"mxn\" in subject (after first saving of draft)\n7) gloda will NOT find existing saved draft with \"mzn\" in subject (after saving subject line changes to draft)\n7b) gloda will WRONGLY find existing saved draft with \"mzn\" in subject, but we were searching for \"mxn\" (so changes of subject in saved draft have NOT been updated in gloda, we still have record of the old version)\n\nSample use case (showing severity of this bug):\n\nIn real life, this means e.g. when user saves a draft with subject \"Business plan (draft version)\", and later changes subject to \"Business plan (final version)\", gloda search for \"final version\" will find nothing, and searching for \"draft version\" will find \"final version\". Bad stuff -> major.\n\nAdditional info:\n\nReproducable every time (though I think I saw some inexplicable and non-reproducable exceptions). Things don't change if user changes some more subject words, or adds a lot of text in body, or restarts TB, etc. (didn't try long waiting, though). Seems to work fine for similar short word changes in body text.\n\nThoughts for fixing:\n\nSince we do everything correctly when draft is saved for *1st* time, there seems to be a difference in how we handle 1st and subsequent saving. I don't think there should be. On the other hand, body changes seem to reflect correctly (no matter how little). So maybe it's something like a \"message-has-changed-for-gloda\" kind of flag which we don't update when user changes subject.", "tags": []}, {"raw_text": "Isn't that just a dup of the bug where we don't index drafts ?", "attachment_id": null, "tags": [], "text": "Isn't that just a dup of the bug where we don't index drafts ?", "bug_id": 698719, "count": 1, "id": 5817593, "is_private": false, "author": "ludovic@hirlimann.net", "creation_time": "2011-11-01T12:22:12Z", "time": "2011-11-01T12:22:12Z", "creator": "ludovic@hirlimann.net"}, {"tags": [], "bug_id": 698719, "text": "(In reply to Ludovic Hirlimann [:Usul] from comment #1)\n> Isn't that just a dup of the bug where we don't index drafts ?\n\nI'm not aware of that bug (pls let me know), and if it exists it doesn't seem to be listed under glodafailtracker.", "raw_text": "(In reply to Ludovic Hirlimann [:Usul] from comment #1)\n> Isn't that just a dup of the bug where we don't index drafts ?\n\nI'm not aware of that bug (pls let me know), and if it exists it doesn't seem to be listed under glodafailtracker.", "attachment_id": null, "author": "bugzilla2007@duellmann24.net", "creator": "bugzilla2007@duellmann24.net", "creation_time": "2011-11-01T12:34:05Z", "time": "2011-11-01T12:34:05Z", "is_private": false, "id": 5817604, "count": 2}, {"tags": [], "text": "I was thinking about 537775 - but my memory doesn't work so well theses days.", "bug_id": 698719, "raw_text": "I was thinking about 537775 - but my memory doesn't work so well theses days.", "attachment_id": null, "author": "ludovic@hirlimann.net", "creator": "ludovic@hirlimann.net", "time": "2011-11-01T12:44:43Z", "creation_time": "2011-11-01T12:44:43Z", "is_private": false, "id": 5817612, "count": 3}, {"bug_id": 698719, "text": "(In reply to Ludovic Hirlimann [:Usul] from comment #1)\n> Isn't that just a dup of the bug where we don't index drafts ?\n\nFTR: As hinted in comment 0, apart from the subject line (on subsequent saving) it seems we *do* index drafts correctly (e.g. the body text; didn't test for header).", "tags": [], "attachment_id": null, "raw_text": "(In reply to Ludovic Hirlimann [:Usul] from comment #1)\n> Isn't that just a dup of the bug where we don't index drafts ?\n\nFTR: As hinted in comment 0, apart from the subject line (on subsequent saving) it seems we *do* index drafts correctly (e.g. the body text; didn't test for header).", "creator": "bugzilla2007@duellmann24.net", "creation_time": "2011-11-01T21:45:38Z", "time": "2011-11-01T21:45:38Z", "author": "bugzilla2007@duellmann24.net", "is_private": false, "id": 5819205, "count": 4}, {"count": 5, "id": 14241021, "is_private": false, "creation_time": "2019-07-17T03:01:00Z", "time": "2019-07-17T03:01:00Z", "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "attachment_id": null, "raw_text": "(In reply to Ludovic Hirlimann [:Usul] from comment #3)\n> I was thinking about bug 537775 - but my memory doesn't work so well theses days.\n\nRight - that was fixed in bug 545469 circa version 3.1, 9 years ago and thus before this bug was created.\n\nDo we need to change the bug summary?", "text": "(In reply to Ludovic Hirlimann [:Usul] from comment #3)\n> I was thinking about bug 537775 - but my memory doesn't work so well theses days.\n\nRight - that was fixed in bug 545469 circa version 3.1, 9 years ago and thus before this bug was created.\n\nDo we need to change the bug summary?", "bug_id": 698719, "tags": []}, {"creation_time": "2019-10-05T11:15:16Z", "time": "2019-10-05T11:15:16Z", "creator": "bugzilla2007@duellmann24.net", "author": "bugzilla2007@duellmann24.net", "count": 6, "id": 14405692, "is_private": false, "text": "(In reply to Wayne Mery (:wsmwk) from comment #5)\n> Do we need to change the bug summary?\n\nDon't think so. This bug has clear STR so it can be tested if it still fails. If someone tests STR and finds things are now working, I will double-check to make sure.", "bug_id": 698719, "tags": [], "attachment_id": null, "raw_text": "(In reply to Wayne Mery (:wsmwk) from comment #5)\n> Do we need to change the bug summary?\n\nDon't think so. This bug has clear STR so it can be tested if it still fails. If someone tests STR and finds things are now working, I will double-check to make sure."}]}}}