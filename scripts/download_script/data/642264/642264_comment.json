{"bugs": {"642264": {"comments": [{"tags": [], "is_private": false, "time": "2011-03-16T21:08:40Z", "count": 0, "bug_id": 642264, "raw_text": "I ran across a blog post (URL above) that describes how window.location.hash can be modified repeatedly to break the back button in the browser. This alone is a UX issue, but I noticed that it generates a significant amount of disk traffic and creates a history entry in places.db for every individual hash value. I suspect this could be used to fill an end user's hard disk, make the system relatively unresponsive (due to the disk traffic), and at the very least make using their Firefox profile an unpleasant experience.\n\nYou could probably do the same thing using regular URLs and redirects, but in that case the amount of latency involved in loading pages means that it would take a lot longer to fill the disk and it would be more difficult to saturate the machine with IO. Doing this with regular page loads also would show page loading indicators, making it clear to the end user that something was happening so they could kill it by closing the tab. In this case, an end user might not even notice what was happening.\n\nI don't know how this would be fixed, precisely - perhaps rate-limiting the creation of artificial history entries would be enough.", "author": "kg@luminance.org", "text": "I ran across a blog post (URL above) that describes how window.location.hash can be modified repeatedly to break the back button in the browser. This alone is a UX issue, but I noticed that it generates a significant amount of disk traffic and creates a history entry in places.db for every individual hash value. I suspect this could be used to fill an end user's hard disk, make the system relatively unresponsive (due to the disk traffic), and at the very least make using their Firefox profile an unpleasant experience.\n\nYou could probably do the same thing using regular URLs and redirects, but in that case the amount of latency involved in loading pages means that it would take a lot longer to fill the disk and it would be more difficult to saturate the machine with IO. Doing this with regular page loads also would show page loading indicators, making it clear to the end user that something was happening so they could kill it by closing the tab. In this case, an end user might not even notice what was happening.\n\nI don't know how this would be fixed, precisely - perhaps rate-limiting the creation of artificial history entries would be enough.", "creator": "kg@luminance.org", "attachment_id": null, "id": 5349441, "creation_time": "2011-03-16T21:08:40Z"}, {"author": "kg@luminance.org", "creator": "kg@luminance.org", "time": "2011-03-16T21:10:31Z", "count": 1, "bug_id": 642264, "text": "Created attachment 519773\nThe proof of concept from the referenced blog post (WARNING: Will generate a bunch of disk I/O for a few moments and possibly hang your browser)\n\nAttaching the proof of concept from the referenced blog post. Note: It'll probably saturate your machine with disk I/O for a few minutes or hang the browser.", "id": 5349446, "attachment_id": 519773, "creation_time": "2011-03-16T21:10:31Z", "tags": [], "is_private": false, "raw_text": "Attaching the proof of concept from the referenced blog post. Note: It'll probably saturate your machine with disk I/O for a few minutes or hang the browser."}, {"raw_text": "I think content can do something similar (or same) by calling history.pushstate repeatedly.", "bug_id": 642264, "count": 2, "time": "2011-03-17T02:06:22Z", "is_private": false, "tags": [], "creation_time": "2011-03-17T02:06:22Z", "id": 5350067, "attachment_id": null, "creator": "justin.lebar+bug@gmail.com", "text": "I think content can do something similar (or same) by calling history.pushstate repeatedly.", "author": "justin.lebar+bug@gmail.com"}, {"time": "2011-03-17T02:10:13Z", "tags": [], "is_private": false, "bug_id": 642264, "raw_text": "Testcase in bug 639952 generates a similar sequence of IOs to this testcase.  At least, the IO pattern sounds the same to my ear.  :)", "count": 3, "creator": "justin.lebar+bug@gmail.com", "text": "Testcase in bug 639952 generates a similar sequence of IOs to this testcase.  At least, the IO pattern sounds the same to my ear.  :)", "attachment_id": null, "id": 5350076, "author": "justin.lebar+bug@gmail.com", "creation_time": "2011-03-17T02:10:13Z"}, {"creation_time": "2012-03-07T15:35:56Z", "attachment_id": null, "id": 6121216, "text": "I don't think this is particularly dangerous (this isn't a silent attack on the hardware -- users will likely *hear* their hdd going crazy), and we already have bug 639952, which is a similar issue, so I'd be OK un-hiding this bug.\n\n(I don't think this should be duped to bug 639952, since that's about filling up the history and this is about thrashing the hard disk; we might be able to fix one without fixing the other.)", "raw_text": "I don't think this is particularly dangerous (this isn't a silent attack on the hardware -- users will likely *hear* their hdd going crazy), and we already have bug 639952, which is a similar issue, so I'd be OK un-hiding this bug.\n\n(I don't think this should be duped to bug 639952, since that's about filling up the history and this is about thrashing the hard disk; we might be able to fix one without fixing the other.)", "is_private": false, "tags": [], "creator": "justin.lebar+bug@gmail.com", "author": "justin.lebar+bug@gmail.com", "bug_id": 642264, "count": 4, "time": "2012-03-07T15:35:56Z"}, {"id": 6121306, "attachment_id": null, "text": "> users will likely *hear* their hdd going crazy\n\nExcept those users who have an SSD or flash storage on a tablet or phone... ;)", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "creation_time": "2012-03-07T16:04:03Z", "time": "2012-03-07T16:04:03Z", "is_private": false, "tags": [], "raw_text": "> users will likely *hear* their hdd going crazy\n\nExcept those users who have an SSD or flash storage on a tablet or phone... ;)", "bug_id": 642264, "count": 5}, {"text": "> Except those users who have an SSD or flash storage on a tablet or phone... ;)\n\nSure, but that's not quite as bad, is it?  I guess it could wear out the cells, but I'd hope the flash drive would have caching to keep this kind of thrashing from wearing out the device...", "attachment_id": null, "id": 6121326, "creation_time": "2012-03-07T16:09:40Z", "tags": [], "is_private": false, "raw_text": "> Except those users who have an SSD or flash storage on a tablet or phone... ;)\n\nSure, but that's not quite as bad, is it?  I guess it could wear out the cells, but I'd hope the flash drive would have caching to keep this kind of thrashing from wearing out the device...", "author": "justin.lebar+bug@gmail.com", "creator": "justin.lebar+bug@gmail.com", "time": "2012-03-07T16:09:40Z", "count": 6, "bug_id": 642264}]}}, "comments": {}}