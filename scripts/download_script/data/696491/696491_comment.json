{"bugs": {"696491": {"comments": [{"author": "joachim.herb@gmx.de", "creator": "joachim.herb@gmx.de", "time": "2011-10-21T21:29:43Z", "creation_time": "2011-10-21T21:29:43Z", "is_private": false, "count": 0, "id": 5797884, "tags": [], "bug_id": 696491, "text": "Created attachment 568776\nTop: Position of the star before thread view. Bottom: Position after thread view\n\nThe margin between the edit contact star right to an email address and the email address is to small after first time viewing a thread\n\nWhat did you do?\nClick on a message in the folder pane so it is opened in the message pane below/to the right. The star on the right side \"edit contact\" of the email address is in the correct distance.\nClick on a collapsed thread (of messages). Below the preview of the thread should appear.\nClick on a single message (again).\n\nWhat happened?\nThe star is now placed with a too small margin between it and the email address.\n\nWhat should have happened?\nThe margin should not change.\n[squib on IRC]: This looks like a core bug. The margin CSS specification is applied only after viewing a thread the first time.\nThe CSS code is here: http://mxr.mozilla.org/comm-central/source/mail/themes/qute/mail/messageHeader-aero.css#632", "raw_text": "The margin between the edit contact star right to an email address and the email address is to small after first time viewing a thread\n\nWhat did you do?\nClick on a message in the folder pane so it is opened in the message pane below/to the right. The star on the right side \"edit contact\" of the email address is in the correct distance.\nClick on a collapsed thread (of messages). Below the preview of the thread should appear.\nClick on a single message (again).\n\nWhat happened?\nThe star is now placed with a too small margin between it and the email address.\n\nWhat should have happened?\nThe margin should not change.\n[squib on IRC]: This looks like a core bug. The margin CSS specification is applied only after viewing a thread the first time.\nThe CSS code is here: http://mxr.mozilla.org/comm-central/source/mail/themes/qute/mail/messageHeader-aero.css#632", "attachment_id": 568776}, {"id": 5797888, "count": 1, "attachment_id": null, "is_private": false, "raw_text": "I can reproduce this using Windows and Linux. This bug seems to exist at least since Thunderbird 5 and up to 10.0a1.", "time": "2011-10-21T21:31:48Z", "creation_time": "2011-10-21T21:31:48Z", "creator": "joachim.herb@gmx.de", "tags": [], "bug_id": 696491, "text": "I can reproduce this using Windows and Linux. This bug seems to exist at least since Thunderbird 5 and up to 10.0a1.", "author": "joachim.herb@gmx.de"}, {"id": 5798700, "count": 2, "is_private": false, "author": "joachim.herb@gmx.de", "time": "2011-10-22T15:29:58Z", "creation_time": "2011-10-22T15:29:58Z", "creator": "joachim.herb@gmx.de", "raw_text": "These tree mozmill tests demonstrate the problem:\nIf an email thread is selected (and back then the non-threaded email) the star position relative to the email address changes so the width of the emailDisplayButton surrounding the email address and the star icon gets smaller.\n\nThe old margin between the email address and the star is reset by reopening the 3pane mail window. \n\nIt is enough to toggle hidden attribute of the singlemessage DOM object to trigger this bug, so it is not (really) related to threaded/multimessage view.", "attachment_id": 568878, "text": "Created attachment 568878\nMozmill tests demonstrating the problem\n\nThese tree mozmill tests demonstrate the problem:\nIf an email thread is selected (and back then the non-threaded email) the star position relative to the email address changes so the width of the emailDisplayButton surrounding the email address and the star icon gets smaller.\n\nThe old margin between the email address and the star is reset by reopening the 3pane mail window. \n\nIt is enough to toggle hidden attribute of the singlemessage DOM object to trigger this bug, so it is not (really) related to threaded/multimessage view.", "bug_id": 696491, "tags": []}, {"is_private": false, "count": 3, "id": 5798802, "author": "joachim.herb@gmx.de", "creator": "joachim.herb@gmx.de", "creation_time": "2011-10-22T18:20:57Z", "time": "2011-10-22T18:20:57Z", "raw_text": "A new version of the mozmill tests. They demonstrate that the problem is caused by toggling the hidden (javascript) attribute of (any) DOM object containing the star. Changing the DOM attribute collapsed does not cause the problem. (The first assert_equals) in the test. Only the second one fails:\n\n$ make SOLO_TEST=message-header/test-email-star-margin.js mozmill-one\nunset PYTHONHOME && cd ./mozilla/_tests/mozmill && MACOSX_DEPLOYMENT_TARGET= \\\n        /c/Users/joachim/workspace/comm-2/obj-tb/./mozilla/_tests/mozmill/../mozmill-virtualenv/Scripts/python.exe runtest.py \\\n        --test=/c/Users/joachim/workspace/comm-2/obj-tb/../mail/test/mozmill/message-header/test-email-star-margin.js \\\n        --binary=../../.././mozilla/dist/bin/thunderbird.exe \\\n        --symbols-path=/c/Users/joachim/workspace/comm-2/obj-tb/./mozilla/dist/crashreporter-symbols \\\n\nUsing profile dir: c:\\Users\\joachim\\workspace\\comm-2\\obj-tb\\mozilla\\_tests\\mozmill\\mozmillprofile\nTEST-START | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | setupModule\nTEST-PASS | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | setupModule\nTEST-START | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | test_emailStar_margin_toggle_hidden_attribute\nTest Failure: a != b: '196' != '193'.\nTEST-UNEXPECTED-FAIL | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | test_emailStar_margin_toggle_hidden_attribute\nTEST-START | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | teardownModule\nTEST-PASS | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | teardownModule\nINFO Passed: 2\nINFO Failed: 1\nINFO Skipped: 0\nSUMMARY-UNEXPECTED-FAIL | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | test_emailStar_margin_toggle_hidden_attribute\n  EXCEPTION: a != b: '196' != '193'.\n    at: test-folder-display-helpers.js line 2842\n       assert_true(false,\"a != b: '196' != '193'.\") test-folder-display-helpers.js 2842\n       assert_equals(196,193) test-folder-display-helpers.js 2829\n       test_emailStar_margin_toggle_hidden_attribute() test-email-star-margin.js 105\n            frame.js 554\n            frame.js 623\n            frame.js 666\n            frame.js 503\n            frame.js 678\n            server.js 182\n            server.js 186\nmake: *** [mozmill-one] Error 1", "attachment_id": 568893, "tags": [], "text": "Created attachment 568893\nMozmill tests demonstrating that toggling the hidden attribute causes the problem\n\nA new version of the mozmill tests. They demonstrate that the problem is caused by toggling the hidden (javascript) attribute of (any) DOM object containing the star. Changing the DOM attribute collapsed does not cause the problem. (The first assert_equals) in the test. Only the second one fails:\n\n$ make SOLO_TEST=message-header/test-email-star-margin.js mozmill-one\nunset PYTHONHOME && cd ./mozilla/_tests/mozmill && MACOSX_DEPLOYMENT_TARGET= \\\n        /c/Users/joachim/workspace/comm-2/obj-tb/./mozilla/_tests/mozmill/../mozmill-virtualenv/Scripts/python.exe runtest.py \\\n        --test=/c/Users/joachim/workspace/comm-2/obj-tb/../mail/test/mozmill/message-header/test-email-star-margin.js \\\n        --binary=../../.././mozilla/dist/bin/thunderbird.exe \\\n        --symbols-path=/c/Users/joachim/workspace/comm-2/obj-tb/./mozilla/dist/crashreporter-symbols \\\n\nUsing profile dir: c:\\Users\\joachim\\workspace\\comm-2\\obj-tb\\mozilla\\_tests\\mozmill\\mozmillprofile\nTEST-START | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | setupModule\nTEST-PASS | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | setupModule\nTEST-START | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | test_emailStar_margin_toggle_hidden_attribute\nTest Failure: a != b: '196' != '193'.\nTEST-UNEXPECTED-FAIL | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | test_emailStar_margin_toggle_hidden_attribute\nTEST-START | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | teardownModule\nTEST-PASS | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | teardownModule\nINFO Passed: 2\nINFO Failed: 1\nINFO Skipped: 0\nSUMMARY-UNEXPECTED-FAIL | c:\\Users\\joachim\\workspace\\comm-2\\mail\\test\\mozmill\\message-header\\test-email-star-margin.js | test_emailStar_margin_toggle_hidden_attribute\n  EXCEPTION: a != b: '196' != '193'.\n    at: test-folder-display-helpers.js line 2842\n       assert_true(false,\"a != b: '196' != '193'.\") test-folder-display-helpers.js 2842\n       assert_equals(196,193) test-folder-display-helpers.js 2829\n       test_emailStar_margin_toggle_hidden_attribute() test-email-star-margin.js 105\n            frame.js 554\n            frame.js 623\n            frame.js 666\n            frame.js 503\n            frame.js 678\n            server.js 182\n            server.js 186\nmake: *** [mozmill-one] Error 1", "bug_id": 696491}, {"attachment_id": null, "raw_text": "I run the mozmill test on the try server:\nLinux:\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319580729.1319581380.2404.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319581693.1319582356.4024.gz&fulltext=1\n*** http://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319586328.1319587324.13185.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319590623.1319591392.20386.gz&fulltext=1\n\nMac OS X:\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319657082.1319657835.1519.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319639169.1319639925.27185.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319639946.1319640696.28688.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319651844.1319652595.23737.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319656737.1319657492.811.gz&fulltext=1\n\nWindows:\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319619270.1319620205.10433.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319619313.1319620505.10822.gz&fulltext=1\n\nOnly the one mozmill test run marked with (***) above seems to PASS. All other fail.\n\nAny idea where to start looking for an explanation of this problem?", "bug_id": 696491, "text": "I run the mozmill test on the try server:\nLinux:\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319580729.1319581380.2404.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319581693.1319582356.4024.gz&fulltext=1\n*** http://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319586328.1319587324.13185.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319590623.1319591392.20386.gz&fulltext=1\n\nMac OS X:\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319657082.1319657835.1519.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319639169.1319639925.27185.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319639946.1319640696.28688.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319651844.1319652595.23737.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319656737.1319657492.811.gz&fulltext=1\n\nWindows:\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319619270.1319620205.10433.gz&fulltext=1\nhttp://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTry/1319619313.1319620505.10822.gz&fulltext=1\n\nOnly the one mozmill test run marked with (***) above seems to PASS. All other fail.\n\nAny idea where to start looking for an explanation of this problem?", "tags": [], "is_private": false, "count": 4, "id": 5807272, "creator": "joachim.herb@gmx.de", "creation_time": "2011-10-26T21:06:29Z", "time": "2011-10-26T21:06:29Z", "author": "joachim.herb@gmx.de"}, {"author": "standard8@mozilla.com", "time": "2011-10-28T09:34:00Z", "creation_time": "2011-10-28T09:34:00Z", "creator": "standard8@mozilla.com", "id": 5810972, "count": 5, "is_private": false, "tags": [], "text": "Its a bit hard to tell, but most of the failures seem to be random, this one is more or less consistent (which is the one you're looking at):\n\nTEST-UNEXPECTED-FAIL | /builds/slave/test/build/mozmill/message-header/test-email-star-margin.js | test_emailStar_margin_toggle_hidden_attribute\nTEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during directory run\n\nFor the rest of them, you can generally look at:\n\nhttp://build.mozillamessaging.com/tinderboxpushlog/?tree=ThunderbirdTry\n\nclick the build that's failing and you'll get a summary, plus possible bugs for the random orange if there are any.", "bug_id": 696491, "raw_text": "Its a bit hard to tell, but most of the failures seem to be random, this one is more or less consistent (which is the one you're looking at):\n\nTEST-UNEXPECTED-FAIL | /builds/slave/test/build/mozmill/message-header/test-email-star-margin.js | test_emailStar_margin_toggle_hidden_attribute\nTEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during directory run\n\nFor the rest of them, you can generally look at:\n\nhttp://build.mozillamessaging.com/tinderboxpushlog/?tree=ThunderbirdTry\n\nclick the build that's failing and you'll get a summary, plus possible bugs for the random orange if there are any.", "attachment_id": null}, {"id": 5991825, "count": 6, "is_private": false, "time": "2012-01-19T12:42:24Z", "creation_time": "2012-01-19T12:42:24Z", "creator": "ludovic@hirlimann.net", "author": "ludovic@hirlimann.net", "attachment_id": null, "raw_text": "Henrik ideas ?", "bug_id": 696491, "text": "Henrik ideas ?", "tags": []}, {"author": "hskupin@gmail.com", "creator": "hskupin@gmail.com", "time": "2012-01-19T13:05:04Z", "creation_time": "2012-01-19T13:05:04Z", "is_private": false, "id": 5991870, "count": 7, "tags": [], "text": "I'm not sure what I should answer. Mozmill tests for Thunderbird are quite different given the own shared modules. I would need a better explanation of the problem to give an answer if this is Mozmill core related.", "bug_id": 696491, "raw_text": "I'm not sure what I should answer. Mozmill tests for Thunderbird are quite different given the own shared modules. I would need a better explanation of the problem to give an answer if this is Mozmill core related.", "attachment_id": null}, {"creator": "joachim.herb@gmx.de", "creation_time": "2012-01-19T14:08:38Z", "time": "2012-01-19T14:08:38Z", "author": "joachim.herb@gmx.de", "is_private": false, "count": 8, "id": 5991966, "bug_id": 696491, "text": "The mozmill test just demonstrates this problem. It appears in Thunderbird all the time (at least using Windows) if you switch between multi message view and single view.", "tags": [], "attachment_id": null, "raw_text": "The mozmill test just demonstrates this problem. It appears in Thunderbird all the time (at least using Windows) if you switch between multi message view and single view."}]}}, "comments": {}}