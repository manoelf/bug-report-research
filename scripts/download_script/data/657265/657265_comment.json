{"comments": {}, "bugs": {"657265": {"comments": [{"author": "sidney@s4y.us", "time": "2011-05-16T01:38:19Z", "id": 5471511, "count": 0, "text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_7) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.68 Safari/534.24\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nIf an element is focused from a keypress event listener, the input doesn\u2019t go to the newly-focused element.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Create a testcase wherein pressing a key when an input is not focused causes the input to be focused, in the keypress event.\n2. Press a key which represents a character (e.g. the A key)\n\nActual Results:  \nThe input gains focus and a character appears in the input.\n\nExpected Results:  \nThe input gains focus, no character appears\n\nThis works in all the other browsers I tried: Safari 5, Chrome 11, Opera 11, and Internet Explorer 9\n\nThe DOM Level 3 spec for keypress (<http://www.w3.org/TR/DOM-Level-3-Events/#event-type-keypress>) indicates that keypress fires \u201c\u2026before the processing of an input method editor\", and it lists textInput as a default action of keypress.", "attachment_id": null, "is_private": false, "raw_text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_7) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.68 Safari/534.24\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nIf an element is focused from a keypress event listener, the input doesn\u2019t go to the newly-focused element.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Create a testcase wherein pressing a key when an input is not focused causes the input to be focused, in the keypress event.\n2. Press a key which represents a character (e.g. the A key)\n\nActual Results:  \nThe input gains focus and a character appears in the input.\n\nExpected Results:  \nThe input gains focus, no character appears\n\nThis works in all the other browsers I tried: Safari 5, Chrome 11, Opera 11, and Internet Explorer 9\n\nThe DOM Level 3 spec for keypress (<http://www.w3.org/TR/DOM-Level-3-Events/#event-type-keypress>) indicates that keypress fires \u201c\u2026before the processing of an input method editor\", and it lists textInput as a default action of keypress.", "creation_time": "2011-05-16T01:38:19Z", "bug_id": 657265, "creator": "sidney@s4y.us", "tags": []}, {"author": "Ms2ger@gmail.com", "count": 1, "text": "http://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html#event-type-keypress", "attachment_id": null, "creator": "Ms2ger@gmail.com", "id": 5471982, "time": "2011-05-16T12:06:49Z", "is_private": false, "tags": [], "bug_id": 657265, "creation_time": "2011-05-16T12:06:49Z", "raw_text": "http://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html#event-type-keypress"}, {"id": 5472197, "time": "2011-05-16T14:26:57Z", "tags": [], "raw_text": "\"input method editor\" doesn't mean the editor of a textfield, for what it's worth.\n\nAnd the textinput even is not what causes the character insertion; the keypress event is.\n\nThe compat issue here is sad; it seems to me that the other browsers' behavior is clearly buggy, since the insertion of the character happens as part of the default action of the keypress event on the input, in the most obvious mental model of this.\n\nNote that DOM3 Events doesn't actually say anything about entering any characters in the input field, so a strict implementation of the spec would never enter any text at all.  This is clearly a spec bug.", "bug_id": 657265, "creation_time": "2011-05-16T14:26:57Z", "is_private": false, "text": "\"input method editor\" doesn't mean the editor of a textfield, for what it's worth.\n\nAnd the textinput even is not what causes the character insertion; the keypress event is.\n\nThe compat issue here is sad; it seems to me that the other browsers' behavior is clearly buggy, since the insertion of the character happens as part of the default action of the keypress event on the input, in the most obvious mental model of this.\n\nNote that DOM3 Events doesn't actually say anything about entering any characters in the input field, so a strict implementation of the spec would never enter any text at all.  This is clearly a spec bug.", "count": 2, "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "attachment_id": null}, {"creator": "bugs@pettay.fi", "attachment_id": null, "count": 3, "text": "(In reply to comment #2)\n> Note that DOM3 Events doesn't actually say anything about entering any\n> characters in the input field, so a strict implementation of the spec would\n> never enter any text at all.  This is clearly a spec bug.\nIt is not up DOM 3 Event specify how HTML elements behave.", "author": "bugs@pettay.fi", "raw_text": "(In reply to comment #2)\n> Note that DOM3 Events doesn't actually say anything about entering any\n> characters in the input field, so a strict implementation of the spec would\n> never enter any text at all.  This is clearly a spec bug.\nIt is not up DOM 3 Event specify how HTML elements behave.", "bug_id": 657265, "creation_time": "2011-05-16T14:56:11Z", "tags": [], "is_private": false, "time": "2011-05-16T14:56:11Z", "id": 5472260}, {"author": "bzbarsky@mit.edu", "text": "OK, fair.  Then who's supposed to specify which event triggers insertion of text into a text input?  The HTML spec certainly doesn't, last I checked.", "count": 4, "attachment_id": null, "creator": "bzbarsky@mit.edu", "time": "2011-05-16T15:19:26Z", "id": 5472314, "is_private": false, "creation_time": "2011-05-16T15:19:26Z", "bug_id": 657265, "raw_text": "OK, fair.  Then who's supposed to specify which event triggers insertion of text into a text input?  The HTML spec certainly doesn't, last I checked.", "tags": []}, {"is_private": false, "attachment_id": null, "raw_text": "I feel the expected behavior strange. It means that users cannot know which element will receive their key input. Doesn't this cause something security risk?", "creation_time": "2014-02-05T06:51:15Z", "bug_id": 657265, "creator": "masayuki@d-toybox.com", "tags": [], "author": "masayuki@d-toybox.com", "time": "2014-02-05T06:51:15Z", "id": 8374817, "text": "I feel the expected behavior strange. It means that users cannot know which element will receive their key input. Doesn't this cause something security risk?", "count": 5}, {"id": 13435234, "time": "2018-06-29T04:39:56Z", "is_private": false, "tags": [], "creation_time": "2018-06-29T04:39:56Z", "bug_id": 657265, "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven't been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "author": "bug-husbandry-bot@mozilla.bugs", "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven't been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "count": 6, "attachment_id": null, "creator": "bug-husbandry-bot@mozilla.bugs"}]}}}