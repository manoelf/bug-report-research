{"comments": {}, "bugs": {"679566": {"comments": [{"tags": [], "count": 0, "is_private": false, "id": 5658555, "bug_id": 679566, "creation_time": "2011-08-16T23:56:33Z", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nwent to http://www.clearskyinstitute.com/ham\n\n\nActual results:\n\nclicked on any item in the blue menu system. the item opened in two windows. This only happens in Firefox 6. It works correctly in all older versions.\n\n\nExpected results:\n\nthe item should only open in one window.", "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nwent to http://www.clearskyinstitute.com/ham\n\n\nActual results:\n\nclicked on any item in the blue menu system. the item opened in two windows. This only happens in Firefox 6. It works correctly in all older versions.\n\n\nExpected results:\n\nthe item should only open in one window.", "creator": "ecdowney@clearskyinstitute.com", "author": "ecdowney@clearskyinstitute.com", "time": "2011-08-16T23:56:33Z", "attachment_id": null}, {"creator": "fmdevelopertim@gmail.com", "author": "fmdevelopertim@gmail.com", "tags": [], "count": 1, "is_private": false, "id": 5658788, "bug_id": 679566, "creation_time": "2011-08-17T03:44:50Z", "raw_text": "Confirmed on Mozilla/5.0 (Windows NT 5.1; rv:8.0a1) Gecko/20110816 Firefox/8.0a1 ID:20110816030741\n\nOnly 1 window opens on Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.18) Gecko/20110614 Firefox/3.6.18 ID:20110614230723\n\nClicking on the link causes 2 windows to be opened. Clicking on the surrounding box only opens 1 window.\n\nThere is both a href with a _blank target and this function:\n\nfunction tdMouseClick(theElement)\n{\n  eval(obj+'(theElement).click()')\n}\n\n\nTE?", "text": "Confirmed on Mozilla/5.0 (Windows NT 5.1; rv:8.0a1) Gecko/20110816 Firefox/8.0a1 ID:20110816030741\n\nOnly 1 window opens on Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.18) Gecko/20110614 Firefox/3.6.18 ID:20110614230723\n\nClicking on the link causes 2 windows to be opened. Clicking on the surrounding box only opens 1 window.\n\nThere is both a href with a _blank target and this function:\n\nfunction tdMouseClick(theElement)\n{\n  eval(obj+'(theElement).click()')\n}\n\n\nTE?", "attachment_id": null, "time": "2011-08-17T03:44:50Z"}, {"creator": "ecdowney@clearskyinstitute.com", "author": "ecdowney@clearskyinstitute.com", "bug_id": 679566, "tags": [], "count": 2, "is_private": false, "id": 5691019, "text": "Still happens in 6.0.1", "attachment_id": null, "time": "2011-08-31T16:10:10Z", "creation_time": "2011-08-31T16:10:10Z", "raw_text": "Still happens in 6.0.1"}, {"id": 5695390, "count": 3, "is_private": false, "tags": [], "bug_id": 679566, "creation_time": "2011-09-02T02:17:37Z", "raw_text": "Boris -> If a link has both a HREF target=\"_blank\" and an onclick event should 2 windows be opened or is this a regression? 3.6 opens 1, FF > 4 opens 2 windows.\n\nCode in comment 1", "time": "2011-09-02T02:17:37Z", "attachment_id": null, "text": "Boris -> If a link has both a HREF target=\"_blank\" and an onclick event should 2 windows be opened or is this a regression? 3.6 opens 1, FF > 4 opens 2 windows.\n\nCode in comment 1", "author": "fmdevelopertim@gmail.com", "creator": "fmdevelopertim@gmail.com"}, {"bug_id": 679566, "id": 5704960, "count": 4, "is_private": false, "tags": [], "time": "2011-09-07T15:38:19Z", "attachment_id": null, "text": "Still happens in 6.0.2.", "creation_time": "2011-09-07T15:38:19Z", "raw_text": "Still happens in 6.0.2.", "author": "ecdowney@clearskyinstitute.com", "creator": "ecdowney@clearskyinstitute.com"}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "bug_id": 679566, "tags": [], "count": 5, "is_private": false, "id": 5705015, "text": "In general, the markup shown should in fact trigger the link twice.  It didn't use to in older versions of Gecko because we did not support click() on links.\n\nThe things that confuse me are:\n\n1)  Why does the event click() fires not bubble back up to the cell and cause another\n    recursive click()?\n2)  Why is there only one window created in WebKit/Presto?\n\nOlli, could you take a look?", "attachment_id": null, "time": "2011-09-07T15:54:27Z", "creation_time": "2011-09-07T15:54:27Z", "raw_text": "In general, the markup shown should in fact trigger the link twice.  It didn't use to in older versions of Gecko because we did not support click() on links.\n\nThe things that confuse me are:\n\n1)  Why does the event click() fires not bubble back up to the cell and cause another\n    recursive click()?\n2)  Why is there only one window created in WebKit/Presto?\n\nOlli, could you take a look?"}, {"bug_id": 679566, "tags": [], "count": 6, "is_private": false, "id": 5705075, "text": "(In reply to Boris Zbarsky (:bz) from comment #5)\n> 1)  Why does the event click() fires not bubble back up to the cell and\n> cause another\n>     recursive click()?\nIt does propagate back up, but click() has a flag for recursion prevention.\n\n\n> 2)  Why is there only one window created in WebKit/Presto?\nStill investigating...", "attachment_id": null, "time": "2011-09-07T16:18:24Z", "creation_time": "2011-09-07T16:18:24Z", "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #5)\n> 1)  Why does the event click() fires not bubble back up to the cell and\n> cause another\n>     recursive click()?\nIt does propagate back up, but click() has a flag for recursion prevention.\n\n\n> 2)  Why is there only one window created in WebKit/Presto?\nStill investigating...", "creator": "bugs@pettay.fi", "author": "bugs@pettay.fi"}, {"raw_text": "Aha, webkit doesn't have a.click(). Javascript console in Chrome tells that\n\"foobar\" has no method click().\n\nOpera seems to create only on click in this case, and so does IE.\n\nThe spec is wrong but need to figure out how to fix it.", "creation_time": "2011-09-07T20:36:03Z", "author": "bugs@pettay.fi", "attachment_id": null, "time": "2011-09-07T20:36:03Z", "creator": "bugs@pettay.fi", "text": "Aha, webkit doesn't have a.click(). Javascript console in Chrome tells that\n\"foobar\" has no method click().\n\nOpera seems to create only on click in this case, and so does IE.\n\nThe spec is wrong but need to figure out how to fix it.", "id": 5705864, "tags": [], "is_private": false, "count": 7, "bug_id": 679566}, {"attachment_id": 559123, "time": "2011-09-08T12:47:26Z", "text": "Created attachment 559123\npatch\n\nThis gives us the behavior IE and Opera have.\nIt is a bit strange behavior though.\n<a>some text <span> some text</span> some text</a> breaks the behavior, if\none clicks inside <span>.", "raw_text": "This gives us the behavior IE and Opera have.\nIt is a bit strange behavior though.\n<a>some text <span> some text</span> some text</a> breaks the behavior, if\none clicks inside <span>.", "creation_time": "2011-09-08T12:47:26Z", "bug_id": 679566, "id": 5707430, "is_private": false, "count": 8, "tags": [], "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi"}, {"attachment_id": 559399, "time": "2011-09-09T09:00:08Z", "text": "Created attachment 559399\npatch\n\nUploaded to tryserver. Needs tests.", "raw_text": "Uploaded to tryserver. Needs tests.", "creation_time": "2011-09-09T09:00:08Z", "bug_id": 679566, "id": 5710136, "count": 9, "is_private": false, "tags": [], "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi"}, {"id": 5710139, "is_private": false, "count": 10, "tags": [], "bug_id": 679566, "raw_text": "", "creation_time": "2011-09-09T09:01:24Z", "attachment_id": 559401, "time": "2011-09-09T09:01:24Z", "text": "Created attachment 559401\npatch", "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi"}, {"author": "bugs@pettay.fi", "creator": "bugs@pettay.fi", "bug_id": 679566, "id": 5725474, "count": 11, "is_private": false, "tags": [], "attachment_id": 561186, "time": "2011-09-20T14:28:02Z", "text": "Created attachment 561186\n+  some tests\n\nUploaded to try.\n\nI need to still file a spec bug.", "creation_time": "2011-09-20T14:28:02Z", "raw_text": "Uploaded to try.\n\nI need to still file a spec bug."}, {"id": 5727916, "count": 12, "is_private": false, "tags": [], "bug_id": 679566, "raw_text": "Seems like some XUL tests relies on the old behavior.\nI'm not sure whether we should actually do this.\n\nPosted to tryserver.", "creation_time": "2011-09-21T12:25:05Z", "time": "2011-09-21T12:25:05Z", "attachment_id": 561444, "text": "Created attachment 561444\nspecial case XUL\n\nSeems like some XUL tests relies on the old behavior.\nI'm not sure whether we should actually do this.\n\nPosted to tryserver.", "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi"}, {"raw_text": "Still happens in 7.0.\n\nThanks for the on going efforts.", "creation_time": "2011-09-27T22:28:37Z", "text": "Still happens in 7.0.\n\nThanks for the on going efforts.", "attachment_id": null, "time": "2011-09-27T22:28:37Z", "tags": [], "is_private": false, "count": 13, "id": 5741616, "bug_id": 679566, "creator": "ecdowney@clearskyinstitute.com", "author": "ecdowney@clearskyinstitute.com"}, {"tags": [], "count": 14, "is_private": false, "id": 5742513, "bug_id": 679566, "creation_time": "2011-09-28T08:01:12Z", "raw_text": "Yes, it happens because nothing has changed.\nThe question is whether to change the spec (FF does what the spec says), or whether the web page\nshould be modified.", "text": "Yes, it happens because nothing has changed.\nThe question is whether to change the spec (FF does what the spec says), or whether the web page\nshould be modified.", "time": "2011-09-28T08:01:12Z", "attachment_id": null, "creator": "bugs@pettay.fi", "author": "bugs@pettay.fi"}, {"id": 5748224, "tags": [], "is_private": false, "count": 15, "bug_id": 679566, "raw_text": "If you tell me the code on that page is bad, I'll accept that. But then I'd like to know why it works fine on Safari, Chrome, Opera and even Firefox prior to 5.0.", "creation_time": "2011-09-30T00:03:47Z", "attachment_id": null, "time": "2011-09-30T00:03:47Z", "text": "If you tell me the code on that page is bad, I'll accept that. But then I'd like to know why it works fine on Safari, Chrome, Opera and even Firefox prior to 5.0.", "author": "ecdowney@clearskyinstitute.com", "creator": "ecdowney@clearskyinstitute.com"}, {"bug_id": 679566, "id": 5748707, "count": 16, "is_private": false, "tags": [], "time": "2011-09-30T05:43:29Z", "attachment_id": null, "text": "Elwood, before Firefox 5 we didn't have a \"click\" method on anchors, so the JS just threw an exception.\n\nIt works in Safari and Chrome because they also have no such click method; Olli said so clearly in comment 7.\n\nWhy Opera works is the open question; they're not doing what the spec says to do, but the question is _what_ they're doing.", "raw_text": "Elwood, before Firefox 5 we didn't have a \"click\" method on anchors, so the JS just threw an exception.\n\nIt works in Safari and Chrome because they also have no such click method; Olli said so clearly in comment 7.\n\nWhy Opera works is the open question; they're not doing what the spec says to do, but the question is _what_ they're doing.", "creation_time": "2011-09-30T05:43:29Z", "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu"}, {"id": 5748868, "count": 17, "is_private": false, "tags": [], "bug_id": 679566, "raw_text": "So based on my testing both IE and Opera set some kind of internal flag to click target while\nhandling a click, and while that flag is set, the target can't receive other click events.\nBut the handling of the flag isn't the same in Opera and IE.\n(Based on the spec, the flag should be set only when calling .click(), http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#dom-click)\n\nIn case like\n<a href=\"http://www.mozilla.org\" target=\"_blank\">foo<span onclick=\"this.parentNode.click()\">bar</span></a>\nif one clicks 'bar' in IE, it opens two new windows, but Opera only one.", "creation_time": "2011-09-30T07:52:00Z", "time": "2011-09-30T07:52:00Z", "attachment_id": null, "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi", "text": "So based on my testing both IE and Opera set some kind of internal flag to click target while\nhandling a click, and while that flag is set, the target can't receive other click events.\nBut the handling of the flag isn't the same in Opera and IE.\n(Based on the spec, the flag should be set only when calling .click(), http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#dom-click)\n\nIn case like\n<a href=\"http://www.mozilla.org\" target=\"_blank\">foo<span onclick=\"this.parentNode.click()\">bar</span></a>\nif one clicks 'bar' in IE, it opens two new windows, but Opera only one."}, {"time": "2011-10-01T06:12:16Z", "attachment_id": null, "text": "Ok, well I really appreciate all your efforts. I fiddled with the javascript on that page and got the problem to go away using 7.0.1. You can close this as far as I am concerned. Thanks everyone.", "raw_text": "Ok, well I really appreciate all your efforts. I fiddled with the javascript on that page and got the problem to go away using 7.0.1. You can close this as far as I am concerned. Thanks everyone.", "creation_time": "2011-10-01T06:12:16Z", "bug_id": 679566, "id": 5751518, "tags": [], "is_private": false, "count": 18, "author": "ecdowney@clearskyinstitute.com", "creator": "ecdowney@clearskyinstitute.com"}, {"time": "2011-10-11T17:46:17Z", "attachment_id": null, "text": "http://www.w3.org/Bugs/Public/show_bug.cgi?id=14427", "raw_text": "http://www.w3.org/Bugs/Public/show_bug.cgi?id=14427", "creation_time": "2011-10-11T17:46:17Z", "bug_id": 679566, "id": 5775001, "tags": [], "is_private": false, "count": 19, "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi"}]}}}