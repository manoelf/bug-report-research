{"comments": {}, "bugs": {"1634946": {"comments": [{"creator": "jorgk-bmo@jorgk.com", "attachment_id": null, "creation_time": "2020-05-03T11:38:57Z", "id": 14793197, "text": "If you right-click on the attachment pane header, you get and option \"Initially Show Attachment Pane\". If selected, new compose windows should start with the attachment pane already open. That worked for a while after the feature was implemented. It seems to have gone broken, just like opening and closing an empty area broke, bug 1613284.", "time": "2020-05-03T11:38:57Z", "raw_text": "If you right-click on the attachment pane header, you get and option \"Initially Show Attachment Pane\". If selected, new compose windows should start with the attachment pane already open. That worked for a while after the feature was implemented. It seems to have gone broken, just like opening and closing an empty area broke, bug 1613284.", "bug_id": 1634946, "tags": [], "count": 0, "is_private": false, "author": "jorgk-bmo@jorgk.com"}, {"tags": [], "bug_id": 1634946, "is_private": false, "count": 1, "text": "Since apparently nobody missed it, we could probably do without.", "id": 14871566, "author": "mkmelin+mozilla@iki.fi", "time": "2020-06-09T13:21:47Z", "attachment_id": null, "creator": "mkmelin+mozilla@iki.fi", "creation_time": "2020-06-09T13:21:47Z", "raw_text": "Since apparently nobody missed it, we could probably do without."}, {"author": "jorgk-bmo@jorgk.com", "id": 14872066, "text": "Enigmail integration broke this:\n\nIf the preferences is set, we see this call stack:\n=== toggleAttachmentPane show\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (6524)\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (3631)\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (3912)\n== JS stack> chrome://messenger/content/messengercompose/messengercompose.xhtml(1)\ncoming from https://searchfox.org/comm-central/rev/024cb64ede43e4cfca243bf69e75c75a31d39adc/mail/components/compose/content/MsgComposeCommands.js#3631\n\nShortly after we get:\n=== toggleAttachmentPane hide\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (6524)\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (6144)\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (6105)\n== JS stack> chrome://openpgp/content/ui/enigmailMsgComposeOverlay.js (794)\n== JS stack> chrome://openpgp/content/ui/enigmailMsgComposeOverlay.js (226)\ncoming from:\nhttps://searchfox.org/comm-central/rev/024cb64ede43e4cfca243bf69e75c75a31d39adc/mail/extensions/openpgp/content/ui/enigmailMsgComposeOverlay.js#794\n\nThis is a regression and the statement\n> Since apparently nobody missed it, we could probably do without.\n\nis wrong. It still works in TB 68 as long as Enigmail isn't installed.", "count": 2, "is_private": false, "bug_id": 1634946, "tags": [], "creation_time": "2020-06-09T16:40:26Z", "raw_text": "Enigmail integration broke this:\n\nIf the preferences is set, we see this call stack:\n=== toggleAttachmentPane show\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (6524)\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (3631)\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (3912)\n== JS stack> chrome://messenger/content/messengercompose/messengercompose.xhtml(1)\ncoming from https://searchfox.org/comm-central/rev/024cb64ede43e4cfca243bf69e75c75a31d39adc/mail/components/compose/content/MsgComposeCommands.js#3631\n\nShortly after we get:\n=== toggleAttachmentPane hide\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (6524)\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (6144)\n== JS stack> chrome://messenger/content/messengercompose/MsgComposeCommands.js (6105)\n== JS stack> chrome://openpgp/content/ui/enigmailMsgComposeOverlay.js (794)\n== JS stack> chrome://openpgp/content/ui/enigmailMsgComposeOverlay.js (226)\ncoming from:\nhttps://searchfox.org/comm-central/rev/024cb64ede43e4cfca243bf69e75c75a31d39adc/mail/extensions/openpgp/content/ui/enigmailMsgComposeOverlay.js#794\n\nThis is a regression and the statement\n> Since apparently nobody missed it, we could probably do without.\n\nis wrong. It still works in TB 68 as long as Enigmail isn't installed.", "attachment_id": null, "creator": "jorgk-bmo@jorgk.com", "time": "2020-06-09T16:40:26Z"}, {"id": 14872943, "text": "Created attachment 9155441\n1634946.patch\n\nI'm really not pleased that the Enigmail code has just been committed to the source tree without a proper review by a Compose peer. It doesn't take much digging to find more issues :-(\n\nI'm also not pleased that defects get assigned incorrect priorities without taking the time to at least look at the issue, and yes, my fault, I had messed up the description. Regression that are visible in the UI within 30 seconds of use of course need to be fixed, even if they only affect a minority of users. Attachment handling is clearly an enterprise feature and it is well imaginable that this option is used by some.\n\nMagnus, please assign a resource to give the Enigmail compose code a thorough review.", "creator": "jorgk-bmo@jorgk.com", "attachment_id": 9155441, "creation_time": "2020-06-09T21:01:16Z", "bug_id": 1634946, "tags": [], "count": 3, "is_private": false, "author": "jorgk-bmo@jorgk.com", "time": "2020-06-09T21:01:16Z", "raw_text": "I'm really not pleased that the Enigmail code has just been committed to the source tree without a proper review by a Compose peer. It doesn't take much digging to find more issues :-(\n\nI'm also not pleased that defects get assigned incorrect priorities without taking the time to at least look at the issue, and yes, my fault, I had messed up the description. Regression that are visible in the UI within 30 seconds of use of course need to be fixed, even if they only affect a minority of users. Attachment handling is clearly an enterprise feature and it is well imaginable that this option is used by some.\n\nMagnus, please assign a resource to give the Enigmail compose code a thorough review."}, {"is_private": false, "count": 4, "tags": [], "bug_id": 1634946, "text": "Comment on attachment 9155441\n1634946.patch\n\nReview of attachment 9155441:\n-----------------------------------------------------------------\n\nWe'll clean up enigmail code eventually, but there are many moving pieces so hard to do atm.", "id": 14876093, "author": "mkmelin+mozilla@iki.fi", "creator": "mkmelin+mozilla@iki.fi", "attachment_id": 9155441, "time": "2020-06-11T12:17:53Z", "creation_time": "2020-06-11T12:17:53Z", "raw_text": "Review of attachment 9155441:\n-----------------------------------------------------------------\n\nWe'll clean up enigmail code eventually, but there are many moving pieces so hard to do atm."}, {"time": "2020-06-11T12:59:08Z", "raw_text": "[Approval Request Comment]\nRegression caused by (bug #): Enigmail integration\nUser impact if declined: Visible regression within 30 seconds of using new version\nTesting completed (on c-c, etc.): Yes, manually.\nRisk to taking this patch (and alternatives if risky): Not risky, basically a one-liner checking a pref.", "tags": [], "bug_id": 1634946, "is_private": false, "count": 5, "author": "jorgk-bmo@jorgk.com", "creator": "jorgk-bmo@jorgk.com", "attachment_id": 9155441, "creation_time": "2020-06-11T12:59:08Z", "text": "Comment on attachment 9155441\n1634946.patch\n\n[Approval Request Comment]\nRegression caused by (bug #): Enigmail integration\nUser impact if declined: Visible regression within 30 seconds of using new version\nTesting completed (on c-c, etc.): Yes, manually.\nRisk to taking this patch (and alternatives if risky): Not risky, basically a one-liner checking a pref.", "id": 14876162}, {"raw_text": "Pushed by geoff@darktrojan.net:\nhttps://hg.mozilla.org/comm-central/rev/6a2b0a6335ab\nRe-instate 'Initially Show Attachment Pane' option. r=mkmelin", "time": "2020-06-12T03:32:13Z", "author": "pulsebot@bots.tld", "count": 6, "is_private": false, "bug_id": 1634946, "tags": [], "creation_time": "2020-06-12T03:32:13Z", "attachment_id": null, "creator": "pulsebot@bots.tld", "id": 14877788, "text": "Pushed by geoff@darktrojan.net:\nhttps://hg.mozilla.org/comm-central/rev/6a2b0a6335ab\nRe-instate 'Initially Show Attachment Pane' option. r=mkmelin"}, {"raw_text": "Approved for beta", "time": "2020-06-15T07:03:01Z", "author": "vseerror@lehigh.edu", "bug_id": 1634946, "tags": [], "is_private": false, "count": 7, "creation_time": "2020-06-15T07:03:01Z", "attachment_id": 9155441, "creator": "vseerror@lehigh.edu", "text": "Comment on attachment 9155441\n1634946.patch\n\nApproved for beta", "id": 14882375}, {"bug_id": 1634946, "tags": ["bugherder", "uplift"], "count": 8, "is_private": false, "author": "geoff@thunderbird.net", "time": "2020-06-16T02:05:28Z", "raw_text": "Thunderbird 78.0b2:\nhttps://hg.mozilla.org/releases/comm-beta/rev/e149840af8ce", "id": 14883987, "text": "Thunderbird 78.0b2:\nhttps://hg.mozilla.org/releases/comm-beta/rev/e149840af8ce", "creator": "geoff@thunderbird.net", "attachment_id": null, "creation_time": "2020-06-16T02:05:28Z"}]}}}