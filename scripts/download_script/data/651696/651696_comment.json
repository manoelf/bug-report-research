{"bugs": {"651696": {"comments": [{"creator": "jwatt@jwatt.org", "attachment_id": null, "text": "If the root element has a viewBox attribute with a width or height of zero we currently refuse to render the SVG. In line with the SVG WG's softer failure policy Webkit, Opera and IE all just ignore the broken viewBox attribute. We should do the same for interoperability.", "count": 0, "author": "jwatt@jwatt.org", "creation_time": "2011-04-21T00:26:21Z", "bug_id": 651696, "raw_text": "If the root element has a viewBox attribute with a width or height of zero we currently refuse to render the SVG. In line with the SVG WG's softer failure policy Webkit, Opera and IE all just ignore the broken viewBox attribute. We should do the same for interoperability.", "tags": [], "is_private": false, "time": "2011-04-21T00:26:21Z", "id": 5422964}, {"creator": "jwatt@jwatt.org", "attachment_id": 527450, "text": "Created attachment 527450\npatch", "count": 1, "author": "jwatt@jwatt.org", "raw_text": "", "creation_time": "2011-04-21T00:46:17Z", "bug_id": 651696, "tags": [], "is_private": false, "time": "2011-04-21T00:46:17Z", "id": 5423081}, {"creator": "dholbert@mozilla.com", "attachment_id": null, "text": "Note that the spec explicitly says:\n> A negative value for <width> or <height> is an error (see Error processing).\n> A value of zero disables rendering of the element.\nhttp://www.w3.org/TR/SVG11/coords.html#ViewBoxAttribute\n\n(Not that that should necessarily stop us -- just pointing out that we do currently match what the spec explicitly calls for.)", "count": 2, "author": "dholbert@mozilla.com", "tags": [], "raw_text": "Note that the spec explicitly says:\n> A negative value for <width> or <height> is an error (see Error processing).\n> A value of zero disables rendering of the element.\nhttp://www.w3.org/TR/SVG11/coords.html#ViewBoxAttribute\n\n(Not that that should necessarily stop us -- just pointing out that we do currently match what the spec explicitly calls for.)", "creation_time": "2011-04-21T01:04:53Z", "bug_id": 651696, "is_private": false, "id": 5423106, "time": "2011-04-21T01:04:53Z"}, {"raw_text": "(In reply to comment #0)\n> Webkit, Opera and IE all just ignore the broken viewBox attribute\n\nActually, it's not as simple as I thought. In the case of:\n\nhttp://srufaculty.sru.edu/david.dailey/svg/newstuff/path5.svg\n\nthey all ignore the broken viewBox attribute, but in the case of my reftest at least Opera and Webkit do not (haven't tested IE).\n\nNeed to investigate further...", "bug_id": 651696, "creation_time": "2011-04-21T08:22:56Z", "tags": [], "is_private": false, "time": "2011-04-21T08:22:56Z", "id": 5423478, "creator": "jwatt@jwatt.org", "attachment_id": null, "count": 3, "text": "(In reply to comment #0)\n> Webkit, Opera and IE all just ignore the broken viewBox attribute\n\nActually, it's not as simple as I thought. In the case of:\n\nhttp://srufaculty.sru.edu/david.dailey/svg/newstuff/path5.svg\n\nthey all ignore the broken viewBox attribute, but in the case of my reftest at least Opera and Webkit do not (haven't tested IE).\n\nNeed to investigate further...", "author": "jwatt@jwatt.org"}, {"count": 4, "text": "So in the case of this markup:\n\n<svg xmlns=\"http://www.w3.org/2000/svg\"\n     viewBox=\"0 0 0 0\">\n  <rect fill=\"lime\" height=\"100%\" width=\"100%\"/>\n  <rect fill=\"lime\" height=\"100\" width=\"100\"/>\n</svg>\n\nWebkit and Opera both do NOT render the first rect, but DO render the second rect as if there was no viewBox. So whether it seems that they ignore an invalid viewBox or not depends on whether you have percentage or non-percentage lengths in the document. I guess they're resolving percentages against the viewBox rect, but ignoring the viewBox transform since it's singular.", "author": "jwatt@jwatt.org", "creator": "jwatt@jwatt.org", "attachment_id": null, "id": 5423505, "time": "2011-04-21T08:54:57Z", "tags": [], "raw_text": "So in the case of this markup:\n\n<svg xmlns=\"http://www.w3.org/2000/svg\"\n     viewBox=\"0 0 0 0\">\n  <rect fill=\"lime\" height=\"100%\" width=\"100%\"/>\n  <rect fill=\"lime\" height=\"100\" width=\"100\"/>\n</svg>\n\nWebkit and Opera both do NOT render the first rect, but DO render the second rect as if there was no viewBox. So whether it seems that they ignore an invalid viewBox or not depends on whether you have percentage or non-percentage lengths in the document. I guess they're resolving percentages against the viewBox rect, but ignoring the viewBox transform since it's singular.", "bug_id": 651696, "creation_time": "2011-04-21T08:54:57Z", "is_private": false}, {"count": 5, "text": "SVG WG's softer failure policy as I understood it was about lists of things displaying up to the point of the first list element being invalid rather than not displaying anything at all. I really think you should take this up on the w3c list and try and get some consensus there on what should happen.", "author": "longsonr@gmail.com", "creator": "longsonr@gmail.com", "attachment_id": null, "id": 5423626, "time": "2011-04-21T11:21:41Z", "tags": [], "bug_id": 651696, "creation_time": "2011-04-21T11:21:41Z", "raw_text": "SVG WG's softer failure policy as I understood it was about lists of things displaying up to the point of the first list element being invalid rather than not displaying anything at all. I really think you should take this up on the w3c list and try and get some consensus there on what should happen.", "is_private": false}, {"count": 6, "text": "The WG's \"softer failure policy\" I'm referring to is the attitude change in the WG where we now try to choose more HTML like failure mechanisms across the entire spec.\n\nFiled http://www.w3.org/Bugs/Public/show_bug.cgi?id=12540 for the WG to consider.", "author": "jwatt@jwatt.org", "creator": "jwatt@jwatt.org", "attachment_id": null, "id": 5426455, "time": "2011-04-22T17:12:12Z", "tags": [], "bug_id": 651696, "creation_time": "2011-04-22T17:12:12Z", "raw_text": "The WG's \"softer failure policy\" I'm referring to is the attitude change in the WG where we now try to choose more HTML like failure mechanisms across the entire spec.\n\nFiled http://www.w3.org/Bugs/Public/show_bug.cgi?id=12540 for the WG to consider.", "is_private": false}]}}, "comments": {}}