{"comments": {}, "bugs": {"702754": {"comments": [{"id": 5850477, "attachment_id": null, "raw_text": "I am sending a message with Content-type: multipart/related using <a href='cid:...'> references in the (text/html) body. Those point to either text/plain or text/html attachments. When I click on those links, I see some binary data.\n\nI have Content-disposition: attachment for all of these. (The main body is Content-disposition: inline.)\n\nIf I save the email to a .eml file and open that, it works. (Well, mostly. But more on that later.)\n\nBizarrely, when I return to the email that previously showed the binary data, it now works. I thought doing a \"Save As\" on the message fixed *the original* message, but I just tried it again and it didn't work. Ah! But when I went to the (corrupt) attachment by clicking on the link, doing a Save As on that, opening the saved image with File/Open, and then returning to the original message, it was fixed. I'm not sure if the exact series of steps matters, though; perhaps it's a cache expiration thing.\n\nI am attaching a sample saved message, but it won't show the corruption when I open it from within Thunderbird.\n\nNote that the behavior between the original email and a File/Open'ed email is also different -- the original email (after being \"fixed\") opens the links in the same tab, replacing the original message. (This is my desired behavior, though the lack of a 'back' button to return to the original message makes is unfortunate.) The File/Open'ed email uses a helper application to follow those links.\n\nThis mail is generated by an automated tool, so I can send these messages to anyone interested (since opening the email as a file doesn't show the problem.)", "creation_time": "2011-11-15T21:39:16Z", "author": "sphink@gmail.com", "text": "I am sending a message with Content-type: multipart/related using <a href='cid:...'> references in the (text/html) body. Those point to either text/plain or text/html attachments. When I click on those links, I see some binary data.\n\nI have Content-disposition: attachment for all of these. (The main body is Content-disposition: inline.)\n\nIf I save the email to a .eml file and open that, it works. (Well, mostly. But more on that later.)\n\nBizarrely, when I return to the email that previously showed the binary data, it now works. I thought doing a \"Save As\" on the message fixed *the original* message, but I just tried it again and it didn't work. Ah! But when I went to the (corrupt) attachment by clicking on the link, doing a Save As on that, opening the saved image with File/Open, and then returning to the original message, it was fixed. I'm not sure if the exact series of steps matters, though; perhaps it's a cache expiration thing.\n\nI am attaching a sample saved message, but it won't show the corruption when I open it from within Thunderbird.\n\nNote that the behavior between the original email and a File/Open'ed email is also different -- the original email (after being \"fixed\") opens the links in the same tab, replacing the original message. (This is my desired behavior, though the lack of a 'back' button to return to the original message makes is unfortunate.) The File/Open'ed email uses a helper application to follow those links.\n\nThis mail is generated by an automated tool, so I can send these messages to anyone interested (since opening the email as a file doesn't show the problem.)", "tags": [], "bug_id": 702754, "time": "2011-11-15T21:39:16Z", "is_private": false, "creator": "sphink@gmail.com", "count": 0}, {"bug_id": 702754, "count": 1, "id": 5850487, "raw_text": "", "attachment_id": 574677, "time": "2011-11-15T21:40:50Z", "tags": [], "text": "Created attachment 574677\nCorrupt email display, after clicking \"details\" after \"Step 1\"", "author": "sphink@gmail.com", "creation_time": "2011-11-15T21:40:50Z", "creator": "sphink@gmail.com", "is_private": false}, {"id": 5850496, "attachment_id": 574678, "raw_text": "I modified this email only to remove the Return-Path and Received headers at the very beginning.", "author": "sphink@gmail.com", "creation_time": "2011-11-15T21:42:09Z", "time": "2011-11-15T21:42:09Z", "tags": [], "bug_id": 702754, "text": "Created attachment 574678\noriginally mangled email\n\nI modified this email only to remove the Return-Path and Received headers at the very beginning.", "creator": "sphink@gmail.com", "is_private": false, "count": 2}, {"bug_id": 702754, "time": "2011-11-15T21:44:13Z", "tags": [], "text": "Created attachment 574681\ntranscript of SMTP session sending mail\n\nThis is the transcript of an SMTP session where I sent one of these emails.", "author": "sphink@gmail.com", "creation_time": "2011-11-15T21:44:13Z", "count": 3, "creator": "sphink@gmail.com", "is_private": false, "id": 5850509, "raw_text": "This is the transcript of an SMTP session where I sent one of these emails.", "attachment_id": 574681}, {"count": 4, "bug_id": 702754, "is_private": false, "creator": "sphink@gmail.com", "text": "I am running Thunderbird 8", "tags": [], "time": "2011-11-15T21:44:54Z", "creation_time": "2011-11-15T21:44:54Z", "author": "sphink@gmail.com", "raw_text": "I am running Thunderbird 8", "attachment_id": null, "id": 5850512}, {"creation_time": "2011-11-15T21:47:38Z", "author": "sphink@gmail.com", "text": "Oh, and ignore the \"see details...\" links further down in the email; they contain invalid cid: links. Also ignore the \"Step N\" links; they're intended to just be links to anchors in the same message (not that they work in Thunderbird, but I think they might in gmail.) The links of interest are the \"(details)\" links to the right of each step.", "time": "2011-11-15T21:47:38Z", "bug_id": 702754, "tags": [], "is_private": false, "creator": "sphink@gmail.com", "count": 5, "id": 5850533, "attachment_id": null, "raw_text": "Oh, and ignore the \"see details...\" links further down in the email; they contain invalid cid: links. Also ignore the \"Step N\" links; they're intended to just be links to anchors in the same message (not that they work in Thunderbird, but I think they might in gmail.) The links of interest are the \"(details)\" links to the right of each step."}, {"attachment_id": null, "raw_text": "Removing myslef on all the bugs I'm cced on. Please NI me if you need something on MailNews Core bugs from me.", "id": 10776242, "creator": "ludovic@hirlimann.net", "is_private": false, "count": 6, "author": "ludovic@hirlimann.net", "creation_time": "2015-09-25T12:48:21Z", "tags": [], "bug_id": 702754, "time": "2015-09-25T12:48:21Z", "text": "Removing myslef on all the bugs I'm cced on. Please NI me if you need something on MailNews Core bugs from me."}]}}}