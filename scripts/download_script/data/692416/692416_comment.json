{"comments": {}, "bugs": {"692416": {"comments": [{"time": "2011-10-06T12:03:47Z", "raw_text": "<img/> elements without a src attribute or with a src attribute pointing to a missing image have a width/height set to 0 even if the width/height of the <img/> is defined by css.\n\nI've tried the testcase on different machine and on one of the machine the second row of <img/> elements are correctly displayed while they looks the same at the first problematic row on some other machine.\n\nThis could be a duplicate of bug 41924 but I'm fully sure since the title of this bug specifically says (alt text) in it and dbaron says \" (In fact, given how broad this bug is, I'm not sure it makes sense to mark *anything* as a duplicate of it.)\"...", "count": 0, "text": "Created attachment 565188\ntestcase\n\n<img/> elements without a src attribute or with a src attribute pointing to a missing image have a width/height set to 0 even if the width/height of the <img/> is defined by css.\n\nI've tried the testcase on different machine and on one of the machine the second row of <img/> elements are correctly displayed while they looks the same at the first problematic row on some other machine.\n\nThis could be a duplicate of bug 41924 but I'm fully sure since the title of this bug specifically says (alt text) in it and dbaron says \" (In fact, given how broad this bug is, I'm not sure it makes sense to mark *anything* as a duplicate of it.)\"...", "author": "21@vingtetun.org", "id": 5763060, "bug_id": 692416, "attachment_id": 565188, "tags": [], "creator": "21@vingtetun.org", "creation_time": "2011-10-06T12:03:47Z", "is_private": false}, {"tags": [], "attachment_id": null, "creation_time": "2011-10-06T12:24:12Z", "is_private": false, "creator": "bzbarsky@mit.edu", "raw_text": "> even if the width/height of the <img/> is defined by css\n\nMising images become non-replaced elements.  So unless you styled it to have a display type other than the default \"inline\", it'll ignore CSS-specified width and height.\n\nSo this seems like the expected behavior...", "time": "2011-10-06T12:24:12Z", "id": 5763082, "bug_id": 692416, "author": "bzbarsky@mit.edu", "count": 1, "text": "> even if the width/height of the <img/> is defined by css\n\nMising images become non-replaced elements.  So unless you styled it to have a display type other than the default \"inline\", it'll ignore CSS-specified width and height.\n\nSo this seems like the expected behavior..."}, {"tags": [], "attachment_id": null, "creation_time": "2011-10-06T15:10:49Z", "is_private": false, "creator": "21@vingtetun.org", "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #1)\n> > even if the width/height of the <img/> is defined by css\n> \n> Mising images become non-replaced elements.  So unless you styled it to have\n> a display type other than the default \"inline\", it'll ignore CSS-specified\n> width and height.\n> \n> So this seems like the expected behavior...\n\nIf that per spec, that's fine to me.\nOtherwise at least Chrome/Opera/IE use the defined width/height.", "time": "2011-10-06T15:10:49Z", "id": 5763429, "bug_id": 692416, "author": "21@vingtetun.org", "count": 2, "text": "(In reply to Boris Zbarsky (:bz) from comment #1)\n> > even if the width/height of the <img/> is defined by css\n> \n> Mising images become non-replaced elements.  So unless you styled it to have\n> a display type other than the default \"inline\", it'll ignore CSS-specified\n> width and height.\n> \n> So this seems like the expected behavior...\n\nIf that per spec, that's fine to me.\nOtherwise at least Chrome/Opera/IE use the defined width/height."}, {"creator": "bzbarsky@mit.edu", "creation_time": "2011-10-06T15:17:12Z", "is_private": false, "attachment_id": null, "tags": [], "text": "There is no spec that defines the behavior of images that fail to load.\n\nWe make the implementation choice to make them non-replaced elements because that gives better behavior when alt text is present.  Once we do that, the specs describe what happens.", "count": 3, "author": "bzbarsky@mit.edu", "id": 5763453, "bug_id": 692416, "raw_text": "There is no spec that defines the behavior of images that fail to load.\n\nWe make the implementation choice to make them non-replaced elements because that gives better behavior when alt text is present.  Once we do that, the specs describe what happens.", "time": "2011-10-06T15:17:12Z"}, {"tags": [], "attachment_id": 565235, "is_private": false, "creation_time": "2011-10-06T15:24:02Z", "creator": "21@vingtetun.org", "raw_text": "I'm curious. Do you know why does it work in this second testcase?", "time": "2011-10-06T15:24:02Z", "bug_id": 692416, "id": 5763470, "count": 4, "text": "Created attachment 565235\ntestcase 2\n\nI'm curious. Do you know why does it work in this second testcase?", "author": "21@vingtetun.org"}, {"attachment_id": null, "tags": [], "creator": "bzbarsky@mit.edu", "creation_time": "2011-10-06T15:27:11Z", "is_private": false, "time": "2011-10-06T15:27:11Z", "raw_text": "Yes, because the page is in quirks mode.  The non-replaced thing only happens in standards mode because it turns out lots of old sites have spacer gifs that are actually 404 so if you fail to respect the sizes of broken images in quirks mode all sorts of sites break completely.", "text": "Yes, because the page is in quirks mode.  The non-replaced thing only happens in standards mode because it turns out lots of old sites have spacer gifs that are actually 404 so if you fail to respect the sizes of broken images in quirks mode all sorts of sites break completely.", "count": 5, "author": "bzbarsky@mit.edu", "bug_id": 692416, "id": 5763478}, {"tags": [], "time": "2011-10-06T15:31:05Z", "raw_text": "Thanks for those informations.\nSo...RESOLVED WONTFIX?", "attachment_id": null, "id": 5763488, "bug_id": 692416, "is_private": false, "creation_time": "2011-10-06T15:31:05Z", "creator": "21@vingtetun.org", "text": "Thanks for those informations.\nSo...RESOLVED WONTFIX?", "count": 6, "author": "21@vingtetun.org"}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "text": "I'm sort of reluctant to out of hand wontfix bugs on this....  Maybe we do need a better behavior here somehow.", "count": 7, "id": 5763509, "bug_id": 692416, "is_private": false, "creation_time": "2011-10-06T15:35:45Z", "time": "2011-10-06T15:35:45Z", "attachment_id": null, "raw_text": "I'm sort of reluctant to out of hand wontfix bugs on this....  Maybe we do need a better behavior here somehow.", "tags": []}, {"author": "mounir@lamouri.fr", "text": "(In reply to Boris Zbarsky (:bz) from comment #7)\n> I'm sort of reluctant to out of hand wontfix bugs on this....  Maybe we do\n> need a better behavior here somehow.\n\nWhat would be this better behavior?", "count": 8, "bug_id": 692416, "id": 5764893, "time": "2011-10-06T22:18:19Z", "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #7)\n> I'm sort of reluctant to out of hand wontfix bugs on this....  Maybe we do\n> need a better behavior here somehow.\n\nWhat would be this better behavior?", "creator": "mounir@lamouri.fr", "is_private": false, "creation_time": "2011-10-06T22:18:19Z", "attachment_id": null, "tags": []}, {"time": "2011-10-07T00:31:30Z", "attachment_id": null, "raw_text": "I I knew that, I wouldn't be saying \"somehow\".  ;)", "tags": [], "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "count": 9, "text": "I I knew that, I wouldn't be saying \"somehow\".  ;)", "bug_id": 692416, "id": 5765303, "creation_time": "2011-10-07T00:31:30Z", "is_private": false}, {"author": "VYV03354@nifty.ne.jp", "text": "*** Bug 580849 has been marked as a duplicate of this bug. ***", "count": 10, "id": 5765358, "bug_id": 692416, "time": "2011-10-07T00:56:29Z", "raw_text": "", "creator": "VYV03354@nifty.ne.jp", "is_private": false, "creation_time": "2011-10-07T00:56:29Z", "attachment_id": null, "tags": []}, {"tags": [], "attachment_id": null, "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #1)\n> > even if the width/height of the <img/> is defined by css\n> \n> Mising images become non-replaced elements.  So unless you styled it to have\n> a display type other than the default \"inline\", it'll ignore CSS-specified\n> width and height.\n> \n> So this seems like the expected behavior...\n\nYou will expect width and height attributes (or css rules) work on an img tag. One shouldn't need to explicitly set it { display: block } to get it working. If value of the src attribute going to change element display type, that just make things too difficult.\n\nWhile if the page author choose not to set width or height and let it fit the alt text size that is the author's decision. And if those values are set, that is also the author's decision to give a specific size to an element. That should not be any difference than a div element with a size no matter that div has any content or not. No one would think a div will shrink when it is empty right? That's just my thoughts.", "time": "2012-12-18T00:01:27Z", "creation_time": "2012-12-18T00:01:27Z", "is_private": false, "bug_id": 692416, "id": 6923039, "author": "iam.netdeveloper@gmail.com", "text": "(In reply to Boris Zbarsky (:bz) from comment #1)\n> > even if the width/height of the <img/> is defined by css\n> \n> Mising images become non-replaced elements.  So unless you styled it to have\n> a display type other than the default \"inline\", it'll ignore CSS-specified\n> width and height.\n> \n> So this seems like the expected behavior...\n\nYou will expect width and height attributes (or css rules) work on an img tag. One shouldn't need to explicitly set it { display: block } to get it working. If value of the src attribute going to change element display type, that just make things too difficult.\n\nWhile if the page author choose not to set width or height and let it fit the alt text size that is the author's decision. And if those values are set, that is also the author's decision to give a specific size to an element. That should not be any difference than a div element with a size no matter that div has any content or not. No one would think a div will shrink when it is empty right? That's just my thoughts.", "count": 11, "creator": "iam.netdeveloper@gmail.com"}, {"tags": [], "raw_text": "> You will expect width and height attributes (or css rules) work on an img tag.\n\nNot if it's not loading: at that point you want to show the user the entire alt text, typically.\n\n> that just make things too difficult\n\nToo difficult for who?  It makes thing easier for the user to see the alt text.  And the user's needs are more important than the page author's.", "attachment_id": null, "time": "2012-12-18T00:12:09Z", "creation_time": "2012-12-18T00:12:09Z", "is_private": false, "bug_id": 692416, "id": 6923093, "count": 12, "text": "> You will expect width and height attributes (or css rules) work on an img tag.\n\nNot if it's not loading: at that point you want to show the user the entire alt text, typically.\n\n> that just make things too difficult\n\nToo difficult for who?  It makes thing easier for the user to see the alt text.  And the user's needs are more important than the page author's.", "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2012-12-18T04:35:26Z", "creator": "iam.netdeveloper@gmail.com", "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #12)\n> > You will expect width and height attributes (or css rules) work on an img tag.\n> \n> Not if it's not loading: at that point you want to show the user the entire\n> alt text, typically.\n> \n> > that just make things too difficult\n> \n> Too difficult for who?  It makes thing easier for the user to see the alt\n> text.  And the user's needs are more important than the page author's.\n\n\nOh sorry, I didn't consider the case when img size is smaller than the alt text. I was mostly think about when the size is large enough for the alt text to display. But still the browser could go with something like this behavior:\n<span style=\"display:inline-block; width: 16px; height: 16px; border: 1px solid red;\">this is a small area</span>\nThe alt text will overflow if no enough space and this makes the alt text accessible to user. But in fact no one implemented this way, so finally it still down to browser's choice to how to implement that.\n\nAs to who is more important, Yes, users are more important. And here specifying width and height also to the benefit of user. Imagine a page with a few photos in it:\n<img alt=\"test\" src=\"slowResponse.jpg\" width=\"800\" height=\"600\"/>\n<img alt=\"test\" src=\"slowResponseAndNotAvailable.jpg\" width=\"800\" height=\"600\"/>\n<img alt=\"test\" src=\"normal.jpg\" width=\"800\" height=\"600\"/>\n<img alt=\"test\" src=\"normal.jpg\" width=\"800\" height=\"600\"/>\n<img alt=\"test\" src=\"normal.jpg\" width=\"800\" height=\"600\"/>\nwith the size set, user will see placeholders on the page with correct size and don't have to wait some slow image to load. They can start scroll down to see the images available first. Without size being set, the page going to shift when the slow images become available. You'll know what I mean if you ever visited a gallery page without image size, when you try to scroll down, the page just keep growing and mess your scroll point. For this example though, even the size is set, since the img will render at alt text size, the page will still shift when the 2nd image finally response with a 404.", "time": "2012-12-18T04:35:26Z", "id": 6923820, "bug_id": 692416, "author": "iam.netdeveloper@gmail.com", "text": "(In reply to Boris Zbarsky (:bz) from comment #12)\n> > You will expect width and height attributes (or css rules) work on an img tag.\n> \n> Not if it's not loading: at that point you want to show the user the entire\n> alt text, typically.\n> \n> > that just make things too difficult\n> \n> Too difficult for who?  It makes thing easier for the user to see the alt\n> text.  And the user's needs are more important than the page author's.\n\n\nOh sorry, I didn't consider the case when img size is smaller than the alt text. I was mostly think about when the size is large enough for the alt text to display. But still the browser could go with something like this behavior:\n<span style=\"display:inline-block; width: 16px; height: 16px; border: 1px solid red;\">this is a small area</span>\nThe alt text will overflow if no enough space and this makes the alt text accessible to user. But in fact no one implemented this way, so finally it still down to browser's choice to how to implement that.\n\nAs to who is more important, Yes, users are more important. And here specifying width and height also to the benefit of user. Imagine a page with a few photos in it:\n<img alt=\"test\" src=\"slowResponse.jpg\" width=\"800\" height=\"600\"/>\n<img alt=\"test\" src=\"slowResponseAndNotAvailable.jpg\" width=\"800\" height=\"600\"/>\n<img alt=\"test\" src=\"normal.jpg\" width=\"800\" height=\"600\"/>\n<img alt=\"test\" src=\"normal.jpg\" width=\"800\" height=\"600\"/>\n<img alt=\"test\" src=\"normal.jpg\" width=\"800\" height=\"600\"/>\nwith the size set, user will see placeholders on the page with correct size and don't have to wait some slow image to load. They can start scroll down to see the images available first. Without size being set, the page going to shift when the slow images become available. You'll know what I mean if you ever visited a gallery page without image size, when you try to scroll down, the page just keep growing and mess your scroll point. For this example though, even the size is set, since the img will render at alt text size, the page will still shift when the 2nd image finally response with a 404.", "count": 13}, {"id": 7719683, "bug_id": 692416, "is_private": false, "creation_time": "2013-08-07T01:22:18Z", "creator": "iam.netdeveloper@gmail.com", "author": "iam.netdeveloper@gmail.com", "count": 14, "text": "Created attachment 786657\ntestcase 3\n\ndisplay type test", "tags": [], "time": "2013-08-07T01:22:18Z", "attachment_id": 786657, "raw_text": "display type test"}, {"author": "iam.netdeveloper@gmail.com", "text": "(In reply to Boris Zbarsky (:bz) from comment #1)\n> > even if the width/height of the <img/> is defined by css\n> \n> Mising images become non-replaced elements.  So unless you styled it to have\n> a display type other than the default \"inline\", it'll ignore CSS-specified\n> width and height.\n> \n> So this seems like the expected behavior...\n\nHi Boris,\n\nI suppose a normal image is displayed as inline-block, is that correct? I tried set a display: inline-block rule to an image that is missing. But it seems still some difference between normal image and a missing image. Please see testcase 3 attached.", "count": 15, "creator": "iam.netdeveloper@gmail.com", "is_private": false, "creation_time": "2013-08-07T01:30:52Z", "bug_id": 692416, "id": 7719704, "attachment_id": null, "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #1)\n> > even if the width/height of the <img/> is defined by css\n> \n> Mising images become non-replaced elements.  So unless you styled it to have\n> a display type other than the default \"inline\", it'll ignore CSS-specified\n> width and height.\n> \n> So this seems like the expected behavior...\n\nHi Boris,\n\nI suppose a normal image is displayed as inline-block, is that correct? I tried set a display: inline-block rule to an image that is missing. But it seems still some difference between normal image and a missing image. Please see testcase 3 attached.", "time": "2013-08-07T01:30:52Z", "tags": []}, {"raw_text": "> I suppose a normal image is displayed as inline-block, is that correct?\n\nNo, a normal image with no styling becomes a replaced inline element, which doesn't have quite the same behavior as an non-replaced inline-block.", "time": "2013-08-07T02:28:47Z", "id": 7719821, "bug_id": 692416, "author": "bzbarsky@mit.edu", "count": 16, "text": "> I suppose a normal image is displayed as inline-block, is that correct?\n\nNo, a normal image with no styling becomes a replaced inline element, which doesn't have quite the same behavior as an non-replaced inline-block.", "tags": [], "attachment_id": null, "creation_time": "2013-08-07T02:28:47Z", "is_private": false, "creator": "bzbarsky@mit.edu"}]}}}