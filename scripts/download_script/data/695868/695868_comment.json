{"comments": {}, "bugs": {"695868": {"comments": [{"is_private": false, "count": 0, "id": 5793078, "author": "theosib@hotmail.com", "creator": "theosib@hotmail.com", "creation_time": "2011-10-19T21:34:21Z", "time": "2011-10-19T21:34:21Z", "raw_text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_2) AppleWebKit/534.51.22 (KHTML, like Gecko) Version/5.1.1 Safari/534.51.22\n\nSteps to reproduce:\n\nI'm using the nightly, and I've looked for a cross-browser way to programmatically set the innerHTML of an IFrame.  (As in http://roneiv.wordpress.com/2008/01/18/get-the-content-of-an-iframe-in-javascript-crossbrowser-solution-for-both-ie-and-firefox/).\n\nThis is what I wrote:\n\n\n<html>\n<body>\n\n<div name=FRAME2div id=FRAME2div style=\"position:absolute; background-color:blue; color:black; border-color:black;border-width:0; left:100px; top:40px; width:200px; height:200px; overflow:scroll; display:block; \" >\n</div>\n\n<script type=\"text/javascript\">\ndocument.getElementById(\"FRAME2div\").innerHTML = '<iframe border=0 id=IFRAME2 name=IFRAME2 ></iframe>';\ndocument.getElementById(\"IFRAME2\").contentWindow.document.body.innerHTML = '<html><body><p>NETSCAPE</p></body></html>';\n</script>\n\n</body>\n</html>\n\n\nActual results:\n\nIt works fine in Safari and Chrome, but not in the latest nightly of Firefox.\n\n\nExpected results:\n\nI should see the word \"NETSCAPE\" appear in the blue box.", "attachment_id": null, "text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_2) AppleWebKit/534.51.22 (KHTML, like Gecko) Version/5.1.1 Safari/534.51.22\n\nSteps to reproduce:\n\nI'm using the nightly, and I've looked for a cross-browser way to programmatically set the innerHTML of an IFrame.  (As in http://roneiv.wordpress.com/2008/01/18/get-the-content-of-an-iframe-in-javascript-crossbrowser-solution-for-both-ie-and-firefox/).\n\nThis is what I wrote:\n\n\n<html>\n<body>\n\n<div name=FRAME2div id=FRAME2div style=\"position:absolute; background-color:blue; color:black; border-color:black;border-width:0; left:100px; top:40px; width:200px; height:200px; overflow:scroll; display:block; \" >\n</div>\n\n<script type=\"text/javascript\">\ndocument.getElementById(\"FRAME2div\").innerHTML = '<iframe border=0 id=IFRAME2 name=IFRAME2 ></iframe>';\ndocument.getElementById(\"IFRAME2\").contentWindow.document.body.innerHTML = '<html><body><p>NETSCAPE</p></body></html>';\n</script>\n\n</body>\n</html>\n\n\nActual results:\n\nIt works fine in Safari and Chrome, but not in the latest nightly of Firefox.\n\n\nExpected results:\n\nI should see the word \"NETSCAPE\" appear in the blue box.", "bug_id": 695868, "tags": []}, {"author": "theosib@hotmail.com", "time": "2011-10-19T22:16:27Z", "creation_time": "2011-10-19T22:16:27Z", "creator": "theosib@hotmail.com", "count": 1, "id": 5793188, "is_private": false, "text": "Someone suggested I access the innerHTML this way:\n\nframes['IFRAME2'].document.documentElement.innerHTML = '<html><body><p>NETSCAPE</p></body></html>';\n\nBut that doesn't work either.", "bug_id": 695868, "tags": [], "raw_text": "Someone suggested I access the innerHTML this way:\n\nframes['IFRAME2'].document.documentElement.innerHTML = '<html><body><p>NETSCAPE</p></body></html>';\n\nBut that doesn't work either.", "attachment_id": null}, {"raw_text": "", "attachment_id": 568340, "text": "Created attachment 568340\nthe testcase", "bug_id": 695868, "tags": [], "count": 2, "id": 5794015, "is_private": false, "author": "acelists@atlas.sk", "creation_time": "2011-10-20T09:10:40Z", "time": "2011-10-20T09:10:40Z", "creator": "acelists@atlas.sk"}, {"tags": [], "bug_id": 695868, "text": "Confirming on Win XP and FF10a1.\nInterestingly, after loading the page, running the command:\n\ndocument.getElementById(\"IFRAME2\").contentWindow.document.body.innerHTML = '<html><body><p>NETSCAPE</p></body></html>';\n\nfrom the Web Console does work.", "attachment_id": null, "raw_text": "Confirming on Win XP and FF10a1.\nInterestingly, after loading the page, running the command:\n\ndocument.getElementById(\"IFRAME2\").contentWindow.document.body.innerHTML = '<html><body><p>NETSCAPE</p></body></html>';\n\nfrom the Web Console does work.", "creator": "acelists@atlas.sk", "creation_time": "2011-10-20T09:13:00Z", "time": "2011-10-20T09:13:00Z", "author": "acelists@atlas.sk", "is_private": false, "id": 5794016, "count": 3}, {"time": "2011-10-20T10:50:13Z", "creation_time": "2011-10-20T10:50:13Z", "creator": "mounir@lamouri.fr", "author": "mounir@lamouri.fr", "id": 5794120, "count": 4, "is_private": false, "tags": [], "bug_id": 695868, "text": "I think the reason is because the document inside your iframe isn't created yet.\nYou should wait for the load event before setting something inside the iframe.\n\nI'm going to attach an example that is working.", "attachment_id": null, "raw_text": "I think the reason is because the document inside your iframe isn't created yet.\nYou should wait for the load event before setting something inside the iframe.\n\nI'm going to attach an example that is working."}, {"raw_text": "", "attachment_id": 568350, "text": "Created attachment 568350\nworking example", "bug_id": 695868, "tags": [], "count": 5, "id": 5794122, "is_private": false, "author": "mounir@lamouri.fr", "creation_time": "2011-10-20T10:50:55Z", "time": "2011-10-20T10:50:55Z", "creator": "mounir@lamouri.fr"}, {"is_private": false, "id": 5794123, "count": 6, "author": "mounir@lamouri.fr", "creator": "mounir@lamouri.fr", "time": "2011-10-20T10:51:44Z", "creation_time": "2011-10-20T10:51:44Z", "raw_text": "Henri, do we plan to follow what Webkit is doing here or should we WONTFIX this? (or DUPE maybe?)", "attachment_id": null, "tags": [], "bug_id": 695868, "text": "Henri, do we plan to follow what Webkit is doing here or should we WONTFIX this? (or DUPE maybe?)"}, {"author": "hsivonen@mozilla.com", "time": "2011-10-20T11:43:47Z", "creation_time": "2011-10-20T11:43:47Z", "creator": "hsivonen@mozilla.com", "id": 5794170, "count": 7, "is_private": false, "text": "(In reply to Mounir Lamouri (:volkmar) (:mounir) from comment #6)\n> Henri, do we plan to follow what Webkit is doing here or should we WONTFIX\n> this?\n\nI expect us to follow WebKit/spec here eventually. Marking as dependent on bug 543435.", "bug_id": 695868, "tags": [], "raw_text": "(In reply to Mounir Lamouri (:volkmar) (:mounir) from comment #6)\n> Henri, do we plan to follow what Webkit is doing here or should we WONTFIX\n> this?\n\nI expect us to follow WebKit/spec here eventually. Marking as dependent on bug 543435.", "attachment_id": null}, {"is_private": false, "count": 8, "id": 5794489, "creator": "theosib@hotmail.com", "time": "2011-10-20T15:14:08Z", "creation_time": "2011-10-20T15:14:08Z", "author": "theosib@hotmail.com", "attachment_id": null, "raw_text": "Someone suggested a workaround for this.  Before setting the innerHTML, we can trigger a false load.  Here's the new version that works, without needing to wait for an unload, which would be inconvenient for the real application (my code here is just the essential parts that demonstrate the problem):\n\n<html>\n<body>\n\n<div name=FRAME2div id=FRAME2div style=\"position:absolute; background-color:blue; color:black; border-color:black;border-width:0; left:100px; top:40px; width:200px; height:200px; overflow:scroll; display:block; \" >\n</div>\n\n<script type=\"text/javascript\">\ndocument.getElementById(\"FRAME2div\").innerHTML = '<iframe border=0 id=IFRAME2 name=IFRAME2 ></iframe>';\ndoc = frames[\"IFRAME2\"].document;\ndoc.open();\ndoc.close();\ndoc.body.innerHTML = '<html><body><p>NETSCAPE</p></body></html>';\n</script>\n\n</body>\n</html>\n\nI got the suggestion from here:\nhttp://stackoverflow.com/questions/7828502/cannot-set-document-body-innerhtml-of-iframe-in-firefox", "tags": [], "bug_id": 695868, "text": "Someone suggested a workaround for this.  Before setting the innerHTML, we can trigger a false load.  Here's the new version that works, without needing to wait for an unload, which would be inconvenient for the real application (my code here is just the essential parts that demonstrate the problem):\n\n<html>\n<body>\n\n<div name=FRAME2div id=FRAME2div style=\"position:absolute; background-color:blue; color:black; border-color:black;border-width:0; left:100px; top:40px; width:200px; height:200px; overflow:scroll; display:block; \" >\n</div>\n\n<script type=\"text/javascript\">\ndocument.getElementById(\"FRAME2div\").innerHTML = '<iframe border=0 id=IFRAME2 name=IFRAME2 ></iframe>';\ndoc = frames[\"IFRAME2\"].document;\ndoc.open();\ndoc.close();\ndoc.body.innerHTML = '<html><body><p>NETSCAPE</p></body></html>';\n</script>\n\n</body>\n</html>\n\nI got the suggestion from here:\nhttp://stackoverflow.com/questions/7828502/cannot-set-document-body-innerhtml-of-iframe-in-firefox"}, {"raw_text": "any news for this?\n\nAs you can see http://output.jsbin.com/yipemaweha this in Firefox not work, in chrome there are no problem.", "id": 10418050, "count": 9, "attachment_id": null, "is_private": false, "text": "any news for this?\n\nAs you can see http://output.jsbin.com/yipemaweha this in Firefox not work, in chrome there are no problem.", "bug_id": 695868, "tags": [], "author": "mte90net@gmail.com", "creation_time": "2015-06-24T09:33:19Z", "time": "2015-06-24T09:33:19Z", "creator": "mte90net@gmail.com"}, {"attachment_id": null, "raw_text": "This long-standing interop issue is still affecting sites adversely, so it's probably worth reconsidering its priority again after all this time.", "text": "This long-standing interop issue is still affecting sites adversely, so it's probably worth reconsidering its priority again after all this time.", "bug_id": 695868, "tags": [], "is_private": false, "count": 10, "id": 13183937, "creator": "wisniewskit@gmail.com", "creation_time": "2018-04-05T17:54:59Z", "time": "2018-04-05T17:54:59Z", "author": "wisniewskit@gmail.com"}, {"raw_text": "Migrating Webcompat whiteboard priorities to project flags. See bug 1547409.", "is_private": false, "attachment_id": null, "count": 11, "id": 14085311, "author": "bug-husbandry-bot@mozilla.bugs", "bug_id": 695868, "text": "Migrating Webcompat whiteboard priorities to project flags. See bug 1547409.", "tags": [], "creator": "bug-husbandry-bot@mozilla.bugs", "time": "2019-04-30T01:16:46Z", "creation_time": "2019-04-30T01:16:46Z"}, {"id": 14085630, "count": 12, "is_private": false, "author": "bug-husbandry-bot@mozilla.bugs", "time": "2019-04-30T01:19:03Z", "creation_time": "2019-04-30T01:19:03Z", "creator": "bug-husbandry-bot@mozilla.bugs", "raw_text": "See bug 1547409. Migrating whiteboard priority tags to program flags.", "attachment_id": null, "text": "See bug 1547409. Migrating whiteboard priority tags to program flags.", "bug_id": 695868, "tags": []}, {"creator": "miketaylr@gmail.com", "time": "2019-07-03T14:13:08Z", "creation_time": "2019-07-03T14:13:08Z", "author": "miketaylr@gmail.com", "is_private": false, "count": 13, "id": 14212923, "tags": [], "bug_id": 695868, "text": "(In reply to Henri Sivonen (:hsivonen) from comment #7)\n> (In reply to Mounir Lamouri (:volkmar) (:mounir) from comment #6)\n> > Henri, do we plan to follow what Webkit is doing here or should we WONTFIX\n> > this?\n> \n> I expect us to follow WebKit/spec here eventually. Marking as dependent on\n> bug 543435.\n\nHenri, is it the HTML standard that (should?) defines this?", "attachment_id": null, "raw_text": "(In reply to Henri Sivonen (:hsivonen) from comment #7)\n> (In reply to Mounir Lamouri (:volkmar) (:mounir) from comment #6)\n> > Henri, do we plan to follow what Webkit is doing here or should we WONTFIX\n> > this?\n> \n> I expect us to follow WebKit/spec here eventually. Marking as dependent on\n> bug 543435.\n\nHenri, is it the HTML standard that (should?) defines this?"}, {"text": "(In reply to Mike Taylor [:miketaylr] (PTO July 31 - Aug 8) from comment #13)\n> Henri, is it the HTML standard that (should?) defines this?\n\nThis is in the HTML Standard, but a quick look suggests the level of detail is insufficient (about events):\nhttps://html.spec.whatwg.org/#creating-a-new-browsing-context", "bug_id": 695868, "tags": [], "raw_text": "(In reply to Mike Taylor [:miketaylr] (PTO July 31 - Aug 8) from comment #13)\n> Henri, is it the HTML standard that (should?) defines this?\n\nThis is in the HTML Standard, but a quick look suggests the level of detail is insufficient (about events):\nhttps://html.spec.whatwg.org/#creating-a-new-browsing-context", "attachment_id": null, "author": "hsivonen@mozilla.com", "time": "2019-08-05T06:57:57Z", "creation_time": "2019-08-05T06:57:57Z", "creator": "hsivonen@mozilla.com", "count": 14, "id": 14280362, "is_private": false}, {"author": "kdubost@mozilla.com", "creator": "kdubost@mozilla.com", "time": "2020-09-10T01:18:29Z", "creation_time": "2020-09-10T01:18:29Z", "is_private": false, "count": 15, "id": 15028862, "tags": [], "bug_id": 695868, "text": "(In reply to Henri Sivonen (:hsivonen) from comment #14)\n> (In reply to Mike Taylor [:miketaylr] (PTO July 31 - Aug 8) from comment #13)\n> > Henri, is it the HTML standard that (should?) defines this?\n> \n> This is in the HTML Standard, but a quick look suggests the level of detail is insufficient (about events):\n> https://html.spec.whatwg.org/#creating-a-new-browsing-context\n\nhas an issue been opened about it?\nhttps://github.com/whatwg/html/issues\nAnd probably Henri would correctly phrase the issue. Or thomas?\n\nWe just created an intervention for webcompat because of this issue\nhttps://github.com/mozilla-extensions/webcompat-addon/pull/175/files", "raw_text": "(In reply to Henri Sivonen (:hsivonen) from comment #14)\n> (In reply to Mike Taylor [:miketaylr] (PTO July 31 - Aug 8) from comment #13)\n> > Henri, is it the HTML standard that (should?) defines this?\n> \n> This is in the HTML Standard, but a quick look suggests the level of detail is insufficient (about events):\n> https://html.spec.whatwg.org/#creating-a-new-browsing-context\n\nhas an issue been opened about it?\nhttps://github.com/whatwg/html/issues\nAnd probably Henri would correctly phrase the issue. Or thomas?\n\nWe just created an intervention for webcompat because of this issue\nhttps://github.com/mozilla-extensions/webcompat-addon/pull/175/files", "attachment_id": null}, {"text": "(In reply to Karl Dubost\ud83d\udca1 :karlcow from comment #15)\n> has an issue been opened about it?\n\nThere is https://github.com/whatwg/html/issues/4965 from 2019.", "bug_id": 695868, "tags": [], "raw_text": "(In reply to Karl Dubost\ud83d\udca1 :karlcow from comment #15)\n> has an issue been opened about it?\n\nThere is https://github.com/whatwg/html/issues/4965 from 2019.", "attachment_id": null, "author": "dschubert@mozilla.com", "time": "2020-09-10T17:08:46Z", "creation_time": "2020-09-10T17:08:46Z", "creator": "dschubert@mozilla.com", "id": 15030006, "count": 16, "is_private": false}, {"time": "2020-09-10T17:24:28Z", "creation_time": "2020-09-10T17:24:28Z", "creator": "hsivonen@mozilla.com", "tags": [], "bug_id": 695868, "text": "This is somewhat less about the spec and more about what we can get done given our corpus of Gecko-specific test cases.\n\nI already failed at fixing this in the summer of 2011. I now thing I understand the issues better, and part of my failure then was trying to fix too much at the same time.\n\nMy current thinking is that we should\n\n1. Change the docshell/content viewer-created `about:blank` from lazy to eager for the Web (keeping in lazy for XUL).\n2. Change the ghost of the old HTML parser not to blow away the document created in step 1 and to make it only fire the relevant events.", "author": "hsivonen@mozilla.com", "count": 17, "id": 15030054, "attachment_id": null, "is_private": false, "raw_text": "This is somewhat less about the spec and more about what we can get done given our corpus of Gecko-specific test cases.\n\nI already failed at fixing this in the summer of 2011. I now thing I understand the issues better, and part of my failure then was trying to fix too much at the same time.\n\nMy current thinking is that we should\n\n1. Change the docshell/content viewer-created `about:blank` from lazy to eager for the Web (keeping in lazy for XUL).\n2. Change the ghost of the old HTML parser not to blow away the document created in step 1 and to make it only fire the relevant events."}, {"creation_time": "2020-09-10T17:25:01Z", "time": "2020-09-10T17:25:01Z", "creator": "hsivonen@mozilla.com", "author": "hsivonen@mozilla.com", "id": 15030056, "count": 18, "is_private": false, "tags": [], "text": "Realistically, not going to happen while Fission requires the level of attention it is requiring right now.", "bug_id": 695868, "attachment_id": null, "raw_text": "Realistically, not going to happen while Fission requires the level of attention it is requiring right now."}]}}}