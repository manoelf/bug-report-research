{"comments": {}, "bugs": {"693659": {"comments": [{"creator": "djst@mozilla.com", "author": "djst@mozilla.com", "bug_id": 693659, "tags": [], "count": 0, "is_private": false, "id": 5774765, "text": "In my mozilla.com IMAP folders, I have one folder with (sometimes) over 15000 email messages. (These are nagios error emails that I rarely look at.)\n\nWhen selecting all of those messages and hitting Delete, the UI completely hangs for over a minute. This doesn't seem like the ideal way of handling this. Maybe put the actual work in a separate worker thread and show a progress bar instead?", "attachment_id": null, "time": "2011-10-11T16:31:08Z", "raw_text": "In my mozilla.com IMAP folders, I have one folder with (sometimes) over 15000 email messages. (These are nagios error emails that I rarely look at.)\n\nWhen selecting all of those messages and hitting Delete, the UI completely hangs for over a minute. This doesn't seem like the ideal way of handling this. Maybe put the actual work in a separate worker thread and show a progress bar instead?", "creation_time": "2011-10-11T16:31:08Z"}, {"author": "mozilla@davidbienvenu.org", "creator": "mozilla@davidbienvenu.org", "attachment_id": null, "time": "2011-10-11T16:38:41Z", "text": "this is a known bug, with several causes, and I've been looking into it recently. Two main issues are that some of the change notifications between c++ and js aren't batched, and there should be one undo action for this, instead of N where N is the number of messages.\n\nShift delete is probably quite a bit faster, if you don't care about the trash.", "creation_time": "2011-10-11T16:38:41Z", "raw_text": "this is a known bug, with several causes, and I've been looking into it recently. Two main issues are that some of the change notifications between c++ and js aren't batched, and there should be one undo action for this, instead of N where N is the number of messages.\n\nShift delete is probably quite a bit faster, if you don't care about the trash.", "bug_id": 693659, "id": 5774798, "tags": [], "is_private": false, "count": 1}, {"author": "djst@mozilla.com", "creator": "djst@mozilla.com", "bug_id": 693659, "id": 5777443, "count": 2, "is_private": false, "tags": [], "attachment_id": null, "time": "2011-10-12T14:58:45Z", "text": "Thanks for the workaround tip; I'll try shift-delete next time. Oh, and sorry for filing a (I'm guessing?) dupe!", "raw_text": "Thanks for the workaround tip; I'll try shift-delete next time. Oh, and sorry for filing a (I'm guessing?) dupe!", "creation_time": "2011-10-12T14:58:45Z"}, {"bug_id": 693659, "tags": [], "is_private": false, "count": 3, "id": 5805858, "text": "(In reply to David :Bienvenu from comment #1)\n> this is a known bug, with several causes, and I've been looking into it\n\nDavid what's the master bug for this ?", "time": "2011-10-26T12:20:29Z", "attachment_id": null, "raw_text": "(In reply to David :Bienvenu from comment #1)\n> this is a known bug, with several causes, and I've been looking into it\n\nDavid what's the master bug for this ?", "creation_time": "2011-10-26T12:20:29Z", "creator": "ludovic@hirlimann.net", "author": "ludovic@hirlimann.net"}, {"creator": "mozilla@davidbienvenu.org", "author": "mozilla@davidbienvenu.org", "tags": [], "is_private": false, "count": 4, "id": 5806786, "bug_id": 693659, "creation_time": "2011-10-26T18:22:07Z", "raw_text": "bug 538378 is the biggest issue; bug 644333 is the other main issue.", "text": "bug 538378 is the biggest issue; bug 644333 is the other main issue.", "attachment_id": null, "time": "2011-10-26T18:22:07Z"}, {"attachment_id": null, "time": "2012-07-09T01:48:40Z", "text": "djst, can you test version 14 beta from http://www.mozilla.org/en-US/thunderbird/channel/ and tell us results?", "creation_time": "2012-07-09T01:48:40Z", "raw_text": "djst, can you test version 14 beta from http://www.mozilla.org/en-US/thunderbird/channel/ and tell us results?", "bug_id": 693659, "id": 6454085, "tags": [], "is_private": false, "count": 5, "author": "vseerror@lehigh.edu", "creator": "vseerror@lehigh.edu"}, {"creator": "justdave@bugzilla.org", "author": "justdave@bugzilla.org", "text": "I just tried to delete 52,649 messages from a single folder (variety of subjects, not all alike) and I got a beachball for 36 seconds while trying to do \"Select All\" on the messages, and a beachball for 41 *minutes* when I actually hit Delete (which did a move-to-trash I think).  When it was done deleting them, memory usage was at 3.59 GB of physical RAM, which eventually shrank back to 2.5 GB or so after 5 or 10 minutes.", "attachment_id": null, "time": "2012-07-09T02:38:57Z", "raw_text": "I just tried to delete 52,649 messages from a single folder (variety of subjects, not all alike) and I got a beachball for 36 seconds while trying to do \"Select All\" on the messages, and a beachball for 41 *minutes* when I actually hit Delete (which did a move-to-trash I think).  When it was done deleting them, memory usage was at 3.59 GB of physical RAM, which eventually shrank back to 2.5 GB or so after 5 or 10 minutes.", "creation_time": "2012-07-09T02:38:57Z", "bug_id": 693659, "count": 6, "is_private": false, "tags": [], "id": 6454136}, {"creator": "justdave@bugzilla.org", "author": "justdave@bugzilla.org", "tags": [], "is_private": false, "count": 7, "id": 6454138, "bug_id": 693659, "creation_time": "2012-07-09T02:39:46Z", "raw_text": "I'm on Daily 12-07-05 build, Mac OS X 10.7.4", "text": "I'm on Daily 12-07-05 build, Mac OS X 10.7.4", "time": "2012-07-09T02:39:46Z", "attachment_id": null}, {"id": 6455013, "tags": [], "is_private": false, "count": 8, "bug_id": 693659, "raw_text": "Based on Dave's comment 6 and comment 7, it sounds like the bug wasn't fixed. It's still blocking the main UI.", "creation_time": "2012-07-09T14:35:49Z", "time": "2012-07-09T14:35:49Z", "attachment_id": null, "text": "Based on Dave's comment 6 and comment 7, it sounds like the bug wasn't fixed. It's still blocking the main UI.", "author": "djst@mozilla.com", "creator": "djst@mozilla.com"}, {"raw_text": "(In reply to David Tenser [:djst] from comment #8)\n> Based on Dave's comment 6 and comment 7, it sounds like the bug wasn't\n> fixed. It's still blocking the main UI.\n\nWe sped up this operation by an order of magnitude or so, but it's still slow for an extremely large number of messages.", "creation_time": "2012-07-09T14:37:42Z", "text": "(In reply to David Tenser [:djst] from comment #8)\n> Based on Dave's comment 6 and comment 7, it sounds like the bug wasn't\n> fixed. It's still blocking the main UI.\n\nWe sped up this operation by an order of magnitude or so, but it's still slow for an extremely large number of messages.", "attachment_id": null, "time": "2012-07-09T14:37:42Z", "count": 9, "is_private": false, "tags": [], "id": 6455018, "bug_id": 693659, "creator": "mozilla@davidbienvenu.org", "author": "mozilla@davidbienvenu.org"}, {"raw_text": "", "creation_time": "2016-07-29T01:45:41Z", "text": "*** Bug 1133721 has been marked as a duplicate of this bug. ***", "attachment_id": null, "time": "2016-07-29T01:45:41Z", "tags": [], "count": 10, "is_private": false, "id": 11583956, "bug_id": 693659, "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu"}, {"creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "text": "*** Bug 1171468 has been marked as a duplicate of this bug. ***", "time": "2016-07-29T01:46:27Z", "attachment_id": null, "raw_text": "", "creation_time": "2016-07-29T01:46:27Z", "bug_id": 693659, "is_private": false, "count": 11, "tags": [], "id": 11583958}, {"text": "perhaps bug 991658 is the same issue", "attachment_id": null, "time": "2016-07-29T01:55:50Z", "raw_text": "perhaps bug 991658 is the same issue", "creation_time": "2016-07-29T01:55:50Z", "bug_id": 693659, "tags": [], "is_private": false, "count": 12, "id": 11583980, "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu"}, {"creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "bug_id": 693659, "tags": [], "count": 13, "is_private": false, "id": 13589990, "text": "*** Bug 1486641 has been marked as a duplicate of this bug. ***", "time": "2018-09-04T11:41:08Z", "attachment_id": null, "creation_time": "2018-09-04T11:41:08Z", "raw_text": ""}, {"bug_id": 693659, "tags": [], "count": 14, "is_private": false, "id": 14261922, "text": "Perhaps also some aspects of bug 842371 - main thread IO\n\nFor anyone who can reproduce, please run the performance profiler:\n1. install profiler add-on into thunderbird - download the file from https://github.com/firefox-devtools/Gecko-Profiler-Addon/blob/master/gecko_profiler.xpi?raw=true and in Tools > add-ons click the gear to install add-on from file\n2. Follow instructions at https://profiler.firefox.com/ (videos BASED ON FIREFOX at https://profiler.firefox.com/docs/#/./videos-intro )\n3. Create a profiler URL and post it here.\n\nYou must be using Thunderbird beta from https://www.thunderbird.net/en-US/channel/ or current nightly build from https://archive.mozilla.org/pub/thunderbird/nightly/latest-comm-central/", "attachment_id": null, "time": "2019-07-26T11:41:27Z", "creation_time": "2019-07-26T11:41:27Z", "raw_text": "Perhaps also some aspects of bug 842371 - main thread IO\n\nFor anyone who can reproduce, please run the performance profiler:\n1. install profiler add-on into thunderbird - download the file from https://github.com/firefox-devtools/Gecko-Profiler-Addon/blob/master/gecko_profiler.xpi?raw=true and in Tools > add-ons click the gear to install add-on from file\n2. Follow instructions at https://profiler.firefox.com/ (videos BASED ON FIREFOX at https://profiler.firefox.com/docs/#/./videos-intro )\n3. Create a profiler URL and post it here.\n\nYou must be using Thunderbird beta from https://www.thunderbird.net/en-US/channel/ or current nightly build from https://archive.mozilla.org/pub/thunderbird/nightly/latest-comm-central/", "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu"}, {"is_private": false, "count": 15, "tags": [], "id": 14420604, "bug_id": 693659, "raw_text": "Come on, 8 years and still unfixed! (7 years since it's been known the attempted fix didn't work - not that it was any surprise given it didn't even attempt to address the main issue, which is point 1 below)\n\nAll the following should be obvious:\n1. you don't do heavy work on the main thread blocking the whole UI of the application. \n2. while the heavy work is done, you show a progress bar (or spinning icon) AND a cancel/abort button (whether aborting will result in a complete rollback or a partially done operation, you still give the option and warn the user accordingly. One always MUST be able to abort an operation that can take too long)\n\n\nAdditionally: This blocks both when you hit shift+Delete (let alone when you select all the messages, because of the stupid message summary in the message panel; that's tracked in another bug; I have already disabled the message panel), and then again when the prompt for confirmation of permanent deletion (without moving to trash) shows up and you click \"Delete\": the button doesn't even animate as if you hadn't pressed it. At least in the first case, there's no reason to do any heavy work (blocking or not) at all: between the time I hit shift+delete and the time a confirmation dialog shows up, there's nothing to be done. The moment I hit shift+delete, you don't even need to count how many messages I'm going to delete, let alone process them in any way, in order to show the confirmation prompt. Whatever it is that is taking that long, should be done after the confirmation.\n\n\"For anyone who can reproduce, please run the performance profiler\"\n\nWhy do you need to wait for \"anyone who can reproduce\". It's not like this is something arcane that is difficult to reproduce or whose conditions to reproduce are unknown.\n\n\nNOTE: I guess there's something wrong that makes the deletion of thousands of messages slow and that it shouldn't take this long in the first place; BUT even if you fix that part and speed this up, no matter how many orders of magnitude (well, unless you can make the deletion of millions of messages take just a few milliseconds), do NOT consider this fixed. This will be completely fixed when the deletion, even if takes just a few seconds, doesn't block the UI.\n\nActually, if the slowness itself is indeed excessive, then 1486641 is not really a duplicate.", "creation_time": "2019-10-13T17:09:44Z", "text": "Come on, 8 years and still unfixed! (7 years since it's been known the attempted fix didn't work - not that it was any surprise given it didn't even attempt to address the main issue, which is point 1 below)\n\nAll the following should be obvious:\n1. you don't do heavy work on the main thread blocking the whole UI of the application. \n2. while the heavy work is done, you show a progress bar (or spinning icon) AND a cancel/abort button (whether aborting will result in a complete rollback or a partially done operation, you still give the option and warn the user accordingly. One always MUST be able to abort an operation that can take too long)\n\n\nAdditionally: This blocks both when you hit shift+Delete (let alone when you select all the messages, because of the stupid message summary in the message panel; that's tracked in another bug; I have already disabled the message panel), and then again when the prompt for confirmation of permanent deletion (without moving to trash) shows up and you click \"Delete\": the button doesn't even animate as if you hadn't pressed it. At least in the first case, there's no reason to do any heavy work (blocking or not) at all: between the time I hit shift+delete and the time a confirmation dialog shows up, there's nothing to be done. The moment I hit shift+delete, you don't even need to count how many messages I'm going to delete, let alone process them in any way, in order to show the confirmation prompt. Whatever it is that is taking that long, should be done after the confirmation.\n\n\"For anyone who can reproduce, please run the performance profiler\"\n\nWhy do you need to wait for \"anyone who can reproduce\". It's not like this is something arcane that is difficult to reproduce or whose conditions to reproduce are unknown.\n\n\nNOTE: I guess there's something wrong that makes the deletion of thousands of messages slow and that it shouldn't take this long in the first place; BUT even if you fix that part and speed this up, no matter how many orders of magnitude (well, unless you can make the deletion of millions of messages take just a few milliseconds), do NOT consider this fixed. This will be completely fixed when the deletion, even if takes just a few seconds, doesn't block the UI.\n\nActually, if the slowness itself is indeed excessive, then 1486641 is not really a duplicate.", "time": "2019-10-13T17:09:44Z", "attachment_id": null, "creator": "php4fan@gmail.com", "author": "php4fan@gmail.com"}, {"creator": "gds@chartertn.net", "author": "gds@chartertn.net", "raw_text": "(In reply to David Tenser [:djst] from comment #0)\n> In my mozilla.com IMAP folders, I have one folder with (sometimes) over\n> 15000 email messages. (These are nagios error emails that I rarely look at.)\n> \n> When selecting all of those messages and hitting Delete, the UI completely\n> hangs for over a minute. This doesn't seem like the ideal way of handling\n> this. Maybe put the actual work in a separate worker thread and show a\n> progress bar instead?\n\nNot trying to make excuses but a possible workaround for this might be to set tb to either \"just mark as deleted\" or \"delete immediately\" and then just delete the folder containing the 15k emails, then re-create the folder. (Of course, if there are emails in the folder you want to keep then this won't work.)  Depending on the uid distribution of the emails, this may reduce the server load since only a simple imap delete of the folder/mailbox will occur.\n\n(In reply to php4fan from comment #15)\n> \n> Additionally: This blocks both when you hit shift+Delete (let alone when you select all the messages, because of the stupid message summary in the message panel; that's tracked in another bug; I have already disabled the message panel), \n\nI'm working on another problem about copying large number of messages between imap server (bug 538375). I have a folder with 17k message and if I try to select them all (ctrl-a) it takes a looong time and there is no feedback that something is going on and, of course, the UI is blocked. I haven't tried disabling the message panel to see if that speeds it up.\n\n>and then again when the prompt for confirmation of permanent deletion (without moving to trash) shows up and you click \"Delete\": the button doesn't even animate as if you hadn't pressed it.\n\nNot sure what you mean by \"animate\" here?\n\n\n>At least in the first case, there's no reason to do any heavy work (blocking or not) at all: between the time I hit shift+delete and the time a confirmation dialog shows up, there's nothing to be done. The moment I hit shift+delete, you don't even need to count how many messages I'm going to delete, let alone process them in any way, in order to show the confirmation prompt. Whatever it is that is taking that long, should be done after the confirmation.\n\nI'll try this since not sure what you mean.\n\n> \n> NOTE: I guess there's something wrong that makes the deletion of thousands of messages slow and that it shouldn't take this long in the first place; BUT even if you fix that part and speed this up, no matter how many orders of magnitude (well, unless you can make the deletion of millions of messages take just a few milliseconds), do NOT consider this fixed. This will be completely fixed when the deletion, even if takes just a few seconds, doesn't block the UI.\n\nChanging the architecture so the UI is never blocked is probably hard (maybe for just me) due the mixture of c++ and .js style code. I'm sure when it was originally designed (15+ years ago) and coded, they only tested with a few message and it worked so they shipped it.", "creation_time": "2019-10-13T19:40:21Z", "text": "(In reply to David Tenser [:djst] from comment #0)\n> In my mozilla.com IMAP folders, I have one folder with (sometimes) over\n> 15000 email messages. (These are nagios error emails that I rarely look at.)\n> \n> When selecting all of those messages and hitting Delete, the UI completely\n> hangs for over a minute. This doesn't seem like the ideal way of handling\n> this. Maybe put the actual work in a separate worker thread and show a\n> progress bar instead?\n\nNot trying to make excuses but a possible workaround for this might be to set tb to either \"just mark as deleted\" or \"delete immediately\" and then just delete the folder containing the 15k emails, then re-create the folder. (Of course, if there are emails in the folder you want to keep then this won't work.)  Depending on the uid distribution of the emails, this may reduce the server load since only a simple imap delete of the folder/mailbox will occur.\n\n(In reply to php4fan from comment #15)\n> \n> Additionally: This blocks both when you hit shift+Delete (let alone when you select all the messages, because of the stupid message summary in the message panel; that's tracked in another bug; I have already disabled the message panel), \n\nI'm working on another problem about copying large number of messages between imap server (bug 538375). I have a folder with 17k message and if I try to select them all (ctrl-a) it takes a looong time and there is no feedback that something is going on and, of course, the UI is blocked. I haven't tried disabling the message panel to see if that speeds it up.\n\n>and then again when the prompt for confirmation of permanent deletion (without moving to trash) shows up and you click \"Delete\": the button doesn't even animate as if you hadn't pressed it.\n\nNot sure what you mean by \"animate\" here?\n\n\n>At least in the first case, there's no reason to do any heavy work (blocking or not) at all: between the time I hit shift+delete and the time a confirmation dialog shows up, there's nothing to be done. The moment I hit shift+delete, you don't even need to count how many messages I'm going to delete, let alone process them in any way, in order to show the confirmation prompt. Whatever it is that is taking that long, should be done after the confirmation.\n\nI'll try this since not sure what you mean.\n\n> \n> NOTE: I guess there's something wrong that makes the deletion of thousands of messages slow and that it shouldn't take this long in the first place; BUT even if you fix that part and speed this up, no matter how many orders of magnitude (well, unless you can make the deletion of millions of messages take just a few milliseconds), do NOT consider this fixed. This will be completely fixed when the deletion, even if takes just a few seconds, doesn't block the UI.\n\nChanging the architecture so the UI is never blocked is probably hard (maybe for just me) due the mixture of c++ and .js style code. I'm sure when it was originally designed (15+ years ago) and coded, they only tested with a few message and it worked so they shipped it.", "attachment_id": null, "time": "2019-10-13T19:40:21Z", "count": 16, "is_private": false, "tags": [], "id": 14420654, "bug_id": 693659}, {"creator": "php4fan@gmail.com", "author": "php4fan@gmail.com", "count": 17, "is_private": false, "tags": [], "id": 14420676, "bug_id": 693659, "raw_text": "> I haven't tried disabling the message panel to see if that speeds it up.\n\nI'm pretty sure it will. Before I did that, it would block three times: when I selected the messages, when I hit delete or shift+Delete, and then when clicking on the confirmation button. The blocking when selecting messages, I think, is due to the generation of the \"summary\" in the message panel, I remember a separate ages-old bug about that.\n\n> Not sure what you mean by \"animate\" here?\n\nI mean the visual feedback you usually get when you click a button: where you see the button go \"down\" (i.e. into the screen) as if pressed, and then come \"up\" as if released. The UI apparently blocks as soon as you press the mouse button (actually I haven't tried pressing it and waiting before I release it) even before there's time to show the visual feedback of the button being pressed. That's an additional glitch on top of the main bug.\n\n> I'll try this since not sure what you mean\n\nLet me rephrase slightly (I'll copy my own words and edit), let me know if it's clearer:\n\n> At least in the first instance (i.e. when you hit shift+Delete), there's no reason to do any heavy work at all: after I hit shift+delete and before a confirmation dialog shows up, TB should't need to count how many messages I'm going to delete, or process them in any way, in order to show the confirmation prompt. If I hit shift+Delete with N messages selected, showing the confirmation prompt should require O(1), not O(N). Only when I finally click on the confirmation button do I expect it to initiate an operation that will take O(N).", "creation_time": "2019-10-13T20:35:50Z", "text": "> I haven't tried disabling the message panel to see if that speeds it up.\n\nI'm pretty sure it will. Before I did that, it would block three times: when I selected the messages, when I hit delete or shift+Delete, and then when clicking on the confirmation button. The blocking when selecting messages, I think, is due to the generation of the \"summary\" in the message panel, I remember a separate ages-old bug about that.\n\n> Not sure what you mean by \"animate\" here?\n\nI mean the visual feedback you usually get when you click a button: where you see the button go \"down\" (i.e. into the screen) as if pressed, and then come \"up\" as if released. The UI apparently blocks as soon as you press the mouse button (actually I haven't tried pressing it and waiting before I release it) even before there's time to show the visual feedback of the button being pressed. That's an additional glitch on top of the main bug.\n\n> I'll try this since not sure what you mean\n\nLet me rephrase slightly (I'll copy my own words and edit), let me know if it's clearer:\n\n> At least in the first instance (i.e. when you hit shift+Delete), there's no reason to do any heavy work at all: after I hit shift+delete and before a confirmation dialog shows up, TB should't need to count how many messages I'm going to delete, or process them in any way, in order to show the confirmation prompt. If I hit shift+Delete with N messages selected, showing the confirmation prompt should require O(1), not O(N). Only when I finally click on the confirmation button do I expect it to initiate an operation that will take O(N).", "time": "2019-10-13T20:35:50Z", "attachment_id": null}, {"time": "2019-10-13T22:16:53Z", "attachment_id": null, "author": "gds@chartertn.net", "creator": "gds@chartertn.net", "text": "Ok, I see what you are saying now. I didn't see the lack of \"animation\" on the delete key because with only a few messages it goes away so fast, I guess. I will try it later with a bigger group.\n\nI never use the \"delete\" key when deleting emails since I just use the delete button. Also, I never use the shift-delete either. But when I did the shift delete-key it did work, but when I did a shift-delete-button it seems to ignore the shift key and deletes to trash. Not sure if that's how it should work or not.\n\nAlso, when you shift-delete-key tb really just marks the imap message with \\deleted flag. So unless you have the non-default hidden pref \"expunge on delete\" set or are using an imap server that expunges on delete (like gmail), the messages are not really deleted from the mailbox until the folder is compacted. You can still get them back by setting tb to \"just marked as deleted\" and then undelete the messages that are crossed out. (Maybe undo will bring them back too, not sure.)\n\nI'll have to check what happens when you hit shift-delete-key with N messages selected. It seems quite fast with just 3 or 4 like I just tried. I will try this with 17k later. \nI also notice that it takes a long time if you ctrl-a select 17k messages when you want to copy them to another folder, then it takes the same amount of time again after you right-click to see to context menu to select where to copy to. During these waits there is no feedback or any confirmation that tb is working hard in the background. I think you might be able to click on other folders to terminate the activity if you get tired of waiting, but not sure. Also, if you are not sure you really did ctrl-a or right-click, if you do it again it may just start the process over again.", "raw_text": "Ok, I see what you are saying now. I didn't see the lack of \"animation\" on the delete key because with only a few messages it goes away so fast, I guess. I will try it later with a bigger group.\n\nI never use the \"delete\" key when deleting emails since I just use the delete button. Also, I never use the shift-delete either. But when I did the shift delete-key it did work, but when I did a shift-delete-button it seems to ignore the shift key and deletes to trash. Not sure if that's how it should work or not.\n\nAlso, when you shift-delete-key tb really just marks the imap message with \\deleted flag. So unless you have the non-default hidden pref \"expunge on delete\" set or are using an imap server that expunges on delete (like gmail), the messages are not really deleted from the mailbox until the folder is compacted. You can still get them back by setting tb to \"just marked as deleted\" and then undelete the messages that are crossed out. (Maybe undo will bring them back too, not sure.)\n\nI'll have to check what happens when you hit shift-delete-key with N messages selected. It seems quite fast with just 3 or 4 like I just tried. I will try this with 17k later. \nI also notice that it takes a long time if you ctrl-a select 17k messages when you want to copy them to another folder, then it takes the same amount of time again after you right-click to see to context menu to select where to copy to. During these waits there is no feedback or any confirmation that tb is working hard in the background. I think you might be able to click on other folders to terminate the activity if you get tired of waiting, but not sure. Also, if you are not sure you really did ctrl-a or right-click, if you do it again it may just start the process over again.", "creation_time": "2019-10-13T22:16:53Z", "bug_id": 693659, "id": 14420718, "is_private": false, "count": 18, "tags": ["important"]}, {"id": 14423151, "count": 19, "is_private": false, "tags": [], "bug_id": 693659, "raw_text": "> Also, when you shift-delete-key tb really just marks the imap message with \\deleted flag\n\nI forgot to mention, I don't use imap, only pop3. So it's all local.\nAgain, I don't know whether or not the long time it takes to physically delete the messages is more than expected (it seems kind of excessive, but given the intrinsic efficiency of the historic file format, it just might be the best that can be done, I honestly don't know), what I know is that (a) the blocking of the main thread for all the time it takes to do the deletion is a bug, and (b) the wait (even if it were non-blocking) between hitting shift+delete and showing a confirmation prompt is also unjustified.\n\nI never tried shift+delete_button, I wouldn't have expected it to work as shift+delete_key, that would be a nice feature.", "creation_time": "2019-10-14T12:57:17Z", "attachment_id": null, "time": "2019-10-14T12:57:17Z", "text": "> Also, when you shift-delete-key tb really just marks the imap message with \\deleted flag\n\nI forgot to mention, I don't use imap, only pop3. So it's all local.\nAgain, I don't know whether or not the long time it takes to physically delete the messages is more than expected (it seems kind of excessive, but given the intrinsic efficiency of the historic file format, it just might be the best that can be done, I honestly don't know), what I know is that (a) the blocking of the main thread for all the time it takes to do the deletion is a bug, and (b) the wait (even if it were non-blocking) between hitting shift+delete and showing a confirmation prompt is also unjustified.\n\nI never tried shift+delete_button, I wouldn't have expected it to work as shift+delete_key, that would be a nice feature.", "author": "php4fan@gmail.com", "creator": "php4fan@gmail.com"}, {"text": "(In reply to gene smith from comment #18)\n> ...\n> I'll have to check what happens when you hit shift-delete-key with N messages selected. It seems quite fast with just 3 or 4 like I just tried. I will try this with 17k later. \n> I also notice that it takes a long time if you ctrl-a select 17k messages when you want to copy them to another folder, then it takes the same amount of time again after you right-click to see to context menu to select where to copy to. During these waits there is no feedback or any confirmation that tb is working hard in the background. I think you might be able to click on other folders to terminate the activity if you get tired of waiting, but not sure. Also, if you are not sure you really did ctrl-a or right-click, if you do it again it may just start the process over again.\n\nGene, Did you find anything interesting?", "attachment_id": null, "time": "2020-08-07T14:30:03Z", "creation_time": "2020-08-07T14:30:03Z", "raw_text": "(In reply to gene smith from comment #18)\n> ...\n> I'll have to check what happens when you hit shift-delete-key with N messages selected. It seems quite fast with just 3 or 4 like I just tried. I will try this with 17k later. \n> I also notice that it takes a long time if you ctrl-a select 17k messages when you want to copy them to another folder, then it takes the same amount of time again after you right-click to see to context menu to select where to copy to. During these waits there is no feedback or any confirmation that tb is working hard in the background. I think you might be able to click on other folders to terminate the activity if you get tired of waiting, but not sure. Also, if you are not sure you really did ctrl-a or right-click, if you do it again it may just start the process over again.\n\nGene, Did you find anything interesting?", "bug_id": 693659, "tags": [], "is_private": false, "count": 20, "id": 14977942, "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu"}, {"creation_time": "2020-08-08T16:45:55Z", "raw_text": "(In reply to Wayne Mery (:wsmwk) from comment #20)\n> \n> Gene, Did you find anything interesting?\n\nI need to get back to behavior of activities with many messages, but I haven't seen anything new since I last posted to this bug.", "time": "2020-08-08T16:45:55Z", "attachment_id": null, "author": "gds@chartertn.net", "text": "(In reply to Wayne Mery (:wsmwk) from comment #20)\n> \n> Gene, Did you find anything interesting?\n\nI need to get back to behavior of activities with many messages, but I haven't seen anything new since I last posted to this bug.", "creator": "gds@chartertn.net", "id": 14979629, "is_private": false, "count": 21, "tags": [], "bug_id": 693659}, {"id": 14979634, "is_private": false, "count": 22, "tags": [], "bug_id": 693659, "creation_time": "2020-08-08T17:08:02Z", "raw_text": "When you will resolve this bug, you should probably consider real case emails, but not dummy emails. Usually, such large amounts of emails in single folder may appear in result of subscription to some blogs and news resources that generate tens/hundreds of emails per day, but only random 1-10% of these emails are worth to be read, after checking subjects. (At least in my case.)\n\nSo, what do we have?\na) these emails may contain HTML with large articles (several A4 pages of texts) and with abstracts of articles;\nb) 90-99% of emails have status \"not read\".\n\nNot sure that it will affect something, it is just a real test case.", "time": "2020-08-08T17:08:02Z", "attachment_id": null, "text": "When you will resolve this bug, you should probably consider real case emails, but not dummy emails. Usually, such large amounts of emails in single folder may appear in result of subscription to some blogs and news resources that generate tens/hundreds of emails per day, but only random 1-10% of these emails are worth to be read, after checking subjects. (At least in my case.)\n\nSo, what do we have?\na) these emails may contain HTML with large articles (several A4 pages of texts) and with abstracts of articles;\nb) 90-99% of emails have status \"not read\".\n\nNot sure that it will affect something, it is just a real test case.", "author": "mailbox@kamil-rafik.com", "creator": "mailbox@kamil-rafik.com"}, {"id": 15219140, "is_private": false, "count": 23, "tags": [], "bug_id": 693659, "creation_time": "2021-01-16T17:41:05Z", "raw_text": "", "attachment_id": null, "time": "2021-01-16T17:41:05Z", "text": "*** Bug 1687115 has been marked as a duplicate of this bug. ***", "author": "vseerror@lehigh.edu", "creator": "vseerror@lehigh.edu"}]}}}