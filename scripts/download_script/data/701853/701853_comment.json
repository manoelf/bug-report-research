{"comments": {}, "bugs": {"701853": {"comments": [{"count": 0, "text": "Etherpad is very admin maintenance heavy.\n\nEvery team has a team site. A team site can have multiple pads.\n\nAn existing user on team site A cannot use a \"team site B\"'s pads. They must first be added by the admin of team site b.\n\nWe should add a new config feature which is a domain whitelist. If the user's email is hosted by one of these domains, they will automatically have an account created on team site B.\n\nConfiguration should be on a team site basis, not across the whole app.\n\nExamples:\nSomeone creates a team site 'All'. This is suitable for anyone in Mozilla to edit and view. This pad is given some config for 'mozilla.com', 'mozilla.org', 'mozilla.co.uk', etc. Etherpad is restarted.\n\nInfrasec wants to control their team site. They don't add a whitelist. Users still have to ask the 'Infrasec team site' admin to add them.", "author": "ozten.bugs@gmail.com", "creator": "ozten.bugs@gmail.com", "is_private": false, "creation_time": "2011-11-11T21:49:50Z", "id": 5843676, "bug_id": 701853, "raw_text": "Etherpad is very admin maintenance heavy.\n\nEvery team has a team site. A team site can have multiple pads.\n\nAn existing user on team site A cannot use a \"team site B\"'s pads. They must first be added by the admin of team site b.\n\nWe should add a new config feature which is a domain whitelist. If the user's email is hosted by one of these domains, they will automatically have an account created on team site B.\n\nConfiguration should be on a team site basis, not across the whole app.\n\nExamples:\nSomeone creates a team site 'All'. This is suitable for anyone in Mozilla to edit and view. This pad is given some config for 'mozilla.com', 'mozilla.org', 'mozilla.co.uk', etc. Etherpad is restarted.\n\nInfrasec wants to control their team site. They don't add a whitelist. Users still have to ask the 'Infrasec team site' admin to add them.", "attachment_id": null, "time": "2011-11-11T21:49:50Z", "tags": []}, {"tags": [], "attachment_id": null, "raw_text": "I think per-site is too complicated. I would do this across the app.", "time": "2011-11-11T21:51:07Z", "creation_time": "2011-11-11T21:51:07Z", "is_private": false, "bug_id": 701853, "id": 5843681, "author": "ozten.bugs@gmail.com", "count": 1, "text": "I think per-site is too complicated. I would do this across the app.", "creator": "ozten.bugs@gmail.com"}, {"time": "2011-11-15T19:06:58Z", "raw_text": "Hi Jake. After a bunch of noodling, I think this will work best:\n\n# List of email domains which are eligable for auto-account creation\naccount.autoCreate.email.hostnames = mozilla.com, mozilla.org, mozilla.co.uk,, mozillafoundation.org, mozilla-japan.org\n\n# List of team pads which do not want auto account creation support\naccount.autoCreate.disable.teamPads = security, cabal\n\nThis config goes in etc/etherpad.local.properties and changes would require an etherpad restart.\n\nThis is a good balance between your time, user expectation, how many domains and subdomains will end up in the config file.\n\nLet me know if this won't work or have feedback.", "count": 2, "text": "Hi Jake. After a bunch of noodling, I think this will work best:\n\n# List of email domains which are eligable for auto-account creation\naccount.autoCreate.email.hostnames = mozilla.com, mozilla.org, mozilla.co.uk,, mozillafoundation.org, mozilla-japan.org\n\n# List of team pads which do not want auto account creation support\naccount.autoCreate.disable.teamPads = security, cabal\n\nThis config goes in etc/etherpad.local.properties and changes would require an etherpad restart.\n\nThis is a good balance between your time, user expectation, how many domains and subdomains will end up in the config file.\n\nLet me know if this won't work or have feedback.", "author": "ozten.bugs@gmail.com", "bug_id": 701853, "id": 5849979, "attachment_id": null, "tags": [], "creator": "ozten.bugs@gmail.com", "is_private": false, "creation_time": "2011-11-15T19:06:58Z"}, {"time": "2011-11-17T03:56:22Z", "raw_text": "I'm mostly okay with this, I think... we should probably make an effort to ask pad owners beforehand whether they want this or not, though.\n\nOne concern that comes to mind is what happens on employee termination (or other loss of an account). BrowserID won't necessarily know the email address is no longer valid, will it? This would mean ex-employees could auto-add themselves to team sites, provided they've already validated that email address... right? I know this is a bit bigger problem in general.\n\nI'm not particularly thrilled with the idea of auto-whitelisting whole domains. BrowserID is authentication... this change is authorization. It's not necessarily bad, but just makes me worried.\n\nIf we do this, I think we need to make sure the interface is very explicit about what domains are automatically approved, so that teams aren't surprised by the behavior. Otherwise this will appear to be \"magic\", and people (especially new people) will be constantly surprised by how and when it works or doesn't work. I would never have thought to add those other domains, for instance.", "bug_id": 701853, "id": 5854479, "author": "nmaul@mozilla.com", "count": 3, "text": "I'm mostly okay with this, I think... we should probably make an effort to ask pad owners beforehand whether they want this or not, though.\n\nOne concern that comes to mind is what happens on employee termination (or other loss of an account). BrowserID won't necessarily know the email address is no longer valid, will it? This would mean ex-employees could auto-add themselves to team sites, provided they've already validated that email address... right? I know this is a bit bigger problem in general.\n\nI'm not particularly thrilled with the idea of auto-whitelisting whole domains. BrowserID is authentication... this change is authorization. It's not necessarily bad, but just makes me worried.\n\nIf we do this, I think we need to make sure the interface is very explicit about what domains are automatically approved, so that teams aren't surprised by the behavior. Otherwise this will appear to be \"magic\", and people (especially new people) will be constantly surprised by how and when it works or doesn't work. I would never have thought to add those other domains, for instance.", "tags": [], "attachment_id": null, "creation_time": "2011-11-17T03:56:22Z", "is_private": false, "creator": "nmaul@mozilla.com"}]}}}