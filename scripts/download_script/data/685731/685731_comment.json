{"comments": {}, "bugs": {"685731": {"comments": [{"time": "2011-09-08T23:29:35Z", "attachment_id": null, "raw_text": "When Firefox has an update, we're pretty intrusive about making sure users update, by notifying over and over.\n\nUnfortunately, if there is a session storage bug or if the user is in private browsing or has the browser set to delete history on close, we may actually end up losing all of a user's tabs and open form history (sometimes irrecoverably).\n\nIf possible, we should figure out what's causing this dataloss and fix it but minimally, we should detect if we're not likely able to save their session and warn accordingly or take extra steps to try to recover.", "tags": [], "creator": "cww@mozilla.com", "author": "cww@mozilla.com", "count": 0, "text": "When Firefox has an update, we're pretty intrusive about making sure users update, by notifying over and over.\n\nUnfortunately, if there is a session storage bug or if the user is in private browsing or has the browser set to delete history on close, we may actually end up losing all of a user's tabs and open form history (sometimes irrecoverably).\n\nIf possible, we should figure out what's causing this dataloss and fix it but minimally, we should detect if we're not likely able to save their session and warn accordingly or take extra steps to try to recover.", "id": 5709509, "bug_id": 685731, "is_private": false, "creation_time": "2011-09-08T23:29:35Z"}, {"count": 1, "text": "Are these reports only affecting Firefox 6 on Mac?", "author": "u279076@disabled.tld", "id": 5709520, "bug_id": 685731, "raw_text": "Are these reports only affecting Firefox 6 on Mac?", "time": "2011-09-08T23:35:35Z", "creator": "u279076@disabled.tld", "is_private": false, "creation_time": "2011-09-08T23:35:35Z", "attachment_id": null, "tags": []}, {"tags": [], "raw_text": "Verified:\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0) Gecko/20100101 Firefox/7.0\n\nUpdated from Fx6b5 and Fx6.0.2 to Fx7b5. All the tabs were restored fine under several different conditions: in normal mode - remember history, in normal mode - delete history on close, in private browsing, immediately after another restore, manual upgrade, automatical upgrade.\n\nThe only issue that did reproduce was:\n 1. Launch Fx 6b5.\n 2. Set Fx to clear history when it closes.\n 3. Open a shopping web page.\n 4. Add some item to the cart.\n 5. Open Help->About to automatically upgrade Fx.\nAfter the upgrade, the page was restored, but the items from the shopping cart were no longer there.", "attachment_id": null, "time": "2011-09-09T15:22:23Z", "is_private": false, "creation_time": "2011-09-09T15:22:23Z", "id": 5710678, "bug_id": 685731, "count": 2, "text": "Verified:\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0) Gecko/20100101 Firefox/7.0\n\nUpdated from Fx6b5 and Fx6.0.2 to Fx7b5. All the tabs were restored fine under several different conditions: in normal mode - remember history, in normal mode - delete history on close, in private browsing, immediately after another restore, manual upgrade, automatical upgrade.\n\nThe only issue that did reproduce was:\n 1. Launch Fx 6b5.\n 2. Set Fx to clear history when it closes.\n 3. Open a shopping web page.\n 4. Add some item to the cart.\n 5. Open Help->About to automatically upgrade Fx.\nAfter the upgrade, the page was restored, but the items from the shopping cart were no longer there.", "author": "ioana_damy@yahoo.com", "creator": "ioana_damy@yahoo.com"}, {"tags": [], "raw_text": "(In reply to Ioana Budnar [QA] from comment #2)\n> After the upgrade, the page was restored, but the items from the shopping\n> cart were no longer there.\n\nThis could very well be related to the web page itself. If your shopping cart contents are stored via cookie I would assume this to restore. However, some sites (especially ajax/flash sites) may not work 100%. Though it begs further investigation. What site were you using to test shopping cart retention?", "attachment_id": null, "time": "2011-09-09T15:52:18Z", "creation_time": "2011-09-09T15:52:18Z", "is_private": false, "id": 5710733, "bug_id": 685731, "text": "(In reply to Ioana Budnar [QA] from comment #2)\n> After the upgrade, the page was restored, but the items from the shopping\n> cart were no longer there.\n\nThis could very well be related to the web page itself. If your shopping cart contents are stored via cookie I would assume this to restore. However, some sites (especially ajax/flash sites) may not work 100%. Though it begs further investigation. What site were you using to test shopping cart retention?", "count": 3, "author": "u279076@disabled.tld", "creator": "u279076@disabled.tld"}, {"creator": "cww@mozilla.com", "creation_time": "2011-09-09T18:50:06Z", "is_private": false, "attachment_id": null, "tags": [], "author": "cww@mozilla.com", "text": "I just suck at remembering to change the platform info when I file bugs.  This probably affects everyone based on the underlying session restore bugs.  A couple specific things come to mind:\n\n1) We may want to warn users who are using private browsing before we do an update.\n\n2) Ditto if they have Firefox set to delete settings on exit.\n\n3) Fix underlying session restore bugs or make updates do something completely special which gets around potential issues with writing to sessionstore.js", "count": 4, "id": 5711244, "bug_id": 685731, "time": "2011-09-09T18:50:06Z", "raw_text": "I just suck at remembering to change the platform info when I file bugs.  This probably affects everyone based on the underlying session restore bugs.  A couple specific things come to mind:\n\n1) We may want to warn users who are using private browsing before we do an update.\n\n2) Ditto if they have Firefox set to delete settings on exit.\n\n3) Fix underlying session restore bugs or make updates do something completely special which gets around potential issues with writing to sessionstore.js"}, {"raw_text": "(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from comment #3)\n> ... What site were you using to test shopping cart retention?\n\nI used and amazon.com and emag.ro. The issue reproduced with both of them.", "time": "2011-09-12T06:20:23Z", "id": 5713804, "bug_id": 685731, "count": 5, "text": "(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from comment #3)\n> ... What site were you using to test shopping cart retention?\n\nI used and amazon.com and emag.ro. The issue reproduced with both of them.", "author": "ioana_damy@yahoo.com", "tags": [], "attachment_id": null, "creation_time": "2011-09-12T06:20:23Z", "is_private": false, "creator": "ioana_damy@yahoo.com"}, {"creator": "u279076@disabled.tld", "author": "u279076@disabled.tld", "text": "Question is, what shopping cart technologies (and back-end technologies) do these sites use? and do those technologies have APIs which give Session Store visibility into the data for saving.", "count": 6, "id": 5717262, "bug_id": 685731, "is_private": false, "creation_time": "2011-09-14T18:15:09Z", "time": "2011-09-14T18:15:09Z", "attachment_id": null, "raw_text": "Question is, what shopping cart technologies (and back-end technologies) do these sites use? and do those technologies have APIs which give Session Store visibility into the data for saving.", "tags": []}]}}}