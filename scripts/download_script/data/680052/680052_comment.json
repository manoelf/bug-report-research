{"comments": {}, "bugs": {"680052": {"comments": [{"creator": "ozan@pardus.org.tr", "is_private": false, "count": 0, "author": "ozan@pardus.org.tr", "creation_time": "2011-08-18T11:58:11Z", "time": "2011-08-18T11:58:11Z", "tags": [], "bug_id": 680052, "text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110711153838\n\nSteps to reproduce:\n\nIn the preferences window, the spellchecking dictionary is not automatically selected according to the UI locale. Actually, the langpacks contains all-l10n.js files which sets spellchecker.dictionary property. But those files are not processed at all unless installed in defaults/preferences instead of defaults/pref.", "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110711153838\n\nSteps to reproduce:\n\nIn the preferences window, the spellchecking dictionary is not automatically selected according to the UI locale. Actually, the langpacks contains all-l10n.js files which sets spellchecker.dictionary property. But those files are not processed at all unless installed in defaults/preferences instead of defaults/pref.", "id": 5662136}, {"id": 5662137, "raw_text": "", "attachment_id": 554035, "bug_id": 680052, "time": "2011-08-18T11:59:29Z", "tags": [], "text": "Created attachment 554035\nInstall .js into preferences/ not pref/", "author": "ozan@pardus.org.tr", "creation_time": "2011-08-18T11:59:29Z", "count": 1, "creator": "ozan@pardus.org.tr", "is_private": false}, {"creator": "ozan@pardus.org.tr", "is_private": false, "count": 2, "author": "ozan@pardus.org.tr", "creation_time": "2011-08-18T12:01:05Z", "bug_id": 680052, "tags": [], "time": "2011-08-18T12:01:05Z", "text": "The patch at least enables thunderbird to process the all-l10n.js files from the extensions/langpack-$locale/ folders. But the language packs are active add-ons all the time so all the .js files are processed not only the current langpack's one leading to unexpected spellchecker dictionary selections.", "attachment_id": null, "raw_text": "The patch at least enables thunderbird to process the all-l10n.js files from the extensions/langpack-$locale/ folders. But the language packs are active add-ons all the time so all the .js files are processed not only the current langpack's one leading to unexpected spellchecker dictionary selections.", "id": 5662139}, {"count": 3, "bug_id": 680052, "creator": "ludovic@hirlimann.net", "is_private": false, "author": "ludovic@hirlimann.net", "creation_time": "2011-08-19T09:02:16Z", "tags": [], "time": "2011-08-19T09:02:16Z", "text": "Ozan can you try to find when this stopped working ?", "attachment_id": null, "raw_text": "Ozan can you try to find when this stopped working ?", "id": 5664863}, {"id": 5665024, "raw_text": "Actually I don't know any version that this was working. 3.x branch is faulty too. I'll now try with the new 6.0 but don't think that it's fixed there too.", "attachment_id": null, "tags": [], "time": "2011-08-19T10:48:51Z", "text": "Actually I don't know any version that this was working. 3.x branch is faulty too. I'll now try with the new 6.0 but don't think that it's fixed there too.", "author": "ozan@pardus.org.tr", "creation_time": "2011-08-19T10:48:51Z", "creator": "ozan@pardus.org.tr", "is_private": false, "bug_id": 680052, "count": 4}, {"bug_id": 680052, "count": 5, "text": "Ok, so this appears to be a problem just with language packs, the main repacks of Thunderbird are fine.\n\nThe issue with the patch is that it will break the repacks of the Thunderbird application because all-l10n.js needs to go into the defaults/pref directory there.", "tags": [], "time": "2011-09-09T08:52:37Z", "creation_time": "2011-09-09T08:52:37Z", "author": "standard8@mozilla.com", "is_private": false, "creator": "standard8@mozilla.com", "id": 5710130, "raw_text": "Ok, so this appears to be a problem just with language packs, the main repacks of Thunderbird are fine.\n\nThe issue with the patch is that it will break the repacks of the Thunderbird application because all-l10n.js needs to go into the defaults/pref directory there.", "attachment_id": null}, {"attachment_id": null, "raw_text": "Language packs need to be set up such that you can install an arbitrary amount of them, as any add-on. Thus, neither the general.useragent.locale nor the spellchecker.dictionary pref belong into language packs.\n\nI guess that doing a default value for the selected dictionary based on bcp47 matching goodness would be much more helpful?", "id": 5710151, "is_private": false, "creator": "l10n@mozilla.com", "count": 6, "creation_time": "2011-09-09T09:09:15Z", "author": "l10n@mozilla.com", "text": "Language packs need to be set up such that you can install an arbitrary amount of them, as any add-on. Thus, neither the general.useragent.locale nor the spellchecker.dictionary pref belong into language packs.\n\nI guess that doing a default value for the selected dictionary based on bcp47 matching goodness would be much more helpful?", "tags": [], "bug_id": 680052, "time": "2011-09-09T09:09:15Z"}, {"text": "ozan, are you able to imporve the patch?\n\n(In reply to Axel Hecht [:Pike] from comment #6)\n> Language packs need to be set up such that you can install an arbitrary\n> amount of them, as any add-on. Thus, neither the general.useragent.locale\n> nor the spellchecker.dictionary pref belong into language packs.\n> \n> I guess that doing a default value for the selected dictionary based on\n> bcp47 matching goodness would be much more helpful?", "tags": [], "bug_id": 680052, "time": "2014-08-29T11:10:32Z", "creation_time": "2014-08-29T11:10:32Z", "author": "vseerror@lehigh.edu", "count": 7, "is_private": false, "creator": "vseerror@lehigh.edu", "id": 9246869, "raw_text": "ozan, are you able to imporve the patch?\n\n(In reply to Axel Hecht [:Pike] from comment #6)\n> Language packs need to be set up such that you can install an arbitrary\n> amount of them, as any add-on. Thus, neither the general.useragent.locale\n> nor the spellchecker.dictionary pref belong into language packs.\n> \n> I guess that doing a default value for the selected dictionary based on\n> bcp47 matching goodness would be much more helpful?", "attachment_id": null}, {"author": "vseerror@lehigh.edu", "creation_time": "2021-03-17T14:57:01Z", "time": "2021-03-17T14:57:01Z", "tags": [], "bug_id": 680052, "text": "Is this obsolete?", "creator": "vseerror@lehigh.edu", "is_private": false, "count": 8, "id": 15315389, "attachment_id": null, "raw_text": "Is this obsolete?"}, {"author": "justdave@bugzilla.org", "creation_time": "2021-03-27T03:20:30Z", "time": "2021-03-27T03:20:30Z", "tags": [], "bug_id": 680052, "text": "I don't know the first thing about the innards of langpack addons, everything I've done with them has been server-side stuff on ATN and build scripts relating to uploading the final build products, so I probably won't be of any assistance here.", "creator": "justdave@bugzilla.org", "is_private": false, "count": 9, "id": 15331548, "attachment_id": null, "raw_text": "I don't know the first thing about the innards of langpack addons, everything I've done with them has been server-side stuff on ATN and build scripts relating to uploading the final build products, so I probably won't be of any assistance here."}]}}}