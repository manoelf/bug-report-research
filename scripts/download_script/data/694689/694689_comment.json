{"comments": {}, "bugs": {"694689": {"comments": [{"attachment_id": 567208, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0a1) Gecko/20111014 Firefox/10.0a1\nBuild ID: 20111014030948\n\nSteps to reproduce:\n\n1. Open up the example.html attachment\n2. Click create once - this will create ten div's with and iframe in each(with google.com)\n3. Click destroy - this will remove the iframes from the div's and the divs from the page\n\n\nActual results:\n\nThe compartment for google.com still exists after all iframes were deleted, and after pressing \"minimize memory usage\" multiple times.\n\nThis also happens with no add-ons enabled.\n\n\nExpected results:\n\nThe compartment of the iframe should be removed when the iframe is removed.\n\nhere is the compartment:\n\u2502  \u251c\u2500\u2500\u25003,199,632 B (04.52%) -- compartment(http://www.google.com/)\n\u2502  \u2502   \u251c\u2500\u25001,925,120 B (02.72%) -- gc-heap\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500974,768 B (01.38%) -- arena-unused\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500427,800 B (00.60%) -- objects\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500257,856 B (00.36%) -- scripts\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500245,640 B (00.35%) -- shapes\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u25007,520 B (00.01%) -- arena-headers\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u25005,440 B (00.01%) -- arena-padding\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u25004,560 B (00.01%) -- strings\n\u2502  \u2502   \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u25001,536 B (00.00%) -- type-objects\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500430,712 B (00.61%) -- script-data\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500412,704 B (00.58%) -- property-tables\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500327,680 B (00.46%) -- mjit-code\n\u2502  \u2502   \u2502    \u251c\u2500\u2500324,300 B (00.46%) -- regexp\n\u2502  \u2502   \u2502    \u251c\u2500\u2500\u2500\u25003,300 B (00.00%) -- unused\n\u2502  \u2502   \u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u250080 B (00.00%) -- method\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500\u250055,544 B (00.08%) -- object-slots\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500\u250031,072 B (00.04%) -- shape-kids\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500\u250010,816 B (00.02%) -- type-inference\n\u2502  \u2502   \u2502     \u251c\u2500\u2500\u25009,280 B (00.01%) -- script-main\n\u2502  \u2502   \u2502     \u2514\u2500\u2500\u25001,536 B (00.00%) -- object-main\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500\u2500\u25004,016 B (00.01%) -- string-chars\n\u2502  \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u25001,968 B (00.00%) -- object-empty-shapes", "time": "2011-10-14T23:05:58Z", "tags": [], "author": "shedokan1@gmail.com", "text": "Created attachment 567208\nexample.html\n\nUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0a1) Gecko/20111014 Firefox/10.0a1\nBuild ID: 20111014030948\n\nSteps to reproduce:\n\n1. Open up the example.html attachment\n2. Click create once - this will create ten div's with and iframe in each(with google.com)\n3. Click destroy - this will remove the iframes from the div's and the divs from the page\n\n\nActual results:\n\nThe compartment for google.com still exists after all iframes were deleted, and after pressing \"minimize memory usage\" multiple times.\n\nThis also happens with no add-ons enabled.\n\n\nExpected results:\n\nThe compartment of the iframe should be removed when the iframe is removed.\n\nhere is the compartment:\n\u2502  \u251c\u2500\u2500\u25003,199,632 B (04.52%) -- compartment(http://www.google.com/)\n\u2502  \u2502   \u251c\u2500\u25001,925,120 B (02.72%) -- gc-heap\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500974,768 B (01.38%) -- arena-unused\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500427,800 B (00.60%) -- objects\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500257,856 B (00.36%) -- scripts\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500245,640 B (00.35%) -- shapes\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u25007,520 B (00.01%) -- arena-headers\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u25005,440 B (00.01%) -- arena-padding\n\u2502  \u2502   \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u25004,560 B (00.01%) -- strings\n\u2502  \u2502   \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u25001,536 B (00.00%) -- type-objects\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500430,712 B (00.61%) -- script-data\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500412,704 B (00.58%) -- property-tables\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500327,680 B (00.46%) -- mjit-code\n\u2502  \u2502   \u2502    \u251c\u2500\u2500324,300 B (00.46%) -- regexp\n\u2502  \u2502   \u2502    \u251c\u2500\u2500\u2500\u25003,300 B (00.00%) -- unused\n\u2502  \u2502   \u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u250080 B (00.00%) -- method\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500\u250055,544 B (00.08%) -- object-slots\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500\u250031,072 B (00.04%) -- shape-kids\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500\u250010,816 B (00.02%) -- type-inference\n\u2502  \u2502   \u2502     \u251c\u2500\u2500\u25009,280 B (00.01%) -- script-main\n\u2502  \u2502   \u2502     \u2514\u2500\u2500\u25001,536 B (00.00%) -- object-main\n\u2502  \u2502   \u251c\u2500\u2500\u2500\u2500\u2500\u25004,016 B (00.01%) -- string-chars\n\u2502  \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u25001,968 B (00.00%) -- object-empty-shapes", "count": 0, "creator": "shedokan1@gmail.com", "creation_time": "2011-10-14T23:05:58Z", "is_private": false, "id": 5783962, "bug_id": 694689}, {"time": "2011-10-15T04:49:16Z", "attachment_id": null, "raw_text": "Wow, that's pretty bad.  I can reproduce on trunk.", "tags": [], "creator": "justin.lebar+bug@gmail.com", "author": "justin.lebar+bug@gmail.com", "count": 1, "text": "Wow, that's pretty bad.  I can reproduce on trunk.", "bug_id": 694689, "id": 5784301, "is_private": false, "creation_time": "2011-10-15T04:49:16Z"}, {"author": "emorley@mozilla.com", "text": "Likewise on: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0a1) Gecko/20111014 Firefox/10.0a1", "count": 2, "creator": "emorley@mozilla.com", "is_private": false, "creation_time": "2011-10-15T09:36:02Z", "bug_id": 694689, "id": 5784409, "attachment_id": null, "raw_text": "Likewise on: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0a1) Gecko/20111014 Firefox/10.0a1", "time": "2011-10-15T09:36:02Z", "tags": []}, {"raw_text": "Justin, do you want this one?  If not, I'll take it.", "attachment_id": null, "time": "2011-10-15T13:41:54Z", "tags": [], "text": "Justin, do you want this one?  If not, I'll take it.", "count": 3, "author": "khuey@kylehuey.com", "creator": "khuey@kylehuey.com", "is_private": false, "creation_time": "2011-10-15T13:41:54Z", "id": 5784568, "bug_id": 694689}, {"time": "2011-10-15T15:44:50Z", "attachment_id": null, "raw_text": "Ah, the compartment does go away when the tab is closed.  So this isn't as bad as I thought.\n\nBe my guest, Kyle.  :)", "tags": [], "creator": "justin.lebar+bug@gmail.com", "author": "justin.lebar+bug@gmail.com", "count": 4, "text": "Ah, the compartment does go away when the tab is closed.  So this isn't as bad as I thought.\n\nBe my guest, Kyle.  :)", "bug_id": 694689, "id": 5784622, "creation_time": "2011-10-15T15:44:50Z", "is_private": false}, {"id": 5784657, "bug_id": 694689, "author": "bugs@pettay.fi", "text": "Seems like not all DOMWindows are deleted after clicking Destroy.", "count": 5, "raw_text": "Seems like not all DOMWindows are deleted after clicking Destroy.", "time": "2011-10-15T16:53:04Z", "creation_time": "2011-10-15T16:53:04Z", "is_private": false, "creator": "bugs@pettay.fi", "tags": [], "attachment_id": null}, {"is_private": false, "creation_time": "2011-10-16T14:23:56Z", "id": 5785187, "bug_id": 694689, "count": 6, "text": "(In reply to Justin Lebar [:jlebar] from comment #4)\n> Ah, the compartment does go away when the tab is closed.  So this isn't as\n> bad as I thought.\n> \n> Be my guest, Kyle.  :)\n\nThis is still pretty bad though.\n\nI'll look into this this week if nobody beats me to it.", "author": "khuey@kylehuey.com", "creator": "khuey@kylehuey.com", "tags": [], "raw_text": "(In reply to Justin Lebar [:jlebar] from comment #4)\n> Ah, the compartment does go away when the tab is closed.  So this isn't as\n> bad as I thought.\n> \n> Be my guest, Kyle.  :)\n\nThis is still pretty bad though.\n\nI'll look into this this week if nobody beats me to it.", "attachment_id": null, "time": "2011-10-16T14:23:56Z"}, {"author": "khuey@kylehuey.com", "text": "This is InstallTrigger related, so it's nowhere near as bad as we first thought.", "count": 7, "creator": "khuey@kylehuey.com", "creation_time": "2011-10-17T17:19:00Z", "is_private": false, "id": 5786673, "bug_id": 694689, "attachment_id": null, "raw_text": "This is InstallTrigger related, so it's nowhere near as bad as we first thought.", "time": "2011-10-17T17:19:00Z", "tags": []}, {"attachment_id": null, "tags": [], "creator": "johnny_dipin@yahoo.co.in", "creation_time": "2011-10-17T22:20:53Z", "is_private": false, "raw_text": "Hi, \n\nI just wanted to thank Eric for creating the bug and also just to let you know that this memory consumption can be seen in IE as well.", "time": "2011-10-17T22:20:53Z", "author": "johnny_dipin@yahoo.co.in", "text": "Hi, \n\nI just wanted to thank Eric for creating the bug and also just to let you know that this memory consumption can be seen in IE as well.", "count": 8, "bug_id": 694689, "id": 5787626}, {"author": "khuey@kylehuey.com", "count": 9, "text": "I'm going to go ahead and call this a P2 since it's probably a dupe of a P2 bug.\n\nAlso, thanks for the bug report Eric.  Having a testcase made this pretty easy to debug.", "id": 5788730, "bug_id": 694689, "time": "2011-10-18T11:46:32Z", "raw_text": "I'm going to go ahead and call this a P2 since it's probably a dupe of a P2 bug.\n\nAlso, thanks for the bug report Eric.  Having a testcase made this pretty easy to debug.", "creator": "khuey@kylehuey.com", "is_private": false, "creation_time": "2011-10-18T11:46:32Z", "attachment_id": null, "tags": []}, {"bug_id": 694689, "id": 5789037, "text": "The testcase doesn't work for me on trunk, I get a bunch of \"Security Error: Content at http://www.google.com/ may not load data from https://bug694689.bugzilla.mozilla.org/attachment.cgi?id=567208\" and the iframes are blank. Do I need to do something special to make it work?", "count": 10, "author": "peterv@propagandism.org", "raw_text": "The testcase doesn't work for me on trunk, I get a bunch of \"Security Error: Content at http://www.google.com/ may not load data from https://bug694689.bugzilla.mozilla.org/attachment.cgi?id=567208\" and the iframes are blank. Do I need to do something special to make it work?", "time": "2011-10-18T14:34:29Z", "creation_time": "2011-10-18T14:34:29Z", "is_private": false, "creator": "peterv@propagandism.org", "tags": [], "attachment_id": null}, {"tags": [], "attachment_id": 567759, "raw_text": "", "time": "2011-10-18T15:47:23Z", "creation_time": "2011-10-18T15:47:23Z", "is_private": false, "bug_id": 694689, "id": 5789205, "author": "shedokan1@gmail.com", "count": 11, "text": "Created attachment 567759\nExample - Version 2", "creator": "shedokan1@gmail.com"}, {"raw_text": "It appears google is either blocking us or using it in iframes :)", "attachment_id": null, "time": "2011-10-18T15:47:54Z", "tags": [], "text": "It appears google is either blocking us or using it in iframes :)", "count": 12, "author": "shedokan1@gmail.com", "creator": "shedokan1@gmail.com", "creation_time": "2011-10-18T15:47:54Z", "is_private": false, "bug_id": 694689, "id": 5789207}, {"tags": [], "raw_text": "The only actionable thing here is fixing InstallTrigger, which is happening in another bug.  Unassigning myself, and we can verify that the fix for InstallTrigger fixes this testcase when that lands.\n\nThanks again for the nice bug report.", "attachment_id": null, "time": "2011-11-10T15:39:33Z", "is_private": false, "creation_time": "2011-11-10T15:39:33Z", "id": 5840031, "bug_id": 694689, "count": 13, "text": "The only actionable thing here is fixing InstallTrigger, which is happening in another bug.  Unassigning myself, and we can verify that the fix for InstallTrigger fixes this testcase when that lands.\n\nThanks again for the nice bug report.", "author": "khuey@kylehuey.com", "creator": "khuey@kylehuey.com"}, {"creator": "shedokan1@gmail.com", "is_private": false, "creation_time": "2011-11-10T19:56:13Z", "attachment_id": null, "tags": [], "author": "shedokan1@gmail.com", "count": 14, "text": "You should thank johnny_dipin he told me about large memory usage when doing this in his app.", "bug_id": 694689, "id": 5840870, "time": "2011-11-10T19:56:13Z", "raw_text": "You should thank johnny_dipin he told me about large memory usage when doing this in his app."}, {"time": "2011-11-23T00:24:38Z", "raw_text": "Thank you Eric and thank you everyone", "id": 5867154, "bug_id": 694689, "author": "johnny_dipin@yahoo.co.in", "text": "Thank you Eric and thank you everyone", "count": 15, "tags": [], "attachment_id": null, "creation_time": "2011-11-23T00:24:38Z", "is_private": false, "creator": "johnny_dipin@yahoo.co.in"}, {"creator": "bug-husbandry-bot@mozilla.bugs", "author": "bug-husbandry-bot@mozilla.bugs", "count": 16, "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "id": 13435776, "bug_id": 694689, "creation_time": "2018-06-29T04:48:22Z", "is_private": false, "time": "2018-06-29T04:48:22Z", "attachment_id": null, "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "tags": []}]}}}