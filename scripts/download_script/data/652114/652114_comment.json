{"comments": {}, "bugs": {"652114": {"comments": [{"attachment_id": null, "is_private": false, "time": "2011-04-22T13:39:30Z", "author": "khuey@kylehuey.com", "raw_text": "test_mozfiledataurl.html triggers\n\n###!!! ASSERTION: Bad URI: 'StringBeginsWith(aUri, NS_LITERAL_CSTRING(FILEDATA_SCHEME \":\"))', file ../../../../content/base/src/nsFileDataProtocolHandler.cpp, line 115\nGetFileDataInfo [nsFileDataProtocolHandler.cpp:117]\nnsFileDataProtocolHandler::NewURI [nsFileDataProtocolHandler.cpp:392]\nnsIOService::NewURI [nsIOService.cpp:573]\nNS_NewURI [nsNetUtil.h:175]\nNS_NewURI [nsNetUtil.h:186]\nnsHtml5TreeOpExecutor::ConvertIfNotPreloadedYet [nsHtml5TreeOpExecutor.cpp:854]\nnsHtml5TreeOpExecutor::PreloadImage [nsHtml5TreeOpExecutor.cpp:896]\nnsHtml5SpeculativeLoad::Perform [nsHtml5SpeculativeLoad.cpp:64]\nnsHtml5TreeOpExecutor::FlushSpeculativeLoads [nsHtml5TreeOpExecutor.cpp:356]\nnsHtml5LoadFlusher::Run [nsHtml5StreamParser.cpp:169]\nnsThread::ProcessNextEvent [nsThread.cpp:618]\nNS_ProcessNextEvent_P [nsThreadUtils.cpp:250]\nmozilla::ipc::MessagePump::Run [MessagePump.cpp:110]\nMessageLoop::RunInternal [message_loop.cc:220]\nMessageLoop::RunHandler [message_loop.cc:203]\nMessageLoop::Run [message_loop.cc:176]\nnsBaseAppShell::Run [nsBaseAppShell.cpp:191]\nnsAppStartup::Run [nsAppStartup.cpp:224]\nXRE_main [nsAppRunner.cpp:3765]\nmain [nsBrowserApp.cpp:158]\nlibc.so.6 + 0x16bb6\n\nThis is because at http://hg.mozilla.org/mozilla-central/annotate/59771590e920/netwerk/base/src/nsIOService.cpp#l558 we fail to extract the scheme (since there isn't one and we assume that the URI is relative).  Relative URIs don't make much sense in the context of the moz-filedata scheme (except for fragments of course).", "id": 5426160, "text": "test_mozfiledataurl.html triggers\n\n###!!! ASSERTION: Bad URI: 'StringBeginsWith(aUri, NS_LITERAL_CSTRING(FILEDATA_SCHEME \":\"))', file ../../../../content/base/src/nsFileDataProtocolHandler.cpp, line 115\nGetFileDataInfo [nsFileDataProtocolHandler.cpp:117]\nnsFileDataProtocolHandler::NewURI [nsFileDataProtocolHandler.cpp:392]\nnsIOService::NewURI [nsIOService.cpp:573]\nNS_NewURI [nsNetUtil.h:175]\nNS_NewURI [nsNetUtil.h:186]\nnsHtml5TreeOpExecutor::ConvertIfNotPreloadedYet [nsHtml5TreeOpExecutor.cpp:854]\nnsHtml5TreeOpExecutor::PreloadImage [nsHtml5TreeOpExecutor.cpp:896]\nnsHtml5SpeculativeLoad::Perform [nsHtml5SpeculativeLoad.cpp:64]\nnsHtml5TreeOpExecutor::FlushSpeculativeLoads [nsHtml5TreeOpExecutor.cpp:356]\nnsHtml5LoadFlusher::Run [nsHtml5StreamParser.cpp:169]\nnsThread::ProcessNextEvent [nsThread.cpp:618]\nNS_ProcessNextEvent_P [nsThreadUtils.cpp:250]\nmozilla::ipc::MessagePump::Run [MessagePump.cpp:110]\nMessageLoop::RunInternal [message_loop.cc:220]\nMessageLoop::RunHandler [message_loop.cc:203]\nMessageLoop::Run [message_loop.cc:176]\nnsBaseAppShell::Run [nsBaseAppShell.cpp:191]\nnsAppStartup::Run [nsAppStartup.cpp:224]\nXRE_main [nsAppRunner.cpp:3765]\nmain [nsBrowserApp.cpp:158]\nlibc.so.6 + 0x16bb6\n\nThis is because at http://hg.mozilla.org/mozilla-central/annotate/59771590e920/netwerk/base/src/nsIOService.cpp#l558 we fail to extract the scheme (since there isn't one and we assume that the URI is relative).  Relative URIs don't make much sense in the context of the moz-filedata scheme (except for fragments of course).", "creation_time": "2011-04-22T13:39:30Z", "bug_id": 652114, "tags": [], "creator": "khuey@kylehuey.com", "count": 0}, {"author": "khuey@kylehuey.com", "attachment_id": null, "raw_text": "So, I noticed that the IO service completely ignores URI_NORELATIVE ... is there a reason for that?", "id": 5470680, "text": "So, I noticed that the IO service completely ignores URI_NORELATIVE ... is there a reason for that?", "is_private": false, "creation_time": "2011-05-15T00:10:26Z", "bug_id": 652114, "count": 1, "tags": [], "creator": "khuey@kylehuey.com", "time": "2011-05-15T00:10:26Z"}, {"attachment_id": 532485, "is_private": false, "time": "2011-05-15T01:33:27Z", "author": "khuey@kylehuey.com", "id": 5470718, "raw_text": "Simple patch, but it blows up the test suite.", "creation_time": "2011-05-15T01:33:27Z", "text": "Created attachment 532485\nEnforce URI_NORELATIVE\n\nSimple patch, but it blows up the test suite.", "count": 2, "creator": "khuey@kylehuey.com", "tags": [], "bug_id": 652114}, {"author": "bzbarsky@mit.edu", "creation_time": "2011-05-15T18:17:20Z", "text": "Well, most simply jar: has URI_NORELATIVE set, which is just bogus.\n\nBut even worse, we want to allow (in the near future if it's not allowed now) resolving a string like '#foo' relative to any base URI, even one which has URI_NORELATIVE.  So the attached patch is wrong no matter what.  The protocol handler needs to deal here, or we need to make the IOservice allow through '#foo' (and then the protocol handler here still needs fixing) or something.", "id": 5471178, "raw_text": "Well, most simply jar: has URI_NORELATIVE set, which is just bogus.\n\nBut even worse, we want to allow (in the near future if it's not allowed now) resolving a string like '#foo' relative to any base URI, even one which has URI_NORELATIVE.  So the attached patch is wrong no matter what.  The protocol handler needs to deal here, or we need to make the IOservice allow through '#foo' (and then the protocol handler here still needs fixing) or something.", "tags": [], "creator": "bzbarsky@mit.edu", "count": 3, "bug_id": 652114, "attachment_id": null, "is_private": false, "time": "2011-05-15T18:17:20Z"}, {"bug_id": 652114, "creator": "bug-husbandry-bot@mozilla.bugs", "tags": [], "count": 4, "time": "2018-06-29T04:59:50Z", "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "id": 13437139, "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "creation_time": "2018-06-29T04:59:50Z", "is_private": false, "author": "bug-husbandry-bot@mozilla.bugs", "attachment_id": null}]}}}