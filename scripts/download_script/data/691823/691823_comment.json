{"bugs": {"691823": {"comments": [{"id": 5757830, "raw_text": "User Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Tablet PC 2.0; .NET4.0C; BRI/1; BRI/2; AskTB5.6)\n\nSteps to reproduce:\n\nPointed Thunderbird to my HTML signature file, which has orange color for some text. In the composing window, it looks correct.\n\n\nActual results:\n\nAfter sending the message, the orange colors have changed to gray. This is evident in the copy in my sent items folder, as well as seen by message recipients. HTML file attached to this bug report.\n\n\nExpected results:\n\nColors should not change from what ones sees in the compose window.", "attachment_id": 564602, "text": "Created attachment 564602\nquantance.html\n\nUser Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Tablet PC 2.0; .NET4.0C; BRI/1; BRI/2; AskTB5.6)\n\nSteps to reproduce:\n\nPointed Thunderbird to my HTML signature file, which has orange color for some text. In the composing window, it looks correct.\n\n\nActual results:\n\nAfter sending the message, the orange colors have changed to gray. This is evident in the copy in my sent items folder, as well as seen by message recipients. HTML file attached to this bug report.\n\n\nExpected results:\n\nColors should not change from what ones sees in the compose window.", "time": "2011-10-04T17:25:56Z", "tags": [], "bug_id": 691823, "creation_time": "2011-10-04T17:25:56Z", "author": "mark.gehring@quantance.com", "count": 0, "is_private": false, "creator": "mark.gehring@quantance.com"}, {"creation_time": "2011-10-18T07:52:50Z", "author": "wraithlike@gmail.com", "text": "(In reply to Mark G from comment #0)\nI tested your attachment as signature but couldn't get the signature greyed out. It appears orange to the recipient and in my sent folder.\n\nUser agent: Mozilla/5.0 (X11; Linux i686; rv:7.0.1) Gecko/20110929 Thunderbird/7.0.1\nBuild ID: 20110929042316", "time": "2011-10-18T07:52:50Z", "bug_id": 691823, "tags": [], "is_private": false, "creator": "wraithlike@gmail.com", "count": 1, "id": 5788498, "attachment_id": null, "raw_text": "(In reply to Mark G from comment #0)\nI tested your attachment as signature but couldn't get the signature greyed out. It appears orange to the recipient and in my sent folder.\n\nUser agent: Mozilla/5.0 (X11; Linux i686; rv:7.0.1) Gecko/20110929 Thunderbird/7.0.1\nBuild ID: 20110929042316"}, {"id": 5789343, "attachment_id": null, "raw_text": "Thanks for the reply. What I see is that the large text above my name \"quantance\" is gray and should be orange. I do get an orange line above that, as expected. Also, the text before each phone number should be orange ( e.g \"o|\" ) but is not, nor is the vertical bar before my name and after the zip code. Please confirm that all of these details look correct to you.", "creation_time": "2011-10-18T16:34:50Z", "author": "mark.gehring@quantance.com", "text": "Thanks for the reply. What I see is that the large text above my name \"quantance\" is gray and should be orange. I do get an orange line above that, as expected. Also, the text before each phone number should be orange ( e.g \"o|\" ) but is not, nor is the vertical bar before my name and after the zip code. Please confirm that all of these details look correct to you.", "tags": [], "time": "2011-10-18T16:34:50Z", "bug_id": 691823, "is_private": false, "creator": "mark.gehring@quantance.com", "count": 2}, {"raw_text": "(In reply to Mark G from comment #2)\nAgreed. Only the vertical line is orange as you mentioned. In google mail it appears intact though.\n\nLudovic, can we confirm this bug?", "attachment_id": null, "id": 5791316, "is_private": false, "creator": "wraithlike@gmail.com", "text": "(In reply to Mark G from comment #2)\nAgreed. Only the vertical line is orange as you mentioned. In google mail it appears intact though.\n\nLudovic, can we confirm this bug?", "tags": [], "time": "2011-10-19T07:25:28Z", "creation_time": "2011-10-19T07:25:28Z", "author": "wraithlike@gmail.com", "count": 3, "bug_id": 691823}, {"raw_text": "(In reply to Mark G from comment #0)\n\n(Q1) Does your problem occur in any mail composition in HTML mode by Tb?\n\n> Actual results:\n> HTML file attached to this bug report.\n\n(Q2) Is the html file signature file you use?\n     Or text/html part or message body of text/html mail of sent mail copy?\n     (I assume your signature file)\n\n> Steps to reproduce:\n> Pointed Thunderbird to my HTML signature file, which has orange color for\n> some text. In the composing window, it looks correct.\n\n(Q3) Does saved draft at this step also show in orange color as you expect?\n\n(Q4) Can you attach saved draft mail at this step?\n  Save as draft, view the saved draft, save the draft mail as .eml file,\n  attach the .eml file to this bug(don't paste to comment of bug),\n  after remove/replace sensitive data.\n\n(Q5) If answer to (Q3) is no, how did you compose the mail?\n(a) New mail composition by Tb\n(b) Edit draft, \n    (b-1) draft mail is created and saved by Tb\n    (b-2) draft mail is created and saved by other than Tb\n(c) Edit As New of existent mail\n(d) Reply/Reply All of existent mail\n(e) Forward(inline forward) of existent mail\n(f) Created from template\n    (f-1) template mail is created and saved by Tb\n    (f-2) template mail is created and saved by other than Tb\n(g) Other", "attachment_id": null, "id": 5793930, "count": 4, "is_private": false, "creator": "m-wada@usa.com", "text": "(In reply to Mark G from comment #0)\n\n(Q1) Does your problem occur in any mail composition in HTML mode by Tb?\n\n> Actual results:\n> HTML file attached to this bug report.\n\n(Q2) Is the html file signature file you use?\n     Or text/html part or message body of text/html mail of sent mail copy?\n     (I assume your signature file)\n\n> Steps to reproduce:\n> Pointed Thunderbird to my HTML signature file, which has orange color for\n> some text. In the composing window, it looks correct.\n\n(Q3) Does saved draft at this step also show in orange color as you expect?\n\n(Q4) Can you attach saved draft mail at this step?\n  Save as draft, view the saved draft, save the draft mail as .eml file,\n  attach the .eml file to this bug(don't paste to comment of bug),\n  after remove/replace sensitive data.\n\n(Q5) If answer to (Q3) is no, how did you compose the mail?\n(a) New mail composition by Tb\n(b) Edit draft, \n    (b-1) draft mail is created and saved by Tb\n    (b-2) draft mail is created and saved by other than Tb\n(c) Edit As New of existent mail\n(d) Reply/Reply All of existent mail\n(e) Forward(inline forward) of existent mail\n(f) Created from template\n    (f-1) template mail is created and saved by Tb\n    (f-2) template mail is created and saved by other than Tb\n(g) Other", "time": "2011-10-20T07:43:11Z", "tags": [], "bug_id": 691823, "creation_time": "2011-10-20T07:43:11Z", "author": "m-wada@usa.com"}, {"creation_time": "2011-10-20T08:36:29Z", "author": "m-wada@usa.com", "text": "Created attachment 568332\nDraft mail, with html signature file attached to this bug\n\nPhenomenon was easily be seen with attached html signature file, by new html composition and draft save/view the saved draft. No need of attachng draft by bug opener. \n\nTb looks to insert html signature file to HTML mail like next;\n  Remove <html>&</html>, <head>&</head>, <body>&</body> from html signature,\n  then embed remaining html tags in <div class=\"moz-signature\">.\nAfter draft save and open the that, <style> in <head> in html signature file becomes <style> in <body> in html mail. Because <style> in <body> is invalid tag(should be placed in <head> by HTML spec), HTML parser probably ignores it.\n\nBecause data in html signature file is merely a part to embed in HTML body, html signature shouldn't depend on tags in <head> section of html signature file.", "tags": [], "bug_id": 691823, "time": "2011-10-20T08:36:29Z", "is_private": false, "creator": "m-wada@usa.com", "count": 5, "id": 5793978, "attachment_id": 568332, "raw_text": "Phenomenon was easily be seen with attached html signature file, by new html composition and draft save/view the saved draft. No need of attachng draft by bug opener. \n\nTb looks to insert html signature file to HTML mail like next;\n  Remove <html>&</html>, <head>&</head>, <body>&</body> from html signature,\n  then embed remaining html tags in <div class=\"moz-signature\">.\nAfter draft save and open the that, <style> in <head> in html signature file becomes <style> in <body> in html mail. Because <style> in <body> is invalid tag(should be placed in <head> by HTML spec), HTML parser probably ignores it.\n\nBecause data in html signature file is merely a part to embed in HTML body, html signature shouldn't depend on tags in <head> section of html signature file."}, {"is_private": false, "creator": "m-wada@usa.com", "count": 6, "creation_time": "2011-10-20T09:03:56Z", "author": "m-wada@usa.com", "text": "Your html signature consists of five html paragraphs.\n> <p ...><span ...>___...___</span><span ...><o:p></o:p></span></p>\n> <p ...><span ...><span ...><b><span ...>quantance</span></b></span></span><span ...><o:p></o:p></span></p>\n> <p ...><b><span ...>Mark Gehring&nbsp;</span></b><b><span ...>|</span></b><span ...>&nbsp;</span><b><span ...>V.P. Advanced Design&nbsp;</span></b><span ...>o|/span><span ...>503 334 1501 </span><span ...>m|</span><span ...>503 313 6024</span><span ...>&nbsp;f|</span><span ...>650 533 9195</span><span ...><o:p></o:p></span></p>\n> <p ...><span ...>1500 NW Bethany Blvd, Suite 360, Beaverton, OR 97006</span><span ...>&nbsp;|&nbsp;</span><span ...><a ... href=\"...\">www.quantance.com</a></span><span ...><o:p></o:p></span></p>\n> <p ...><o:p>&nbsp;</o:p></p>\n\nWhy \"28KB increase of HTML mail data of any mail for the such simple signature\" is needed?\nWhy syle attribute for each small <span> is needed?\nWhy nonrendered elements of <span ...><o:p></o:p></span> is needed in html signature?", "tags": [], "time": "2011-10-20T09:03:56Z", "bug_id": 691823, "attachment_id": null, "raw_text": "Your html signature consists of five html paragraphs.\n> <p ...><span ...>___...___</span><span ...><o:p></o:p></span></p>\n> <p ...><span ...><span ...><b><span ...>quantance</span></b></span></span><span ...><o:p></o:p></span></p>\n> <p ...><b><span ...>Mark Gehring&nbsp;</span></b><b><span ...>|</span></b><span ...>&nbsp;</span><b><span ...>V.P. Advanced Design&nbsp;</span></b><span ...>o|/span><span ...>503 334 1501 </span><span ...>m|</span><span ...>503 313 6024</span><span ...>&nbsp;f|</span><span ...>650 533 9195</span><span ...><o:p></o:p></span></p>\n> <p ...><span ...>1500 NW Bethany Blvd, Suite 360, Beaverton, OR 97006</span><span ...>&nbsp;|&nbsp;</span><span ...><a ... href=\"...\">www.quantance.com</a></span><span ...><o:p></o:p></span></p>\n> <p ...><o:p>&nbsp;</o:p></p>\n\nWhy \"28KB increase of HTML mail data of any mail for the such simple signature\" is needed?\nWhy syle attribute for each small <span> is needed?\nWhy nonrendered elements of <span ...><o:p></o:p></span> is needed in html signature?", "id": 5794010}, {"count": 7, "bug_id": 691823, "attachment_id": null, "raw_text": "I did not create this HTML signature file, it was provided by a professional firm that does logo designs, and I am not versed in HTML myself. As mentioned above, it apparently works fine in Google mail, and everyone else in my company using Outlook and Mac Mail says it works fine for them too. So, I suggest that this needs to be fixed in Tb, not in the HTML code. Also, that fact that it looks fine when composing suggests that Tb handles it fine to start with, but something is changing after \"send\" or \"save\". In addition, when I receive a mail from an Outlook user, the signature looks correct in Tb.", "id": 5794703, "creator": "mark.gehring@quantance.com", "is_private": false, "author": "mark.gehring@quantance.com", "creation_time": "2011-10-20T16:40:22Z", "time": "2011-10-20T16:40:22Z", "tags": [], "text": "I did not create this HTML signature file, it was provided by a professional firm that does logo designs, and I am not versed in HTML myself. As mentioned above, it apparently works fine in Google mail, and everyone else in my company using Outlook and Mac Mail says it works fine for them too. So, I suggest that this needs to be fixed in Tb, not in the HTML code. Also, that fact that it looks fine when composing suggests that Tb handles it fine to start with, but something is changing after \"send\" or \"save\". In addition, when I receive a mail from an Outlook user, the signature looks correct in Tb."}, {"raw_text": "(In reply to Mark G from comment #7)\n> it apparently works fine in Google mail, and everyone else\n> in my company using Outlook and Mac Mail says it works fine for them too.\n\nAs for rendering of generated html by Tb using your html signature file, CORRECT rendering based on Web Standards is rendering by Tb, Fx(view html file saved as .html by Tb) and some mailers.\nMS's software perhaps interprets <style> in <body> as if <style> in <head> for user's convenience(relief of user error in html writing).\nAnd, Gmail and some mailers probably deos do similar quirks. \n\nAs for current BUG of Tb, it's next.\n  \"Initial rendering in mail composition using your html file\" is different from\n  CORRECT rendering of html mail generated by Tb using your html signature file.\n  Rendering should be CORRECT since initial of composition.\n\n> So, I suggest that this needs to be fixed in Tb, not in the HTML code.\n\nHow \"html signature file\" is used in html mail composition depends on software. In Tb, at least <html>, <head>, <body> tag in html signature file has to be removed before using as \"html signature\", because <html>, <head>, <body> is used and is mandatory(syntactically or semantically) in html mail. So, there is no guarantee that any tag works as it worked when the html signature file is rendered by browser. \n\nPlease note that \"html signature file of Tb\" is \"signature file written in html\". It's never html Web page shown by browser, even though it's written using html tags.   \nFor example;\n>(html signature of Thunderbird)\n> <div><iframe src=\"file:///C:/wada/TEST/Bug-org/bug-691823/quantance.html\"     >              height=\"120\" width=\"400\">signature from html file</iframe>\n> </div>\n> <div>\n>     <img src=\"file:///C:/wada/PICTURE/dronbo-01.jpg\">\n> </div>\nWhen above html signature of Tb, img is rendered by mail composition, and is sent with cid: url, and image data is embed as image/jpeg part under multipart/related, as expected, as designed.\nHowever, iframe is not rendered, and is not changed to cid: url, and pointed html data is not embed in mail source by send. It's because <iframe src=file:///...> in \"html signature of Tb\" is not supported yet.\nThis is a difference of \"html signature of Tb\" from \"html file for browser\".\n\n> In addition, when I receive a mail from an Outlook user, the signature looks\n> correct in Tb.\n\nAt where/how does Outlook put \"<style> in <head> section in your html signature file\" in generated HTML mail by Outlook using your html signature file?\nCan you attach mail(.eml file) generated by Outlook? \n\n> So, I suggest that this needs to be fixed in Tb, not in the HTML code.\n\nIf same rendering as \"rendering of html file by browser\" is required in html MAIL created by Tb using any html file, embedding html signature file in <iframe> is a solution.\n- Mail body part(text/html part under multipart/related)\n    <div class=\"moz-signature\">-- <br>\n      <iframe src=\"cid:xyz\">This is signature from html file</iframe>\n    </div>\n- Content-Type: text/html under multipart/related, Content-Id: <xyz>\n  content in html signature file\nIt's perhaps better optional, even if implemented.", "attachment_id": null, "id": 5796197, "is_private": false, "creator": "m-wada@usa.com", "text": "(In reply to Mark G from comment #7)\n> it apparently works fine in Google mail, and everyone else\n> in my company using Outlook and Mac Mail says it works fine for them too.\n\nAs for rendering of generated html by Tb using your html signature file, CORRECT rendering based on Web Standards is rendering by Tb, Fx(view html file saved as .html by Tb) and some mailers.\nMS's software perhaps interprets <style> in <body> as if <style> in <head> for user's convenience(relief of user error in html writing).\nAnd, Gmail and some mailers probably deos do similar quirks. \n\nAs for current BUG of Tb, it's next.\n  \"Initial rendering in mail composition using your html file\" is different from\n  CORRECT rendering of html mail generated by Tb using your html signature file.\n  Rendering should be CORRECT since initial of composition.\n\n> So, I suggest that this needs to be fixed in Tb, not in the HTML code.\n\nHow \"html signature file\" is used in html mail composition depends on software. In Tb, at least <html>, <head>, <body> tag in html signature file has to be removed before using as \"html signature\", because <html>, <head>, <body> is used and is mandatory(syntactically or semantically) in html mail. So, there is no guarantee that any tag works as it worked when the html signature file is rendered by browser. \n\nPlease note that \"html signature file of Tb\" is \"signature file written in html\". It's never html Web page shown by browser, even though it's written using html tags.   \nFor example;\n>(html signature of Thunderbird)\n> <div><iframe src=\"file:///C:/wada/TEST/Bug-org/bug-691823/quantance.html\"     >              height=\"120\" width=\"400\">signature from html file</iframe>\n> </div>\n> <div>\n>     <img src=\"file:///C:/wada/PICTURE/dronbo-01.jpg\">\n> </div>\nWhen above html signature of Tb, img is rendered by mail composition, and is sent with cid: url, and image data is embed as image/jpeg part under multipart/related, as expected, as designed.\nHowever, iframe is not rendered, and is not changed to cid: url, and pointed html data is not embed in mail source by send. It's because <iframe src=file:///...> in \"html signature of Tb\" is not supported yet.\nThis is a difference of \"html signature of Tb\" from \"html file for browser\".\n\n> In addition, when I receive a mail from an Outlook user, the signature looks\n> correct in Tb.\n\nAt where/how does Outlook put \"<style> in <head> section in your html signature file\" in generated HTML mail by Outlook using your html signature file?\nCan you attach mail(.eml file) generated by Outlook? \n\n> So, I suggest that this needs to be fixed in Tb, not in the HTML code.\n\nIf same rendering as \"rendering of html file by browser\" is required in html MAIL created by Tb using any html file, embedding html signature file in <iframe> is a solution.\n- Mail body part(text/html part under multipart/related)\n    <div class=\"moz-signature\">-- <br>\n      <iframe src=\"cid:xyz\">This is signature from html file</iframe>\n    </div>\n- Content-Type: text/html under multipart/related, Content-Id: <xyz>\n  content in html signature file\nIt's perhaps better optional, even if implemented.", "time": "2011-10-21T03:38:53Z", "tags": [], "creation_time": "2011-10-21T03:38:53Z", "author": "m-wada@usa.com", "count": 8, "bug_id": 691823}]}}, "comments": {}}