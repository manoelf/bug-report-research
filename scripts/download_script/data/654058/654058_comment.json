{"comments": {}, "bugs": {"654058": {"comments": [{"id": 5442463, "is_private": false, "count": 0, "author": "fab_tafelmak@hotmail.com", "time": "2011-05-02T08:24:12Z", "bug_id": 654058, "text": "User-Agent:       Mozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nIf you have a background-image with alpha that has more thant 8500px height, the image shows from time to time.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. create an image with alpha that has a height bigger than 8500px\n2. create a page with this image as a background of the body\n3. hit F5 many times\n\nActual Results:  \nyou will see the background appearing sometimes\n\nExpected Results:  \nThe background should appear every time you hit F5\n\nActually, this is not a very important bug, since you don't have many situations where you need a background of 8500px. With about 8000px height, everything is fine.\n\nI attached a compressed file that you can download, so you can experiment that stuff.", "attachment_id": null, "creation_time": "2011-05-02T08:24:12Z", "tags": [], "creator": "fab_tafelmak@hotmail.com", "raw_text": "User-Agent:       Mozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nIf you have a background-image with alpha that has more thant 8500px height, the image shows from time to time.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. create an image with alpha that has a height bigger than 8500px\n2. create a page with this image as a background of the body\n3. hit F5 many times\n\nActual Results:  \nyou will see the background appearing sometimes\n\nExpected Results:  \nThe background should appear every time you hit F5\n\nActually, this is not a very important bug, since you don't have many situations where you need a background of 8500px. With about 8000px height, everything is fine.\n\nI attached a compressed file that you can download, so you can experiment that stuff."}, {"raw_text": "It seems the width have no importance in the process. Tried with an image with 1000px and an other with 50px, both reproduce the same thing", "creator": "fab_tafelmak@hotmail.com", "text": "It seems the width have no importance in the process. Tried with an image with 1000px and an other with 50px, both reproduce the same thing", "time": "2011-05-02T08:27:47Z", "count": 1, "creation_time": "2011-05-02T08:27:47Z", "tags": [], "attachment_id": null, "bug_id": 654058, "is_private": false, "author": "fab_tafelmak@hotmail.com", "id": 5442466}, {"id": 5468400, "count": 2, "author": "mozilla@ahlblom.eu", "time": "2011-05-13T16:36:00Z", "is_private": false, "text": "Created attachment 532256\nScreenshot when trying to reproduce.\n\nMozilla/5.0 (X11; Linux x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nI've tried to reproduce this bug. It does always look like the attached screenshot, regardless how many times I press F5.\n\nIs this a \"works for me\" or how should the page be rendered by Firefox?", "bug_id": 654058, "creator": "mozilla@ahlblom.eu", "raw_text": "Mozilla/5.0 (X11; Linux x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nI've tried to reproduce this bug. It does always look like the attached screenshot, regardless how many times I press F5.\n\nIs this a \"works for me\" or how should the page be rendered by Firefox?", "attachment_id": 532256, "tags": [], "creation_time": "2011-05-13T16:36:00Z"}, {"count": 3, "time": "2011-05-13T16:43:31Z", "creator": "mozilla@ahlblom.eu", "raw_text": "I've also tested the browsers below, and the result is similar to that in attachment 532256. WFM?\nMozilla/5.0 (X11; Linux x86_64; rv:6.0a1) Gecko/20110513 Firefox/6.0a1\nMozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1", "text": "I've also tested the browsers below, and the result is similar to that in attachment 532256. WFM?\nMozilla/5.0 (X11; Linux x86_64; rv:6.0a1) Gecko/20110513 Firefox/6.0a1\nMozilla/5.0 (X11; Linux i686 on x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1", "author": "mozilla@ahlblom.eu", "is_private": false, "id": 5468416, "attachment_id": null, "tags": [], "creation_time": "2011-05-13T16:43:31Z", "bug_id": 654058}, {"is_private": false, "author": "acelists@atlas.sk", "time": "2011-05-13T22:01:03Z", "count": 4, "id": 5469344, "tags": [], "creation_time": "2011-05-13T22:01:03Z", "attachment_id": null, "raw_text": "Reporter, please attach a screenshot of what you are seeing. We cannot reproduce it.", "creator": "acelists@atlas.sk", "bug_id": 654058, "text": "Reporter, please attach a screenshot of what you are seeing. We cannot reproduce it."}, {"bug_id": 654058, "text": "Created attachment 532438\na picture of the display on my computer\n\nOk, here's what I have. It seems it doesn't load the background if the image is too high, it loads half the image if it's smaller and it loads all if the image is less than 8000px", "attachment_id": 532438, "creation_time": "2011-05-14T14:58:23Z", "tags": [], "creator": "fab_tafelmak@hotmail.com", "raw_text": "Ok, here's what I have. It seems it doesn't load the background if the image is too high, it loads half the image if it's smaller and it loads all if the image is less than 8000px", "id": 5470150, "is_private": false, "count": 5, "author": "fab_tafelmak@hotmail.com", "time": "2011-05-14T14:58:23Z"}, {"id": 5470152, "author": "fab_tafelmak@hotmail.com", "is_private": false, "bug_id": 654058, "attachment_id": null, "creation_time": "2011-05-14T15:01:42Z", "tags": [], "count": 6, "time": "2011-05-14T15:01:42Z", "text": "Just as a side-note, I uninstalled all modules, so I'm running a clean&normal FF distribution. I'm on Linux Ubuntu 10.10 32bits", "creator": "fab_tafelmak@hotmail.com", "raw_text": "Just as a side-note, I uninstalled all modules, so I'm running a clean&normal FF distribution. I'm on Linux Ubuntu 10.10 32bits"}, {"bug_id": 654058, "text": "Created attachment 532449\nThis is what I see in FF 4.0.1 even with extensions.", "tags": [], "creation_time": "2011-05-14T17:38:56Z", "attachment_id": 532449, "raw_text": "", "creator": "acelists@atlas.sk", "id": 5470300, "is_private": false, "time": "2011-05-14T17:38:56Z", "author": "acelists@atlas.sk", "count": 7}, {"id": 5470312, "count": 8, "author": "acelists@atlas.sk", "time": "2011-05-14T17:50:30Z", "is_private": false, "text": "I assume by modules you mean extensions (addons). Do you use FF provided by Ubuntu (or compiled yourself) or have you downloaded official package from mozilla servers?\n\nCan you try emptying firefox cache? Have you tried it in FF safe mode and with clean profile?\nhttps://support.mozilla.com/en-US/kb/Safe+Mode\nhttps://support.mozilla.com/en-US/kb/Basic+Troubleshooting#w_8-make-a-new-profile", "bug_id": 654058, "creator": "acelists@atlas.sk", "raw_text": "I assume by modules you mean extensions (addons). Do you use FF provided by Ubuntu (or compiled yourself) or have you downloaded official package from mozilla servers?\n\nCan you try emptying firefox cache? Have you tried it in FF safe mode and with clean profile?\nhttps://support.mozilla.com/en-US/kb/Safe+Mode\nhttps://support.mozilla.com/en-US/kb/Basic+Troubleshooting#w_8-make-a-new-profile", "attachment_id": null, "tags": [], "creation_time": "2011-05-14T17:50:30Z"}, {"time": "2011-05-15T11:31:34Z", "count": 9, "text": "Yes, I mean extensions, sorry. And yes, I downloaded the tar.gz from the FF website. An other friend of mine, which has Ubuntu 10.10 has the same problem.\n\nI don't know if it's my graphic card (ATI) which need some proprietary drivers to run correctly under linux, but the fact is that with FF3.6, backgrounds are ok and with FF4, no ^^", "raw_text": "Yes, I mean extensions, sorry. And yes, I downloaded the tar.gz from the FF website. An other friend of mine, which has Ubuntu 10.10 has the same problem.\n\nI don't know if it's my graphic card (ATI) which need some proprietary drivers to run correctly under linux, but the fact is that with FF3.6, backgrounds are ok and with FF4, no ^^", "creator": "fab_tafelmak@hotmail.com", "id": 5470962, "author": "fab_tafelmak@hotmail.com", "is_private": false, "bug_id": 654058, "tags": [], "creation_time": "2011-05-15T11:31:34Z", "attachment_id": null}, {"id": 5470966, "count": 10, "time": "2011-05-15T11:42:27Z", "author": "fab_tafelmak@hotmail.com", "is_private": false, "text": "Here are my graphic card information, if it is usefull:\n\n01:00.0 VGA compatible controller: ATI Technologies Inc Radeon Mobility HD 3670\n\nAnd the driver:\nProprietary driver ATI/AMD for graphic card FGLRX", "bug_id": 654058, "creator": "fab_tafelmak@hotmail.com", "raw_text": "Here are my graphic card information, if it is usefull:\n\n01:00.0 VGA compatible controller: ATI Technologies Inc Radeon Mobility HD 3670\n\nAnd the driver:\nProprietary driver ATI/AMD for graphic card FGLRX", "attachment_id": null, "tags": [], "creation_time": "2011-05-15T11:42:27Z"}, {"count": 11, "time": "2011-05-15T13:17:22Z", "creator": "acelists@atlas.sk", "raw_text": "I also have an ATI card (HD 4350) and do not have this problem. Until you do not use hardware acceleration, there shouldn't be much graphical problems. Please paste here the Graphics section from Help -> Troubleshooting information page . The texture size limit for your card should be 8192px, can you resize the \"-almost\" image to check whether that is the exact height where the problem starts to happen?", "text": "I also have an ATI card (HD 4350) and do not have this problem. Until you do not use hardware acceleration, there shouldn't be much graphical problems. Please paste here the Graphics section from Help -> Troubleshooting information page . The texture size limit for your card should be 8192px, can you resize the \"-almost\" image to check whether that is the exact height where the problem starts to happen?", "is_private": false, "author": "acelists@atlas.sk", "id": 5471002, "attachment_id": null, "tags": [], "creation_time": "2011-05-15T13:17:22Z", "bug_id": 654058}, {"tags": [], "creation_time": "2011-05-15T13:26:04Z", "attachment_id": 532513, "raw_text": "Here is all what I have if I do Help > Troubleshooting. Thing more about graphics... strange?", "creator": "fab_tafelmak@hotmail.com", "bug_id": 654058, "text": "Created attachment 532513\nHelp > Troubleshooting information\n\nHere is all what I have if I do Help > Troubleshooting. Thing more about graphics... strange?", "is_private": false, "author": "fab_tafelmak@hotmail.com", "time": "2011-05-15T13:26:04Z", "count": 12, "id": 5471004}, {"bug_id": 654058, "attachment_id": null, "tags": [], "creation_time": "2011-05-15T13:31:56Z", "id": 5471008, "is_private": false, "author": "acelists@atlas.sk", "text": "OK, it seems HW acceleration is not enabled, that is good for our tests. Can you try the process in comment 8 and also resize the images according to comment 11?", "creator": "acelists@atlas.sk", "raw_text": "OK, it seems HW acceleration is not enabled, that is good for our tests. Can you try the process in comment 8 and also resize the images according to comment 11?", "count": 13, "time": "2011-05-15T13:31:56Z"}, {"id": 5471070, "author": "fab_tafelmak@hotmail.com", "is_private": false, "bug_id": 654058, "attachment_id": null, "creation_time": "2011-05-15T15:02:49Z", "tags": [], "count": 14, "time": "2011-05-15T15:02:49Z", "text": "So, I downloaded the last version for Linux (tar.gz), uncompressed it and launched ./firefox -ProfileManager and created a new profile. With it, I started FF again and chose to restart in safe mode.\n\n(I moved my whole .mozilla folder away from my home directory, so I should have a clean firefox install.)\n\nThe problem persists.\n\n\nFor the exact moment the image is rendered badly, you're right, it's 8193px. With 8192px, all is ok! Just a question: where did you find the information about the \"texture size limit\" ?", "creator": "fab_tafelmak@hotmail.com", "raw_text": "So, I downloaded the last version for Linux (tar.gz), uncompressed it and launched ./firefox -ProfileManager and created a new profile. With it, I started FF again and chose to restart in safe mode.\n\n(I moved my whole .mozilla folder away from my home directory, so I should have a clean firefox install.)\n\nThe problem persists.\n\n\nFor the exact moment the image is rendered badly, you're right, it's 8193px. With 8192px, all is ok! Just a question: where did you find the information about the \"texture size limit\" ?"}, {"is_private": false, "author": "acelists@atlas.sk", "id": 5471107, "creation_time": "2011-05-15T16:02:54Z", "tags": [], "attachment_id": null, "bug_id": 654058, "time": "2011-05-15T16:02:54Z", "count": 15, "raw_text": "Great testing, thanks. I have this information in my head:) I do a lot of troubleshooting for my card in various programs. E.g. celestia can show the texture size limit (Help-> OpenGL info). There must also be some HW spec for the cards on tech sites but I currently can't find any.\n\nSo, you say you use the fglrx driver. I have the OSS one, would it be possible for you to try that xorg-video-ati-6.14 package ?. It is said to be better in 2D graphics.", "creator": "acelists@atlas.sk", "text": "Great testing, thanks. I have this information in my head:) I do a lot of troubleshooting for my card in various programs. E.g. celestia can show the texture size limit (Help-> OpenGL info). There must also be some HW spec for the cards on tech sites but I currently can't find any.\n\nSo, you say you use the fglrx driver. I have the OSS one, would it be possible for you to try that xorg-video-ati-6.14 package ?. It is said to be better in 2D graphics."}, {"is_private": false, "time": "2011-05-16T06:38:38Z", "author": "fab_tafelmak@hotmail.com", "count": 16, "id": 5471661, "creation_time": "2011-05-16T06:38:38Z", "tags": [], "attachment_id": 532563, "raw_text": "Thanks. About the OSS driver, I'm not sure what you want me to do. I did a search on the web and didn't find the xorg-video-ati-6.14 package. I found lot of xserver stuff.\n\nHere is the list of what concern ati driver, from the Package Manager. Should I deactivate the fglrx thing?", "creator": "fab_tafelmak@hotmail.com", "bug_id": 654058, "text": "Created attachment 532563\nList of ati driver installed\n\nThanks. About the OSS driver, I'm not sure what you want me to do. I did a search on the web and didn't find the xorg-video-ati-6.14 package. I found lot of xserver stuff.\n\nHere is the list of what concern ati driver, from the Package Manager. Should I deactivate the fglrx thing?"}, {"attachment_id": null, "creation_time": "2011-05-16T08:56:15Z", "tags": [], "bug_id": 654058, "author": "acelists@atlas.sk", "is_private": false, "id": 5471779, "creator": "acelists@atlas.sk", "raw_text": "Ok, it seems you have version 6.13.1 available. That is a bit old, but we can try it. Yes, I would like you to deactivate fglrx-* packages and leave xserver-xorg-video-ati and xserver-xorg-video-radeon activated. It is interesting you have both fglrx and xorg-video-radeon installed. But you are sure fglrx is being used? However, there is a risk X server will not start correctly after you remove the fglrx driver. I am not sure how Ubuntu handles the drivers and configures the X server. So only try this if you will be able to fix your system in this case (e.g. by booting into runlevel 1 (single user) and running the package manager from the text mode terminal (console) to install fglrx back).\n\nIf you then make the test with firefox you can of course put fglrx back if you need it for something. We just need to find out if the rendering is a problem with firefox or the graphics driver. Even without firefox HW Opengl acceleration some of the rendering can be accelerated on the card internally by the X server via XRender. You can read more here: https://wiki.mozilla.org/Blocklisting/Blocked_Graphics_Drivers", "text": "Ok, it seems you have version 6.13.1 available. That is a bit old, but we can try it. Yes, I would like you to deactivate fglrx-* packages and leave xserver-xorg-video-ati and xserver-xorg-video-radeon activated. It is interesting you have both fglrx and xorg-video-radeon installed. But you are sure fglrx is being used? However, there is a risk X server will not start correctly after you remove the fglrx driver. I am not sure how Ubuntu handles the drivers and configures the X server. So only try this if you will be able to fix your system in this case (e.g. by booting into runlevel 1 (single user) and running the package manager from the text mode terminal (console) to install fglrx back).\n\nIf you then make the test with firefox you can of course put fglrx back if you need it for something. We just need to find out if the rendering is a problem with firefox or the graphics driver. Even without firefox HW Opengl acceleration some of the rendering can be accelerated on the card internally by the X server via XRender. You can read more here: https://wiki.mozilla.org/Blocklisting/Blocked_Graphics_Drivers", "count": 17, "time": "2011-05-16T08:56:15Z"}, {"count": 18, "time": "2011-05-16T09:00:00Z", "text": "If you make the test, please also attach your /var/log/Xorg.0.log file here, so we can be sure what driver is being used. Thanks.", "creator": "acelists@atlas.sk", "raw_text": "If you make the test, please also attach your /var/log/Xorg.0.log file here, so we can be sure what driver is being used. Thanks.", "id": 5471785, "is_private": false, "author": "acelists@atlas.sk", "bug_id": 654058, "attachment_id": null, "creation_time": "2011-05-16T09:00:00Z", "tags": []}, {"author": "acelists@atlas.sk", "is_private": false, "id": 5472970, "creation_time": "2011-05-16T19:14:09Z", "tags": [], "attachment_id": null, "bug_id": 654058, "time": "2011-05-16T19:14:09Z", "count": 19, "raw_text": "OK, I have installed newest fglrx (ATI proprietary driver) 11.5 and can confirm the bug myself. However, it only exists when also loading the flgrx kernel module, which provides 2D and 3D acceleration. Without it, operations are slow but work fine, firefox draws the testpage fine.", "creator": "acelists@atlas.sk", "text": "OK, I have installed newest fglrx (ATI proprietary driver) 11.5 and can confirm the bug myself. However, it only exists when also loading the flgrx kernel module, which provides 2D and 3D acceleration. Without it, operations are slow but work fine, firefox draws the testpage fine."}, {"time": "2011-05-17T05:56:09Z", "count": 20, "raw_text": "Oh, ok. I'll try too as soon as possible!", "creator": "fab_tafelmak@hotmail.com", "text": "Oh, ok. I'll try too as soon as possible!", "author": "fab_tafelmak@hotmail.com", "is_private": false, "id": 5474145, "tags": [], "creation_time": "2011-05-17T05:56:09Z", "attachment_id": null, "bug_id": 654058}, {"raw_text": "I upload the test files inside the bug, so it's easier to download and check", "creator": "fab_tafelmak@hotmail.com", "creation_time": "2011-05-17T06:13:52Z", "tags": [], "attachment_id": 532873, "text": "Created attachment 532873\nThe test files\n\nI upload the test files inside the bug, so it's easier to download and check", "bug_id": 654058, "author": "fab_tafelmak@hotmail.com", "time": "2011-05-17T06:13:52Z", "count": 21, "is_private": false, "id": 5474150}, {"id": 5474203, "is_private": false, "author": "acelists@atlas.sk", "bug_id": 654058, "tags": [], "creation_time": "2011-05-17T07:18:47Z", "attachment_id": null, "time": "2011-05-17T07:18:47Z", "count": 22, "text": "Great, that is what I wanted to do too:) Actually, you do not need to try the test with OSS driver if you do not have the knowledge to fix the server if something happens. I have already confirmed the bug with fgrlx. However, you may find out the OSS driver is better for your needs, if you do not strictly need the 3D speed of fglrx. Because I have found fglrx to be quite bad for even simple 2D (e.g. window transparency, menu flickering, no KMS?) and have quickly changed back to OSS.\n\nSo now we'll see what the FF developers say to this problem. It seems to be a specific driver bug and they can't fix that. They could make some workaround but that may have its pros and cons and may not be worth it. Maybe you could try filing this bug at AMD.", "raw_text": "Great, that is what I wanted to do too:) Actually, you do not need to try the test with OSS driver if you do not have the knowledge to fix the server if something happens. I have already confirmed the bug with fgrlx. However, you may find out the OSS driver is better for your needs, if you do not strictly need the 3D speed of fglrx. Because I have found fglrx to be quite bad for even simple 2D (e.g. window transparency, menu flickering, no KMS?) and have quickly changed back to OSS.\n\nSo now we'll see what the FF developers say to this problem. It seems to be a specific driver bug and they can't fix that. They could make some workaround but that may have its pros and cons and may not be worth it. Maybe you could try filing this bug at AMD.", "creator": "acelists@atlas.sk"}, {"is_private": false, "count": 23, "author": "acelists@atlas.sk", "time": "2011-09-25T17:58:37Z", "id": 5736037, "attachment_id": null, "tags": [], "creation_time": "2011-09-25T17:58:37Z", "creator": "acelists@atlas.sk", "raw_text": "Is this still a problem in recent Firefox 6 or 7 (will be released on 27th Sep) with a recent fglrx driver, like 11.8? Please comment. If it exists on these versions I can contact somebody at AMD.", "bug_id": 654058, "text": "Is this still a problem in recent Firefox 6 or 7 (will be released on 27th Sep) with a recent fglrx driver, like 11.8? Please comment. If it exists on these versions I can contact somebody at AMD."}, {"text": "Created attachment 562390\nATI driver information\n\nThe problem persists with FF 6.0.2 Linux (still ubuntu 10.10, i can't walk into unity for now :P)\n\nAnd for the fglrx driver, I attached a document that shows mine. The download manager says it's the latest version. I don't know if it's true...", "bug_id": 654058, "creator": "fab_tafelmak@hotmail.com", "raw_text": "The problem persists with FF 6.0.2 Linux (still ubuntu 10.10, i can't walk into unity for now :P)\n\nAnd for the fglrx driver, I attached a document that shows mine. The download manager says it's the latest version. I don't know if it's true...", "attachment_id": 562390, "creation_time": "2011-09-26T10:19:32Z", "tags": [], "id": 5736628, "count": 24, "time": "2011-09-26T10:19:32Z", "author": "fab_tafelmak@hotmail.com", "is_private": false}]}}}