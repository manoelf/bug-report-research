{"comments": {}, "bugs": {"666254": {"comments": [{"tags": [], "count": 0, "is_private": false, "id": 5548133, "bug_id": 666254, "creation_time": "2011-06-22T14:11:49Z", "raw_text": "User-Agent:       Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; GTB7.0; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 1.1.4322; MS-RTC LM 8)\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0\n\nAccording to https://developer.mozilla.org/en/nsIClipboard#emptyClipboard() calling the emptyClipboard method from nsIClipboard should clear the clipboard but it doesn't do so.  This is happening in Windows XP Pro.\n\nReproducible: Always\n\nSteps to Reproduce:\nCode: \n        this.ClearData = function()\n        {\n            netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");\n            \n            var nsIClipboard = Components.classes[\"@mozilla.org/widget/clipboard;1\"].getService(Components.interfaces.nsIClipboard); \n            nsIClipboard.emptyClipboard(nsIClipboard.kGlobalClipboard); // This doesn't appear to do anything\n        };\n\n\nActual Results:  \nThe clipboard remains unmodified.\n\nExpected Results:  \nThe clipboard should be empty.", "text": "User-Agent:       Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; GTB7.0; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 1.1.4322; MS-RTC LM 8)\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0\n\nAccording to https://developer.mozilla.org/en/nsIClipboard#emptyClipboard() calling the emptyClipboard method from nsIClipboard should clear the clipboard but it doesn't do so.  This is happening in Windows XP Pro.\n\nReproducible: Always\n\nSteps to Reproduce:\nCode: \n        this.ClearData = function()\n        {\n            netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");\n            \n            var nsIClipboard = Components.classes[\"@mozilla.org/widget/clipboard;1\"].getService(Components.interfaces.nsIClipboard); \n            nsIClipboard.emptyClipboard(nsIClipboard.kGlobalClipboard); // This doesn't appear to do anything\n        };\n\n\nActual Results:  \nThe clipboard remains unmodified.\n\nExpected Results:  \nThe clipboard should be empty.", "attachment_id": null, "time": "2011-06-22T14:11:49Z", "creator": "vb4guy@hotmail.com", "author": "vb4guy@hotmail.com"}, {"creator": "mak@mozilla.com", "author": "mak@mozilla.com", "bug_id": 666254, "count": 1, "is_private": false, "tags": [], "id": 5548179, "text": "it clears the logic clipboard, releasing the owner, but as specified in the idl it doesn't clear the native clipboard.", "time": "2011-06-22T14:31:31Z", "attachment_id": null, "raw_text": "it clears the logic clipboard, releasing the owner, but as specified in the idl it doesn't clear the native clipboard.", "creation_time": "2011-06-22T14:31:31Z"}, {"creator": "vb4guy@hotmail.com", "author": "vb4guy@hotmail.com", "text": "Marco,\n\nThanks for the quick response!\n\nLooking at the documentation again I see the paragraph that states that, but is there some other way to clear the native clipboard?\n\n-Mike", "time": "2011-06-22T19:58:37Z", "attachment_id": null, "creation_time": "2011-06-22T19:58:37Z", "raw_text": "Marco,\n\nThanks for the quick response!\n\nLooking at the documentation again I see the paragraph that states that, but is there some other way to clear the native clipboard?\n\n-Mike", "bug_id": 666254, "is_private": false, "count": 2, "tags": [], "id": 5549088}, {"creator": "mak@mozilla.com", "author": "mak@mozilla.com", "tags": [], "count": 3, "is_private": false, "id": 5549225, "bug_id": 666254, "raw_text": "setData with a transferable that contains an unknown flavor should work, I don't know of other ways", "creation_time": "2011-06-22T20:46:02Z", "text": "setData with a transferable that contains an unknown flavor should work, I don't know of other ways", "attachment_id": null, "time": "2011-06-22T20:46:02Z"}, {"creator": "vb4guy@hotmail.com", "author": "vb4guy@hotmail.com", "count": 4, "is_private": false, "tags": [], "id": 5549930, "bug_id": 666254, "creation_time": "2011-06-23T00:26:15Z", "raw_text": "I will try that but I think that this is a bug because the method takes the argument aWhichClipboard which can indicate the global/native clipboard.", "text": "I will try that but I think that this is a bug because the method takes the argument aWhichClipboard which can indicate the global/native clipboard.", "attachment_id": null, "time": "2011-06-23T00:26:15Z"}, {"creator": "ehsan.akhgari@gmail.com", "author": "ehsan.akhgari@gmail.com", "raw_text": "Hmm, the nsClipboard implementation in widget/cocoa doesn't even override EmptyClipboard(), so no wonder that function does not work on OSX (since we're using the nsBaseClipboard implementation which does not talk to the OS.)", "creation_time": "2014-01-06T15:17:05Z", "text": "Hmm, the nsClipboard implementation in widget/cocoa doesn't even override EmptyClipboard(), so no wonder that function does not work on OSX (since we're using the nsBaseClipboard implementation which does not talk to the OS.)", "attachment_id": null, "time": "2014-01-06T15:17:05Z", "count": 5, "is_private": false, "tags": [], "id": 8255710, "bug_id": 666254}, {"bug_id": 666254, "id": 8255753, "tags": [], "count": 6, "is_private": false, "time": "2014-01-06T15:30:47Z", "attachment_id": null, "text": "According to https://bugzilla.mozilla.org/show_bug.cgi?id=416459#c15 this is a feature, not a bug...", "raw_text": "According to https://bugzilla.mozilla.org/show_bug.cgi?id=416459#c15 this is a feature, not a bug...", "creation_time": "2014-01-06T15:30:47Z", "author": "janjongboom@gmail.com", "creator": "janjongboom@gmail.com"}, {"creator": "ehsan.akhgari@gmail.com", "author": "ehsan.akhgari@gmail.com", "text": "That's not true.  The Windows implementation does indeed clear the clipboard contents.\n\n(Note that it's possible that there is no platform API on mac to do the same, I'm not very familiar with these APIs on mac.)", "time": "2014-01-06T15:34:52Z", "attachment_id": null, "creation_time": "2014-01-06T15:34:52Z", "raw_text": "That's not true.  The Windows implementation does indeed clear the clipboard contents.\n\n(Note that it's possible that there is no platform API on mac to do the same, I'm not very familiar with these APIs on mac.)", "bug_id": 666254, "count": 7, "is_private": false, "tags": [], "id": 8255766}]}}}