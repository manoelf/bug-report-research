{"bugs": {"670989": {"comments": [{"attachment_id": null, "raw_text": "I'm pretty sure I've heard limi mention this before, but I didn't see a bug on it, so here we are ...\n\nWe should make it possible to import profile data from Firefox Sync on first run.", "id": 5587006, "is_private": false, "creator": "khuey@kylehuey.com", "count": 0, "creation_time": "2011-07-12T17:44:56Z", "author": "khuey@kylehuey.com", "text": "I'm pretty sure I've heard limi mention this before, but I didn't see a bug on it, so here we are ...\n\nWe should make it possible to import profile data from Firefox Sync on first run.", "bug_id": 670989, "time": "2011-07-12T17:44:56Z", "tags": []}, {"text": "Sync right now is optimizes for the synchronization use case and not for backup or migration. The latter ones are quite lossy if you use Sync. There are also UX problems when dealing with just one machine, due to the Sync Key. (When you have multiple machines, we can use the easy setup wizard to transfer the credentials securely.)\n\nThese aren't insurmountable problems, but they need to be figured out :)", "tags": [], "time": "2011-07-12T17:51:53Z", "bug_id": 670989, "creation_time": "2011-07-12T17:51:53Z", "author": "philipp@weitershausen.de", "count": 1, "is_private": false, "creator": "philipp@weitershausen.de", "id": 5587038, "raw_text": "Sync right now is optimizes for the synchronization use case and not for backup or migration. The latter ones are quite lossy if you use Sync. There are also UX problems when dealing with just one machine, due to the Sync Key. (When you have multiple machines, we can use the easy setup wizard to transfer the credentials securely.)\n\nThese aren't insurmountable problems, but they need to be figured out :)", "attachment_id": null}, {"bug_id": 670989, "count": 2, "id": 9338776, "attachment_id": null, "raw_text": "Little amazed we haven't fixed this yet. We're pushing a few things with getting people on the new Sync, feels like this should be one of them.\n\nIMO, doesn't matter if Sync is lossy or not for this.", "creation_time": "2014-09-21T13:38:43Z", "author": "blair@theunfocused.net", "text": "Little amazed we haven't fixed this yet. We're pushing a few things with getting people on the new Sync, feels like this should be one of them.\n\nIMO, doesn't matter if Sync is lossy or not for this.", "tags": [], "time": "2014-09-21T13:38:43Z", "is_private": false, "creator": "blair@theunfocused.net"}, {"id": 9364286, "attachment_id": null, "raw_text": "This sounds a little tricky at the current time.  Supporting \"legacy sync\" would be tricky - without access to the old profile (and assuming the user doesn't have a copy of their recovery key), this couldn't work (IIUC).  So in reality we'd only be able to support FxA sync.  But while many users are still using legacy sync, the UX around this seems problematic - eg, we'd somehow have to make it clear only FxA works and expect the user to know the difference, and handle upset users who didn't know they were on legacy sync and are wondering why their username/password isn't working for them.", "creation_time": "2014-09-26T02:56:36Z", "author": "markh@mozilla.com", "text": "This sounds a little tricky at the current time.  Supporting \"legacy sync\" would be tricky - without access to the old profile (and assuming the user doesn't have a copy of their recovery key), this couldn't work (IIUC).  So in reality we'd only be able to support FxA sync.  But while many users are still using legacy sync, the UX around this seems problematic - eg, we'd somehow have to make it clear only FxA works and expect the user to know the difference, and handle upset users who didn't know they were on legacy sync and are wondering why their username/password isn't working for them.", "tags": [], "bug_id": 670989, "time": "2014-09-26T02:56:36Z", "is_private": false, "creator": "markh@mozilla.com", "count": 3}, {"bug_id": 670989, "count": 4, "tags": [], "time": "2015-07-28T06:23:12Z", "text": "*** Bug 1143134 has been marked as a duplicate of this bug. ***", "author": "mozilla+bmo@noorenberghe.ca", "creation_time": "2015-07-28T06:23:12Z", "creator": "mozilla+bmo@noorenberghe.ca", "is_private": false, "id": 10544042, "raw_text": "", "attachment_id": null}, {"id": 10747462, "raw_text": "Chris More, Matt Noorenberghe, Shane Tomlinson, Ryan Feeley and I met to go over a plan to do this using the sync account creation iframe flow that we are currently using on the /firstrun page. I've attached a spec for changes to the migrator and here are Matt's notes from our meeting:\n\u2022 implemented for a test so it doesn't need to be perfect\n\u2022 css tweaks needed for form layout\n\u2022 links to other page from the form (legal/privacy) need to be handled (probably in the same frame)\n\u2022 change the next button to a skip button (string change!), and hide other buttons for the first step.\n\u2022 webchannel switches button from skip to next and needs to switch state\n\u25e6 ideally disable back button on browser choice page after skip \n\u25e6 hide \"chose what to sync\u201d on server\n\u2022 figure out what happens when opening a link in Firefox while in the middle of migration\n\u2022 hide snippets in verified frame\n\u2022 changed window title (string change) [verdi: we can cut this in the interest of time if necessary]\n\u2022 double-check that webchannel permissions work in subframes of the frame.\n\u2022 Make sure sync webchannel listeners are setup so Sync is properly setup once the browser window opens", "attachment_id": 8662934, "text": "Created attachment 8662934\nmigrator-spec-01.png\n\nChris More, Matt Noorenberghe, Shane Tomlinson, Ryan Feeley and I met to go over a plan to do this using the sync account creation iframe flow that we are currently using on the /firstrun page. I've attached a spec for changes to the migrator and here are Matt's notes from our meeting:\n\u2022 implemented for a test so it doesn't need to be perfect\n\u2022 css tweaks needed for form layout\n\u2022 links to other page from the form (legal/privacy) need to be handled (probably in the same frame)\n\u2022 change the next button to a skip button (string change!), and hide other buttons for the first step.\n\u2022 webchannel switches button from skip to next and needs to switch state\n\u25e6 ideally disable back button on browser choice page after skip \n\u25e6 hide \"chose what to sync\u201d on server\n\u2022 figure out what happens when opening a link in Firefox while in the middle of migration\n\u2022 hide snippets in verified frame\n\u2022 changed window title (string change) [verdi: we can cut this in the interest of time if necessary]\n\u2022 double-check that webchannel permissions work in subframes of the frame.\n\u2022 Make sure sync webchannel listeners are setup so Sync is properly setup once the browser window opens", "tags": [], "bug_id": 670989, "time": "2015-09-18T13:30:49Z", "creation_time": "2015-09-18T13:30:49Z", "author": "mverdi@mozilla.com", "count": 5, "is_private": false, "creator": "mverdi@mozilla.com"}, {"id": 10820900, "attachment_id": null, "raw_text": ":mattn: can you give us an estimate on how long it would take to build a working prototype of this, when (as in period of time), and who could do the work? We could probably do some qualitative testing on it before doing a quan test to understand how it performs. The goal is to determine if this flow has positive benefits and only then should it ride the trains. We want to avoid doing the development, making it code perfect, riding the trains, to later find out users don't respond well to it. \n\nWe just want to get this work scheduled and just plan toward that. We have considered doing tests like this with bundled add-ons in Firefox that change something, but I don't think that would be an option here.", "creation_time": "2015-10-08T15:40:46Z", "author": "chrismore.bugzilla@gmail.com", "text": ":mattn: can you give us an estimate on how long it would take to build a working prototype of this, when (as in period of time), and who could do the work? We could probably do some qualitative testing on it before doing a quan test to understand how it performs. The goal is to determine if this flow has positive benefits and only then should it ride the trains. We want to avoid doing the development, making it code perfect, riding the trains, to later find out users don't respond well to it. \n\nWe just want to get this work scheduled and just plan toward that. We have considered doing tests like this with bundled add-ons in Firefox that change something, but I don't think that would be an option here.", "time": "2015-10-08T15:40:46Z", "tags": [], "bug_id": 670989, "is_private": false, "creator": "chrismore.bugzilla@gmail.com", "count": 6}, {"raw_text": "(In reply to Chris More [:cmore] from comment #6)\n> :mattn: can you give us an estimate on how long it would take to build a\n> working prototype of this, when (as in period of time), and who could do the\n> work?\n\nThat's hard to answer :) But now that legacy Sync is retired, we'd probably \"just\" need a web-based login flow, then another page with some nice UX to allow a first-sync to complete. There's no real reason it couldn't be in an addon, but that will add some overheard in terms of time. It's at least a couple of weeks of work I'd guess and everyone seems already over-allocated :/\n\nI hope this is the info you need; please re-ni? if not...", "attachment_id": null, "id": 10980782, "count": 7, "creator": "markh@mozilla.com", "is_private": false, "tags": [], "bug_id": 670989, "time": "2015-12-02T09:20:29Z", "text": "(In reply to Chris More [:cmore] from comment #6)\n> :mattn: can you give us an estimate on how long it would take to build a\n> working prototype of this, when (as in period of time), and who could do the\n> work?\n\nThat's hard to answer :) But now that legacy Sync is retired, we'd probably \"just\" need a web-based login flow, then another page with some nice UX to allow a first-sync to complete. There's no real reason it couldn't be in an addon, but that will add some overheard in terms of time. It's at least a couple of weeks of work I'd guess and everyone seems already over-allocated :/\n\nI hope this is the info you need; please re-ni? if not...", "author": "markh@mozilla.com", "creation_time": "2015-12-02T09:20:29Z"}, {"raw_text": "I think a prototype could be made in one week using WebChannel as the logic from the the Firefox side isn't too difficult. You will need a separate estimate from the server side to have the page send some additional WebChannel messages.\n\nI wouldn't recommend doing the bulk of the implementation in an extension as it adds more overhead but we talked about having a pref to enable this initial wizard page with a frame via a pref so you can test stuff with FunnelCake.", "attachment_id": null, "id": 10984254, "count": 8, "creator": "mozilla+bmo@noorenberghe.ca", "is_private": false, "tags": [], "time": "2015-12-03T07:43:35Z", "bug_id": 670989, "text": "I think a prototype could be made in one week using WebChannel as the logic from the the Firefox side isn't too difficult. You will need a separate estimate from the server side to have the page send some additional WebChannel messages.\n\nI wouldn't recommend doing the bulk of the implementation in an extension as it adds more overhead but we talked about having a pref to enable this initial wizard page with a frame via a pref so you can test stuff with FunnelCake.", "author": "mozilla+bmo@noorenberghe.ca", "creation_time": "2015-12-03T07:43:35Z"}, {"time": "2015-12-03T10:39:00Z", "tags": [], "bug_id": 670989, "text": "(In reply to Matthew N. [:MattN] from comment #8)\n> I think a prototype could be made in one week using WebChannel as the logic\n> from the the Firefox side isn't too difficult. You will need a separate\n> estimate from the server side to have the page send some additional\n> WebChannel messages.\n\nIIUC, we could bootstrap the world with a simple email/password form today - but I figured displaying (roughly) about:accounts or firstrun in a dialog might not be much harder and would avoid handling login/account related errors.\n\n> I wouldn't recommend doing the bulk of the implementation in an extension as\n> it adds more overhead but we talked about having a pref to enable this\n> initial wizard page with a frame via a pref so you can test stuff with\n> FunnelCake.\n\nYeah, there's certainly a long-tail after the code is done, which is why I was more pessimistic with my estimate ;)", "author": "markh@mozilla.com", "creation_time": "2015-12-03T10:39:00Z", "count": 9, "creator": "markh@mozilla.com", "is_private": false, "id": 10984605, "raw_text": "(In reply to Matthew N. [:MattN] from comment #8)\n> I think a prototype could be made in one week using WebChannel as the logic\n> from the the Firefox side isn't too difficult. You will need a separate\n> estimate from the server side to have the page send some additional\n> WebChannel messages.\n\nIIUC, we could bootstrap the world with a simple email/password form today - but I figured displaying (roughly) about:accounts or firstrun in a dialog might not be much harder and would avoid handling login/account related errors.\n\n> I wouldn't recommend doing the bulk of the implementation in an extension as\n> it adds more overhead but we talked about having a pref to enable this\n> initial wizard page with a frame via a pref so you can test stuff with\n> FunnelCake.\n\nYeah, there's certainly a long-tail after the code is done, which is why I was more pessimistic with my estimate ;)", "attachment_id": null}, {"author": "mozilla+bmo@noorenberghe.ca", "creation_time": "2015-12-03T22:28:55Z", "time": "2015-12-03T22:28:55Z", "tags": [], "bug_id": 670989, "text": "We already have a form that we embed in iframes so I think we just need that page to send some additional events and make sure that the FxA/Sync services that normally listen to those events are running during the migrator.", "creator": "mozilla+bmo@noorenberghe.ca", "is_private": false, "count": 10, "id": 10986984, "attachment_id": null, "raw_text": "We already have a form that we embed in iframes so I think we just need that page to send some additional events and make sure that the FxA/Sync services that normally listen to those events are running during the migrator."}, {"id": 11425909, "attachment_id": null, "raw_text": "We want this option to be a sign-in page and not a create an account page as specified in the attachment https://bugzilla.mozilla.org/attachment.cgi?id=8662934\n\nI'll post a new mockup soon.", "author": "mverdi@mozilla.com", "creation_time": "2016-05-20T16:13:56Z", "tags": [], "time": "2016-05-20T16:13:56Z", "bug_id": 670989, "text": "We want this option to be a sign-in page and not a create an account page as specified in the attachment https://bugzilla.mozilla.org/attachment.cgi?id=8662934\n\nI'll post a new mockup soon.", "creator": "mverdi@mozilla.com", "is_private": false, "count": 11}]}}, "comments": {}}