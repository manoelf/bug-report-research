{"comments": {}, "bugs": {"659273": {"comments": [{"count": 0, "bug_id": 659273, "raw_text": "User-Agent:       Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\na site with a meta http-equiv=\"refresh\" should be refreshed but all the linked in files like images should not be refreshed if they haven't expired in the cache.\n\nSee http://wiki.samba.org/test.html for a simple test.\n\nFirefox will send request containing \"if-modified-since\" and \"chache-control: max-age=0\" for the site itself AND for all the linked content like css files and images.\n\nGoogle Chrome for example only sends just a request containing \"if-modified-since\" and ONLY for the main site not for linked in content which is found in the cache with valid cache expiration time.\n\nThis issue slows down sites using http-equiv refresh in Firefox quite noticably, especially if latency is high and many linked in content is contained on the site. \n\nReproducible: Always", "tags": [], "is_private": false, "time": "2011-05-24T11:36:57Z", "creation_time": "2011-05-24T11:36:57Z", "author": "bjoern@j3e.de", "text": "User-Agent:       Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\na site with a meta http-equiv=\"refresh\" should be refreshed but all the linked in files like images should not be refreshed if they haven't expired in the cache.\n\nSee http://wiki.samba.org/test.html for a simple test.\n\nFirefox will send request containing \"if-modified-since\" and \"chache-control: max-age=0\" for the site itself AND for all the linked content like css files and images.\n\nGoogle Chrome for example only sends just a request containing \"if-modified-since\" and ONLY for the main site not for linked in content which is found in the cache with valid cache expiration time.\n\nThis issue slows down sites using http-equiv refresh in Firefox quite noticably, especially if latency is high and many linked in content is contained on the site. \n\nReproducible: Always", "creator": "bjoern@j3e.de", "id": 5488863, "attachment_id": null}, {"creation_time": "2011-05-27T23:24:19Z", "text": "I can confirm on FF5. Firefox is sending requests also for the images, but in the testcase the server replies they were not modified, so they are not redownloaded. Anyway, even the requests may be expensive.", "id": 5499140, "attachment_id": null, "raw_text": "I can confirm on FF5. Firefox is sending requests also for the images, but in the testcase the server replies they were not modified, so they are not redownloaded. Anyway, even the requests may be expensive.", "tags": [], "is_private": false, "author": "acelists@atlas.sk", "creator": "acelists@atlas.sk", "count": 1, "bug_id": 659273, "time": "2011-05-27T23:24:19Z"}, {"creation_time": "2011-05-28T04:02:54Z", "attachment_id": null, "id": 5499436, "text": "If the main page forces validation, which is the case for http-equiv refresh, then all subresources also force validation.  This is because VALIDATE_ALWAYS is one of the flags propagated through the loadgroup.  This is needed for the reload button case (and in fact, http-equiv and reload button just do the same thing in Gecko).\n\nIf you really want refreshes that don't have reload semantics, you probably don't want to be using http-equiv refresh...", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "raw_text": "If the main page forces validation, which is the case for http-equiv refresh, then all subresources also force validation.  This is because VALIDATE_ALWAYS is one of the flags propagated through the loadgroup.  This is needed for the reload button case (and in fact, http-equiv and reload button just do the same thing in Gecko).\n\nIf you really want refreshes that don't have reload semantics, you probably don't want to be using http-equiv refresh...", "bug_id": 659273, "count": 2, "time": "2011-05-28T04:02:54Z", "is_private": false, "tags": []}, {"raw_text": "And to be clear, the way to fix this would be to add a new load flag that forces validation for the toplevel page only but not for everything in the loadgroup.", "bug_id": 659273, "count": 3, "time": "2011-05-28T04:03:29Z", "is_private": false, "tags": [], "creation_time": "2011-05-28T04:03:29Z", "attachment_id": null, "id": 5499438, "creator": "bzbarsky@mit.edu", "text": "And to be clear, the way to fix this would be to add a new load flag that forces validation for the toplevel page only but not for everything in the loadgroup.", "author": "bzbarsky@mit.edu"}, {"creation_time": "2011-05-28T15:10:20Z", "author": "bjoern@j3e.de", "id": 5499802, "attachment_id": null, "creator": "bjoern@j3e.de", "text": "I don't think that any w3 standard or RFC mandates that http-equiv refresh behaves exactly like the reload button, does it? As mentioned other browsers (tested Epiphany, Chrome and IE7) also behave differently, resulting in noticably faster site refreshs on high latency or lossy links. To me it seems like a absolutely valid asumption that a server explicitly marking resources as cacheable that they should be cached and not be reloaded (not even with if-modified-since) because the html site contains a http-equiv refresh. If you want to keep up that performance penalty against Chrome, IE and other browsers, this is up to you, but I don't think it makes any sense.", "count": 4, "raw_text": "I don't think that any w3 standard or RFC mandates that http-equiv refresh behaves exactly like the reload button, does it? As mentioned other browsers (tested Epiphany, Chrome and IE7) also behave differently, resulting in noticably faster site refreshs on high latency or lossy links. To me it seems like a absolutely valid asumption that a server explicitly marking resources as cacheable that they should be cached and not be reloaded (not even with if-modified-since) because the html site contains a http-equiv refresh. If you want to keep up that performance penalty against Chrome, IE and other browsers, this is up to you, but I don't think it makes any sense.", "bug_id": 659273, "is_private": false, "tags": [], "time": "2011-05-28T15:10:20Z"}, {"creation_time": "2011-05-29T00:58:31Z", "creator": "bzbarsky@mit.edu", "text": "There is no standard or RFC covering this <meta> tag at all; it was a unilateral Netscape extension to HTML.\n\nSo the \"right\" behavior is basically whatever Netscape 3 did with it....", "id": 5500149, "attachment_id": null, "author": "bzbarsky@mit.edu", "bug_id": 659273, "raw_text": "There is no standard or RFC covering this <meta> tag at all; it was a unilateral Netscape extension to HTML.\n\nSo the \"right\" behavior is basically whatever Netscape 3 did with it....", "count": 5, "time": "2011-05-29T00:58:31Z", "tags": [], "is_private": false}, {"creation_time": "2014-09-25T07:27:08Z", "id": 9359333, "attachment_id": null, "text": "still the same with firefox 33. This is a mayor performance penalty against most other browsers.\n\nAs the other mayor browsers don't reload the cachable linked in content if the main site asks for refresh, it should really be save for you to change to that behaviour also. It would also be nice to see those sites be loaded much quicker with Firefox when you change this habit.", "creator": "bjoern@j3e.de", "author": "bjoern@j3e.de", "raw_text": "still the same with firefox 33. This is a mayor performance penalty against most other browsers.\n\nAs the other mayor browsers don't reload the cachable linked in content if the main site asks for refresh, it should really be save for you to change to that behaviour also. It would also be nice to see those sites be loaded much quicker with Firefox when you change this habit.", "bug_id": 659273, "count": 6, "time": "2014-09-25T07:27:08Z", "is_private": false, "tags": []}, {"creator": "bjoern@j3e.de", "text": "the javascript location.reload() function has the same issue. It reloads all of the linked in content, not just the main site.", "id": 9360486, "attachment_id": null, "author": "bjoern@j3e.de", "creation_time": "2014-09-25T13:12:23Z", "time": "2014-09-25T13:12:23Z", "tags": [], "is_private": false, "bug_id": 659273, "raw_text": "the javascript location.reload() function has the same issue. It reloads all of the linked in content, not just the main site.", "count": 7}, {"author": "bug-husbandry-bot@mozilla.bugs", "id": 12657911, "attachment_id": null, "text": "Bulk change to priority: https://bugzilla.mozilla.org/show_bug.cgi?id=1399258", "creator": "bug-husbandry-bot@mozilla.bugs", "creation_time": "2017-09-13T18:35:17Z", "is_private": false, "tags": [], "time": "2017-09-13T18:35:17Z", "count": 8, "raw_text": "Bulk change to priority: https://bugzilla.mozilla.org/show_bug.cgi?id=1399258", "bug_id": 659273}, {"author": "bug-husbandry-bot@mozilla.bugs", "id": 12659467, "attachment_id": null, "creator": "bug-husbandry-bot@mozilla.bugs", "text": "Bulk change to priority: https://bugzilla.mozilla.org/show_bug.cgi?id=1399258", "creation_time": "2017-09-13T18:47:31Z", "is_private": false, "tags": [], "time": "2017-09-13T18:47:31Z", "count": 9, "raw_text": "Bulk change to priority: https://bugzilla.mozilla.org/show_bug.cgi?id=1399258", "bug_id": 659273}]}}}