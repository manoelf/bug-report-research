{"bugs": {"672380": {"comments": [{"creator": "hcdump@gmail.com", "is_private": false, "time": "2011-07-18T22:41:24Z", "tags": [], "text": "User Agent: Mozilla/5.0 (Windows NT 5.1) AppleWebKit/534.30 (KHTML, like Gecko) Chrome/12.0.742.122 Safari/534.30\n\nSteps to reproduce:\n\nDragged a document into the text pane of the compose window and dropped it\n\n\nActual results:\n\nnothing\n\n\nExpected results:\n\nThe documents \"file://\" URL should have been outputted as text", "author": "hcdump@gmail.com", "creation_time": "2011-07-18T22:41:24Z", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1) AppleWebKit/534.30 (KHTML, like Gecko) Chrome/12.0.742.122 Safari/534.30\n\nSteps to reproduce:\n\nDragged a document into the text pane of the compose window and dropped it\n\n\nActual results:\n\nnothing\n\n\nExpected results:\n\nThe documents \"file://\" URL should have been outputted as text", "attachment_id": null, "id": 5597918, "count": 0, "bug_id": 672380}, {"text": "I was told to create a bug report, after making this support thread:\n\nhttp://forums.mozillazine.org/viewtopic.php?f=39&t=2253683", "tags": [], "time": "2011-07-18T22:43:06Z", "bug_id": 672380, "creation_time": "2011-07-18T22:43:06Z", "author": "hcdump@gmail.com", "count": 1, "is_private": false, "creator": "hcdump@gmail.com", "id": 5597923, "raw_text": "I was told to create a bug report, after making this support thread:\n\nhttp://forums.mozillazine.org/viewtopic.php?f=39&t=2253683", "attachment_id": null}, {"bug_id": 672380, "count": 2, "id": 5598016, "attachment_id": null, "raw_text": "My best guess is (was, see below) that this is a side effect of bug 609632 now producing data: rather than file: URIs for images dropped into the message body. It checks if the registered file type for that extension (\".doc\" in your case) is an image type (MS-Word obviously isn't) and inserts it as such if it is.\n\nOn the other hand, that code should simply proceed as before if it's not an image, thus I'm a bit at a loss why the behavior has changed for this case.", "author": "rsx11m.pub@gmail.com", "creation_time": "2011-07-18T23:14:48Z", "tags": [], "time": "2011-07-18T23:14:48Z", "text": "My best guess is (was, see below) that this is a side effect of bug 609632 now producing data: rather than file: URIs for images dropped into the message body. It checks if the registered file type for that extension (\".doc\" in your case) is an image type (MS-Word obviously isn't) and inserts it as such if it is.\n\nOn the other hand, that code should simply proceed as before if it's not an image, thus I'm a bit at a loss why the behavior has changed for this case.", "creator": "rsx11m.pub@gmail.com", "is_private": false}, {"count": 3, "bug_id": 672380, "attachment_id": null, "raw_text": "I just upgraded to Thunderbird 6.0 and can confirm that this bug still exists.", "id": 5659977, "creator": "hcdump@gmail.com", "is_private": false, "author": "hcdump@gmail.com", "creation_time": "2011-08-17T17:12:48Z", "time": "2011-08-17T17:12:48Z", "tags": [], "text": "I just upgraded to Thunderbird 6.0 and can confirm that this bug still exists."}, {"count": 4, "is_private": false, "creator": "euryalus.0@gmail.com", "text": "*** Bug 677167 has been marked as a duplicate of this bug. ***", "bug_id": 672380, "tags": [], "time": "2011-08-28T10:52:55Z", "creation_time": "2011-08-28T10:52:55Z", "author": "euryalus.0@gmail.com", "raw_text": "", "attachment_id": null, "id": 5683391}, {"count": 5, "creator": "hcdump@gmail.com", "is_private": false, "time": "2011-12-07T19:32:36Z", "tags": [], "bug_id": 672380, "text": "Just updated to Thunderbird 8.0 and wanted to say that this bug still appears to be present.", "author": "hcdump@gmail.com", "creation_time": "2011-12-07T19:32:36Z", "raw_text": "Just updated to Thunderbird 8.0 and wanted to say that this bug still appears to be present.", "attachment_id": null, "id": 5898055}, {"id": 6259386, "raw_text": "I think this is a side effect introduced by changes on the bug 499008.\n\nWhen I drag and drop a local file on Windows XP SP3, Thunderbird gets the drag data with the types \"application/x-moz-file\", \"text/z-moz-url\" and \"Files\" via the data transfer. (event.dataTransfer.types)\n\nThe plaintext editor simply ignores any drag data except \"text/plain\".\nhttp://mxr.mozilla.org/comm-central/source/mozilla/editor/libeditor/text/nsPlaintextDataTransfer.cpp#163\n\nThe HTML editor accepts \"application/x-moz-file\" but ignores non-image files. (files except PNG, JPEG, GIF or any file with its MIME type \"image/*\")\nAnd it ignores the type \"text/z-moz-url\".\nhttp://mxr.mozilla.org/comm-central/source/mozilla/editor/libeditor/html/nsHTMLDataTransfer.cpp#1413\n\nAs the result, both plaintext editor and HTML editor don't handle drag and drop of non-image local files. This is clearly regression.", "attachment_id": null, "bug_id": 672380, "time": "2012-04-27T07:28:24Z", "tags": [], "text": "I think this is a side effect introduced by changes on the bug 499008.\n\nWhen I drag and drop a local file on Windows XP SP3, Thunderbird gets the drag data with the types \"application/x-moz-file\", \"text/z-moz-url\" and \"Files\" via the data transfer. (event.dataTransfer.types)\n\nThe plaintext editor simply ignores any drag data except \"text/plain\".\nhttp://mxr.mozilla.org/comm-central/source/mozilla/editor/libeditor/text/nsPlaintextDataTransfer.cpp#163\n\nThe HTML editor accepts \"application/x-moz-file\" but ignores non-image files. (files except PNG, JPEG, GIF or any file with its MIME type \"image/*\")\nAnd it ignores the type \"text/z-moz-url\".\nhttp://mxr.mozilla.org/comm-central/source/mozilla/editor/libeditor/html/nsHTMLDataTransfer.cpp#1413\n\nAs the result, both plaintext editor and HTML editor don't handle drag and drop of non-image local files. This is clearly regression.", "author": "yuki@clear-code.com", "creation_time": "2012-04-27T07:28:24Z", "count": 6, "creator": "yuki@clear-code.com", "is_private": false}, {"count": 7, "is_private": false, "creator": "ludovic@hirlimann.net", "text": "(In reply to SHIMODA Hiroshi from comment #6)\n> I think this is a side effect introduced by changes on the bug 499008.\n> \n> When I drag and drop a local file on Windows XP SP3, Thunderbird gets the\n> drag data with the types \"application/x-moz-file\", \"text/z-moz-url\" and\n> \"Files\" via the data transfer. (event.dataTransfer.types)\n> \n> The plaintext editor simply ignores any drag data except \"text/plain\".\n> http://mxr.mozilla.org/comm-central/source/mozilla/editor/libeditor/text/\n> nsPlaintextDataTransfer.cpp#163\n> \n> The HTML editor accepts \"application/x-moz-file\" but ignores non-image\n> files. (files except PNG, JPEG, GIF or any file with its MIME type \"image/*\")\n> And it ignores the type \"text/z-moz-url\".\n> http://mxr.mozilla.org/comm-central/source/mozilla/editor/libeditor/html/\n> nsHTMLDataTransfer.cpp#1413\n> \n> As the result, both plaintext editor and HTML editor don't handle drag and\n> drop of non-image local files. This is clearly regression.\n\nHow would you feel about creating a patch to fix the issue ?", "bug_id": 672380, "time": "2012-05-18T10:04:04Z", "tags": [], "creation_time": "2012-05-18T10:04:04Z", "author": "ludovic@hirlimann.net", "raw_text": "(In reply to SHIMODA Hiroshi from comment #6)\n> I think this is a side effect introduced by changes on the bug 499008.\n> \n> When I drag and drop a local file on Windows XP SP3, Thunderbird gets the\n> drag data with the types \"application/x-moz-file\", \"text/z-moz-url\" and\n> \"Files\" via the data transfer. (event.dataTransfer.types)\n> \n> The plaintext editor simply ignores any drag data except \"text/plain\".\n> http://mxr.mozilla.org/comm-central/source/mozilla/editor/libeditor/text/\n> nsPlaintextDataTransfer.cpp#163\n> \n> The HTML editor accepts \"application/x-moz-file\" but ignores non-image\n> files. (files except PNG, JPEG, GIF or any file with its MIME type \"image/*\")\n> And it ignores the type \"text/z-moz-url\".\n> http://mxr.mozilla.org/comm-central/source/mozilla/editor/libeditor/html/\n> nsHTMLDataTransfer.cpp#1413\n> \n> As the result, both plaintext editor and HTML editor don't handle drag and\n> drop of non-image local files. This is clearly regression.\n\nHow would you feel about creating a patch to fix the issue ?", "attachment_id": null, "id": 6318407}, {"count": 8, "bug_id": 672380, "creator": "ludovic@hirlimann.net", "is_private": false, "tags": [], "time": "2015-09-25T12:50:04Z", "text": "Removing myslef on all the bugs I'm cced on. Please NI me if you need something on MailNews Core bugs from me.", "author": "ludovic@hirlimann.net", "creation_time": "2015-09-25T12:50:04Z", "raw_text": "Removing myslef on all the bugs I'm cced on. Please NI me if you need something on MailNews Core bugs from me.", "attachment_id": null, "id": 10776401}]}}, "comments": {}}