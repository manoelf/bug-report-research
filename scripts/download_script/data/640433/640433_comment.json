{"bugs": {"640433": {"comments": [{"creation_time": "2011-03-10T01:47:32Z", "author": "mkanat@bugzilla.org", "creator": "mkanat@bugzilla.org", "text": "On bugzilla.mozilla.org and other places, the actual server that users are hitting is a load-balancing proxy. SSL negotiation happens between the user and the load-balancer. The load-balancer talks to Bugzilla via normal HTTP. This means that Bugzilla *thinks* it is being access via normal HTTP, when in fact the URL being used is an HTTPS URL.\n\nThe current solution that I have is to create a parameter, ssl_proxy, that makes Bugzilla set $ENV{'HTTPS'} to 'ON' if the accessing IP is in inbound_proxies.", "id": 5334966, "attachment_id": null, "count": 0, "bug_id": 640433, "raw_text": "On bugzilla.mozilla.org and other places, the actual server that users are hitting is a load-balancing proxy. SSL negotiation happens between the user and the load-balancer. The load-balancer talks to Bugzilla via normal HTTP. This means that Bugzilla *thinks* it is being access via normal HTTP, when in fact the URL being used is an HTTPS URL.\n\nThe current solution that I have is to create a parameter, ssl_proxy, that makes Bugzilla set $ENV{'HTTPS'} to 'ON' if the accessing IP is in inbound_proxies.", "tags": [], "is_private": false, "time": "2011-03-10T01:47:32Z"}, {"creation_time": "2011-03-10T02:34:51Z", "text": "I ran into an interesting problem while implementing this for a client--the proxy itself did heartbeat checks by doing \"HEAD /\" against the backend servers. (It probably should have been using testagent.cgi, but it wasn't.)  If this got \"ssl redirected\" and thus returned a 302, the proxy would think the servers were dead because they didn't return a 200.", "creator": "mkanat@bugzilla.org", "attachment_id": null, "id": 5335033, "author": "mkanat@bugzilla.org", "bug_id": 640433, "raw_text": "I ran into an interesting problem while implementing this for a client--the proxy itself did heartbeat checks by doing \"HEAD /\" against the backend servers. (It probably should have been using testagent.cgi, but it wasn't.)  If this got \"ssl redirected\" and thus returned a 302, the proxy would think the servers were dead because they didn't return a 200.", "count": 1, "time": "2011-03-10T02:34:51Z", "tags": [], "is_private": false}, {"count": 2, "raw_text": "Ah ha, nevermind, that was an error in the client's configuration--they didn't have the IPs that the heartbeats were coming from listed in inbound_proxies.", "bug_id": 640433, "is_private": false, "tags": [], "time": "2011-03-10T02:43:13Z", "creation_time": "2011-03-10T02:43:13Z", "author": "mkanat@bugzilla.org", "attachment_id": null, "id": 5335045, "creator": "mkanat@bugzilla.org", "text": "Ah ha, nevermind, that was an error in the client's configuration--they didn't have the IPs that the heartbeats were coming from listed in inbound_proxies."}, {"time": "2012-08-25T09:45:30Z", "count": 3, "bug_id": 640433, "author": "LpSolit@gmail.com", "creator": "LpSolit@gmail.com", "tags": [], "is_private": false, "raw_text": "We are going to branch for Bugzilla 4.4 next week and this bug is either too invasive to be accepted for 4.4 at this point or shows no recent activity. The target milestone is reset and will be set again *only* when a patch is attached and approved.\n\nI ask the assignee to reassign the bug to the default assignee if you don't plan to work on this bug in the near future, to make it clearer which bugs should be fixed by someone else.", "text": "We are going to branch for Bugzilla 4.4 next week and this bug is either too invasive to be accepted for 4.4 at this point or shows no recent activity. The target milestone is reset and will be set again *only* when a patch is attached and approved.\n\nI ask the assignee to reassign the bug to the default assignee if you don't plan to work on this bug in the near future, to make it clearer which bugs should be fixed by someone else.", "attachment_id": null, "id": 6583162, "creation_time": "2012-08-25T09:45:30Z"}]}}, "comments": {}}