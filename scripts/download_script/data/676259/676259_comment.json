{"bugs": {"676259": {"comments": [{"author": "exander77@gmail.com", "creator": "exander77@gmail.com", "creation_time": "2011-08-03T15:01:33Z", "time": "2011-08-03T15:01:33Z", "is_private": false, "count": 0, "id": 5630448, "bug_id": 676259, "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nWhen Im entering character with diacritic, I press \u00b4 or \u02c7 switch and character which I want to have with diacritic.\n\nEasily testable in: http://www.quirksmode.org/dom/events/tests/keys.html\n\n\nActual results:\n\nCharacter appear in the textarea, but keypress event is not fired. This problem only appears on Linux.\n\n\nExpected results:\n\nCharacter appear in the textarea and keypress event is fired. This works fine on Windows.", "tags": [], "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nWhen Im entering character with diacritic, I press \u00b4 or \u02c7 switch and character which I want to have with diacritic.\n\nEasily testable in: http://www.quirksmode.org/dom/events/tests/keys.html\n\n\nActual results:\n\nCharacter appear in the textarea, but keypress event is not fired. This problem only appears on Linux.\n\n\nExpected results:\n\nCharacter appear in the textarea and keypress event is fired. This works fine on Windows.", "attachment_id": null}, {"attachment_id": null, "raw_text": "Addition: This problem appear with Czech diactritic, not tested with others.", "text": "Addition: This problem appear with Czech diactritic, not tested with others.", "bug_id": 676259, "tags": [], "count": 1, "id": 5630450, "is_private": false, "time": "2011-08-03T15:02:33Z", "creation_time": "2011-08-03T15:02:33Z", "creator": "exander77@gmail.com", "author": "exander77@gmail.com"}, {"tags": [], "text": "Addition: The problem is present in Firefox 3.6, 4, 5 and maybe other versions.", "bug_id": 676259, "raw_text": "Addition: The problem is present in Firefox 3.6, 4, 5 and maybe other versions.", "attachment_id": null, "author": "exander77@gmail.com", "creator": "exander77@gmail.com", "time": "2011-08-04T17:29:31Z", "creation_time": "2011-08-04T17:29:31Z", "is_private": false, "count": 2, "id": 5633603}, {"tags": [], "text": "Alexander, could you please provide some clear steps to reproduce for this issue-with the exact commands used to trigger the issue? \n\nSee the following link for general guidelines for steps to reproduce:\nhttps://developer.mozilla.org/en/Bug_writing_guidelines", "bug_id": 676259, "raw_text": "Alexander, could you please provide some clear steps to reproduce for this issue-with the exact commands used to trigger the issue? \n\nSee the following link for general guidelines for steps to reproduce:\nhttps://developer.mozilla.org/en/Bug_writing_guidelines", "attachment_id": null, "author": "virgil.dicu@softvision.ro", "creation_time": "2011-08-08T13:09:21Z", "time": "2011-08-08T13:09:21Z", "creator": "virgil.dicu@softvision.ro", "id": 5639288, "count": 3, "is_private": false}, {"raw_text": "Mozilla/5.0 (X11; Linux x86_64; rv:9.0a1) Gecko/20110915 Firefox/9.0a1\n\nSetting this to resolved until more information is provided.", "attachment_id": null, "is_private": false, "count": 4, "id": 5719874, "author": "virgil.dicu@softvision.ro", "tags": [], "text": "Mozilla/5.0 (X11; Linux x86_64; rv:9.0a1) Gecko/20110915 Firefox/9.0a1\n\nSetting this to resolved until more information is provided.", "bug_id": 676259, "creator": "virgil.dicu@softvision.ro", "creation_time": "2011-09-16T07:30:21Z", "time": "2011-09-16T07:30:21Z"}, {"creator": "exander77@gmail.com", "time": "2011-09-16T07:46:41Z", "creation_time": "2011-09-16T07:46:41Z", "author": "exander77@gmail.com", "is_private": false, "count": 5, "id": 5719884, "text": "Sorry, but there is not mutch to add, when entering diactitic characters into edit field or textarea using two keys \u00b4 or \u02c7 and character, keypress event is not fired on linux. It is easily reproduceble.\n\nJust go on: http://www.quirksmode.org/dom/events/tests/keys.html\nSelect: test text area or test edit field\nPress: keys \u00b4 or \u02c7\nPress: some a..z character\n\nResult: keypress event is not fired, but should be", "bug_id": 676259, "tags": [], "attachment_id": null, "raw_text": "Sorry, but there is not mutch to add, when entering diactitic characters into edit field or textarea using two keys \u00b4 or \u02c7 and character, keypress event is not fired on linux. It is easily reproduceble.\n\nJust go on: http://www.quirksmode.org/dom/events/tests/keys.html\nSelect: test text area or test edit field\nPress: keys \u00b4 or \u02c7\nPress: some a..z character\n\nResult: keypress event is not fired, but should be"}, {"text": "http://img8.imageshack.us/img8/3917/firefoxbug.png\n\nSee result from quirksmode site. No keypress event fired, when entered character \u010d, using \u02c7 and c.", "bug_id": 676259, "tags": [], "raw_text": "http://img8.imageshack.us/img8/3917/firefoxbug.png\n\nSee result from quirksmode site. No keypress event fired, when entered character \u010d, using \u02c7 and c.", "attachment_id": null, "author": "exander77@gmail.com", "time": "2011-09-16T07:48:30Z", "creation_time": "2011-09-16T07:48:30Z", "creator": "exander77@gmail.com", "id": 5719885, "count": 6, "is_private": false}, {"bug_id": 676259, "text": "Mozilla/5.0 (X11; Linux x86_64; rv:9.0a1) Gecko/20110915 Firefox/9.0a1\nMozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0\n\n1. I added the Czech language via Keyboard-Layouts to my US keyboard in Ubuntu 11.04.\n2. I used the Alt key and any letter for entering a diacritic in http://www.quirksmode.org/dom/events/tests/keys.html\n\nAll keypress events were registered as normal. \n\nI was previously confused about the \u00b4 or \u02c7 switch, but I guess you're using a Czech layout keyboard.\n\nHave you tried this issue with a clean profile?\nhttp://support.mozilla.com/en-US/kb/Basic+Troubleshooting#Make_a_new_profile\n\nIf you think there is anything else I can do in order to reproduce, please let me know.", "tags": [], "attachment_id": null, "raw_text": "Mozilla/5.0 (X11; Linux x86_64; rv:9.0a1) Gecko/20110915 Firefox/9.0a1\nMozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0\n\n1. I added the Czech language via Keyboard-Layouts to my US keyboard in Ubuntu 11.04.\n2. I used the Alt key and any letter for entering a diacritic in http://www.quirksmode.org/dom/events/tests/keys.html\n\nAll keypress events were registered as normal. \n\nI was previously confused about the \u00b4 or \u02c7 switch, but I guess you're using a Czech layout keyboard.\n\nHave you tried this issue with a clean profile?\nhttp://support.mozilla.com/en-US/kb/Basic+Troubleshooting#Make_a_new_profile\n\nIf you think there is anything else I can do in order to reproduce, please let me know.", "creator": "virgil.dicu@softvision.ro", "creation_time": "2011-09-16T08:35:23Z", "time": "2011-09-16T08:35:23Z", "author": "virgil.dicu@softvision.ro", "is_private": false, "id": 5719928, "count": 7}, {"raw_text": "Alt? How exactly you entered the characters?\n\nOn Czech Keyboard, there is a \u00b4 and \u02c7, they are on same key and you create \u02c7 with use of shift. When you use one of this switches (\u00b4 or \u02c7), nothing appears, but next inputed character will be changed accordingly a -> \u00e1, c -> \u010d. When this character appears, no keypress event is fired, I tested several versions of Firefox on different Linux stations. Maybe it is a problem with inputting characters.\n\nSet your keyboard to Czech.\nPress \u00b4 key. Nothing sould appear on the screen.\nPress a key. Character \u00e1 should appear on the screen.", "attachment_id": null, "is_private": false, "count": 8, "id": 5719940, "author": "exander77@gmail.com", "bug_id": 676259, "text": "Alt? How exactly you entered the characters?\n\nOn Czech Keyboard, there is a \u00b4 and \u02c7, they are on same key and you create \u02c7 with use of shift. When you use one of this switches (\u00b4 or \u02c7), nothing appears, but next inputed character will be changed accordingly a -> \u00e1, c -> \u010d. When this character appears, no keypress event is fired, I tested several versions of Firefox on different Linux stations. Maybe it is a problem with inputting characters.\n\nSet your keyboard to Czech.\nPress \u00b4 key. Nothing sould appear on the screen.\nPress a key. Character \u00e1 should appear on the screen.", "tags": [], "creator": "exander77@gmail.com", "creation_time": "2011-09-16T08:42:41Z", "time": "2011-09-16T08:42:41Z"}, {"count": 9, "id": 5719965, "is_private": false, "time": "2011-09-16T09:18:09Z", "creation_time": "2011-09-16T09:18:09Z", "creator": "virgil.dicu@softvision.ro", "author": "virgil.dicu@softvision.ro", "attachment_id": null, "raw_text": "Mozilla/5.0 (X11; Linux x86_64; rv:9.0a1) Gecko/20110915 Firefox/9.0a1\n\nYou are using a Czech keyboard, that means that the layout of the keys is different towards my US keyboard. For example, I do not have the \u00b4 and \u02c7 key you were referring to. instead I have a + and = key. See US and Czech keyboard image search on google.\n\nI can reproduce the problem on Ubuntu 11.04.\nThe respective key (the one situated next to backspace, + and = for US keyboard) does not fire keypress events when language is set to Czech-in combination with another letter or not. The key seems to work ok for other browsers.\n\nI suppose that is the same behavior on your side too.", "tags": [], "bug_id": 676259, "text": "Mozilla/5.0 (X11; Linux x86_64; rv:9.0a1) Gecko/20110915 Firefox/9.0a1\n\nYou are using a Czech keyboard, that means that the layout of the keys is different towards my US keyboard. For example, I do not have the \u00b4 and \u02c7 key you were referring to. instead I have a + and = key. See US and Czech keyboard image search on google.\n\nI can reproduce the problem on Ubuntu 11.04.\nThe respective key (the one situated next to backspace, + and = for US keyboard) does not fire keypress events when language is set to Czech-in combination with another letter or not. The key seems to work ok for other browsers.\n\nI suppose that is the same behavior on your side too."}, {"author": "exander77@gmail.com", "creator": "exander77@gmail.com", "creation_time": "2011-09-16T09:25:08Z", "time": "2011-09-16T09:25:08Z", "is_private": false, "count": 10, "id": 5719971, "tags": [], "bug_id": 676259, "text": "Yes, I know, that there is no \u00b4 and \u02c7 on your \"physical\" keyboard (we have US layout printed next to our Czech layout, because we use english mutch) and you are right that the label of this key is on US keyboard + and =.\n\nYes, I think you are reproducing it right. When this key is pressed and after it some letter. There is no keypress event fired. This problem does not appear to be in other browser on Linux. And the problem is not present on Windows in any browser including Firefox. It is Firefox on Linux only problem.", "raw_text": "Yes, I know, that there is no \u00b4 and \u02c7 on your \"physical\" keyboard (we have US layout printed next to our Czech layout, because we use english mutch) and you are right that the label of this key is on US keyboard + and =.\n\nYes, I think you are reproducing it right. When this key is pressed and after it some letter. There is no keypress event fired. This problem does not appear to be in other browser on Linux. And the problem is not present on Windows in any browser including Firefox. It is Firefox on Linux only problem.", "attachment_id": null}, {"raw_text": "GTK views the \"\u00b4\" and \"a\" key presses as individual keypresses rather than a single \u00e1 keypress.  A GtkIMContext converts these into a single commit event.\nBecause the text committed doesn't match the key pressed, the text is dispatched as a text event instead of a keypress.\nhttp://hg.mozilla.org/mozilla-central/annotate/5319b0100025/widget/src/gtk2/nsGtkIMModule.cpp#l1001\n\nThis seems reasonable behaviour to me, but interesting to hear that the NT port dispatches a keypress.  I wonder whether there is a spec recommending a specific behaviour here.\n\nI guess the text event dispatched differs from the textinput event for which this test page is listening.  I don't know the details there.", "attachment_id": null, "bug_id": 676259, "text": "GTK views the \"\u00b4\" and \"a\" key presses as individual keypresses rather than a single \u00e1 keypress.  A GtkIMContext converts these into a single commit event.\nBecause the text committed doesn't match the key pressed, the text is dispatched as a text event instead of a keypress.\nhttp://hg.mozilla.org/mozilla-central/annotate/5319b0100025/widget/src/gtk2/nsGtkIMModule.cpp#l1001\n\nThis seems reasonable behaviour to me, but interesting to hear that the NT port dispatches a keypress.  I wonder whether there is a spec recommending a specific behaviour here.\n\nI guess the text event dispatched differs from the textinput event for which this test page is listening.  I don't know the details there.", "tags": [], "count": 11, "id": 5722386, "is_private": false, "author": "karlt@mozbugz.karlt.net", "time": "2011-09-19T00:24:12Z", "creation_time": "2011-09-19T00:24:12Z", "creator": "karlt@mozbugz.karlt.net"}, {"id": 5722568, "count": 12, "is_private": false, "author": "virgil.dicu@softvision.ro", "time": "2011-09-19T06:30:12Z", "creation_time": "2011-09-19T06:30:12Z", "creator": "virgil.dicu@softvision.ro", "raw_text": "Mozilla/5.0 (X11; Linux x86_64; rv:9.0a1) Gecko/20110915 Firefox/9.0a1\n\nThank you for the feedback.\n\nAs the behavior is inconsistent with Windows and other browsers', I'll set it to New for the moment, until more feedback can be provided.\n\nSTR:\n1) Install and select the Czech language from the menu bar.\n2) Load the page provided in the URL.\n3) In the text area, press the + or = key (US keyboard).\n\nNo key press event is fired.\n\nA key press event is fired when other languages are selected.", "attachment_id": null, "tags": [], "bug_id": 676259, "text": "Mozilla/5.0 (X11; Linux x86_64; rv:9.0a1) Gecko/20110915 Firefox/9.0a1\n\nThank you for the feedback.\n\nAs the behavior is inconsistent with Windows and other browsers', I'll set it to New for the moment, until more feedback can be provided.\n\nSTR:\n1) Install and select the Czech language from the menu bar.\n2) Load the page provided in the URL.\n3) In the text area, press the + or = key (US keyboard).\n\nNo key press event is fired.\n\nA key press event is fired when other languages are selected."}, {"id": 5722595, "count": 13, "is_private": false, "time": "2011-09-19T07:21:46Z", "creation_time": "2011-09-19T07:21:46Z", "creator": "karlt@mozbugz.karlt.net", "author": "karlt@mozbugz.karlt.net", "attachment_id": null, "raw_text": "(In reply to Virgil Dicu [QA] from comment #12)\n> STR:\n> 1) Install and select the Czech language from the menu bar.\n> 2) Load the page provided in the URL.\n> 3) In the text area, press the + or = key (US keyboard).\n> \n> No key press event is fired.\n\nAIUI, that part is expected.\n\n4) press the 'a' key.\n\nStill no keypress event.\n\nReporter expects and NT port generates a keypress event with '\u00e1'", "tags": [], "bug_id": 676259, "text": "(In reply to Virgil Dicu [QA] from comment #12)\n> STR:\n> 1) Install and select the Czech language from the menu bar.\n> 2) Load the page provided in the URL.\n> 3) In the text area, press the + or = key (US keyboard).\n> \n> No key press event is fired.\n\nAIUI, that part is expected.\n\n4) press the 'a' key.\n\nStill no keypress event.\n\nReporter expects and NT port generates a keypress event with '\u00e1'"}, {"is_private": false, "id": 5722596, "count": 14, "creator": "exander77@gmail.com", "creation_time": "2011-09-19T07:23:51Z", "time": "2011-09-19T07:23:51Z", "author": "exander77@gmail.com", "attachment_id": null, "raw_text": "(In reply to Karl Tomlinson (:karlt) from comment #13)\n> (In reply to Virgil Dicu [QA] from comment #12)\n> > STR:\n> > 1) Install and select the Czech language from the menu bar.\n> > 2) Load the page provided in the URL.\n> > 3) In the text area, press the + or = key (US keyboard).\n> > \n> > No key press event is fired.\n> \n> AIUI, that part is expected.\n> \n> 4) press the 'a' key.\n> \n> Still no keypress event.\n> \n> Reporter expects and NT port generates a keypress event with '\u00e1'\n\nExactly.", "tags": [], "text": "(In reply to Karl Tomlinson (:karlt) from comment #13)\n> (In reply to Virgil Dicu [QA] from comment #12)\n> > STR:\n> > 1) Install and select the Czech language from the menu bar.\n> > 2) Load the page provided in the URL.\n> > 3) In the text area, press the + or = key (US keyboard).\n> > \n> > No key press event is fired.\n> \n> AIUI, that part is expected.\n> \n> 4) press the 'a' key.\n> \n> Still no keypress event.\n> \n> Reporter expects and NT port generates a keypress event with '\u00e1'\n\nExactly.", "bug_id": 676259}, {"count": 15, "id": 5732204, "is_private": false, "author": "masayuki@d-toybox.com", "time": "2011-09-22T21:57:53Z", "creation_time": "2011-09-22T21:57:53Z", "creator": "masayuki@d-toybox.com", "raw_text": "GTK and Mac users IME for inputting dead key.\nhttp://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html#keys-DeadKeys\n\nWindows doesn't use IME for dead key processing. When IME is composing, we must not dispatch keypress event.\nhttp://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html#event-type-keypress\n\nNow, we're going to support compositionupdate event in Fx9 and later. Web pages should use them too instead of using only keypress event.\n\nI'm not sure whether we should emulate IME events on *Windows*, however, we shouldn't change behavior of Linux and Mac if they work as D3E spec.\n\nSo, the summary is invalid according to D3E.", "attachment_id": null, "tags": [], "bug_id": 676259, "text": "GTK and Mac users IME for inputting dead key.\nhttp://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html#keys-DeadKeys\n\nWindows doesn't use IME for dead key processing. When IME is composing, we must not dispatch keypress event.\nhttp://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html#event-type-keypress\n\nNow, we're going to support compositionupdate event in Fx9 and later. Web pages should use them too instead of using only keypress event.\n\nI'm not sure whether we should emulate IME events on *Windows*, however, we shouldn't change behavior of Linux and Mac if they work as D3E spec.\n\nSo, the summary is invalid according to D3E."}, {"raw_text": "> GTK and Mac users IME for inputting dead key.\n\nGTK and Mac use IME, I meant.", "attachment_id": null, "tags": [], "text": "> GTK and Mac users IME for inputting dead key.\n\nGTK and Mac use IME, I meant.", "bug_id": 676259, "id": 5732220, "count": 16, "is_private": false, "author": "masayuki@d-toybox.com", "time": "2011-09-22T22:02:28Z", "creation_time": "2011-09-22T22:02:28Z", "creator": "masayuki@d-toybox.com"}, {"bug_id": 676259, "text": "The problem still exists in firefox 21 (french keyboard: ^ + o -> \u00f4).\n\nWe could use composition events, but it's another firefox special case to handle: keypress events are correctly sent on firefox for windows and chromium for linux.\n\nWe already have to deal with keypress events wrongly triggered on non-char keys (tabs, arrows, etc).", "tags": [], "attachment_id": null, "raw_text": "The problem still exists in firefox 21 (french keyboard: ^ + o -> \u00f4).\n\nWe could use composition events, but it's another firefox special case to handle: keypress events are correctly sent on firefox for windows and chromium for linux.\n\nWe already have to deal with keypress events wrongly triggered on non-char keys (tabs, arrows, etc).", "creation_time": "2013-05-16T14:46:28Z", "time": "2013-05-16T14:46:28Z", "creator": "nicolas@toniazzi.net", "author": "nicolas@toniazzi.net", "count": 17, "id": 7430631, "is_private": false}, {"creator": "javier.puche@educa.madrid.org", "creation_time": "2014-01-16T16:37:19Z", "time": "2014-01-16T16:37:19Z", "author": "javier.puche@educa.madrid.org", "is_private": false, "id": 8298605, "count": 18, "tags": [], "bug_id": 676259, "text": "It happens still in Firefox 26, at least on Ubuntu (12.04)  If you change focus to another window, click and return to the windows, then it works.", "attachment_id": null, "raw_text": "It happens still in Firefox 26, at least on Ubuntu (12.04)  If you change focus to another window, click and return to the windows, then it works."}, {"is_private": false, "id": 13436885, "count": 19, "author": "bug-husbandry-bot@mozilla.bugs", "creator": "bug-husbandry-bot@mozilla.bugs", "time": "2018-06-29T04:59:12Z", "creation_time": "2018-06-29T04:59:12Z", "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "attachment_id": null, "tags": [], "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "bug_id": 676259}]}}, "comments": {}}