{"bugs": {"640106": {"comments": [{"tags": [], "is_private": false, "raw_text": "http://mxr.mozilla.org/mozilla-central/source/editor/txmgr/tests/TestTXMgr.cpp makes no mention of getUndoList or getRedoList.", "text": "http://mxr.mozilla.org/mozilla-central/source/editor/txmgr/tests/TestTXMgr.cpp makes no mention of getUndoList or getRedoList.", "id": 5332537, "attachment_id": null, "creation_time": "2011-03-09T08:18:51Z", "time": "2011-03-09T08:18:51Z", "count": 0, "bug_id": 640106, "author": "ajvincent@gmail.com", "creator": "ajvincent@gmail.com"}, {"time": "2011-03-09T11:29:43Z", "bug_id": 640106, "count": 1, "creator": "bugzillamozillaorg_serge_20140323@gautherie.fr", "author": "bugzillamozillaorg_serge_20140323@gautherie.fr", "tags": [], "is_private": false, "raw_text": "Ftr,\n\nThese 2 methods have been there since CVS r1.1.\n\nhttp://mxr.mozilla.org/comm-central/search?string=getRedoList&case=on\n{\n/mozilla/editor/txmgr/idl/nsITransactionManager.idl\n    * line 153 -- nsITransactionList getRedoList();\n/suite/debugQA/content/debugQAEditorOverlay.js\n    * line 425 -- PrintTxnList(txmgr.getRedoList(), \"\");\n}\nhttp://mxr.mozilla.org/comm-central/search?string=getUndoList&case=on\n{\n/mozilla/editor/txmgr/idl/nsITransactionManager.idl\n    * line 146 -- nsITransactionList getUndoList();\n/suite/debugQA/content/debugQAEditorOverlay.js\n    * line 403 -- PrintTxnList(txmgr.getUndoList(), \"\");\n}\nThen I wonder whether these methods could just be removed/replaced_somehow (now)?\n(Asking just to be explicit.)\n\n***\n\nhttp://mxr.mozilla.org/comm-central/search?string=getUndoList&case=on\n{\n/suite/browser/navigator.js\n    * line 1412 -- recentTabsItem.setAttribute(\"disabled\", !browser || browser.getUndoList().length == 0);\n/suite/browser/tabbrowser.xml\n    * line 1601 -- <method name=\"getUndoList\">\n}\nMisak, these 2 occurrences are not-yet-sync'ed sessionstore code, right?", "text": "Ftr,\n\nThese 2 methods have been there since CVS r1.1.\n\nhttp://mxr.mozilla.org/comm-central/search?string=getRedoList&case=on\n{\n/mozilla/editor/txmgr/idl/nsITransactionManager.idl\n    * line 153 -- nsITransactionList getRedoList();\n/suite/debugQA/content/debugQAEditorOverlay.js\n    * line 425 -- PrintTxnList(txmgr.getRedoList(), \"\");\n}\nhttp://mxr.mozilla.org/comm-central/search?string=getUndoList&case=on\n{\n/mozilla/editor/txmgr/idl/nsITransactionManager.idl\n    * line 146 -- nsITransactionList getUndoList();\n/suite/debugQA/content/debugQAEditorOverlay.js\n    * line 403 -- PrintTxnList(txmgr.getUndoList(), \"\");\n}\nThen I wonder whether these methods could just be removed/replaced_somehow (now)?\n(Asking just to be explicit.)\n\n***\n\nhttp://mxr.mozilla.org/comm-central/search?string=getUndoList&case=on\n{\n/suite/browser/navigator.js\n    * line 1412 -- recentTabsItem.setAttribute(\"disabled\", !browser || browser.getUndoList().length == 0);\n/suite/browser/tabbrowser.xml\n    * line 1601 -- <method name=\"getUndoList\">\n}\nMisak, these 2 occurrences are not-yet-sync'ed sessionstore code, right?", "attachment_id": null, "id": 5332746, "creation_time": "2011-03-09T11:29:43Z"}, {"creation_time": "2011-03-09T15:37:54Z", "author": "ajvincent@gmail.com", "id": 5333089, "attachment_id": null, "text": "If you do replace or remove them, be aware of what peekUndoStack and peekRedoStack say for batched transactions (which is how I got interested in this).\n\n\"Callers should be aware that this method could return return a null in some implementations if there is a batch at the top of the undo stack.\"\n\n(Doubled return word from the current text.  peekRedoStack replaces \"undo\" with \"redo\", of course.)\n\nIn other words, without getUndoList, I might not be able to inspect the batched transaction.  In our current implementation, I cannot do that inspection because the top transaction in peekUndoStack is null.\n\nbeginBatch() and endBatch() are at least moderately useful, and from my experience, removing those would seriously annoy certain Composer-based editors.", "creator": "ajvincent@gmail.com", "count": 2, "raw_text": "If you do replace or remove them, be aware of what peekUndoStack and peekRedoStack say for batched transactions (which is how I got interested in this).\n\n\"Callers should be aware that this method could return return a null in some implementations if there is a batch at the top of the undo stack.\"\n\n(Doubled return word from the current text.  peekRedoStack replaces \"undo\" with \"redo\", of course.)\n\nIn other words, without getUndoList, I might not be able to inspect the batched transaction.  In our current implementation, I cannot do that inspection because the top transaction in peekUndoStack is null.\n\nbeginBatch() and endBatch() are at least moderately useful, and from my experience, removing those would seriously annoy certain Composer-based editors.", "bug_id": 640106, "is_private": false, "tags": [], "time": "2011-03-09T15:37:54Z"}, {"tags": [], "is_private": false, "time": "2011-03-09T20:50:31Z", "count": 3, "bug_id": 640106, "raw_text": "Why do we need to test this in the cpp test?  I'm planning to get rid of it at some point.  This should be done in a new xpcshell test I guess.", "author": "ehsan.akhgari@gmail.com", "creator": "ehsan.akhgari@gmail.com", "text": "Why do we need to test this in the cpp test?  I'm planning to get rid of it at some point.  This should be done in a new xpcshell test I guess.", "id": 5334036, "attachment_id": null, "creation_time": "2011-03-09T20:50:31Z"}, {"author": "ehsan.akhgari@gmail.com", "creator": "ehsan.akhgari@gmail.com", "count": 4, "bug_id": 640106, "time": "2011-03-09T20:53:08Z", "creation_time": "2011-03-09T20:53:08Z", "id": 5334044, "attachment_id": null, "text": "(In reply to comment #1)\n> Then I wonder whether these methods could just be removed/replaced_somehow\n> (now)?\n> (Asking just to be explicit.)\n\nWhat's the value in doing that?  Add-ons and other applications might be relying on them, and I don't see the point in removing them.\n\n> Misak, these 2 occurrences are not-yet-sync'ed sessionstore code, right?\n\nThose are not relevant.  It just happens that the XUL tabbrowser control also has a method named getUndoList.", "raw_text": "(In reply to comment #1)\n> Then I wonder whether these methods could just be removed/replaced_somehow\n> (now)?\n> (Asking just to be explicit.)\n\nWhat's the value in doing that?  Add-ons and other applications might be relying on them, and I don't see the point in removing them.\n\n> Misak, these 2 occurrences are not-yet-sync'ed sessionstore code, right?\n\nThose are not relevant.  It just happens that the XUL tabbrowser control also has a method named getUndoList.", "is_private": false, "tags": []}]}}, "comments": {}}