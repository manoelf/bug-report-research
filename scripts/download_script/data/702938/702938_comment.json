{"bugs": {"702938": {"comments": [{"bug_id": 702938, "tags": [], "count": 0, "is_private": false, "id": 5852306, "text": "Created attachment 574874\nemail with attachement name with utf8 character.eml\n\nUser Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.202 Safari/535.1\n\nSteps to reproduce:\n\nI've tried to open email with attached file with filename \"test with utf8 \u0142\" where \"\u0142\" is the utf8 character.\n\n\nActual results:\n\nThe attachement doesn't show up. It does show e.g. when I try to forward this email or set \"show all body parts\" option.\n\n\nExpected results:\n\nThe attachement should show up.", "time": "2011-11-16T12:51:03Z", "attachment_id": 574874, "creation_time": "2011-11-16T12:51:03Z", "raw_text": "User Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.202 Safari/535.1\n\nSteps to reproduce:\n\nI've tried to open email with attached file with filename \"test with utf8 \u0142\" where \"\u0142\" is the utf8 character.\n\n\nActual results:\n\nThe attachement doesn't show up. It does show e.g. when I try to forward this email or set \"show all body parts\" option.\n\n\nExpected results:\n\nThe attachement should show up.", "creator": "vins@umk.pl", "author": "vins@umk.pl"}, {"count": 1, "is_private": false, "tags": [], "id": 5852439, "bug_id": 702938, "creation_time": "2011-11-16T14:28:22Z", "raw_text": "Did it show in an earlier version?", "text": "Did it show in an earlier version?", "time": "2011-11-16T14:28:22Z", "attachment_id": null, "creator": "mkmelin+mozilla@iki.fi", "author": "mkmelin+mozilla@iki.fi"}, {"author": "vins@umk.pl", "creator": "vins@umk.pl", "bug_id": 702938, "id": 5852446, "is_private": false, "count": 2, "tags": [], "attachment_id": null, "time": "2011-11-16T14:33:47Z", "text": "No, it hasn't. For example Thunderbird 7 shows this email just fine.", "creation_time": "2011-11-16T14:33:47Z", "raw_text": "No, it hasn't. For example Thunderbird 7 shows this email just fine."}, {"author": "mkmelin+mozilla@iki.fi", "creator": "mkmelin+mozilla@iki.fi", "raw_text": "I can confirm the attachment doesn't show in tb8.", "creation_time": "2011-11-16T14:36:08Z", "time": "2011-11-16T14:36:08Z", "attachment_id": null, "text": "I can confirm the attachment doesn't show in tb8.", "id": 5852452, "tags": [], "is_private": false, "count": 3, "bug_id": 702938}, {"author": "alice0775@gmail.com", "creator": "alice0775@gmail.com", "bug_id": 702938, "id": 5854721, "is_private": false, "count": 4, "tags": [], "attachment_id": null, "time": "2011-11-17T07:05:05Z", "text": "Regression window\nWorks:\nhttp://hg.mozilla.org/comm-central/rev/3b67c67a2ab0\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0a1) Gecko/20110809 Thunderbird/8.0a1 ID:20110809030029\nFails:\nhttp://hg.mozilla.org/comm-central/rev/71b93e1bf96c\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0a1) Gecko/20110810 Thunderbird/8.0a1 ID:20110810030013\nPushlog:\nhttp://hg.mozilla.org/comm-central/pushloghtml?fromchange=3b67c67a2ab0&tochange=71b93e1bf96c", "creation_time": "2011-11-17T07:05:05Z", "raw_text": "Regression window\nWorks:\nhttp://hg.mozilla.org/comm-central/rev/3b67c67a2ab0\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0a1) Gecko/20110809 Thunderbird/8.0a1 ID:20110809030029\nFails:\nhttp://hg.mozilla.org/comm-central/rev/71b93e1bf96c\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0a1) Gecko/20110810 Thunderbird/8.0a1 ID:20110810030013\nPushlog:\nhttp://hg.mozilla.org/comm-central/pushloghtml?fromchange=3b67c67a2ab0&tochange=71b93e1bf96c"}, {"creator": "jonathan.protzenko@gmail.com", "author": "jonathan.protzenko@gmail.com", "raw_text": "Interesting. jcranmer, you're the MIME expert. Can you tell if that message structure is illegal or not?", "creation_time": "2011-11-17T07:58:28Z", "text": "Interesting. jcranmer, you're the MIME expert. Can you tell if that message structure is illegal or not?", "attachment_id": null, "time": "2011-11-17T07:58:28Z", "tags": [], "count": 5, "is_private": false, "id": 5854783, "bug_id": 702938}, {"text": "Fallout from bug 564423 then, likely. FWIW the attachment name is displayed correctly in tb7.", "creator": "mkmelin+mozilla@iki.fi", "time": "2011-11-17T08:37:12Z", "attachment_id": null, "author": "mkmelin+mozilla@iki.fi", "creation_time": "2011-11-17T08:37:12Z", "raw_text": "Fallout from bug 564423 then, likely. FWIW the attachment name is displayed correctly in tb7.", "bug_id": 702938, "is_private": false, "count": 6, "tags": [], "id": 5854820}, {"bug_id": 702938, "count": 7, "is_private": false, "tags": [], "id": 5855216, "text": "This message seems to be in compliance with RFC 2231 Section 4, thus valid:\n\n>   Specifically, an asterisk at the end of a parameter name acts as an\n>   indicator that character set and language information may appear at\n>   the beginning of the parameter value. A single quote is used to\n>   separate the character set, language, and actual value information in\n>   the parameter value string, and an percent sign is used to flag\n>   octets encoded in hexadecimal.  For example:\n>\n>        Content-Type: application/x-stuff;\n>         title*=us-ascii'en-us'This%20is%20%2A%2A%2Afun%2A%2A%2A\n>\n>   Note that it is perfectly permissible to leave either the character\n>   set or language field [applies here] blank.", "time": "2011-11-17T14:40:13Z", "attachment_id": null, "creation_time": "2011-11-17T14:40:13Z", "raw_text": "This message seems to be in compliance with RFC 2231 Section 4, thus valid:\n\n>   Specifically, an asterisk at the end of a parameter name acts as an\n>   indicator that character set and language information may appear at\n>   the beginning of the parameter value. A single quote is used to\n>   separate the character set, language, and actual value information in\n>   the parameter value string, and an percent sign is used to flag\n>   octets encoded in hexadecimal.  For example:\n>\n>        Content-Type: application/x-stuff;\n>         title*=us-ascii'en-us'This%20is%20%2A%2A%2Afun%2A%2A%2A\n>\n>   Note that it is perfectly permissible to leave either the character\n>   set or language field [applies here] blank.", "creator": "rsx11m.pub@gmail.com", "author": "rsx11m.pub@gmail.com"}, {"creation_time": "2011-11-18T16:30:48Z", "raw_text": "", "time": "2011-11-18T16:30:48Z", "attachment_id": null, "text": "*** Bug 703614 has been marked as a duplicate of this bug. ***", "id": 5858316, "count": 8, "is_private": false, "tags": [], "bug_id": 702938, "author": "Hagedorn@spinfo.uni-koeln.de", "creator": "Hagedorn@spinfo.uni-koeln.de"}, {"bug_id": 702938, "id": 5858365, "count": 9, "is_private": false, "tags": [], "attachment_id": null, "time": "2011-11-18T16:55:07Z", "author": "mozilla@davidbienvenu.org", "creator": "mozilla@davidbienvenu.org", "text": "Yes, I believe this an issue with the *= syntax. I think it's running afoul of the code in bug 564423 that suppresses display of attachments w/o names.", "creation_time": "2011-11-18T16:55:07Z", "raw_text": "Yes, I believe this an issue with the *= syntax. I think it's running afoul of the code in bug 564423 that suppresses display of attachments w/o names."}, {"count": 10, "is_private": false, "tags": [], "id": 5858368, "bug_id": 702938, "creation_time": "2011-11-18T16:55:53Z", "raw_text": "we should fix this asap.", "text": "we should fix this asap.", "creator": "mozilla@davidbienvenu.org", "attachment_id": null, "time": "2011-11-18T16:55:53Z", "author": "mozilla@davidbienvenu.org"}, {"author": "jonathan.protzenko@gmail.com", "creator": "jonathan.protzenko@gmail.com", "time": "2011-11-18T18:40:10Z", "attachment_id": null, "text": "I'll try to take a look at this tomorrow.", "creation_time": "2011-11-18T18:40:10Z", "raw_text": "I'll try to take a look at this tomorrow.", "bug_id": 702938, "id": 5858727, "is_private": false, "count": 11, "tags": []}, {"creator": "jonathan.protzenko@gmail.com", "author": "jonathan.protzenko@gmail.com", "text": "As a workaround, you can use the View > Show all body parts option. I think we should fix the underlying issue, namely making sure libmime understand the filenames with that syntax. David, any idea why libmime is unable to figure out the name of the attachment with the *= syntax? Is it not designed to parse that syntax?", "attachment_id": null, "time": "2011-11-18T18:41:26Z", "raw_text": "As a workaround, you can use the View > Show all body parts option. I think we should fix the underlying issue, namely making sure libmime understand the filenames with that syntax. David, any idea why libmime is unable to figure out the name of the attachment with the *= syntax? Is it not designed to parse that syntax?", "creation_time": "2011-11-18T18:41:26Z", "bug_id": 702938, "tags": [], "count": 12, "is_private": false, "id": 5858730}, {"author": "mozilla@davidbienvenu.org", "creator": "mozilla@davidbienvenu.org", "bug_id": 702938, "id": 5858893, "tags": [], "count": 13, "is_private": false, "time": "2011-11-18T19:36:22Z", "attachment_id": null, "text": "protz, I'd be surprised if libmime doesn't understand that filename syntax. I'll try to figure out what's going on in libmime.", "creation_time": "2011-11-18T19:36:22Z", "raw_text": "protz, I'd be surprised if libmime doesn't understand that filename syntax. I'll try to figure out what's going on in libmime."}, {"creation_time": "2011-11-18T19:54:43Z", "raw_text": "At first glance, it looks like nsMIMEHeaderParamImpl::DoParameterInternal (which is part of necko) is broken - it tries to handle the filename* case, but doesn't.", "text": "At first glance, it looks like nsMIMEHeaderParamImpl::DoParameterInternal (which is part of necko) is broken - it tries to handle the filename* case, but doesn't.", "creator": "mozilla@davidbienvenu.org", "author": "mozilla@davidbienvenu.org", "attachment_id": null, "time": "2011-11-18T19:54:43Z", "tags": [], "is_private": false, "count": 14, "id": 5858951, "bug_id": 702938}, {"id": 5859049, "is_private": false, "count": 15, "tags": [], "bug_id": 702938, "creation_time": "2011-11-18T20:34:14Z", "raw_text": "hg blame picked a bad time to be broken - but that file has changed quite a bit recently. They've been trying to tighten up the parsing of those headers, which may have broken us. I'm removing the dependency on bug 564423 for now.", "time": "2011-11-18T20:34:14Z", "attachment_id": null, "text": "hg blame picked a bad time to be broken - but that file has changed quite a bit recently. They've been trying to tighten up the parsing of those headers, which may have broken us. I'm removing the dependency on bug 564423 for now.", "author": "mozilla@davidbienvenu.org", "creator": "mozilla@davidbienvenu.org"}, {"bug_id": 702938, "count": 16, "is_private": false, "tags": [], "id": 5859078, "text": "I think this is a problem with the message. I don't think there should be double quotes around the filename, from what I can tell from the rfc. I think it should look like this:\n\n filename*=utf-8''test%20with%20utf8%20%C5%82\n\ncc'ing Julian, who has been doing a lot of work with nsIMimeHeaderImpl.cpp tightening up our rfc 2231 parsing.", "time": "2011-11-18T20:46:27Z", "attachment_id": null, "creation_time": "2011-11-18T20:46:27Z", "raw_text": "I think this is a problem with the message. I don't think there should be double quotes around the filename, from what I can tell from the rfc. I think it should look like this:\n\n filename*=utf-8''test%20with%20utf8%20%C5%82\n\ncc'ing Julian, who has been doing a lot of work with nsIMimeHeaderImpl.cpp tightening up our rfc 2231 parsing.", "creator": "mozilla@davidbienvenu.org", "author": "mozilla@davidbienvenu.org"}, {"creator": "mozilla@davidbienvenu.org", "author": "mozilla@davidbienvenu.org", "creation_time": "2011-11-18T20:50:49Z", "raw_text": "In particular, I suspect bug 651185 is pertinent.", "text": "In particular, I suspect bug 651185 is pertinent.", "time": "2011-11-18T20:50:49Z", "attachment_id": null, "tags": [], "is_private": false, "count": 17, "id": 5859089, "bug_id": 702938}, {"author": "jonathan.protzenko@gmail.com", "creator": "jonathan.protzenko@gmail.com", "bug_id": 702938, "id": 5859136, "count": 18, "is_private": false, "tags": [], "time": "2011-11-18T21:11:16Z", "attachment_id": null, "text": "Thanks for the awesome detective work, David :)", "creation_time": "2011-11-18T21:11:16Z", "raw_text": "Thanks for the awesome detective work, David :)"}, {"creator": "julian.reschke@gmx.de", "author": "julian.reschke@gmx.de", "tags": [], "is_private": false, "count": 19, "id": 5859185, "bug_id": 702938, "raw_text": "Indeed, see also bug 703015.\n\nOut of curiosity, do we know which UA has sent this header field?", "creation_time": "2011-11-18T21:33:21Z", "text": "Indeed, see also bug 703015.\n\nOut of curiosity, do we know which UA has sent this header field?", "attachment_id": null, "time": "2011-11-18T21:33:21Z"}, {"tags": [], "is_private": false, "count": 20, "id": 5859195, "bug_id": 702938, "creation_time": "2011-11-18T21:37:20Z", "raw_text": "(In reply to Julian Reschke from comment #19)\n> Indeed, see also bug 703015.\nthx.\n> \n> Out of curiosity, do we know which UA has sent this header field?\n\nJulian, see bug 703614 for one source of such messages.", "text": "(In reply to Julian Reschke from comment #19)\n> Indeed, see also bug 703015.\nthx.\n> \n> Out of curiosity, do we know which UA has sent this header field?\n\nJulian, see bug 703614 for one source of such messages.", "attachment_id": null, "time": "2011-11-18T21:37:20Z", "creator": "mozilla@davidbienvenu.org", "author": "mozilla@davidbienvenu.org"}, {"creation_time": "2011-11-21T09:03:20Z", "raw_text": "FWIW, in the mean time we confirmed that the messages created by IMP (referenced in bug 703614) are broken. There's a fix for that, which we will implement:\n\nhttp://bugs.horde.org/ticket/9212\n\nOf course that still leaves messages that have been sent using the broken version.", "attachment_id": null, "time": "2011-11-21T09:03:20Z", "text": "FWIW, in the mean time we confirmed that the messages created by IMP (referenced in bug 703614) are broken. There's a fix for that, which we will implement:\n\nhttp://bugs.horde.org/ticket/9212\n\nOf course that still leaves messages that have been sent using the broken version.", "id": 5861926, "count": 21, "is_private": false, "tags": [], "bug_id": 702938, "author": "Hagedorn@spinfo.uni-koeln.de", "creator": "Hagedorn@spinfo.uni-koeln.de"}, {"bug_id": 702938, "id": 5861941, "tags": [], "count": 22, "is_private": false, "author": "julian.reschke@gmx.de", "attachment_id": null, "time": "2011-11-21T09:25:01Z", "creator": "julian.reschke@gmx.de", "text": "(In reply to Sebastian Hagedorn from comment #21)\n> FWIW, in the mean time we confirmed that the messages created by IMP\n> (referenced in bug 703614) are broken. There's a fix for that, which we will\n> implement:\n> \n> http://bugs.horde.org/ticket/9212\n> \n> Of course that still leaves messages that have been sent using the broken\n> version.\n\nThanks for the pointer. And, indeed, removing support for the broken encoding will be harder for the mail client compared to the browser.", "creation_time": "2011-11-21T09:25:01Z", "raw_text": "(In reply to Sebastian Hagedorn from comment #21)\n> FWIW, in the mean time we confirmed that the messages created by IMP\n> (referenced in bug 703614) are broken. There's a fix for that, which we will\n> implement:\n> \n> http://bugs.horde.org/ticket/9212\n> \n> Of course that still leaves messages that have been sent using the broken\n> version.\n\nThanks for the pointer. And, indeed, removing support for the broken encoding will be harder for the mail client compared to the browser."}, {"author": "julian.reschke@gmx.de", "creator": "julian.reschke@gmx.de", "id": 5861942, "tags": [], "count": 23, "is_private": false, "bug_id": 702938, "raw_text": "And, see also bug 703015.", "creation_time": "2011-11-21T09:26:09Z", "attachment_id": null, "time": "2011-11-21T09:26:09Z", "text": "And, see also bug 703015."}, {"bug_id": 702938, "id": 5862340, "tags": [], "is_private": false, "count": 24, "time": "2011-11-21T15:01:40Z", "attachment_id": null, "text": "(In reply to Sebastian Hagedorn from comment #21)\n> FWIW, in the mean time we confirmed that the messages created by IMP\n> (referenced in bug 703614) are broken. There's a fix for that, which we will\n> implement:\n> \n> http://bugs.horde.org/ticket/9212\n> \n> Of course that still leaves messages that have been sent using the broken\n> version.\n\nThank you for the solution. Fixing IMP by replacing old MIME.php library with the latest one fixes the problem. And the problem is connected to IMP not Thunderbird.", "raw_text": "(In reply to Sebastian Hagedorn from comment #21)\n> FWIW, in the mean time we confirmed that the messages created by IMP\n> (referenced in bug 703614) are broken. There's a fix for that, which we will\n> implement:\n> \n> http://bugs.horde.org/ticket/9212\n> \n> Of course that still leaves messages that have been sent using the broken\n> version.\n\nThank you for the solution. Fixing IMP by replacing old MIME.php library with the latest one fixes the problem. And the problem is connected to IMP not Thunderbird.", "creation_time": "2011-11-21T15:01:40Z", "author": "vins@umk.pl", "creator": "vins@umk.pl"}, {"author": "vins@umk.pl", "creator": "vins@umk.pl", "bug_id": 702938, "id": 5862344, "tags": [], "count": 25, "is_private": false, "attachment_id": null, "time": "2011-11-21T15:02:51Z", "text": "(In reply to Vins from comment #24)\n> Thank you for the solution. Fixing IMP by replacing old MIME.php library\n> with the latest one fixes the problem. And the problem is connected to IMP\n> not Thunderbird.\n\nAnd I meant Horde, not IMP :)", "raw_text": "(In reply to Vins from comment #24)\n> Thank you for the solution. Fixing IMP by replacing old MIME.php library\n> with the latest one fixes the problem. And the problem is connected to IMP\n> not Thunderbird.\n\nAnd I meant Horde, not IMP :)", "creation_time": "2011-11-21T15:02:51Z"}, {"creation_time": "2011-11-21T15:07:36Z", "raw_text": "So do we have any evidence of another MUA sending the same type of broken header, or is this really just one client which already has been fixed?", "time": "2011-11-21T15:07:36Z", "attachment_id": null, "text": "So do we have any evidence of another MUA sending the same type of broken header, or is this really just one client which already has been fixed?", "id": 5862354, "is_private": false, "count": 26, "tags": [], "bug_id": 702938, "author": "julian.reschke@gmx.de", "creator": "julian.reschke@gmx.de"}, {"bug_id": 702938, "id": 5862367, "is_private": false, "count": 27, "tags": [], "attachment_id": null, "time": "2011-11-21T15:14:49Z", "text": "(In reply to Julian Reschke from comment #26)\n> So do we have any evidence of another MUA sending the same type of broken\n> header, or is this really just one client which already has been fixed?\n\nI don't know of any other MUA sending out the same type of broken header. Doesn't the fix for bug 703015 fix this case as well?", "creation_time": "2011-11-21T15:14:49Z", "raw_text": "(In reply to Julian Reschke from comment #26)\n> So do we have any evidence of another MUA sending the same type of broken\n> header, or is this really just one client which already has been fixed?\n\nI don't know of any other MUA sending out the same type of broken header. Doesn't the fix for bug 703015 fix this case as well?", "author": "mozilla@davidbienvenu.org", "creator": "mozilla@davidbienvenu.org"}, {"creator": "julian.reschke@gmx.de", "author": "julian.reschke@gmx.de", "bug_id": 702938, "tags": [], "count": 28, "is_private": false, "id": 5862398, "text": "(In reply to David :Bienvenu from comment #27)\n> I don't know of any other MUA sending out the same type of broken header.\n> Doesn't the fix for bug 703015 fix this case as well?\n\nYes, but that fix (IMHO) is a temporary workaround because of the OWA breakage. Once OWA is fixed and most customers have it installed, I'd like to put the conformance improvement back in.", "time": "2011-11-21T15:25:18Z", "attachment_id": null, "raw_text": "(In reply to David :Bienvenu from comment #27)\n> I don't know of any other MUA sending out the same type of broken header.\n> Doesn't the fix for bug 703015 fix this case as well?\n\nYes, but that fix (IMHO) is a temporary workaround because of the OWA breakage. Once OWA is fixed and most customers have it installed, I'd like to put the conformance improvement back in.", "creation_time": "2011-11-21T15:25:18Z"}, {"creator": "mozilla@davidbienvenu.org", "author": "mozilla@davidbienvenu.org", "tags": [], "count": 29, "is_private": false, "id": 5862507, "bug_id": 702938, "raw_text": "(In reply to Julian Reschke from comment #28)\n\n> \n> Yes, but that fix (IMHO) is a temporary workaround because of the OWA\n> breakage. Once OWA is fixed and most customers have it installed, I'd like\n> to put the conformance improvement back in.\n\nThere tends to be a very long tail for customers installing fixes to MS software...so it's going to be hard to know when most customers have it installed.", "creation_time": "2011-11-21T16:08:25Z", "text": "(In reply to Julian Reschke from comment #28)\n\n> \n> Yes, but that fix (IMHO) is a temporary workaround because of the OWA\n> breakage. Once OWA is fixed and most customers have it installed, I'd like\n> to put the conformance improvement back in.\n\nThere tends to be a very long tail for customers installing fixes to MS software...so it's going to be hard to know when most customers have it installed.", "attachment_id": null, "time": "2011-11-21T16:08:25Z"}, {"creator": "Hagedorn@spinfo.uni-koeln.de", "author": "Hagedorn@spinfo.uni-koeln.de", "text": "I'm surprised this ticket was closed. It's true that the problem was partly caused by a buggy client, but even though that client is fixed now, that doesn't change anything about the countless messages that have been sent using the buggy version. I can understand the desire to fix the parsing of MIME encodings in the Mozilla core, cf. Bug 651185, but I think Firefox and Thunderbird are very different beasts with respect to that. For Firefox it's much easier to declare an implementation broken (even though Microsoft's buggy OWA is apparently too big to go up against) than for Thunderbird. The problem with an e-mail client is that you can't easily fix history. The messages in the archives are what they are.\nI think Thunderbird should continue to indicate the presence of those attachments in some manner, even if their MIME encodings are malformed. Perhaps there's a way to mark them as such, i.e. broken. For the average user it now looks as though there is no attachment at all. I think that's not acceptable.", "attachment_id": null, "time": "2011-11-25T23:26:29Z", "raw_text": "I'm surprised this ticket was closed. It's true that the problem was partly caused by a buggy client, but even though that client is fixed now, that doesn't change anything about the countless messages that have been sent using the buggy version. I can understand the desire to fix the parsing of MIME encodings in the Mozilla core, cf. Bug 651185, but I think Firefox and Thunderbird are very different beasts with respect to that. For Firefox it's much easier to declare an implementation broken (even though Microsoft's buggy OWA is apparently too big to go up against) than for Thunderbird. The problem with an e-mail client is that you can't easily fix history. The messages in the archives are what they are.\nI think Thunderbird should continue to indicate the presence of those attachments in some manner, even if their MIME encodings are malformed. Perhaps there's a way to mark them as such, i.e. broken. For the average user it now looks as though there is no attachment at all. I think that's not acceptable.", "creation_time": "2011-11-25T23:26:29Z", "bug_id": 702938, "tags": [], "count": 30, "is_private": false, "id": 5872960}, {"bug_id": 702938, "tags": [], "count": 31, "is_private": false, "id": 5873415, "text": "I think Sebastian has a very good point in: https://bugzilla.mozilla.org/show_bug.cgi?id=702938#c30.\n\nI'm reopening the bug.", "time": "2011-11-26T10:37:52Z", "attachment_id": null, "creation_time": "2011-11-26T10:37:52Z", "raw_text": "I think Sebastian has a very good point in: https://bugzilla.mozilla.org/show_bug.cgi?id=702938#c30.\n\nI'm reopening the bug.", "creator": "vins@umk.pl", "author": "vins@umk.pl"}, {"creation_time": "2011-11-26T12:55:28Z", "raw_text": "(In reply to Sebastian Hagedorn from comment #30)\n> I'm surprised this ticket was closed. It's true that the problem was partly\n> caused by a buggy client, but even though that client is fixed now, that\n> doesn't change anything about the countless messages that have been sent\n> using the buggy version. I can understand the desire to fix the parsing of\n> MIME encodings in the Mozilla core, cf. Bug 651185, but I think Firefox and\n> Thunderbird are very different beasts with respect to that. For Firefox it's\n> much easier to declare an implementation broken (even though Microsoft's\n> buggy OWA is apparently too big to go up against) than for Thunderbird. The\n> problem with an e-mail client is that you can't easily fix history. The\n> messages in the archives are what they are.\n> I think Thunderbird should continue to indicate the presence of those\n> attachments in some manner, even if their MIME encodings are malformed.\n> Perhaps there's a way to mark them as such, i.e. broken. For the average\n> user it now looks as though there is no attachment at all. I think that's\n> not acceptable.\n\n(a) The change was backed out for now. (b) Thunderbird *should* indicate that there's an attachment with missing filename information (that's what happens in the browser). I understand that's not the case? If so, this should be treated as separate bug which probably is simple to fix.", "attachment_id": null, "time": "2011-11-26T12:55:28Z", "text": "(In reply to Sebastian Hagedorn from comment #30)\n> I'm surprised this ticket was closed. It's true that the problem was partly\n> caused by a buggy client, but even though that client is fixed now, that\n> doesn't change anything about the countless messages that have been sent\n> using the buggy version. I can understand the desire to fix the parsing of\n> MIME encodings in the Mozilla core, cf. Bug 651185, but I think Firefox and\n> Thunderbird are very different beasts with respect to that. For Firefox it's\n> much easier to declare an implementation broken (even though Microsoft's\n> buggy OWA is apparently too big to go up against) than for Thunderbird. The\n> problem with an e-mail client is that you can't easily fix history. The\n> messages in the archives are what they are.\n> I think Thunderbird should continue to indicate the presence of those\n> attachments in some manner, even if their MIME encodings are malformed.\n> Perhaps there's a way to mark them as such, i.e. broken. For the average\n> user it now looks as though there is no attachment at all. I think that's\n> not acceptable.\n\n(a) The change was backed out for now. (b) Thunderbird *should* indicate that there's an attachment with missing filename information (that's what happens in the browser). I understand that's not the case? If so, this should be treated as separate bug which probably is simple to fix.", "id": 5873485, "is_private": false, "count": 32, "tags": [], "bug_id": 702938, "author": "julian.reschke@gmx.de", "creator": "julian.reschke@gmx.de"}, {"creator": "rsx11m.pub@gmail.com", "author": "rsx11m.pub@gmail.com", "text": "For reference, that was bug 703015 and should become effective with TB 9.0, pending the outcome of any follow-up work in bug 651185.", "attachment_id": null, "time": "2011-11-26T13:17:53Z", "raw_text": "For reference, that was bug 703015 and should become effective with TB 9.0, pending the outcome of any follow-up work in bug 651185.", "creation_time": "2011-11-26T13:17:53Z", "bug_id": 702938, "is_private": false, "count": 33, "tags": [], "id": 5873502}, {"bug_id": 702938, "tags": [], "count": 34, "is_private": false, "id": 5873507, "text": "I don't think \"blocks 651185\" is correct here. That bug was reopened because the change was backed out.", "time": "2011-11-26T13:26:09Z", "attachment_id": null, "raw_text": "I don't think \"blocks 651185\" is correct here. That bug was reopened because the change was backed out.", "creation_time": "2011-11-26T13:26:09Z", "creator": "julian.reschke@gmx.de", "author": "julian.reschke@gmx.de"}, {"tags": [], "is_private": false, "count": 35, "id": 5873513, "bug_id": 702938, "raw_text": "Well, we need some reference that the work there affects TB's interpretation of messages (blocking in the sense of \"regression\" and marking the causing bug by a dependency, that's usually done in main/news but you are likely more familiar with what's acceptable for Core bugs). Feel free to make any changes as you see fit, but the people involved in bug 651185 should be aware that it affects not just what Firefox does and that there are more complex cases to be considered.", "creation_time": "2011-11-26T13:31:01Z", "text": "Well, we need some reference that the work there affects TB's interpretation of messages (blocking in the sense of \"regression\" and marking the causing bug by a dependency, that's usually done in main/news but you are likely more familiar with what's acceptable for Core bugs). Feel free to make any changes as you see fit, but the people involved in bug 651185 should be aware that it affects not just what Firefox does and that there are more complex cases to be considered.", "time": "2011-11-26T13:31:01Z", "attachment_id": null, "creator": "rsx11m.pub@gmail.com", "author": "rsx11m.pub@gmail.com"}, {"id": 5873536, "count": 36, "is_private": false, "tags": [], "bug_id": 702938, "raw_text": "(In reply to rsx11m from comment #35)\n> Well, we need some reference that the work there affects TB's interpretation\n> of messages (blocking in the sense of \"regression\" and marking the causing\n> bug by a dependency, that's usually done in main/news but you are likely\n> more familiar with what's acceptable for Core bugs). Feel free to make any\n> changes as you see fit, but the people involved in bug 651185 should be\n> aware that it affects not just what Firefox does and that there are more\n> complex cases to be considered.\n\nTrust me, the people are aware :-)", "creation_time": "2011-11-26T14:09:49Z", "attachment_id": null, "time": "2011-11-26T14:09:49Z", "text": "(In reply to rsx11m from comment #35)\n> Well, we need some reference that the work there affects TB's interpretation\n> of messages (blocking in the sense of \"regression\" and marking the causing\n> bug by a dependency, that's usually done in main/news but you are likely\n> more familiar with what's acceptable for Core bugs). Feel free to make any\n> changes as you see fit, but the people involved in bug 651185 should be\n> aware that it affects not just what Firefox does and that there are more\n> complex cases to be considered.\n\nTrust me, the people are aware :-)", "author": "julian.reschke@gmx.de", "creator": "julian.reschke@gmx.de"}, {"id": 5873632, "tags": [], "is_private": false, "count": 37, "bug_id": 702938, "creation_time": "2011-11-26T15:55:34Z", "raw_text": "Yes, looking at the assignee of those bugs, that's certainly correct. ;-)\nI was also thinking about the reviewers and people cc-ed to it.\n\nThanks for opening bug 705431 on the general issue that simply encountering a header which is considered to be not valid shouldn't make the attachment hide.", "author": "rsx11m.pub@gmail.com", "attachment_id": null, "time": "2011-11-26T15:55:34Z", "text": "Yes, looking at the assignee of those bugs, that's certainly correct. ;-)\nI was also thinking about the reviewers and people cc-ed to it.\n\nThanks for opening bug 705431 on the general issue that simply encountering a header which is considered to be not valid shouldn't make the attachment hide.", "creator": "rsx11m.pub@gmail.com"}, {"creation_time": "2011-12-01T04:58:30Z", "raw_text": "utf-8 or not is irrelevant to problem. removing \"utf-8 character\" from bug summary to avoid misleading and confusion.", "time": "2011-12-01T04:58:30Z", "attachment_id": null, "text": "utf-8 or not is irrelevant to problem. removing \"utf-8 character\" from bug summary to avoid misleading and confusion.", "id": 5884393, "tags": [], "is_private": false, "count": 38, "bug_id": 702938, "author": "m-wada@usa.com", "creator": "m-wada@usa.com"}]}}, "comments": {}}