{"comments": {}, "bugs": {"689419": {"comments": [{"count": 0, "id": 5738927, "is_private": false, "author": "cjones.bugs@gmail.com", "creation_time": "2011-09-27T01:36:13Z", "time": "2011-09-27T01:36:13Z", "creator": "cjones.bugs@gmail.com", "raw_text": "The right way to do this appears to be setting glXSwapIntervalSGI(1).  See http://www.opengl.org/registry/specs/SGI/swap_control.txt and http://www.opengl.org/wiki/Swap_Interval.\n\nThis should be a fairly straightforward patch to GLContextProviderGL.", "attachment_id": null, "bug_id": 689419, "text": "The right way to do this appears to be setting glXSwapIntervalSGI(1).  See http://www.opengl.org/registry/specs/SGI/swap_control.txt and http://www.opengl.org/wiki/Swap_Interval.\n\nThis should be a fairly straightforward patch to GLContextProviderGL.", "tags": []}, {"attachment_id": null, "raw_text": "Since Canvas2D and WebGL both use <canvas>, and requestAnimationFrame() is now used as one method for Chrome/Webkit to run WebGL to VSYNC, it's worth linking this bug to this one as well:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=707884", "tags": [], "text": "Since Canvas2D and WebGL both use <canvas>, and requestAnimationFrame() is now used as one method for Chrome/Webkit to run WebGL to VSYNC, it's worth linking this bug to this one as well:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=707884", "bug_id": 689419, "is_private": false, "count": 1, "id": 6804003, "creator": "registerbox@marky.ca", "time": "2012-11-08T08:54:54Z", "creation_time": "2012-11-08T08:54:54Z", "author": "registerbox@marky.ca"}, {"tags": [], "bug_id": 689419, "text": "A swap interval of 1 is the default in Mesa [1] and configurable through driconf [2].\n\nThat sounds good for windows that are not composited.\nFor composited windows it has the disadvantage of increasing latency by a full frame, expect perhaps where it might be able to race/jitter in ahead of the compositor in some rare situations (Bug 856427 comment 18).\n\nIf the compositing manager supports extended frame synchronization [3], indicated by _NET_WM_FRAME_DRAWN, then the application would be better to use a single-buffered window and composite layers in response to _NET_WM_FRAME_DRAWN.\n\n[1] http://cgit.freedesktop.org/mesa/mesa/tree/src/glx/dri2_glx.c?id=mesa-9.1.1#n370\n[2] http://dri.freedesktop.org/wiki/ConfigurationOptions#Synchronization_with_vertical_refresh_.28swap_intervals.29\n[3] http://fishsoup.net/misc/wm-spec-synchronization.html#idp5082256", "attachment_id": null, "raw_text": "A swap interval of 1 is the default in Mesa [1] and configurable through driconf [2].\n\nThat sounds good for windows that are not composited.\nFor composited windows it has the disadvantage of increasing latency by a full frame, expect perhaps where it might be able to race/jitter in ahead of the compositor in some rare situations (Bug 856427 comment 18).\n\nIf the compositing manager supports extended frame synchronization [3], indicated by _NET_WM_FRAME_DRAWN, then the application would be better to use a single-buffered window and composite layers in response to _NET_WM_FRAME_DRAWN.\n\n[1] http://cgit.freedesktop.org/mesa/mesa/tree/src/glx/dri2_glx.c?id=mesa-9.1.1#n370\n[2] http://dri.freedesktop.org/wiki/ConfigurationOptions#Synchronization_with_vertical_refresh_.28swap_intervals.29\n[3] http://fishsoup.net/misc/wm-spec-synchronization.html#idp5082256", "time": "2013-04-04T23:55:52Z", "creation_time": "2013-04-04T23:55:52Z", "creator": "karlt@mozbugz.karlt.net", "author": "karlt@mozbugz.karlt.net", "id": 7279719, "count": 2, "is_private": false}, {"is_private": false, "count": 3, "id": 7287545, "creator": "karlt@mozbugz.karlt.net", "creation_time": "2013-04-08T06:19:28Z", "time": "2013-04-08T06:19:28Z", "author": "karlt@mozbugz.karlt.net", "attachment_id": null, "raw_text": "(In reply to Karl Tomlinson (:karlt) from comment #2)\n> If the compositing manager supports extended frame synchronization [3],\n> indicated by _NET_WM_FRAME_DRAWN, then the application would be better to\n> use a single-buffered window and composite layers in response to\n> _NET_WM_FRAME_DRAWN.\n\nHmm.  Seems this may not yet work correctly with NVIDIA GLX.\nhttps://mail.gnome.org/archives/wm-spec-list/2013-April/msg00003.html\nhttps://mail.gnome.org/archives/wm-spec-list/2011-November/msg00002.html et seq.", "tags": [], "text": "(In reply to Karl Tomlinson (:karlt) from comment #2)\n> If the compositing manager supports extended frame synchronization [3],\n> indicated by _NET_WM_FRAME_DRAWN, then the application would be better to\n> use a single-buffered window and composite layers in response to\n> _NET_WM_FRAME_DRAWN.\n\nHmm.  Seems this may not yet work correctly with NVIDIA GLX.\nhttps://mail.gnome.org/archives/wm-spec-list/2013-April/msg00003.html\nhttps://mail.gnome.org/archives/wm-spec-list/2011-November/msg00002.html et seq.", "bug_id": 689419}]}}}