{"bugs": {"675582": {"comments": [{"author": "gosimek@gmail.com", "creation_time": "2011-08-01T08:29:40Z", "time": "2011-08-01T08:29:40Z", "bug_id": 675582, "tags": [], "text": "Created attachment 549742\nTest file\n\nUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nWe've got element with \"cursor: pointer\" and \"cursor: default\" on the :hover state (see attached example).\n\nThere is a glitch when mouse entered an element - cursor changes his appearance for short period of time. \n\nThe glitch do not appears when mouse leaves element. \n\nIt could be a Gecko issue because Webkit browsers handle this correctly.", "creator": "gosimek@gmail.com", "is_private": false, "count": 0, "id": 5624834, "attachment_id": 549742, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nWe've got element with \"cursor: pointer\" and \"cursor: default\" on the :hover state (see attached example).\n\nThere is a glitch when mouse entered an element - cursor changes his appearance for short period of time. \n\nThe glitch do not appears when mouse leaves element. \n\nIt could be a Gecko issue because Webkit browsers handle this correctly."}, {"creator": "mstange.moz@gmail.com", "is_private": false, "count": 1, "author": "mstange.moz@gmail.com", "creation_time": "2011-08-01T11:13:59Z", "time": "2011-08-01T11:13:59Z", "tags": [], "bug_id": 675582, "text": "I agree that it's a bug, but why don't you just set cursor: default for the non-:hover state, too?", "attachment_id": null, "raw_text": "I agree that it's a bug, but why don't you just set cursor: default for the non-:hover state, too?", "id": 5624965}, {"raw_text": "WFM:\nMozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.2.19) Gecko/20110707 Firefox/3.6.19\n\nReproduced:\nMozilla/5.0 (X11; Linux x86_64; rv:5.0.1) Gecko/20100101 Firefox/5.0.1\nMozilla/5.0 (X11; Linux x86_64; rv:6.0) Gecko/20100101 Firefox/6.0\nMozilla/5.0 (X11; Linux x86_64; rv:7.0a2) Gecko/20110731 Firefox/7.0a2\nMozilla/5.0 (X11; Linux x86_64; rv:8.0a1) Gecko/20110801 Firefox/8.0a1\n\nLast good nightly: 2009-12-31\nFirst bad nightly: 2010-01-01\n\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=6d56925adfd5&tochange=cb5a303025fe\n\nThe first bad revision is:\nchangeset:   36797:2e580c431f4e\nuser:        Boris Zbarsky <bzbarsky@mit.edu>\ndate:        Thu Dec 31 14:07:57 2009 -0500\nsummary:     Bug 528306 part 3.  Hook up restyle processing to nsRefreshDriver.  r=dbaron\n\nhttp://hg.mozilla.org/mozilla-central/rev/2e580c431f4e", "attachment_id": null, "id": 5625086, "count": 2, "creator": "mozilla@ahlblom.eu", "is_private": false, "bug_id": 675582, "tags": [], "time": "2011-08-01T13:21:01Z", "text": "WFM:\nMozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.2.19) Gecko/20110707 Firefox/3.6.19\n\nReproduced:\nMozilla/5.0 (X11; Linux x86_64; rv:5.0.1) Gecko/20100101 Firefox/5.0.1\nMozilla/5.0 (X11; Linux x86_64; rv:6.0) Gecko/20100101 Firefox/6.0\nMozilla/5.0 (X11; Linux x86_64; rv:7.0a2) Gecko/20110731 Firefox/7.0a2\nMozilla/5.0 (X11; Linux x86_64; rv:8.0a1) Gecko/20110801 Firefox/8.0a1\n\nLast good nightly: 2009-12-31\nFirst bad nightly: 2010-01-01\n\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=6d56925adfd5&tochange=cb5a303025fe\n\nThe first bad revision is:\nchangeset:   36797:2e580c431f4e\nuser:        Boris Zbarsky <bzbarsky@mit.edu>\ndate:        Thu Dec 31 14:07:57 2009 -0500\nsummary:     Bug 528306 part 3.  Hook up restyle processing to nsRefreshDriver.  r=dbaron\n\nhttp://hg.mozilla.org/mozilla-central/rev/2e580c431f4e", "author": "mozilla@ahlblom.eu", "creation_time": "2011-08-01T13:21:01Z"}, {"creator": "bzbarsky@mit.edu", "is_private": false, "tags": [], "time": "2011-08-01T13:42:07Z", "text": "So presumably what happens is that the cursor is updated immediately on mouseover but the hover state does not update until the next refresh timer firing.\n\nIn particular, the cursor update is not flushing out style.\n\nOlli, do you know whether there's a reason the UpdateCursor call is sync under the NS_MOUSE_MOVE case in the ESM, and in particular comes before the GenrateMouseEnterExit?  Could we do the cursor update off the next refresh driver refresh instead?  The fact that UpdateCursor can mess with the mousemove event status is sort of confusing to me....", "author": "bzbarsky@mit.edu", "creation_time": "2011-08-01T13:42:07Z", "raw_text": "So presumably what happens is that the cursor is updated immediately on mouseover but the hover state does not update until the next refresh timer firing.\n\nIn particular, the cursor update is not flushing out style.\n\nOlli, do you know whether there's a reason the UpdateCursor call is sync under the NS_MOUSE_MOVE case in the ESM, and in particular comes before the GenrateMouseEnterExit?  Could we do the cursor update off the next refresh driver refresh instead?  The fact that UpdateCursor can mess with the mousemove event status is sort of confusing to me....", "attachment_id": null, "id": 5625103, "count": 3, "bug_id": 675582}, {"creator": "bugs@pettay.fi", "is_private": false, "count": 4, "author": "bugs@pettay.fi", "creation_time": "2011-08-01T13:45:30Z", "tags": [], "time": "2011-08-01T13:45:30Z", "bug_id": 675582, "text": "David might remember better the cursor and hover state handling.\n\nBut I don't think there is any reason for the sync call.", "attachment_id": null, "raw_text": "David might remember better the cursor and hover state handling.\n\nBut I don't think there is any reason for the sync call.", "id": 5625110}, {"is_private": false, "creator": "amasresha@softvision.com", "creation_time": "2016-05-19T22:59:04Z", "author": "amasresha@softvision.com", "text": "This is not reproducible in windows-10 and Ubuntu 14.04 with latest Nightly. The mouse does not change appearance and no glitches.\nConsidering this, I will mark this issue as Resolved-WORKSFORME. If anyone can still reproduce it, feel free to reopen the issue and provide more information. Thanks\n\n--\nVersion \t49.0a1\nBuild ID \t20160519030232\nUpdate Channel \tnightly\nUser Agent \tMozilla/5.0 (X11; Linux i686; rv:49.0) Gecko/20100101 Firefox/49.0", "time": "2016-05-19T22:59:04Z", "tags": [], "attachment_id": null, "raw_text": "This is not reproducible in windows-10 and Ubuntu 14.04 with latest Nightly. The mouse does not change appearance and no glitches.\nConsidering this, I will mark this issue as Resolved-WORKSFORME. If anyone can still reproduce it, feel free to reopen the issue and provide more information. Thanks\n\n--\nVersion \t49.0a1\nBuild ID \t20160519030232\nUpdate Channel \tnightly\nUser Agent \tMozilla/5.0 (X11; Linux i686; rv:49.0) Gecko/20100101 Firefox/49.0", "id": 11423987, "count": 5, "bug_id": 675582}, {"id": 11425323, "attachment_id": null, "raw_text": "Glitch still occurs on Regular version 47.0b6 and Developer Edition 48.0a2 (2015-05-20) - reproducible using attached file. \n\nOS: Win 10\nUA: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0\nUA DEV: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:48.0) Gecko/20100101 Firefox/48.0", "author": "gosimek@gmail.com", "creation_time": "2016-05-20T12:37:43Z", "tags": [], "time": "2016-05-20T12:37:43Z", "text": "Glitch still occurs on Regular version 47.0b6 and Developer Edition 48.0a2 (2015-05-20) - reproducible using attached file. \n\nOS: Win 10\nUA: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0\nUA DEV: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:48.0) Gecko/20100101 Firefox/48.0", "creator": "gosimek@gmail.com", "is_private": false, "bug_id": 675582, "count": 6}, {"bug_id": 675582, "count": 7, "id": 11481921, "attachment_id": null, "raw_text": "This is reproducible with the developer version using the attached test case. Glitch happens for less than a second when mouse enters to the element.  \n\n----\nVersion \t48.0a2\nBuild ID \t20160606004039\nUpdate Channel \taurora\nUser Agent \tMozilla/5.0 (Windows NT 10.0; WOW64; rv:48.0) Gecko/20100101 Firefox/48.0", "author": "amasresha@softvision.com", "creation_time": "2016-06-13T15:25:45Z", "tags": [], "time": "2016-06-13T15:25:45Z", "text": "This is reproducible with the developer version using the attached test case. Glitch happens for less than a second when mouse enters to the element.  \n\n----\nVersion \t48.0a2\nBuild ID \t20160606004039\nUpdate Channel \taurora\nUser Agent \tMozilla/5.0 (Windows NT 10.0; WOW64; rv:48.0) Gecko/20100101 Firefox/48.0", "creator": "amasresha@softvision.com", "is_private": false}, {"count": 8, "bug_id": 675582, "creator": "bzbarsky@mit.edu", "is_private": false, "author": "bzbarsky@mit.edu", "creation_time": "2020-03-10T19:10:23Z", "tags": [], "time": "2020-03-10T19:10:23Z", "text": "The code at https://searchfox.org/mozilla-central/rev/2fd8ffcf087bc59a8e5c962965bbb7bf230bcd28/dom/events/EventStateManager.cpp#677,685 still seems to have this issue of updating the cursor before updating hover state...", "attachment_id": null, "raw_text": "The code at https://searchfox.org/mozilla-central/rev/2fd8ffcf087bc59a8e5c962965bbb7bf230bcd28/dom/events/EventStateManager.cpp#677,685 still seems to have this issue of updating the cursor before updating hover state...", "id": 14687658}]}}, "comments": {}}