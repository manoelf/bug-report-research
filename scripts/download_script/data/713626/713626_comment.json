{"comments": {}, "bugs": {"713626": {"comments": [{"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-12-27T10:14:36Z", "creator": "jwatt@jwatt.org", "time": "2011-12-27T10:14:36Z", "raw_text": "The patch for bug 668163 mapped <svg> 'width' and 'height' into style. This uncovered an existing bug which causes the pre-existing test layout/svg/crashtests/386566-1.svg to fail an assertion. To enable the patch for bug 668163 to land the test was marked as asserting, but we should really resolve the underlying problem.", "bug_id": 713626, "id": 5940599, "author": "jwatt@jwatt.org", "text": "The patch for bug 668163 mapped <svg> 'width' and 'height' into style. This uncovered an existing bug which causes the pre-existing test layout/svg/crashtests/386566-1.svg to fail an assertion. To enable the patch for bug 668163 to land the test was marked as asserting, but we should really resolve the underlying problem.", "count": 0}, {"raw_text": "Boris uncovered the root cause and had the following to say in bug 668163 comment 69:\n\nSo what seems to happen is the following:\n\n1)  Any style computation on any SVG element always triggers an animation restyle on that element (see nsSVGElement::WalkContentStyleRules).\n\n2)  Having a pending XBL binding causes us to not create child frames for an element.\n\nSo we end up with pending animation restyles for the rect and the <svg> that we post while restyling it.  Then we process animation restyles starting at the animation restyle root (the <svg>).  This has no child frames because of the XBL thing, so we don't process the animation restyle for the rect.\n\nIt's not clear to me why we have that animation restyle request to start with... but we could probably handle the XBL case a bit better.", "attachment_id": null, "time": "2011-12-27T10:15:56Z", "tags": [], "count": 1, "text": "Boris uncovered the root cause and had the following to say in bug 668163 comment 69:\n\nSo what seems to happen is the following:\n\n1)  Any style computation on any SVG element always triggers an animation restyle on that element (see nsSVGElement::WalkContentStyleRules).\n\n2)  Having a pending XBL binding causes us to not create child frames for an element.\n\nSo we end up with pending animation restyles for the rect and the <svg> that we post while restyling it.  Then we process animation restyles starting at the animation restyle root (the <svg>).  This has no child frames because of the XBL thing, so we don't process the animation restyle for the rect.\n\nIt's not clear to me why we have that animation restyle request to start with... but we could probably handle the XBL case a bit better.", "author": "jwatt@jwatt.org", "creator": "jwatt@jwatt.org", "creation_time": "2011-12-27T10:15:56Z", "is_private": false, "id": 5940600, "bug_id": 713626}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "count": 2, "text": "Note that we may want two separate bugs here:  #2 above is what causes the assert, but #1 is a performance problem imo.", "bug_id": 713626, "id": 5941123, "creation_time": "2011-12-27T17:49:06Z", "is_private": false, "time": "2011-12-27T17:49:06Z", "attachment_id": null, "raw_text": "Note that we may want two separate bugs here:  #2 above is what causes the assert, but #1 is a performance problem imo.", "tags": []}]}}}