{"bugs": {"1629809": {"comments": [{"raw_text": "when the conditioned profile is passed to the browser though geckodriver, its done over the wire using a POST call.\n\nall geckodriver calls are logged, so we're generating huge logs \n\n```\n[task 2020-04-13T14:16:12.525Z] 14:16:12     INFO -  1586787372520>.geckodriver>DEBUG>..Listening on 127.0.0.1:48257\n[task 2020-04-13T14:16:12.529Z] 14:16:12     INFO -  1586787372526>.webdriver::server>..DEBUG>..-> GET /status\n[task 2020-04-13T14:16:12.529Z] 14:16:12     INFO -  1586787372526>.webdriver::server>..DEBUG>..<- 200 OK {\"value\":{\"message\":\"\",\"ready\":true}}\n[task 2020-04-13T14:17:09.236Z] 14:17:08     INFO -  1586787374344>.webdriver::server>..DEBUG>..-> POST /session {\"desiredCapabilities\":{\"browserName\":\"firefox\",\"pageLoadStrategy\":\"none\",\"moz:firefoxOptions\":{\"profile\":\"HUGE BASE 64 CONTENT HERE\n```\n\nWe need to filter out those lines to avoid generating huge logs.", "time": "2020-04-14T10:00:32Z", "author": "tarek@mozilla.com", "is_private": false, "count": 0, "tags": [], "bug_id": 1629809, "creation_time": "2020-04-14T10:00:32Z", "attachment_id": null, "creator": "tarek@mozilla.com", "text": "when the conditioned profile is passed to the browser though geckodriver, its done over the wire using a POST call.\n\nall geckodriver calls are logged, so we're generating huge logs \n\n```\n[task 2020-04-13T14:16:12.525Z] 14:16:12     INFO -  1586787372520>.geckodriver>DEBUG>..Listening on 127.0.0.1:48257\n[task 2020-04-13T14:16:12.529Z] 14:16:12     INFO -  1586787372526>.webdriver::server>..DEBUG>..-> GET /status\n[task 2020-04-13T14:16:12.529Z] 14:16:12     INFO -  1586787372526>.webdriver::server>..DEBUG>..<- 200 OK {\"value\":{\"message\":\"\",\"ready\":true}}\n[task 2020-04-13T14:17:09.236Z] 14:17:08     INFO -  1586787374344>.webdriver::server>..DEBUG>..-> POST /session {\"desiredCapabilities\":{\"browserName\":\"firefox\",\"pageLoadStrategy\":\"none\",\"moz:firefoxOptions\":{\"profile\":\"HUGE BASE 64 CONTENT HERE\n```\n\nWe need to filter out those lines to avoid generating huge logs.", "id": 14753623}, {"author": "tarek@mozilla.com", "bug_id": 1629809, "tags": [], "count": 1, "is_private": false, "raw_text": "A long term solution would be to have geckodriver restrict the log lines to a maximum size.\nIn the interim I think it's fine to deactivate tracing. This was used to debug BT in its early integration days, and it's not really used anymore.\nI guess we can force TRACE explicitely if we need it/", "time": "2020-04-14T10:16:26Z", "id": 14753646, "text": "A long term solution would be to have geckodriver restrict the log lines to a maximum size.\nIn the interim I think it's fine to deactivate tracing. This was used to debug BT in its early integration days, and it's not really used anymore.\nI guess we can force TRACE explicitely if we need it/", "creation_time": "2020-04-14T10:16:26Z", "attachment_id": null, "creator": "tarek@mozilla.com"}, {"count": 2, "is_private": false, "bug_id": 1629809, "tags": [], "author": "tarek@mozilla.com", "text": "try run https://treeherder.mozilla.org/#/jobs?repo=try&tier=1%2C2%2C3&revision=1d87777d4f60554def28345845259775d700a713&selectedJob=297498562", "id": 14753707, "creator": "tarek@mozilla.com", "attachment_id": null, "time": "2020-04-14T10:48:16Z", "creation_time": "2020-04-14T10:48:16Z", "raw_text": "try run https://treeherder.mozilla.org/#/jobs?repo=try&tier=1%2C2%2C3&revision=1d87777d4f60554def28345845259775d700a713&selectedJob=297498562"}, {"attachment_id": 9140379, "creator": "tarek@mozilla.com", "creation_time": "2020-04-14T10:53:28Z", "id": 14753722, "text": "Created attachment 9140379\nBug 1629809 - deactivate geckodriver tracing\n\nDeactivate tracing so we don't generate huge geckodriver logs\nsince BT transmits the profile through webdriver", "time": "2020-04-14T10:53:28Z", "raw_text": "Deactivate tracing so we don't generate huge geckodriver logs\nsince BT transmits the profile through webdriver", "tags": [], "bug_id": 1629809, "count": 3, "is_private": false, "author": "tarek@mozilla.com"}, {"author": "pulsebot@bots.tld", "text": "Pushed by tziade@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/b98e5909c211\ndeactivate geckodriver tracing r=Bebe", "id": 14753850, "bug_id": 1629809, "tags": [], "count": 4, "is_private": false, "raw_text": "Pushed by tziade@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/b98e5909c211\ndeactivate geckodriver tracing r=Bebe", "creation_time": "2020-04-14T12:04:42Z", "time": "2020-04-14T12:04:42Z", "creator": "pulsebot@bots.tld", "attachment_id": null}, {"time": "2020-04-14T12:58:59Z", "raw_text": "Note that for investigating test failures the Marionette trace log would have been great. Now it makes it way harder. Instead you should have set  `marionette.log.truncate=true`, which would have prevented the whole profile data to be printed to the log and would still give enough information to trace problems.", "count": 5, "is_private": false, "bug_id": 1629809, "tags": [], "author": "hskupin@gmail.com", "creator": "hskupin@gmail.com", "attachment_id": null, "creation_time": "2020-04-14T12:58:59Z", "text": "Note that for investigating test failures the Marionette trace log would have been great. Now it makes it way harder. Instead you should have set  `marionette.log.truncate=true`, which would have prevented the whole profile data to be printed to the log and would still give enough information to trace problems.", "id": 14753979}, {"creation_time": "2020-04-14T21:52:23Z", "attachment_id": null, "creator": "ccoroiu@mozilla.com", "id": 14755479, "text": "https://hg.mozilla.org/mozilla-central/rev/b98e5909c211", "raw_text": "https://hg.mozilla.org/mozilla-central/rev/b98e5909c211", "time": "2020-04-14T21:52:23Z", "author": "ccoroiu@mozilla.com", "is_private": false, "count": 6, "tags": ["bugherder"], "bug_id": 1629809}, {"text": "*** Bug 1630322 has been marked as a duplicate of this bug. ***", "id": 14757253, "creation_time": "2020-04-15T17:01:47Z", "creator": "hskupin@gmail.com", "attachment_id": null, "author": "hskupin@gmail.com", "is_private": false, "count": 7, "tags": [], "bug_id": 1629809, "raw_text": "", "time": "2020-04-15T17:01:47Z"}]}}, "comments": {}}