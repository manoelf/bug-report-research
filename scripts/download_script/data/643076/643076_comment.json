{"comments": {}, "bugs": {"643076": {"comments": [{"attachment_id": null, "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "text": "Just filing this so it's in bugzilla, not in my head.\n\nThis may be less of an issue now that we block remote XUL, but the lazy frame stuff listboxes do has been a PITA in all sorts of ways.  Unfortunately, it may be needed for performance reasons...\n\nAt some point I asked enn about our listbox test coverage, and he said:\n\n------------------------------------------------------------\nI had written a test long ago for listboxes, but never checked it in. I think it had a couple of issues, quite possibly due to the lazy frame construction.\n\nThe script in http://mxr.mozilla.org/mozilla-central/source/toolkit/content/tests/widgets/xul_selectontrol.js can be used to test much of the api. That script is used by both the radiogroup and tabbox tests and listboxes use much the same api.  Pretty much just modify the test_radio.xul test to use listbox instead of radios. (this is all that my listbox test did).\n\nBut it didn't test the list box object apis which are more likely to break from frame construction changes. \n------------------------------------------------------------", "count": 0, "is_private": false, "raw_text": "Just filing this so it's in bugzilla, not in my head.\n\nThis may be less of an issue now that we block remote XUL, but the lazy frame stuff listboxes do has been a PITA in all sorts of ways.  Unfortunately, it may be needed for performance reasons...\n\nAt some point I asked enn about our listbox test coverage, and he said:\n\n------------------------------------------------------------\nI had written a test long ago for listboxes, but never checked it in. I think it had a couple of issues, quite possibly due to the lazy frame construction.\n\nThe script in http://mxr.mozilla.org/mozilla-central/source/toolkit/content/tests/widgets/xul_selectontrol.js can be used to test much of the api. That script is used by both the radiogroup and tabbox tests and listboxes use much the same api.  Pretty much just modify the test_radio.xul test to use listbox instead of radios. (this is all that my listbox test did).\n\nBut it didn't test the list box object apis which are more likely to break from frame construction changes. \n------------------------------------------------------------", "bug_id": 643076, "creation_time": "2011-03-19T02:46:59Z", "tags": [], "time": "2011-03-19T02:46:59Z", "id": 5354943}]}}}