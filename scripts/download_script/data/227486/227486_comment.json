{"bugs": {"227486": {"comments": [{"id": 2019900, "count": 0, "bug_id": 227486, "tags": [], "text": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031007 Firebird/0.7\nBuild Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031007 Firebird/0.7\n\nIt seems that the -remote functionality does not operate correctly (or atleast\nas expected) in an enviroment where Thunderbird is running. It seems to interact\nwith Thunderbird, rather than correctly (or as expected) indicating that\nfirebird is not running.\n\nReproducible: Always\n\nSteps to Reproduce:\n------ If neither are running ------\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird -remote 'Ping()'\nNo running window found.\n[adam@persephone adam]$ echo $?\n2\n\n------ If just thunderbird is running ------\n[adam@persephone adam]$ /usr/local/thunderbird/thunderbird &\n[1] 26290\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird -remote 'Ping()'\n[adam@persephone adam]$ echo $?\n0\n\n\n------ After thunderbird exits ------\n[1]+  Done                    /usr/local/thunderbird/thunderbird\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird -remote 'Ping()'\nNo running window found.\n[adam@persephone adam]$ echo $?\n2\n\n------ With Firebird running ------\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird &\n[1] 26328\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird -remote 'Ping()'\n[adam@persephone adam]$ echo $?\n0\nActual Results:  \n-remote 'Ping()' indicated firebird was running when in fact it was not, instead\nThunderbird was running.\n\nExpected Results:  \n-remote 'Ping()' should not indicate Firebird is running when Thunderbird is\nrunning, only when firebird itself is running.\n\nThis bug appears to be somewhat related to 170609. I'm sure they have the same\nroot cause (though that bug discusses it in the context of Mozilla and Firebird).", "author": "adam@mrniceguy.net", "time": "2003-12-04T17:08:50Z", "creation_time": "2003-12-04T17:08:50Z", "attachment_id": null, "creator": "adam@mrniceguy.net", "raw_text": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031007 Firebird/0.7\nBuild Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031007 Firebird/0.7\n\nIt seems that the -remote functionality does not operate correctly (or atleast\nas expected) in an enviroment where Thunderbird is running. It seems to interact\nwith Thunderbird, rather than correctly (or as expected) indicating that\nfirebird is not running.\n\nReproducible: Always\n\nSteps to Reproduce:\n------ If neither are running ------\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird -remote 'Ping()'\nNo running window found.\n[adam@persephone adam]$ echo $?\n2\n\n------ If just thunderbird is running ------\n[adam@persephone adam]$ /usr/local/thunderbird/thunderbird &\n[1] 26290\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird -remote 'Ping()'\n[adam@persephone adam]$ echo $?\n0\n\n\n------ After thunderbird exits ------\n[1]+  Done                    /usr/local/thunderbird/thunderbird\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird -remote 'Ping()'\nNo running window found.\n[adam@persephone adam]$ echo $?\n2\n\n------ With Firebird running ------\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird &\n[1] 26328\n[adam@persephone adam]$ /usr/local/firebird/MozillaFirebird -remote 'Ping()'\n[adam@persephone adam]$ echo $?\n0\nActual Results:  \n-remote 'Ping()' indicated firebird was running when in fact it was not, instead\nThunderbird was running.\n\nExpected Results:  \n-remote 'Ping()' should not indicate Firebird is running when Thunderbird is\nrunning, only when firebird itself is running.\n\nThis bug appears to be somewhat related to 170609. I'm sure they have the same\nroot cause (though that bug discusses it in the context of Mozilla and Firebird).", "is_private": false}, {"text": "This bug hasn't even been confirmed.  Why is it marked as blocking0.8?", "author": "Bugzilla-alanjstrBugs@sneakemail.com", "bug_id": 227486, "tags": [], "id": 2042726, "count": 1, "is_private": false, "creator": "Bugzilla-alanjstrBugs@sneakemail.com", "attachment_id": null, "raw_text": "This bug hasn't even been confirmed.  Why is it marked as blocking0.8?", "creation_time": "2004-01-09T00:57:11Z", "time": "2004-01-09T00:57:11Z"}, {"count": 2, "id": 2046502, "author": "schussma@cs.ucdavis.edu", "text": "I'm not sure what it takes to have this officially confirmed, but my testimony\nis that this is a real bug.  I'm using Firebird 0.7 and Thunderbird 0.4, and use\nthe -remote in a script fired off by an icon in my KDE task bar.  I get lots of\nnew Firebird windows with no profile complaints.  But as soon as I bring up\nThunderbird, regardless of how many Firebird windows are open, new Firebird\nrequests fail with \"Failed to send command\".\n\nPlease, somebody, fix this or post a work-around.  Please.", "tags": [], "bug_id": 227486, "raw_text": "I'm not sure what it takes to have this officially confirmed, but my testimony\nis that this is a real bug.  I'm using Firebird 0.7 and Thunderbird 0.4, and use\nthe -remote in a script fired off by an icon in my KDE task bar.  I get lots of\nnew Firebird windows with no profile complaints.  But as soon as I bring up\nThunderbird, regardless of how many Firebird windows are open, new Firebird\nrequests fail with \"Failed to send command\".\n\nPlease, somebody, fix this or post a work-around.  Please.", "creator": "schussma@cs.ucdavis.edu", "attachment_id": null, "creation_time": "2004-01-14T02:38:59Z", "time": "2004-01-14T02:38:59Z", "is_private": false}, {"author": "Bugzilla-alanjstrBugs@sneakemail.com", "text": "per ben on IRC", "tags": [], "is_private": false, "bug_id": 227486, "raw_text": "per ben on IRC", "attachment_id": null, "creator": "Bugzilla-alanjstrBugs@sneakemail.com", "count": 3, "time": "2004-01-29T02:40:56Z", "id": 2059315, "creation_time": "2004-01-29T02:40:56Z"}, {"time": "2004-01-30T22:14:28Z", "id": 2060960, "creation_time": "2004-01-30T22:14:28Z", "count": 4, "attachment_id": null, "creator": "aavo@starman.ee", "raw_text": "(In reply to comment #2)\n> Please, somebody, fix this or post a work-around.  Please.\n\nVery simple workaround:\n\nIn one of the startup scripts (either Firebird's or Thunderbird's) change the\nLOGNAME env. variable prior to running the app, e.g.\n---\nexport LOGNAME=$USER'2'\n---\nThat should work\n\nBratac", "bug_id": 227486, "is_private": false, "tags": [], "text": "(In reply to comment #2)\n> Please, somebody, fix this or post a work-around.  Please.\n\nVery simple workaround:\n\nIn one of the startup scripts (either Firebird's or Thunderbird's) change the\nLOGNAME env. variable prior to running the app, e.g.\n---\nexport LOGNAME=$USER'2'\n---\nThat should work\n\nBratac", "author": "aavo@starman.ee"}, {"bug_id": 227486, "is_private": false, "tags": [], "text": "A while ago, I tried to work around this by not using ping(); just run xremote\nwith whatever command is desired, and if it fails, launch a new\nFirebird/Thunderbird. That works fine for Firebird, and would work for\nThunderbird if not for some nonsensical behavior by Firebird (bug 227786).\n\nThe LOGNAME trick makes that work too, but obviously a user shouldn't have to\nknow anything about LOGNAME, or even about xremote for that matter. They should\nbe able to run Firebird and Thunderbird without worrying about which ones are\nalready open. It sounds so simple -- why is it taking so long to get it to just\nwork?", "author": "andersk@mit.edu", "time": "2004-02-03T01:50:50Z", "creation_time": "2004-02-03T01:50:50Z", "id": 2063168, "count": 5, "attachment_id": null, "creator": "andersk@mit.edu", "raw_text": "A while ago, I tried to work around this by not using ping(); just run xremote\nwith whatever command is desired, and if it fails, launch a new\nFirebird/Thunderbird. That works fine for Firebird, and would work for\nThunderbird if not for some nonsensical behavior by Firebird (bug 227786).\n\nThe LOGNAME trick makes that work too, but obviously a user shouldn't have to\nknow anything about LOGNAME, or even about xremote for that matter. They should\nbe able to run Firebird and Thunderbird without worrying about which ones are\nalready open. It sounds so simple -- why is it taking so long to get it to just\nwork?"}, {"is_private": false, "attachment_id": null, "creator": "andersk@mit.edu", "raw_text": "I spoke too soon. For the workaround, LOGNAME must be set in *both* startup\nscripts (even if one is just $USER). Otherwise it gets inherited when one\nprogram calls the other.", "time": "2004-02-04T20:41:27Z", "creation_time": "2004-02-04T20:41:27Z", "text": "I spoke too soon. For the workaround, LOGNAME must be set in *both* startup\nscripts (even if one is just $USER). Otherwise it gets inherited when one\nprogram calls the other.", "author": "andersk@mit.edu", "bug_id": 227486, "tags": [], "id": 2065104, "count": 6}, {"text": "Another problem with simply doing\n\nmozilla-xremote-client ... || <libdir>/thunderbird/thunderbird\n\nis that if you pass \"xfeDoCommand(OpenInbox)\" when firefox (firebird) is running\nand thunderbird isnt't, an alert saying that \"/content/messenger.xul\" is\ndisplayed and mozilla-xremote-client will return *without error* (exit status 0,\nno message given.) Obviously, I'd rather have firefox ignore the request and\nmozilla-xremote-client return with error.\n\n\"xfeDoCommand(OpenInbox)\" is how I usually open the mailer window with plain,\nold Mozilla. When thunderbird receives this command, its window will be raised,\nwhich is exactly what I want.\n\nAs for the LOGNAME hack, has anyone verified that this doesn't have any nasty\nside effects? I mean, if the app ever uses the login name from this variable for\nother purposes, you may get unexpected results.\n\nAlso, I'm currently using a different workaround, which is simply to replace the\nusual\n$MOZILLA_FIVE_HOME/$MOZILLA_EX -remote \"ping()\"\nin my startup script (a standard(ish) wrapper found somewhere on the net) with\nps -u $USER | grep ${MOZILLA_EX}-bin\n\nThis won't work correctly when using a remote display, though (so I'm wondering\nif the LOGNAME hack would be better.)\n\n", "author": "toralf@procaptura.com", "bug_id": 227486, "tags": [], "id": 2091872, "count": 7, "is_private": false, "attachment_id": null, "creator": "toralf@procaptura.com", "raw_text": "Another problem with simply doing\n\nmozilla-xremote-client ... || <libdir>/thunderbird/thunderbird\n\nis that if you pass \"xfeDoCommand(OpenInbox)\" when firefox (firebird) is running\nand thunderbird isnt't, an alert saying that \"/content/messenger.xul\" is\ndisplayed and mozilla-xremote-client will return *without error* (exit status 0,\nno message given.) Obviously, I'd rather have firefox ignore the request and\nmozilla-xremote-client return with error.\n\n\"xfeDoCommand(OpenInbox)\" is how I usually open the mailer window with plain,\nold Mozilla. When thunderbird receives this command, its window will be raised,\nwhich is exactly what I want.\n\nAs for the LOGNAME hack, has anyone verified that this doesn't have any nasty\nside effects? I mean, if the app ever uses the login name from this variable for\nother purposes, you may get unexpected results.\n\nAlso, I'm currently using a different workaround, which is simply to replace the\nusual\n$MOZILLA_FIVE_HOME/$MOZILLA_EX -remote \"ping()\"\nin my startup script (a standard(ish) wrapper found somewhere on the net) with\nps -u $USER | grep ${MOZILLA_EX}-bin\n\nThis won't work correctly when using a remote display, though (so I'm wondering\nif the LOGNAME hack would be better.)\n\n", "time": "2004-03-04T15:53:36Z", "creation_time": "2004-03-04T15:53:36Z"}, {"raw_text": "Using firefox 0.8 on Linux,\n\nfirefox -remote \"ping()\" gives an exitcode of 2 no matter if an instance is\nrunning or not.\n\nCan it be that some fix broke it?", "attachment_id": null, "creator": "alwynschoeman@yahoo.com", "count": 8, "time": "2004-03-10T16:49:57Z", "creation_time": "2004-03-10T16:49:57Z", "id": 2097801, "author": "alwynschoeman@yahoo.com", "text": "Using firefox 0.8 on Linux,\n\nfirefox -remote \"ping()\" gives an exitcode of 2 no matter if an instance is\nrunning or not.\n\nCan it be that some fix broke it?", "is_private": false, "tags": [], "bug_id": 227486}, {"tags": [], "is_private": false, "bug_id": 227486, "author": "toralf@procaptura.com", "text": "Does not happen for me. \n\n/usr/lib/firefox/firefox -remote \"ping()\"\n\nreturns 0 when firefox is running and/or thunderbird is, 2 when neither are.\n\nAre you sure you didn't get tricked e.g. by the startup wrapper hack described\nabove?", "count": 9, "creation_time": "2004-03-11T09:07:05Z", "id": 2098609, "time": "2004-03-11T09:07:05Z", "raw_text": "Does not happen for me. \n\n/usr/lib/firefox/firefox -remote \"ping()\"\n\nreturns 0 when firefox is running and/or thunderbird is, 2 when neither are.\n\nAre you sure you didn't get tricked e.g. by the startup wrapper hack described\nabove?", "creator": "toralf@procaptura.com", "attachment_id": null}, {"is_private": false, "raw_text": "not going to block 0.9 for this, I think we may have this fixed in another bug\nanyway.\n\ncc-ing blizzard since he's pretty much the xremote guru and I think he's fixed\n-remote to distinguish apps properly as of now.", "attachment_id": null, "creator": "mconnor@mozilla.com", "time": "2004-04-25T05:56:29Z", "creation_time": "2004-04-25T05:56:29Z", "author": "mconnor@mozilla.com", "text": "not going to block 0.9 for this, I think we may have this fixed in another bug\nanyway.\n\ncc-ing blizzard since he's pretty much the xremote guru and I think he's fixed\n-remote to distinguish apps properly as of now.", "tags": [], "bug_id": 227486, "count": 10, "id": 2134971}, {"id": 2142972, "count": 11, "bug_id": 227486, "tags": [], "text": "Yeah, this should be fixed now.", "author": "blizzard@mozilla.com", "time": "2004-05-04T18:17:39Z", "creation_time": "2004-05-04T18:17:39Z", "attachment_id": null, "creator": "blizzard@mozilla.com", "raw_text": "Yeah, this should be fixed now.", "is_private": false}, {"is_private": false, "tags": [], "bug_id": 227486, "author": "asa@mozilla.com", "text": "Has this been fixed on the aviary branch or just the trunk?", "count": 12, "time": "2004-08-12T19:17:23Z", "id": 2231621, "creation_time": "2004-08-12T19:17:23Z", "raw_text": "Has this been fixed on the aviary branch or just the trunk?", "attachment_id": null, "creator": "asa@mozilla.com"}, {"count": 13, "id": 2318878, "tags": [], "bug_id": 227486, "author": "asa@mozilla.com", "text": "no patch, not gonna block. need more info.", "creation_time": "2004-11-05T20:37:47Z", "time": "2004-11-05T20:37:47Z", "raw_text": "no patch, not gonna block. need more info.", "creator": "asa@mozilla.com", "attachment_id": null, "is_private": false}, {"is_private": false, "time": "2004-11-06T02:33:45Z", "creation_time": "2004-11-06T02:33:45Z", "raw_text": "this should be fixed on branch, if you use the \"-a firefox\" arg to ensure you're\npinging the right mozilla app.", "attachment_id": null, "creator": "mconnor@mozilla.com", "tags": [], "bug_id": 227486, "author": "mconnor@mozilla.com", "text": "this should be fixed on branch, if you use the \"-a firefox\" arg to ensure you're\npinging the right mozilla app.", "count": 14, "id": 2319210}]}}, "comments": {}}