{"bugs": {"1636057": {"comments": [{"id": 14802128, "text": "", "creator": "dao+bmo@mozilla.com", "attachment_id": null, "creation_time": "2020-05-07T09:22:40Z", "is_private": false, "count": 0, "tags": [], "bug_id": 1636057, "author": "dao+bmo@mozilla.com", "time": "2020-05-07T09:22:40Z", "raw_text": ""}, {"id": 14802149, "text": "Created attachment 9146433\nBug 1636057 - Make arrow panel opening animation obey prefers-reduced-motion.", "creator": "dao+bmo@mozilla.com", "attachment_id": 9146433, "creation_time": "2020-05-07T09:38:25Z", "is_private": false, "count": 1, "bug_id": 1636057, "tags": [], "author": "dao+bmo@mozilla.com", "time": "2020-05-07T09:38:25Z", "raw_text": ""}, {"id": 14818874, "text": "Pushed by dgottwald@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/37298a30f66d\nMake arrow panel opening animation obey prefers-reduced-motion. r=Gijs", "creation_time": "2020-05-14T09:22:18Z", "attachment_id": null, "creator": "pulsebot@bots.tld", "author": "pulsebot@bots.tld", "is_private": false, "count": 2, "bug_id": 1636057, "tags": [], "raw_text": "Pushed by dgottwald@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/37298a30f66d\nMake arrow panel opening animation obey prefers-reduced-motion. r=Gijs", "time": "2020-05-14T09:22:18Z"}, {"tags": [], "bug_id": 1636057, "count": 3, "is_private": false, "author": "btara@mozilla.com", "time": "2020-05-14T11:09:07Z", "raw_text": "Backed out changeset 37298a30f66d (bug 1636057) for xpcshell failures\n\nPush with failures: https://treeherder.mozilla.org/#/jobs?repo=autoland&searchStr=xpcshell%2Ctests&fromchange=db5f5d127e24e7dc32767ba9cc1825c78fa3328f&tochange=cc2d8256440757af8a1dda8ff37fd8047b44cb44&selectedTaskRun=ZITSEu3nR2e9Labt-3D8dw-0\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/cc2d8256440757af8a1dda8ff37fd8047b44cb44\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=302233895&repo=autoland&lineNumber=2459\n\n```\n[task 2020-05-14T10:13:16.430Z] 10:13:16     INFO -  TEST-START | xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js\n[task 2020-05-14T10:13:17.653Z] 10:13:17  WARNING -  TEST-UNEXPECTED-FAIL | xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | xpcshell return code: 139\n[task 2020-05-14T10:13:17.653Z] 10:13:17     INFO -  TEST-INFO took 1223ms\n[task 2020-05-14T10:13:17.653Z] 10:13:17     INFO -  >>>>>>>\n[task 2020-05-14T10:13:17.653Z] 10:13:17     INFO -  xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | xpcw: cd /data/local/tmp/tests/xpc/toolkit/components/extensions/test/xpcshell\n[task 2020-05-14T10:13:17.654Z] 10:13:17     INFO -  xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | xpcw: xpcshell -r /data/local/tmp/tests/xpc/c/httpd.manifest --greomni /data/local/xpcb/geckoview-androidTest.apk -m -e const _HEAD_JS_PATH = \"/data/local/tmp/tests/xpc/head.js\"; -e const _MOZINFO_JS_PATH = \"/data/local/tmp/tests/xpc/p/mozinfo.json\"; -e const _PREFS_FILE = \"/data/local/tmp/tests/xpc/tmp/user.js\"; -e const _TESTING_MODULES_DIR = \"/data/local/tmp/tests/xpc/m\"; -f /data/local/tmp/tests/xpc/head.js -e const _HEAD_FILES = [\"/data/local/tmp/tests/xpc/toolkit/components/extensions/test/xpcshell/head.js\", \"/data/local/tmp/tests/xpc/toolkit/components/extensions/test/xpcshell/head_telemetry.js\"]; -e const _JSDEBUGGER_PORT = 0; -e const _TEST_FILE = [\"test_ext_indexedDB_principal.js\"]; -e const _TEST_NAME = \"xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js\"; -e _execute_test(); quit(0);\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  (xpcshell/head.js) | test MAIN run_test pending (1)\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  (xpcshell/head.js) | test run_next_test 0 pending (2)\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  (xpcshell/head.js) | test MAIN run_test finished (2)\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  running event loop\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | Starting check_remote\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  (xpcshell/head.js) | test check_remote pending (2)\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  TEST-PASS | xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | check_remote - [check_remote : 1] useRemoteWebExtensions matches - false == false\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  TEST-PASS | xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | check_remote - [check_remote : 1] testing from extension process - true == true\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  (xpcshell/head.js) | test run_next_test 0 finished (2)\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  (xpcshell/head.js) | test run_next_test 1 pending (2)\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  (xpcshell/head.js) | test check_remote finished (2)\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | Starting test_indexedDB_principal\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  (xpcshell/head.js) | test test_indexedDB_principal pending (2)\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195821\taddons.manager\tDEBUG\tApplication has been upgraded\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195822\taddons.manager\tDEBUG\tLoaded provider scope for resource://gre/modules/addons/XPIProvider.jsm: [\"XPIProvider\", \"XPIInternal\"]\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195822\taddons.manager\tDEBUG\tStarting provider: XPIProvider\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195822\taddons.xpi\tDEBUG\tstartup\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195824\taddons.xpi\tINFO\tSystemAddonLocation directory is missing\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195834\taddons.xpi\tINFO\tRemoving all system add-on upgrades.\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195835\taddons.xpi\tDEBUG\tcheckForChanges\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195835\taddons.xpi\tDEBUG\tLoaded add-on state: ${}\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195835\taddons.xpi\tDEBUG\tscanForChanges changed: false, state: {}\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195836\taddons.xpi\tDEBUG\tEmpty XPI database, setting schema version preference to 32\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195836\taddons.xpi\tDEBUG\tNo changes found\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195846\taddons.xpi-utils\tDEBUG\tSynchronously loading the add-ons database\"\n[task 2020-05-14T10:13:17.659Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195847\taddons.xpi-utils\tDEBUG\tStarting async load of XPI database /data/local/tmp/tests/xpc/p/extensions.json\"\n[task 2020-05-14T10:13:17.659Z] 10:13:17     INFO -  (xpcshell/head.js) | test run_next_test 1 finished (2)\n...\n```", "text": "Backed out changeset 37298a30f66d (bug 1636057) for xpcshell failures\n\nPush with failures: https://treeherder.mozilla.org/#/jobs?repo=autoland&searchStr=xpcshell%2Ctests&fromchange=db5f5d127e24e7dc32767ba9cc1825c78fa3328f&tochange=cc2d8256440757af8a1dda8ff37fd8047b44cb44&selectedTaskRun=ZITSEu3nR2e9Labt-3D8dw-0\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/cc2d8256440757af8a1dda8ff37fd8047b44cb44\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=302233895&repo=autoland&lineNumber=2459\n\n```\n[task 2020-05-14T10:13:16.430Z] 10:13:16     INFO -  TEST-START | xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js\n[task 2020-05-14T10:13:17.653Z] 10:13:17  WARNING -  TEST-UNEXPECTED-FAIL | xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | xpcshell return code: 139\n[task 2020-05-14T10:13:17.653Z] 10:13:17     INFO -  TEST-INFO took 1223ms\n[task 2020-05-14T10:13:17.653Z] 10:13:17     INFO -  >>>>>>>\n[task 2020-05-14T10:13:17.653Z] 10:13:17     INFO -  xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | xpcw: cd /data/local/tmp/tests/xpc/toolkit/components/extensions/test/xpcshell\n[task 2020-05-14T10:13:17.654Z] 10:13:17     INFO -  xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | xpcw: xpcshell -r /data/local/tmp/tests/xpc/c/httpd.manifest --greomni /data/local/xpcb/geckoview-androidTest.apk -m -e const _HEAD_JS_PATH = \"/data/local/tmp/tests/xpc/head.js\"; -e const _MOZINFO_JS_PATH = \"/data/local/tmp/tests/xpc/p/mozinfo.json\"; -e const _PREFS_FILE = \"/data/local/tmp/tests/xpc/tmp/user.js\"; -e const _TESTING_MODULES_DIR = \"/data/local/tmp/tests/xpc/m\"; -f /data/local/tmp/tests/xpc/head.js -e const _HEAD_FILES = [\"/data/local/tmp/tests/xpc/toolkit/components/extensions/test/xpcshell/head.js\", \"/data/local/tmp/tests/xpc/toolkit/components/extensions/test/xpcshell/head_telemetry.js\"]; -e const _JSDEBUGGER_PORT = 0; -e const _TEST_FILE = [\"test_ext_indexedDB_principal.js\"]; -e const _TEST_NAME = \"xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js\"; -e _execute_test(); quit(0);\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  (xpcshell/head.js) | test MAIN run_test pending (1)\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  (xpcshell/head.js) | test run_next_test 0 pending (2)\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  (xpcshell/head.js) | test MAIN run_test finished (2)\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  running event loop\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | Starting check_remote\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  (xpcshell/head.js) | test check_remote pending (2)\n[task 2020-05-14T10:13:17.655Z] 10:13:17     INFO -  TEST-PASS | xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | check_remote - [check_remote : 1] useRemoteWebExtensions matches - false == false\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  TEST-PASS | xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | check_remote - [check_remote : 1] testing from extension process - true == true\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  (xpcshell/head.js) | test run_next_test 0 finished (2)\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  (xpcshell/head.js) | test run_next_test 1 pending (2)\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  (xpcshell/head.js) | test check_remote finished (2)\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  xpcshell.ini:toolkit/components/extensions/test/xpcshell/test_ext_indexedDB_principal.js | Starting test_indexedDB_principal\n[task 2020-05-14T10:13:17.656Z] 10:13:17     INFO -  (xpcshell/head.js) | test test_indexedDB_principal pending (2)\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195821\taddons.manager\tDEBUG\tApplication has been upgraded\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195822\taddons.manager\tDEBUG\tLoaded provider scope for resource://gre/modules/addons/XPIProvider.jsm: [\"XPIProvider\", \"XPIInternal\"]\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195822\taddons.manager\tDEBUG\tStarting provider: XPIProvider\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195822\taddons.xpi\tDEBUG\tstartup\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195824\taddons.xpi\tINFO\tSystemAddonLocation directory is missing\"\n[task 2020-05-14T10:13:17.657Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195834\taddons.xpi\tINFO\tRemoving all system add-on upgrades.\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195835\taddons.xpi\tDEBUG\tcheckForChanges\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195835\taddons.xpi\tDEBUG\tLoaded add-on state: ${}\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195835\taddons.xpi\tDEBUG\tscanForChanges changed: false, state: {}\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195836\taddons.xpi\tDEBUG\tEmpty XPI database, setting schema version preference to 32\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195836\taddons.xpi\tDEBUG\tNo changes found\"\n[task 2020-05-14T10:13:17.658Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195846\taddons.xpi-utils\tDEBUG\tSynchronously loading the add-ons database\"\n[task 2020-05-14T10:13:17.659Z] 10:13:17     INFO -  \"CONSOLE_MESSAGE: (info) 1589451195847\taddons.xpi-utils\tDEBUG\tStarting async load of XPI database /data/local/tmp/tests/xpc/p/extensions.json\"\n[task 2020-05-14T10:13:17.659Z] 10:13:17     INFO -  (xpcshell/head.js) | test run_next_test 1 finished (2)\n...\n```", "id": 14819055, "attachment_id": null, "creator": "btara@mozilla.com", "creation_time": "2020-05-14T11:09:07Z"}, {"creation_time": "2020-05-14T11:28:10Z", "creator": "btara@mozilla.com", "attachment_id": null, "id": 14819088, "text": "The following failures seem to start with the backed out changes:\nhttps://treeherder.mozilla.org/logviewer.html#/jobs?job_id=302233699&repo=autoland&lineNumber=1583\nhttps://treeherder.mozilla.org/logviewer.html#/jobs?job_id=302233694&repo=autoland&lineNumber=2254", "raw_text": "The following failures seem to start with the backed out changes:\nhttps://treeherder.mozilla.org/logviewer.html#/jobs?job_id=302233699&repo=autoland&lineNumber=1583\nhttps://treeherder.mozilla.org/logviewer.html#/jobs?job_id=302233694&repo=autoland&lineNumber=2254", "time": "2020-05-14T11:28:10Z", "author": "btara@mozilla.com", "bug_id": 1636057, "tags": [], "is_private": false, "count": 4}, {"text": "(In reply to Bogdan Tara[:bogdan_tara | bogdant] from comment #3)\n> Backed out changeset 37298a30f66d (bug 1636057) for xpcshell failures\n> \n> Push with failures: https://treeherder.mozilla.org/#/jobs?repo=autoland&searchStr=xpcshell%2Ctests&fromchange=db5f5d127e24e7dc32767ba9cc1825c78fa3328f&tochange=cc2d8256440757af8a1dda8ff37fd8047b44cb44&selectedTaskRun=ZITSEu3nR2e9Labt-3D8dw-0\n\nThat's on Android. This patch affects desktop Firefox only.", "id": 14819205, "creator": "dao+bmo@mozilla.com", "attachment_id": null, "creation_time": "2020-05-14T12:16:16Z", "tags": [], "bug_id": 1636057, "is_private": false, "count": 5, "author": "dao+bmo@mozilla.com", "time": "2020-05-14T12:16:16Z", "raw_text": "(In reply to Bogdan Tara[:bogdan_tara | bogdant] from comment #3)\n> Backed out changeset 37298a30f66d (bug 1636057) for xpcshell failures\n> \n> Push with failures: https://treeherder.mozilla.org/#/jobs?repo=autoland&searchStr=xpcshell%2Ctests&fromchange=db5f5d127e24e7dc32767ba9cc1825c78fa3328f&tochange=cc2d8256440757af8a1dda8ff37fd8047b44cb44&selectedTaskRun=ZITSEu3nR2e9Labt-3D8dw-0\n\nThat's on Android. This patch affects desktop Firefox only."}, {"id": 14819225, "text": "Treeherder shows it starting with the push for this bug and getting fixed with the backout: https://treeherder.mozilla.org/#/jobs?repo=autoland&group_state=expanded&resultStatus=success%2Ctestfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&searchStr=android%2Cxpcshell&fromchange=17cfe5578adfba438a6c39c125e33efb5c1262f8&tochange=cc2d8256440757af8a1dda8ff37fd8047b44cb44&selectedTaskRun=Z56DUVkHTjKYKAnDWP7cIQ-0\n\nGeoff, any ideas why this patch fails Android XPCshell tests?", "creation_time": "2020-05-14T12:23:50Z", "creator": "aryx.bugmail@gmx-topmail.de", "attachment_id": null, "author": "aryx.bugmail@gmx-topmail.de", "is_private": false, "count": 6, "bug_id": 1636057, "tags": [], "raw_text": "Treeherder shows it starting with the push for this bug and getting fixed with the backout: https://treeherder.mozilla.org/#/jobs?repo=autoland&group_state=expanded&resultStatus=success%2Ctestfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&searchStr=android%2Cxpcshell&fromchange=17cfe5578adfba438a6c39c125e33efb5c1262f8&tochange=cc2d8256440757af8a1dda8ff37fd8047b44cb44&selectedTaskRun=Z56DUVkHTjKYKAnDWP7cIQ-0\n\nGeoff, any ideas why this patch fails Android XPCshell tests?", "time": "2020-05-14T12:23:50Z"}, {"author": "gijskruitbosch+bugs@gmail.com", "tags": [], "bug_id": 1636057, "is_private": false, "count": 7, "raw_text": "The top of the crash stack is:\n\n```\n[task 2020-05-14T10:37:39.286Z] 10:37:39     INFO -   0  libxul.so!mozilla::jni::GetEnvForThread() [Utils.cpp:37298a30f66d17d8cd0eebfb7776cd7ac1336112 : 159 + 0x29]\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rax = 0x00007c0df30416f3   rdx = 0x0000000000000004\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rcx = 0x00007c0de8645bf0   rbx = 0x000000000000003b\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rsi = 0x00007fffc5fe7cf0   rdi = 0x0000000000000003\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rbp = 0x00007fffc5fe8e20   rsp = 0x00007fffc5fe8e10\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -       r8 = 0x000000000000ffff    r9 = 0x0000000000000000\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      r10 = 0x00007c0de559e540   r11 = 0x0000000000000246\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      r12 = 0x00007c0ddbb65890   r13 = 0x00007c0ddbb65806\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      r14 = 0x00007fffc5fe8e94   r15 = 0x00007c0ddbd202d0\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rip = 0x00007c0dee758e0c\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      Found by: given as instruction pointer in context\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -   1  libxul.so!mozilla::java::GeckoSystemStateListener::PrefersReducedMotion() [GeneratedJNIGeckoSystemStateListenerWrappers.cpp: : 42 + 0xd]\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rbp = 0x00007fffc5fe8e50   rsp = 0x00007fffc5fe8e30\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rip = 0x00007c0dee6e50b2\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      Found by: previous frame's frame pointer\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -   2  libxul.so!nsLookAndFeel::GetIntImpl(mozilla::LookAndFeel::IntID, int&) [nsLookAndFeel.cpp:37298a30f66d17d8cd0eebfb7776cd7ac1336112 : 387 + 0x5]\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      rbp = 0x00007fffc5fe8e80   rsp = 0x00007fffc5fe8e60\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      rip = 0x00007c0dee737c27\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      Found by: previous frame's frame pointer\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -   3  libxul.so!Gecko_MediaFeatures_PrefersReducedMotion [nsMediaFeatures.cpp:37298a30f66d17d8cd0eebfb7776cd7ac1336112 : 240 + 0x15]\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      rbp = 0x00007fffc5fe8ea0   rsp = 0x00007fffc5fe8e90\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      rip = 0x00007c0dee90e407\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      Found by: previous frame's frame pointer\n```\n\nSo it looks like the xpcshell test creates a windowless browser for some extension code, and that presumably loads xul.css, which tries to evaluate the media query, and becomes Very Sad. About something - unclear what, I haven't looked into the jni stuff.", "time": "2020-05-14T12:50:22Z", "text": "The top of the crash stack is:\n\n```\n[task 2020-05-14T10:37:39.286Z] 10:37:39     INFO -   0  libxul.so!mozilla::jni::GetEnvForThread() [Utils.cpp:37298a30f66d17d8cd0eebfb7776cd7ac1336112 : 159 + 0x29]\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rax = 0x00007c0df30416f3   rdx = 0x0000000000000004\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rcx = 0x00007c0de8645bf0   rbx = 0x000000000000003b\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rsi = 0x00007fffc5fe7cf0   rdi = 0x0000000000000003\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rbp = 0x00007fffc5fe8e20   rsp = 0x00007fffc5fe8e10\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -       r8 = 0x000000000000ffff    r9 = 0x0000000000000000\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      r10 = 0x00007c0de559e540   r11 = 0x0000000000000246\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      r12 = 0x00007c0ddbb65890   r13 = 0x00007c0ddbb65806\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      r14 = 0x00007fffc5fe8e94   r15 = 0x00007c0ddbd202d0\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rip = 0x00007c0dee758e0c\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      Found by: given as instruction pointer in context\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -   1  libxul.so!mozilla::java::GeckoSystemStateListener::PrefersReducedMotion() [GeneratedJNIGeckoSystemStateListenerWrappers.cpp: : 42 + 0xd]\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rbp = 0x00007fffc5fe8e50   rsp = 0x00007fffc5fe8e30\n[task 2020-05-14T10:37:39.287Z] 10:37:39     INFO -      rip = 0x00007c0dee6e50b2\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      Found by: previous frame's frame pointer\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -   2  libxul.so!nsLookAndFeel::GetIntImpl(mozilla::LookAndFeel::IntID, int&) [nsLookAndFeel.cpp:37298a30f66d17d8cd0eebfb7776cd7ac1336112 : 387 + 0x5]\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      rbp = 0x00007fffc5fe8e80   rsp = 0x00007fffc5fe8e60\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      rip = 0x00007c0dee737c27\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      Found by: previous frame's frame pointer\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -   3  libxul.so!Gecko_MediaFeatures_PrefersReducedMotion [nsMediaFeatures.cpp:37298a30f66d17d8cd0eebfb7776cd7ac1336112 : 240 + 0x15]\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      rbp = 0x00007fffc5fe8ea0   rsp = 0x00007fffc5fe8e90\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      rip = 0x00007c0dee90e407\n[task 2020-05-14T10:37:39.288Z] 10:37:39     INFO -      Found by: previous frame's frame pointer\n```\n\nSo it looks like the xpcshell test creates a windowless browser for some extension code, and that presumably loads xul.css, which tries to evaluate the media query, and becomes Very Sad. About something - unclear what, I haven't looked into the jni stuff.", "id": 14819267, "creation_time": "2020-05-14T12:50:22Z", "creator": "gijskruitbosch+bugs@gmail.com", "attachment_id": null}, {"raw_text": "Sorry, I have no additional insight. :snorp or :agi might?\n\nIf the change is intended for desktop only, maybe it should just be guarded with an %ifdef?", "time": "2020-05-14T13:43:24Z", "author": "gbrown@mozilla.com", "bug_id": 1636057, "tags": [], "is_private": false, "count": 8, "creation_time": "2020-05-14T13:43:24Z", "creator": "gbrown@mozilla.com", "attachment_id": null, "id": 14819371, "text": "Sorry, I have no additional insight. :snorp or :agi might?\n\nIf the change is intended for desktop only, maybe it should just be guarded with an %ifdef?"}, {"raw_text": "Pushed by dgottwald@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/697deb14f276\nMake arrow panel opening animation obey prefers-reduced-motion. r=Gijs", "creation_time": "2020-05-14T14:55:54Z", "attachment_id": null, "creator": "pulsebot@bots.tld", "time": "2020-05-14T14:55:54Z", "id": 14819517, "text": "Pushed by dgottwald@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/697deb14f276\nMake arrow panel opening animation obey prefers-reduced-motion. r=Gijs", "author": "pulsebot@bots.tld", "is_private": false, "count": 9, "bug_id": 1636057, "tags": []}, {"is_private": false, "count": 10, "tags": [], "bug_id": 1636057, "author": "dao+bmo@mozilla.com", "time": "2020-05-14T15:56:17Z", "raw_text": "", "text": "*** Bug 1380065 has been marked as a duplicate of this bug. ***", "id": 14819986, "creator": "dao+bmo@mozilla.com", "attachment_id": null, "creation_time": "2020-05-14T15:56:17Z"}, {"time": "2020-05-14T21:13:57Z", "raw_text": "https://hg.mozilla.org/mozilla-central/rev/697deb14f276", "bug_id": 1636057, "tags": ["bugherder"], "count": 11, "is_private": false, "author": "dluca@mozilla.com", "creator": "dluca@mozilla.com", "attachment_id": null, "creation_time": "2020-05-14T21:13:57Z", "text": "https://hg.mozilla.org/mozilla-central/rev/697deb14f276", "id": 14821418}]}}, "comments": {}}