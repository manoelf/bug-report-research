{"comments": {}, "bugs": {"673614": {"comments": [{"bug_id": 673614, "id": 5608577, "tags": [], "is_private": false, "count": 0, "attachment_id": null, "time": "2011-07-22T23:52:20Z", "text": "As part of the BuildFaster project (see https://wiki.mozilla.org/ReleaseEngineering/BuildFaster), we are investigating whether certain slow mochitests can be sped up.\n\ntest_bug514732.html is a slow test, average execution time on a recent run (in ms):\n\n\twin32-debug, 31787\n\tlinux-opt, 28768\n\tmacosx64-debug, 32499\n\twin32-opt, 28822\n\tlinux64-opt, 28784\n\tlinux64-debug, 32147\n\tmacosx-debug, 32645\n\tlinux-debug, 32267", "raw_text": "As part of the BuildFaster project (see https://wiki.mozilla.org/ReleaseEngineering/BuildFaster), we are investigating whether certain slow mochitests can be sped up.\n\ntest_bug514732.html is a slow test, average execution time on a recent run (in ms):\n\n\twin32-debug, 31787\n\tlinux-opt, 28768\n\tmacosx64-debug, 32499\n\twin32-opt, 28822\n\tlinux64-opt, 28784\n\tlinux64-debug, 32147\n\tmacosx-debug, 32645\n\tlinux-debug, 32267", "creation_time": "2011-07-22T23:52:20Z", "author": "jgriffin@mozilla.com", "creator": "jgriffin@mozilla.com"}, {"bug_id": 673614, "tags": [], "is_private": false, "count": 1, "id": 5608579, "text": "Roy, as the original author of this test, would you be willing to help see if the execution time of this test could be improved?", "attachment_id": null, "time": "2011-07-22T23:53:00Z", "creation_time": "2011-07-22T23:53:00Z", "raw_text": "Roy, as the original author of this test, would you be willing to help see if the execution time of this test could be improved?", "creator": "jgriffin@mozilla.com", "author": "jgriffin@mozilla.com"}, {"text": "(In reply to comment #1)\n\nThis test modifies the page and tests (a) that a specific event is fired when we expect it to be, and (b) that this event is not fired when we expect it not to be.  For (b), in order to be sure that an event is not fired, the test waits around for a few seconds before continuing.  I'm fairly certain that these waiting periods are what you're measuring when you see that the test is consistently slow.\n\nIn file_bug514732_helper.html, the JS function waitInterrupt sets this waiting period to 3500 milliseconds (see the argument to setTimeout).  I seem to recall thinking that this was a rather inexcusably high value, but that we still brought it up there in order to prevent random oranges at the time.  (The waiting period used to be 1200 milliseconds, which isn't that much better.)  This change occurs in revision e67094febf72, in response to bug 527872.", "attachment_id": null, "time": "2011-07-23T07:56:49Z", "creation_time": "2011-07-23T07:56:49Z", "raw_text": "(In reply to comment #1)\n\nThis test modifies the page and tests (a) that a specific event is fired when we expect it to be, and (b) that this event is not fired when we expect it not to be.  For (b), in order to be sure that an event is not fired, the test waits around for a few seconds before continuing.  I'm fairly certain that these waiting periods are what you're measuring when you see that the test is consistently slow.\n\nIn file_bug514732_helper.html, the JS function waitInterrupt sets this waiting period to 3500 milliseconds (see the argument to setTimeout).  I seem to recall thinking that this was a rather inexcusably high value, but that we still brought it up there in order to prevent random oranges at the time.  (The waiting period used to be 1200 milliseconds, which isn't that much better.)  This change occurs in revision e67094febf72, in response to bug 527872.", "bug_id": 673614, "tags": [], "is_private": false, "count": 2, "id": 5608901, "creator": "roy.frostig@gmail.com", "author": "roy.frostig@gmail.com"}]}}}