{"comments": {}, "bugs": {"650147": {"comments": [{"raw_text": "If you open this testcase and select the shown field, then hit SHIFT-END to select all elements in the field, the browser will become unresponsive until it is finished (about 10-15 seconds for me).\n\nSTR:\n1. New profile\n2. Open testcase\n3. Select the labeled field (first on the left)\n4. Hit SHIFT-END\n\nResult:\nBrowser will be unresponsive while computing.\n\nDesired Result:\nBrowser remains responsive while computing.  Perhaps compute faster also.\n\n\nThis is broken on trunk and shouldn't be a regression (it didn't work in the beginning of 2008).  \n\nBroken:\nMozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9b3pre) Gecko/2008010104 \n\nBroken:\nMozilla/5.0 (X11; Linux i686; rv:6.0a1) Gecko/20110414 Firefox/6.0a1", "is_private": false, "tags": [], "creation_time": "2011-04-14T22:54:01Z", "attachment_id": 526133, "id": 5410771, "text": "Created attachment 526133\ntestcase\n\nIf you open this testcase and select the shown field, then hit SHIFT-END to select all elements in the field, the browser will become unresponsive until it is finished (about 10-15 seconds for me).\n\nSTR:\n1. New profile\n2. Open testcase\n3. Select the labeled field (first on the left)\n4. Hit SHIFT-END\n\nResult:\nBrowser will be unresponsive while computing.\n\nDesired Result:\nBrowser remains responsive while computing.  Perhaps compute faster also.\n\n\nThis is broken on trunk and shouldn't be a regression (it didn't work in the beginning of 2008).  \n\nBroken:\nMozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9b3pre) Gecko/2008010104 \n\nBroken:\nMozilla/5.0 (X11; Linux i686; rv:6.0a1) Gecko/20110414 Firefox/6.0a1", "count": 0, "bug_id": 650147, "time": "2011-04-14T22:54:01Z", "author": "mdinger.bugzilla@gmail.com", "creator": "mdinger.bugzilla@gmail.com"}, {"time": "2011-04-14T22:56:58Z", "bug_id": 650147, "count": 1, "creator": "mdinger.bugzilla@gmail.com", "author": "mdinger.bugzilla@gmail.com", "is_private": false, "tags": [], "raw_text": "Oops.  Here it is as a html page.  I will get a profile of this.", "id": 5410778, "attachment_id": 526135, "text": "Created attachment 526135\ntestcase\n\nOops.  Here it is as a html page.  I will get a profile of this.", "creation_time": "2011-04-14T22:56:58Z"}, {"count": 2, "bug_id": 650147, "raw_text": "Same as before but more options.  Much harder lockup.", "tags": [], "is_private": false, "time": "2011-04-14T23:04:28Z", "creation_time": "2011-04-14T23:04:28Z", "author": "mdinger.bugzilla@gmail.com", "creator": "mdinger.bugzilla@gmail.com", "text": "Created attachment 526138\ntestcase_harder\n\nSame as before but more options.  Much harder lockup.", "attachment_id": 526138, "id": 5410797}, {"author": "mdinger.bugzilla@gmail.com", "attachment_id": 526155, "id": 5410880, "creator": "mdinger.bugzilla@gmail.com", "text": "Created attachment 526155\nprofile_testcase_harder\n\nProfiled \"testcase_harder\".  Set dom.max_script_run_time = 60 to disable the script stopping popup.", "creation_time": "2011-04-14T23:39:23Z", "is_private": false, "tags": [], "time": "2011-04-14T23:39:23Z", "count": 3, "raw_text": "Profiled \"testcase_harder\".  Set dom.max_script_run_time = 60 to disable the script stopping popup.", "bug_id": 650147}, {"tags": [], "is_private": false, "time": "2011-04-15T04:24:48Z", "count": 4, "bug_id": 650147, "raw_text": "> Browser remains responsive while computing.\n\nThat sort of needs separate content processes.  Working on that.\n\n> Perhaps compute faster also.\n\nLooking at a profile of this, looks like the script on the page is running the setSALoc function.  This function does a loop over all the items in the first select, then for each selected item (that is, for all of them) does a loop over every single item in the second select.  In this case, that means the inner loop gets hit about 10 million times.\n\nFurthermore, the code is written to be as slow as possible (undeclared variables inside with, repeated gets for the same thing off the with, etc, etc).  So each iteration is not all that fast (compared to how fast it could be, at least.  I don't think it's worth worrying about speeding up this code; it hangs in all browsers I have on hand.", "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "text": "> Browser remains responsive while computing.\n\nThat sort of needs separate content processes.  Working on that.\n\n> Perhaps compute faster also.\n\nLooking at a profile of this, looks like the script on the page is running the setSALoc function.  This function does a loop over all the items in the first select, then for each selected item (that is, for all of them) does a loop over every single item in the second select.  In this case, that means the inner loop gets hit about 10 million times.\n\nFurthermore, the code is written to be as slow as possible (undeclared variables inside with, repeated gets for the same thing off the with, etc, etc).  So each iteration is not all that fast (compared to how fast it could be, at least.  I don't think it's worth worrying about speeding up this code; it hangs in all browsers I have on hand.", "id": 5411263, "attachment_id": null, "creation_time": "2011-04-15T04:24:48Z"}, {"raw_text": "So should it block bug 516518 (Electrolysis) or bug 516752 (Electrolysis for Firefox)?  I looked over their blockers but it is not apparent to me where this could fit in...", "bug_id": 650147, "count": 5, "time": "2011-04-15T05:44:56Z", "is_private": false, "tags": [], "creation_time": "2011-04-15T05:44:56Z", "attachment_id": null, "id": 5411329, "creator": "mdinger.bugzilla@gmail.com", "text": "So should it block bug 516518 (Electrolysis) or bug 516752 (Electrolysis for Firefox)?  I looked over their blockers but it is not apparent to me where this could fit in...", "author": "mdinger.bugzilla@gmail.com"}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "time": "2011-04-15T05:59:04Z", "bug_id": 650147, "count": 6, "text": "Other way around.  This bug (or at least the \"don't lock up the UI\" aspect of it) depends on bug 516752.\n\nThat said, it sounds like the slow script dialog is at least working as expected....", "id": 5411334, "attachment_id": null, "creation_time": "2011-04-15T05:59:04Z", "tags": [], "is_private": false, "raw_text": "Other way around.  This bug (or at least the \"don't lock up the UI\" aspect of it) depends on bug 516752.\n\nThat said, it sounds like the slow script dialog is at least working as expected...."}, {"count": 7, "raw_text": "Adding stress test from http://www.mkyong.com/boring/google-chrome-vs-firefox-3-crash-stress-test/ for testing proposes", "bug_id": 650147, "is_private": false, "tags": [], "time": "2011-04-15T08:29:16Z", "creation_time": "2011-04-15T08:29:16Z", "author": "Virtual@teknik.io", "id": 5411458, "attachment_id": 526202, "creator": "Virtual@teknik.io", "text": "Created attachment 526202\nStress Test\n\nAdding stress test from http://www.mkyong.com/boring/google-chrome-vs-firefox-3-crash-stress-test/ for testing proposes"}, {"raw_text": "That attachment has nothing to do with this bug.", "bug_id": 650147, "count": 8, "time": "2011-04-15T15:26:17Z", "is_private": false, "tags": [], "creation_time": "2011-04-15T15:26:17Z", "id": 5411906, "attachment_id": null, "creator": "bzbarsky@mit.edu", "text": "That attachment has nothing to do with this bug.", "author": "bzbarsky@mit.edu"}]}}}