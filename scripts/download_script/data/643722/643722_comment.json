{"comments": {}, "bugs": {"643722": {"comments": [{"id": 5359685, "is_private": false, "count": 0, "author": "dao+bmo@mozilla.com", "time": "2011-03-22T13:57:35Z", "bug_id": 643722, "text": "Created attachment 520909\npatch\n\nMenu buttons and toolbar buttons are using arrow-dn.gif in Winstripe. This is black with a gray outline in order to be visible on different backgrounds. This is a poor compromise, though. On Windows, the arrow is supposed to use the same color as the text (i.e. completely black, completely white, whatever). The Marlett font should be used to that end, but Gecko doesn't allow using that (in order to prevent platform-specific web pages: bug 33127). Unfortunately, all arrows defined in Unicode have different shapes from Marlett's, so I'm using using U+25BC, the \"black down-pointing triangle\", and scaling it with -moz-transform. The result is pretty close to native.", "attachment_id": 520909, "creation_time": "2011-03-22T13:57:35Z", "tags": [], "creator": "dao+bmo@mozilla.com", "raw_text": "Menu buttons and toolbar buttons are using arrow-dn.gif in Winstripe. This is black with a gray outline in order to be visible on different backgrounds. This is a poor compromise, though. On Windows, the arrow is supposed to use the same color as the text (i.e. completely black, completely white, whatever). The Marlett font should be used to that end, but Gecko doesn't allow using that (in order to prevent platform-specific web pages: bug 33127). Unfortunately, all arrows defined in Unicode have different shapes from Marlett's, so I'm using using U+25BC, the \"black down-pointing triangle\", and scaling it with -moz-transform. The result is pretty close to native."}, {"id": 5374163, "is_private": false, "time": "2011-03-28T14:02:55Z", "author": "neil@httl.net", "count": 1, "bug_id": 643722, "text": "(In reply to comment #0)\n> Menu buttons and toolbar buttons are using arrow-dn.gif in Winstripe.\nIn which OS theme? I checked XP Luna and Server 2008 [Classic] and they both use native drawing. I think OS/2 might use it though...", "creation_time": "2011-03-28T14:02:55Z", "tags": [], "attachment_id": null, "raw_text": "(In reply to comment #0)\n> Menu buttons and toolbar buttons are using arrow-dn.gif in Winstripe.\nIn which OS theme? I checked XP Luna and Server 2008 [Classic] and they both use native drawing. I think OS/2 might use it though...", "creator": "neil@httl.net"}, {"id": 5374184, "is_private": false, "count": 2, "author": "dao+bmo@mozilla.com", "time": "2011-03-28T14:10:46Z", "bug_id": 643722, "text": "XP Luna, Classic as well as Aero glass on Win7. Looking at dropmarker.css, button.css and toolbarbutton.css, I don't see where native drawing should come from.", "attachment_id": null, "tags": [], "creation_time": "2011-03-28T14:10:46Z", "creator": "dao+bmo@mozilla.com", "raw_text": "XP Luna, Classic as well as Aero glass on Win7. Looking at dropmarker.css, button.css and toolbarbutton.css, I don't see where native drawing should come from."}, {"id": 5374393, "is_private": false, "author": "neil@httl.net", "bug_id": 643722, "attachment_id": null, "creation_time": "2011-03-28T15:33:06Z", "tags": [], "count": 3, "time": "2011-03-28T15:33:06Z", "text": "(In reply to comment #2)\n> XP Luna, Classic as well as Aero glass on Win7. Looking at dropmarker.css,\n> button.css and toolbarbutton.css, I don't see where native drawing should come\n> from.\nhttp://mxr.mozilla.org/mozilla-central/search?string=-moz-appearance%3A+menulist-button%3B says dropmarker.css, but it's line 2, so maybe you skipped it by mistake ;-)", "creator": "neil@httl.net", "raw_text": "(In reply to comment #2)\n> XP Luna, Classic as well as Aero glass on Win7. Looking at dropmarker.css,\n> button.css and toolbarbutton.css, I don't see where native drawing should come\n> from.\nhttp://mxr.mozilla.org/mozilla-central/search?string=-moz-appearance%3A+menulist-button%3B says dropmarker.css, but it's line 2, so maybe you skipped it by mistake ;-)"}, {"raw_text": "button.css and toolbarbutton.css reset that appearance (intentionally, because menulist-button doesn't fit here).", "creator": "dao+bmo@mozilla.com", "text": "button.css and toolbarbutton.css reset that appearance (intentionally, because menulist-button doesn't fit here).", "time": "2011-03-28T15:34:35Z", "count": 4, "tags": [], "creation_time": "2011-03-28T15:34:35Z", "attachment_id": null, "bug_id": 643722, "author": "dao+bmo@mozilla.com", "is_private": false, "id": 5374396}, {"tags": [], "creation_time": "2011-03-28T15:36:38Z", "attachment_id": null, "raw_text": "Sorry, I got my dropmarkers mixed up.", "creator": "neil@httl.net", "bug_id": 643722, "text": "Sorry, I got my dropmarkers mixed up.", "is_private": false, "time": "2011-03-28T15:36:38Z", "author": "neil@httl.net", "count": 5, "id": 5374405}, {"count": 6, "time": "2011-03-29T20:43:05Z", "text": "Created attachment 522783\nXP with default settings\n\nSo, this is what it looks like on XP by default...\n\nI also noticed the following spam in the Error Console:\n\nWarning: XUL box for _moz_generated_content_before element contained an inline #text child, forcing all its children to be wrapped in a block.\nSource File: chrome://inspector/content/inspector.xul\nLine: 0", "creator": "neil@httl.net", "raw_text": "So, this is what it looks like on XP by default...\n\nI also noticed the following spam in the Error Console:\n\nWarning: XUL box for _moz_generated_content_before element contained an inline #text child, forcing all its children to be wrapped in a block.\nSource File: chrome://inspector/content/inspector.xul\nLine: 0", "id": 5378507, "author": "neil@httl.net", "is_private": false, "bug_id": 643722, "attachment_id": 522783, "creation_time": "2011-03-29T20:43:05Z", "tags": []}, {"attachment_id": null, "tags": [], "creation_time": "2011-03-29T22:22:43Z", "creator": "dao+bmo@mozilla.com", "raw_text": "(In reply to comment #6)\n> Created attachment 522783 [details]\n> XP with default settings\n> \n> So, this is what it looks like on XP by default...\n\nAfter twiddling with the font-size and -moz-transform factor, I thought this didn't happen anymore. I guess I messed something up, or maybe this happens only when the dropmarker is rendered in certain positions...\n\n> I also noticed the following spam in the Error Console:\n> \n> Warning: XUL box for _moz_generated_content_before element contained an inline\n> #text child, forcing all its children to be wrapped in a block.\n> Source File: chrome://inspector/content/inspector.xul\n> Line: 0\n\nI'll see what I can do about that.", "bug_id": 643722, "text": "(In reply to comment #6)\n> Created attachment 522783 [details]\n> XP with default settings\n> \n> So, this is what it looks like on XP by default...\n\nAfter twiddling with the font-size and -moz-transform factor, I thought this didn't happen anymore. I guess I messed something up, or maybe this happens only when the dropmarker is rendered in certain positions...\n\n> I also noticed the following spam in the Error Console:\n> \n> Warning: XUL box for _moz_generated_content_before element contained an inline\n> #text child, forcing all its children to be wrapped in a block.\n> Source File: chrome://inspector/content/inspector.xul\n> Line: 0\n\nI'll see what I can do about that.", "is_private": false, "count": 7, "author": "dao+bmo@mozilla.com", "time": "2011-03-29T22:22:43Z", "id": 5378848}]}}}