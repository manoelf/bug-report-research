{"bugs": {"663182": {"comments": [{"tags": [], "raw_text": "We now persist a directory full of sync logs. It would be nice to have a UI on top of this, a la about:crashes.", "attachment_id": null, "time": "2011-06-09T19:08:26Z", "creation_time": "2011-06-09T19:08:26Z", "is_private": false, "bug_id": 663182, "id": 5522978, "text": "We now persist a directory full of sync logs. It would be nice to have a UI on top of this, a la about:crashes.", "count": 0, "author": "bugzilla@twinql.com", "creator": "bugzilla@twinql.com"}, {"raw_text": "See Bug 610832, particularly comment 18, for more background on this.", "attachment_id": null, "time": "2011-08-12T17:14:11Z", "tags": [], "text": "See Bug 610832, particularly comment 18, for more background on this.", "count": 1, "author": "bugzilla@twinql.com", "creator": "bugzilla@twinql.com", "is_private": false, "creation_time": "2011-08-12T17:14:11Z", "id": 5650294, "bug_id": 663182}, {"tags": [], "attachment_id": null, "creation_time": "2011-08-12T17:21:49Z", "is_private": false, "creator": "philipp@weitershausen.de", "raw_text": "This will probably tie into Syncorro, which makes this not so good-first-bug-y, nor will it be polish.", "time": "2011-08-12T17:21:49Z", "id": 5650325, "bug_id": 663182, "count": 2, "text": "This will probably tie into Syncorro, which makes this not so good-first-bug-y, nor will it be polish.", "author": "philipp@weitershausen.de"}, {"id": 6044279, "bug_id": 663182, "creation_time": "2012-02-08T17:32:46Z", "is_private": false, "creator": "mimecuvalo@gmail.com", "author": "mimecuvalo@gmail.com", "count": 3, "text": "Created attachment 595437\nsync-log ui (based on syncorro) v.1\n\nThe only thing missing as far AFAIK is the default URL pref to submit to a server somewhere.\n\nAlso, I added a link from about:support for kicks - lemme know whatchya think.", "tags": [], "time": "2012-02-08T17:32:46Z", "attachment_id": 595437, "raw_text": "The only thing missing as far AFAIK is the default URL pref to submit to a server somewhere.\n\nAlso, I added a link from about:support for kicks - lemme know whatchya think."}, {"bug_id": 663182, "id": 6044374, "count": 4, "text": "Comment on attachment 595437\nsync-log ui (based on syncorro) v.1\n\nNice. Can you post a screenshot?", "author": "philipp@weitershausen.de", "time": "2012-02-08T17:59:22Z", "raw_text": "Nice. Can you post a screenshot?", "is_private": false, "creation_time": "2012-02-08T17:59:22Z", "creator": "philipp@weitershausen.de", "tags": [], "attachment_id": 595437}, {"is_private": false, "creation_time": "2012-02-09T13:31:41Z", "creator": "mimecuvalo@gmail.com", "tags": [], "attachment_id": 595708, "bug_id": 663182, "id": 6046875, "count": 5, "text": "Created attachment 595708\nscreenshot of detail view", "author": "mimecuvalo@gmail.com", "time": "2012-02-09T13:31:41Z", "raw_text": ""}, {"attachment_id": null, "raw_text": "Related question: so, now there are logs in\nweave/logs  and \nweave/syncorro\nthe former being in .txt format with just the raw log, the latter in .json format with more details.  Perhaps if this lands there wouldn't be a need for weave/logs anymore?", "time": "2012-02-09T13:32:50Z", "tags": [], "author": "mimecuvalo@gmail.com", "text": "Related question: so, now there are logs in\nweave/logs  and \nweave/syncorro\nthe former being in .txt format with just the raw log, the latter in .json format with more details.  Perhaps if this lands there wouldn't be a need for weave/logs anymore?", "count": 6, "creator": "mimecuvalo@gmail.com", "creation_time": "2012-02-09T13:32:50Z", "is_private": false, "id": 6046877, "bug_id": 663182}, {"time": "2012-02-09T19:05:48Z", "attachment_id": null, "raw_text": "(In reply to Mime Cuvalo from comment #6)\n> Related question: so, now there are logs in\n> weave/logs  and \n> weave/syncorro\n> the former being in .txt format with just the raw log, the latter in .json\n> format with more details.  Perhaps if this lands there wouldn't be a need\n> for weave/logs anymore?\n\nSo, I took a closer look at the patch. It mostly just copies stuff from the experimental Syncorro add-on. I didn't realize Syncorro was far along already for that. It seems to blow the purpose of this bug out of proportion a bit...\n\nBecause Syncorro was conceived as a separate add-on, it invented a lot of parallel structures to the Sync code. The \"Syncorro\" object was never meant to survive in the long run. Please integrate it with ErrorHandler in policies.js. (If for some reason that's not practical, please just add another policy object to policies.js.) Same goes for the logs: we should keep the log files in weave/logs and not include the log text in the JSON. The JSON files and the .txt files could live side by side in weave/logs, *if* about:sync-log is no longer just a directory listing. That way we can also have the ErrorHandler perform the automatic clean up on the JSON files.\n\nAnyway, I'm a bit perplexed that we're rushing Syncorro into the code now, but perhaps I'm misunderstanding this. I personally would suggest that we wrap up Syncorro first as a \"beta\" add-on, deploy an ElasticSearch to a test server somewhere, and iterate for a few weeks with some user testing (could easily get ~1000 beta testers).", "tags": [], "creator": "philipp@weitershausen.de", "author": "philipp@weitershausen.de", "text": "(In reply to Mime Cuvalo from comment #6)\n> Related question: so, now there are logs in\n> weave/logs  and \n> weave/syncorro\n> the former being in .txt format with just the raw log, the latter in .json\n> format with more details.  Perhaps if this lands there wouldn't be a need\n> for weave/logs anymore?\n\nSo, I took a closer look at the patch. It mostly just copies stuff from the experimental Syncorro add-on. I didn't realize Syncorro was far along already for that. It seems to blow the purpose of this bug out of proportion a bit...\n\nBecause Syncorro was conceived as a separate add-on, it invented a lot of parallel structures to the Sync code. The \"Syncorro\" object was never meant to survive in the long run. Please integrate it with ErrorHandler in policies.js. (If for some reason that's not practical, please just add another policy object to policies.js.) Same goes for the logs: we should keep the log files in weave/logs and not include the log text in the JSON. The JSON files and the .txt files could live side by side in weave/logs, *if* about:sync-log is no longer just a directory listing. That way we can also have the ErrorHandler perform the automatic clean up on the JSON files.\n\nAnyway, I'm a bit perplexed that we're rushing Syncorro into the code now, but perhaps I'm misunderstanding this. I personally would suggest that we wrap up Syncorro first as a \"beta\" add-on, deploy an ElasticSearch to a test server somewhere, and iterate for a few weeks with some user testing (could easily get ~1000 beta testers).", "count": 7, "id": 6047853, "bug_id": 663182, "creation_time": "2012-02-09T19:05:48Z", "is_private": false}, {"raw_text": "Correct, so it's mostly the Syncorro add-on code - sorry, I had the impression that this would eventually be about:sync-log judging from what it said on the wiki ( https://wiki.mozilla.org/Services/Sync/FxSync/Syncorro#Looking_up_error_reports )\n\nI wasn't sure what else to change on Syncorro so Mike suggested I start creating a patch for integration.  I still can't test with a remote Elastic server, I'm waiting for Daniel on that (see bug 673318) - he says they're in the midst of a migration so best to hold off.\n\nI'll take a look at policies.js  Is there a good reason though that the .txt and .json files should just live side by side?  Are those .txt files being used anywhere else?\n\nI'm ok with just doing the add-on for now - it's up to you guys - it's the same to me.  Just was unclear on what else to change on Syncorro in the meantime.", "time": "2012-02-10T13:14:05Z", "id": 6049837, "bug_id": 663182, "author": "mimecuvalo@gmail.com", "count": 8, "text": "Correct, so it's mostly the Syncorro add-on code - sorry, I had the impression that this would eventually be about:sync-log judging from what it said on the wiki ( https://wiki.mozilla.org/Services/Sync/FxSync/Syncorro#Looking_up_error_reports )\n\nI wasn't sure what else to change on Syncorro so Mike suggested I start creating a patch for integration.  I still can't test with a remote Elastic server, I'm waiting for Daniel on that (see bug 673318) - he says they're in the midst of a migration so best to hold off.\n\nI'll take a look at policies.js  Is there a good reason though that the .txt and .json files should just live side by side?  Are those .txt files being used anywhere else?\n\nI'm ok with just doing the add-on for now - it's up to you guys - it's the same to me.  Just was unclear on what else to change on Syncorro in the meantime.", "tags": [], "attachment_id": null, "is_private": false, "creation_time": "2012-02-10T13:14:05Z", "creator": "mimecuvalo@gmail.com"}]}}, "comments": {}}