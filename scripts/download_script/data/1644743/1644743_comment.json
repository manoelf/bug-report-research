{"bugs": {"1644743": {"comments": [{"author": "andrei.br92@gmail.com", "tags": [], "creator": "andrei.br92@gmail.com", "attachment_id": null, "id": 14874166, "bug_id": 1644743, "count": 0, "is_private": false, "raw_text": "[Tech Doc](https://docs.google.com/document/d/1On5waXqNN6vzQnVICwLTlVYjUqXv8ZDhkgWp2XLt678/edit?skip_itp2_check=true&pli=1#heading=h.31gjgjgnwbs0).\nRight now there are several targeting environments in use:\n* [ClientEnvironment](https://searchfox.org/mozilla-central/source/toolkit/components/utils/ClientEnvironment.jsm) used by RemoteSettingsClient.jsm\n* A different (normandy) [ClientEnvironment](https://searchfox.org/mozilla-central/source/toolkit/components/normandy/lib/ClientEnvironment.jsm) used by Normandy*\n* [ASRouterTargeting](https://searchfox.org/mozilla-central/source/browser/components/newtab/lib/ASRouterTargeting.jsm) used by the Messaging System\n\nWe need a new targeting environment (and maintain backwards compatibility) in order to add new (required) features around telemetry and logging for population estimation. This will replace Normandy but also be used by Exp Manager and other modules that need it.", "text": "[Tech Doc](https://docs.google.com/document/d/1On5waXqNN6vzQnVICwLTlVYjUqXv8ZDhkgWp2XLt678/edit?skip_itp2_check=true&pli=1#heading=h.31gjgjgnwbs0).\nRight now there are several targeting environments in use:\n* [ClientEnvironment](https://searchfox.org/mozilla-central/source/toolkit/components/utils/ClientEnvironment.jsm) used by RemoteSettingsClient.jsm\n* A different (normandy) [ClientEnvironment](https://searchfox.org/mozilla-central/source/toolkit/components/normandy/lib/ClientEnvironment.jsm) used by Normandy*\n* [ASRouterTargeting](https://searchfox.org/mozilla-central/source/browser/components/newtab/lib/ASRouterTargeting.jsm) used by the Messaging System\n\nWe need a new targeting environment (and maintain backwards compatibility) in order to add new (required) features around telemetry and logging for population estimation. This will replace Normandy but also be used by Exp Manager and other modules that need it.", "time": "2020-06-10T14:08:19Z", "creation_time": "2020-06-10T14:08:19Z"}, {"creation_time": "2020-06-17T09:33:09Z", "text": "Created attachment 9157240\nBug 1644743 - Consolidate Targeting evaluation across Normandy, Experiment Manager and ASRouter", "attachment_id": 9157240, "author": "andrei.br92@gmail.com", "tags": [], "count": 1, "raw_text": "", "time": "2020-06-17T09:33:09Z", "is_private": false, "creator": "andrei.br92@gmail.com", "bug_id": 1644743, "id": 14886684}, {"raw_text": "", "time": "2020-07-21T14:49:11Z", "text": "Created attachment 9165070\ndata-review-1644743.txt", "creation_time": "2020-07-21T14:49:11Z", "is_private": false, "count": 2, "bug_id": 1644743, "id": 14948791, "creator": "andrei.br92@gmail.com", "attachment_id": 9165070, "author": "andrei.br92@gmail.com", "tags": []}, {"id": 14948797, "bug_id": 1644743, "author": "andrei.br92@gmail.com", "tags": [], "creator": "andrei.br92@gmail.com", "attachment_id": 9165072, "is_private": false, "raw_text": "", "text": "Created attachment 9165072\ndata-review-1644743.txt", "time": "2020-07-21T14:53:23Z", "creation_time": "2020-07-21T14:53:23Z", "count": 3}, {"text": "Comment on attachment 9165072\ndata-review-1644743.txt\n\nPRELIMINARY NOTE:\n\nThere is a new version of the Data Review Request that should be used: https://github.com/mozilla/data-review/blob/master/request.md\n\nThe change between the version you used and the new version is an additional question (Q6) about where the documentation will live. In this case I know where it will live and address that information in my first answer.\n\nFor future reviews, please use the new request.\n\nDATA COLLECTION REVIEW RESPONSE:\n\n    Is there or will there be documentation that describes the schema for the ultimate data set available publicly, complete and accurate?\n\nYes. This collection is Telemetry so is documented in its definitions file [Events.yaml](https://hg.mozilla.org/mozilla-central/file/tip/toolkit/components/telemetry/Events.yaml) and the [Probe Dictionary](https://telemetry.mozilla.org/probe-dictionary/).\n\n    Is there a control mechanism that allows the user to turn the data collection on and off?\n\nYes. This collection is Telemetry so can be controlled through Firefox's Preferences.\n\n    If the request is for permanent data collection, is there someone who will monitor the data over time?\n\nYes, Andrei Oprea is responsible.\n\n    Using the category system of data types on the Mozilla wiki, what collection type of data do the requested measurements fall under?\n\nCategory 1, Technical.\n\n    Is the data collection request for default-on or default-off?\n\nDefault on for all channels.\n\n    Does the instrumentation include the addition of any new identifiers?\n\nNo.\n\n    Is the data collection covered by the existing Firefox privacy notice?\n\nYes.\n\n    Does there need to be a check-in in the future to determine whether to renew the data?\n\nNo. This collection is permanent.\n\n---\nResult: datareview+", "creation_time": "2020-07-23T13:04:48Z", "author": "chutten@mozilla.com", "tags": [], "attachment_id": 9165072, "is_private": false, "raw_text": "PRELIMINARY NOTE:\n\nThere is a new version of the Data Review Request that should be used: https://github.com/mozilla/data-review/blob/master/request.md\n\nThe change between the version you used and the new version is an additional question (Q6) about where the documentation will live. In this case I know where it will live and address that information in my first answer.\n\nFor future reviews, please use the new request.\n\nDATA COLLECTION REVIEW RESPONSE:\n\n    Is there or will there be documentation that describes the schema for the ultimate data set available publicly, complete and accurate?\n\nYes. This collection is Telemetry so is documented in its definitions file [Events.yaml](https://hg.mozilla.org/mozilla-central/file/tip/toolkit/components/telemetry/Events.yaml) and the [Probe Dictionary](https://telemetry.mozilla.org/probe-dictionary/).\n\n    Is there a control mechanism that allows the user to turn the data collection on and off?\n\nYes. This collection is Telemetry so can be controlled through Firefox's Preferences.\n\n    If the request is for permanent data collection, is there someone who will monitor the data over time?\n\nYes, Andrei Oprea is responsible.\n\n    Using the category system of data types on the Mozilla wiki, what collection type of data do the requested measurements fall under?\n\nCategory 1, Technical.\n\n    Is the data collection request for default-on or default-off?\n\nDefault on for all channels.\n\n    Does the instrumentation include the addition of any new identifiers?\n\nNo.\n\n    Is the data collection covered by the existing Firefox privacy notice?\n\nYes.\n\n    Does there need to be a check-in in the future to determine whether to renew the data?\n\nNo. This collection is permanent.\n\n---\nResult: datareview+", "time": "2020-07-23T13:04:48Z", "count": 4, "id": 14952856, "bug_id": 1644743, "creator": "chutten@mozilla.com"}, {"id": 14954728, "bug_id": 1644743, "tags": [], "author": "pulsebot@bots.tld", "attachment_id": null, "creator": "pulsebot@bots.tld", "is_private": false, "creation_time": "2020-07-24T12:33:09Z", "time": "2020-07-24T12:33:09Z", "text": "Pushed by aoprea@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/47420937d6b1\nConsolidate Targeting evaluation across Normandy, Experiment Manager and ASRouter r=k88hudson,mythmon,janerik", "raw_text": "Pushed by aoprea@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/47420937d6b1\nConsolidate Targeting evaluation across Normandy, Experiment Manager and ASRouter r=k88hudson,mythmon,janerik", "count": 5}, {"count": 6, "time": "2020-07-24T14:44:26Z", "creation_time": "2020-07-24T14:44:26Z", "text": "Backed out changeset 47420937d6b1 (bug 1644743) for browser-chrome failures at browser/base/content/test/static/browser_all_files_referenced.js\n\nBackout: https://hg.mozilla.org/integration/autoland/rev/944f67781bcb6a0b90cb5b25c5b85fe3848998c2\n\nFailure push: https://treeherder.mozilla.org/#/jobs?repo=autoland&revision=47420937d6b10c4eeaa7af0ca26e6ac8f9e525cc\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=310967711&repo=autoland&lineNumber=2802", "raw_text": "Backed out changeset 47420937d6b1 (bug 1644743) for browser-chrome failures at browser/base/content/test/static/browser_all_files_referenced.js\n\nBackout: https://hg.mozilla.org/integration/autoland/rev/944f67781bcb6a0b90cb5b25c5b85fe3848998c2\n\nFailure push: https://treeherder.mozilla.org/#/jobs?repo=autoland&revision=47420937d6b10c4eeaa7af0ca26e6ac8f9e525cc\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=310967711&repo=autoland&lineNumber=2802", "is_private": false, "attachment_id": null, "creator": "ccoroiu@mozilla.com", "tags": [], "author": "ccoroiu@mozilla.com", "bug_id": 1644743, "id": 14954943}, {"author": "pulsebot@bots.tld", "tags": [], "creator": "pulsebot@bots.tld", "attachment_id": null, "id": 14955130, "bug_id": 1644743, "count": 7, "is_private": false, "raw_text": "Pushed by aoprea@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/41ef572f2fd4\nConsolidate Targeting evaluation across Normandy, Experiment Manager and ASRouter r=k88hudson,mythmon,janerik", "text": "Pushed by aoprea@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/41ef572f2fd4\nConsolidate Targeting evaluation across Normandy, Experiment Manager and ASRouter r=k88hudson,mythmon,janerik", "time": "2020-07-24T16:29:05Z", "creation_time": "2020-07-24T16:29:05Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/41ef572f2fd4", "creation_time": "2020-07-25T09:42:53Z", "author": "nbeleuzu@mozilla.com", "tags": ["bugherder"], "attachment_id": null, "count": 8, "is_private": false, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/41ef572f2fd4", "time": "2020-07-25T09:42:53Z", "creator": "nbeleuzu@mozilla.com", "id": 14956021, "bug_id": 1644743}]}}, "comments": {}}