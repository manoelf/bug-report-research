{"comments": {}, "bugs": {"712834": {"comments": [{"count": 0, "is_private": false, "creator": "mconnor@mozilla.com", "text": "http://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/extensions/XPIProvider.jsm#3079 is an example of this.  I'm not sure if that's the right thing to call, but it's effectively the set of prefs/per-site settings I think we should respect here.\n\ncc-ing fligtar, I think this lets us get beyond AMO in a relatively sane and user-determined way.  thoughts?", "tags": [], "bug_id": 712834, "time": "2011-12-22T01:23:18Z", "creation_time": "2011-12-22T01:23:18Z", "author": "mconnor@mozilla.com", "raw_text": "http://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/extensions/XPIProvider.jsm#3079 is an example of this.  I'm not sure if that's the right thing to call, but it's effectively the set of prefs/per-site settings I think we should respect here.\n\ncc-ing fligtar, I think this lets us get beyond AMO in a relatively sane and user-determined way.  thoughts?", "attachment_id": null, "id": 5934266}, {"id": 5934287, "raw_text": "Regarding the dependency on bug 470699, we'd need to be careful about syncing the whitelist. One of the reasons we currently limit syncing to addons.mozilla.org is we can trust that add-ons there aren't malicious. If we start allowing Sync to install add-ons from any source where that source can be defined by a synced entity, we open up an attack vector where Sync can be used to propagate malicious extensions. If the whitelist is not synchronized, an attacker (or dumb user) must first compromise the machine receiving the synced data.\n\nThis is called out explicitly at https://hg.mozilla.org/services/services-central/file/b573033b92b6/browser/app/profile/firefox.js#l941", "attachment_id": null, "text": "Regarding the dependency on bug 470699, we'd need to be careful about syncing the whitelist. One of the reasons we currently limit syncing to addons.mozilla.org is we can trust that add-ons there aren't malicious. If we start allowing Sync to install add-ons from any source where that source can be defined by a synced entity, we open up an attack vector where Sync can be used to propagate malicious extensions. If the whitelist is not synchronized, an attacker (or dumb user) must first compromise the machine receiving the synced data.\n\nThis is called out explicitly at https://hg.mozilla.org/services/services-central/file/b573033b92b6/browser/app/profile/firefox.js#l941", "time": "2011-12-22T01:35:24Z", "bug_id": 712834, "tags": [], "creation_time": "2011-12-22T01:35:24Z", "author": "gps@mozilla.com", "count": 1, "is_private": false, "creator": "gps@mozilla.com"}, {"text": "gps: I think what you're saying is \"malicious add-ons can add themselves to the whitelist\", right?", "bug_id": 712834, "tags": [], "time": "2011-12-22T01:44:38Z", "creation_time": "2011-12-22T01:44:38Z", "author": "bugzilla@twinql.com", "count": 2, "is_private": false, "creator": "bugzilla@twinql.com", "id": 5934303, "raw_text": "gps: I think what you're saying is \"malicious add-ons can add themselves to the whitelist\", right?", "attachment_id": null}, {"id": 5934318, "raw_text": "rnewman: that's effectively what I'm saying, yes. Put another way, if a single device is compromised, Sync's role as a vector to compromise other devices needs to be carefully considered.", "attachment_id": null, "tags": [], "bug_id": 712834, "time": "2011-12-22T01:57:27Z", "text": "rnewman: that's effectively what I'm saying, yes. Put another way, if a single device is compromised, Sync's role as a vector to compromise other devices needs to be carefully considered.", "author": "gps@mozilla.com", "creation_time": "2011-12-22T01:57:27Z", "count": 3, "creator": "gps@mozilla.com", "is_private": false}, {"count": 4, "bug_id": 712834, "creator": "fligtar+bugs@gmail.com", "is_private": false, "tags": [], "time": "2011-12-22T02:04:49Z", "text": "This method seems fine, but it seems like users would have to go to a lot of effort for each extension they want to sync.\n\nI assumed the reason we currently sync AMO-only add-ons is because we can easily re-download the file, whereas we don't know how to get the .xpi installed from other sites without either uploading and syncing the actual file or hoping there's an updateURL that we can get it from. If that's the only reason and we have a plan to tackle that, I think we should sync all add-ons.\n\nIf there are other reasons, we should list them all so we know what we're trying to protect against. Here's what I can think of:\n\n* [gps] a user getting infected with poorly-written malware and it syncing to other computers (I say poorly written because our limitations wouldn't stop anyone who knew what they were doing)\n\n* encouraging users and devs to use AMO because of security, quality, compatibility, privacy, performance, etc. wins that are often missing from non-reviewed add-ons\n\nHmm, that's all I've got right now. Are there other concerns we're worried about with syncing all add-ons?", "author": "fligtar+bugs@gmail.com", "creation_time": "2011-12-22T02:04:49Z", "raw_text": "This method seems fine, but it seems like users would have to go to a lot of effort for each extension they want to sync.\n\nI assumed the reason we currently sync AMO-only add-ons is because we can easily re-download the file, whereas we don't know how to get the .xpi installed from other sites without either uploading and syncing the actual file or hoping there's an updateURL that we can get it from. If that's the only reason and we have a plan to tackle that, I think we should sync all add-ons.\n\nIf there are other reasons, we should list them all so we know what we're trying to protect against. Here's what I can think of:\n\n* [gps] a user getting infected with poorly-written malware and it syncing to other computers (I say poorly written because our limitations wouldn't stop anyone who knew what they were doing)\n\n* encouraging users and devs to use AMO because of security, quality, compatibility, privacy, performance, etc. wins that are often missing from non-reviewed add-ons\n\nHmm, that's all I've got right now. Are there other concerns we're worried about with syncing all add-ons?", "attachment_id": null, "id": 5934342}]}}}