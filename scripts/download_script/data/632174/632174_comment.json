{"comments": {}, "bugs": {"632174": {"comments": [{"raw_text": "Lightning 1.0b3pre 1.0b2 and Lightning 1.0b3pre (20110206) with Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.15pre) Gecko/20110207 Lanikai/3.1.9pre.\n\nSteps to reproduce:\n1. Create clean Thunderbird profile, install Lightning, restart\n2. Switch to Calendar tab and close unifinder\n3. Create event that is inside the unifinder filter range (e.g. next seven days)\n\nActual results:\nError: [Exception... \"'[JavaScript Error: \"this.tree is null\" {file: \"chrome://calendar/content/calendar-unifinder.js\" line: 501}]' when calling method: [calIObserver::onAddItem]\"  nsresult: \"0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)\"  location: \"JS frame :: file:///.../calendar-js/calUtils.js :: notifyFunc :: line 1227\"  data: yes] STACK: \n1: [file:///.../calendar-js/calUtils.js:1230] notifyFunc\n2: [file:///.../calendar-js/calUtils.js:1233] calListenerBag_notify\n3: [file:///.../modules/calProviderUtils.jsm:497] calObserverBag_notify\n4: [file:///.../components/calCompositeCalendar.js:78] anonymous\n5: [null:0] null\n6: [file:///.../calendar-js/calUtils.js:1227] notifyFunc\n7: [file:///.../calendar-js/calUtils.js:1233] calListenerBag_notify\n8: [file:///.../modules/calProviderUtils.jsm:497] calObserverBag_notify\n9: [file:///.../calendar-js/calStorageCalendar.js:455] cSC_adoptItem\n10: [file:///.../calendar-js/calStorageCalendar.js:403] cSC_addItem\n\nSource file: file:///.../calendar-js/calUtils.js\nLine: 1230", "tags": [], "is_private": false, "creation_time": "2011-02-07T22:15:07Z", "text": "Lightning 1.0b3pre 1.0b2 and Lightning 1.0b3pre (20110206) with Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.15pre) Gecko/20110207 Lanikai/3.1.9pre.\n\nSteps to reproduce:\n1. Create clean Thunderbird profile, install Lightning, restart\n2. Switch to Calendar tab and close unifinder\n3. Create event that is inside the unifinder filter range (e.g. next seven days)\n\nActual results:\nError: [Exception... \"'[JavaScript Error: \"this.tree is null\" {file: \"chrome://calendar/content/calendar-unifinder.js\" line: 501}]' when calling method: [calIObserver::onAddItem]\"  nsresult: \"0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)\"  location: \"JS frame :: file:///.../calendar-js/calUtils.js :: notifyFunc :: line 1227\"  data: yes] STACK: \n1: [file:///.../calendar-js/calUtils.js:1230] notifyFunc\n2: [file:///.../calendar-js/calUtils.js:1233] calListenerBag_notify\n3: [file:///.../modules/calProviderUtils.jsm:497] calObserverBag_notify\n4: [file:///.../components/calCompositeCalendar.js:78] anonymous\n5: [null:0] null\n6: [file:///.../calendar-js/calUtils.js:1227] notifyFunc\n7: [file:///.../calendar-js/calUtils.js:1233] calListenerBag_notify\n8: [file:///.../modules/calProviderUtils.jsm:497] calObserverBag_notify\n9: [file:///.../calendar-js/calStorageCalendar.js:455] cSC_adoptItem\n10: [file:///.../calendar-js/calStorageCalendar.js:403] cSC_addItem\n\nSource file: file:///.../calendar-js/calUtils.js\nLine: 1230", "id": 5261321, "attachment_id": null, "bug_id": 632174, "count": 0, "time": "2011-02-07T22:15:07Z", "creator": "ssitter@gmail.com", "author": "ssitter@gmail.com"}, {"count": 1, "bug_id": 632174, "time": "2011-10-22T18:21:44Z", "author": "bv1578@gmail.com", "creator": "bv1578@gmail.com", "raw_text": "Not sure if it has been reported somewhere, but it happens a similar error upon event modification e.g. by moving an event with drag and drop on any view. To reproduce it, the unifinder must be closed :\n\nError: [Exception... \"'[JavaScript Error: \"this.tree is null\" {file: \"chrome://calendar/content/calendar-unifinder.js\" line: 530}]' when calling method: [calIObserver::onModifyItem]\"  nsresult: \"0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)\"  location: \"JS frame :: resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js :: notifyFunc :: line 1236\"  data: yes] STACK: 1: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js:1239] notifyFunc\n2: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js:1242] calListenerBag_notify\n3: [resource://calendar/modules/calProviderUtils.jsm:502] calObserverBag_notify\n4: [file:///.../components/calCompositeCalendar.js:85] null\n5: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js:1236] notifyFunc\n6: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js:1242] calListenerBag_notify\n7: [resource://calendar/modules/calProviderUtils.jsm:502] calObserverBag_notify\n8: [file:///.../components/calStorageCalendar.js:559] cSC_modifyItem\n9: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calTransactionManager.js:250] cT_doTransaction\n10: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calTransactionManager.js:83] cTM_createAndCommitTxn\n\nSource File: resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js\nLine: 1239\n\nTB 8.0b3, Lightning 1.0rc1", "tags": [], "is_private": false, "creation_time": "2011-10-22T18:21:44Z", "text": "Not sure if it has been reported somewhere, but it happens a similar error upon event modification e.g. by moving an event with drag and drop on any view. To reproduce it, the unifinder must be closed :\n\nError: [Exception... \"'[JavaScript Error: \"this.tree is null\" {file: \"chrome://calendar/content/calendar-unifinder.js\" line: 530}]' when calling method: [calIObserver::onModifyItem]\"  nsresult: \"0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)\"  location: \"JS frame :: resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js :: notifyFunc :: line 1236\"  data: yes] STACK: 1: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js:1239] notifyFunc\n2: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js:1242] calListenerBag_notify\n3: [resource://calendar/modules/calProviderUtils.jsm:502] calObserverBag_notify\n4: [file:///.../components/calCompositeCalendar.js:85] null\n5: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js:1236] notifyFunc\n6: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js:1242] calListenerBag_notify\n7: [resource://calendar/modules/calProviderUtils.jsm:502] calObserverBag_notify\n8: [file:///.../components/calStorageCalendar.js:559] cSC_modifyItem\n9: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calTransactionManager.js:250] cT_doTransaction\n10: [resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calTransactionManager.js:83] cTM_createAndCommitTxn\n\nSource File: resource://calendar/modules/calUtils.jsm -> file:///.../calendar-js/calUtils.js\nLine: 1239\n\nTB 8.0b3, Lightning 1.0rc1", "attachment_id": null, "id": 5798804}, {"id": 14060042, "attachment_id": null, "creator": "ssitter@gmail.com", "text": "Still reported using Thunderbird 68.0a1 (20190416083948) + Lightning 7.0a1\n\n> TypeError: this.tree is null\n> calendar-unifinder.js:451:9\n>     addItems            chrome://calendar/content/calendar-unifinder.js:451\n>     addItemToTree       chrome://calendar/content/calendar-unifinder.js:156\n>     onAddItem           chrome://calendar/content/calendar-unifinder.js:95\n>     notify              resource://calendar/modules/utils/calDataUtils.jsm:40\n>     notify              resource://calendar/modules/utils/calDataUtils.jsm:68\n>     onAddItem           jar:file://[...]/components/calCompositeCalendar.js:49\n>     notify              resource://calendar/modules/utils/calDataUtils.jsm:40\n>     notify              resource://calendar/modules/utils/calDataUtils.jsm:68\n>     adoptItem           jar:file://[...]/components/calStorageCalendar.js:467\n>     addItem             jar:file://[...]/components/calStorageCalendar.js:415\n>     doTransaction       resource://calendar/calendar-js/calTransactionManager.js:136\n>     createAndCommitTxn  resource://calendar/calendar-js/calTransactionManager.js:27\n>     doTransaction       chrome://calendar/content/calendar-item-editing.js:636\n>     onNewEvent          chrome://calendar/content/calendar-item-editing.js:238\n>     onCommandSave       chrome://lightning/content/lightning-item-iframe.js:3181\n>     onCommandCancel     chrome://lightning/content/lightning-item-iframe.js:499\n>     onCancel            chrome://lightning/content/lightning-item-iframe.js:524\n>     receiveMessage      chrome://lightning/content/lightning-item-iframe.js:203", "author": "ssitter@gmail.com", "creation_time": "2019-04-17T10:33:01Z", "time": "2019-04-17T10:33:01Z", "is_private": false, "tags": [], "raw_text": "Still reported using Thunderbird 68.0a1 (20190416083948) + Lightning 7.0a1\n\n> TypeError: this.tree is null\n> calendar-unifinder.js:451:9\n>     addItems            chrome://calendar/content/calendar-unifinder.js:451\n>     addItemToTree       chrome://calendar/content/calendar-unifinder.js:156\n>     onAddItem           chrome://calendar/content/calendar-unifinder.js:95\n>     notify              resource://calendar/modules/utils/calDataUtils.jsm:40\n>     notify              resource://calendar/modules/utils/calDataUtils.jsm:68\n>     onAddItem           jar:file://[...]/components/calCompositeCalendar.js:49\n>     notify              resource://calendar/modules/utils/calDataUtils.jsm:40\n>     notify              resource://calendar/modules/utils/calDataUtils.jsm:68\n>     adoptItem           jar:file://[...]/components/calStorageCalendar.js:467\n>     addItem             jar:file://[...]/components/calStorageCalendar.js:415\n>     doTransaction       resource://calendar/calendar-js/calTransactionManager.js:136\n>     createAndCommitTxn  resource://calendar/calendar-js/calTransactionManager.js:27\n>     doTransaction       chrome://calendar/content/calendar-item-editing.js:636\n>     onNewEvent          chrome://calendar/content/calendar-item-editing.js:238\n>     onCommandSave       chrome://lightning/content/lightning-item-iframe.js:3181\n>     onCommandCancel     chrome://lightning/content/lightning-item-iframe.js:499\n>     onCancel            chrome://lightning/content/lightning-item-iframe.js:524\n>     receiveMessage      chrome://lightning/content/lightning-item-iframe.js:203", "bug_id": 632174, "count": 2}, {"author": "mschroeder@mozilla.x-home.org", "text": "This should be re-tested with the latest beta or nightly to see if bug 1684500 has improved the situation as it touched calendar/base/content/calendar-unifinder.js and added additional null checks.", "creator": "mschroeder@mozilla.x-home.org", "attachment_id": null, "id": 15332211, "creation_time": "2021-03-28T07:28:13Z", "tags": [], "is_private": false, "time": "2021-03-28T07:28:13Z", "count": 3, "bug_id": 632174, "raw_text": "This should be re-tested with the latest beta or nightly to see if bug 1684500 has improved the situation as it touched calendar/base/content/calendar-unifinder.js and added additional null checks."}]}}}