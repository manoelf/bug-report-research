{"comments": {}, "bugs": {"709883": {"comments": [{"tags": [], "time": "2011-12-12T19:18:47Z", "raw_text": "A common feature of smartphone media players is to pause or mute when the phone receives an incoming call. This would be helpful for WebRTC as well (at least as a user-controllable option), though it may be a challenge to identify which <audio>/<video> tags correspond to something like traditional media playback, and which might actually be part of the call itself.", "attachment_id": null, "bug_id": 709883, "id": 5909467, "is_private": false, "creation_time": "2011-12-12T19:18:47Z", "creator": "tterribe@vt.edu", "text": "A common feature of smartphone media players is to pause or mute when the phone receives an incoming call. This would be helpful for WebRTC as well (at least as a user-controllable option), though it may be a challenge to identify which <audio>/<video> tags correspond to something like traditional media playback, and which might actually be part of the call itself.", "count": 0, "author": "tterribe@vt.edu"}, {"creator": "sotaro.ikeda.g@gmail.com", "author": "sotaro.ikeda.g@gmail.com", "text": "About audio, bug 795237 could be used to identify a usage category.", "count": 1, "bug_id": 709883, "id": 6704018, "creation_time": "2012-10-06T10:01:29Z", "is_private": false, "time": "2012-10-06T10:01:29Z", "attachment_id": null, "raw_text": "About audio, bug 795237 could be used to identify a usage category.", "tags": []}, {"tags": [], "raw_text": "As an additional note, at least on PulseAudio, it makes more sense to tag the stream appropriately based on the type (media.role property) and let PulseAudio take care of this policy. Our current default is to request \"video\" and \"music\" streams to pause when we get a \"phone\" stream.\n\nWe recently added support for ducking (not on by default), so we could even do fancier things such as ducking video/music when a notification sound occurs.", "attachment_id": null, "time": "2013-06-28T07:27:25Z", "is_private": false, "creation_time": "2013-06-28T07:27:25Z", "bug_id": 709883, "id": 7584403, "text": "As an additional note, at least on PulseAudio, it makes more sense to tag the stream appropriately based on the type (media.role property) and let PulseAudio take care of this policy. Our current default is to request \"video\" and \"music\" streams to pause when we get a \"phone\" stream.\n\nWe recently added support for ducking (not on by default), so we could even do fancier things such as ducking video/music when a notification sound occurs.", "count": 2, "author": "arun@accosted.net", "creator": "arun@accosted.net"}, {"attachment_id": null, "raw_text": "Randell and I were talking, and Roc is a better fit for this work.  We may reassign it after talking further with Roc.  I'd still like to get this done in time for Gecko 28.", "time": "2013-08-26T15:55:05Z", "tags": [], "author": "mreavy@mozilla.com", "count": 3, "text": "Randell and I were talking, and Roc is a better fit for this work.  We may reassign it after talking further with Roc.  I'd still like to get this done in time for Gecko 28.", "creator": "mreavy@mozilla.com", "creation_time": "2013-08-26T15:55:05Z", "is_private": false, "id": 7789728, "bug_id": 709883}, {"raw_text": "This requires hooking up PeerConnection to an AudioChannelAgent. (And making AudioChannelService work on desktop/Android.) Marco, can you or Steve do that?", "time": "2013-08-26T23:10:54Z", "author": "roc@ocallahan.org", "text": "This requires hooking up PeerConnection to an AudioChannelAgent. (And making AudioChannelService work on desktop/Android.) Marco, can you or Steve do that?", "count": 4, "id": 7791850, "bug_id": 709883, "attachment_id": null, "tags": [], "creator": "roc@ocallahan.org", "creation_time": "2013-08-26T23:10:54Z", "is_private": false}, {"creation_time": "2013-08-27T04:32:34Z", "is_private": false, "creator": "marcofreda527@gmail.com", "tags": [], "attachment_id": null, "id": 7792802, "bug_id": 709883, "author": "marcofreda527@gmail.com", "text": "After discussing with Steven Lee, please refer to quick note as below\n\n  1. if we focused on \"pause/mute media element when WebRTC call is coming\" then it is doable. (just like what we did for camera recording, phone call and FM)\n\n  2. But once we let WebRTC join \"content\" channel type then itself will be blocked by ringer or phone call too.\n\n     * Steven tried to survey the behavior on \"Facetime in iOS\", it will pop up a window for prompting user to choice Facetime or Phone Call.\n     * This mean that we need UX to define the scenarios between interaction with different media sources then we can just make sure the audio competing policy now is suitable for WebRTC.\n\nThanks.", "count": 5, "time": "2013-08-27T04:32:34Z", "raw_text": "After discussing with Steven Lee, please refer to quick note as below\n\n  1. if we focused on \"pause/mute media element when WebRTC call is coming\" then it is doable. (just like what we did for camera recording, phone call and FM)\n\n  2. But once we let WebRTC join \"content\" channel type then itself will be blocked by ringer or phone call too.\n\n     * Steven tried to survey the behavior on \"Facetime in iOS\", it will pop up a window for prompting user to choice Facetime or Phone Call.\n     * This mean that we need UX to define the scenarios between interaction with different media sources then we can just make sure the audio competing policy now is suitable for WebRTC.\n\nThanks."}, {"creation_time": "2013-08-27T14:31:20Z", "is_private": false, "bug_id": 709883, "id": 7794435, "author": "marcofreda527@gmail.com", "text": "(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #4)\n> (And making AudioChannelService work on desktop/Android.) Marco, can you or \n> Steve do that?\n\nIf we enable AudioChannelService on desktop/Android then we will change a behavior of media playback and that is \n\n  \"According to web page didn't explicitly assign mozAudioChannel so it will be a normal channel type. Then all media in the page will be paused once it falls to background.\"\n\nIs this audio competing policy on all your expectation?", "count": 6, "creator": "marcofreda527@gmail.com", "tags": [], "attachment_id": null, "raw_text": "(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #4)\n> (And making AudioChannelService work on desktop/Android.) Marco, can you or \n> Steve do that?\n\nIf we enable AudioChannelService on desktop/Android then we will change a behavior of media playback and that is \n\n  \"According to web page didn't explicitly assign mozAudioChannel so it will be a normal channel type. Then all media in the page will be paused once it falls to background.\"\n\nIs this audio competing policy on all your expectation?", "time": "2013-08-27T14:31:20Z"}, {"author": "sthugo@gmail.com", "text": "Here is the flow of a webrtc incoming call.\n1. ring tone\n2. a. user decides to take this call\n   b. create peerconnection\n   c. try to connect to the caller \n3. connected\n\nIn step 1, App should create an audio element with AUDIO_AGENT_CHANNEL_RINGER type, it pauses/mutes the media.\nIn step 2, because of it takes some time to connect to the other peer so that \"audio element should keep playing ring tone to prevent other music apps silence.\"\nIn step 3, we should register webrtc to AudioChannel as AUDIO_AGENT_CHANNEL_TELEPHONY. It also mutes the music.", "count": 7, "creator": "sthugo@gmail.com", "creation_time": "2013-08-29T07:48:42Z", "is_private": false, "id": 7803289, "bug_id": 709883, "attachment_id": null, "raw_text": "Here is the flow of a webrtc incoming call.\n1. ring tone\n2. a. user decides to take this call\n   b. create peerconnection\n   c. try to connect to the caller \n3. connected\n\nIn step 1, App should create an audio element with AUDIO_AGENT_CHANNEL_RINGER type, it pauses/mutes the media.\nIn step 2, because of it takes some time to connect to the other peer so that \"audio element should keep playing ring tone to prevent other music apps silence.\"\nIn step 3, we should register webrtc to AudioChannel as AUDIO_AGENT_CHANNEL_TELEPHONY. It also mutes the music.", "time": "2013-08-29T07:48:42Z", "tags": []}, {"author": "mreavy@mozilla.com", "count": 8, "text": "This is already be handled for at least Hello in the B2G app, and I think for more than that.  Steven, can you update the status here?", "creator": "mreavy@mozilla.com", "creation_time": "2015-05-28T00:39:45Z", "is_private": false, "bug_id": 709883, "id": 10318381, "attachment_id": null, "raw_text": "This is already be handled for at least Hello in the B2G app, and I think for more than that.  Steven, can you update the status here?", "time": "2015-05-28T00:39:45Z", "tags": []}, {"creator": "padenot@mozilla.com", "is_private": false, "creation_time": "2015-05-28T10:26:02Z", "attachment_id": null, "tags": [], "author": "padenot@mozilla.com", "count": 9, "text": "For that we need to enable the AudioChannelService on desktop. It's just a preference to flip (it's ON on b2g,that's why it works there) and some (easy) code to write, and it's needed for this, the tab capture bug, and maybe another spec that's cooking at the whatwg and that I'm following: https://mediasession.spec.whatwg.org/. \n\nI've tested that it works as intended on desktop, modulo some behaviour that are not ideal for us here but that are fixable.", "id": 10320726, "bug_id": 709883, "time": "2015-05-28T10:26:02Z", "raw_text": "For that we need to enable the AudioChannelService on desktop. It's just a preference to flip (it's ON on b2g,that's why it works there) and some (easy) code to write, and it's needed for this, the tab capture bug, and maybe another spec that's cooking at the whatwg and that I'm following: https://mediasession.spec.whatwg.org/. \n\nI've tested that it works as intended on desktop, modulo some behaviour that are not ideal for us here but that are fixable."}, {"creator": "sthugo@gmail.com", "author": "sthugo@gmail.com", "text": "Hi Alastor,\n\nCan you check the status here? Thanks.", "count": 10, "bug_id": 709883, "id": 10330191, "creation_time": "2015-06-01T02:50:36Z", "is_private": false, "time": "2015-06-01T02:50:36Z", "attachment_id": null, "raw_text": "Hi Alastor,\n\nCan you check the status here? Thanks.", "tags": []}, {"attachment_id": null, "raw_text": "Hi, all,\nThe media would be pause in B2G if the WebRTC uses the Telephony audio channel type, and doesn't unregister it during the call.", "time": "2015-06-02T02:16:11Z", "tags": [], "author": "alwu@mozilla.com", "count": 11, "text": "Hi, all,\nThe media would be pause in B2G if the WebRTC uses the Telephony audio channel type, and doesn't unregister it during the call.", "creator": "alwu@mozilla.com", "creation_time": "2015-06-02T02:16:11Z", "is_private": false, "id": 10334160, "bug_id": 709883}, {"creator": "chitransh.mathur@galaxyweblinks.in", "is_private": false, "creation_time": "2015-10-08T13:17:23Z", "attachment_id": null, "tags": [], "count": 12, "text": "Hi Team,\n\nRecently I'm working on WebRTC in which I've made Caller & Receiver end in my native android app.\n\nI'm trying to do mute a call like Skype or Hangout but not able to mute the WebRTC call after adding remote stream with my local stream.\n\nI tried \"localMS.removeTrack(audioTrack);\" this thing but I'm unable to do anything for muting a call.\n\nAlso one thing i would like to ask to all of you that How can we disconnect call from both end. In my app when one user is disconnecting call then another user still on local & remote stream(hanged up or paused) then how can we remove remote stream from both user end when someone disconnect the call.\n\nThanks & Regards,\nChitransh Mathur\n\nSr. Android Developer", "author": "chitransh.mathur@galaxyweblinks.in", "id": 10820289, "bug_id": 709883, "time": "2015-10-08T13:17:23Z", "raw_text": "Hi Team,\n\nRecently I'm working on WebRTC in which I've made Caller & Receiver end in my native android app.\n\nI'm trying to do mute a call like Skype or Hangout but not able to mute the WebRTC call after adding remote stream with my local stream.\n\nI tried \"localMS.removeTrack(audioTrack);\" this thing but I'm unable to do anything for muting a call.\n\nAlso one thing i would like to ask to all of you that How can we disconnect call from both end. In my app when one user is disconnecting call then another user still on local & remote stream(hanged up or paused) then how can we remove remote stream from both user end when someone disconnect the call.\n\nThanks & Regards,\nChitransh Mathur\n\nSr. Android Developer"}, {"creator": "rjesup@jesup.org", "is_private": false, "creation_time": "2015-10-09T04:25:28Z", "attachment_id": null, "tags": [], "author": "rjesup@jesup.org", "text": "chitransh - If you want to ask for help with your app, either post to the dev.media mailing list/Google Group (mozilla.dev.media), or ask on IRC (irc.mozilla.org, #media) or on the public-webrtc mailing list (perhaps the best place).   Short answer: use mediastreamtrack.enabled = false; to mute (to silence/black)", "count": 13, "bug_id": 709883, "id": 10823464, "raw_text": "chitransh - If you want to ask for help with your app, either post to the dev.media mailing list/Google Group (mozilla.dev.media), or ask on IRC (irc.mozilla.org, #media) or on the public-webrtc mailing list (perhaps the best place).   Short answer: use mediastreamtrack.enabled = false; to mute (to silence/black)", "time": "2015-10-09T04:25:28Z"}]}}}