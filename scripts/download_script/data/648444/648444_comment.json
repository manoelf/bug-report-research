{"bugs": {"648444": {"comments": [{"time": "2011-04-08T01:54:34Z", "bug_id": 648444, "count": 0, "creator": "kairo@kairo.at", "author": "kairo@kairo.at", "tags": [], "is_private": false, "raw_text": "For e.g. support websites, probably not only internal ones but also others, we will want some mechanism to fetch information about the browser like accurate version or channel, maybe other info as well.\nThis should be a mechanism available to JS but outside the UA string (which can then be cut down more easily) and which need the user to opt into giving away the info, with possibly having a pre-created whitelist of some Mozilla sites like SUMO or AMO.\nThe opt-in could be done in a similar fashion to what we do for Geolocation.\n\nI'm not 100% sure which component this belongs to in the end, but it's IMHO important to have it filed so we can start figuring out what to do here.", "text": "For e.g. support websites, probably not only internal ones but also others, we will want some mechanism to fetch information about the browser like accurate version or channel, maybe other info as well.\nThis should be a mechanism available to JS but outside the UA string (which can then be cut down more easily) and which need the user to opt into giving away the info, with possibly having a pre-created whitelist of some Mozilla sites like SUMO or AMO.\nThe opt-in could be done in a similar fashion to what we do for Geolocation.\n\nI'm not 100% sure which component this belongs to in the end, but it's IMHO important to have it filed so we can start figuring out what to do here.", "attachment_id": null, "id": 5395668, "creation_time": "2011-04-08T01:54:34Z"}, {"is_private": false, "tags": [], "time": "2011-04-08T07:54:44Z", "count": 1, "raw_text": "The API could be something like this:\n\nThe page calls netscape.getSupportInfo(callback);. If the Origin of the caller is authorized to obtain support info, a task is queued on the event loop. (This is necessary to make sure the API is always async regardless of how authorization happens.) When the task fires, it calls |callback| with a single argument that is a JavaScript object along the lines of\n{\n  \"updateChannel\" : \"aurora\",\n  \"preciseVersion\": \"6.0.443839\",\n  \"gpuAcceleratedWindows\": \"0/2\"\n}\n\nThis would allow new key-value pairs to be added over time, would allow values for some keys to be arrays, etc.\n\n(I think a totally product-specific API doesn't belong on the window object and doesn't belong on navigator. For historical reasons, our vendor object is called netscape. I think reusing that object makes sense.)", "bug_id": 648444, "author": "hsivonen@mozilla.com", "attachment_id": null, "id": 5396148, "text": "The API could be something like this:\n\nThe page calls netscape.getSupportInfo(callback);. If the Origin of the caller is authorized to obtain support info, a task is queued on the event loop. (This is necessary to make sure the API is always async regardless of how authorization happens.) When the task fires, it calls |callback| with a single argument that is a JavaScript object along the lines of\n{\n  \"updateChannel\" : \"aurora\",\n  \"preciseVersion\": \"6.0.443839\",\n  \"gpuAcceleratedWindows\": \"0/2\"\n}\n\nThis would allow new key-value pairs to be added over time, would allow values for some keys to be arrays, etc.\n\n(I think a totally product-specific API doesn't belong on the window object and doesn't belong on navigator. For historical reasons, our vendor object is called netscape. I think reusing that object makes sense.)", "creator": "hsivonen@mozilla.com", "creation_time": "2011-04-08T07:54:44Z"}, {"author": "cww@mozilla.com", "id": 5433069, "attachment_id": null, "text": "On SUMO, we essentially are going to assume that users are up to date.  That is if their user agent is Firefox 5.0, we assume aurora right now and beta after May 17th and release after June whenever.\n\nHaving a precise version would be nice but I personally think that putting this info in about:support and the approach in the bug 554174 is the way to go.", "creator": "cww@mozilla.com", "creation_time": "2011-04-26T21:25:45Z", "is_private": false, "tags": [], "time": "2011-04-26T21:25:45Z", "count": 2, "raw_text": "On SUMO, we essentially are going to assume that users are up to date.  That is if their user agent is Firefox 5.0, we assume aurora right now and beta after May 17th and release after June whenever.\n\nHaving a precise version would be nice but I personally think that putting this info in about:support and the approach in the bug 554174 is the way to go.", "bug_id": 648444}, {"text": "That API is perfect for bug 554174. The best solution for SUMO would be to do both at once and include all the about:support information in this API.", "attachment_id": null, "id": 5433170, "creation_time": "2011-04-26T21:58:25Z", "tags": [], "is_private": false, "raw_text": "That API is perfect for bug 554174. The best solution for SUMO would be to do both at once and include all the about:support information in this API.", "creator": "me+bugzilla@jamessocol.com", "author": "me+bugzilla@jamessocol.com", "time": "2011-04-26T21:58:25Z", "bug_id": 648444, "count": 3}]}}, "comments": {}}