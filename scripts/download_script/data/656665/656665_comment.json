{"comments": {}, "bugs": {"656665": {"comments": [{"attachment_id": null, "creator": "trigrou@gmail.com", "author": "trigrou@gmail.com", "count": 0, "text": "User-Agent:       Mozilla/5.0 (X11; Linux i686) AppleWebKit/534.24 (KHTML, like Gecko) Ubuntu/11.04 Chromium/11.0.696.65 Chrome/11.0.696.65 Safari/534.24\nBuild Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nI run the url on chromium, it run at 20 fps. I close it and run it on firefox 4.01 and I have 2 fps.\nIt's a typical scene to stress the browser with javascript and webgl drawelements\n\nReproducible: Always\n\nSteps to Reproduce:\n1.run it on chromium http://osgjs.org/osgjs/examples/performance/performance.html?Stats=1\n2. then run it on firefox http://osgjs.org/osgjs/examples/performance/performance.html?Stats=1\n3.\n\nActual Results:  \non my hardware I have 20 fps vs 2 fps", "is_private": false, "tags": [], "creation_time": "2011-05-12T17:13:02Z", "bug_id": 656665, "raw_text": "User-Agent:       Mozilla/5.0 (X11; Linux i686) AppleWebKit/534.24 (KHTML, like Gecko) Ubuntu/11.04 Chromium/11.0.696.65 Chrome/11.0.696.65 Safari/534.24\nBuild Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\n\nI run the url on chromium, it run at 20 fps. I close it and run it on firefox 4.01 and I have 2 fps.\nIt's a typical scene to stress the browser with javascript and webgl drawelements\n\nReproducible: Always\n\nSteps to Reproduce:\n1.run it on chromium http://osgjs.org/osgjs/examples/performance/performance.html?Stats=1\n2. then run it on firefox http://osgjs.org/osgjs/examples/performance/performance.html?Stats=1\n3.\n\nActual Results:  \non my hardware I have 20 fps vs 2 fps", "id": 5465882, "time": "2011-05-12T17:13:02Z"}, {"time": "2011-05-12T19:01:33Z", "id": 5466208, "is_private": false, "bug_id": 656665, "creation_time": "2011-05-12T19:01:33Z", "raw_text": "Looking at a profile (on Mac, where I see us at 6fps while Chrome is at 20fps):\n\n  60% of the time is spent in mjit-generated code.\n  17% is under drawElements on the WebGL context.\n   9% under UniformMatrix4fv; lots of making contexts current here.\n   5% under js::mjit::stubs::GetElem (pure JS; this is NOT hitting the DOM), of\n      which 1/3 is self time in js::PropertyTable::search.\n   4% under stubs::GetProp (again, pure JS with no DOM involved)\n   2% creating call objects\n   2% creating arrays\n\nOver to JS engine, because this seems like primarily a JS problem, not a graphics one.  \n\nI'm a little confused by all the GetElem there; is the script indexing into non-array objects with numeric indices?\n\nCedric, would you be willing to put together a standalone example (one not linking to any resources on your server) that can be attached to this bug to make sure it doesn't go away?", "tags": [], "author": "bzbarsky@mit.edu", "count": 1, "text": "Looking at a profile (on Mac, where I see us at 6fps while Chrome is at 20fps):\n\n  60% of the time is spent in mjit-generated code.\n  17% is under drawElements on the WebGL context.\n   9% under UniformMatrix4fv; lots of making contexts current here.\n   5% under js::mjit::stubs::GetElem (pure JS; this is NOT hitting the DOM), of\n      which 1/3 is self time in js::PropertyTable::search.\n   4% under stubs::GetProp (again, pure JS with no DOM involved)\n   2% creating call objects\n   2% creating arrays\n\nOver to JS engine, because this seems like primarily a JS problem, not a graphics one.  \n\nI'm a little confused by all the GetElem there; is the script indexing into non-array objects with numeric indices?\n\nCedric, would you be willing to put together a standalone example (one not linking to any resources on your server) that can be attached to this bug to make sure it doesn't go away?", "attachment_id": null, "creator": "bzbarsky@mit.edu"}, {"id": 5466390, "time": "2011-05-12T20:16:00Z", "tags": [], "raw_text": "Here the files to run the performance.html locally", "creation_time": "2011-05-12T20:16:00Z", "bug_id": 656665, "is_private": false, "count": 2, "text": "Created attachment 532014\nsample test\n\nHere the files to run the performance.html locally", "author": "trigrou@gmail.com", "creator": "trigrou@gmail.com", "attachment_id": 532014}]}}}