{"comments": {}, "bugs": {"674520": {"comments": [{"creator": "alainbryden@hotmail.com", "author": "alainbryden@hotmail.com", "bug_id": 674520, "count": 0, "is_private": false, "tags": [], "id": 5616515, "text": "Created attachment 548767\nExample of Firefox problem with table width vs IE doing it right\n\nUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nI created a simple table with a caption and 0 or more rows.\n\nFor example:\n<table border=1>\n<caption align=center style=\"white-space:nowrap;\">Hello Cruel World</caption>\n<tr><td>sup</td><td>sup</td></tr>\n<tr><td>sup</td><td>sup</td></tr>\n<tr><td>sup</td><td>sup</td></tr>\n</table>\n\n\nActual results:\n\nThe table ignored the width of the caption within it - it only computes its width based on the widest visible row. As such, if there are no rows, the computed table width is 0. If the computed table width is less than the width of the caption, the table caption will absurdly extend over the boundaries of the table\n\n\nExpected results:\n\nThe caption is contained within the table tags (and is visible, not floating, etc), so the table's calculated width should adjust to the width of the caption.", "attachment_id": 548767, "time": "2011-07-27T14:10:32Z", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0\nBuild ID: 20110615151330\n\nSteps to reproduce:\n\nI created a simple table with a caption and 0 or more rows.\n\nFor example:\n<table border=1>\n<caption align=center style=\"white-space:nowrap;\">Hello Cruel World</caption>\n<tr><td>sup</td><td>sup</td></tr>\n<tr><td>sup</td><td>sup</td></tr>\n<tr><td>sup</td><td>sup</td></tr>\n</table>\n\n\nActual results:\n\nThe table ignored the width of the caption within it - it only computes its width based on the widest visible row. As such, if there are no rows, the computed table width is 0. If the computed table width is less than the width of the caption, the table caption will absurdly extend over the boundaries of the table\n\n\nExpected results:\n\nThe caption is contained within the table tags (and is visible, not floating, etc), so the table's calculated width should adjust to the width of the caption.", "creation_time": "2011-07-27T14:10:32Z"}, {"tags": [], "is_private": false, "count": 1, "id": 5616564, "bug_id": 674520, "creation_time": "2011-07-27T14:31:17Z", "raw_text": "Duplicate of bug 114734?", "text": "Duplicate of bug 114734?", "time": "2011-07-27T14:31:17Z", "attachment_id": null, "creator": "mozilla@ahlblom.eu", "author": "mozilla@ahlblom.eu"}, {"author": "alainbryden@hotmail.com", "creator": "alainbryden@hotmail.com", "creation_time": "2011-07-27T15:14:08Z", "raw_text": "I believe Mozilla is trying to achieve better compliance when that bug was posted 3 years ago. Many of the issues mentioned in that ticket have been resolved in FF5, but this issue is outstanding.", "attachment_id": null, "time": "2011-07-27T15:14:08Z", "text": "I believe Mozilla is trying to achieve better compliance when that bug was posted 3 years ago. Many of the issues mentioned in that ticket have been resolved in FF5, but this issue is outstanding.", "id": 5616666, "is_private": false, "count": 2, "tags": [], "bug_id": 674520}, {"bug_id": 674520, "id": 5616794, "is_private": false, "count": 3, "tags": [], "time": "2011-07-27T16:08:24Z", "attachment_id": null, "text": "This is the correct layout per CSS 2.1, see\nhttp://www.w3.org/TR/2004/CR-CSS21-20040225/tables.html#q5\n\nOpera 11.50 and IE10 have the same layout in standards mode.\n\nChrome \"14.0.825.0 dev\" does not implement what the standard says -\nplease report it here: https://bugs.webkit.org/\n\n*** This bug has been marked as a duplicate of bug 114734 ***", "raw_text": "This is the correct layout per CSS 2.1, see\nhttp://www.w3.org/TR/2004/CR-CSS21-20040225/tables.html#q5\n\nOpera 11.50 and IE10 have the same layout in standards mode.\n\nChrome \"14.0.825.0 dev\" does not implement what the standard says -\nplease report it here: https://bugs.webkit.org/", "creation_time": "2011-07-27T16:08:24Z", "author": "MatsPalmgren_bugz@use.startmail.com", "creator": "MatsPalmgren_bugz@use.startmail.com"}, {"creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com", "creation_time": "2011-07-27T16:35:15Z", "raw_text": "Just to make it clear it's still correct layout per the latest spec text:\nhttp://www.w3.org/TR/CSS21/tables.html#model\n\"The width of the table wrapper box is the border-edge width of the table box inside it\"", "text": "Just to make it clear it's still correct layout per the latest spec text:\nhttp://www.w3.org/TR/CSS21/tables.html#model\n\"The width of the table wrapper box is the border-edge width of the table box inside it\"", "time": "2011-07-27T16:35:15Z", "attachment_id": null, "count": 4, "is_private": false, "tags": [], "id": 5616863, "bug_id": 674520}, {"bug_id": 674520, "id": 5616898, "count": 5, "is_private": false, "tags": [], "time": "2011-07-27T16:53:47Z", "attachment_id": null, "text": "Firefox does not comply with the resource you linked to: http://www.w3.org/TR/2004/CR-CSS21-20040225/tables.html#q5\n\nThe specs say that the table should look like:\n_____________________________________\n|  CAPTION CAPTION CAPTION CAPTION  |\n-------------------------------------\n|       +-----+-----+-----+         |\n|       |     |     |     |         |\n|       +-----+-----+-----+         |\n|       |     |     |     |         |\n|       +-----+-----+-----+         |\n|___________________________________|\n\nBut in Firefox, the table looks like this:\n_______________________\n|  CAPTION CAPTION CAPTION CAPTION\n-----------------------\n| +-----+-----+-----+ |\n| |     |     |     | |\n| +-----+-----+-----+ |\n| |     |     |     | |\n| +-----+-----+-----+ |\n|_____________________|\n\n\nIMO this issue is not resolved so it can't be marked as a duplicate of a resolved issue. Furthermore the ticket it's been marked a duplicate of isn't even from this branch. The resolution of bug 114734 was \"this version doesn't support the latest CSS specs - so we WON'T FIX\" - that does not apply to FF5\n\n\nI'll let the ticket rest if Mozilla insists it's a non-issue, but one look at the attached sample image should confirm that it is in fact an issue.", "raw_text": "Firefox does not comply with the resource you linked to: http://www.w3.org/TR/2004/CR-CSS21-20040225/tables.html#q5\n\nThe specs say that the table should look like:\n_____________________________________\n|  CAPTION CAPTION CAPTION CAPTION  |\n-------------------------------------\n|       +-----+-----+-----+         |\n|       |     |     |     |         |\n|       +-----+-----+-----+         |\n|       |     |     |     |         |\n|       +-----+-----+-----+         |\n|___________________________________|\n\nBut in Firefox, the table looks like this:\n_______________________\n|  CAPTION CAPTION CAPTION CAPTION\n-----------------------\n| +-----+-----+-----+ |\n| |     |     |     | |\n| +-----+-----+-----+ |\n| |     |     |     | |\n| +-----+-----+-----+ |\n|_____________________|\n\n\nIMO this issue is not resolved so it can't be marked as a duplicate of a resolved issue. Furthermore the ticket it's been marked a duplicate of isn't even from this branch. The resolution of bug 114734 was \"this version doesn't support the latest CSS specs - so we WON'T FIX\" - that does not apply to FF5\n\n\nI'll let the ticket rest if Mozilla insists it's a non-issue, but one look at the attached sample image should confirm that it is in fact an issue.", "creation_time": "2011-07-27T16:53:47Z", "author": "alainbryden@hotmail.com", "creator": "alainbryden@hotmail.com"}, {"bug_id": 674520, "tags": [], "count": 6, "is_private": false, "id": 5617090, "text": "> Firefox does not comply with the resource you linked to\n\nThat's why I provided a link to the up-to-date spec.  Note that it doesn't\nreally matter much for the example you provided in comment 0.\nThe (inner) table box has the same width in both version of the spec.\n\n> But in Firefox, the table looks like this\n\nYes, this is the correct rendering per the latest CSS 2.1 spec.\nSee comment 4.\n\n> The resolution of bug 114734 was \"this version doesn't support the latest CSS > specs - so we WON'T FIX\"\n\nNo, you have misunderstood what that resolution meant.\nBug 114734 was resolved WONTFIX because implementing the suggested change\nwould make us deviate from what the spec says is the correct layout.\n\nIf I understand what you reported in comment 0 correctly, you're suggesting\nthat the (inner) table width should have a minimal width equal to the width\nof the caption, which is exactly what bug 114734 is about.\n\nDid I understand your reported issue correctly?  If not, please elaborate.", "attachment_id": null, "time": "2011-07-27T17:58:29Z", "creation_time": "2011-07-27T17:58:29Z", "raw_text": "> Firefox does not comply with the resource you linked to\n\nThat's why I provided a link to the up-to-date spec.  Note that it doesn't\nreally matter much for the example you provided in comment 0.\nThe (inner) table box has the same width in both version of the spec.\n\n> But in Firefox, the table looks like this\n\nYes, this is the correct rendering per the latest CSS 2.1 spec.\nSee comment 4.\n\n> The resolution of bug 114734 was \"this version doesn't support the latest CSS > specs - so we WON'T FIX\"\n\nNo, you have misunderstood what that resolution meant.\nBug 114734 was resolved WONTFIX because implementing the suggested change\nwould make us deviate from what the spec says is the correct layout.\n\nIf I understand what you reported in comment 0 correctly, you're suggesting\nthat the (inner) table width should have a minimal width equal to the width\nof the caption, which is exactly what bug 114734 is about.\n\nDid I understand your reported issue correctly?  If not, please elaborate.", "creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com"}, {"author": "alainbryden@hotmail.com", "creator": "alainbryden@hotmail.com", "id": 5617521, "tags": [], "is_private": false, "count": 7, "bug_id": 674520, "raw_text": "Alright, I guess that's how it's going to be then. It certainly seems like counter-intuitive behaviour. In this case there's either a need to complain about the spec or I'm misusing the property.\n\nOff the top of your head, while you're closing this ticket again, is there any way to achieve my desired behaviour with some styling of the caption or table? (i.e. have the table width match the width of the caption if it is larger than the table body?)", "creation_time": "2011-07-27T19:59:05Z", "attachment_id": null, "time": "2011-07-27T19:59:05Z", "text": "Alright, I guess that's how it's going to be then. It certainly seems like counter-intuitive behaviour. In this case there's either a need to complain about the spec or I'm misusing the property.\n\nOff the top of your head, while you're closing this ticket again, is there any way to achieve my desired behaviour with some styling of the caption or table? (i.e. have the table width match the width of the caption if it is larger than the table body?)"}, {"author": "MatsPalmgren_bugz@use.startmail.com", "creator": "MatsPalmgren_bugz@use.startmail.com", "bug_id": 674520, "id": 5618079, "is_private": false, "count": 8, "tags": [], "time": "2011-07-27T22:58:34Z", "attachment_id": null, "text": "Actually, I could be wrong.\n\nhttp://www.w3.org/TR/CSS21/tables.html#model\n\"The width of the table wrapper box is the border-edge width of the table box inside it, as described by section 17.5.2.\"\n\nIn 17.5.2.2 there is the notion of CAPMIN:\nhttp://www.w3.org/TR/CSS21/tables.html#auto-table-layout\n\n\"The caption width minimum (CAPMIN) is determined by calculating for each caption the minimum caption outer width as the MCW of a hypothetical table cell that contains the caption formatted as \"display: block\". The greatest of the minimum caption outer widths is CAPMIN.\"\n\n\"2. If the 'table' or 'inline-table' element has 'width: auto', the used width is the greater of the table's containing block width, CAPMIN, and MIN. However, if either CAPMIN or the maximum width required by the columns plus cell spacing or borders (MAX) is less than that of the containing block, use max(MAX, CAPMIN).\"\n\nwhich certainly looks like the \"table wrapper box\" should grow to fit\nthe caption.  Item 2 doesn't have the \"If the used width is greater than MIN, the extra width should be distributed over the columns.\" like item 1, but\nit seems reasonable to do that also in 2 (that is, the inner table should\ngrow to fill the wrapper box).\n\nBoris?", "raw_text": "Actually, I could be wrong.\n\nhttp://www.w3.org/TR/CSS21/tables.html#model\n\"The width of the table wrapper box is the border-edge width of the table box inside it, as described by section 17.5.2.\"\n\nIn 17.5.2.2 there is the notion of CAPMIN:\nhttp://www.w3.org/TR/CSS21/tables.html#auto-table-layout\n\n\"The caption width minimum (CAPMIN) is determined by calculating for each caption the minimum caption outer width as the MCW of a hypothetical table cell that contains the caption formatted as \"display: block\". The greatest of the minimum caption outer widths is CAPMIN.\"\n\n\"2. If the 'table' or 'inline-table' element has 'width: auto', the used width is the greater of the table's containing block width, CAPMIN, and MIN. However, if either CAPMIN or the maximum width required by the columns plus cell spacing or borders (MAX) is less than that of the containing block, use max(MAX, CAPMIN).\"\n\nwhich certainly looks like the \"table wrapper box\" should grow to fit\nthe caption.  Item 2 doesn't have the \"If the used width is greater than MIN, the extra width should be distributed over the columns.\" like item 1, but\nit seems reasonable to do that also in 2 (that is, the inner table should\ngrow to fill the wrapper box).\n\nBoris?", "creation_time": "2011-07-27T22:58:34Z"}, {"author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "bug_id": 674520, "id": 5618472, "tags": [], "count": 9, "is_private": false, "attachment_id": null, "time": "2011-07-28T03:05:33Z", "text": "All that text is in the \"The remainder of this section is non-normative.\" part of 17.5.2.2.  As in, \"this is not a spec, just some prose describing what might be nice\".  In practice, auto table layout as described in 17.5.2.2 is not compatible with the web in general last I checked; CSS3 will need to define this stuff properly.  But in the meantime, 17.5.2.2 can't just be implemented as written (even if one wanted to in spite of the non-normative bit).\n\nIt does seem like WebKit implements the CAPMIN bits of this, but since neither we nor Presto nor Trident do it's not clear that it's the right thing to specify in CSS3.\n\nccing dbaron too, since if anyone ends up writing a sane tables layout spec it's likely to be him.", "raw_text": "All that text is in the \"The remainder of this section is non-normative.\" part of 17.5.2.2.  As in, \"this is not a spec, just some prose describing what might be nice\".  In practice, auto table layout as described in 17.5.2.2 is not compatible with the web in general last I checked; CSS3 will need to define this stuff properly.  But in the meantime, 17.5.2.2 can't just be implemented as written (even if one wanted to in spite of the non-normative bit).\n\nIt does seem like WebKit implements the CAPMIN bits of this, but since neither we nor Presto nor Trident do it's not clear that it's the right thing to specify in CSS3.\n\nccing dbaron too, since if anyone ends up writing a sane tables layout spec it's likely to be him.", "creation_time": "2011-07-28T03:05:33Z"}, {"bug_id": 674520, "id": 7522740, "tags": [], "is_private": false, "count": 10, "time": "2013-06-11T21:30:36Z", "attachment_id": null, "text": "(In reply to Mats Palmgren [:mats] from comment #4)\n> latest spec text:\n> http://www.w3.org/TR/CSS21/tables.html#model\n> \"The width of the table wrapper box is the border-edge width of the table\n> box inside it\"\n\nDiagram inside section 17.4 of CSS 2.1 uses something like this:\n\n_______________________\n|   CAPTION CAPTION   |\n-----------------------\n| +-----+-----+-----+ |\n| |     |     |     | |\n| +-----+-----+-----+ |\n| |     |     |     | |\n| +-----+-----+-----+ |\n|_____________________|\n\nwhere the caption box is clearly narrower than border-edge width of table box\nbut CSS 2.1 \u00a717.4 does not specifically address the situation when/where a caption box - which is a normal block box inside [anonymous] table wrapper box - is wider than border-edge width of table box.\n\nIt has been suggested that the anonymous table wrapper box be as wide as \nmax(table-width, table-caption-min-intrinsic-width) \n\nIssue 172: table-caption content overflows\nhttp://wiki.csswg.org/spec/css2.1#issue-172\n\n[CSS21] table-caption width\nhttp://lists.w3.org/Archives/Public/www-style/2010Sep/0186.html\n\n2 tests:\n\nhttp://www.gtalbot.org/BrowserBugsSection/css21testsuite/horizontal-layout-table-vs-caption-boxes-1.html\n\nhttp://test.csswg.org/suites/css2.1/nightly-unstable/html4/anonymous-table-box-width-001.htm\n\n------------------------\n\nThis bug summary should most likely be reworded and improved a bit.\n\nAt least 1 other bug report is closely related to this bug: bug 349144.\nBug 96463 comment 36 mentions this issue too.", "creation_time": "2013-06-11T21:30:36Z", "raw_text": "(In reply to Mats Palmgren [:mats] from comment #4)\n> latest spec text:\n> http://www.w3.org/TR/CSS21/tables.html#model\n> \"The width of the table wrapper box is the border-edge width of the table\n> box inside it\"\n\nDiagram inside section 17.4 of CSS 2.1 uses something like this:\n\n_______________________\n|   CAPTION CAPTION   |\n-----------------------\n| +-----+-----+-----+ |\n| |     |     |     | |\n| +-----+-----+-----+ |\n| |     |     |     | |\n| +-----+-----+-----+ |\n|_____________________|\n\nwhere the caption box is clearly narrower than border-edge width of table box\nbut CSS 2.1 \u00a717.4 does not specifically address the situation when/where a caption box - which is a normal block box inside [anonymous] table wrapper box - is wider than border-edge width of table box.\n\nIt has been suggested that the anonymous table wrapper box be as wide as \nmax(table-width, table-caption-min-intrinsic-width) \n\nIssue 172: table-caption content overflows\nhttp://wiki.csswg.org/spec/css2.1#issue-172\n\n[CSS21] table-caption width\nhttp://lists.w3.org/Archives/Public/www-style/2010Sep/0186.html\n\n2 tests:\n\nhttp://www.gtalbot.org/BrowserBugsSection/css21testsuite/horizontal-layout-table-vs-caption-boxes-1.html\n\nhttp://test.csswg.org/suites/css2.1/nightly-unstable/html4/anonymous-table-box-width-001.htm\n\n------------------------\n\nThis bug summary should most likely be reworded and improved a bit.\n\nAt least 1 other bug report is closely related to this bug: bug 349144.\nBug 96463 comment 36 mentions this issue too.", "author": "bugzilla@gtalbot.org", "creator": "bugzilla@gtalbot.org"}, {"author": "bugzilla@gtalbot.org", "attachment_id": null, "time": "2013-07-04T05:25:05Z", "creator": "bugzilla@gtalbot.org", "text": "> At least 1 other bug report is closely related to this bug: bug 349144.\n\nBug 349144 believes that when caption box is larger than table box, then the anonymous table wrapper box should *not be* as large as caption box. \n\nBug 674520 thinks the exact opposite: when caption box is larger than table box, then the anonymous table wrapper box *should become* as large as caption box.\n\nTo some extent, this issue has to be settled by CSSWG people and then clarified, edited accordingly in CSS 2.1 and CSS 3 module.", "creation_time": "2013-07-04T05:25:05Z", "raw_text": "> At least 1 other bug report is closely related to this bug: bug 349144.\n\nBug 349144 believes that when caption box is larger than table box, then the anonymous table wrapper box should *not be* as large as caption box. \n\nBug 674520 thinks the exact opposite: when caption box is larger than table box, then the anonymous table wrapper box *should become* as large as caption box.\n\nTo some extent, this issue has to be settled by CSSWG people and then clarified, edited accordingly in CSS 2.1 and CSS 3 module.", "bug_id": 674520, "id": 7602874, "tags": [], "count": 11, "is_private": false}, {"id": 13213644, "tags": [], "is_private": false, "count": 12, "bug_id": 674520, "raw_text": "Can anyone report how MS-Edge 16 (or Technical Preview 17) handle\n\nhttp://test.csswg.org/suites/css2.1/nightly-unstable/html4/anonymous-table-box-width-001.htm\n\nThank you.", "creation_time": "2018-04-17T20:50:25Z", "attachment_id": null, "time": "2018-04-17T20:50:25Z", "text": "Can anyone report how MS-Edge 16 (or Technical Preview 17) handle\n\nhttp://test.csswg.org/suites/css2.1/nightly-unstable/html4/anonymous-table-box-width-001.htm\n\nThank you.", "author": "bugzilla@gtalbot.org", "creator": "bugzilla@gtalbot.org"}, {"creator": "cam@mcc.id.au", "author": "cam@mcc.id.au", "creation_time": "2020-05-28T22:35:47Z", "raw_text": "", "text": "*** Bug 776320 has been marked as a duplicate of this bug. ***", "attachment_id": null, "time": "2020-05-28T22:35:47Z", "count": 13, "is_private": false, "tags": [], "id": 14850625, "bug_id": 674520}]}}}