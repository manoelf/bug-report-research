{"bugs": {"699681": {"comments": [{"creator": "m-wada@usa.com", "is_private": false, "count": 0, "author": "m-wada@usa.com", "creation_time": "2011-11-04T01:23:09Z", "time": "2011-11-04T01:23:09Z", "tags": [], "bug_id": 699681, "text": "Preset From: upon Reply/Forward is frequently far different from user's expectation, due to (a) forcing of X-Account-Key: based identity selection for Global Inbox support on any user, and due to (b) forcing of \"Reply-to-Self\" on any user even though the feature is for convenience of limited users only.\nThis produced not-so-small number of unwanted bugs like \"Wrong from in reply\", \"Mail was sent using wrong From:\".\nThis bug is meta bug(tracking bug) for analysis of such bugs and duping of them.\n\nFor (a), bug 327713 exists.\nFor (b), I don't know about existent bug.\n\nAccording to bug 327713 comment #53, Add-on of \"Correct Identity\" looks effective for victims of the problem.\n> https://addons.mozilla.org/en-us/thunderbird/addon/correct-identity/", "attachment_id": null, "raw_text": "Preset From: upon Reply/Forward is frequently far different from user's expectation, due to (a) forcing of X-Account-Key: based identity selection for Global Inbox support on any user, and due to (b) forcing of \"Reply-to-Self\" on any user even though the feature is for convenience of limited users only.\nThis produced not-so-small number of unwanted bugs like \"Wrong from in reply\", \"Mail was sent using wrong From:\".\nThis bug is meta bug(tracking bug) for analysis of such bugs and duping of them.\n\nFor (a), bug 327713 exists.\nFor (b), I don't know about existent bug.\n\nAccording to bug 327713 comment #53, Add-on of \"Correct Identity\" looks effective for victims of the problem.\n> https://addons.mozilla.org/en-us/thunderbird/addon/correct-identity/", "id": 5825475}, {"count": 1, "creator": "m-wada@usa.com", "is_private": false, "time": "2011-11-05T16:15:16Z", "bug_id": 699681, "tags": [], "text": "Meta bug for general \"unexpected identity selection\" is found.\nxref-ing to that bug via Blocks: field of this bug.\n> Bug 228980 : (IdentityPickTracker) [Meta] Identity selection based on recipients should be more correct", "author": "m-wada@usa.com", "creation_time": "2011-11-05T16:15:16Z", "raw_text": "Meta bug for general \"unexpected identity selection\" is found.\nxref-ing to that bug via Blocks: field of this bug.\n> Bug 228980 : (IdentityPickTracker) [Meta] Identity selection based on recipients should be more correct", "attachment_id": null, "id": 5828508}, {"author": "m-wada@usa.com", "creation_time": "2011-11-27T07:58:48Z", "time": "2011-11-27T07:58:48Z", "tags": [], "text": "Note-1:\nIf account number is changed at a Tb, phenomenon produced by \"identity selection based on X-Account-Key: header\" becomes funnier.\nNote-2:\nBecause bug 426651 exists, \"identity selection based on X-Account-Key: header\" can occur even on mail in IMAP folder. xref bug 426651.", "creator": "m-wada@usa.com", "is_private": false, "id": 5874094, "attachment_id": null, "raw_text": "Note-1:\nIf account number is changed at a Tb, phenomenon produced by \"identity selection based on X-Account-Key: header\" becomes funnier.\nNote-2:\nBecause bug 426651 exists, \"identity selection based on X-Account-Key: header\" can occur even on mail in IMAP folder. xref bug 426651.", "bug_id": 699681, "count": 2}, {"creator": "mozilla@williamrmchugh.com", "is_private": false, "count": 3, "author": "mozilla@williamrmchugh.com", "creation_time": "2011-11-27T14:39:30Z", "bug_id": 699681, "tags": [], "time": "2011-11-27T14:39:30Z", "text": "> According to bug 327713 comment #53, Add-on of \"Correct Identity\" looks\n> effective for victims of the problem.\n> https://addons.mozilla.org/en-us/thunderbird/addon/correct-identity/\n\nAs noted in the \"Additional information\" section of the original Description of bug 684259, installing Correct Identity did not help in that situation.", "attachment_id": null, "raw_text": "> According to bug 327713 comment #53, Add-on of \"Correct Identity\" looks\n> effective for victims of the problem.\n> https://addons.mozilla.org/en-us/thunderbird/addon/correct-identity/\n\nAs noted in the \"Additional information\" section of the original Description of bug 684259, installing Correct Identity did not help in that situation.", "id": 5874234}, {"bug_id": 699681, "count": 4, "creation_time": "2011-11-28T04:06:24Z", "author": "m-wada@usa.com", "text": "FYI.\nIdentity selection for preset From: is done at following code.\nhttp://mxr.mozilla.org/comm-central/source/mailnews/compose/src/nsMsgCompose.cpp#1930\n> 1930       switch (type)\n> 1931       {\n> 1932         default: break;\n> 1933         case nsIMsgCompType::Reply :\n> 1934         case nsIMsgCompType::ReplyAll:\n> 1935         case nsIMsgCompType::ReplyToList:\n> 1936         case nsIMsgCompType::ReplyToGroup:\n> 1937         case nsIMsgCompType::ReplyToSender:\n> 1938         case nsIMsgCompType::ReplyToSenderAndGroup:\n\nI think enhancement like next will reduce many user's current confusion.\n(a) mailnews.reply_to_self_is_enabled = true/false (default=false)\n    If possible, per account option is preferable.\n    Global setting & per account setting like retention policy may be better.\n(b) mailnews.account_key_based_identity_selection_when_non_Global_Inbox_owner\n        = true/false (default=false)\n    If possible, per account option is preferable.\n    When Global Inbox owner account, this option should be ignored.\n    Global setting & per account setting like retention policy may be better.\nUse cases of them are independent from use case of \"per folder identity\", although \"per folder identity\" can reduce current user's confusion too.", "time": "2011-11-28T04:06:24Z", "tags": [], "is_private": false, "creator": "m-wada@usa.com", "id": 5874816, "attachment_id": null, "raw_text": "FYI.\nIdentity selection for preset From: is done at following code.\nhttp://mxr.mozilla.org/comm-central/source/mailnews/compose/src/nsMsgCompose.cpp#1930\n> 1930       switch (type)\n> 1931       {\n> 1932         default: break;\n> 1933         case nsIMsgCompType::Reply :\n> 1934         case nsIMsgCompType::ReplyAll:\n> 1935         case nsIMsgCompType::ReplyToList:\n> 1936         case nsIMsgCompType::ReplyToGroup:\n> 1937         case nsIMsgCompType::ReplyToSender:\n> 1938         case nsIMsgCompType::ReplyToSenderAndGroup:\n\nI think enhancement like next will reduce many user's current confusion.\n(a) mailnews.reply_to_self_is_enabled = true/false (default=false)\n    If possible, per account option is preferable.\n    Global setting & per account setting like retention policy may be better.\n(b) mailnews.account_key_based_identity_selection_when_non_Global_Inbox_owner\n        = true/false (default=false)\n    If possible, per account option is preferable.\n    When Global Inbox owner account, this option should be ignored.\n    Global setting & per account setting like retention policy may be better.\nUse cases of them are independent from use case of \"per folder identity\", although \"per folder identity\" can reduce current user's confusion too."}, {"attachment_id": null, "raw_text": "Note-3:\nBecause bug 270068 exists, \"identity selection based on X-Account-Key: header\" can occur even on mail which is sent as attachment, saved as .eml, then imported by Drag&Drop of the .eml file. xref bug 270068.", "id": 5874825, "is_private": false, "creator": "m-wada@usa.com", "count": 5, "creation_time": "2011-11-28T04:12:52Z", "author": "m-wada@usa.com", "text": "Note-3:\nBecause bug 270068 exists, \"identity selection based on X-Account-Key: header\" can occur even on mail which is sent as attachment, saved as .eml, then imported by Drag&Drop of the .eml file. xref bug 270068.", "time": "2011-11-28T04:12:52Z", "tags": [], "bug_id": 699681}, {"id": 5877848, "raw_text": "Note-4:\nReply-to-self is affected by next setting.\n  mailnews.reply_to_self_check_all_ident = true/false(it looks false is defaulted)\n  perhaps next;\n    true  : any identity is considered as \"self\"\n    false : identities of selected account only is considered as \"self\"", "attachment_id": null, "text": "Note-4:\nReply-to-self is affected by next setting.\n  mailnews.reply_to_self_check_all_ident = true/false(it looks false is defaulted)\n  perhaps next;\n    true  : any identity is considered as \"self\"\n    false : identities of selected account only is considered as \"self\"", "time": "2011-11-29T03:31:42Z", "bug_id": 699681, "tags": [], "creation_time": "2011-11-29T03:31:42Z", "author": "m-wada@usa.com", "count": 6, "is_private": false, "creator": "m-wada@usa.com"}, {"id": 5877853, "attachment_id": null, "raw_text": "Note-5:\nIdentities are defined in prefs.js like next;\n (account definition)\n  mail.account.accountA.identities = idAa,idAb, ... ,idAz\n                                     Left most one=Main identity of this account\n  mail.account.accountA.server     = serverS\n (mail server definition)\n  mail.server.serverS.realhostname/hostname = mail.server.name\n  mail.server.serverS.realuserName/userName = login-useid-of-this-mail-account\n (identity definition)\n  mail.identity.idAa.useremail = mail-addr-Aa@mail-domain-for-Aa\n                   |\n  mail.identity.idAz.useremail = mail-addr-Az@mail-domain-for-Az\n (identity's SMTP server choice)\n  mail.identity.idAa.smtpServer = smtpP\n (SMTP definition)\n  mail.smtpserver.smtpP.hostname = smtp.server.name\n  mail.smtpserver.smtpP.username = login-useid-of-this-smtp-account", "creation_time": "2011-11-29T03:35:38Z", "author": "m-wada@usa.com", "text": "Note-5:\nIdentities are defined in prefs.js like next;\n (account definition)\n  mail.account.accountA.identities = idAa,idAb, ... ,idAz\n                                     Left most one=Main identity of this account\n  mail.account.accountA.server     = serverS\n (mail server definition)\n  mail.server.serverS.realhostname/hostname = mail.server.name\n  mail.server.serverS.realuserName/userName = login-useid-of-this-mail-account\n (identity definition)\n  mail.identity.idAa.useremail = mail-addr-Aa@mail-domain-for-Aa\n                   |\n  mail.identity.idAz.useremail = mail-addr-Az@mail-domain-for-Az\n (identity's SMTP server choice)\n  mail.identity.idAa.smtpServer = smtpP\n (SMTP definition)\n  mail.smtpserver.smtpP.hostname = smtp.server.name\n  mail.smtpserver.smtpP.username = login-useid-of-this-smtp-account", "time": "2011-11-29T03:35:38Z", "tags": [], "bug_id": 699681, "is_private": false, "creator": "m-wada@usa.com", "count": 7}, {"author": "m-wada@usa.com", "creation_time": "2011-12-09T09:41:02Z", "bug_id": 699681, "tags": [], "time": "2011-12-09T09:41:02Z", "text": "Tb 8 on Win-XP showed next in Account column.\n\naccount1/server1 to account8 is defined. No Global Inbox is used.\n  account1/server1 : POP3, not default account\n  account2/server2 : POP3, default account\n  account3/server3 : Unified Folders\n  accountP/serverP : POP3, not default account\n  accountS/serverS : IMAP account\n  accountL/serverL : Local Folders  \nChecked at POP3 accountP/serverP(not server1, not default account, not Local Folders, not Unified Folders), Local Folders, and IMAP account.\n\n                            accountP         accountL         accountS\n                            serverP          serverL          serverS\n X-Account-Key: of mail     POP3 folder      Local Folders    IMAP folder \n \n mail-X : accountN          accountN         accountN         serverS.name of    \n   (accountN is defined)    -> serverN.name  -> serverN.name  this IMAP account\n   (non Local Folders  )\n\n mail-Y : accountL          accountL         accountL         serverS.name of    \n   (accountL is defined)    -> serverL.name  -> serverL.name  this IMAP account\n   (as Local Folders   )    ==Local Folders  ==Local Folders   \n\n mail-Z : accountC          serverP.name of  serverL.name of  serverS.name of    \n   (accountC is        )    this account     this account     this IMAP account\n   (  not defined      )                     ==Local Folders   \n\n mail-W : no X-Account-Key  server1.name of  server1.name of  serverS.name of    \n                            account1         account1         this account\n     \nNote:\nEven when existent accountN is hidden account for Unified Folders(smart mail boxes), corresponding serverN.name is used and \"Unified Folders\" is shown.\n\nI wasn't aware of next until I execute above check.\n  account1 or accountX for server1 is always used when no X-Account-Key: header.\nThis is possibly one of big causes of phenomenon of \"preselected reply address is far from user's expectation\" in no X-Account-Key: header case.\nSome funny phenomena may be no server1/account1 case.", "creator": "m-wada@usa.com", "is_private": false, "count": 8, "id": 5903695, "attachment_id": null, "raw_text": "Tb 8 on Win-XP showed next in Account column.\n\naccount1/server1 to account8 is defined. No Global Inbox is used.\n  account1/server1 : POP3, not default account\n  account2/server2 : POP3, default account\n  account3/server3 : Unified Folders\n  accountP/serverP : POP3, not default account\n  accountS/serverS : IMAP account\n  accountL/serverL : Local Folders  \nChecked at POP3 accountP/serverP(not server1, not default account, not Local Folders, not Unified Folders), Local Folders, and IMAP account.\n\n                            accountP         accountL         accountS\n                            serverP          serverL          serverS\n X-Account-Key: of mail     POP3 folder      Local Folders    IMAP folder \n \n mail-X : accountN          accountN         accountN         serverS.name of    \n   (accountN is defined)    -> serverN.name  -> serverN.name  this IMAP account\n   (non Local Folders  )\n\n mail-Y : accountL          accountL         accountL         serverS.name of    \n   (accountL is defined)    -> serverL.name  -> serverL.name  this IMAP account\n   (as Local Folders   )    ==Local Folders  ==Local Folders   \n\n mail-Z : accountC          serverP.name of  serverL.name of  serverS.name of    \n   (accountC is        )    this account     this account     this IMAP account\n   (  not defined      )                     ==Local Folders   \n\n mail-W : no X-Account-Key  server1.name of  server1.name of  serverS.name of    \n                            account1         account1         this account\n     \nNote:\nEven when existent accountN is hidden account for Unified Folders(smart mail boxes), corresponding serverN.name is used and \"Unified Folders\" is shown.\n\nI wasn't aware of next until I execute above check.\n  account1 or accountX for server1 is always used when no X-Account-Key: header.\nThis is possibly one of big causes of phenomenon of \"preselected reply address is far from user's expectation\" in no X-Account-Key: header case.\nSome funny phenomena may be no server1/account1 case."}, {"count": 9, "bug_id": 699681, "creator": "m-wada@usa.com", "is_private": false, "author": "m-wada@usa.com", "creation_time": "2011-12-09T09:49:33Z", "time": "2011-12-09T09:49:33Z", "tags": [], "text": "Note.\nmail.accountmanager.accounts in above check is as follows (account9999/server9999=Local Folders).\n> account2,account4,account9999,account1,account3,account7,account5,account6,account8\nSo order of accounts is perhaps irrelevant to \"always select server1 or account1 if no X-Account-Keys:\".", "attachment_id": null, "raw_text": "Note.\nmail.accountmanager.accounts in above check is as follows (account9999/server9999=Local Folders).\n> account2,account4,account9999,account1,account3,account7,account5,account6,account8\nSo order of accounts is perhaps irrelevant to \"always select server1 or account1 if no X-Account-Keys:\".", "id": 5903710}, {"bug_id": 699681, "count": 10, "creation_time": "2012-03-08T02:52:08Z", "author": "m-wada@usa.com", "text": "FYI.\nActually WRONG pre-set From: case existed - Bug 397975 (fixed by Tb 13.0).\nIf pqr@xx.yy.zz is contained in To:, CC:, and if pqr@xx.yy.zz is not defined as Identity but abc@xx.yy.zz is defined as Identity, abc@xx.yy.zz is selected as Identity for reply mail due to funny mail address guessing without localpart matching.", "tags": [], "time": "2012-03-08T02:52:08Z", "is_private": false, "creator": "m-wada@usa.com", "id": 6123355, "attachment_id": null, "raw_text": "FYI.\nActually WRONG pre-set From: case existed - Bug 397975 (fixed by Tb 13.0).\nIf pqr@xx.yy.zz is contained in To:, CC:, and if pqr@xx.yy.zz is not defined as Identity but abc@xx.yy.zz is defined as Identity, abc@xx.yy.zz is selected as Identity for reply mail due to funny mail address guessing without localpart matching."}, {"id": 6123375, "attachment_id": null, "raw_text": "FYI.\nThere are three known/major kinds of \"Unwanted/Unexpected pre-set From:\".\n(1) Due to Tb's identity selection based on identity related Tb's message header,\n.   even when user doesn't want it.\n    Based on X-Account-Key: header, X-Identity-Key: header.\n(2) Due to Tb's \"Reply-to-self always even when user doesn't want it\".\n(3) Due to mail address guessing without localpart matching (Bug 397975).", "creation_time": "2012-03-08T03:06:39Z", "author": "m-wada@usa.com", "text": "FYI.\nThere are three known/major kinds of \"Unwanted/Unexpected pre-set From:\".\n(1) Due to Tb's identity selection based on identity related Tb's message header,\n.   even when user doesn't want it.\n    Based on X-Account-Key: header, X-Identity-Key: header.\n(2) Due to Tb's \"Reply-to-self always even when user doesn't want it\".\n(3) Due to mail address guessing without localpart matching (Bug 397975).", "time": "2012-03-08T03:06:39Z", "tags": [], "bug_id": 699681, "is_private": false, "creator": "m-wada@usa.com", "count": 11}, {"id": 6129813, "raw_text": "I have again a false sender address when I transfer an email received on one account thunderbird send it with an different account as sender \n\nI have made a screen copy but it is not possible to post it heare. But the contents is, when I klick on \"transfer to\",  similar to \n\nsender  aaaaaa@xx.com \nresponse to: aaaaaa@xx.com \n\nand in the text field the header is \n\nsubject\ndate\nfrom: bbbbbb@xx.com \nrespone to bbbbbb@xx.com \n\n\nPlease take also note that the default account is cccccc@xxy.com  ... will say he do not use the default account instead of the original used account", "attachment_id": null, "text": "I have again a false sender address when I transfer an email received on one account thunderbird send it with an different account as sender \n\nI have made a screen copy but it is not possible to post it heare. But the contents is, when I klick on \"transfer to\",  similar to \n\nsender  aaaaaa@xx.com \nresponse to: aaaaaa@xx.com \n\nand in the text field the header is \n\nsubject\ndate\nfrom: bbbbbb@xx.com \nrespone to bbbbbb@xx.com \n\n\nPlease take also note that the default account is cccccc@xxy.com  ... will say he do not use the default account instead of the original used account", "time": "2012-03-10T13:08:46Z", "tags": [], "bug_id": 699681, "creation_time": "2012-03-10T13:08:46Z", "author": "supportdoc@brainstuff.com", "count": 12, "is_private": false, "creator": "supportdoc@brainstuff.com"}, {"id": 6129816, "attachment_id": null, "raw_text": "To say it in a simpla way: when I receive a mail on the account aaa@xx.com the transfered mail must be send by aaa@xxx.com with reply address aa@xx.com .\n\nIn the moment thunderbird use a different account to transfer the mail.", "creation_time": "2012-03-10T13:15:29Z", "author": "supportdoc@brainstuff.com", "text": "To say it in a simpla way: when I receive a mail on the account aaa@xx.com the transfered mail must be send by aaa@xxx.com with reply address aa@xx.com .\n\nIn the moment thunderbird use a different account to transfer the mail.", "bug_id": 699681, "time": "2012-03-10T13:15:29Z", "tags": [], "is_private": false, "creator": "supportdoc@brainstuff.com", "count": 13}, {"time": "2012-11-23T03:53:35Z", "tags": [], "bug_id": 699681, "text": "Bug 608513 is for user's inconvenience in utilizing current reply-to-self feature. It sounds that mailnews.reply_to_self_check_all_ident=true(defaulted as false) is a solution in his case. So that bug looks \"reply to his identity which is associated to different account\" case.\nFollowing enhancement may be a solutuion for users who don't want automatic reply-to-self application.\n  mailnews.reply_to_self_check_all_ident : Boolean -> Integer\n    0 : reply-to-self is disabled\n    1 : reply-to-self is enabled, check identities of an relevant account only\n    2 : reply-to-self is enabled, check identities of all accounts", "author": "m-wada@usa.com", "creation_time": "2012-11-23T03:53:35Z", "count": 14, "creator": "m-wada@usa.com", "is_private": false, "id": 6846941, "raw_text": "Bug 608513 is for user's inconvenience in utilizing current reply-to-self feature. It sounds that mailnews.reply_to_self_check_all_ident=true(defaulted as false) is a solution in his case. So that bug looks \"reply to his identity which is associated to different account\" case.\nFollowing enhancement may be a solutuion for users who don't want automatic reply-to-self application.\n  mailnews.reply_to_self_check_all_ident : Boolean -> Integer\n    0 : reply-to-self is disabled\n    1 : reply-to-self is enabled, check identities of an relevant account only\n    2 : reply-to-self is enabled, check identities of all accounts", "attachment_id": null}, {"count": 15, "bug_id": 699681, "creator": "m-wada@usa.com", "is_private": false, "tags": [], "time": "2013-06-13T04:11:54Z", "text": "FYI.\nAs for problem due to \"X-Account-Key: based identity selection\", powerful sord has been implemented.\n  Re-define POP3 account\nBy bug 485839, mail.account.lastKey was introduced, and mail.account.lastKey + 1 is used as account number upon next account definition. So, delete/re-define POP3 account alters account number of POP3 account, then accountN in existent X-Account-Key: header is changed to obsolete.\n(1) If default account, select appropriate account as default account,\n    in order to avoid problem due to \"defaultaccunt=Local Folders\" etc.\n(2) Delete POP3 account, re-define POP3 account\n    => account number is incremented.\n    => server number may be altered, and new directory-rel is used.\n    Old one : mail.server.serverX.directory-rel = .../<servername>-XX\n    New one : mail.server.serverY.directory-rel = .../<servername>-YY\n(3) Use mail directory assinged to Old one.\n    mail.server.serverY.directory-rel = .../<servername>-XX\n    restart Tb.\n(4) Select appropriate account as default account\n(5) If you start to feel \"X-Account-Key: based identity selection\" is annoying, do (1) to (4) each time.", "author": "m-wada@usa.com", "creation_time": "2013-06-13T04:11:54Z", "raw_text": "FYI.\nAs for problem due to \"X-Account-Key: based identity selection\", powerful sord has been implemented.\n  Re-define POP3 account\nBy bug 485839, mail.account.lastKey was introduced, and mail.account.lastKey + 1 is used as account number upon next account definition. So, delete/re-define POP3 account alters account number of POP3 account, then accountN in existent X-Account-Key: header is changed to obsolete.\n(1) If default account, select appropriate account as default account,\n    in order to avoid problem due to \"defaultaccunt=Local Folders\" etc.\n(2) Delete POP3 account, re-define POP3 account\n    => account number is incremented.\n    => server number may be altered, and new directory-rel is used.\n    Old one : mail.server.serverX.directory-rel = .../<servername>-XX\n    New one : mail.server.serverY.directory-rel = .../<servername>-YY\n(3) Use mail directory assinged to Old one.\n    mail.server.serverY.directory-rel = .../<servername>-XX\n    restart Tb.\n(4) Select appropriate account as default account\n(5) If you start to feel \"X-Account-Key: based identity selection\" is annoying, do (1) to (4) each time.", "attachment_id": null, "id": 7528816}, {"id": 7528859, "raw_text": "Just fix the #$@% bug. Add an option to ignore X-Account-Key.", "attachment_id": null, "time": "2013-06-13T04:40:00Z", "tags": [], "bug_id": 699681, "text": "Just fix the #$@% bug. Add an option to ignore X-Account-Key.", "author": "ceo@stewardelectronics.com", "creation_time": "2013-06-13T04:40:00Z", "count": 16, "creator": "ceo@stewardelectronics.com", "is_private": false}, {"is_private": false, "creator": "m-wada@usa.com", "count": 17, "creation_time": "2013-11-22T05:18:58Z", "author": "m-wada@usa.com", "text": "Recently, problem around Reply-To: has been reported on Tb 24.\n  For example, bug 932774 bug 933377, bug 933555.\nAddin \"Reply-To:\" to ug summary.", "tags": [], "time": "2013-11-22T05:18:58Z", "bug_id": 699681, "attachment_id": null, "raw_text": "Recently, problem around Reply-To: has been reported on Tb 24.\n  For example, bug 932774 bug 933377, bug 933555.\nAddin \"Reply-To:\" to ug summary.", "id": 8111871}, {"raw_text": "Quick summaary of current problems.\n(1) Problem due to wrong mail addr matching or inappropriate mail addr guessing.\n    Fixed in Tb 13.0 by Bug 397975.\n(2) Problem due to \"forcing X-Account-Key: based Identity selection, even when Global Inbox is never used by Tb user\".\n(3) Problem relevant to some other X-...: headers used by Tb.\n(4) Problem due to \"forcing Reply-To-Self, even when Tb user doesn't want it\".\n(5) Problem which may be relevant to not-so-appopriate behavior or deffernt-from-user-expectation behavior on Reply-To:, Sender: etc.\n(6) Others.", "attachment_id": null, "id": 8111917, "count": 18, "is_private": false, "creator": "m-wada@usa.com", "text": "Quick summaary of current problems.\n(1) Problem due to wrong mail addr matching or inappropriate mail addr guessing.\n    Fixed in Tb 13.0 by Bug 397975.\n(2) Problem due to \"forcing X-Account-Key: based Identity selection, even when Global Inbox is never used by Tb user\".\n(3) Problem relevant to some other X-...: headers used by Tb.\n(4) Problem due to \"forcing Reply-To-Self, even when Tb user doesn't want it\".\n(5) Problem which may be relevant to not-so-appopriate behavior or deffernt-from-user-expectation behavior on Reply-To:, Sender: etc.\n(6) Others.", "bug_id": 699681, "tags": [], "time": "2013-11-22T05:47:52Z", "creation_time": "2013-11-22T05:47:52Z", "author": "m-wada@usa.com"}, {"id": 8332211, "raw_text": "", "attachment_id": null, "text": "*** Bug 680500 has been marked as a duplicate of this bug. ***", "tags": [], "bug_id": 699681, "time": "2014-01-24T20:56:16Z", "creation_time": "2014-01-24T20:56:16Z", "author": "vseerror@lehigh.edu", "count": 19, "is_private": false, "creator": "vseerror@lehigh.edu"}, {"attachment_id": null, "raw_text": "", "id": 9018881, "is_private": false, "creator": "vseerror@lehigh.edu", "count": 20, "creation_time": "2014-07-06T11:52:03Z", "author": "vseerror@lehigh.edu", "text": "*** Bug 1034718 has been marked as a duplicate of this bug. ***", "bug_id": 699681, "time": "2014-07-06T11:52:03Z", "tags": []}, {"raw_text": "Surely the idea of multiple accounts is that an account is setup for each \nemail identity that the user has, ie Home, work, charity etc. \nThen it make sense to keep the mail relating to that identity in folders \nin the relevant account, ie any work related emails would be kept in the \nwork\\inbox, or work\\sent etc. \nEmails could get there by either downloading from different pop servers, \nor by dragging from another account if all incoming mails are consolidated to one server.\n\nComposing a new message when a certain account is highlighted works correctly, \nie the correct formatting is selected (text/html) and the correct from address \nis selected. \n\nWhen it comes to replying or forwarding a message that is highlighted, \nit should work the same way, BUT IT DOESNT !!\n\nPlease correct me if I am wrong, but I believe the solution is blatantly obvious and very simple:\n1 Ignore the X-Account-Key, or add an option to ignore the X-Account-Key\n2 When replying to a message, or forwarding a message, use the same subroutine that creates a new message. \n   That correctly Opens a new edit window\n   Uses the correct formatting \n   Uses the correct signature, CC and Bcc addresses\n   Uses the correct From address \n\nTo cater for different setups/users then it would be sensible to have some options \nthat the user could select in their preferences.", "attachment_id": null, "id": 9019725, "count": 21, "is_private": false, "creator": "ceo@stewardelectronics.com", "text": "Surely the idea of multiple accounts is that an account is setup for each \nemail identity that the user has, ie Home, work, charity etc. \nThen it make sense to keep the mail relating to that identity in folders \nin the relevant account, ie any work related emails would be kept in the \nwork\\inbox, or work\\sent etc. \nEmails could get there by either downloading from different pop servers, \nor by dragging from another account if all incoming mails are consolidated to one server.\n\nComposing a new message when a certain account is highlighted works correctly, \nie the correct formatting is selected (text/html) and the correct from address \nis selected. \n\nWhen it comes to replying or forwarding a message that is highlighted, \nit should work the same way, BUT IT DOESNT !!\n\nPlease correct me if I am wrong, but I believe the solution is blatantly obvious and very simple:\n1 Ignore the X-Account-Key, or add an option to ignore the X-Account-Key\n2 When replying to a message, or forwarding a message, use the same subroutine that creates a new message. \n   That correctly Opens a new edit window\n   Uses the correct formatting \n   Uses the correct signature, CC and Bcc addresses\n   Uses the correct From address \n\nTo cater for different setups/users then it would be sensible to have some options \nthat the user could select in their preferences.", "tags": [], "time": "2014-07-07T04:18:50Z", "bug_id": 699681, "creation_time": "2014-07-07T04:18:50Z", "author": "ceo@stewardelectronics.com"}, {"id": 9028928, "raw_text": "(In reply to David from comment #21)\n> Surely the idea of multiple accounts is that an account is setup for each \n> email identity that the user has, ie Home, work, charity etc. \n> Then it make sense to keep the mail relating to that identity in folders \n> in the relevant account, ie any work related emails would be kept in the \n> work\\inbox, or work\\sent etc. \n> Emails could get there by either downloading from different pop servers, \n> or by dragging from another account if all incoming mails are consolidated\n> to one server.\n> \n> Composing a new message when a certain account is highlighted works\n> correctly, \n> ie the correct formatting is selected (text/html) and the correct from\n> address \n> is selected. \n> \n> When it comes to replying or forwarding a message that is highlighted, \n> it should work the same way, BUT IT DOESNT !!\n> \n> Please correct me if I am wrong, but I believe the solution is blatantly\n> obvious and very simple:\n> 1 Ignore the X-Account-Key, or add an option to ignore the X-Account-Key\n> 2 When replying to a message, or forwarding a message, use the same\n> subroutine that creates a new message. \n>    That correctly Opens a new edit window\n>    Uses the correct formatting \n>    Uses the correct signature, CC and Bcc addresses\n>    Uses the correct From address \n> \n> To cater for different setups/users then it would be sensible to have some\n> options \n> that the user could select in their preferences.\n\n@david  ..\n\nI am OK with you, but not with \"relating to that identity in folders \nin the relevant account,\"  Folders does not have any relation with the senders mail address ... The only criteria is the mail address where I receive a mail ... this must be every time the senders mals and the reply mail addres. \n\nbrainstuff", "attachment_id": null, "tags": [], "time": "2014-07-08T20:21:42Z", "text": "(In reply to David from comment #21)\n> Surely the idea of multiple accounts is that an account is setup for each \n> email identity that the user has, ie Home, work, charity etc. \n> Then it make sense to keep the mail relating to that identity in folders \n> in the relevant account, ie any work related emails would be kept in the \n> work\\inbox, or work\\sent etc. \n> Emails could get there by either downloading from different pop servers, \n> or by dragging from another account if all incoming mails are consolidated\n> to one server.\n> \n> Composing a new message when a certain account is highlighted works\n> correctly, \n> ie the correct formatting is selected (text/html) and the correct from\n> address \n> is selected. \n> \n> When it comes to replying or forwarding a message that is highlighted, \n> it should work the same way, BUT IT DOESNT !!\n> \n> Please correct me if I am wrong, but I believe the solution is blatantly\n> obvious and very simple:\n> 1 Ignore the X-Account-Key, or add an option to ignore the X-Account-Key\n> 2 When replying to a message, or forwarding a message, use the same\n> subroutine that creates a new message. \n>    That correctly Opens a new edit window\n>    Uses the correct formatting \n>    Uses the correct signature, CC and Bcc addresses\n>    Uses the correct From address \n> \n> To cater for different setups/users then it would be sensible to have some\n> options \n> that the user could select in their preferences.\n\n@david  ..\n\nI am OK with you, but not with \"relating to that identity in folders \nin the relevant account,\"  Folders does not have any relation with the senders mail address ... The only criteria is the mail address where I receive a mail ... this must be every time the senders mals and the reply mail addres. \n\nbrainstuff", "author": "supportdoc@brainstuff.com", "creation_time": "2014-07-08T20:21:42Z", "creator": "supportdoc@brainstuff.com", "is_private": false, "bug_id": 699681, "count": 22}, {"count": 23, "is_private": false, "creator": "chip@aviatrexx.com", "text": "(See Bug 1076964 for copious documentation.)\n\nSomething has changed in this area of the code.\n\nBefore 31.1.2 I never had a problem with TB selecting the correct 'From:' identity in a 'Reply' or 'Forward'.  Now, it consistently picks the wrong identity for replies to certain incoming mail.  Not only is the identity not associated with the address to which the email was sent, it's not the default identity of my default account either.\n\nThis occurs with mail from any listserver that insert its own address in the 'To:' header, and mail sent 'To: undisclosed-recipients:;'.\n\nIn these cases, TB determines the correct address to which the email was sent (I assume from the 'Received:' headers) because the 'X-Account-Key:' header contains the correct account.\n\nSince 31.1.2 it appears that when TB cannot determine the identity from the 'To:' or any 'Delivered-to:' headers, it ignores any 'X-Account-Key:' or 'Envelope-to:' headers AND the default account/identity setting and picks an identity apparently at random.  It is not 'id1' nor is it an identity associated with 'account1'. (I have no idea what the comment \"// Still no matches? Give up and pick the first one\" means in the code.)\n\nIs there anything I can do to force TB to use the 'X-Account-Key:' or 'Envelope-to:' headers if present?  I haven't gotten a 'Delivered-to:' header since 2012.  Neither it nor the 'Envelope-to:' headers are held in high regard, so why not use the 'X-Account-Key:' information (if present) as a hint for the identity if you have nothing but \"pick the first\"?\n\nThis is obviously a messy area (judging by Comment 18 if nothing else) but the wholesale elimination of 'X-Account-Key:' as a determinant of the proper reply 'From:' identity has already broken a common email occurrence.  Any way to un-screw this pooch?", "bug_id": 699681, "time": "2014-10-04T11:37:01Z", "tags": [], "creation_time": "2014-10-04T11:37:01Z", "author": "chip@aviatrexx.com", "raw_text": "(See Bug 1076964 for copious documentation.)\n\nSomething has changed in this area of the code.\n\nBefore 31.1.2 I never had a problem with TB selecting the correct 'From:' identity in a 'Reply' or 'Forward'.  Now, it consistently picks the wrong identity for replies to certain incoming mail.  Not only is the identity not associated with the address to which the email was sent, it's not the default identity of my default account either.\n\nThis occurs with mail from any listserver that insert its own address in the 'To:' header, and mail sent 'To: undisclosed-recipients:;'.\n\nIn these cases, TB determines the correct address to which the email was sent (I assume from the 'Received:' headers) because the 'X-Account-Key:' header contains the correct account.\n\nSince 31.1.2 it appears that when TB cannot determine the identity from the 'To:' or any 'Delivered-to:' headers, it ignores any 'X-Account-Key:' or 'Envelope-to:' headers AND the default account/identity setting and picks an identity apparently at random.  It is not 'id1' nor is it an identity associated with 'account1'. (I have no idea what the comment \"// Still no matches? Give up and pick the first one\" means in the code.)\n\nIs there anything I can do to force TB to use the 'X-Account-Key:' or 'Envelope-to:' headers if present?  I haven't gotten a 'Delivered-to:' header since 2012.  Neither it nor the 'Envelope-to:' headers are held in high regard, so why not use the 'X-Account-Key:' information (if present) as a hint for the identity if you have nothing but \"pick the first\"?\n\nThis is obviously a messy area (judging by Comment 18 if nothing else) but the wholesale elimination of 'X-Account-Key:' as a determinant of the proper reply 'From:' identity has already broken a common email occurrence.  Any way to un-screw this pooch?", "attachment_id": null, "id": 9402756}, {"raw_text": "Some simple variant of this (along bug 903390) has just bitten me and this SUCKs big time. Can result in MASSIVE privacy violation when TB selects unexpected identity and user doesn't notice before sending.", "attachment_id": null, "id": 9618227, "count": 24, "creator": "bugzilla2007@duellmann24.net", "is_private": false, "bug_id": 699681, "tags": [], "time": "2014-11-20T20:21:16Z", "text": "Some simple variant of this (along bug 903390) has just bitten me and this SUCKs big time. Can result in MASSIVE privacy violation when TB selects unexpected identity and user doesn't notice before sending.", "author": "bugzilla2007@duellmann24.net", "creation_time": "2014-11-20T20:21:16Z"}, {"id": 12518690, "raw_text": "", "attachment_id": null, "text": "*** Bug 497560 has been marked as a duplicate of this bug. ***", "bug_id": 699681, "tags": [], "time": "2017-07-30T18:40:26Z", "creation_time": "2017-07-30T18:40:26Z", "author": "vseerror@lehigh.edu", "count": 25, "is_private": false, "creator": "vseerror@lehigh.edu"}, {"time": "2017-09-13T15:18:56Z", "tags": [], "text": "more potential duplicates", "author": "vseerror@lehigh.edu", "creation_time": "2017-09-13T15:18:56Z", "creator": "vseerror@lehigh.edu", "is_private": false, "id": 12656505, "raw_text": "more potential duplicates", "attachment_id": null, "bug_id": 699681, "count": 26}]}}, "comments": {}}