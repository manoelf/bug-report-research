{"bugs": {"638915": {"comments": [{"id": 5322630, "author": "jh@junetz.de", "is_private": false, "bug_id": 638915, "creation_time": "2011-03-04T20:50:18Z", "tags": [], "attachment_id": null, "time": "2011-03-04T20:50:18Z", "count": 0, "text": "When loading a feed message (e.g. from the Planet Mozilla RSS) in the message pane, the following appears in the Error Console:\n\nError: this.browsers[i] is undefined\nSource File: chrome://navigator/content/tabbrowser.xml\nLine: 1179\n\nThis is in method onLinkAdded, inside a for loop, so this.browsers[i] exists (for i=0), but it is void, so accessing this.browsers[i].contentDocument fails. Either browsers[i] needs to be checked right there or the root cause be identified and fixed. I can do the former, but not the latter.\n\nThere are more methods like this that could break in a similar way, e.g. getBrowserIndexForDocument and getBrowserForDocument.", "raw_text": "When loading a feed message (e.g. from the Planet Mozilla RSS) in the message pane, the following appears in the Error Console:\n\nError: this.browsers[i] is undefined\nSource File: chrome://navigator/content/tabbrowser.xml\nLine: 1179\n\nThis is in method onLinkAdded, inside a for loop, so this.browsers[i] exists (for i=0), but it is void, so accessing this.browsers[i].contentDocument fails. Either browsers[i] needs to be checked right there or the root cause be identified and fixed. I can do the former, but not the latter.\n\nThere are more methods like this that could break in a similar way, e.g. getBrowserIndexForDocument and getBrowserForDocument.", "creator": "jh@junetz.de"}, {"id": 5752402, "author": "philip.chee@gmail.com", "is_private": false, "bug_id": 638915, "tags": [], "creation_time": "2011-10-02T04:36:06Z", "attachment_id": null, "time": "2011-10-02T04:36:06Z", "count": 1, "text": "In tabbrowser.xml we have:\n      <property name=\"browsers\" readonly=\"true\">\n        <getter>\n          <![CDATA[\n            return this._browsers ||\n                   (this._browsers = Array.map(this.tabs, function (tab) tab.linkedBrowser));\n          ]]>\n        </getter>\n      </property>\n\nLooking at tabmail.xml perhaps we should implement a \"browsers\" property based on tabmail.getBrowserForSelectedTab() q.v.\n\n      <!-- getBrowserForSelectedTab is required as some toolkit functions\n           require a getBrowser() function. -->\n      <method name=\"getBrowserForSelectedTab\">\n        <body>\n          <![CDATA[\n            if (!this.currentTabInfo)\n              this.currentTabInfo = this.tabInfo[0];\n            let tabInfo = this.currentTabInfo;\n            let browserFunc = tabInfo.mode.getBrowser ||\n                              tabInfo.mode.tabType.getBrowser;\n            if (!browserFunc)\n              return null;\n            return browserFunc.call(tabInfo.mode.tabType, tabInfo);\n          ]]>\n        </body>\n      </method>", "raw_text": "In tabbrowser.xml we have:\n      <property name=\"browsers\" readonly=\"true\">\n        <getter>\n          <![CDATA[\n            return this._browsers ||\n                   (this._browsers = Array.map(this.tabs, function (tab) tab.linkedBrowser));\n          ]]>\n        </getter>\n      </property>\n\nLooking at tabmail.xml perhaps we should implement a \"browsers\" property based on tabmail.getBrowserForSelectedTab() q.v.\n\n      <!-- getBrowserForSelectedTab is required as some toolkit functions\n           require a getBrowser() function. -->\n      <method name=\"getBrowserForSelectedTab\">\n        <body>\n          <![CDATA[\n            if (!this.currentTabInfo)\n              this.currentTabInfo = this.tabInfo[0];\n            let tabInfo = this.currentTabInfo;\n            let browserFunc = tabInfo.mode.getBrowser ||\n                              tabInfo.mode.tabType.getBrowser;\n            if (!browserFunc)\n              return null;\n            return browserFunc.call(tabInfo.mode.tabType, tabInfo);\n          ]]>\n        </body>\n      </method>", "creator": "philip.chee@gmail.com"}, {"text": "I get the following:\n\n\n++DOMWINDOW == 120 (0x7f2c39b47600) [pid = 18632] [serial = 278] [outer = 0x7f2c5b023780]\n[18632] WARNING: Failed to retarget HTML data delivery to the parser thread.: file /var/tmp/portage/www-client/seamonkey-2.33.1/work/comm-release/mozilla/parser/html/nsHtml5StreamParser.cpp, line 952\n[18632] WARNING: GetDefaultCharsetForLocale: need to add multi locale support: file /var/tmp/portage/www-client/seamonkey-2.33.1/work/comm-release/mozilla/intl/locale/unix/nsUNIXCharset.cpp, line 101\n[18632] WARNING: NS_ENSURE_TRUE(isFileURI) failed: file /var/tmp/portage/www-client/seamonkey-2.33.1/work/comm-release/mozilla/dom/base/ThirdPartyUtil.cpp, line 366\n[18632] WARNING: We should have hit the document element...: file /var/tmp/portage/www-client/seamonkey-2.33.1/work/comm-release/mozilla/layout/xul/BoxObject.cpp, line 183\nJavaScript error: chrome://navigator/content/tabbrowser.xml, line 331: TypeError: browsers[i] is undefined", "bug_id": 638915, "raw_text": "I get the following:\n\n\n++DOMWINDOW == 120 (0x7f2c39b47600) [pid = 18632] [serial = 278] [outer = 0x7f2c5b023780]\n[18632] WARNING: Failed to retarget HTML data delivery to the parser thread.: file /var/tmp/portage/www-client/seamonkey-2.33.1/work/comm-release/mozilla/parser/html/nsHtml5StreamParser.cpp, line 952\n[18632] WARNING: GetDefaultCharsetForLocale: need to add multi locale support: file /var/tmp/portage/www-client/seamonkey-2.33.1/work/comm-release/mozilla/intl/locale/unix/nsUNIXCharset.cpp, line 101\n[18632] WARNING: NS_ENSURE_TRUE(isFileURI) failed: file /var/tmp/portage/www-client/seamonkey-2.33.1/work/comm-release/mozilla/dom/base/ThirdPartyUtil.cpp, line 366\n[18632] WARNING: We should have hit the document element...: file /var/tmp/portage/www-client/seamonkey-2.33.1/work/comm-release/mozilla/layout/xul/BoxObject.cpp, line 183\nJavaScript error: chrome://navigator/content/tabbrowser.xml, line 331: TypeError: browsers[i] is undefined", "creator": "mmokrejs@gmail.com", "tags": [], "creation_time": "2015-04-25T11:12:14Z", "attachment_id": null, "id": 10198640, "author": "mmokrejs@gmail.com", "time": "2015-04-25T11:12:14Z", "count": 2, "is_private": false}]}}, "comments": {}}