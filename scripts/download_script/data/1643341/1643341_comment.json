{"comments": {}, "bugs": {"1643341": {"comments": [{"is_private": false, "bug_id": 1643341, "id": 14862843, "author": "chutten@mozilla.com", "attachment_id": null, "text": "Spike in proportion of Linux clients on Nightly: https://sql.telemetry.mozilla.org/queries/71714/source#180020\n\nSpike attributed to a configuration with CPU Model 63, 10 cores, 256GB of RAM, Linux 3.14.32-xxxx-grs-ipv6-64: https://sql.telemetry.mozilla.org/queries/71721/source\n\nApparently the locale is French", "tags": [], "creator": "chutten@mozilla.com", "time": "2020-06-04T13:59:11Z", "raw_text": "Spike in proportion of Linux clients on Nightly: https://sql.telemetry.mozilla.org/queries/71714/source#180020\n\nSpike attributed to a configuration with CPU Model 63, 10 cores, 256GB of RAM, Linux 3.14.32-xxxx-grs-ipv6-64: https://sql.telemetry.mozilla.org/queries/71721/source\n\nApparently the locale is French", "count": 0, "creation_time": "2020-06-04T13:59:11Z"}, {"bug_id": 1643341, "is_private": false, "attachment_id": null, "id": 14862964, "author": "cdowhygelund@mozilla.com", "text": "10 core machines are relatively uncommon. Removing this model type reduces the count of 10 core machines from 2154 to 78.  Therefore, this specific configuration represents a 26x increase. As a reference, counts for \n\n* single core machines: ~900\n* 2 and 4 core: > 20K", "tags": [], "time": "2020-06-04T15:04:36Z", "creator": "cdowhygelund@mozilla.com", "raw_text": "10 core machines are relatively uncommon. Removing this model type reduces the count of 10 core machines from 2154 to 78.  Therefore, this specific configuration represents a 26x increase. As a reference, counts for \n\n* single core machines: ~900\n* 2 and 4 core: > 20K", "creation_time": "2020-06-04T15:04:36Z", "count": 1}, {"tags": [], "is_private": false, "bug_id": 1643341, "time": "2020-06-04T15:10:44Z", "creator": "chutten@mozilla.com", "raw_text": "[Jan-Erik mentions](https://matrix.to/#/!RaZlNLTJhRVCaDrapT:mozilla.org/$UjKrhcIZYYhbzj4-aIssrjB8l-11zM5MsOmSPWPaVWY?via=mozilla.org):\n> that kernel version seems to be a custom kernel by french server provider OVH", "attachment_id": null, "id": 14862971, "author": "chutten@mozilla.com", "creation_time": "2020-06-04T15:10:44Z", "count": 2, "text": "[Jan-Erik mentions](https://matrix.to/#/!RaZlNLTJhRVCaDrapT:mozilla.org/$UjKrhcIZYYhbzj4-aIssrjB8l-11zM5MsOmSPWPaVWY?via=mozilla.org):\n> that kernel version seems to be a custom kernel by french server provider OVH"}, {"count": 3, "creation_time": "2020-06-05T07:18:45Z", "raw_text": "This looks like a bot running from OVH datacenter as these pings come mostly from IPs from `OVH SAS` ISP (https://sql.telemetry.mozilla.org/queries/71768/source).\n\nI'm not sure there are any good next steps to take about this particular case, but we should do some analysis of prevalence of datacenter IPs/ISPs as they may be inflating some internal metrics.", "time": "2020-06-05T07:18:45Z", "creator": "akomarzewski@mozilla.com", "tags": [], "text": "This looks like a bot running from OVH datacenter as these pings come mostly from IPs from `OVH SAS` ISP (https://sql.telemetry.mozilla.org/queries/71768/source).\n\nI'm not sure there are any good next steps to take about this particular case, but we should do some analysis of prevalence of datacenter IPs/ISPs as they may be inflating some internal metrics.", "author": "akomarzewski@mozilla.com", "id": 14864704, "attachment_id": null, "is_private": false, "bug_id": 1643341}, {"bug_id": 1643341, "is_private": false, "text": "(In reply to Arkadiusz Komarzewski [:akomar] from comment #3)\n> This looks like a bot running from OVH datacenter as these pings come mostly from IPs from `OVH SAS` ISP (https://sql.telemetry.mozilla.org/queries/71768/source).\n> \n> I'm not sure there are any good next steps to take about this particular case, but we should do some analysis of prevalence of datacenter IPs/ISPs as they may be inflating some internal metrics.\n\nThanks :akomar, on further investigation it looks like most of these are actually \"headless\" (at least judging by the value of `environment.system.gfx.headless`):\n\nhttps://sql.telemetry.mozilla.org/queries/71778/source\n\nSeems like an easy workaround might be to just adjust queries to filter out headless clients?", "attachment_id": null, "author": "wlachance@mozilla.com", "id": 14865320, "creator": "wlachance@mozilla.com", "time": "2020-06-05T14:20:05Z", "tags": [], "creation_time": "2020-06-05T14:20:05Z", "count": 4, "raw_text": "(In reply to Arkadiusz Komarzewski [:akomar] from comment #3)\n> This looks like a bot running from OVH datacenter as these pings come mostly from IPs from `OVH SAS` ISP (https://sql.telemetry.mozilla.org/queries/71768/source).\n> \n> I'm not sure there are any good next steps to take about this particular case, but we should do some analysis of prevalence of datacenter IPs/ISPs as they may be inflating some internal metrics.\n\nThanks :akomar, on further investigation it looks like most of these are actually \"headless\" (at least judging by the value of `environment.system.gfx.headless`):\n\nhttps://sql.telemetry.mozilla.org/queries/71778/source\n\nSeems like an easy workaround might be to just adjust queries to filter out headless clients?"}, {"is_private": false, "bug_id": 1643341, "text": "Created attachment 9154642\nLink to GitHub pull-request: https://github.com/mozilla/firefox-data-docs/pull/494", "author": "pulgasaur@mozilla.bugs", "id": 14865851, "attachment_id": 9154642, "creator": "pulgasaur@mozilla.bugs", "time": "2020-06-05T18:43:47Z", "tags": [], "count": 5, "creation_time": "2020-06-05T18:43:47Z", "raw_text": ""}, {"bug_id": 1643341, "is_private": false, "author": "wlachance@mozilla.com", "id": 14865865, "attachment_id": null, "text": "We discussed this in #data-day-to-day (https://mozilla.slack.com/archives/CKFKC7Y1Y/p1591367498415600) which resulted in the above PR. I think this situation is rare/unlikely to happen on any channel other than Nightly (where the number of client pings is quite small and thus vulnerable to skew from an automated system) as such, we're leaning towards just adding some documentation and calling it a day.", "tags": [], "time": "2020-06-05T18:53:04Z", "creator": "wlachance@mozilla.com", "raw_text": "We discussed this in #data-day-to-day (https://mozilla.slack.com/archives/CKFKC7Y1Y/p1591367498415600) which resulted in the above PR. I think this situation is rare/unlikely to happen on any channel other than Nightly (where the number of client pings is quite small and thus vulnerable to skew from an automated system) as such, we're leaning towards just adding some documentation and calling it a day.", "count": 6, "creation_time": "2020-06-05T18:53:04Z"}]}}}