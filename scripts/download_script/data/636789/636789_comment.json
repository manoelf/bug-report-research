{"comments": {}, "bugs": {"636789": {"comments": [{"creation_time": "2011-02-25T19:15:29Z", "bug_id": 636789, "raw_text": "Object.defineProperty, on a proxy, goes through external API which doesn't have the right semantics. We should make it go through the right internal API, which is a little tricky since not enough data is passed around.\n\nThis patch passes Jeff's Object.defineProperty tests if I make it wrap incoming objects.\n\nBrendan says:\n> Could you go slightly further and s/ESPropertyDescriptor/PropDesc/g so we\n> wouldn't have yet another such thing (albeit a subtype)? I.e., keep the subtype\n> relation but merge the new one into the PropDesc one added to jsobj.* for ES5.\n\nSo I'll do that next.", "tags": [], "creator": "dvander@alliedmods.net", "is_private": false, "attachment_id": 515136, "text": "Created attachment 515136\nWIP v2\n\nObject.defineProperty, on a proxy, goes through external API which doesn't have the right semantics. We should make it go through the right internal API, which is a little tricky since not enough data is passed around.\n\nThis patch passes Jeff's Object.defineProperty tests if I make it wrap incoming objects.\n\nBrendan says:\n> Could you go slightly further and s/ESPropertyDescriptor/PropDesc/g so we\n> wouldn't have yet another such thing (albeit a subtype)? I.e., keep the subtype\n> relation but merge the new one into the PropDesc one added to jsobj.* for ES5.\n\nSo I'll do that next.", "count": 0, "time": "2011-02-25T19:15:29Z", "author": "dvander@alliedmods.net", "id": 5304621}, {"tags": [], "raw_text": "", "creation_time": "2011-07-14T00:22:27Z", "bug_id": 636789, "is_private": false, "id": 5590365, "time": "2011-07-14T00:22:27Z", "creator": "jwalden@mit.edu", "attachment_id": null, "text": "*** Bug 671051 has been marked as a duplicate of this bug. ***", "count": 1, "author": "jwalden@mit.edu"}, {"is_private": false, "tags": [], "bug_id": 636789, "creation_time": "2011-07-14T18:18:19Z", "raw_text": "I hadn't seen this patch, and I went and reproduced about half of the work in jsdbg2 branch. I really should read this patch before landing that.\n\nBtw, it turns out this was actually spec'd with the wrong semantics that we implement; I sent email to es-discuss and they fixed it in the wiki (hence the distinction between ToPropertyDescriptor and ToCompletePropertyDescriptor now).\n  http://wiki.ecmascript.org/doku.php?id=harmony:proxies_semantics\nSo this bug was INVALID all this time, but not anymore. :-\\", "id": 5591775, "time": "2011-07-14T18:18:19Z", "attachment_id": null, "creator": "jorendorff@mozilla.com", "author": "jorendorff@mozilla.com", "text": "I hadn't seen this patch, and I went and reproduced about half of the work in jsdbg2 branch. I really should read this patch before landing that.\n\nBtw, it turns out this was actually spec'd with the wrong semantics that we implement; I sent email to es-discuss and they fixed it in the wiki (hence the distinction between ToPropertyDescriptor and ToCompletePropertyDescriptor now).\n  http://wiki.ecmascript.org/doku.php?id=harmony:proxies_semantics\nSo this bug was INVALID all this time, but not anymore. :-\\", "count": 2}]}}}