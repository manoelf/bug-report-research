{"bugs": {"704429": {"comments": [{"bug_id": 704429, "tags": [], "count": 0, "is_private": false, "id": 5864803, "text": "When testing out the HTML5 context menus in 8.0, I noticed that event.shiftKey and friends are never set, since a new event seems to be created when crossing the chrome/content boundary.\n\nThis would be useful for Thunderbird, where we want to use context menus from (chrome) HTML pages, and where it's common to use the shift key to modify context menu actions, like toggling between composing as HTML or plain text.\n\n(CCing :volkmar on bz's recommendation)", "time": "2011-11-22T07:42:52Z", "attachment_id": null, "raw_text": "When testing out the HTML5 context menus in 8.0, I noticed that event.shiftKey and friends are never set, since a new event seems to be created when crossing the chrome/content boundary.\n\nThis would be useful for Thunderbird, where we want to use context menus from (chrome) HTML pages, and where it's common to use the shift key to modify context menu actions, like toggling between composing as HTML or plain text.\n\n(CCing :volkmar on bz's recommendation)", "creation_time": "2011-11-22T07:42:52Z", "creator": "jporterbugs@gmail.com", "author": "jporterbugs@gmail.com"}, {"id": 5864955, "count": 1, "is_private": false, "tags": [], "bug_id": 704429, "creation_time": "2011-11-22T10:25:03Z", "raw_text": "CCing Jan who might have a better idea of what causes this bug.", "time": "2011-11-22T10:25:03Z", "attachment_id": null, "text": "CCing Jan who might have a better idea of what causes this bug.", "author": "mounir@lamouri.fr", "creator": "mounir@lamouri.fr"}, {"time": "2011-11-22T10:40:57Z", "attachment_id": null, "text": "the shift key can't be used for that because we use it already to show the default context menu (without custom items)\n\nhttp://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#context-menus\n\nalso, the spec says that the show event should use only the Event interface\nhttp://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#fire-a-simple-event", "raw_text": "the shift key can't be used for that because we use it already to show the default context menu (without custom items)\n\nhttp://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#context-menus\n\nalso, the spec says that the show event should use only the Event interface\nhttp://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#fire-a-simple-event", "creation_time": "2011-11-22T10:40:57Z", "bug_id": 704429, "id": 5864979, "count": 2, "is_private": false, "tags": [], "author": "jvarga@mozilla.com", "creator": "jvarga@mozilla.com"}, {"tags": [], "count": 3, "is_private": false, "id": 5864986, "bug_id": 704429, "raw_text": "however, the spec can be changed :)", "creation_time": "2011-11-22T10:45:30Z", "text": "however, the spec can be changed :)", "time": "2011-11-22T10:45:30Z", "attachment_id": null, "creator": "jvarga@mozilla.com", "author": "jvarga@mozilla.com"}, {"count": 4, "is_private": false, "tags": [], "id": 5864989, "bug_id": 704429, "creation_time": "2011-11-22T10:47:41Z", "raw_text": "and the use of the shift key to show the default context menu (without custom items) can be conditional, maybe using a docshell property", "text": "and the use of the shift key to show the default context menu (without custom items) can be conditional, maybe using a docshell property", "creator": "jvarga@mozilla.com", "attachment_id": null, "time": "2011-11-22T10:47:41Z", "author": "jvarga@mozilla.com"}, {"raw_text": "Isn't shift used when showing the context menu. This is about shift key when clicking some item\nin the context menu, right?", "creation_time": "2011-11-22T11:33:11Z", "text": "Isn't shift used when showing the context menu. This is about shift key when clicking some item\nin the context menu, right?", "attachment_id": null, "time": "2011-11-22T11:33:11Z", "is_private": false, "count": 5, "tags": [], "id": 5865033, "bug_id": 704429, "creator": "bugs@pettay.fi", "author": "bugs@pettay.fi"}, {"tags": [], "count": 6, "is_private": false, "id": 5867071, "bug_id": 704429, "raw_text": "(In reply to Olli Pettay [:smaug] from comment #5)\n> Isn't shift used when showing the context menu. This is about shift key when\n> clicking some item\n> in the context menu, right?\n\nThat's correct. What I'd like to be able to do is to right-click to open the context menu, then shift-click an item. I'm perfectly fine with how the onshow command works right now*.\n\n* Thunderbird will probably show the HTML5 context menu items regardless of the shift key's state, since the context menus in question won't have any menuitems from XUL. This shouldn't affect anything in Core or Firefox, though.", "creation_time": "2011-11-22T23:59:04Z", "creator": "jporterbugs@gmail.com", "text": "(In reply to Olli Pettay [:smaug] from comment #5)\n> Isn't shift used when showing the context menu. This is about shift key when\n> clicking some item\n> in the context menu, right?\n\nThat's correct. What I'd like to be able to do is to right-click to open the context menu, then shift-click an item. I'm perfectly fine with how the onshow command works right now*.\n\n* Thunderbird will probably show the HTML5 context menu items regardless of the shift key's state, since the context menus in question won't have any menuitems from XUL. This shouldn't affect anything in Core or Firefox, though.", "author": "jporterbugs@gmail.com", "time": "2011-11-22T23:59:04Z", "attachment_id": null}, {"bug_id": 704429, "id": 6239448, "tags": [], "count": 7, "is_private": false, "attachment_id": null, "time": "2012-04-19T23:54:35Z", "text": "I'm willing to work on this, assuming it's wanted, and assuming someone is willing to point me to some info on how to dispatch events in C++.", "raw_text": "I'm willing to work on this, assuming it's wanted, and assuming someone is willing to point me to some info on how to dispatch events in C++.", "creation_time": "2012-04-19T23:54:35Z", "author": "jporterbugs@gmail.com", "creator": "jporterbugs@gmail.com"}]}}, "comments": {}}