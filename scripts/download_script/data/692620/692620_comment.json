{"comments": {}, "bugs": {"692620": {"comments": [{"author": "bugzilla@twinql.com", "creator": "bugzilla@twinql.com", "time": "2011-10-06T22:27:49Z", "attachment_id": null, "text": "Myself, a user on Twitter, and others have observed during the recent outage that only bookmarks is checked.\n\nI believe this only occurs for a fresh-start sync.\n\nThis reminds me of Bug 615926.\n\nHypothesis: we delete everything on the server, start uploading, manage clients and bookmarks, then abort the sync. The other client sees clients (so the logic in Bug 615926 doesn't come into play), but meta/global and the content of the server implies that the failed engines are disabled.\n\nThis might be a tricky one. We perhaps need to do some more integrity checking on meta/global.", "raw_text": "Myself, a user on Twitter, and others have observed during the recent outage that only bookmarks is checked.\n\nI believe this only occurs for a fresh-start sync.\n\nThis reminds me of Bug 615926.\n\nHypothesis: we delete everything on the server, start uploading, manage clients and bookmarks, then abort the sync. The other client sees clients (so the logic in Bug 615926 doesn't come into play), but meta/global and the content of the server implies that the failed engines are disabled.\n\nThis might be a tricky one. We perhaps need to do some more integrity checking on meta/global.", "creation_time": "2011-10-06T22:27:49Z", "bug_id": 692620, "id": 5764944, "tags": [], "is_private": false, "count": 0}, {"creation_time": "2011-10-06T22:43:49Z", "raw_text": "zandr was seeing this too. CCing him so maybe we can his error logs.", "creator": "philipp@weitershausen.de", "text": "zandr was seeing this too. CCing him so maybe we can his error logs.", "author": "philipp@weitershausen.de", "time": "2011-10-06T22:43:49Z", "attachment_id": null, "tags": [], "count": 1, "is_private": false, "id": 5764992, "bug_id": 692620}, {"id": 5769022, "is_private": false, "count": 2, "tags": [], "bug_id": 692620, "raw_text": "I think I had one other engine checked (History?).\n\nBetween what Fx has and Time Machine, I should be able to gather a pretty good swath of logs. What am I looking for?", "creation_time": "2011-10-08T09:13:19Z", "time": "2011-10-08T09:13:19Z", "attachment_id": null, "text": "I think I had one other engine checked (History?).\n\nBetween what Fx has and Time Machine, I should be able to gather a pretty good swath of logs. What am I looking for?", "author": "zandr@mozilla.com", "creator": "zandr@mozilla.com"}, {"author": "bugzilla@twinql.com", "creator": "bugzilla@twinql.com", "id": 8416927, "is_private": false, "count": 3, "tags": [], "bug_id": 692620, "raw_text": "A user just reported this on Nightly -- nothing seems to be syncing, lots of 'expected' FxA error logs, then everything is unchecked except for add-ons in Preferences.\n\nThis will probably be an even more frequent problem with FxA sync, because we're hitting error conditions as demonstrated by Bug 971194.\n\nI think my hypothesis in Comment 0 still stands.\n\nBug 969672 will probably fix this, in that it won't assume that no meta/global entry = disabled.", "creation_time": "2014-02-13T18:09:30Z", "attachment_id": null, "time": "2014-02-13T18:09:30Z", "text": "A user just reported this on Nightly -- nothing seems to be syncing, lots of 'expected' FxA error logs, then everything is unchecked except for add-ons in Preferences.\n\nThis will probably be an even more frequent problem with FxA sync, because we're hitting error conditions as demonstrated by Bug 971194.\n\nI think my hypothesis in Comment 0 still stands.\n\nBug 969672 will probably fix this, in that it won't assume that no meta/global entry = disabled."}, {"creator": "gavin.sharp@gmail.com", "author": "gavin.sharp@gmail.com", "is_private": false, "count": 4, "tags": [], "id": 8506105, "bug_id": 692620, "raw_text": "(In reply to Richard Newman [:rnewman] from comment #3)\n> This will probably be an even more frequent problem with FxA sync, because\n> we're hitting error conditions as demonstrated by Bug 971194.\n\n> Bug 969672 will probably fix this, in that it won't assume that no\n> meta/global entry = disabled.\n\nBug 969669 comment 20 suggests we may not get that fix. Do we have other ways to mitigate? Do we really expect this to be more common in 29 once we actually ship? Which \"error conditions\" are required exactly?", "creation_time": "2014-03-07T16:14:41Z", "text": "(In reply to Richard Newman [:rnewman] from comment #3)\n> This will probably be an even more frequent problem with FxA sync, because\n> we're hitting error conditions as demonstrated by Bug 971194.\n\n> Bug 969672 will probably fix this, in that it won't assume that no\n> meta/global entry = disabled.\n\nBug 969669 comment 20 suggests we may not get that fix. Do we have other ways to mitigate? Do we really expect this to be more common in 29 once we actually ship? Which \"error conditions\" are required exactly?", "time": "2014-03-07T16:14:41Z", "attachment_id": null}, {"count": 5, "is_private": false, "tags": [], "id": 8506191, "bug_id": 692620, "raw_text": "We don't fully understand the problem, and have never reproduced it in a debugging context, otherwise we'd have fixed it two and a half years ago :)\n\nMy intuition is that (hard?) failures between the bookended meta/global uploads on a first sync are the problem, but I don't have a detailed event sequence arranged in my head. It certainly seems to be related to upload (and maybe download?) errors, typically around a server maintenance (and thus a first sync on node reassignment).\n\nIf we ship with the dramatically higher incidence of 'ignorable' errors that we see in FxA Sync, there's a chance that this will spike accordingly.\n\n(I hope we don't, and I hope it doesn't.)\n\nSome parts of Bug 978876 (which is aimed at 29) might improve matters here, but that's a very speculative statement.", "creation_time": "2014-03-07T16:31:03Z", "text": "We don't fully understand the problem, and have never reproduced it in a debugging context, otherwise we'd have fixed it two and a half years ago :)\n\nMy intuition is that (hard?) failures between the bookended meta/global uploads on a first sync are the problem, but I don't have a detailed event sequence arranged in my head. It certainly seems to be related to upload (and maybe download?) errors, typically around a server maintenance (and thus a first sync on node reassignment).\n\nIf we ship with the dramatically higher incidence of 'ignorable' errors that we see in FxA Sync, there's a chance that this will spike accordingly.\n\n(I hope we don't, and I hope it doesn't.)\n\nSome parts of Bug 978876 (which is aimed at 29) might improve matters here, but that's a very speculative statement.", "creator": "bugzilla@twinql.com", "attachment_id": null, "time": "2014-03-07T16:31:03Z", "author": "bugzilla@twinql.com"}, {"creator": "ckarlof@mozilla.com", "author": "ckarlof@mozilla.com", "raw_text": "> If we ship with the dramatically higher incidence of 'ignorable' errors that we see in FxA Sync, there's a chance that this will spike accordingly.\n\nCan you elaborate more on what you mean by 'ignorable' errors in FxA Sync?", "creation_time": "2014-03-07T19:27:08Z", "text": "> If we ship with the dramatically higher incidence of 'ignorable' errors that we see in FxA Sync, there's a chance that this will spike accordingly.\n\nCan you elaborate more on what you mean by 'ignorable' errors in FxA Sync?", "time": "2014-03-07T19:27:08Z", "attachment_id": null, "is_private": false, "count": 6, "tags": [], "id": 8507173, "bug_id": 692620}, {"time": "2014-03-07T20:16:36Z", "attachment_id": null, "text": "Pretty much all things that aren't genuine auth errors -- anything that doesn't raise a yellow bar.\n\nFor example, in the past few weeks we've had clock skew errors, 404s in custom engines, some new 503s and 500s, bookmarks appearing with no encrypted contents (that's new!), all of the setup timing bugs that Mark's been working on, and the fun smorgasbord in Bug 971194.\n\nThese are on top of the baseline set of DNS errors, cert errors, dropped connections, timeouts, etc. that also affect Sync 1.1.\n\nI expect some but not all of the new bugs to have been caught and fixed before we go to Beta, but I'd be really surprised if FxA Sync has finished converging on Sync 1.1's asymptotic level of bugginess, and thus we're strictly more likely to hit \"higher-order\" bugs like this one.", "creation_time": "2014-03-07T20:16:36Z", "raw_text": "Pretty much all things that aren't genuine auth errors -- anything that doesn't raise a yellow bar.\n\nFor example, in the past few weeks we've had clock skew errors, 404s in custom engines, some new 503s and 500s, bookmarks appearing with no encrypted contents (that's new!), all of the setup timing bugs that Mark's been working on, and the fun smorgasbord in Bug 971194.\n\nThese are on top of the baseline set of DNS errors, cert errors, dropped connections, timeouts, etc. that also affect Sync 1.1.\n\nI expect some but not all of the new bugs to have been caught and fixed before we go to Beta, but I'd be really surprised if FxA Sync has finished converging on Sync 1.1's asymptotic level of bugginess, and thus we're strictly more likely to hit \"higher-order\" bugs like this one.", "bug_id": 692620, "id": 8507408, "tags": [], "count": 7, "is_private": false, "author": "bugzilla@twinql.com", "creator": "bugzilla@twinql.com"}, {"creator": "bugzilla@twinql.com", "author": "bugzilla@twinql.com", "is_private": false, "count": 8, "tags": [], "id": 12544798, "bug_id": 692620, "raw_text": "", "creation_time": "2017-08-07T23:00:03Z", "text": "*** Bug 980057 has been marked as a duplicate of this bug. ***", "time": "2017-08-07T23:00:03Z", "attachment_id": null}]}}}