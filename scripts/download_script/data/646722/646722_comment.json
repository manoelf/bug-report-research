{"bugs": {"646722": {"comments": [{"raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nThis is a change in rendering experienced after upgrading to Firefox 4 (from 3.6).\n\nThe border-color CSS property, if set on a table, no longer seems to apply to the table cells when border-collapse is set to true.  If no border=\"\" attribute is set for the table, no borders are displayed, whereas if border=\"1\" you get them in the default black.\n\nInterestingly, if no doctype is set, the rendering is different - same problem, but a shade of grey rather than black.\n\nI will attach test cases and example rendering.\n\nReproducible: Always", "creator": "bugzilla@kennel17.co.uk", "tags": [], "creation_time": "2011-03-31T02:49:53Z", "attachment_id": null, "text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nThis is a change in rendering experienced after upgrading to Firefox 4 (from 3.6).\n\nThe border-color CSS property, if set on a table, no longer seems to apply to the table cells when border-collapse is set to true.  If no border=\"\" attribute is set for the table, no borders are displayed, whereas if border=\"1\" you get them in the default black.\n\nInterestingly, if no doctype is set, the rendering is different - same problem, but a shade of grey rather than black.\n\nI will attach test cases and example rendering.\n\nReproducible: Always", "bug_id": 646722, "author": "bugzilla@kennel17.co.uk", "time": "2011-03-31T02:49:53Z", "count": 0, "is_private": false, "id": 5382271}, {"tags": [], "creation_time": "2011-03-31T02:50:35Z", "attachment_id": 523205, "raw_text": "", "creator": "bugzilla@kennel17.co.uk", "bug_id": 646722, "text": "Created attachment 523205\nSimple test-case (with border=\"1\")", "is_private": false, "time": "2011-03-31T02:50:35Z", "author": "bugzilla@kennel17.co.uk", "count": 1, "id": 5382272}, {"bug_id": 646722, "text": "Created attachment 523206\nSame test-case, with no doctype set.", "attachment_id": 523206, "tags": [], "creation_time": "2011-03-31T02:51:04Z", "creator": "bugzilla@kennel17.co.uk", "raw_text": "", "id": 5382273, "is_private": false, "count": 2, "time": "2011-03-31T02:51:04Z", "author": "bugzilla@kennel17.co.uk"}, {"bug_id": 646722, "text": "Created attachment 523207\nExample showing how the two test-cases render on Firefox 4", "tags": [], "creation_time": "2011-03-31T02:51:44Z", "attachment_id": 523207, "raw_text": "", "creator": "bugzilla@kennel17.co.uk", "id": 5382276, "is_private": false, "time": "2011-03-31T02:51:44Z", "author": "bugzilla@kennel17.co.uk", "count": 3}, {"bug_id": 646722, "text": "This was an intentional change, I believe.  Elika, can you confirm?\n\nNote that the border-color property in CSS is NOT inherited by default, so the fact that it ever applied to the cells when specified on the table was a bug.", "attachment_id": null, "creation_time": "2011-03-31T03:13:55Z", "tags": [], "creator": "bzbarsky@mit.edu", "raw_text": "This was an intentional change, I believe.  Elika, can you confirm?\n\nNote that the border-color property in CSS is NOT inherited by default, so the fact that it ever applied to the cells when specified on the table was a bug.", "id": 5382310, "is_private": false, "count": 4, "time": "2011-03-31T03:13:55Z", "author": "bzbarsky@mit.edu"}, {"tags": [], "creation_time": "2011-03-31T03:16:10Z", "attachment_id": null, "bug_id": 646722, "author": "bzbarsky@mit.edu", "is_private": false, "id": 5382312, "raw_text": "And note that Opera doesn't do the \"inheriting\" thing either.\n\nAs for no doctype, in quirks mode table border rendering is all weird: the color depends on the background color, and so forth.", "creator": "bzbarsky@mit.edu", "text": "And note that Opera doesn't do the \"inheriting\" thing either.\n\nAs for no doctype, in quirks mode table border rendering is all weird: the color depends on the background color, and so forth.", "time": "2011-03-31T03:16:10Z", "count": 5}, {"creator": "bugzilla@kennel17.co.uk", "raw_text": "Hmmmm.... I wonder how many web pages will break due to this bug being fixed?\n\nFWIW, Chrome handles this the way Firefox used to.\n\nIn either case, the fact that it is rendered differently when there is no doctype is definitely a bug, imho.", "attachment_id": null, "creation_time": "2011-03-31T03:18:53Z", "tags": [], "text": "Hmmmm.... I wonder how many web pages will break due to this bug being fixed?\n\nFWIW, Chrome handles this the way Firefox used to.\n\nIn either case, the fact that it is rendered differently when there is no doctype is definitely a bug, imho.", "bug_id": 646722, "count": 6, "author": "bugzilla@kennel17.co.uk", "time": "2011-03-31T03:18:53Z", "is_private": false, "id": 5382315}, {"creation_time": "2011-03-31T03:20:20Z", "tags": [], "attachment_id": null, "bug_id": 646722, "author": "bugzilla@kennel17.co.uk", "is_private": false, "id": 5382318, "raw_text": "(In reply to comment #5)\n> As for no doctype, in quirks mode table border rendering is all weird: the\n> color depends on the background color, and so forth.\n\nI would have thought quirks mode should retain the old behaviour.  Isn't that the point of it?", "creator": "bugzilla@kennel17.co.uk", "text": "(In reply to comment #5)\n> As for no doctype, in quirks mode table border rendering is all weird: the\n> color depends on the background color, and so forth.\n\nI would have thought quirks mode should retain the old behaviour.  Isn't that the point of it?", "time": "2011-03-31T03:20:20Z", "count": 7}, {"text": "The point of quirks mode is to have the smallest number of quirks that we can get away with.  It's not like IE's quirks modes that completely fix behavior.  In particularly, quirks are only added if they are needed to fix widespread site breakage (and likewise for keeping them, if there is a reason to remove them).", "raw_text": "The point of quirks mode is to have the smallest number of quirks that we can get away with.  It's not like IE's quirks modes that completely fix behavior.  In particularly, quirks are only added if they are needed to fix widespread site breakage (and likewise for keeping them, if there is a reason to remove them).", "creator": "bzbarsky@mit.edu", "time": "2011-03-31T03:34:59Z", "count": 8, "bug_id": 646722, "tags": [], "creation_time": "2011-03-31T03:34:59Z", "attachment_id": null, "id": 5382343, "is_private": false, "author": "bzbarsky@mit.edu"}, {"time": "2011-03-31T03:38:31Z", "count": 9, "raw_text": "> I wonder how many web pages will break due to this bug being fixed?\n\nOh, I meant to comment on this.  This is the first bug report we've had about the color of standards-mode borders changing in this situation.  The change was made in January 2010, over a year ago, with millions of users (literally; we had 3+ million people using the betas) using the browser with the change since then.\n\nSo whatever breakage there is doesn't seem to be particularly widespread.\n\nOut of curiousity, did you come across this issue on some particular site?", "creator": "bzbarsky@mit.edu", "text": "> I wonder how many web pages will break due to this bug being fixed?\n\nOh, I meant to comment on this.  This is the first bug report we've had about the color of standards-mode borders changing in this situation.  The change was made in January 2010, over a year ago, with millions of users (literally; we had 3+ million people using the betas) using the browser with the change since then.\n\nSo whatever breakage there is doesn't seem to be particularly widespread.\n\nOut of curiousity, did you come across this issue on some particular site?", "author": "bzbarsky@mit.edu", "is_private": false, "id": 5382349, "creation_time": "2011-03-31T03:38:31Z", "tags": [], "attachment_id": null, "bug_id": 646722}, {"tags": [], "creation_time": "2011-03-31T11:27:36Z", "attachment_id": null, "bug_id": 646722, "is_private": false, "author": "bugzilla@kennel17.co.uk", "id": 5382897, "raw_text": "(In reply to comment #9)\n> > I wonder how many web pages will break due to this bug being fixed?\n> \n> Oh, I meant to comment on this.  This is the first bug report we've had about\n> the color of standards-mode borders changing in this situation.  The change was\n> made in January 2010, over a year ago, with millions of users (literally; we\n> had 3+ million people using the betas) using the browser with the change since\n> then.\n> \n> So whatever breakage there is doesn't seem to be particularly widespread.\n\nPerhaps.  Or perhaps it's the kind of thing that most users won't notice, and if they did they might not realise it was anything to do with the browser. \n\n> Out of curiousity, did you come across this issue on some particular site?\n\nWell, I noticed it on one of my own sites, but that's kind of what I'd expect - you would only spot the bug on a site you are very familiar with.  On any other site you would assume it to be intentional, even if it looks odd (I've seen worse design mistakes on live sites).\n\nI guess, the thing that strikes me is that is the only sane way to colour a table with in-line CSS.  Without the previous behaviour, you need to repeat the styling rules for each cell of the table which is a massive amount of bloat.  Of course, using a separate <style> block (or external CSS file) would reduce this, but that is not always appropriate.\n\nIt also seems to me that the problem is not necessarily a CSS issue, per se, but a conflict between the CSS styling and the border=\"\" attribute.  Without the border attribute, no internal cell border is displayed - and perhaps this was always the case.  However, with border set it seems that the only sane choice is for the internal borders to inherit the colouring of the main table borders, otherwise the attribute always means 'black' and you get little surprises like this one.", "creator": "bugzilla@kennel17.co.uk", "text": "(In reply to comment #9)\n> > I wonder how many web pages will break due to this bug being fixed?\n> \n> Oh, I meant to comment on this.  This is the first bug report we've had about\n> the color of standards-mode borders changing in this situation.  The change was\n> made in January 2010, over a year ago, with millions of users (literally; we\n> had 3+ million people using the betas) using the browser with the change since\n> then.\n> \n> So whatever breakage there is doesn't seem to be particularly widespread.\n\nPerhaps.  Or perhaps it's the kind of thing that most users won't notice, and if they did they might not realise it was anything to do with the browser. \n\n> Out of curiousity, did you come across this issue on some particular site?\n\nWell, I noticed it on one of my own sites, but that's kind of what I'd expect - you would only spot the bug on a site you are very familiar with.  On any other site you would assume it to be intentional, even if it looks odd (I've seen worse design mistakes on live sites).\n\nI guess, the thing that strikes me is that is the only sane way to colour a table with in-line CSS.  Without the previous behaviour, you need to repeat the styling rules for each cell of the table which is a massive amount of bloat.  Of course, using a separate <style> block (or external CSS file) would reduce this, but that is not always appropriate.\n\nIt also seems to me that the problem is not necessarily a CSS issue, per se, but a conflict between the CSS styling and the border=\"\" attribute.  Without the border attribute, no internal cell border is displayed - and perhaps this was always the case.  However, with border set it seems that the only sane choice is for the internal borders to inherit the colouring of the main table borders, otherwise the attribute always means 'black' and you get little surprises like this one.", "time": "2011-03-31T11:27:36Z", "count": 10}, {"id": 5383089, "is_private": false, "author": "bzbarsky@mit.edu", "bug_id": 646722, "attachment_id": null, "creation_time": "2011-03-31T13:28:33Z", "tags": [], "count": 11, "time": "2011-03-31T13:28:33Z", "text": "> and perhaps this was always the case. \n\nYep.  Setting @border on a table actually adds border styles to all the cells.", "creator": "bzbarsky@mit.edu", "raw_text": "> and perhaps this was always the case. \n\nYep.  Setting @border on a table actually adds border styles to all the cells."}, {"attachment_id": null, "creation_time": "2011-03-31T13:29:02Z", "tags": [], "creator": "bzbarsky@mit.edu", "raw_text": "For what it's worth, there's an ongoing discussion of what @border should do on the html working group mailing list, last I checked.", "bug_id": 646722, "text": "For what it's worth, there's an ongoing discussion of what @border should do on the html working group mailing list, last I checked.", "is_private": false, "count": 12, "time": "2011-03-31T13:29:02Z", "author": "bzbarsky@mit.edu", "id": 5383091}, {"bug_id": 646722, "text": "This is closely related to bug 573960. We considered making border-color inherit through the table, but since there were some reftests written that relied on it /not/ inheriting, we scoped the change to only affect tables that had the [bordercolor] attribute set.\n\nIt would be very simple to switch to one of the earlier patches for 573960, that inherited border-color unconditionally. Or make inheritance also trigger for [border] and [rules].", "attachment_id": null, "tags": [], "creation_time": "2011-03-31T18:30:42Z", "creator": "fantasai.bugs@inkedblade.net", "raw_text": "This is closely related to bug 573960. We considered making border-color inherit through the table, but since there were some reftests written that relied on it /not/ inheriting, we scoped the change to only affect tables that had the [bordercolor] attribute set.\n\nIt would be very simple to switch to one of the earlier patches for 573960, that inherited border-color unconditionally. Or make inheritance also trigger for [border] and [rules].", "id": 5383894, "is_private": false, "count": 13, "author": "fantasai.bugs@inkedblade.net", "time": "2011-03-31T18:30:42Z"}, {"text": "I (pgrosso@ptc.com) was about to file a bug report, but this one sounds similar, so rather than file a new one, I will just add this comment.  If, in fact, my issue is separate, I'll be happy to file a new bug report.\n\nPlease see http://paulgrosso.name/firefox/table-borders.htm for a self-explanatory example about a regression from Firefox 3.x (and divergence from Chrome and others and from my understanding of the HTML/CSS specs).\n\nDue to this regression, there is no way to generate HTML/CSS that will work properly on both Firefox 3.x and Firefox 4.", "bug_id": 646722, "creator": "pgrosso@ptc.com", "raw_text": "I (pgrosso@ptc.com) was about to file a bug report, but this one sounds similar, so rather than file a new one, I will just add this comment.  If, in fact, my issue is separate, I'll be happy to file a new bug report.\n\nPlease see http://paulgrosso.name/firefox/table-borders.htm for a self-explanatory example about a regression from Firefox 3.x (and divergence from Chrome and others and from my understanding of the HTML/CSS specs).\n\nDue to this regression, there is no way to generate HTML/CSS that will work properly on both Firefox 3.x and Firefox 4.", "attachment_id": null, "creation_time": "2011-04-08T14:27:12Z", "tags": [], "id": 5396413, "count": 14, "author": "pgrosso@ptc.com", "time": "2011-04-08T14:27:12Z", "is_private": false}, {"author": "bzbarsky@mit.edu", "is_private": false, "id": 5396423, "attachment_id": null, "tags": [], "creation_time": "2011-04-08T14:32:36Z", "bug_id": 646722, "count": 15, "time": "2011-04-08T14:32:36Z", "creator": "bzbarsky@mit.edu", "raw_text": "Paul, that's a separate issue.  Could you please file it so we can sort it out without confusing the situation in this bug?", "text": "Paul, that's a separate issue.  Could you please file it so we can sort it out without confusing the situation in this bug?"}, {"attachment_id": null, "tags": [], "creation_time": "2011-04-08T14:40:51Z", "bug_id": 646722, "author": "pgrosso@ptc.com", "is_private": false, "id": 5396441, "creator": "pgrosso@ptc.com", "raw_text": "Thanks, Boris, I will file a separate bug.\n\nSome more comments upon reading previous comments.\n\nCSS border properties should not inherit.\n\nSetting @border to a non-zero value implies @rules=all (if rules is not set),\nwhich isn't quite the same as setting border-style=\"solid\".  Actually setting\nborder-style=\"solid\" would mean an explicit border-style=\"none\" on the same\nrule segment would have no effect due to CSS' border conflict resolution.", "text": "Thanks, Boris, I will file a separate bug.\n\nSome more comments upon reading previous comments.\n\nCSS border properties should not inherit.\n\nSetting @border to a non-zero value implies @rules=all (if rules is not set),\nwhich isn't quite the same as setting border-style=\"solid\".  Actually setting\nborder-style=\"solid\" would mean an explicit border-style=\"none\" on the same\nrule segment would have no effect due to CSS' border conflict resolution.", "count": 16, "time": "2011-04-08T14:40:51Z"}]}}, "comments": {}}