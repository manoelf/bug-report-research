{"comments": {}, "bugs": {"683707": {"comments": [{"creator": "stephen@noved.org", "text": "Created attachment 557300\nBlurry Tab-Overflow Arrow\n\nWe use -moz-transform: scaleX(-1) to flip images to avoid duplication and for RTL mode. In some cases it distorts the image making it blurry/indistinct. For example the the tab-overflow arrows (bug 580194)", "count": 0, "author": "stephen@noved.org", "bug_id": 683707, "id": 5691884, "creation_time": "2011-08-31T20:44:58Z", "is_private": false, "time": "2011-08-31T20:44:58Z", "raw_text": "We use -moz-transform: scaleX(-1) to flip images to avoid duplication and for RTL mode. In some cases it distorts the image making it blurry/indistinct. For example the the tab-overflow arrows (bug 580194)", "attachment_id": 557300, "tags": []}, {"bug_id": 683707, "id": 5691918, "creation_time": "2011-08-31T20:53:24Z", "is_private": false, "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org", "count": 1, "text": "Maybe this is related to some of the pixel-snapping we do being disabled when there's a transform?  If so, should we distinguish between some types of transforms that should disable pixel snapping and some that shouldn't?  That said, doing so would likely make animations of transforms look bad in a bunch of cases.", "tags": [], "time": "2011-08-31T20:53:24Z", "attachment_id": null, "raw_text": "Maybe this is related to some of the pixel-snapping we do being disabled when there's a transform?  If so, should we distinguish between some types of transforms that should disable pixel snapping and some that shouldn't?  That said, doing so would likely make animations of transforms look bad in a bunch of cases."}, {"tags": [], "raw_text": "gfxMatrix::HasNonTranslationOrFlip needs to be extended to support xx==-1.0. Cab someone roll a patch for that? My tree's not in a good state.\n\nIf that doesn't fix it, we probably have some places that check gfxMatrix::HasNonIntegerTranslation that should be checking gfxMatrix::HasNonTranslationOrFlip.", "attachment_id": null, "time": "2011-08-31T23:49:46Z", "is_private": false, "creation_time": "2011-08-31T23:49:46Z", "id": 5692454, "bug_id": 683707, "text": "gfxMatrix::HasNonTranslationOrFlip needs to be extended to support xx==-1.0. Cab someone roll a patch for that? My tree's not in a good state.\n\nIf that doesn't fix it, we probably have some places that check gfxMatrix::HasNonIntegerTranslation that should be checking gfxMatrix::HasNonTranslationOrFlip.", "count": 2, "author": "roc@ocallahan.org", "creator": "roc@ocallahan.org"}, {"bug_id": 683707, "id": 5692668, "text": "Created attachment 557394\nDetect X flips in HasNonTranslationOrFlip\n\nNot sure if this actually fixes the problem, is there a test case to check?", "count": 3, "author": "matt.woodrow@gmail.com", "raw_text": "Not sure if this actually fixes the problem, is there a test case to check?", "time": "2011-09-01T02:28:35Z", "creation_time": "2011-09-01T02:28:35Z", "is_private": false, "creator": "matt.woodrow@gmail.com", "tags": [], "attachment_id": 557394}, {"id": 5692695, "bug_id": 683707, "creation_time": "2011-09-01T03:01:45Z", "is_private": false, "creator": "roc@ocallahan.org", "text": "Comment on attachment 557394\nDetect X flips in HasNonTranslationOrFlip\n\nReview of attachment 557394:\n-----------------------------------------------------------------\n\nI don't know if this will fix the bug, but we should definitely do this.\n\nIt might possibly fix the bug by changing this path:\nhttp://mxr.mozilla.org/mozilla-central/source/layout/base/FrameLayerBuilder.cpp#1703", "count": 4, "author": "roc@ocallahan.org", "tags": [], "time": "2011-09-01T03:01:45Z", "raw_text": "Review of attachment 557394:\n-----------------------------------------------------------------\n\nI don't know if this will fix the bug, but we should definitely do this.\n\nIt might possibly fix the bug by changing this path:\nhttp://mxr.mozilla.org/mozilla-central/source/layout/base/FrameLayerBuilder.cpp#1703", "attachment_id": 557394}, {"tags": [], "time": "2011-09-01T05:11:40Z", "raw_text": "(In reply to Matt Woodrow (:mattwoodrow) from comment #3)\n> Created attachment 557394\n> Detect X flips in HasNonTranslationOrFlip\n> \n> Not sure if this actually fixes the problem, is there a test case to check?\n\nDoesn't appear to fix the issue.", "attachment_id": 557408, "id": 5692846, "bug_id": 683707, "is_private": false, "creation_time": "2011-09-01T05:11:40Z", "creator": "stephen@noved.org", "count": 5, "text": "Created attachment 557408\nTab-Overflow Arrows after Patch\n\n(In reply to Matt Woodrow (:mattwoodrow) from comment #3)\n> Created attachment 557394\n> Detect X flips in HasNonTranslationOrFlip\n> \n> Not sure if this actually fixes the problem, is there a test case to check?\n\nDoesn't appear to fix the issue.", "author": "stephen@noved.org"}, {"time": "2011-09-01T10:08:16Z", "raw_text": "Can you reproduce this in a standalone html testcase?\n\nIt'd be great to be able to test this locally.", "attachment_id": null, "tags": [], "creator": "matt.woodrow@gmail.com", "count": 6, "text": "Can you reproduce this in a standalone html testcase?\n\nIt'd be great to be able to test this locally.", "author": "matt.woodrow@gmail.com", "bug_id": 683707, "id": 5693187, "creation_time": "2011-09-01T10:08:16Z", "is_private": false}, {"author": "stephen@noved.org", "text": "(In reply to Matt Woodrow (:mattwoodrow) from comment #6)\n> Can you reproduce this in a standalone html testcase?\n> \n> It'd be great to be able to test this locally.\n\nYes, let me try and reproduce in HTML.", "count": 7, "creator": "stephen@noved.org", "is_private": false, "creation_time": "2011-09-01T14:36:03Z", "id": 5693539, "bug_id": 683707, "attachment_id": null, "raw_text": "(In reply to Matt Woodrow (:mattwoodrow) from comment #6)\n> Can you reproduce this in a standalone html testcase?\n> \n> It'd be great to be able to test this locally.\n\nYes, let me try and reproduce in HTML.", "time": "2011-09-01T14:36:03Z", "tags": []}, {"attachment_id": null, "raw_text": "(In reply to Stephen Horlander from comment #7)\n> (In reply to Matt Woodrow (:mattwoodrow) from comment #6)\n> > Can you reproduce this in a standalone html testcase?\n> > \n> > It'd be great to be able to test this locally.\n> \n> Yes, let me try and reproduce in HTML.\n\nSo I managed to reproduce it here: http://people.mozilla.com/~shorlander/scale-test/scalex-test.html\n\nSomething I noticed is that if I set a width/height on the container then it doesn't blur the image. This works no matter what dimensions I set.", "time": "2011-09-01T19:11:53Z", "tags": [], "author": "stephen@noved.org", "count": 8, "text": "(In reply to Stephen Horlander from comment #7)\n> (In reply to Matt Woodrow (:mattwoodrow) from comment #6)\n> > Can you reproduce this in a standalone html testcase?\n> > \n> > It'd be great to be able to test this locally.\n> \n> Yes, let me try and reproduce in HTML.\n\nSo I managed to reproduce it here: http://people.mozilla.com/~shorlander/scale-test/scalex-test.html\n\nSomething I noticed is that if I set a width/height on the container then it doesn't blur the image. This works no matter what dimensions I set.", "creator": "stephen@noved.org", "creation_time": "2011-09-01T19:11:53Z", "is_private": false, "bug_id": 683707, "id": 5694398}, {"time": "2011-09-01T19:58:28Z", "attachment_id": null, "raw_text": "(In reply to Stephen Horlander from comment #8)\n> Something I noticed is that if I set a width/height on the container then it\n> doesn't blur the image. This works no matter what dimensions I set.\n\nEven if you set fractional pixel widths (try 50.1px, 50.2px, etc...)?", "tags": [], "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org", "count": 9, "text": "(In reply to Stephen Horlander from comment #8)\n> Something I noticed is that if I set a width/height on the container then it\n> doesn't blur the image. This works no matter what dimensions I set.\n\nEven if you set fractional pixel widths (try 50.1px, 50.2px, etc...)?", "id": 5694530, "bug_id": 683707, "creation_time": "2011-09-01T19:58:28Z", "is_private": false}, {"count": 10, "text": "(In reply to David Baron [:dbaron] from comment #9)\n> (In reply to Stephen Horlander from comment #8)\n> > Something I noticed is that if I set a width/height on the container then it\n> > doesn't blur the image. This works no matter what dimensions I set.\n> \n> Even if you set fractional pixel widths (try 50.1px, 50.2px, etc...)?\n\nAh, yes setting fractional widths makes it fuzzy.", "author": "stephen@noved.org", "id": 5694548, "bug_id": 683707, "time": "2011-09-01T20:04:31Z", "raw_text": "(In reply to David Baron [:dbaron] from comment #9)\n> (In reply to Stephen Horlander from comment #8)\n> > Something I noticed is that if I set a width/height on the container then it\n> > doesn't blur the image. This works no matter what dimensions I set.\n> \n> Even if you set fractional pixel widths (try 50.1px, 50.2px, etc...)?\n\nAh, yes setting fractional widths makes it fuzzy.", "creator": "stephen@noved.org", "creation_time": "2011-09-01T20:04:31Z", "is_private": false, "attachment_id": null, "tags": []}, {"count": 11, "text": "I was able to work around this issue by adding:\n\n-moz-transform: scale(-1, 1);\nimage-rendering: -moz-crisp-edges;\n\nSee: https://developer.mozilla.org/en/CSS/image-rendering", "author": "johnny.rodgers@gmail.com", "id": 6291051, "bug_id": 683707, "raw_text": "I was able to work around this issue by adding:\n\n-moz-transform: scale(-1, 1);\nimage-rendering: -moz-crisp-edges;\n\nSee: https://developer.mozilla.org/en/CSS/image-rendering", "time": "2012-05-08T21:54:06Z", "creator": "johnny.rodgers@gmail.com", "is_private": false, "creation_time": "2012-05-08T21:54:06Z", "attachment_id": null, "tags": []}, {"creation_time": "2014-04-15T13:46:56Z", "is_private": false, "creator": "gijskruitbosch+bugs@gmail.com", "tags": [], "attachment_id": null, "id": 8664294, "bug_id": 683707, "count": 12, "text": "So the testcase works for me on both OS X and Windows, but the tab bar overflow arrows are blurry and wrong again on Windows (see bug 996568).\n\nMatt, is there any chance you'll have time to look into what's going on here soon?", "author": "gijskruitbosch+bugs@gmail.com", "raw_text": "So the testcase works for me on both OS X and Windows, but the tab bar overflow arrows are blurry and wrong again on Windows (see bug 996568).\n\nMatt, is there any chance you'll have time to look into what's going on here soon?", "time": "2014-04-15T13:46:56Z"}, {"raw_text": "Whoops, didn't mean to set this after all, seeing as the testcase is fixed but I'm still seeing a 'real' issue...", "attachment_id": null, "time": "2014-04-15T13:48:07Z", "tags": [], "count": 13, "text": "Whoops, didn't mean to set this after all, seeing as the testcase is fixed but I'm still seeing a 'real' issue...", "author": "gijskruitbosch+bugs@gmail.com", "creator": "gijskruitbosch+bugs@gmail.com", "creation_time": "2014-04-15T13:48:07Z", "is_private": false, "bug_id": 683707, "id": 8664301}, {"time": "2014-04-17T10:20:01Z", "raw_text": "(In reply to :Gijs Kruitbosch from comment #12)\n> So the testcase works for me on both OS X and Windows ...\n\nThe testcase in comment 8 was fixed in this range...\nLast good revision: f7c89de3ab43 (2012-09-16)\nFirst bad revision: 3f0587ce1774 (2012-09-17)\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=f7c89de3ab43&tochange=3f0587ce1774\n\n... but it broke scaleY in the process, see attachment.", "id": 8675467, "bug_id": 683707, "text": "Created attachment 8408137\n683707_testcase_2.htm\n\n(In reply to :Gijs Kruitbosch from comment #12)\n> So the testcase works for me on both OS X and Windows ...\n\nThe testcase in comment 8 was fixed in this range...\nLast good revision: f7c89de3ab43 (2012-09-16)\nFirst bad revision: 3f0587ce1774 (2012-09-17)\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=f7c89de3ab43&tochange=3f0587ce1774\n\n... but it broke scaleY in the process, see attachment.", "count": 14, "author": "elbart@gmx.de", "tags": [], "attachment_id": 8408137, "creation_time": "2014-04-17T10:20:01Z", "is_private": false, "creator": "elbart@gmx.de"}, {"author": "elbart@gmx.de", "count": 15, "text": "Created attachment 8408142\n683707_testcase_2.htm\n\nWrong dates, sorry.", "creator": "elbart@gmx.de", "creation_time": "2014-04-17T10:29:34Z", "is_private": false, "bug_id": 683707, "id": 8675501, "attachment_id": 8408142, "raw_text": "Wrong dates, sorry.", "time": "2014-04-17T10:29:34Z", "tags": []}]}}}