{"bugs": {"638300": {"comments": [{"count": 0, "bug_id": 638300, "raw_text": "User-Agent:       Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10.4; en-GB; rv:1.9.2.14) Gecko/20110218 Firefox/3.6.14\nBuild Identifier: Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10.4; en-GB; rv:1.9.2.14) Gecko/20110218 Firefox/3.6.14\n\nFor a PDF document served as application/force-download, Firefox recognizes the file as PDF, but doesn't suggest to open the document with the default PDF viewer as it does for files served as application/pdf.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Open http://www.sytral.fr/fileadmin/application/download_plan.php?uid=20\n\nActual Results:  \nA dialog appears saying:\n\nYou have chosen to open\nC1C2.pdf\nwhich is a: Portable Document Format\nfrom: http://www.sytral.fr\nWhat should Firefox do with this file?\n* Open with [Choose...]\n[...]\n\nExpected Results:  \nSince Firefox recognizes the file as Portable Document Format, it should propose the default application for PDF files.\n\nBut one may wonder whether to recognize the file as PDF is OK. Information should come from the Content-Type header.\n\nSimilar problem under Linux.\n\nAlso note that the user cannot be aware of the difference between application/pdf and application/force-download, since such information isn't shown. In both cases, Firefox just says \"Portable Document Format\". So, the user should expect the same behavior.\n\nFor this file, the HTTP response is:\n\nHTTP/1.1 200 OK\nDate: Thu, 03 Mar 2011 00:47:54 GMT\nServer: Apache/1.3.34 (Unix) mod_gzip/1.3.19.1a PHP/4.4.2 mod_ssl/2.8.25 OpenSSL\n/0.9.6m\nX-Powered-By: PHP/4.4.2\nContent-Disposition: attachment; filename=C1C2.pdf\nContent-Transfer-Encoding: binary\nContent-Length: 811499\nPragma: no-cache\nKeep-Alive: timeout=15, max=100\nConnection: Keep-Alive\nContent-Type: application/force-download", "tags": [], "is_private": false, "time": "2011-03-03T01:08:22Z", "creation_time": "2011-03-03T01:08:22Z", "author": "vincent-moz@vinc17.net", "text": "User-Agent:       Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10.4; en-GB; rv:1.9.2.14) Gecko/20110218 Firefox/3.6.14\nBuild Identifier: Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10.4; en-GB; rv:1.9.2.14) Gecko/20110218 Firefox/3.6.14\n\nFor a PDF document served as application/force-download, Firefox recognizes the file as PDF, but doesn't suggest to open the document with the default PDF viewer as it does for files served as application/pdf.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Open http://www.sytral.fr/fileadmin/application/download_plan.php?uid=20\n\nActual Results:  \nA dialog appears saying:\n\nYou have chosen to open\nC1C2.pdf\nwhich is a: Portable Document Format\nfrom: http://www.sytral.fr\nWhat should Firefox do with this file?\n* Open with [Choose...]\n[...]\n\nExpected Results:  \nSince Firefox recognizes the file as Portable Document Format, it should propose the default application for PDF files.\n\nBut one may wonder whether to recognize the file as PDF is OK. Information should come from the Content-Type header.\n\nSimilar problem under Linux.\n\nAlso note that the user cannot be aware of the difference between application/pdf and application/force-download, since such information isn't shown. In both cases, Firefox just says \"Portable Document Format\". So, the user should expect the same behavior.\n\nFor this file, the HTTP response is:\n\nHTTP/1.1 200 OK\nDate: Thu, 03 Mar 2011 00:47:54 GMT\nServer: Apache/1.3.34 (Unix) mod_gzip/1.3.19.1a PHP/4.4.2 mod_ssl/2.8.25 OpenSSL\n/0.9.6m\nX-Powered-By: PHP/4.4.2\nContent-Disposition: attachment; filename=C1C2.pdf\nContent-Transfer-Encoding: binary\nContent-Length: 811499\nPragma: no-cache\nKeep-Alive: timeout=15, max=100\nConnection: Keep-Alive\nContent-Type: application/force-download", "creator": "vincent-moz@vinc17.net", "id": 5317146, "attachment_id": null}, {"time": "2011-03-03T04:21:49Z", "count": 1, "bug_id": 638300, "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "is_private": false, "tags": [], "raw_text": "> Since Firefox recognizes the file as Portable Document Format\n\nThe UI chooses to pick that string based on the extension.  The core code, which is what decides how to handle the data, relies entirely on the MIME type, very much on purpose.\n\nOer to Firefox for the confusing UI bit.", "attachment_id": null, "id": 5317500, "text": "> Since Firefox recognizes the file as Portable Document Format\n\nThe UI chooses to pick that string based on the extension.  The core code, which is what decides how to handle the data, relies entirely on the MIME type, very much on purpose.\n\nOer to Firefox for the confusing UI bit.", "creation_time": "2011-03-03T04:21:49Z"}, {"time": "2012-05-29T22:27:54Z", "count": 2, "bug_id": 638300, "author": "vincent-moz@vinc17.net", "creator": "vincent-moz@vinc17.net", "is_private": false, "tags": [], "raw_text": "The bug still occurs with:\n\n  Mozilla/5.0 (X11; Linux x86_64; rv:10.0.4) Gecko/20100101 Firefox/10.0.4 Iceweasel/10.0.4\n\nThe URL given in the bug report no longer works, but the following one triggers the bug:\nhttp://www.annecy.org/resources/download.php?id=6589", "attachment_id": null, "id": 6346769, "text": "The bug still occurs with:\n\n  Mozilla/5.0 (X11; Linux x86_64; rv:10.0.4) Gecko/20100101 Firefox/10.0.4 Iceweasel/10.0.4\n\nThe URL given in the bug report no longer works, but the following one triggers the bug:\nhttp://www.annecy.org/resources/download.php?id=6589", "creation_time": "2012-05-29T22:27:54Z"}, {"id": 7746788, "attachment_id": null, "text": "Reproducible with the latest Nightly (build ID: 20130813155809) on a Windows 7 64bit machine, with the URL from comment 2.", "creation_time": "2013-08-14T11:43:07Z", "is_private": false, "tags": [], "raw_text": "Reproducible with the latest Nightly (build ID: 20130813155809) on a Windows 7 64bit machine, with the URL from comment 2.", "author": "manuela.muntean@softvision.ro", "creator": "manuela.muntean@softvision.ro", "time": "2013-08-14T11:43:07Z", "count": 3, "bug_id": 638300}, {"tags": [], "is_private": false, "time": "2015-12-09T08:35:31Z", "count": 4, "bug_id": 638300, "raw_text": "This bug is still present in Firefox 42 running on Windows 7 x64 machine.\n\nReturned MIME type when upload a PDF file is 'application/force-download'. I tested with Chrome and everything works OK.\n\nPlease, fix it.\n\nThanks!", "author": "antoniofr1982@gmail.com", "text": "This bug is still present in Firefox 42 running on Windows 7 x64 machine.\n\nReturned MIME type when upload a PDF file is 'application/force-download'. I tested with Chrome and everything works OK.\n\nPlease, fix it.\n\nThanks!", "creator": "antoniofr1982@gmail.com", "id": 10996233, "attachment_id": null, "creation_time": "2015-12-09T08:35:31Z"}, {"creation_time": "2016-02-08T11:32:47Z", "author": "marcelo.toston@gmail.com", "id": 11145976, "attachment_id": null, "creator": "marcelo.toston@gmail.com", "text": "This bug is still present in Firefox 44 running on Windows 7 x64 machine.\n\nPlease, fix it.\n\nThanks!", "count": 5, "raw_text": "This bug is still present in Firefox 44 running on Windows 7 x64 machine.\n\nPlease, fix it.\n\nThanks!", "bug_id": 638300, "is_private": false, "tags": [], "time": "2016-02-08T11:32:47Z"}, {"author": "kuroptev@gmail.com", "id": 11716456, "attachment_id": 8792134, "text": "Created attachment 8792134\n\"Save as\" dialogue for the local PDF file\n\nIt appears to me, that it is now impossible to open local PDF files with Firefox in Windows 10, after installing \"Cumulative update for Windows 10: September 13, 2016\". Any local PDF, being dropped to the Firefox window, causes \"Save as\" dialogue. Even when Firefox is set as default app for PDF files in Windows settings. And there is no option to open preview. \n\nMaybe this update makes all local PDF files to have MIME type of \"application/force-download\" or something. PDF files from the internet, which have a type of \"application/pdf\" , are opened in the Firefox internal PDF viewer, as always.", "creator": "kuroptev@gmail.com", "creation_time": "2016-09-16T22:04:41Z", "is_private": false, "tags": [], "time": "2016-09-16T22:04:41Z", "count": 6, "raw_text": "It appears to me, that it is now impossible to open local PDF files with Firefox in Windows 10, after installing \"Cumulative update for Windows 10: September 13, 2016\". Any local PDF, being dropped to the Firefox window, causes \"Save as\" dialogue. Even when Firefox is set as default app for PDF files in Windows settings. And there is no option to open preview. \n\nMaybe this update makes all local PDF files to have MIME type of \"application/force-download\" or something. PDF files from the internet, which have a type of \"application/pdf\" , are opened in the Firefox internal PDF viewer, as always.", "bug_id": 638300}, {"creator": "kuroptev@gmail.com", "text": "It turned out, that the behavior mentioned above probably was not caused by Cumulative update. For unknown reason, new code appeared mimeTypes.rdf. I never edited the file nor installed any PDF software recently. The following code in the mimeTypes.rdf made Firefox unable to preview PDFs:\n\n  <RDF:Description RDF:about=\"urn:mimetype:application/force-download\"\n                   NC:fileExtensions=\"pdf\"\n                   NC:description=\"\"\n                   NC:value=\"application/force-download\"\n                   NC:editable=\"true\">\n    <NC:handlerProp RDF:resource=\"urn:mimetype:handler:application/force-download\"/>\n  </RDF:Description>\n\nProbably, it somehow was added automatically after downloading PDF from some website (as mentioned in https://support.mozilla.org/en-US/kb/applications-panel-set-how-firefox-handles-files )", "attachment_id": null, "id": 11716971, "author": "kuroptev@gmail.com", "creation_time": "2016-09-17T14:05:22Z", "time": "2016-09-17T14:05:22Z", "tags": [], "is_private": false, "bug_id": 638300, "raw_text": "It turned out, that the behavior mentioned above probably was not caused by Cumulative update. For unknown reason, new code appeared mimeTypes.rdf. I never edited the file nor installed any PDF software recently. The following code in the mimeTypes.rdf made Firefox unable to preview PDFs:\n\n  <RDF:Description RDF:about=\"urn:mimetype:application/force-download\"\n                   NC:fileExtensions=\"pdf\"\n                   NC:description=\"\"\n                   NC:value=\"application/force-download\"\n                   NC:editable=\"true\">\n    <NC:handlerProp RDF:resource=\"urn:mimetype:handler:application/force-download\"/>\n  </RDF:Description>\n\nProbably, it somehow was added automatically after downloading PDF from some website (as mentioned in https://support.mozilla.org/en-US/kb/applications-panel-set-how-firefox-handles-files )", "count": 7}]}}, "comments": {}}