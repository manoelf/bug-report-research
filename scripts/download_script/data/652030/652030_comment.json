{"comments": {}, "bugs": {"652030": {"comments": [{"id": 5425564, "time": "2011-04-22T01:17:16Z", "is_private": false, "tags": [], "creation_time": "2011-04-22T01:17:16Z", "bug_id": 652030, "raw_text": "As discussed in bug 650469 comment 4 through bug 650469 comment 10, nsRefreshDriver::Thaw breaks the invariant (otherwise fixed by the patch in bug 650469) that nsRefreshDriver::MostRecentRefresh() should always return the most recent refresh time that it's given any refresh observer that's been registered since before that time.\n\nWe should perhaps fix this by making Thaw() notify observers, if it's safe to run script during Thaw().\n\n(It's also possible that this invariant isn't really useful, because one refresh observer might get touched during the notification of another earlier one, and still get confused.)", "author": "dbaron@dbaron.org", "text": "As discussed in bug 650469 comment 4 through bug 650469 comment 10, nsRefreshDriver::Thaw breaks the invariant (otherwise fixed by the patch in bug 650469) that nsRefreshDriver::MostRecentRefresh() should always return the most recent refresh time that it's given any refresh observer that's been registered since before that time.\n\nWe should perhaps fix this by making Thaw() notify observers, if it's safe to run script during Thaw().\n\n(It's also possible that this invariant isn't really useful, because one refresh observer might get touched during the notification of another earlier one, and still get confused.)", "count": 0, "attachment_id": null, "creator": "dbaron@dbaron.org"}]}}}