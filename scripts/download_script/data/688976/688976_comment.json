{"comments": {}, "bugs": {"688976": {"comments": [{"is_private": false, "id": 5735394, "count": 0, "author": "wvermeir@gmail.com", "creator": "wvermeir@gmail.com", "time": "2011-09-24T13:46:25Z", "creation_time": "2011-09-24T13:46:25Z", "raw_text": "Request to show gopher:// url's in messages by Thunderbird as a hyperlink\n\nExample Gopher link;\ngopher://gopher.floodgap.com/", "attachment_id": null, "text": "Request to show gopher:// url's in messages by Thunderbird as a hyperlink\n\nExample Gopher link;\ngopher://gopher.floodgap.com/", "bug_id": 688976, "tags": []}, {"count": 1, "id": 5735644, "is_private": false, "author": "standard8@mozilla.com", "creation_time": "2011-09-24T21:23:06Z", "time": "2011-09-24T21:23:06Z", "creator": "standard8@mozilla.com", "raw_text": "Sorry but this is won't fix, we removed gopher support ages ago as it was a security risk and I believe the other reason is that it wasn't widely used. See these bugs for more details: Bug 388195, Bug 389101, Bug 461970, Bug 388192.", "attachment_id": null, "tags": [], "bug_id": 688976, "text": "Sorry but this is won't fix, we removed gopher support ages ago as it was a security risk and I believe the other reason is that it wasn't widely used. See these bugs for more details: Bug 388195, Bug 389101, Bug 461970, Bug 388192."}, {"count": 2, "id": 5735975, "is_private": false, "time": "2011-09-25T15:24:22Z", "creation_time": "2011-09-25T15:24:22Z", "creator": "nunojsg@gmail.com", "author": "nunojsg@gmail.com", "attachment_id": null, "raw_text": "This is not about gopher *support* \u2014 I don't think thunderbird was ever able to browse gopher (but I might be wrong here).\n\nThis is about gopher shell integration, it is about allowing the user to click on URLs in a message to launch the application that handles the specified protocol so that the user can access the linked resource.\n\nIf there is any security issue here, it is how addresses are passed to sheel integration, and that's not gopher-specific, that needs to be done for *any* protocol you decide to call an external handler for.\n\nDepending on the implementation of shell integration, removing that attack vector from HTTP and FTP (by sanitizing/escaping the input) may even fix it for gopher.\n\nNone of the pointed bugs seem to be about this issue: either they are Firefox-related, either they are not related to shell integration.", "text": "This is not about gopher *support* \u2014 I don't think thunderbird was ever able to browse gopher (but I might be wrong here).\n\nThis is about gopher shell integration, it is about allowing the user to click on URLs in a message to launch the application that handles the specified protocol so that the user can access the linked resource.\n\nIf there is any security issue here, it is how addresses are passed to sheel integration, and that's not gopher-specific, that needs to be done for *any* protocol you decide to call an external handler for.\n\nDepending on the implementation of shell integration, removing that attack vector from HTTP and FTP (by sanitizing/escaping the input) may even fix it for gopher.\n\nNone of the pointed bugs seem to be about this issue: either they are Firefox-related, either they are not related to shell integration.", "bug_id": 688976, "tags": []}, {"attachment_id": null, "raw_text": "(In reply to Nuno Silva from comment #2)\n> This is about gopher shell integration, it is about allowing the user to\n> click on URLs in a message to launch the application that handles the\n> specified protocol so that the user can access the linked resource.\n\nThis already WFM on Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:7.0) Gecko/20110916 Thunderbird/7.0 - I'd be very surprised if it didn't work on Linux as well.", "text": "(In reply to Nuno Silva from comment #2)\n> This is about gopher shell integration, it is about allowing the user to\n> click on URLs in a message to launch the application that handles the\n> specified protocol so that the user can access the linked resource.\n\nThis already WFM on Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:7.0) Gecko/20110916 Thunderbird/7.0 - I'd be very surprised if it didn't work on Linux as well.", "bug_id": 688976, "tags": [], "is_private": false, "count": 3, "id": 5736487, "creator": "standard8@mozilla.com", "creation_time": "2011-09-26T07:32:28Z", "time": "2011-09-26T07:32:28Z", "author": "standard8@mozilla.com"}, {"time": "2011-09-26T08:20:05Z", "creation_time": "2011-09-26T08:20:05Z", "creator": "wvermeir@gmail.com", "author": "wvermeir@gmail.com", "count": 4, "id": 5736534, "is_private": false, "text": "(In reply to Mark Banner (:standard8) from comment #3)\n> This already WFM on Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:7.0)\n> Gecko/20110916 Thunderbird/7.0 - I'd be very surprised if it didn't work on\n> Linux as well.\n\nOn the project Gopher mailing list there was a posting from a user using \"Mozilla/5.0 (Windows NT 5.1; rv:6.0.2) Gecko/20110902 Thunderbird/6.0.2\" reporting that Thunderbird 6.0.2 does recognise gopher:// addresses and hyperlinks\n\nI have upgraded yesterday to 6.0.2 (Linux) and it makes no difference. gopher:// links remain plain text.\n\nSo, maybe this is not enhancement request be a real bug. If I works in the Mac and Windows version but not the linux version.", "bug_id": 688976, "tags": [], "attachment_id": null, "raw_text": "(In reply to Mark Banner (:standard8) from comment #3)\n> This already WFM on Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:7.0)\n> Gecko/20110916 Thunderbird/7.0 - I'd be very surprised if it didn't work on\n> Linux as well.\n\nOn the project Gopher mailing list there was a posting from a user using \"Mozilla/5.0 (Windows NT 5.1; rv:6.0.2) Gecko/20110902 Thunderbird/6.0.2\" reporting that Thunderbird 6.0.2 does recognise gopher:// addresses and hyperlinks\n\nI have upgraded yesterday to 6.0.2 (Linux) and it makes no difference. gopher:// links remain plain text.\n\nSo, maybe this is not enhancement request be a real bug. If I works in the Mac and Windows version but not the linux version."}, {"text": "Can you save that email and attach it here ?", "bug_id": 688976, "tags": [], "raw_text": "Can you save that email and attach it here ?", "attachment_id": null, "author": "ludovic@hirlimann.net", "creator": "ludovic@hirlimann.net", "time": "2011-09-26T09:00:47Z", "creation_time": "2011-09-26T09:00:47Z", "is_private": false, "id": 5736561, "count": 5}, {"creator": "wvermeir@gmail.com", "creation_time": "2011-09-26T09:09:22Z", "time": "2011-09-26T09:09:22Z", "author": "wvermeir@gmail.com", "is_private": false, "id": 5736574, "count": 6, "bug_id": 688976, "text": "Created attachment 562384\nPosting to project gopher mailing list; report of user that gopher:// links do work in Thunderbird 6.0.2 for Windows", "tags": [], "attachment_id": 562384, "raw_text": ""}, {"raw_text": "Note; the poster does not say in the email that he is using Windows but that email is posted by the client; \n\"User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.2) Gecko/20110902 Thunderbird/6.0.2\"", "attachment_id": 562384, "bug_id": 688976, "text": "Comment on attachment 562384\nPosting to project gopher mailing list; report of user that gopher:// links do work in Thunderbird 6.0.2 for Windows\n\nNote; the poster does not say in the email that he is using Windows but that email is posted by the client; \n\"User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0.2) Gecko/20110902 Thunderbird/6.0.2\"", "tags": [], "is_private": false, "id": 5736579, "count": 7, "author": "wvermeir@gmail.com", "creator": "wvermeir@gmail.com", "creation_time": "2011-09-26T09:12:35Z", "time": "2011-09-26T09:12:35Z"}, {"tags": [], "text": "I've just tried on Windows as well - however I save and view the message (plain text, html etc), a gopher:// link is linkified and you can click on it and get a dialog that gives you an option of what to open it in.", "bug_id": 688976, "raw_text": "I've just tried on Windows as well - however I save and view the message (plain text, html etc), a gopher:// link is linkified and you can click on it and get a dialog that gives you an option of what to open it in.", "attachment_id": null, "author": "standard8@mozilla.com", "creator": "standard8@mozilla.com", "time": "2011-09-26T10:44:51Z", "creation_time": "2011-09-26T10:44:51Z", "is_private": false, "count": 8, "id": 5736650}, {"count": 9, "id": 5736675, "is_private": false, "author": "ludovic@hirlimann.net", "creation_time": "2011-09-26T11:20:24Z", "time": "2011-09-26T11:20:24Z", "creator": "ludovic@hirlimann.net", "raw_text": "The poster might have an extension make thunderbird not work correctly, he should try in safe-mode as described at http://support.mozillamessaging.com/en-US/kb/Safe-Mode.\n\nMarking WFM as it works for us.", "attachment_id": null, "text": "The poster might have an extension make thunderbird not work correctly, he should try in safe-mode as described at http://support.mozillamessaging.com/en-US/kb/Safe-Mode.\n\nMarking WFM as it works for us.", "bug_id": 688976, "tags": []}, {"bug_id": 688976, "text": "I have done some more testing and it still does not work (for me).\n\nThis where the tests;\nOn Ubuntu 10.04 LTS\n\n* I have started my normal thunderbird that was installed from repository and enabled safe mode. And restarted Thunderbird (Linux, 6.0.2)\n** the emails in my mailbox did not show gopher://domain.tld's as a hyperlink.\n** the emails on usenet did not show gopher://domain.tld's as a hyperlink\n** I did send a couple of new mails to myself with a gopher link to check of it makes a difference between new and old mails; no change, no link.\n\n* I have started my default Thunderbird 6.0.2 but first renamed the directory .thunderbird so it started with the question to setup an account like a new install, what I did.\n** I did send a couple of new mails to myself with a gopher link; no change, no link.\n\n* I downloaded from the Mozilla website the Dutch language tar.gz version of 6.0.2\n** I started that version from the terminal, I setup an email account (gmail), and did send a 3 emails with a gopher link to myself; 1 plain text only, 1 html only, 1 plain text/html. -> No hyperlink for the link gopher://gopher.wikizine.org\n\n* I downloaded from Mozilla.org Thunderbird version 7.0b3 English US for linux the tar.gz version\n** I started that version, 7.0b3, from the terminal, I setup an email account (gmail), and did send a 3 emails with a gopher link to myself; 1 plain text only, 1 html only, 1 plain text/html. -> No hyperlink for the link gopher://gopher.wikizine.org\n\nAre there other tests I can do? I could ask on the Gopher mailing list of other people could test it.", "tags": [], "attachment_id": null, "raw_text": "I have done some more testing and it still does not work (for me).\n\nThis where the tests;\nOn Ubuntu 10.04 LTS\n\n* I have started my normal thunderbird that was installed from repository and enabled safe mode. And restarted Thunderbird (Linux, 6.0.2)\n** the emails in my mailbox did not show gopher://domain.tld's as a hyperlink.\n** the emails on usenet did not show gopher://domain.tld's as a hyperlink\n** I did send a couple of new mails to myself with a gopher link to check of it makes a difference between new and old mails; no change, no link.\n\n* I have started my default Thunderbird 6.0.2 but first renamed the directory .thunderbird so it started with the question to setup an account like a new install, what I did.\n** I did send a couple of new mails to myself with a gopher link; no change, no link.\n\n* I downloaded from the Mozilla website the Dutch language tar.gz version of 6.0.2\n** I started that version from the terminal, I setup an email account (gmail), and did send a 3 emails with a gopher link to myself; 1 plain text only, 1 html only, 1 plain text/html. -> No hyperlink for the link gopher://gopher.wikizine.org\n\n* I downloaded from Mozilla.org Thunderbird version 7.0b3 English US for linux the tar.gz version\n** I started that version, 7.0b3, from the terminal, I setup an email account (gmail), and did send a 3 emails with a gopher link to myself; 1 plain text only, 1 html only, 1 plain text/html. -> No hyperlink for the link gopher://gopher.wikizine.org\n\nAre there other tests I can do? I could ask on the Gopher mailing list of other people could test it.", "creator": "wvermeir@gmail.com", "time": "2011-09-26T17:32:37Z", "creation_time": "2011-09-26T17:32:37Z", "author": "wvermeir@gmail.com", "is_private": false, "count": 10, "id": 5737365}, {"text": "I asked around - some more results from all different people;\n#1\nThunderbird 6.0.2 on Win7 x64.  The gopher:// link is NOT click-able.\n\n#2\nThurderbird 6.0.2, slackware 13.37\nPlain text only , no link\n\n#3\nLinux\nTB 3.1.13 - plain text.\n\n#4\nThunderbird 6.0.2 on Linux. The gopher url shows as plain text.", "bug_id": 688976, "tags": [], "raw_text": "I asked around - some more results from all different people;\n#1\nThunderbird 6.0.2 on Win7 x64.  The gopher:// link is NOT click-able.\n\n#2\nThurderbird 6.0.2, slackware 13.37\nPlain text only , no link\n\n#3\nLinux\nTB 3.1.13 - plain text.\n\n#4\nThunderbird 6.0.2 on Linux. The gopher url shows as plain text.", "attachment_id": null, "author": "wvermeir@gmail.com", "time": "2011-09-27T07:03:32Z", "creation_time": "2011-09-27T07:03:32Z", "creator": "wvermeir@gmail.com", "count": 11, "id": 5739412, "is_private": false}, {"author": "ludovic@hirlimann.net", "creator": "ludovic@hirlimann.net", "time": "2011-09-27T07:24:50Z", "creation_time": "2011-09-27T07:24:50Z", "is_private": false, "count": 12, "id": 5739428, "tags": [], "text": "Did your test involve a clean profile ?", "bug_id": 688976, "raw_text": "Did your test involve a clean profile ?", "attachment_id": null}, {"tags": [], "bug_id": 688976, "text": "I am not sure what you mean with \"clean profile\". I have done it like I described in comment 10. \n\nBecause you write clean profile - the following I can clarity more; \n\nFor the test #1 with Thunderbird 6.0.2 installed from repository - after the test in save mode I removed .thunderbird - I am not sure anymore of I also removed .mozilla in that test, I suspect not\n\nFor test #2, thunderbird 6.0.2 dutch tar.gz-version; I did removed the new created .thunderbird , closed Firefox and removed .mozilla and then I started Thunderbird from the terminal and checked at help that I had started the correct new thunderbird after setting up the email account\n\nFor Test #3 , thunderbird 7 English - I first deleted the thunderbird of test #2, closed Firefox, removed again .thunderbird and .mozilla (if that was present, not sure anymore) and did the test.", "raw_text": "I am not sure what you mean with \"clean profile\". I have done it like I described in comment 10. \n\nBecause you write clean profile - the following I can clarity more; \n\nFor the test #1 with Thunderbird 6.0.2 installed from repository - after the test in save mode I removed .thunderbird - I am not sure anymore of I also removed .mozilla in that test, I suspect not\n\nFor test #2, thunderbird 6.0.2 dutch tar.gz-version; I did removed the new created .thunderbird , closed Firefox and removed .mozilla and then I started Thunderbird from the terminal and checked at help that I had started the correct new thunderbird after setting up the email account\n\nFor Test #3 , thunderbird 7 English - I first deleted the thunderbird of test #2, closed Firefox, removed again .thunderbird and .mozilla (if that was present, not sure anymore) and did the test.", "attachment_id": null, "author": "wvermeir@gmail.com", "creator": "wvermeir@gmail.com", "time": "2011-09-27T08:52:00Z", "creation_time": "2011-09-27T08:52:00Z", "is_private": false, "count": 13, "id": 5739508}, {"bug_id": 688976, "text": "Created attachment 562862\nScreenshot of Thunderbird 6.0.2 , Linux - showing a non-working gopher link", "tags": [], "attachment_id": 562862, "raw_text": "", "creation_time": "2011-09-27T21:06:19Z", "time": "2011-09-27T21:06:19Z", "creator": "wvermeir@gmail.com", "author": "wvermeir@gmail.com", "count": 14, "id": 5741281, "is_private": false}, {"raw_text": "It creates the link for me in TB11 on Win XP. Will check in Linux soon.\n\n(In reply to Walter Vermeir from comment #13)\n> For the test #1 with Thunderbird 6.0.2 installed from repository - after the\n> test in save mode I removed .thunderbird - I am not sure anymore of I also\n> removed .mozilla in that test, I suspect not\nThat is OK, removing .thunderbird is enough to have a clean profile.", "count": 15, "id": 5872345, "attachment_id": null, "is_private": false, "bug_id": 688976, "text": "It creates the link for me in TB11 on Win XP. Will check in Linux soon.\n\n(In reply to Walter Vermeir from comment #13)\n> For the test #1 with Thunderbird 6.0.2 installed from repository - after the\n> test in save mode I removed .thunderbird - I am not sure anymore of I also\n> removed .mozilla in that test, I suspect not\nThat is OK, removing .thunderbird is enough to have a clean profile.", "tags": [], "author": "acelists@atlas.sk", "time": "2011-11-25T15:45:16Z", "creation_time": "2011-11-25T15:45:16Z", "creator": "acelists@atlas.sk"}, {"raw_text": "OK, I can confirm this on Linux, TB8 and TB11. In one plain text message where http:// is linkified gopher:// is not.", "attachment_id": null, "is_private": false, "count": 16, "id": 5872957, "author": "acelists@atlas.sk", "bug_id": 688976, "text": "OK, I can confirm this on Linux, TB8 and TB11. In one plain text message where http:// is linkified gopher:// is not.", "tags": [], "creator": "acelists@atlas.sk", "time": "2011-11-25T23:21:53Z", "creation_time": "2011-11-25T23:21:53Z"}, {"tags": [], "bug_id": 688976, "text": "May it depend on this function?\n\nnetwerk/streamconv/converters/mozTXTToHTMLConv.cpp:\n\nbool mozTXTToHTMLConv::ShouldLinkify(const nsCString& aURL)\n{\n  if (!mIOService)\n    return false;\n\n  nsCAutoString scheme;\n  nsresult rv = mIOService->ExtractScheme(aURL, scheme);\n  if(NS_FAILED(rv))\n    return false;\n\n  // Get the handler for this scheme.\n  nsCOMPtr<nsIProtocolHandler> handler;\n  rv = mIOService->GetProtocolHandler(scheme.get(), getter_AddRefs(handler));\n  if(NS_FAILED(rv))\n    return false;\n\n  // Is it an external protocol handler? If not, linkify it.\n  nsCOMPtr<nsIExternalProtocolHandler> externalHandler = do_QueryInterface(handler);\n  if (!externalHandler)\n   return true; // handler is built-in, linkify it!\n\n  // If external app exists for the scheme then linkify it.\n  bool exists;\n  rv = externalHandler->ExternalAppExistsForScheme(scheme, &exists);\n  return(NS_SUCCEEDED(rv) && exists);\n}\n\nIf yes, then I can imagine this could yield different result depending on OS.", "raw_text": "May it depend on this function?\n\nnetwerk/streamconv/converters/mozTXTToHTMLConv.cpp:\n\nbool mozTXTToHTMLConv::ShouldLinkify(const nsCString& aURL)\n{\n  if (!mIOService)\n    return false;\n\n  nsCAutoString scheme;\n  nsresult rv = mIOService->ExtractScheme(aURL, scheme);\n  if(NS_FAILED(rv))\n    return false;\n\n  // Get the handler for this scheme.\n  nsCOMPtr<nsIProtocolHandler> handler;\n  rv = mIOService->GetProtocolHandler(scheme.get(), getter_AddRefs(handler));\n  if(NS_FAILED(rv))\n    return false;\n\n  // Is it an external protocol handler? If not, linkify it.\n  nsCOMPtr<nsIExternalProtocolHandler> externalHandler = do_QueryInterface(handler);\n  if (!externalHandler)\n   return true; // handler is built-in, linkify it!\n\n  // If external app exists for the scheme then linkify it.\n  bool exists;\n  rv = externalHandler->ExternalAppExistsForScheme(scheme, &exists);\n  return(NS_SUCCEEDED(rv) && exists);\n}\n\nIf yes, then I can imagine this could yield different result depending on OS.", "attachment_id": null, "author": "acelists@atlas.sk", "creation_time": "2011-11-25T23:57:14Z", "time": "2011-11-25T23:57:14Z", "creator": "acelists@atlas.sk", "id": 5872976, "count": 17, "is_private": false}, {"is_private": false, "count": 18, "id": 5875089, "author": "ludovic@hirlimann.net", "creator": "ludovic@hirlimann.net", "creation_time": "2011-11-28T09:11:23Z", "time": "2011-11-28T09:11:23Z", "raw_text": "David see the question in comment 17 .", "attachment_id": null, "text": "David see the question in comment 17 .", "bug_id": 688976, "tags": []}, {"count": 19, "id": 5875649, "is_private": false, "author": "mozilla@davidbienvenu.org", "time": "2011-11-28T15:53:36Z", "creation_time": "2011-11-28T15:53:36Z", "creator": "mozilla@davidbienvenu.org", "raw_text": "Yes, that's most likely the code. But I really don't think we care much about this.", "attachment_id": null, "tags": [], "bug_id": 688976, "text": "Yes, that's most likely the code. But I really don't think we care much about this."}]}}}