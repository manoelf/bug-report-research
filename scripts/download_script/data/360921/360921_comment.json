{"comments": {}, "bugs": {"360921": {"comments": [{"bug_id": 360921, "tags": [], "time": "2006-11-16T16:16:18Z", "id": 3039208, "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1) Gecko/20061010 Firefox/2.0\nBuild Identifier: http://www.mozilla.com/en-US/products/download.html?product=firefox-2.0&os=linux&lang=en-US\n\n\nError occurs in linux (Fedora Core 5) when canvas elements are put inside an arrowscrollbox (may also happen with other containers, but does not occur if when canvas elements are occluded by window scrolling).\n\nIf the contents are scrolled such that a canvas element is only partially visible, the canvas draws itself over the buttons of the scroll box. \n\nThe problem does not occur on Windows XP (Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1) Gecko/20061010 Firefox/2.0). I haven't tried any other operating systems\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Save the code below into two files: canvas-example.xul and canvas-example.js\n2.Open canvas-example.xul in Firefox\n3.Scroll the contents so that one of the canvas elements is partially occluded\n\n***canvas-example.xul***\n\n<?xml version=\"1.0\"?>\n\n<?xml-stylesheet href=\"chrome://global/skin/\" type=\"text/css\"?>\n\n<window id=\"example-window\" title=\"Example 5.5.1\"\n        xmlns:html=\"http://www.w3.org/1999/xhtml\"\n        xmlns=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\">\n\n<script type=\"application/x-javascript\" src=\"canvas-example.js\"/>\n\n<arrowscrollbox orient=\"horizontal\" flex=\"1\">\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n</arrowscrollbox>\n</window>\n\n\n***canvas-example.js***\nfunction drawShape(){\n\t// get the canvas element using the DOM\n\tvar canvases = document.getElementsByTagName(\"canvas\");\n\tvar canvas;\n\tvar len = canvases.length;\n\t//for each canvas element on the page\n\tfor (i=0; i<len; i++){\n\t\tvar canvas = canvases[i]; \n\t\t// Make sure we don't execute when canvas isn't supported\n\t\tif (canvas.getContext){\n\t\t\t// use getContext to use the canvas for drawing\n\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\t// Draw shapes\n         \t\tctx.fillRect(25,25,100,100);\n          \t\tctx.clearRect(45,45,60,60);\n          \t\tctx.strokeRect(50,50,50,50);\n\t\t} \n\t\t\n        }\n}\n\nwindow.addEventListener('load', drawShape, true);\nActual Results:  \nThe canvas draws itself over the arrows of the scroll box.\n\nExpected Results:  \nThe arrows of the scroll box should be drawn on top.", "author": "kmoffatt@cs.ubc.ca", "creation_time": "2006-11-16T16:16:18Z", "is_private": false, "raw_text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1) Gecko/20061010 Firefox/2.0\nBuild Identifier: http://www.mozilla.com/en-US/products/download.html?product=firefox-2.0&os=linux&lang=en-US\n\n\nError occurs in linux (Fedora Core 5) when canvas elements are put inside an arrowscrollbox (may also happen with other containers, but does not occur if when canvas elements are occluded by window scrolling).\n\nIf the contents are scrolled such that a canvas element is only partially visible, the canvas draws itself over the buttons of the scroll box. \n\nThe problem does not occur on Windows XP (Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1) Gecko/20061010 Firefox/2.0). I haven't tried any other operating systems\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Save the code below into two files: canvas-example.xul and canvas-example.js\n2.Open canvas-example.xul in Firefox\n3.Scroll the contents so that one of the canvas elements is partially occluded\n\n***canvas-example.xul***\n\n<?xml version=\"1.0\"?>\n\n<?xml-stylesheet href=\"chrome://global/skin/\" type=\"text/css\"?>\n\n<window id=\"example-window\" title=\"Example 5.5.1\"\n        xmlns:html=\"http://www.w3.org/1999/xhtml\"\n        xmlns=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\">\n\n<script type=\"application/x-javascript\" src=\"canvas-example.js\"/>\n\n<arrowscrollbox orient=\"horizontal\" flex=\"1\">\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n\t<html:canvas width=\"150\" height=\"150\"/>\n</arrowscrollbox>\n</window>\n\n\n***canvas-example.js***\nfunction drawShape(){\n\t// get the canvas element using the DOM\n\tvar canvases = document.getElementsByTagName(\"canvas\");\n\tvar canvas;\n\tvar len = canvases.length;\n\t//for each canvas element on the page\n\tfor (i=0; i<len; i++){\n\t\tvar canvas = canvases[i]; \n\t\t// Make sure we don't execute when canvas isn't supported\n\t\tif (canvas.getContext){\n\t\t\t// use getContext to use the canvas for drawing\n\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\t// Draw shapes\n         \t\tctx.fillRect(25,25,100,100);\n          \t\tctx.clearRect(45,45,60,60);\n          \t\tctx.strokeRect(50,50,50,50);\n\t\t} \n\t\t\n        }\n}\n\nwindow.addEventListener('load', drawShape, true);\nActual Results:  \nThe canvas draws itself over the arrows of the scroll box.\n\nExpected Results:  \nThe arrows of the scroll box should be drawn on top.", "creator": "kmoffatt@cs.ubc.ca", "attachment_id": null, "count": 0}, {"text": "Reporter, do you still see this problem with the latest Firefox trunk? If not, can you please close this bug as WORKSFORME. Thanks!\n- http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/", "id": 3227322, "tags": [], "time": "2007-06-23T22:25:48Z", "bug_id": 360921, "attachment_id": null, "count": 1, "creator": "steve.england@gmail.com", "is_private": false, "raw_text": "Reporter, do you still see this problem with the latest Firefox trunk? If not, can you please close this bug as WORKSFORME. Thanks!\n- http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/", "author": "steve.england@gmail.com", "creation_time": "2007-06-23T22:25:48Z"}, {"creator": "cbook@mozilla.com", "raw_text": "Closing as incomplete -> no reply\n\nReporter: if you still see this Problem in a recent Firefox 3 Release or 3.1alpha, feel free to reopen this bug. A testcase/testurl would be very helpful in this case.", "tags": [], "time": "2008-08-16T23:10:22Z", "id": 3742963, "text": "Closing as incomplete -> no reply\n\nReporter: if you still see this Problem in a recent Firefox 3 Release or 3.1alpha, feel free to reopen this bug. A testcase/testurl would be very helpful in this case.", "bug_id": 360921, "attachment_id": null, "count": 2, "author": "cbook@mozilla.com", "creation_time": "2008-08-16T23:10:22Z", "is_private": false}]}}}