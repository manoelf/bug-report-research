{"bugs": {"713316": {"comments": [{"creator": "brian@briansmith.org", "author": "brian@briansmith.org", "creation_time": "2011-12-24T02:07:39Z", "raw_text": "+++ This bug was initially created as a clone of Bug #713312 +++\n\nSome sites, in particular banking and e-commerce sites in China, are using ActiveX controls and/or NPAPI plugins to improve security. One of the security features is an ActiveX/NPAPI plugin that seems to encrypt form fields before submitting them.\n\nI actually do not know a lot about this. Using dumpbin /imports, I saw that the AliPay plugin was definitely doing some crypto stuff, but I have no idea what. I remember Wei or Feng Jiao telling me that AliPay and/or Chinese banks typically use such encryption, at least for password fields.\n\nI am pretty dubious about the security benefits of this feature. I would like to understand exactly what the websites' security requirements are. Hopefully, we would be able to solve their problems in a different way.\n\nNote that these sites (at least the Chinese ones) are doing this *in addition* to SSL, not instead of it. So, obviously they feel like SSL is not good enough.\n\nI have heard that similar things happen in Korea, and that Korea may be doing this kind of thing instead of using SSL. That sounds like a much trickier problem.", "text": "+++ This bug was initially created as a clone of Bug #713312 +++\n\nSome sites, in particular banking and e-commerce sites in China, are using ActiveX controls and/or NPAPI plugins to improve security. One of the security features is an ActiveX/NPAPI plugin that seems to encrypt form fields before submitting them.\n\nI actually do not know a lot about this. Using dumpbin /imports, I saw that the AliPay plugin was definitely doing some crypto stuff, but I have no idea what. I remember Wei or Feng Jiao telling me that AliPay and/or Chinese banks typically use such encryption, at least for password fields.\n\nI am pretty dubious about the security benefits of this feature. I would like to understand exactly what the websites' security requirements are. Hopefully, we would be able to solve their problems in a different way.\n\nNote that these sites (at least the Chinese ones) are doing this *in addition* to SSL, not instead of it. So, obviously they feel like SSL is not good enough.\n\nI have heard that similar things happen in Korea, and that Korea may be doing this kind of thing instead of using SSL. That sounds like a much trickier problem.", "attachment_id": null, "time": "2011-12-24T02:07:39Z", "count": 0, "is_private": false, "tags": [], "id": 5938188, "bug_id": 713316}, {"bug_id": 713316, "tags": [], "is_private": false, "count": 1, "id": 5938219, "text": "Does DOMCrypt (perhaps with a JS library on top) address this use case?\n\nhttps://wiki.mozilla.org/Privacy/Features/DOMCryptAPISpec/Latest", "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org", "attachment_id": null, "time": "2011-12-24T02:42:07Z", "raw_text": "Does DOMCrypt (perhaps with a JS library on top) address this use case?\n\nhttps://wiki.mozilla.org/Privacy/Features/DOMCryptAPISpec/Latest", "creation_time": "2011-12-24T02:42:07Z"}, {"creation_time": "2011-12-24T04:34:24Z", "raw_text": "(In reply to David Baron [:dbaron] from comment #1)\n> Does DOMCrypt (perhaps with a JS library on top) address this use case?\n> \n> https://wiki.mozilla.org/Privacy/Features/DOMCryptAPISpec/Latest\n\nMaybe. But, scripts don't have access to the contents of password fields, typically, so something would need to change on that front, at least.", "text": "(In reply to David Baron [:dbaron] from comment #1)\n> Does DOMCrypt (perhaps with a JS library on top) address this use case?\n> \n> https://wiki.mozilla.org/Privacy/Features/DOMCryptAPISpec/Latest\n\nMaybe. But, scripts don't have access to the contents of password fields, typically, so something would need to change on that front, at least.", "time": "2011-12-24T04:34:24Z", "attachment_id": null, "tags": [], "count": 2, "is_private": false, "id": 5938318, "bug_id": 713316, "creator": "brian@briansmith.org", "author": "brian@briansmith.org"}, {"creator": "brian@briansmith.org", "author": "brian@briansmith.org", "text": "(In reply to Brian Smith (:bsmith) from comment #2)\n> (In reply to David Baron [:dbaron] from comment #1)\n> > Does DOMCrypt (perhaps with a JS library on top) address this use case?\n> > \n> > https://wiki.mozilla.org/Privacy/Features/DOMCryptAPISpec/Latest\n> \n> Maybe. But, scripts don't have access to the contents of password fields,\n> typically, so something would need to change on that front, at least.\n\nAs dbaron pointed out in another thread, JS *DOES* of course have access to the contents of password fields. So, it seems likely that we could enable this functionality with a DOMCrypt-based library.\n\nPerhaps, then, it makes sense to prioritize the implementation of the specific DOMCrypt APIs that would be needed for this functionality.\n\nRegardless, the first step is finding out how and why these websites are encrypting things with their plugins currently.", "time": "2011-12-24T05:10:08Z", "attachment_id": null, "raw_text": "(In reply to Brian Smith (:bsmith) from comment #2)\n> (In reply to David Baron [:dbaron] from comment #1)\n> > Does DOMCrypt (perhaps with a JS library on top) address this use case?\n> > \n> > https://wiki.mozilla.org/Privacy/Features/DOMCryptAPISpec/Latest\n> \n> Maybe. But, scripts don't have access to the contents of password fields,\n> typically, so something would need to change on that front, at least.\n\nAs dbaron pointed out in another thread, JS *DOES* of course have access to the contents of password fields. So, it seems likely that we could enable this functionality with a DOMCrypt-based library.\n\nPerhaps, then, it makes sense to prioritize the implementation of the specific DOMCrypt APIs that would be needed for this functionality.\n\nRegardless, the first step is finding out how and why these websites are encrypting things with their plugins currently.", "creation_time": "2011-12-24T05:10:08Z", "bug_id": 713316, "tags": [], "is_private": false, "count": 3, "id": 5938344}, {"creator": "bugzilla@nulltxt.se", "author": "bugzilla@nulltxt.se", "tags": [], "is_private": false, "count": 4, "id": 5939318, "bug_id": 713316, "raw_text": "(In reply to Brian Smith (:bsmith) from comment #3)\n> Perhaps, then, it makes sense to prioritize the implementation of the\n> specific DOMCrypt APIs that would be needed for this functionality.\n> \n> Regardless, the first step is finding out how and why these websites are\n> encrypting things with their plugins currently.\n\nSo the idea is that the bank provides a public key, a script in the content then uses it to encrypt some (signed) transaction data which in turn is XHR posted to the bank's server. This data is then perhaps decrypted later on a more 'secure' host?", "creation_time": "2011-12-25T16:11:23Z", "text": "(In reply to Brian Smith (:bsmith) from comment #3)\n> Perhaps, then, it makes sense to prioritize the implementation of the\n> specific DOMCrypt APIs that would be needed for this functionality.\n> \n> Regardless, the first step is finding out how and why these websites are\n> encrypting things with their plugins currently.\n\nSo the idea is that the bank provides a public key, a script in the content then uses it to encrypt some (signed) transaction data which in turn is XHR posted to the bank's server. This data is then perhaps decrypted later on a more 'secure' host?", "attachment_id": null, "time": "2011-12-25T16:11:23Z"}, {"author": "brian@briansmith.org", "creator": "brian@briansmith.org", "id": 5939568, "count": 5, "is_private": false, "tags": [], "bug_id": 713316, "raw_text": "David, I have no idea what these plugins are doing w.r.t. the crypto yet. We should work with our Korean and Chinese friends to figure that out.", "creation_time": "2011-12-26T00:41:53Z", "time": "2011-12-26T00:41:53Z", "attachment_id": null, "text": "David, I have no idea what these plugins are doing w.r.t. the crypto yet. We should work with our Korean and Chinese friends to figure that out."}, {"author": "curtisk@mozilla.com", "creator": "curtisk@mozilla.com", "id": 5973749, "count": 6, "is_private": false, "tags": [], "bug_id": 713316, "creation_time": "2012-01-11T23:00:16Z", "raw_text": "secteam triage, no action", "time": "2012-01-11T23:00:16Z", "attachment_id": null, "text": "secteam triage, no action"}, {"tags": [], "count": 7, "is_private": false, "id": 6160365, "bug_id": 713316, "raw_text": "still waiting", "creation_time": "2012-03-21T21:40:41Z", "text": "still waiting", "attachment_id": null, "time": "2012-03-21T21:40:41Z", "creator": "curtisk@mozilla.com", "author": "curtisk@mozilla.com"}]}}, "comments": {}}