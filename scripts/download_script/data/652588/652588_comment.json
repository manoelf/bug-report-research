{"comments": {}, "bugs": {"652588": {"comments": [{"id": 5429795, "raw_text": "The goal here are to enable a nice user login experience for ccb.com.cn, without plug-ins, without installing a (custom) PKCS#11 module, and without the installation of the CCB root CA certificate, which is an important banking website in China. Currently, ccb.com.cn requires the use of an ActiveX control in Internet Explorer, and/or a plug-in in Firefox (which, apparently, installs the CCB root CA cert) to work.\n\nSee also bug 652583 and bug 652579.", "creation_time": "2011-04-25T18:32:34Z", "text": "The goal here are to enable a nice user login experience for ccb.com.cn, without plug-ins, without installing a (custom) PKCS#11 module, and without the installation of the CCB root CA certificate, which is an important banking website in China. Currently, ccb.com.cn requires the use of an ActiveX control in Internet Explorer, and/or a plug-in in Firefox (which, apparently, installs the CCB root CA cert) to work.\n\nSee also bug 652583 and bug 652579.", "count": 0, "tags": [], "creator": "brian@briansmith.org", "bug_id": 652588, "author": "brian@briansmith.org", "is_private": false, "time": "2011-04-25T18:32:34Z", "attachment_id": null}, {"author": "wdeng@mozilla.com", "bug_id": 652588, "creator": "wdeng@mozilla.com", "count": 1, "tags": [], "raw_text": "Just for enable a nice user login experience? Most users are familar with IE,so CCB want to make firefox user experience IE-like very much.  I am not sure how to implement solution on banks without plugins, PKCS#11. Does firefox provide interfaces for accessing smartcard via drivers directly? CCB's helper package is not only for Firefox,but also for IE ,and chrome in the future, most banks in China have helper packages users have to install.  We will try to test whether the solution for Fx3.6 work well on Fx4.0, if so,we don't want to change any more before CCB's solution releasing, but we can improve or try new solution in the future.", "id": 5431124, "text": "Just for enable a nice user login experience? Most users are familar with IE,so CCB want to make firefox user experience IE-like very much.  I am not sure how to implement solution on banks without plugins, PKCS#11. Does firefox provide interfaces for accessing smartcard via drivers directly? CCB's helper package is not only for Firefox,but also for IE ,and chrome in the future, most banks in China have helper packages users have to install.  We will try to test whether the solution for Fx3.6 work well on Fx4.0, if so,we don't want to change any more before CCB's solution releasing, but we can improve or try new solution in the future.", "creation_time": "2011-04-26T03:52:40Z", "attachment_id": null, "time": "2011-04-26T03:52:40Z", "is_private": false}, {"is_private": false, "time": "2011-04-26T06:43:03Z", "attachment_id": null, "creation_time": "2011-04-26T06:43:03Z", "text": "(In reply to comment #1)\n> Just for enable a nice user login experience? Most users are familar\n> with IE,so CCB want to make firefox user experience IE-like very much.\n> I am not sure how to implement solution on banks without plugins,\n> PKCS#11. Does firefox provide interfaces for accessing smartcard\n> via drivers directly?\n\nWe *could* make it work without the PKCS#11 module. There are two different possible solutions for that.\n\n> CCB's helper package is not only for Firefox,but also for IE,\n> and chrome in the future, most banks in China have helper\n> packages users have to install.\n\nYes, there was a similar situation in Korea--every site required an ActiveX control because of SEED, but eventually we were able to get many of those Korean sites to work with Firefox without plugins. I would like to make a similar improvement for the Chinese banking sites.\n\n> We will try to test whether the solution for Fx3.6 work well on\n> Fx4.0, if so,we don't want to change any more before CCB's\n> solution releasing, but we can improve or try new\n> solution in the future.\n\nI would very much like to find a solution that doesn't require CCB to install its root CA certificate into Firefox. I believe I know the reason it does this and I think it is relatively easy for us to fix in PSM. Similarly, I know the the UI problems with the token/certificate selection can be improved in PSM too, to avoid the need for the extension that you sent me. In the end, it will reduce the work CCB and other banks need to do to support Firefox.\n\nIt is possible that there is no problem with the PKCS#11 module and/or with the root certificate that the helper package installs. But, it is also possible that the PKCS#11 module and/or the root certificate accidentally interferes with the normal operation of the SSL cryptography and/or certificate trust handling even for non-CCB sites. This is why I want to test out the helper package to see what it does.", "id": 5431263, "raw_text": "(In reply to comment #1)\n> Just for enable a nice user login experience? Most users are familar\n> with IE,so CCB want to make firefox user experience IE-like very much.\n> I am not sure how to implement solution on banks without plugins,\n> PKCS#11. Does firefox provide interfaces for accessing smartcard\n> via drivers directly?\n\nWe *could* make it work without the PKCS#11 module. There are two different possible solutions for that.\n\n> CCB's helper package is not only for Firefox,but also for IE,\n> and chrome in the future, most banks in China have helper\n> packages users have to install.\n\nYes, there was a similar situation in Korea--every site required an ActiveX control because of SEED, but eventually we were able to get many of those Korean sites to work with Firefox without plugins. I would like to make a similar improvement for the Chinese banking sites.\n\n> We will try to test whether the solution for Fx3.6 work well on\n> Fx4.0, if so,we don't want to change any more before CCB's\n> solution releasing, but we can improve or try new\n> solution in the future.\n\nI would very much like to find a solution that doesn't require CCB to install its root CA certificate into Firefox. I believe I know the reason it does this and I think it is relatively easy for us to fix in PSM. Similarly, I know the the UI problems with the token/certificate selection can be improved in PSM too, to avoid the need for the extension that you sent me. In the end, it will reduce the work CCB and other banks need to do to support Firefox.\n\nIt is possible that there is no problem with the PKCS#11 module and/or with the root certificate that the helper package installs. But, it is also possible that the PKCS#11 module and/or the root certificate accidentally interferes with the normal operation of the SSL cryptography and/or certificate trust handling even for non-CCB sites. This is why I want to test out the helper package to see what it does.", "tags": [], "count": 2, "creator": "brian@briansmith.org", "bug_id": 652588, "author": "brian@briansmith.org"}, {"id": 5432807, "raw_text": "http://groups.google.com/group/mozilla.dev.tech.crypto/browse_thread/thread/fb6e52c772b7db42/a19682fe27bc6ddd?#a19682fe27bc6ddd", "creation_time": "2011-04-26T20:07:34Z", "text": "http://groups.google.com/group/mozilla.dev.tech.crypto/browse_thread/thread/fb6e52c772b7db42/a19682fe27bc6ddd?#a19682fe27bc6ddd", "tags": [], "creator": "kaie@kuix.de", "count": 3, "bug_id": 652588, "author": "kaie@kuix.de", "is_private": false, "time": "2011-04-26T20:07:34Z", "attachment_id": null}, {"attachment_id": null, "time": "2011-04-26T20:15:07Z", "is_private": false, "author": "kaie@kuix.de", "bug_id": 652588, "tags": [], "creator": "kaie@kuix.de", "count": 4, "text": "It would be helpful to have a more detailed description of what this bug is trying to solve.\n\nWhich protocols does this site currently use?\n\nIn which way do you want to improve client auth?\nDo you talk about standard SSL client auth, or about something else?", "creation_time": "2011-04-26T20:15:07Z", "raw_text": "It would be helpful to have a more detailed description of what this bug is trying to solve.\n\nWhich protocols does this site currently use?\n\nIn which way do you want to improve client auth?\nDo you talk about standard SSL client auth, or about something else?", "id": 5432829}, {"attachment_id": null, "is_private": false, "time": "2011-04-26T21:54:25Z", "author": "brian@briansmith.org", "text": "This is related to the more general issue that our SSL client auth experience needs multiple improvements: https://bugzilla.mozilla.org/show_bug.cgi?id=511384\n\nKai, it is standard SSL client certificate auth using USB hardware tokens. I will ask Mozilla China to identify the specific improvements that need to be made, and file specific bugs blocking this one, so that this bug would be a tracking bug.", "creation_time": "2011-04-26T21:54:25Z", "raw_text": "This is related to the more general issue that our SSL client auth experience needs multiple improvements: https://bugzilla.mozilla.org/show_bug.cgi?id=511384\n\nKai, it is standard SSL client certificate auth using USB hardware tokens. I will ask Mozilla China to identify the specific improvements that need to be made, and file specific bugs blocking this one, so that this bug would be a tracking bug.", "id": 5433160, "bug_id": 652588, "tags": [], "creator": "brian@briansmith.org", "count": 5}]}}}