{"bugs": {"707691": {"comments": [{"author": "stefano.ceschib@gmail.com", "creator": "stefano.ceschib@gmail.com", "bug_id": 707691, "id": 5892835, "tags": [], "is_private": false, "count": 0, "attachment_id": null, "time": "2011-12-05T16:05:48Z", "text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_2) AppleWebKit/534.52.7 (KHTML, like Gecko) Version/5.1.2 Safari/534.52.7\n\nSteps to reproduce:\n\nI have this scenario:\n\nMarkup: <div id=\"box\">box</div>\n\nCss : \n\n#box{\n    width:200px;\n    height:200px;\n    left:10%;\n    position:absolute;\n    background:red;\n}\n\nand I'm trying to retrieve the left position by javascript in this way:\n\nfunction getStyle(el,styleProp){ //from ppk's quirksmode\n    var x = document.getElementById(el);\n    if (x.currentStyle)\n        var y = x.currentStyle[styleProp];\n    else if (window.getComputedStyle)\n        var y = document.defaultView.getComputedStyle(x,null).getPropertyValue(styleProp);\n    return y;\n}\n\nvar left = getStyle('box','left');\n\n\nActual results:\n\nI get the left value in px (that is obv not constant and depends on the actual window width)\n\n\nExpected results:\n\nI should get (like every other browser) '10%'\n\nThe running test case is here : http://jsfiddle.net/steweb/tUAKA/", "creation_time": "2011-12-05T16:05:48Z", "raw_text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_2) AppleWebKit/534.52.7 (KHTML, like Gecko) Version/5.1.2 Safari/534.52.7\n\nSteps to reproduce:\n\nI have this scenario:\n\nMarkup: <div id=\"box\">box</div>\n\nCss : \n\n#box{\n    width:200px;\n    height:200px;\n    left:10%;\n    position:absolute;\n    background:red;\n}\n\nand I'm trying to retrieve the left position by javascript in this way:\n\nfunction getStyle(el,styleProp){ //from ppk's quirksmode\n    var x = document.getElementById(el);\n    if (x.currentStyle)\n        var y = x.currentStyle[styleProp];\n    else if (window.getComputedStyle)\n        var y = document.defaultView.getComputedStyle(x,null).getPropertyValue(styleProp);\n    return y;\n}\n\nvar left = getStyle('box','left');\n\n\nActual results:\n\nI get the left value in px (that is obv not constant and depends on the actual window width)\n\n\nExpected results:\n\nI should get (like every other browser) '10%'\n\nThe running test case is here : http://jsfiddle.net/steweb/tUAKA/"}, {"bug_id": 707691, "id": 5893874, "tags": [], "is_private": false, "count": 1, "time": "2011-12-06T02:08:20Z", "attachment_id": 579181, "text": "Created attachment 579181\ntestcase\n\n> I should get (like every other browser) '10%'\nWell, I get \"102px\" in Opera 11.5", "creation_time": "2011-12-06T02:08:20Z", "raw_text": "> I should get (like every other browser) '10%'\nWell, I get \"102px\" in Opera 11.5", "author": "moz@jeka.info", "creator": "moz@jeka.info"}, {"text": "The spec for this is still in flux.  Once it looks like it may be stabilizing, we'll align to it wholesale.\n\nNote that per spec the correct answer here used to be a pixel length, which is what we implement at the moment.  But as I said, the spec has been changing.", "time": "2011-12-06T02:19:31Z", "attachment_id": null, "raw_text": "The spec for this is still in flux.  Once it looks like it may be stabilizing, we'll align to it wholesale.\n\nNote that per spec the correct answer here used to be a pixel length, which is what we implement at the moment.  But as I said, the spec has been changing.", "creation_time": "2011-12-06T02:19:31Z", "bug_id": 707691, "tags": [], "is_private": false, "count": 2, "id": 5893886, "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"text": "The \"resolved value\" of \"left\" is the \"computed value\"\nhttp://dev.w3.org/csswg/cssom/#resolved-value\n\nThe computed value of \"left\" is:\nif specified as a \u2018<percentage>\u2019, the specified value;\nhttp://dev.w3.org/csswg/css3-positioning/#box-offsets-trbl", "time": "2011-12-06T02:33:40Z", "attachment_id": null, "raw_text": "The \"resolved value\" of \"left\" is the \"computed value\"\nhttp://dev.w3.org/csswg/cssom/#resolved-value\n\nThe computed value of \"left\" is:\nif specified as a \u2018<percentage>\u2019, the specified value;\nhttp://dev.w3.org/csswg/css3-positioning/#box-offsets-trbl", "creation_time": "2011-12-06T02:33:40Z", "bug_id": 707691, "is_private": false, "count": 3, "tags": [], "id": 5893902, "creator": "moz@jeka.info", "author": "moz@jeka.info"}, {"count": 4, "is_private": false, "tags": [], "id": 5893913, "bug_id": 707691, "raw_text": "Yes, I know what the current CSSOM drafts say.  For this particular property it's different than what the combination of DOM2 CSS and CSS2 used to say, as comment 2 notes.", "creation_time": "2011-12-06T02:39:52Z", "text": "Yes, I know what the current CSSOM drafts say.  For this particular property it's different than what the combination of DOM2 CSS and CSS2 used to say, as comment 2 notes.", "time": "2011-12-06T02:39:52Z", "attachment_id": null, "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"bug_id": 707691, "tags": [], "count": 5, "is_private": false, "id": 5894426, "text": "(In reply to j.j. from comment #1)\n> Created attachment 579181 [details]\n> testcase\n> \n> > I should get (like every other browser) '10%'\n> Well, I get \"102px\" in Opera 11.5\n\nSorry, I had to specify.. on every other browser on mac osx (opera 11.5 included => http://i39.tinypic.com/2z6847n.png) \n\nOn linux (Opera 11.5) I get value in pixel.. it's weird.. and on firefox 7 (on winXP) I get the %..\n\nThis is happening because of the spec still in flux? So, there's no way atm to retrieve % value on firefox (without parsing the css stylesheet) ?", "time": "2011-12-06T10:32:40Z", "attachment_id": null, "creation_time": "2011-12-06T10:32:40Z", "raw_text": "(In reply to j.j. from comment #1)\n> Created attachment 579181 [details]\n> testcase\n> \n> > I should get (like every other browser) '10%'\n> Well, I get \"102px\" in Opera 11.5\n\nSorry, I had to specify.. on every other browser on mac osx (opera 11.5 included => http://i39.tinypic.com/2z6847n.png) \n\nOn linux (Opera 11.5) I get value in pixel.. it's weird.. and on firefox 7 (on winXP) I get the %..\n\nThis is happening because of the spec still in flux? So, there's no way atm to retrieve % value on firefox (without parsing the css stylesheet) ?", "creator": "stefano.ceschib@gmail.com", "author": "stefano.ceschib@gmail.com"}, {"raw_text": "> and on firefox 7 (on winXP) I get the %..\n\nThat's .... quite odd.  Shouldn't happen.\n\n> So, there's no way atm to retrieve % value on firefox (without parsing the css\n> stylesheet) ?\n\nAt the moment, no.", "creation_time": "2011-12-06T19:04:26Z", "time": "2011-12-06T19:04:26Z", "attachment_id": null, "text": "> and on firefox 7 (on winXP) I get the %..\n\nThat's .... quite odd.  Shouldn't happen.\n\n> So, there's no way atm to retrieve % value on firefox (without parsing the css\n> stylesheet) ?\n\nAt the moment, no.", "id": 5895077, "tags": [], "count": 6, "is_private": false, "bug_id": 707691, "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu"}, {"bug_id": 707691, "count": 7, "is_private": false, "tags": [], "id": 5895146, "text": "You should get a % if the element is display:none or inside something that's display:none.  Perhaps there's a timing issue causing that to be the case some of the time?", "time": "2011-12-06T19:22:54Z", "attachment_id": null, "creation_time": "2011-12-06T19:22:54Z", "raw_text": "You should get a % if the element is display:none or inside something that's display:none.  Perhaps there's a timing issue causing that to be the case some of the time?", "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org"}, {"author": "stefano.ceschib@gmail.com", "time": "2011-12-06T20:51:32Z", "attachment_id": null, "text": "(In reply to David Baron [:dbaron] from comment #7)\n> You should get a % if the element is display:none or inside something that's\n> display:none.  Perhaps there's a timing issue causing that to be the case\n> some of the time?\n\nThat works! Perfect, thanks.. btw, it's not clear why the behav is different depending on the OS (same browser/version).. Timinng issue, could it be something related to when the 'domready' is called ?", "creator": "stefano.ceschib@gmail.com", "creation_time": "2011-12-06T20:51:32Z", "raw_text": "(In reply to David Baron [:dbaron] from comment #7)\n> You should get a % if the element is display:none or inside something that's\n> display:none.  Perhaps there's a timing issue causing that to be the case\n> some of the time?\n\nThat works! Perfect, thanks.. btw, it's not clear why the behav is different depending on the OS (same browser/version).. Timinng issue, could it be something related to when the 'domready' is called ?", "bug_id": 707691, "id": 5895431, "tags": [], "count": 8, "is_private": false}, {"bug_id": 707691, "id": 5895443, "is_private": false, "count": 9, "tags": [], "attachment_id": null, "time": "2011-12-06T20:59:11Z", "text": "(In reply to Boris Zbarsky (:bz) from comment #6)\n> > and on firefox 7 (on winXP) I get the %..\n> \n> That's .... quite odd.  Shouldn't happen.\n> \nYea that's really odd.. it also happens on opera (11.5 mac os/ubuntu, different behav).\n\n> > So, there's no way atm to retrieve % value on firefox (without parsing the css\n> > stylesheet) ?\n> \n> At the moment, no.\n\nLike David said, setting display:none solves the problem", "creation_time": "2011-12-06T20:59:11Z", "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #6)\n> > and on firefox 7 (on winXP) I get the %..\n> \n> That's .... quite odd.  Shouldn't happen.\n> \nYea that's really odd.. it also happens on opera (11.5 mac os/ubuntu, different behav).\n\n> > So, there's no way atm to retrieve % value on firefox (without parsing the css\n> > stylesheet) ?\n> \n> At the moment, no.\n\nLike David said, setting display:none solves the problem", "author": "stefano.ceschib@gmail.com", "creator": "stefano.ceschib@gmail.com"}, {"raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "creation_time": "2018-06-29T04:48:39Z", "attachment_id": null, "time": "2018-06-29T04:48:39Z", "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "id": 13435893, "is_private": false, "count": 10, "tags": [], "bug_id": 707691, "author": "bug-husbandry-bot@mozilla.bugs", "creator": "bug-husbandry-bot@mozilla.bugs"}]}}, "comments": {}}