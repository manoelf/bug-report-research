{"comments": {}, "bugs": {"680843": {"comments": [{"raw_text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:6.0) Gecko/20100101 Firefox/6.0\nBuild ID: 20110816220025\n\nSteps to reproduce:\n\nI m trying XULRunner 6 and I don't manage to get javascript errors (syntax, exceptions, etc) reported in the console/jsconsole.\n\nMy profile preferences are :\npref(\"browser.dom.window.dump.enabled\", true);\npref(\"devtools.chrome.enabled\", true);\npref(\"devtools.errorconsole.enabled\", true);\npref(\"dom.report_all_js_exceptions\", true\");\npref(\"extensions.logging.enabled\", true);\npref(\"javascript.options.showInConsole\", true);\npref(\"javascript.options.strict\", true);\npref(\"nglayout.debug.disable_xul_cache\", true);\npref(\"nglayout.debug.disable_xul_fastload\", true);\n\nwindow.dump() works well, as does Components.interfaces.nsIConsoleService interface.\nBut Components.utils.reportError() does not work and JS syntax errors are not reported either. \n\n\nMy test sample is as shortest as possible : a single empty window and a loaded JS script file. I tried both i686 & x86_64 linux runtimes (Fedora 15), and Windows runtime (Windows 7).\n\nHere is the sample :\n\n<?xml version=\"1.0\"?>\n<?xml-stylesheet href=\"chrome://global/skin/\" type=\"text/css\"?>\n\n<window xmlns=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\" title=\"foo\">\n<script type=\"application/javascript\" src=\"window-main.js\"/>\n<button label=\"click\" oncommand=\"foo('click');\"/>\n</window>\n\nthe window-main.js contents is :\nfunction foo(str)\n{\n    window.dump(str);\n    Components.utils.reportError('error : ' + str);\n    Components.classes['@mozilla.org/consoleservice;1']\n            .getService(Components.interfaces.nsIConsoleService)\n            .logStringMessage(('nsiconsoleservice : ' + str);\n}\nfoo('startup');\n\nThe logged messages in the console (same for the jsconsole) comes from window.dump() and nsiconsoleservice, but not from the reportError() function. \n\n\nActual results:\n\nNo JS syntax errors are reported, Components.utils.reportError() does not work\n\n\nExpected results:\n\nJS syntax errors and warnings should be displayed in the jsconsole, error-level message from Components.utils.reportError() should be displayed in the jsconsole.", "attachment_id": null, "time": "2011-08-22T07:45:54Z", "tags": [], "text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:6.0) Gecko/20100101 Firefox/6.0\nBuild ID: 20110816220025\n\nSteps to reproduce:\n\nI m trying XULRunner 6 and I don't manage to get javascript errors (syntax, exceptions, etc) reported in the console/jsconsole.\n\nMy profile preferences are :\npref(\"browser.dom.window.dump.enabled\", true);\npref(\"devtools.chrome.enabled\", true);\npref(\"devtools.errorconsole.enabled\", true);\npref(\"dom.report_all_js_exceptions\", true\");\npref(\"extensions.logging.enabled\", true);\npref(\"javascript.options.showInConsole\", true);\npref(\"javascript.options.strict\", true);\npref(\"nglayout.debug.disable_xul_cache\", true);\npref(\"nglayout.debug.disable_xul_fastload\", true);\n\nwindow.dump() works well, as does Components.interfaces.nsIConsoleService interface.\nBut Components.utils.reportError() does not work and JS syntax errors are not reported either. \n\n\nMy test sample is as shortest as possible : a single empty window and a loaded JS script file. I tried both i686 & x86_64 linux runtimes (Fedora 15), and Windows runtime (Windows 7).\n\nHere is the sample :\n\n<?xml version=\"1.0\"?>\n<?xml-stylesheet href=\"chrome://global/skin/\" type=\"text/css\"?>\n\n<window xmlns=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\" title=\"foo\">\n<script type=\"application/javascript\" src=\"window-main.js\"/>\n<button label=\"click\" oncommand=\"foo('click');\"/>\n</window>\n\nthe window-main.js contents is :\nfunction foo(str)\n{\n    window.dump(str);\n    Components.utils.reportError('error : ' + str);\n    Components.classes['@mozilla.org/consoleservice;1']\n            .getService(Components.interfaces.nsIConsoleService)\n            .logStringMessage(('nsiconsoleservice : ' + str);\n}\nfoo('startup');\n\nThe logged messages in the console (same for the jsconsole) comes from window.dump() and nsiconsoleservice, but not from the reportError() function. \n\n\nActual results:\n\nNo JS syntax errors are reported, Components.utils.reportError() does not work\n\n\nExpected results:\n\nJS syntax errors and warnings should be displayed in the jsconsole, error-level message from Components.utils.reportError() should be displayed in the jsconsole.", "count": 0, "author": "axel.azerty@laposte.net", "creator": "axel.azerty@laposte.net", "is_private": false, "creation_time": "2011-08-22T07:45:54Z", "id": 5668715, "bug_id": 680843}, {"author": "axel.azerty@laposte.net", "count": 1, "text": "Created attachment 554798\ntest sample\n\nA simple XUL app to test with ~/xulrunner-6.0/xulrunner application.ini -purgecaches -jsconsole", "id": 5668721, "bug_id": 680843, "raw_text": "A simple XUL app to test with ~/xulrunner-6.0/xulrunner application.ini -purgecaches -jsconsole", "time": "2011-08-22T07:50:37Z", "creator": "axel.azerty@laposte.net", "creation_time": "2011-08-22T07:50:37Z", "is_private": false, "attachment_id": 554798, "tags": []}, {"attachment_id": null, "tags": [], "creator": "axel.azerty@laposte.net", "creation_time": "2011-11-04T11:15:53Z", "is_private": false, "time": "2011-11-04T11:15:53Z", "raw_text": "Though there is a typo in the previous message,two \"(\" after logStringMessage, the problem still occurs.", "count": 2, "text": "Though there is a typo in the previous message,two \"(\" after logStringMessage, the problem still occurs.", "author": "axel.azerty@laposte.net", "id": 5826092, "bug_id": 680843}]}}}