{"bugs": {"636081": {"comments": [{"id": 5297803, "time": "2011-02-23T04:52:05Z", "author": "karlt@mozbugz.karlt.net", "count": 0, "is_private": false, "text": "Since http://hg.mozilla.org/mozilla-central/rev/9521cf441d3a,\n(and http://hg.mozilla.org/mozilla-central/rev/e1d2e090c9a6),\nNS_RUNTIMEABORT appends the error string to crash report App Notes in\nlibxul-builds/apps.  As we've already added the string, it ends up repeated,\nand we get app notes such as\n\n \"X_CloseDevice: XI_BadDevice (invalid Device parameter); 9 requests agoxpcom_runtime_abort(###!!! ABORT: X_CloseDevice: XI_BadDevice (invalid Device parameter); 9 requests ago: file /builds/slave/cen-lnx64-ntly/build/toolkit/xre/nsX11ErrorHandler.cpp, line 190)\"", "bug_id": 636081, "raw_text": "Since http://hg.mozilla.org/mozilla-central/rev/9521cf441d3a,\n(and http://hg.mozilla.org/mozilla-central/rev/e1d2e090c9a6),\nNS_RUNTIMEABORT appends the error string to crash report App Notes in\nlibxul-builds/apps.  As we've already added the string, it ends up repeated,\nand we get app notes such as\n\n \"X_CloseDevice: XI_BadDevice (invalid Device parameter); 9 requests agoxpcom_runtime_abort(###!!! ABORT: X_CloseDevice: XI_BadDevice (invalid Device parameter); 9 requests ago: file /builds/slave/cen-lnx64-ntly/build/toolkit/xre/nsX11ErrorHandler.cpp, line 190)\"", "creator": "karlt@mozbugz.karlt.net", "tags": [], "creation_time": "2011-02-23T04:52:05Z", "attachment_id": null}, {"creator": "cjones.bugs@gmail.com", "raw_text": "Oops!  Unless there are existing tools that break when trying to parse the error string inside of the \"xpcom_runtime_abort()\", the simplest fix would be to switch the RUNTIMEABORT() in nsX11ErrorHandler to a direct mozalloc_abort().", "text": "Oops!  Unless there are existing tools that break when trying to parse the error string inside of the \"xpcom_runtime_abort()\", the simplest fix would be to switch the RUNTIMEABORT() in nsX11ErrorHandler to a direct mozalloc_abort().", "count": 1, "time": "2011-02-23T04:56:22Z", "attachment_id": null, "tags": [], "creation_time": "2011-02-23T04:56:22Z", "bug_id": 636081, "author": "cjones.bugs@gmail.com", "is_private": false, "id": 5297804}, {"attachment_id": 514416, "tags": [], "creation_time": "2011-02-23T04:58:09Z", "bug_id": 636081, "author": "karlt@mozbugz.karlt.net", "is_private": false, "id": 5297806, "creator": "karlt@mozbugz.karlt.net", "raw_text": "", "text": "Created attachment 514416\n't add X11 error app notes when they will be added during NS_RUNTIMEABORT", "count": 2, "time": "2011-02-23T04:58:09Z"}, {"author": "karlt@mozbugz.karlt.net", "time": "2011-02-23T05:08:44Z", "count": 3, "is_private": false, "id": 5297816, "raw_text": "cjones pointed out that NS_RUNTIMEABORT doesn't handle forwarding from plugin processes, so this (on its own, at least) is not good.", "creator": "karlt@mozbugz.karlt.net", "tags": [], "creation_time": "2011-02-23T05:08:44Z", "attachment_id": 514416, "text": "Comment on attachment 514416\n't add X11 error app notes when they will be added during NS_RUNTIMEABORT\n\ncjones pointed out that NS_RUNTIMEABORT doesn't handle forwarding from plugin processes, so this (on its own, at least) is not good.", "bug_id": 636081}, {"count": 4, "time": "2011-02-23T05:15:52Z", "text": "Need bug 581341 for that.", "creator": "cjones.bugs@gmail.com", "raw_text": "Need bug 581341 for that.", "id": 5297821, "is_private": false, "author": "cjones.bugs@gmail.com", "bug_id": 636081, "attachment_id": null, "creation_time": "2011-02-23T05:15:52Z", "tags": []}, {"creator": "karlt@mozbugz.karlt.net", "raw_text": "As suggested by cjones in comment 1.\nThis also happens to workaround the double message output of NS_DebugBreak and in debug builds the double stack dump.\nIt loses the \"###!!! ABORT\", but I'm not too worried about that.", "attachment_id": 516784, "creation_time": "2011-03-04T03:25:45Z", "tags": [], "text": "Created attachment 516784\ncall mozalloc_abort directly to skip NS_RUNTIMEABORT adding X11 error app notes again\n\nAs suggested by cjones in comment 1.\nThis also happens to workaround the double message output of NS_DebugBreak and in debug builds the double stack dump.\nIt loses the \"###!!! ABORT\", but I'm not too worried about that.", "bug_id": 636081, "count": 5, "author": "karlt@mozbugz.karlt.net", "time": "2011-03-04T03:25:45Z", "is_private": false, "id": 5320836}, {"count": 6, "time": "2011-03-24T10:07:41Z", "creator": "karlt@mozbugz.karlt.net", "raw_text": "Some platforms (maemo, linux64 opt + debug) need the header explicitly included now.", "text": "Created attachment 521449\nupdated patch\n\nSome platforms (maemo, linux64 opt + debug) need the header explicitly included now.", "author": "karlt@mozbugz.karlt.net", "is_private": false, "id": 5365357, "attachment_id": 521449, "creation_time": "2011-03-24T10:07:41Z", "tags": [], "bug_id": 636081}, {"creator": "karlt@mozbugz.karlt.net", "raw_text": "Bug 581341 is making progress and, with that fixed, it would make sense to use NS_RUNTIMEABORT and fix the problems with NS_DebugBreak for all clients.", "text": "Bug 581341 is making progress and, with that fixed, it would make sense to use NS_RUNTIMEABORT and fix the problems with NS_DebugBreak for all clients.", "count": 7, "time": "2011-03-27T23:53:55Z", "attachment_id": null, "tags": [], "creation_time": "2011-03-27T23:53:55Z", "bug_id": 636081, "author": "karlt@mozbugz.karlt.net", "is_private": false, "id": 5373288}]}}, "comments": {}}