{"comments": {}, "bugs": {"641601": {"comments": [{"count": 0, "text": "From bug 616426 comment 17:\n\nI think it might make sense to annotate the crashdump if there's a situation\nwhere zero fonts are found.  Seems like we're guessing at the root cause here. \nIf the root cause really was no fonts in the directory it would be pretty easy\nto figure that out.  Other scenarios are possible here, all the fonts failed to\nload, none of the files had extensions '.ttf', yadda, yadda.\n\nI would suggest tracking the data below.  If the total fonts loaded is 0, then\nannotate the crashdump with that info:\n\n- whether the $root/system dir was found\n- how many files were found\n- how many .ttf files were found\n- how many fonts failed to load\n\nThis way, if the crash still does occur at least we'll have a better idea as to\nwhich scenario is causing the crash.  Kinda sucky that manufacturers can hack\nthe Skia code to load fonts from random places.\n\n---\n\nNote, this can't happen in the child process until bug 581341 is fixed.", "author": "josh@joshmatthews.net", "time": "2011-03-14T19:11:25Z", "id": 5343926, "raw_text": "From bug 616426 comment 17:\n\nI think it might make sense to annotate the crashdump if there's a situation\nwhere zero fonts are found.  Seems like we're guessing at the root cause here. \nIf the root cause really was no fonts in the directory it would be pretty easy\nto figure that out.  Other scenarios are possible here, all the fonts failed to\nload, none of the files had extensions '.ttf', yadda, yadda.\n\nI would suggest tracking the data below.  If the total fonts loaded is 0, then\nannotate the crashdump with that info:\n\n- whether the $root/system dir was found\n- how many files were found\n- how many .ttf files were found\n- how many fonts failed to load\n\nThis way, if the crash still does occur at least we'll have a better idea as to\nwhich scenario is causing the crash.  Kinda sucky that manufacturers can hack\nthe Skia code to load fonts from random places.\n\n---\n\nNote, this can't happen in the child process until bug 581341 is fixed.", "creation_time": "2011-03-14T19:11:25Z", "bug_id": 641601, "creator": "josh@joshmatthews.net", "tags": [], "is_private": false, "attachment_id": null}]}}}