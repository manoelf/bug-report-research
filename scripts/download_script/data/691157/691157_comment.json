{"bugs": {"691157": {"comments": [{"id": 5752791, "count": 0, "is_private": false, "time": "2011-10-02T15:33:27Z", "creation_time": "2011-10-02T15:33:27Z", "creator": "fo@gazeta.pl", "author": "fo@gazeta.pl", "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\nBuild ID: 20110928134238\n\nSteps to reproduce:\n\nCreated few input text fields, setted the size attribute and font-size through CSS to 11px, then changed font-size to 12px. Updated the Firefox 6 to version 7 and then did the same and rechecked the effect.\n\n\nActual results:\n\nAfter updating from FF6 to FF7 the input text field width is rendered differently. When changing the font-size from 11px to 12px the field width is different. Narrower when input fields have 12px font size and wider when input text fields have 11px font size.\n\n\nExpected results:\n\nWhy fields are rendered wider when the font size is smaller?\n\nSoftware should not change the width of input text fields basing on font-size, because when it does it then we have a situation when size attribute becomes useless. What's the point using size attribute when browser forces user to set width through CSS.\n\nVisualisation of the problem: http://jsfiddle.net/GzcFb/2/ \n\nCheck how the field width's are rendered (in FF6 and FF7) when they have different font sizes - there shouldnt be so much difference in width of input text field.\n\nAs for me - Im using the size attribute mainly to set the width of the fields I know that the spec is defining that the size attribute is for limiting the visibility of characters entered by end user but... why use it when there is so much difference and webdeveloper is forced to set extra class on every single input field - when developing sites which have forms with 50+ fields and the width of fields needs to be different (few need to have 100px width, other 140px, 120px etc. etc.) then using size attribute is the best way to manage the width of fields - but now seems to be broken (difference between major browsers with setted size attribute is more than 1% as it was on FF6).", "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\nBuild ID: 20110928134238\n\nSteps to reproduce:\n\nCreated few input text fields, setted the size attribute and font-size through CSS to 11px, then changed font-size to 12px. Updated the Firefox 6 to version 7 and then did the same and rechecked the effect.\n\n\nActual results:\n\nAfter updating from FF6 to FF7 the input text field width is rendered differently. When changing the font-size from 11px to 12px the field width is different. Narrower when input fields have 12px font size and wider when input text fields have 11px font size.\n\n\nExpected results:\n\nWhy fields are rendered wider when the font size is smaller?\n\nSoftware should not change the width of input text fields basing on font-size, because when it does it then we have a situation when size attribute becomes useless. What's the point using size attribute when browser forces user to set width through CSS.\n\nVisualisation of the problem: http://jsfiddle.net/GzcFb/2/ \n\nCheck how the field width's are rendered (in FF6 and FF7) when they have different font sizes - there shouldnt be so much difference in width of input text field.\n\nAs for me - Im using the size attribute mainly to set the width of the fields I know that the spec is defining that the size attribute is for limiting the visibility of characters entered by end user but... why use it when there is so much difference and webdeveloper is forced to set extra class on every single input field - when developing sites which have forms with 50+ fields and the width of fields needs to be different (few need to have 100px width, other 140px, 120px etc. etc.) then using size attribute is the best way to manage the width of fields - but now seems to be broken (difference between major browsers with setted size attribute is more than 1% as it was on FF6).", "bug_id": 691157, "tags": []}, {"author": "alice0775@gmail.com", "time": "2011-10-02T16:08:03Z", "creation_time": "2011-10-02T16:08:03Z", "creator": "alice0775@gmail.com", "id": 5752821, "count": 1, "is_private": false, "bug_id": 691157, "text": "Confirmed on Firefox7.0.1 to Nightly9.0a1\n\nRegression window(cached m-c hourly),\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/09aa6c7e5867\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a1) Gecko/20110602 Firefox/7.0a1 ID:20110602165615\nFails:\nhttp://hg.mozilla.org/mozilla-central/rev/8a133638f5b6\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a1) Gecko/20110602 Firefox/7.0a1 ID:20110602225429\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=09aa6c7e5867&tochange=8a133638f5b6\nTriggered by:\nBug 661471 - Create preference(s) to allow specific font families to be forced to use GDI Classic rendering \n\nIt works as expected if I set gfx.font_rendering.cleartype_params.force_gdi_classic_max_size =0.", "tags": [], "raw_text": "Confirmed on Firefox7.0.1 to Nightly9.0a1\n\nRegression window(cached m-c hourly),\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/09aa6c7e5867\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a1) Gecko/20110602 Firefox/7.0a1 ID:20110602165615\nFails:\nhttp://hg.mozilla.org/mozilla-central/rev/8a133638f5b6\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0a1) Gecko/20110602 Firefox/7.0a1 ID:20110602225429\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=09aa6c7e5867&tochange=8a133638f5b6\nTriggered by:\nBug 661471 - Create preference(s) to allow specific font families to be forced to use GDI Classic rendering \n\nIt works as expected if I set gfx.font_rendering.cleartype_params.force_gdi_classic_max_size =0.", "attachment_id": null}, {"creation_time": "2011-10-02T20:16:40Z", "time": "2011-10-02T20:16:40Z", "creator": "moz@jeka.info", "author": "moz@jeka.info", "id": 5753011, "count": 2, "is_private": false, "bug_id": 691157, "text": "Created attachment 564077\nReporter's testcase\n\nThat's not XHTML, removing keyword", "tags": [], "attachment_id": 564077, "raw_text": "That's not XHTML, removing keyword"}, {"attachment_id": null, "raw_text": "I assume that we're setting the size correctly, it's just that as the font size crosses 12px we switch from classic to DWrite font rendering, which gives you different metrics.\n\n> Software should not change the width of input text fields basing on font-size,\n\nSure it should, because \"size\" is multiplied by the character width, which depends on the font-size.", "tags": [], "text": "I assume that we're setting the size correctly, it's just that as the font size crosses 12px we switch from classic to DWrite font rendering, which gives you different metrics.\n\n> Software should not change the width of input text fields basing on font-size,\n\nSure it should, because \"size\" is multiplied by the character width, which depends on the font-size.", "bug_id": 691157, "id": 5753092, "count": 3, "is_private": false, "time": "2011-10-02T21:29:54Z", "creation_time": "2011-10-02T21:29:54Z", "creator": "roc@ocallahan.org", "author": "roc@ocallahan.org"}, {"author": "fo@gazeta.pl", "creator": "fo@gazeta.pl", "creation_time": "2011-10-04T10:59:27Z", "time": "2011-10-04T10:59:27Z", "is_private": false, "id": 5756937, "count": 4, "tags": [], "text": "(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #3)\n> I assume that we're setting the size correctly, it's just that as the font\n> size crosses 12px we switch from classic to DWrite font rendering, which\n> gives you different metrics.\n\nThere is something weird when the font-size is 11px: seems to force wider text boxes then 10px, 12px or 13px. It is indeed metrics problem.", "bug_id": 691157, "raw_text": "(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #3)\n> I assume that we're setting the size correctly, it's just that as the font\n> size crosses 12px we switch from classic to DWrite font rendering, which\n> gives you different metrics.\n\nThere is something weird when the font-size is 11px: seems to force wider text boxes then 10px, 12px or 13px. It is indeed metrics problem.", "attachment_id": null}, {"tags": [], "bug_id": 691157, "text": "11px is wider than 10px because the font-size is bigger. It's probably narrower than 12px or 13px because fonts >= 12px are rendered using DirectWrite instead of GDI Classic (on your system; seems like you're zoomed in a little bit), which renders slightly narrower.", "attachment_id": null, "raw_text": "11px is wider than 10px because the font-size is bigger. It's probably narrower than 12px or 13px because fonts >= 12px are rendered using DirectWrite instead of GDI Classic (on your system; seems like you're zoomed in a little bit), which renders slightly narrower.", "creation_time": "2011-10-04T22:54:00Z", "time": "2011-10-04T22:54:00Z", "creator": "roc@ocallahan.org", "author": "roc@ocallahan.org", "count": 5, "id": 5758959, "is_private": false}, {"creator": "fo@gazeta.pl", "creation_time": "2011-10-05T20:44:03Z", "time": "2011-10-05T20:44:03Z", "author": "fo@gazeta.pl", "tags": [], "bug_id": 691157, "text": "Im 100% not zooming anything.", "attachment_id": null, "is_private": false, "count": 6, "id": 5761478, "raw_text": "Im 100% not zooming anything."}, {"attachment_id": null, "raw_text": "", "tags": [], "text": "*** Bug 681613 has been marked as a duplicate of this bug. ***", "bug_id": 691157, "count": 7, "id": 5766379, "is_private": false, "time": "2011-10-07T14:10:07Z", "creation_time": "2011-10-07T14:10:07Z", "creator": "polidobj@yahoo.com", "author": "polidobj@yahoo.com"}, {"raw_text": "For me this is a bug of new version 7, because, what nobody explain is: Why just this version 7 changed the format of showing input texts...? And why, others browsers this not happend...", "attachment_id": null, "bug_id": 691157, "text": "For me this is a bug of new version 7, because, what nobody explain is: Why just this version 7 changed the format of showing input texts...? And why, others browsers this not happend...", "tags": [], "count": 8, "id": 5823654, "is_private": false, "author": "walterferreirasantos@hotmail.com", "time": "2011-11-03T15:43:02Z", "creation_time": "2011-11-03T15:43:02Z", "creator": "walterferreirasantos@hotmail.com"}, {"tags": [], "text": "(In reply to Walter Santos from comment #8)\n> Why just this version 7 changed the format of showing input texts...?\nBecause bug 661471 landed there. It is in the \"Blocks:\" field here on top.\nIt's not about input text, it's about any text. More info in that bug.\n\n(Seems Opera behaves similar)", "bug_id": 691157, "raw_text": "(In reply to Walter Santos from comment #8)\n> Why just this version 7 changed the format of showing input texts...?\nBecause bug 661471 landed there. It is in the \"Blocks:\" field here on top.\nIt's not about input text, it's about any text. More info in that bug.\n\n(Seems Opera behaves similar)", "attachment_id": null, "author": "moz@jeka.info", "creator": "moz@jeka.info", "creation_time": "2011-11-03T19:34:33Z", "time": "2011-11-03T19:34:33Z", "is_private": false, "count": 9, "id": 5824423}, {"author": "moz@jeka.info", "creator": "moz@jeka.info", "time": "2011-11-03T19:35:29Z", "creation_time": "2011-11-03T19:35:29Z", "is_private": false, "count": 10, "id": 5824427, "text": "Created attachment 571742\ntestcase", "bug_id": 691157, "tags": [], "raw_text": "", "attachment_id": 571742}, {"raw_text": "(In reply to j.j. from comment #9)\n> (In reply to Walter Santos from comment #8)\n> > Why just this version 7 changed the format of showing input texts...?\n> Because bug 661471 landed there. It is in the \"Blocks:\" field here on top.\n> It's not about input text, it's about any text. More info in that bug.\n> \n> (Seems Opera behaves similar)\nThanks for your reply. Do you have any plans to fix this ...?", "attachment_id": null, "bug_id": 691157, "text": "(In reply to j.j. from comment #9)\n> (In reply to Walter Santos from comment #8)\n> > Why just this version 7 changed the format of showing input texts...?\n> Because bug 661471 landed there. It is in the \"Blocks:\" field here on top.\n> It's not about input text, it's about any text. More info in that bug.\n> \n> (Seems Opera behaves similar)\nThanks for your reply. Do you have any plans to fix this ...?", "tags": [], "is_private": false, "count": 11, "id": 5825983, "author": "walterferreirasantos@hotmail.com", "creator": "walterferreirasantos@hotmail.com", "time": "2011-11-04T09:57:30Z", "creation_time": "2011-11-04T09:57:30Z"}]}}, "comments": {}}