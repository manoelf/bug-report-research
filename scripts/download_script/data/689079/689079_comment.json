{"comments": {}, "bugs": {"689079": {"comments": [{"count": 0, "id": 5736323, "is_private": false, "author": "tetsuharu.ohzeki@gmail.com", "creation_time": "2011-09-26T02:32:45Z", "time": "2011-09-26T02:32:45Z", "creator": "tetsuharu.ohzeki@gmail.com", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110925 Firefox/9.0a1\nBuild ID: 20110925030856\n\nSteps to reproduce:\n\nnavigation toolbar's height is increases +1px on SSL page.\nThis bug occurs after bug 684450 is fixed.\n\n\nActual results:\n\n1. visit non-SSL page.\n2. visit SSL page.", "attachment_id": 562344, "tags": [], "text": "Created attachment 562344\nscreenshot\n\nUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110925 Firefox/9.0a1\nBuild ID: 20110925030856\n\nSteps to reproduce:\n\nnavigation toolbar's height is increases +1px on SSL page.\nThis bug occurs after bug 684450 is fixed.\n\n\nActual results:\n\n1. visit non-SSL page.\n2. visit SSL page.", "bug_id": 689079}, {"attachment_id": null, "raw_text": "This bug is occurring on Firefox Nightly (Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110925 Firefox/9.0a1) and hardware acceleration is enabled.", "bug_id": 689079, "text": "This bug is occurring on Firefox Nightly (Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110925 Firefox/9.0a1) and hardware acceleration is enabled.", "tags": [], "is_private": false, "count": 1, "id": 5736324, "creator": "tetsuharu.ohzeki@gmail.com", "time": "2011-09-26T02:39:41Z", "creation_time": "2011-09-26T02:39:41Z", "author": "tetsuharu.ohzeki@gmail.com"}, {"time": "2011-09-26T08:45:59Z", "creation_time": "2011-09-26T08:45:59Z", "creator": "terepin64@gmail.com", "tags": [], "bug_id": 689079, "text": "WFM.", "author": "terepin64@gmail.com", "count": 2, "id": 5736547, "attachment_id": null, "is_private": false, "raw_text": "WFM."}, {"raw_text": "(In reply to Peter Henkel [:Terepin] from comment #2)\n> WFM.\n\nI am not seeing this either.", "attachment_id": null, "tags": [], "text": "(In reply to Peter Henkel [:Terepin] from comment #2)\n> WFM.\n\nI am not seeing this either.", "bug_id": 689079, "id": 5737681, "count": 3, "is_private": false, "author": "stephen@noved.org", "creation_time": "2011-09-26T19:02:09Z", "time": "2011-09-26T19:02:09Z", "creator": "stephen@noved.org"}, {"id": 5737904, "count": 4, "is_private": false, "author": "margaret.leibovic@gmail.com", "time": "2011-09-26T20:16:46Z", "creation_time": "2011-09-26T20:16:46Z", "creator": "margaret.leibovic@gmail.com", "raw_text": "(In reply to saneyuki_s from comment #1)\n> This bug is occurring on Firefox Nightly (Mozilla/5.0 (Windows NT 6.1;\n> WOW64; rv:9.0a1) Gecko/20110925 Firefox/9.0a1) and hardware acceleration is\n> enabled.\n\nDo you have any add-ons installed that modify your toolbar?", "attachment_id": null, "bug_id": 689079, "text": "(In reply to saneyuki_s from comment #1)\n> This bug is occurring on Firefox Nightly (Mozilla/5.0 (Windows NT 6.1;\n> WOW64; rv:9.0a1) Gecko/20110925 Firefox/9.0a1) and hardware acceleration is\n> enabled.\n\nDo you have any add-ons installed that modify your toolbar?", "tags": []}, {"count": 5, "id": 5738331, "is_private": false, "time": "2011-09-26T22:21:33Z", "creation_time": "2011-09-26T22:21:33Z", "creator": "tetsuharu.ohzeki@gmail.com", "author": "tetsuharu.ohzeki@gmail.com", "attachment_id": null, "raw_text": "(In reply to Margaret Leibovic [:margaret] from comment #4)\n> Do you have any add-ons installed that modify your toolbar?\n\nNo. New & clean profile reproduces this bug.", "tags": [], "bug_id": 689079, "text": "(In reply to Margaret Leibovic [:margaret] from comment #4)\n> Do you have any add-ons installed that modify your toolbar?\n\nNo. New & clean profile reproduces this bug."}, {"bug_id": 689079, "text": "Mozilla/5.0 (Windows NT 6.1; rv:10.0a1) Gecko/20111001 Firefox/10.0a1 ID:20111001030845\n\nhttp://forums.mozillazine.org/viewtopic.php?p=11314439#p11314439\n\nOS (Japanese version)/Japanese Font issue ?", "tags": [], "attachment_id": null, "raw_text": "Mozilla/5.0 (Windows NT 6.1; rv:10.0a1) Gecko/20111001 Firefox/10.0a1 ID:20111001030845\n\nhttp://forums.mozillazine.org/viewtopic.php?p=11314439#p11314439\n\nOS (Japanese version)/Japanese Font issue ?", "time": "2011-10-01T23:48:24Z", "creation_time": "2011-10-01T23:48:24Z", "creator": "bugmozz@gmail.com", "author": "bugmozz@gmail.com", "id": 5752266, "count": 6, "is_private": false}, {"raw_text": "", "attachment_id": null, "text": "*** Bug 693764 has been marked as a duplicate of this bug. ***", "bug_id": 689079, "tags": [], "is_private": false, "id": 5775618, "count": 7, "author": "dao+bmo@mozilla.com", "creator": "dao+bmo@mozilla.com", "time": "2011-10-11T20:26:56Z", "creation_time": "2011-10-11T20:26:56Z"}, {"is_private": false, "count": 8, "id": 5776525, "author": "tetsuharu.ohzeki@gmail.com", "creator": "tetsuharu.ohzeki@gmail.com", "creation_time": "2011-10-12T02:54:40Z", "time": "2011-10-12T02:54:40Z", "raw_text": "(In reply to pal-moz from comment #6)\n> OS (Japanese version)/Japanese Font issue ?\n\nI don't conclude it. I reproduce this bug on Firefox whose locale is en-US, and I use Windows 7 x64 (Japanese).", "attachment_id": null, "tags": [], "text": "(In reply to pal-moz from comment #6)\n> OS (Japanese version)/Japanese Font issue ?\n\nI don't conclude it. I reproduce this bug on Firefox whose locale is en-US, and I use Windows 7 x64 (Japanese).", "bug_id": 689079}, {"attachment_id": null, "raw_text": "(In reply to pal-moz from comment #6)\n> OS (Japanese version)/Japanese Font issue ?\n\nIt occurs also in European Fonts. Loot at last Duplicate (693764).", "text": "(In reply to pal-moz from comment #6)\n> OS (Japanese version)/Japanese Font issue ?\n\nIt occurs also in European Fonts. Loot at last Duplicate (693764).", "bug_id": 689079, "tags": [], "is_private": false, "count": 9, "id": 5836297, "creator": "glibnes@gmail.com", "time": "2011-11-09T06:11:51Z", "creation_time": "2011-11-09T06:11:51Z", "author": "glibnes@gmail.com"}, {"is_private": false, "id": 5836418, "count": 10, "author": "Fanolian+BMO@gmail.com", "creator": "Fanolian+BMO@gmail.com", "time": "2011-11-09T07:37:14Z", "creation_time": "2011-11-09T07:37:14Z", "raw_text": "I am also seeing this in Win7 SP1 64bit English Version with an English Firefox.\n\nMy language settings in Windows are:\nFormat: Chinese (Traditional, Hong Kong S.A.R.)\nLocation: Hong Kong S.A.R.\nCurrent language for non-Unicode programs: Chinese (Traditional, Hong Kong S.A.R.)", "attachment_id": null, "tags": [], "text": "I am also seeing this in Win7 SP1 64bit English Version with an English Firefox.\n\nMy language settings in Windows are:\nFormat: Chinese (Traditional, Hong Kong S.A.R.)\nLocation: Hong Kong S.A.R.\nCurrent language for non-Unicode programs: Chinese (Traditional, Hong Kong S.A.R.)", "bug_id": 689079}, {"is_private": false, "count": 11, "id": 5850144, "author": "kolubinowicki@wp.pl", "creator": "kolubinowicki@wp.pl", "creation_time": "2011-11-15T19:57:14Z", "time": "2011-11-15T19:57:14Z", "raw_text": "Reproducible on Windows 7 32bit English language version\nSettings in Windows:\nFormat: Polish", "attachment_id": 574641, "text": "Created attachment 574641\nVideo with bug behaviour\n\nReproducible on Windows 7 32bit English language version\nSettings in Windows:\nFormat: Polish", "bug_id": 689079, "tags": []}, {"time": "2011-12-10T06:57:33Z", "creation_time": "2011-12-10T06:57:33Z", "creator": "kolubinowicki@wp.pl", "author": "kolubinowicki@wp.pl", "id": 5906133, "count": 12, "is_private": false, "bug_id": 689079, "text": "Created attachment 580619\nWindows 7 system settings that cause the bug occurence\n\nFinally found the steps to 100% bug reproduce on my computers:\n\nBug occur only when the Windows 7 system default size of text settings is changed from normal 100% to Medium (125%) or Larger (150%)  in display control panel (check the attachement for settings picture)\n\n\nChanging the:\n- format\n- location\n- system locale (current language for non-Unicode programs)\nfrom Polish to UK changes nothing to bug behaviour\nBug also occur with (1/1 Direct3D 10) and without enabled hardware acceleration\n\nCan also confirm regression range from comment 1:\nLast good nightly: 2011-09-24\nFirst bad nightly: 2011-09-25\n\nPushlog:\n\nhttp://hg.mozilla.org/mozilla-central/pushlog?fromchange=c71229984353&tochange=afe75f8431ad", "tags": [], "attachment_id": 580619, "raw_text": "Finally found the steps to 100% bug reproduce on my computers:\n\nBug occur only when the Windows 7 system default size of text settings is changed from normal 100% to Medium (125%) or Larger (150%)  in display control panel (check the attachement for settings picture)\n\n\nChanging the:\n- format\n- location\n- system locale (current language for non-Unicode programs)\nfrom Polish to UK changes nothing to bug behaviour\nBug also occur with (1/1 Direct3D 10) and without enabled hardware acceleration\n\nCan also confirm regression range from comment 1:\nLast good nightly: 2011-09-24\nFirst bad nightly: 2011-09-25\n\nPushlog:\n\nhttp://hg.mozilla.org/mozilla-central/pushlog?fromchange=c71229984353&tochange=afe75f8431ad"}, {"is_private": false, "count": 13, "id": 5906167, "author": "bugmozz@gmail.com", "creator": "bugmozz@gmail.com", "time": "2011-12-10T07:16:47Z", "creation_time": "2011-12-10T07:16:47Z", "raw_text": "(In reply to kolubinowicki from comment #12)\n> Finally found the steps to 100% bug reproduce on my computers:\n> \n> Bug occur only when the Windows 7 system default size of text settings is\n> changed from normal 100% to Medium (125%) or Larger (150%)  in display\n> control panel (check the attachement for settings picture)\n\nnot true.\nhappen with default (100%) setting.", "attachment_id": 580623, "tags": [], "text": "Created attachment 580623\nscreenshot\n\n(In reply to kolubinowicki from comment #12)\n> Finally found the steps to 100% bug reproduce on my computers:\n> \n> Bug occur only when the Windows 7 system default size of text settings is\n> changed from normal 100% to Medium (125%) or Larger (150%)  in display\n> control panel (check the attachement for settings picture)\n\nnot true.\nhappen with default (100%) setting.", "bug_id": 689079}, {"creation_time": "2011-12-10T07:49:01Z", "time": "2011-12-10T07:49:01Z", "creator": "kolubinowicki@wp.pl", "tags": [], "text": "Created attachment 580626\nVideo with bug behaviour, different Windows 7 settings\n\nIn reply to comment 13\n\n>not true.\nhappen with default (100%) setting.\n\nOn my configuration I can reproduce in 100% time (check the video in attachement) maybe there is some other additional bug triggers?", "bug_id": 689079, "author": "kolubinowicki@wp.pl", "id": 5906195, "count": 14, "is_private": false, "attachment_id": 580626, "raw_text": "In reply to comment 13\n\n>not true.\nhappen with default (100%) setting.\n\nOn my configuration I can reproduce in 100% time (check the video in attachement) maybe there is some other additional bug triggers?"}, {"text": "Confirmed on Firefox9.0.1 to 12.0a1.\nIn case of system font using Meiryo (\u30e1\u30a4\u30ea\u30aa) which is default font for Aero/Aero Basic windows7 style (Japanese edition)\n\nWORKAROUND(use default font for Classic windows7 style):\n#identity-box label\n{\nfont-family: \"MS UI Gothic\"!important;\n}", "bug_id": 689079, "tags": [], "raw_text": "Confirmed on Firefox9.0.1 to 12.0a1.\nIn case of system font using Meiryo (\u30e1\u30a4\u30ea\u30aa) which is default font for Aero/Aero Basic windows7 style (Japanese edition)\n\nWORKAROUND(use default font for Classic windows7 style):\n#identity-box label\n{\nfont-family: \"MS UI Gothic\"!important;\n}", "attachment_id": null, "author": "alice0775@gmail.com", "time": "2011-12-22T08:35:09Z", "creation_time": "2011-12-22T08:35:09Z", "creator": "alice0775@gmail.com", "count": 15, "id": 5934719, "is_private": false}, {"bug_id": 689079, "text": "Regression window(m-c),\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/fecae145d884\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110924 Firefox/9.0a1 ID:20110924032918\nFails:\nhttp://hg.mozilla.org/mozilla-central/rev/95df67109868\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110924 Firefox/9.0a1 ID:20110924082020\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=fecae145d884&tochange=95df67109868\n\n\nRegression window(m-i),\nWorks:\nhttp://hg.mozilla.org/integration/mozilla-inbound/rev/d5727cb7221b\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110923 Firefox/9.0a1 ID:20110923215818\nFails:\nhttp://hg.mozilla.org/integration/mozilla-inbound/rev/8f064c1c1d40\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110924 Firefox/9.0a1 ID:20110924050718\nPushlog:\nhttp://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=d5727cb7221b&tochange=8f064c1c1d40\nSuspected bug:\nBug 684450 - Remove stop/go/reload button affordance and streamline other location bar icons", "tags": [], "attachment_id": null, "raw_text": "Regression window(m-c),\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/fecae145d884\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110924 Firefox/9.0a1 ID:20110924032918\nFails:\nhttp://hg.mozilla.org/mozilla-central/rev/95df67109868\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110924 Firefox/9.0a1 ID:20110924082020\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=fecae145d884&tochange=95df67109868\n\n\nRegression window(m-i),\nWorks:\nhttp://hg.mozilla.org/integration/mozilla-inbound/rev/d5727cb7221b\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110923 Firefox/9.0a1 ID:20110923215818\nFails:\nhttp://hg.mozilla.org/integration/mozilla-inbound/rev/8f064c1c1d40\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110924 Firefox/9.0a1 ID:20110924050718\nPushlog:\nhttp://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=d5727cb7221b&tochange=8f064c1c1d40\nSuspected bug:\nBug 684450 - Remove stop/go/reload button affordance and streamline other location bar icons", "creation_time": "2011-12-22T08:53:59Z", "time": "2011-12-22T08:53:59Z", "creator": "alice0775@gmail.com", "author": "alice0775@gmail.com", "id": 5934727, "count": 16, "is_private": false}, {"author": "alice0775@gmail.com", "time": "2011-12-22T09:09:20Z", "creation_time": "2011-12-22T09:09:20Z", "creator": "alice0775@gmail.com", "id": 5934733, "count": 17, "is_private": false, "text": "WORKAROUND2(preserve font-family):\n#page-proxy-stack {\nmargin-top: 1px !important;\n}", "bug_id": 689079, "tags": [], "raw_text": "WORKAROUND2(preserve font-family):\n#page-proxy-stack {\nmargin-top: 1px !important;\n}", "attachment_id": null}, {"author": "epinal99-bugzilla2@yahoo.fr", "creation_time": "2011-12-23T02:55:25Z", "time": "2011-12-23T02:55:25Z", "creator": "epinal99-bugzilla2@yahoo.fr", "count": 18, "id": 5936953, "is_private": false, "tags": [], "bug_id": 689079, "text": "Created attachment 583993\nToolbar height: CNN.com (HTTP) vs Twitter.com (HTTPS), Firefox/12.0a1 in safe mode\n\nI observed that bug in FF8 too. I'm using French Win 7 with Aero, default font type, display at 125% (1080p laptop screen), HWA enabled in FF.", "raw_text": "I observed that bug in FF8 too. I'm using French Win 7 with Aero, default font type, display at 125% (1080p laptop screen), HWA enabled in FF.", "attachment_id": 583993}, {"attachment_id": null, "raw_text": "IMHO the new bug title is incorrect. I have HWA disabled and only run into this bug when I increase system font size to 125%. See also comment #12.\n\nMozilla/5.0 (Windows NT 6.2; Win64; x64; rv:12.0a1) Gecko/20111223 Firefox/12.0a1", "tags": [], "text": "IMHO the new bug title is incorrect. I have HWA disabled and only run into this bug when I increase system font size to 125%. See also comment #12.\n\nMozilla/5.0 (Windows NT 6.2; Win64; x64; rv:12.0a1) Gecko/20111223 Firefox/12.0a1", "bug_id": 689079, "is_private": false, "count": 19, "id": 5937886, "creator": "sidrabbit@ya.ru", "time": "2011-12-23T21:13:15Z", "creation_time": "2011-12-23T21:13:15Z", "author": "sidrabbit@ya.ru"}, {"is_private": false, "id": 6002186, "count": 20, "creator": "fmdevelopertim@gmail.com", "time": "2012-01-23T21:59:08Z", "creation_time": "2012-01-23T21:59:08Z", "author": "fmdevelopertim@gmail.com", "attachment_id": null, "raw_text": "", "text": "*** Bug 720319 has been marked as a duplicate of this bug. ***", "bug_id": 689079, "tags": []}, {"attachment_id": 593775, "raw_text": "This inserts empty label element for reserving enough height for urlbar. I'm not sure whether this is the best approach. Testing on tryserver now.\nhttps://tbpl.mozilla.org/?tree=Try&usebuildbot=1&rev=27ba095d2c1d", "text": "Created attachment 593775\nQuick fix\n\nThis inserts empty label element for reserving enough height for urlbar. I'm not sure whether this is the best approach. Testing on tryserver now.\nhttps://tbpl.mozilla.org/?tree=Try&usebuildbot=1&rev=27ba095d2c1d", "bug_id": 689079, "tags": [], "count": 21, "id": 6028410, "is_private": false, "creation_time": "2012-02-02T10:43:26Z", "time": "2012-02-02T10:43:26Z", "creator": "masayuki@d-toybox.com", "author": "masayuki@d-toybox.com"}, {"attachment_id": null, "raw_text": "The tryserver builds will be here:\nhttps://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/masayuki@d-toybox.com-27ba095d2c1d/", "text": "The tryserver builds will be here:\nhttps://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/masayuki@d-toybox.com-27ba095d2c1d/", "bug_id": 689079, "tags": [], "is_private": false, "id": 6028471, "count": 22, "creator": "masayuki@d-toybox.com", "creation_time": "2012-02-02T11:20:19Z", "time": "2012-02-02T11:20:19Z", "author": "masayuki@d-toybox.com"}, {"attachment_id": null, "raw_text": "Hardware acceleration shouldn't cause this bug. It really depends on the font and the result of rendering (DirectWrite and GDI are using different logic for rendering fonts though).", "bug_id": 689079, "text": "Hardware acceleration shouldn't cause this bug. It really depends on the font and the result of rendering (DirectWrite and GDI are using different logic for rendering fonts though).", "tags": [], "count": 23, "id": 6028478, "is_private": false, "time": "2012-02-02T11:24:12Z", "creation_time": "2012-02-02T11:24:12Z", "creator": "masayuki@d-toybox.com", "author": "masayuki@d-toybox.com"}, {"author": "masayuki@d-toybox.com", "time": "2012-02-02T13:26:44Z", "creation_time": "2012-02-02T13:26:44Z", "creator": "masayuki@d-toybox.com", "id": 6028656, "count": 24, "is_private": false, "tags": [], "bug_id": 689079, "text": "Comment on attachment 593775\nQuick fix\n\nI have no idea to test this patch.", "raw_text": "I have no idea to test this patch.", "attachment_id": 593775}, {"is_private": false, "attachment_id": 593934, "id": 6030025, "count": 25, "raw_text": "(In reply to Masayuki Nakano (:masayuki) (Mozilla Japan) from comment #24)\n\nThe patch from tryserver build works ok (https://tbpl.mozilla.org/?tree=Try&usebuildbot=1&rev=27ba095d2c1d), the toolbar don't change the position when switching tabs, but there is one additional glitch:\n\nThe height of search bar is not the same size as adress bar. (Please check the video in attachement and the screenshot)", "creator": "kolubinowicki@wp.pl", "time": "2012-02-02T20:10:19Z", "creation_time": "2012-02-02T20:10:19Z", "author": "kolubinowicki@wp.pl", "text": "Created attachment 593934\nVideo of Tryserver build\n\n(In reply to Masayuki Nakano (:masayuki) (Mozilla Japan) from comment #24)\n\nThe patch from tryserver build works ok (https://tbpl.mozilla.org/?tree=Try&usebuildbot=1&rev=27ba095d2c1d), the toolbar don't change the position when switching tabs, but there is one additional glitch:\n\nThe height of search bar is not the same size as adress bar. (Please check the video in attachement and the screenshot)", "bug_id": 689079, "tags": []}, {"bug_id": 689079, "text": "Created attachment 593935\nScreenshot of Firefox interface with patch from tryserver build (search bar is not the same size as adress bar). See Comment 25 for more info.", "tags": [], "attachment_id": 593935, "raw_text": "", "time": "2012-02-02T20:16:45Z", "creation_time": "2012-02-02T20:16:45Z", "creator": "kolubinowicki@wp.pl", "author": "kolubinowicki@wp.pl", "id": 6030045, "count": 26, "is_private": false}, {"tags": [], "text": "kolubinowicki:\n\nThank you for testing. Yes, it is, but it's a problem of the design of the identify button. Even though we fix add similar hack to the searchbar, another similar toolbar textbox which is added by addon can have same problem.", "bug_id": 689079, "attachment_id": null, "raw_text": "kolubinowicki:\n\nThank you for testing. Yes, it is, but it's a problem of the design of the identify button. Even though we fix add similar hack to the searchbar, another similar toolbar textbox which is added by addon can have same problem.", "creation_time": "2012-02-03T00:09:56Z", "time": "2012-02-03T00:09:56Z", "creator": "masayuki@d-toybox.com", "author": "masayuki@d-toybox.com", "count": 27, "id": 6030863, "is_private": false}, {"time": "2012-02-03T00:51:50Z", "creation_time": "2012-02-03T00:51:50Z", "creator": "masayuki@d-toybox.com", "author": "masayuki@d-toybox.com", "id": 6030956, "count": 28, "is_private": false, "tags": [], "text": "Created attachment 594017\nPatch (removing unnecessary padding of #identity-box\n\nOkay, the cause of making higher URL bar is, the #identity-box has unnecessary padding-top and padding-bottom. But I still think that the empty <label> should be in it for spacer for preventing the dynamic height change.", "bug_id": 689079, "attachment_id": 594017, "raw_text": "Okay, the cause of making higher URL bar is, the #identity-box has unnecessary padding-top and padding-bottom. But I still think that the empty <label> should be in it for spacer for preventing the dynamic height change."}, {"text": "Comment on attachment 594017\nPatch (removing unnecessary padding of #identity-box\n\nOh, this change causes a regression.", "bug_id": 689079, "tags": [], "attachment_id": 594017, "raw_text": "Oh, this change causes a regression.", "creator": "masayuki@d-toybox.com", "time": "2012-02-03T03:10:12Z", "creation_time": "2012-02-03T03:10:12Z", "author": "masayuki@d-toybox.com", "is_private": false, "id": 6031227, "count": 29}, {"id": 6031663, "count": 30, "is_private": false, "author": "masayuki@d-toybox.com", "creation_time": "2012-02-03T09:27:51Z", "time": "2012-02-03T09:27:51Z", "creator": "masayuki@d-toybox.com", "raw_text": "Hmm, even when I applied only the second patch to m-c, window.innerHeight and window.innerWidth becomes 4px smaller on tryserver.\nhttps://tbpl.mozilla.org/?tree=Try&usebuildbot=1&rev=ae6d738e0f10\n\n> 74721 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | Checking doc height - got 296, expected 300\n> 74722 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image width - got 394, expected 378\n> 74723 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image height - got 296, expected 284\n> 74732 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image width - got 394, expected 378\n> 74733 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image height - got 296, expected 284\n> 74740 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | Checking scrollTop - got 304, expected 300\n> 74742 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image width - got 394, expected 378\n> 74743 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image height - got 296, expected 284 \n\n> 364 ERROR TEST-UNEXPECTED-FAIL | /tests/docshell/test/test_bug344861.html | window.open has correct height dimensions - got 196, expected 200\n> 514 ERROR TEST-UNEXPECTED-FAIL | /tests/docshell/test/test_bug637644.html | Popups should look identical \n\nI cannot understand the reason. When I test docshell/test/test_bug344861.html, the most simple test, on my system (Win7, Aero with Meiryo), the result becomes innerHeight=198 and innerWidth=196. However, when I reload the test, all of tests in it pass. I think that there is a hidden bug for sizing window, but I don't familiar with docshell.\n\nbz: Any idea?\n\ndao: Could you review the first patch? Anyway, changing the urlbar height per tab/page is very ugly.", "attachment_id": null, "text": "Hmm, even when I applied only the second patch to m-c, window.innerHeight and window.innerWidth becomes 4px smaller on tryserver.\nhttps://tbpl.mozilla.org/?tree=Try&usebuildbot=1&rev=ae6d738e0f10\n\n> 74721 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | Checking doc height - got 296, expected 300\n> 74722 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image width - got 394, expected 378\n> 74723 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image height - got 296, expected 284\n> 74732 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image width - got 394, expected 378\n> 74733 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image height - got 296, expected 284\n> 74740 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | Checking scrollTop - got 304, expected 300\n> 74742 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image width - got 394, expected 378\n> 74743 ERROR TEST-UNEXPECTED-FAIL | /tests/content/html/document/test/test_bug369370.html | image height - got 296, expected 284 \n\n> 364 ERROR TEST-UNEXPECTED-FAIL | /tests/docshell/test/test_bug344861.html | window.open has correct height dimensions - got 196, expected 200\n> 514 ERROR TEST-UNEXPECTED-FAIL | /tests/docshell/test/test_bug637644.html | Popups should look identical \n\nI cannot understand the reason. When I test docshell/test/test_bug344861.html, the most simple test, on my system (Win7, Aero with Meiryo), the result becomes innerHeight=198 and innerWidth=196. However, when I reload the test, all of tests in it pass. I think that there is a hidden bug for sizing window, but I don't familiar with docshell.\n\nbz: Any idea?\n\ndao: Could you review the first patch? Anyway, changing the urlbar height per tab/page is very ugly.", "bug_id": 689079, "tags": []}, {"text": "The way the height and width options to window.open are handled is that we open a browser window, wait for the XUL to load, reflow it, measure the difference between the innerWidth and outerWidth (and similarly for height), add that difference to the requested width/height and then resize the toplevel window to the resulting size.\n\nWhen you say \"second patch\", do you mean attachment 594017?\n\nIs it possible that for some reasons that style is not applied at window load time?", "bug_id": 689079, "tags": [], "attachment_id": null, "raw_text": "The way the height and width options to window.open are handled is that we open a browser window, wait for the XUL to load, reflow it, measure the difference between the innerWidth and outerWidth (and similarly for height), add that difference to the requested width/height and then resize the toplevel window to the resulting size.\n\nWhen you say \"second patch\", do you mean attachment 594017?\n\nIs it possible that for some reasons that style is not applied at window load time?", "time": "2012-02-03T18:20:57Z", "creation_time": "2012-02-03T18:20:57Z", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "id": 6032755, "count": 31, "is_private": false}, {"bug_id": 689079, "text": "(In reply to Boris Zbarsky (:bz) from comment #31)\n> The way the height and width options to window.open are handled is that we\n> open a browser window, wait for the XUL to load, reflow it, measure the\n> difference between the innerWidth and outerWidth (and similarly for height),\n> add that difference to the requested width/height and then resize the\n> toplevel window to the resulting size.\n\nThanks for your explanation.\n\n> When you say \"second patch\", do you mean attachment 594017\n> [review]?\n\nYes, I do.\n\n> Is it possible that for some reasons that style is not applied at window\n> load time?\n\nI have no idea because when I reload the test file, the computed size is correct. And also, when I run the debug build normally and test following URL, the size is correct too. So, only when the first time of the test, it fails...", "tags": [], "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #31)\n> The way the height and width options to window.open are handled is that we\n> open a browser window, wait for the XUL to load, reflow it, measure the\n> difference between the innerWidth and outerWidth (and similarly for height),\n> add that difference to the requested width/height and then resize the\n> toplevel window to the resulting size.\n\nThanks for your explanation.\n\n> When you say \"second patch\", do you mean attachment 594017\n> [review]?\n\nYes, I do.\n\n> Is it possible that for some reasons that style is not applied at window\n> load time?\n\nI have no idea because when I reload the test file, the computed size is correct. And also, when I run the debug build normally and test following URL, the size is correct too. So, only when the first time of the test, it fails...", "attachment_id": null, "author": "masayuki@d-toybox.com", "creator": "masayuki@d-toybox.com", "creation_time": "2012-02-04T03:00:08Z", "time": "2012-02-04T03:00:08Z", "is_private": false, "id": 6034270, "count": 32}, {"raw_text": "That's... really odd.  This test is running (and failing) partway through the test suite, right?  So it's not like the browser UI is somehow not fully loaded....", "attachment_id": null, "tags": [], "bug_id": 689079, "text": "That's... really odd.  This test is running (and failing) partway through the test suite, right?  So it's not like the browser UI is somehow not fully loaded....", "is_private": false, "id": 6034284, "count": 33, "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "time": "2012-02-04T03:07:16Z", "creation_time": "2012-02-04T03:07:16Z"}, {"count": 34, "id": 6034329, "is_private": false, "creation_time": "2012-02-04T03:56:23Z", "time": "2012-02-04T03:56:23Z", "creator": "masayuki@d-toybox.com", "author": "masayuki@d-toybox.com", "attachment_id": null, "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #33)\n> That's... really odd.  This test is running (and failing) partway through\n> the test suite, right?\n\nRight, it's failed on tryserver too. But I tried to reload it when I run only the test from commandline.\n\n> So it's not like the browser UI is somehow not fully\n> loaded....\n\nAnd the UI is only the URL bar because \"toolbar\" isn't \"yes\" of window.open(). So, it opens different UI from the parent window which has the test harness.", "text": "(In reply to Boris Zbarsky (:bz) from comment #33)\n> That's... really odd.  This test is running (and failing) partway through\n> the test suite, right?\n\nRight, it's failed on tryserver too. But I tried to reload it when I run only the test from commandline.\n\n> So it's not like the browser UI is somehow not fully\n> loaded....\n\nAnd the UI is only the URL bar because \"toolbar\" isn't \"yes\" of window.open(). So, it opens different UI from the parent window which has the test harness.", "bug_id": 689079, "tags": []}, {"creator": "bzbarsky@mit.edu", "time": "2012-02-04T04:00:07Z", "creation_time": "2012-02-04T04:00:07Z", "author": "bzbarsky@mit.edu", "is_private": false, "id": 6034332, "count": 35, "tags": [], "text": "That shouldn't really matter...\n\nYou can reliably reproduce this when you run just that one test, as long as you only run it once after startup?", "bug_id": 689079, "attachment_id": null, "raw_text": "That shouldn't really matter...\n\nYou can reliably reproduce this when you run just that one test, as long as you only run it once after startup?"}, {"count": 36, "id": 6034374, "is_private": false, "creation_time": "2012-02-04T05:11:42Z", "time": "2012-02-04T05:11:42Z", "creator": "masayuki@d-toybox.com", "author": "masayuki@d-toybox.com", "attachment_id": null, "raw_text": "Hmm...\n\n* FAILED when I use\n> TEST_PATH=docshell/test/test_bug344861.html build/pymake/make.py -C ../firefox-debug-build mochitest-plain\n\n* SUCCEEDED when I use\n> TEST_PATH=docshell/test build/pymake/make.py -C ../firefox-debug-build mochitest-plain\n\n* SUCCEEDED when I use\n> python ../firefox-debug-build/_tests/testing/mochitest/runtests.py\nand wait until finish loading the harness and click the link for test_bug344861.html", "tags": [], "bug_id": 689079, "text": "Hmm...\n\n* FAILED when I use\n> TEST_PATH=docshell/test/test_bug344861.html build/pymake/make.py -C ../firefox-debug-build mochitest-plain\n\n* SUCCEEDED when I use\n> TEST_PATH=docshell/test build/pymake/make.py -C ../firefox-debug-build mochitest-plain\n\n* SUCCEEDED when I use\n> python ../firefox-debug-build/_tests/testing/mochitest/runtests.py\nand wait until finish loading the harness and click the link for test_bug344861.html"}, {"author": "kolubinowicki@wp.pl", "creator": "kolubinowicki@wp.pl", "creation_time": "2012-02-12T02:30:52Z", "time": "2012-02-12T02:30:52Z", "is_private": false, "id": 6053904, "count": 37, "text": "Related bug:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=549898\n\n\nAlso the following code in userChrome.css or Stylish addon, could work as a temporary bug work-around:\n\n.verifiedDomain, .verifiedIdentity\n{\n  padding: 0px 2px !important;\n}", "bug_id": 689079, "tags": [], "raw_text": "Related bug:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=549898\n\n\nAlso the following code in userChrome.css or Stylish addon, could work as a temporary bug work-around:\n\n.verifiedDomain, .verifiedIdentity\n{\n  padding: 0px 2px !important;\n}", "attachment_id": null}, {"creator": "bugmozz@gmail.com", "creation_time": "2012-05-07T01:16:01Z", "time": "2012-05-07T01:16:01Z", "author": "bugmozz@gmail.com", "is_private": false, "count": 38, "id": 6284525, "text": "Created attachment 621487\nscreenshot\n\nafter Bug 742419 fix, toolbar height is same.\nbut locationbar (input area) height is 1pix higher when EV-SSL.", "bug_id": 689079, "tags": [], "attachment_id": 621487, "raw_text": "after Bug 742419 fix, toolbar height is same.\nbut locationbar (input area) height is 1pix higher when EV-SSL."}, {"tags": [], "bug_id": 689079, "text": "(In reply to pal-moz from comment #38)\n> after Bug 742419 fix, toolbar height is same.\n> but locationbar (input area) height is 1pix higher when EV-SSL.\n\nConfirmed on Win7 x64 with 125% font size (Screen settings in Windows).", "raw_text": "(In reply to pal-moz from comment #38)\n> after Bug 742419 fix, toolbar height is same.\n> but locationbar (input area) height is 1pix higher when EV-SSL.\n\nConfirmed on Win7 x64 with 125% font size (Screen settings in Windows).", "attachment_id": null, "author": "glibnes@gmail.com", "creator": "glibnes@gmail.com", "time": "2012-05-07T07:02:51Z", "creation_time": "2012-05-07T07:02:51Z", "is_private": false, "id": 6284907, "count": 39}, {"time": "2012-07-13T12:39:06Z", "creation_time": "2012-07-13T12:39:06Z", "creator": "dao+bmo@mozilla.com", "author": "dao+bmo@mozilla.com", "id": 6469459, "count": 40, "is_private": false, "bug_id": 689079, "text": "Does this still happen after bug 747608?", "tags": [], "attachment_id": null, "raw_text": "Does this still happen after bug 747608?"}, {"raw_text": "In my case, it doesn't happen since changing to \"white background and no favico\" in identity-box.", "attachment_id": null, "text": "In my case, it doesn't happen since changing to \"white background and no favico\" in identity-box.", "bug_id": 689079, "tags": [], "id": 6469463, "count": 41, "is_private": false, "author": "glibnes@gmail.com", "time": "2012-07-13T12:42:22Z", "creation_time": "2012-07-13T12:42:22Z", "creator": "glibnes@gmail.com"}, {"attachment_id": null, "raw_text": "seems to be fine now.", "text": "seems to be fine now.", "bug_id": 689079, "tags": [], "is_private": false, "count": 42, "id": 6469512, "creator": "bugmozz@gmail.com", "time": "2012-07-13T13:05:28Z", "creation_time": "2012-07-13T13:05:28Z", "author": "bugmozz@gmail.com"}, {"author": "epinal99-bugzilla2@yahoo.fr", "creator": "epinal99-bugzilla2@yahoo.fr", "time": "2012-07-13T13:09:16Z", "creation_time": "2012-07-13T13:09:16Z", "is_private": false, "id": 6469520, "count": 43, "bug_id": 689079, "text": "Created attachment 641842\nSnapshot after bug 747608 landed\n\n(In reply to D\u00e3o Gottwald [:dao] from comment #40)\n> Does this still happen after bug 747608?\n\nI tried with the latest Nightly (fresh profile), it's not fixed in all cases.\nHTTPS websites with Extended Validation still have the extra 1 px in the location bar.", "tags": [], "raw_text": "(In reply to D\u00e3o Gottwald [:dao] from comment #40)\n> Does this still happen after bug 747608?\n\nI tried with the latest Nightly (fresh profile), it's not fixed in all cases.\nHTTPS websites with Extended Validation still have the extra 1 px in the location bar.", "attachment_id": 641842}, {"bug_id": 689079, "text": "(In reply to Loic from comment #43)\n> Created attachment 641842\n> Snapshot after bug 747608 landed\n> \n> (In reply to D\u00e3o Gottwald [:dao] from comment #40)\n> > Does this still happen after bug 747608?\n> \n> I tried with the latest Nightly (fresh profile), it's not fixed in all cases.\n> HTTPS websites with Extended Validation still have the extra 1 px in the\n> location bar.\n\nI can confirm that too. Now, when we don't have borders in buttons, it can be easily overlooked...", "tags": [], "attachment_id": null, "raw_text": "(In reply to Loic from comment #43)\n> Created attachment 641842\n> Snapshot after bug 747608 landed\n> \n> (In reply to D\u00e3o Gottwald [:dao] from comment #40)\n> > Does this still happen after bug 747608?\n> \n> I tried with the latest Nightly (fresh profile), it's not fixed in all cases.\n> HTTPS websites with Extended Validation still have the extra 1 px in the\n> location bar.\n\nI can confirm that too. Now, when we don't have borders in buttons, it can be easily overlooked...", "creator": "glibnes@gmail.com", "time": "2012-07-13T13:18:13Z", "creation_time": "2012-07-13T13:18:13Z", "author": "glibnes@gmail.com", "is_private": false, "count": 44, "id": 6469536}, {"raw_text": "It seems like this will permanently (rather than only for EV SSL) increase the location bar's height, making it not match the search bar.", "attachment_id": 593775, "is_private": false, "id": 6577058, "count": 45, "author": "dao+bmo@mozilla.com", "text": "Comment on attachment 593775\nQuick fix\n\nIt seems like this will permanently (rather than only for EV SSL) increase the location bar's height, making it not match the search bar.", "bug_id": 689079, "tags": [], "creator": "dao+bmo@mozilla.com", "creation_time": "2012-08-23T09:20:04Z", "time": "2012-08-23T09:20:04Z"}]}}}