{"comments": {}, "bugs": {"683263": {"comments": [{"raw_text": "There's no good reason (that I know of) that we use /Widget code per platform for:\n\nvar sound = Components.classes[\"@mozilla.org/sound;1\"]\n                      .createInstance(Components\n                      .interfaces.nsISound); \nvar uri = Components.classes[\"@mozilla.org/network/io-service;1\"] \n                    .getService(Components.interfaces.nsIIOService)\n                    .newURI(\"file:///C:/hello.wav\", null, null); sound.play(uri);\n\n\nYet we use /media/libsydneyaudio (or soon to be libcubeb via Bug 623444) for:\n\nvar snd = new Audio(\"c:\\\\hello.wav\");\nsnd.play();\n\n\nWe should either deprecate nsISound::Play() or reimplement nsSound::Play() to use libcubeb.\nOr perhaps do both so that backwards compatibility is not broken.", "attachment_id": null, "id": 5688633, "count": 0, "is_private": false, "creator": "netzen@gmail.com", "text": "There's no good reason (that I know of) that we use /Widget code per platform for:\n\nvar sound = Components.classes[\"@mozilla.org/sound;1\"]\n                      .createInstance(Components\n                      .interfaces.nsISound); \nvar uri = Components.classes[\"@mozilla.org/network/io-service;1\"] \n                    .getService(Components.interfaces.nsIIOService)\n                    .newURI(\"file:///C:/hello.wav\", null, null); sound.play(uri);\n\n\nYet we use /media/libsydneyaudio (or soon to be libcubeb via Bug 623444) for:\n\nvar snd = new Audio(\"c:\\\\hello.wav\");\nsnd.play();\n\n\nWe should either deprecate nsISound::Play() or reimplement nsSound::Play() to use libcubeb.\nOr perhaps do both so that backwards compatibility is not broken.", "bug_id": 683263, "time": "2011-08-30T19:46:09Z", "tags": [], "creation_time": "2011-08-30T19:46:09Z", "author": "netzen@gmail.com"}, {"bug_id": 683263, "count": 1, "text": "If we do the former I think there's not much point in doing the latter.\n\nThe only reason to use nsISound::Play is if you don't have a document/window available, e.g. if you're a JS module perhaps.", "time": "2011-08-30T20:04:49Z", "tags": [], "creation_time": "2011-08-30T20:04:49Z", "author": "roc@ocallahan.org", "is_private": false, "creator": "roc@ocallahan.org", "id": 5688725, "raw_text": "If we do the former I think there's not much point in doing the latter.\n\nThe only reason to use nsISound::Play is if you don't have a document/window available, e.g. if you're a JS module perhaps.", "attachment_id": null}, {"is_private": false, "creator": "netzen@gmail.com", "creation_time": "2011-08-30T20:07:24Z", "author": "netzen@gmail.com", "text": "> If we do the former I think there's not much point in doing the latter.\n\nIs your preference to deprecate?\n\n> The only reason to use nsISound::Play is if you don't have a document/window available, e.g. if you're a JS module perhaps.\n\nAh ok.", "time": "2011-08-30T20:07:24Z", "tags": [], "attachment_id": null, "raw_text": "> If we do the former I think there's not much point in doing the latter.\n\nIs your preference to deprecate?\n\n> The only reason to use nsISound::Play is if you don't have a document/window available, e.g. if you're a JS module perhaps.\n\nAh ok.", "id": 5688732, "count": 2, "bug_id": 683263}, {"count": 3, "is_private": false, "creator": "roc@ocallahan.org", "text": "(In reply to Brian R. Bondy [:bbondy] from comment #2)\n> > If we do the former I think there's not much point in doing the latter.\n> \n> Is your preference to deprecate?\n\nI think so. I'd like to get rid of it eventually although that might be hard if extensions use it. Certainly, getting rid of its usage in our own products would be good.", "bug_id": 683263, "tags": [], "time": "2011-08-30T23:14:35Z", "creation_time": "2011-08-30T23:14:35Z", "author": "roc@ocallahan.org", "raw_text": "(In reply to Brian R. Bondy [:bbondy] from comment #2)\n> > If we do the former I think there's not much point in doing the latter.\n> \n> Is your preference to deprecate?\n\nI think so. I'd like to get rid of it eventually although that might be hard if extensions use it. Certainly, getting rid of its usage in our own products would be good.", "attachment_id": null, "id": 5689334}, {"creation_time": "2011-08-30T23:35:57Z", "author": "netzen@gmail.com", "text": "So for this bug, does this sound right?\n\n- Get rid of our uses of in mozilla-central and comm-central if any\n- Update documentation to say deprecated as of Gecko 9 (even know it will still be available).  Mention using a Audio element as well.\n- Possibly add some kind of deprecated warning at compile time for each implementation of nsISound::Play", "tags": [], "time": "2011-08-30T23:35:57Z", "bug_id": 683263, "is_private": false, "creator": "netzen@gmail.com", "count": 4, "id": 5689396, "attachment_id": null, "raw_text": "So for this bug, does this sound right?\n\n- Get rid of our uses of in mozilla-central and comm-central if any\n- Update documentation to say deprecated as of Gecko 9 (even know it will still be available).  Mention using a Audio element as well.\n- Possibly add some kind of deprecated warning at compile time for each implementation of nsISound::Play"}, {"creation_time": "2011-08-30T23:46:01Z", "author": "roc@ocallahan.org", "text": "That all sounds good to me.\n\nI wouldn't object to additional work to make nsISound::Play be cross-platform code using libcubeb. But I wouldn't prioritize it either.", "bug_id": 683263, "tags": [], "time": "2011-08-30T23:46:01Z", "is_private": false, "creator": "roc@ocallahan.org", "count": 5, "id": 5689421, "attachment_id": null, "raw_text": "That all sounds good to me.\n\nI wouldn't object to additional work to make nsISound::Play be cross-platform code using libcubeb. But I wouldn't prioritize it either."}, {"id": 5689437, "attachment_id": null, "raw_text": "> I wouldn't object to additional work to make nsISound::Play be cross-platform code using libcubeb\n\nJust to make sure I understand fully, from Comment 2:\n\n<strike>If we do the former I think there's not much point in doing the latter.</strike> ?", "creation_time": "2011-08-30T23:53:02Z", "author": "netzen@gmail.com", "text": "> I wouldn't object to additional work to make nsISound::Play be cross-platform code using libcubeb\n\nJust to make sure I understand fully, from Comment 2:\n\n<strike>If we do the former I think there's not much point in doing the latter.</strike> ?", "tags": [], "time": "2011-08-30T23:53:02Z", "is_private": false, "creator": "netzen@gmail.com", "bug_id": 683263, "count": 6}, {"count": 7, "bug_id": 683263, "attachment_id": null, "raw_text": "I'm just vacillating on whether it's worth doing at all :-).", "id": 5689488, "is_private": false, "creator": "roc@ocallahan.org", "creation_time": "2011-08-31T00:18:30Z", "author": "roc@ocallahan.org", "text": "I'm just vacillating on whether it's worth doing at all :-).", "tags": [], "time": "2011-08-31T00:18:30Z"}, {"count": 8, "bug_id": 683263, "attachment_id": null, "raw_text": "I set as low priority for now.", "id": 5689588, "creator": "netzen@gmail.com", "is_private": false, "author": "netzen@gmail.com", "creation_time": "2011-08-31T01:29:26Z", "time": "2011-08-31T01:29:26Z", "tags": [], "text": "I set as low priority for now."}, {"id": 5689591, "attachment_id": null, "raw_text": "Unless you didn't mean that for the whole task, and just for the libcubeb part.  If that's the case please put back to normal :)", "author": "netzen@gmail.com", "creation_time": "2011-08-31T01:30:20Z", "time": "2011-08-31T01:30:20Z", "tags": [], "bug_id": 683263, "text": "Unless you didn't mean that for the whole task, and just for the libcubeb part.  If that's the case please put back to normal :)", "creator": "netzen@gmail.com", "is_private": false, "count": 9}, {"attachment_id": null, "raw_text": "err p1 not normal", "id": 5689593, "creator": "netzen@gmail.com", "is_private": false, "count": 10, "author": "netzen@gmail.com", "creation_time": "2011-08-31T01:30:55Z", "time": "2011-08-31T01:30:55Z", "bug_id": 683263, "tags": [], "text": "err p1 not normal"}, {"attachment_id": null, "raw_text": "", "id": 11563066, "is_private": false, "creator": "jmathies@mozilla.com", "creation_time": "2016-07-20T19:58:27Z", "author": "jmathies@mozilla.com", "text": "*** Bug 479822 has been marked as a duplicate of this bug. ***", "tags": [], "time": "2016-07-20T19:58:27Z", "count": 11, "bug_id": 683263}]}}}