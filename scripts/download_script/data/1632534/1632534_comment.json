{"comments": {}, "bugs": {"1632534": {"comments": [{"author": "jcoppeard@mozilla.com", "id": 14774111, "is_private": false, "text": "We currently use ZoneAllocator::gcDelayBytes to trigger slices on GC allocations (every 1MB by default), so that we still get incremental slices if we're stuck in a loop allocating.  The aim of this bug is to extend this to malloc allocations associated with GC things too.", "raw_text": "We currently use ZoneAllocator::gcDelayBytes to trigger slices on GC allocations (every 1MB by default), so that we still get incremental slices if we're stuck in a loop allocating.  The aim of this bug is to extend this to malloc allocations associated with GC things too.", "attachment_id": null, "bug_id": 1632534, "creation_time": "2020-04-23T15:27:31Z", "creator": "jcoppeard@mozilla.com", "time": "2020-04-23T15:27:31Z", "tags": [], "count": 0}, {"author": "jcoppeard@mozilla.com", "id": 14774258, "text": "Created attachment 9142763\nBug 1632534 - Trigger incremental GC slices for malloc allocations as we currently do for GC allocations r?sfink\n\n\nThis extends HeapThreshold to hold a threshold for starting a new slice as well as starting a collection and uses the appropriate threshold. We can then remove gcDelayBytes and get this behaviour for malloc allocations too.", "raw_text": "\nThis extends HeapThreshold to hold a threshold for starting a new slice as well as starting a collection and uses the appropriate threshold. We can then remove gcDelayBytes and get this behaviour for malloc allocations too.", "is_private": false, "attachment_id": 9142763, "bug_id": 1632534, "creator": "jcoppeard@mozilla.com", "creation_time": "2020-04-23T16:24:53Z", "time": "2020-04-23T16:24:53Z", "count": 1, "tags": []}, {"tags": [], "count": 2, "time": "2020-04-25T07:05:37Z", "creation_time": "2020-04-25T07:05:37Z", "creator": "pulsebot@bots.tld", "bug_id": 1632534, "attachment_id": null, "is_private": false, "text": "Pushed by jcoppeard@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/82dc44ab84c0\nTrigger incremental GC slices for malloc allocations as we currently do for GC allocations r=sfink", "raw_text": "Pushed by jcoppeard@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/82dc44ab84c0\nTrigger incremental GC slices for malloc allocations as we currently do for GC allocations r=sfink", "author": "pulsebot@bots.tld", "id": 14777861}, {"bug_id": 1632534, "attachment_id": null, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/82dc44ab84c0", "text": "https://hg.mozilla.org/mozilla-central/rev/82dc44ab84c0", "is_private": false, "id": 14778427, "author": "ncsoregi@mozilla.com", "count": 3, "tags": ["bugherder"], "time": "2020-04-25T22:02:18Z", "creator": "ncsoregi@mozilla.com", "creation_time": "2020-04-25T22:02:18Z"}, {"bug_id": 1632534, "attachment_id": null, "is_private": false, "raw_text": "== Change summary for alert #25721 (as of Sun, 26 Apr 2020 04:49:32 GMT) ==\n\nImprovements:\n\n   8%  raptor-ares6-firefox macosx1014-64-shippable opt      59.04 -> 54.28\n   4%  raptor-ares6-firefox linux64-shippable opt            46.42 -> 44.73\n   3%  raptor-ares6-firefox windows10-64-shippable opt       47.72 -> 46.17\n   3%  raptor-ares6-firefox windows7-32-shippable opt        47.94 -> 46.39\n   2%  raptor-ares6-firefox windows7-32-shippable opt        47.59 -> 46.63\n\nFor up to date results, see: https://treeherder.mozilla.org/perf.html#/alerts?id=25721", "text": "== Change summary for alert #25721 (as of Sun, 26 Apr 2020 04:49:32 GMT) ==\n\nImprovements:\n\n   8%  raptor-ares6-firefox macosx1014-64-shippable opt      59.04 -> 54.28\n   4%  raptor-ares6-firefox linux64-shippable opt            46.42 -> 44.73\n   3%  raptor-ares6-firefox windows10-64-shippable opt       47.72 -> 46.17\n   3%  raptor-ares6-firefox windows7-32-shippable opt        47.94 -> 46.39\n   2%  raptor-ares6-firefox windows7-32-shippable opt        47.59 -> 46.63\n\nFor up to date results, see: https://treeherder.mozilla.org/perf.html#/alerts?id=25721", "author": "marian.raiciof@softvision.ro", "id": 14799655, "tags": [], "count": 4, "time": "2020-05-06T07:42:37Z", "creation_time": "2020-05-06T07:42:37Z", "creator": "marian.raiciof@softvision.ro"}]}}}