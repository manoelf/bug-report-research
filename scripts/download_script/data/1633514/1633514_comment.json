{"bugs": {"1633514": {"comments": [{"raw_text": "I want to rewrite test_paramSubstitution.js as it currently uses a manually added test engine to check if MozParams are accessible or not.\n\nAs it is manually poking the engine object to pretend if it is a distribution/built-in, it doesn't really fit the requirements for what I need.\n\nHence, splitting out rewriting of it to this bug.", "creation_time": "2020-04-27T18:45:12Z", "count": 0, "tags": [], "time": "2020-04-27T18:45:12Z", "creator": "standard8@mozilla.com", "attachment_id": null, "author": "standard8@mozilla.com", "id": 14782303, "text": "I want to rewrite test_paramSubstitution.js as it currently uses a manually added test engine to check if MozParams are accessible or not.\n\nAs it is manually poking the engine object to pretend if it is a distribution/built-in, it doesn't really fit the requirements for what I need.\n\nHence, splitting out rewriting of it to this bug.", "is_private": false, "bug_id": 1633514}, {"raw_text": "", "count": 1, "creation_time": "2020-04-27T19:43:52Z", "tags": [], "time": "2020-04-27T19:43:52Z", "creator": "standard8@mozilla.com", "id": 14782403, "author": "standard8@mozilla.com", "attachment_id": 9143779, "text": "Created attachment 9143779\nBug 1633514 - Add SearchTestUtils.installSearchExtension to make testing search engine WebExtensions easier. r?daleharvey!", "is_private": false, "bug_id": 1633514}, {"is_private": false, "bug_id": 1633514, "attachment_id": 9143780, "author": "standard8@mozilla.com", "id": 14782404, "text": "Created attachment 9143780\nBug 1633514 - Rework test_paramSubstitution.js to work with WebExtensions rather than a manually added one. r?daleharvey!\n\n\n\nDepends on D72741", "tags": [], "time": "2020-04-27T19:44:00Z", "creator": "standard8@mozilla.com", "raw_text": "\n\nDepends on D72741", "creation_time": "2020-04-27T19:44:00Z", "count": 2}, {"text": "Pushed by mbanner@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/266b32a268d5\nAdd SearchTestUtils.installSearchExtension to make testing search engine WebExtensions easier. r=daleharvey\nhttps://hg.mozilla.org/integration/autoland/rev/e5f8075c881a\nRework test_paramSubstitution.js to work with WebExtensions rather than a manually added one. r=daleharvey", "attachment_id": null, "author": "pulsebot@bots.tld", "id": 14786543, "is_private": false, "bug_id": 1633514, "creation_time": "2020-04-29T16:15:11Z", "count": 3, "raw_text": "Pushed by mbanner@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/266b32a268d5\nAdd SearchTestUtils.installSearchExtension to make testing search engine WebExtensions easier. r=daleharvey\nhttps://hg.mozilla.org/integration/autoland/rev/e5f8075c881a\nRework test_paramSubstitution.js to work with WebExtensions rather than a manually added one. r=daleharvey", "time": "2020-04-29T16:15:11Z", "creator": "pulsebot@bots.tld", "tags": []}, {"time": "2020-04-29T17:12:34Z", "creator": "dvarga@mozilla.com", "tags": [], "count": 4, "creation_time": "2020-04-29T17:12:34Z", "raw_text": "Backed out 3 changesets (Bug 1633514, Bug 1626410) for xpcshell failures xpcshell at components/extensions/test/xpcshell/test_ext_settings_overrides_search_mozParam.js\n\nPush with failure: https://treeherder.mozilla.org/#/jobs?repo=autoland&selectedTaskRun=ZDm0o-NgSyioUCWAWtbDAw-0&searchStr=windows%2C7%2Cdebug%2Cxpcshell%2Ctests%2Ctest-windows7-32%2Fdebug-xpcshell-e10s-1%2Cx%28x1%29&revision=05d9a649538f534f531736de9680a5c9de5b37ca\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=300020200&repo=autoland&lineNumber=6958\n\nBackout link: https://treeherder.mozilla.org/#/jobs?repo=autoland&selectedTaskRun=ZDm0o-NgSyioUCWAWtbDAw-0&searchStr=windows%2C7%2Cdebug%2Cxpcshell%2Ctests%2Ctest-windows7-32%2Fdebug-xpcshell-e10s-1%2Cx%28x1%29&revision=8c2a3462aba2f269f8131480e882a970c912c5fb\n\n```\n[task 2020-04-29T17:00:15.390Z] 17:00:15     INFO -  TEST-START | xpcshell.ini:browser/components/extensions/test/xpcshell/test_ext_settings_overrides_search_mozParam.js\n[task 2020-04-29T17:00:18.529Z] 17:00:18  WARNING -  TEST-UNEXPECTED-FAIL | xpcshell.ini:browser/components/extensions/test/xpcshell/test_ext_settings_overrides_search_mozParam.js | xpcshell return code: 0\n[task 2020-04-29T17:00:18.529Z] 17:00:18     INFO -  TEST-INFO took 3140ms\n[task 2020-04-29T17:00:18.530Z] 17:00:18     INFO -  >>>>>>>\n[task 2020-04-29T17:00:18.530Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.530Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.531Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.531Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.531Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.531Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Couldn't get the user appdata directory. Crash events may not be produced.: file /builds/worker/checkouts/gecko/toolkit/crashreporter/nsExceptionHandler.cpp, line 2919\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: This method is lossy. Use GetCanonicalPath !: file /builds/worker/checkouts/gecko/xpcom/io/nsLocalFileWin.cpp, line 3301\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: This method is lossy. Use GetCanonicalPath !: file /builds/worker/checkouts/gecko/xpcom/io/nsLocalFileWin.cpp, line 3301\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: This method is lossy. Use GetCanonicalPath !: file /builds/worker/checkouts/gecko/xpcom/io/nsLocalFileWin.cpp, line 3301\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  (xpcshell/head.js) | test MAIN run_test pending (1)\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  (xpcshell/head.js) | test run_next_test 0 pending (2)\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  (xpcshell/head.js) | test MAIN run_test finished (2)\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  running event loop\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  xpcshell.ini:browser/components/extensions/test/xpcshell/test_ext_settings_overrides_search_mozParam.js | Starting setup\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  (xpcshell/head.js) | test setup pending (2)\n[task 2020-04-29T17:00:18.533Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Workers don't support the 'mem.mem.' preference!: file /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp, line 519\n[task 2020-04-29T17:00:18.533Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Workers don't support the 'mem.mem.' preference!: file /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp, line 519\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615789\taddons.manager\tDEBUG\tApplication has been upgraded\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615790\taddons.manager\tDEBUG\tLoaded provider scope for resource://gre/modules/addons/XPIProvider.jsm: [\"XPIProvider\", \"XPIInternal\"]\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615800\taddons.manager\tDEBUG\tLoaded provider scope for resource://gre/modules/addons/GMPProvider.jsm\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615804\taddons.manager\tDEBUG\tLoaded provider scope for resource://gre/modules/addons/PluginProvider.jsm\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615805\taddons.manager\tDEBUG\tStarting provider: XPIProvider\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615805\taddons.xpi\tDEBUG\tstartup\"\n[task 2020-04-29T17:00:18.535Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615806\taddons.xpi\tDEBUG\tList of built-in add-ons is missing or invalid.: [Exception... \"Component returned failure code: 0xc1f30001 (NS_ERROR_NOT_INITIALIZED) [nsIXPCComponents_Utils.readUTF8URI]\"  nsresult: \"0xc1f30001 (NS_ERROR_NOT_INITIALIZED)\"  location: \"JS frame :: resource://gre/modules/addons/XPIProvider.jsm :: startup :: line 2394\"  data: no] Stack trace: startup()@resource://gre/modules/addons/XPIProvider.jsm:2394\n[task 2020-04-29T17:00:18.535Z] 17:00:18     INFO -  callProvider()@resource://gre/modules/AddonManager.jsm:212\n[task 2020-04-29T17:00:18.535Z] 17:00:18     INFO -  _startProvider()@resource://gre/modules/AddonManager.jsm:584\n[task 2020-04-29T17:00:18.535Z] 17:00:18     INFO -  startup()@resource://gre/modules/AddonManager.jsm:808\n[task 2020-04-29T17:00:18.536Z] 17:00:18     INFO -  startup()@resource://gre/modules/AddonManager.jsm:3479\n[task 2020-04-29T17:00:18.536Z] 17:00:18     INFO -  observe()@resource://gre/modules/addonManager.js:87\n[task 2020-04-29T17:00:18.536Z] 17:00:18     INFO -  promiseStartupManager()@resource://testing-common/AddonTestUtils.jsm:979\n```", "bug_id": 1633514, "is_private": false, "text": "Backed out 3 changesets (Bug 1633514, Bug 1626410) for xpcshell failures xpcshell at components/extensions/test/xpcshell/test_ext_settings_overrides_search_mozParam.js\n\nPush with failure: https://treeherder.mozilla.org/#/jobs?repo=autoland&selectedTaskRun=ZDm0o-NgSyioUCWAWtbDAw-0&searchStr=windows%2C7%2Cdebug%2Cxpcshell%2Ctests%2Ctest-windows7-32%2Fdebug-xpcshell-e10s-1%2Cx%28x1%29&revision=05d9a649538f534f531736de9680a5c9de5b37ca\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=300020200&repo=autoland&lineNumber=6958\n\nBackout link: https://treeherder.mozilla.org/#/jobs?repo=autoland&selectedTaskRun=ZDm0o-NgSyioUCWAWtbDAw-0&searchStr=windows%2C7%2Cdebug%2Cxpcshell%2Ctests%2Ctest-windows7-32%2Fdebug-xpcshell-e10s-1%2Cx%28x1%29&revision=8c2a3462aba2f269f8131480e882a970c912c5fb\n\n```\n[task 2020-04-29T17:00:15.390Z] 17:00:15     INFO -  TEST-START | xpcshell.ini:browser/components/extensions/test/xpcshell/test_ext_settings_overrides_search_mozParam.js\n[task 2020-04-29T17:00:18.529Z] 17:00:18  WARNING -  TEST-UNEXPECTED-FAIL | xpcshell.ini:browser/components/extensions/test/xpcshell/test_ext_settings_overrides_search_mozParam.js | xpcshell return code: 0\n[task 2020-04-29T17:00:18.529Z] 17:00:18     INFO -  TEST-INFO took 3140ms\n[task 2020-04-29T17:00:18.530Z] 17:00:18     INFO -  >>>>>>>\n[task 2020-04-29T17:00:18.530Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.530Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.531Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.531Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.531Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Failed to get directory to cache.: file /builds/worker/checkouts/gecko/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp, line 88\n[task 2020-04-29T17:00:18.531Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Couldn't get the user appdata directory. Crash events may not be produced.: file /builds/worker/checkouts/gecko/toolkit/crashreporter/nsExceptionHandler.cpp, line 2919\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: This method is lossy. Use GetCanonicalPath !: file /builds/worker/checkouts/gecko/xpcom/io/nsLocalFileWin.cpp, line 3301\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: This method is lossy. Use GetCanonicalPath !: file /builds/worker/checkouts/gecko/xpcom/io/nsLocalFileWin.cpp, line 3301\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: This method is lossy. Use GetCanonicalPath !: file /builds/worker/checkouts/gecko/xpcom/io/nsLocalFileWin.cpp, line 3301\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  (xpcshell/head.js) | test MAIN run_test pending (1)\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  (xpcshell/head.js) | test run_next_test 0 pending (2)\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  (xpcshell/head.js) | test MAIN run_test finished (2)\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  running event loop\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  xpcshell.ini:browser/components/extensions/test/xpcshell/test_ext_settings_overrides_search_mozParam.js | Starting setup\n[task 2020-04-29T17:00:18.532Z] 17:00:18     INFO -  (xpcshell/head.js) | test setup pending (2)\n[task 2020-04-29T17:00:18.533Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Workers don't support the 'mem.mem.' preference!: file /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp, line 519\n[task 2020-04-29T17:00:18.533Z] 17:00:18     INFO -  PID 4436 | [4436, Main Thread] WARNING: Workers don't support the 'mem.mem.' preference!: file /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp, line 519\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615789\taddons.manager\tDEBUG\tApplication has been upgraded\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615790\taddons.manager\tDEBUG\tLoaded provider scope for resource://gre/modules/addons/XPIProvider.jsm: [\"XPIProvider\", \"XPIInternal\"]\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615800\taddons.manager\tDEBUG\tLoaded provider scope for resource://gre/modules/addons/GMPProvider.jsm\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615804\taddons.manager\tDEBUG\tLoaded provider scope for resource://gre/modules/addons/PluginProvider.jsm\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615805\taddons.manager\tDEBUG\tStarting provider: XPIProvider\"\n[task 2020-04-29T17:00:18.534Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615805\taddons.xpi\tDEBUG\tstartup\"\n[task 2020-04-29T17:00:18.535Z] 17:00:18     INFO -  \"CONSOLE_MESSAGE: (info) 1588179615806\taddons.xpi\tDEBUG\tList of built-in add-ons is missing or invalid.: [Exception... \"Component returned failure code: 0xc1f30001 (NS_ERROR_NOT_INITIALIZED) [nsIXPCComponents_Utils.readUTF8URI]\"  nsresult: \"0xc1f30001 (NS_ERROR_NOT_INITIALIZED)\"  location: \"JS frame :: resource://gre/modules/addons/XPIProvider.jsm :: startup :: line 2394\"  data: no] Stack trace: startup()@resource://gre/modules/addons/XPIProvider.jsm:2394\n[task 2020-04-29T17:00:18.535Z] 17:00:18     INFO -  callProvider()@resource://gre/modules/AddonManager.jsm:212\n[task 2020-04-29T17:00:18.535Z] 17:00:18     INFO -  _startProvider()@resource://gre/modules/AddonManager.jsm:584\n[task 2020-04-29T17:00:18.535Z] 17:00:18     INFO -  startup()@resource://gre/modules/AddonManager.jsm:808\n[task 2020-04-29T17:00:18.536Z] 17:00:18     INFO -  startup()@resource://gre/modules/AddonManager.jsm:3479\n[task 2020-04-29T17:00:18.536Z] 17:00:18     INFO -  observe()@resource://gre/modules/addonManager.js:87\n[task 2020-04-29T17:00:18.536Z] 17:00:18     INFO -  promiseStartupManager()@resource://testing-common/AddonTestUtils.jsm:979\n```", "id": 14786670, "author": "dvarga@mozilla.com", "attachment_id": null}, {"time": "2020-04-30T08:19:50Z", "creator": "standard8@mozilla.com", "tags": [], "creation_time": "2020-04-30T08:19:50Z", "count": 5, "raw_text": "Caused by the other bug, I'll re-land this part.", "bug_id": 1633514, "is_private": false, "text": "Caused by the other bug, I'll re-land this part.", "attachment_id": null, "author": "standard8@mozilla.com", "id": 14787984}, {"bug_id": 1633514, "is_private": false, "tags": [], "time": "2020-04-30T08:21:31Z", "creator": "pulsebot@bots.tld", "id": 14787989, "author": "pulsebot@bots.tld", "attachment_id": null, "raw_text": "Pushed by mbanner@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/4ee31b11809f\nAdd SearchTestUtils.installSearchExtension to make testing search engine WebExtensions easier. r=daleharvey\nhttps://hg.mozilla.org/integration/autoland/rev/6f7323ce8225\nRework test_paramSubstitution.js to work with WebExtensions rather than a manually added one. r=daleharvey", "text": "Pushed by mbanner@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/4ee31b11809f\nAdd SearchTestUtils.installSearchExtension to make testing search engine WebExtensions easier. r=daleharvey\nhttps://hg.mozilla.org/integration/autoland/rev/6f7323ce8225\nRework test_paramSubstitution.js to work with WebExtensions rather than a manually added one. r=daleharvey", "count": 6, "creation_time": "2020-04-30T08:21:31Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/4ee31b11809f\nhttps://hg.mozilla.org/mozilla-central/rev/6f7323ce8225", "id": 14789124, "author": "apavel@mozilla.com", "attachment_id": null, "bug_id": 1633514, "is_private": false, "count": 7, "creation_time": "2020-04-30T16:05:11Z", "raw_text": "https://hg.mozilla.org/mozilla-central/rev/4ee31b11809f\nhttps://hg.mozilla.org/mozilla-central/rev/6f7323ce8225", "creator": "apavel@mozilla.com", "time": "2020-04-30T16:05:11Z", "tags": ["bugherder"]}]}}, "comments": {}}