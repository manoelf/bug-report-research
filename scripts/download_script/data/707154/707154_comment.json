{"bugs": {"707154": {"comments": [{"attachment_id": null, "time": "2011-12-02T14:17:40Z", "author": "dynalon@latecrew.de", "creator": "dynalon@latecrew.de", "text": "User Agent: Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; de) Presto/2.9.168 Version/11.52\n\nSteps to reproduce:\n\nThis is not an actual bug, but a request to re-open a bugreport that is 4 years old, see here:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=394908\n\nI've commented on that bug more than a week ago with a request for re-open. I've specified all details and reason for reopen in the linked bug. However, it seems since this bug is so old, none of the devs which are on the CC list exist anymore - at least there was no response or reopening.\n\nPlease reopen the linked bugreport.\n\n\nActual results:\n\n.\n\n\nExpected results:\n\n.", "raw_text": "User Agent: Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; de) Presto/2.9.168 Version/11.52\n\nSteps to reproduce:\n\nThis is not an actual bug, but a request to re-open a bugreport that is 4 years old, see here:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=394908\n\nI've commented on that bug more than a week ago with a request for re-open. I've specified all details and reason for reopen in the linked bug. However, it seems since this bug is so old, none of the devs which are on the CC list exist anymore - at least there was no response or reopening.\n\nPlease reopen the linked bugreport.\n\n\nActual results:\n\n.\n\n\nExpected results:\n\n.", "creation_time": "2011-12-02T14:17:40Z", "bug_id": 707154, "id": 5888046, "count": 0, "is_private": false, "tags": []}, {"author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "time": "2011-12-02T17:59:14Z", "attachment_id": 578619, "text": "Created attachment 578619\nScript for testcase", "raw_text": "", "creation_time": "2011-12-02T17:59:14Z", "bug_id": 707154, "id": 5888575, "tags": [], "count": 1, "is_private": false}, {"tags": [], "count": 2, "is_private": false, "id": 5888579, "bug_id": 707154, "raw_text": "", "creation_time": "2011-12-02T17:59:59Z", "text": "Created attachment 578620\nTestcase", "attachment_id": 578620, "time": "2011-12-02T17:59:59Z", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "bug_id": 707154, "tags": [], "is_private": false, "count": 3, "id": 5888611, "text": "It's better to deal with this here, actually; less noise.\n\nOn the attached testcase, I see the following behavior: we always execute the script, WebKit (Chrome dev) sometimes executes the script, Opera never executes the script, IE9 never executes the script.\n\nThe relevant spec is starting at http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#script-processing-src-prepare which is where the load is kicked off (see the \"resource must be fetched\" bit).  The script is not parser-inserted, so once the fetch is complete step 15 ends up at <http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#script-processing-src-sync>.  This says to run the script, period.  No provisions for it not being in the DOM.\n\nSo as far as I can tell our implementation is following the spec correctly.  But given what other implementations do, maybe the spec needs changing here.  Jonas?", "attachment_id": null, "time": "2011-12-02T18:09:30Z", "creation_time": "2011-12-02T18:09:30Z", "raw_text": "It's better to deal with this here, actually; less noise.\n\nOn the attached testcase, I see the following behavior: we always execute the script, WebKit (Chrome dev) sometimes executes the script, Opera never executes the script, IE9 never executes the script.\n\nThe relevant spec is starting at http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#script-processing-src-prepare which is where the load is kicked off (see the \"resource must be fetched\" bit).  The script is not parser-inserted, so once the fetch is complete step 15 ends up at <http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#script-processing-src-sync>.  This says to run the script, period.  No provisions for it not being in the DOM.\n\nSo as far as I can tell our implementation is following the spec correctly.  But given what other implementations do, maybe the spec needs changing here.  Jonas?"}, {"creator": "jonas@sicking.cc", "author": "jonas@sicking.cc", "bug_id": 707154, "count": 4, "is_private": false, "tags": [], "id": 5888818, "text": "I suspect we should just bring this to the list to see what other vendors want to do.\n\nI personally weakly prefer our behavior since it's less racy. If you insert a <script> element in the document there's a risk that it will execute before you have a chance to remove it. Unless you remove it from the DOM before returning to the event loop.", "time": "2011-12-02T19:05:55Z", "attachment_id": null, "raw_text": "I suspect we should just bring this to the list to see what other vendors want to do.\n\nI personally weakly prefer our behavior since it's less racy. If you insert a <script> element in the document there's a risk that it will execute before you have a chance to remove it. Unless you remove it from the DOM before returning to the event loop.", "creation_time": "2011-12-02T19:05:55Z"}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "bug_id": 707154, "tags": [], "count": 5, "is_private": false, "id": 5888826, "text": "And in Chrome at least there's a chance even then; see my comments above.", "attachment_id": null, "time": "2011-12-02T19:07:41Z", "creation_time": "2011-12-02T19:07:41Z", "raw_text": "And in Chrome at least there's a chance even then; see my comments above."}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "bug_id": 707154, "is_private": false, "count": 6, "tags": [], "id": 5888831, "text": "In any case, can you please handle the spec-wrangling here?", "time": "2011-12-02T19:08:17Z", "attachment_id": null, "raw_text": "In any case, can you please handle the spec-wrangling here?", "creation_time": "2011-12-02T19:08:17Z"}, {"bug_id": 707154, "tags": [], "count": 7, "is_private": false, "id": 5889018, "text": "*** Bug 394908 has been marked as a duplicate of this bug. ***", "attachment_id": null, "time": "2011-12-02T19:47:24Z", "creation_time": "2011-12-02T19:47:24Z", "raw_text": "", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"creation_time": "2018-06-29T04:58:10Z", "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "time": "2018-06-29T04:58:10Z", "attachment_id": null, "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "id": 13436464, "tags": [], "is_private": false, "count": 8, "bug_id": 707154, "author": "bug-husbandry-bot@mozilla.bugs", "creator": "bug-husbandry-bot@mozilla.bugs"}]}}, "comments": {}}