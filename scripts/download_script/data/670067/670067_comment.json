{"bugs": {"670067": {"comments": [{"tags": [], "time": "2011-07-08T02:27:46Z", "raw_text": "The complete list of roles introduced in atk 2.0.2 are:\n\n*@ATK_ROLE_TABLE_ROW: A row in a table. @Since: ATK-2.0.2\n*@ATK_ROLE_TREE_ITEM: An object that represents an element of a tree. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_SPREADSHEET: A document frame which contains a spreadsheet. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_PRESENTATION: A document frame which contains a presentation or slide content. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_TEXT: A document frame which contains textual content, such as found in a word processing application. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_WEB: A document frame which contains HTML or other markup suitable for display in a web browser. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_EMAIL: A document frame which contains email content to be displayed or composed either in plain text or HTML. @Since: ATK-2.0.2\n*@ATK_ROLE_COMMENT: An object found within a document and designed to present a comment, note, or other annotation. In some cases, this object might not be visible until activated. @Since: ATK-2.0.2\n+ *@ATK_ROLE_LIST_BOX: A non-collapsible list of choices the user can select from. @Since: ATK-2.0.2\n+ *@ATK_ROLE_GROUPING: A group of related widgets. This group typically has a label. @Since: ATK-2.0.2\n+ *@ATK_ROLE_IMAGE_MAP: An image map object. Usually a graphic with multiple hotspots, where each hotspot can be activated resulting in the loading of another document or section of a document. @Since: ATK-2.0.2\n+ *@ATK_ROLE_NOTIFICATION: A transitory object designed to present a message to the user, typically at the desktop level rather than inside a particular application. @Since: ATK-2.0.2\n+ *@ATK_ROLE_INFO_BAR: An object designed to present a message to the user within an existing window. @Since: ATK-2.0.2\n\nMapping:\n\nROLE_ROW -> ATK_ROLE_TABLE_ROW\nROLE_OUTLINEITEM -> ATK_ROLE_TREE_ITEM\nROLE_DOCUMENT -> ATK_ROLE_DOCUMENT_WEB\nThunderbird message document (for example, editable area) -> ATK_ROLE_DOCUMENT_EMAIL. Not sure how to implement that. No ARIA for that. It's not good idea to hard hack gecko's nsDocAccessible to know about thunderbird. Ideas are wellcome.\nROLE_LISTBOX -> ATK_ROLE_LIST_BOX\nROLE_GROUPING -> ATK_ROLE_GROUPING (we use it for role=\"group\", it appears that's not what ATK wants)\nnotification messages like password saving confirmation are proper subject of ATK_ROLE_INFO_BAR", "attachment_id": null, "id": 5580162, "bug_id": 670067, "creation_time": "2011-07-08T02:27:46Z", "is_private": false, "creator": "surkov.alexander@gmail.com", "count": 0, "text": "The complete list of roles introduced in atk 2.0.2 are:\n\n*@ATK_ROLE_TABLE_ROW: A row in a table. @Since: ATK-2.0.2\n*@ATK_ROLE_TREE_ITEM: An object that represents an element of a tree. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_SPREADSHEET: A document frame which contains a spreadsheet. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_PRESENTATION: A document frame which contains a presentation or slide content. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_TEXT: A document frame which contains textual content, such as found in a word processing application. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_WEB: A document frame which contains HTML or other markup suitable for display in a web browser. @Since: ATK-2.0.2\n*@ATK_ROLE_DOCUMENT_EMAIL: A document frame which contains email content to be displayed or composed either in plain text or HTML. @Since: ATK-2.0.2\n*@ATK_ROLE_COMMENT: An object found within a document and designed to present a comment, note, or other annotation. In some cases, this object might not be visible until activated. @Since: ATK-2.0.2\n+ *@ATK_ROLE_LIST_BOX: A non-collapsible list of choices the user can select from. @Since: ATK-2.0.2\n+ *@ATK_ROLE_GROUPING: A group of related widgets. This group typically has a label. @Since: ATK-2.0.2\n+ *@ATK_ROLE_IMAGE_MAP: An image map object. Usually a graphic with multiple hotspots, where each hotspot can be activated resulting in the loading of another document or section of a document. @Since: ATK-2.0.2\n+ *@ATK_ROLE_NOTIFICATION: A transitory object designed to present a message to the user, typically at the desktop level rather than inside a particular application. @Since: ATK-2.0.2\n+ *@ATK_ROLE_INFO_BAR: An object designed to present a message to the user within an existing window. @Since: ATK-2.0.2\n\nMapping:\n\nROLE_ROW -> ATK_ROLE_TABLE_ROW\nROLE_OUTLINEITEM -> ATK_ROLE_TREE_ITEM\nROLE_DOCUMENT -> ATK_ROLE_DOCUMENT_WEB\nThunderbird message document (for example, editable area) -> ATK_ROLE_DOCUMENT_EMAIL. Not sure how to implement that. No ARIA for that. It's not good idea to hard hack gecko's nsDocAccessible to know about thunderbird. Ideas are wellcome.\nROLE_LISTBOX -> ATK_ROLE_LIST_BOX\nROLE_GROUPING -> ATK_ROLE_GROUPING (we use it for role=\"group\", it appears that's not what ATK wants)\nnotification messages like password saving confirmation are proper subject of ATK_ROLE_INFO_BAR", "author": "surkov.alexander@gmail.com"}, {"is_private": false, "creation_time": "2011-07-17T06:08:07Z", "creator": "tbsaunde+mozbugs@tbsaunde.org", "tags": [], "attachment_id": null, "id": 5595313, "bug_id": 670067, "author": "tbsaunde+mozbugs@tbsaunde.org", "text": "> *@ATK_ROLE_DOCUMENT_SPREADSHEET: A document frame which contains a\n> spreadsheet. @Since: ATK-2.0.2\n> *@ATK_ROLE_DOCUMENT_PRESENTATION: A document frame which contains a\n> presentation or slide content. @Since: ATK-2.0.2\n> *@ATK_ROLE_DOCUMENT_TEXT: A document frame which contains textual content,\n> such as found in a word processing application. @Since: ATK-2.0.2\n> *@ATK_ROLE_DOCUMENT_WEB: A document frame which contains HTML or other\n> markup suitable for display in a web browser. @Since: ATK-2.0.2\n> *@ATK_ROLE_DOCUMENT_EMAIL: A document frame which contains email content to\n> be displayed or composed either in plain text or HTML. @Since: ATK-2.0.2\n\nI can't see how we can reasonable implement these well.  For example suppose we have a set of iframes with slides in them those should be ATK_ROLE_PRESENTATION right? but we have no way I can see of implementing this since we have no way of knowing that it would seem.\n\nI'm also not very clear on some of these distinctions for exampleATK_ROLE_DOCUMENT vs ATK_ROLE_DOCUMENT_TEXT suppose you have a html5  word  processor web  app  should the document then be ATK_ROLE_DOCUMENT or ATK_ROLE_DOCUMENT_TEXT?\n\n> *@ATK_ROLE_COMMENT: An object found within a document and designed to\n> present a comment, note, or other annotation. In some cases, this object\n> might not be visible until activated. @Since: ATK-2.0.2\n\nhtml5 has a note role right?\n\n\n> + *@ATK_ROLE_GROUPING: A group of related widgets. This group typically has\n> a label. @Since: ATK-2.0.2\n\nhm, I'm not really clear on what kind of widget would have this role.  Is the objects only purpose to contain some other widgets? or does it do something else?\n> + *@ATK_ROLE_IMAGE_MAP: An image map object. Usually a graphic with multiple\n> hotspots, where each hotspot can be activated resulting in the loading of\n> another document or section of a document. @Since: ATK-2.0.2\n\nadd a mapping ROLE_IMAGEMAP -> ATK_ROLE_IMAGEMAP\n\n> Thunderbird message document (for example, editable area) ->\n> ATK_ROLE_DOCUMENT_EMAIL. Not sure how to implement that. No ARIA for that.\n> It's not good idea to hard hack gecko's nsDocAccessible to know about\n> thunderbird. Ideas are wellcome.\n\nIt seems like we really need help from the markup / author here.  An attirbute on the document frame seems like the right way to find out what the purpose of the document is which I think is the generalization of these document  roles.  I need to look into what is already available in the markup for deciding this before wondering if adding   an attribute to atleast xul makes sense.\n\n> ROLE_GROUPING -> ATK_ROLE_GROUPING (we use it for role=\"group\", it appears\n> that's not what ATK wants)\n\nhm, I need to look at what that role means in html / xul.\n\n> notification messages like password saving confirmation are proper subject\n> of ATK_ROLE_INFO_BAR\n\nI don't see a existing notification role, so it sounds like we need a bug, or just do it here to add that role and then given it to such  notifications.  How does this differ from ATK_ROLE_ALERT? and what do we currently give as the role for such notifications?", "count": 1, "time": "2011-07-17T06:08:07Z", "raw_text": "> *@ATK_ROLE_DOCUMENT_SPREADSHEET: A document frame which contains a\n> spreadsheet. @Since: ATK-2.0.2\n> *@ATK_ROLE_DOCUMENT_PRESENTATION: A document frame which contains a\n> presentation or slide content. @Since: ATK-2.0.2\n> *@ATK_ROLE_DOCUMENT_TEXT: A document frame which contains textual content,\n> such as found in a word processing application. @Since: ATK-2.0.2\n> *@ATK_ROLE_DOCUMENT_WEB: A document frame which contains HTML or other\n> markup suitable for display in a web browser. @Since: ATK-2.0.2\n> *@ATK_ROLE_DOCUMENT_EMAIL: A document frame which contains email content to\n> be displayed or composed either in plain text or HTML. @Since: ATK-2.0.2\n\nI can't see how we can reasonable implement these well.  For example suppose we have a set of iframes with slides in them those should be ATK_ROLE_PRESENTATION right? but we have no way I can see of implementing this since we have no way of knowing that it would seem.\n\nI'm also not very clear on some of these distinctions for exampleATK_ROLE_DOCUMENT vs ATK_ROLE_DOCUMENT_TEXT suppose you have a html5  word  processor web  app  should the document then be ATK_ROLE_DOCUMENT or ATK_ROLE_DOCUMENT_TEXT?\n\n> *@ATK_ROLE_COMMENT: An object found within a document and designed to\n> present a comment, note, or other annotation. In some cases, this object\n> might not be visible until activated. @Since: ATK-2.0.2\n\nhtml5 has a note role right?\n\n\n> + *@ATK_ROLE_GROUPING: A group of related widgets. This group typically has\n> a label. @Since: ATK-2.0.2\n\nhm, I'm not really clear on what kind of widget would have this role.  Is the objects only purpose to contain some other widgets? or does it do something else?\n> + *@ATK_ROLE_IMAGE_MAP: An image map object. Usually a graphic with multiple\n> hotspots, where each hotspot can be activated resulting in the loading of\n> another document or section of a document. @Since: ATK-2.0.2\n\nadd a mapping ROLE_IMAGEMAP -> ATK_ROLE_IMAGEMAP\n\n> Thunderbird message document (for example, editable area) ->\n> ATK_ROLE_DOCUMENT_EMAIL. Not sure how to implement that. No ARIA for that.\n> It's not good idea to hard hack gecko's nsDocAccessible to know about\n> thunderbird. Ideas are wellcome.\n\nIt seems like we really need help from the markup / author here.  An attirbute on the document frame seems like the right way to find out what the purpose of the document is which I think is the generalization of these document  roles.  I need to look into what is already available in the markup for deciding this before wondering if adding   an attribute to atleast xul makes sense.\n\n> ROLE_GROUPING -> ATK_ROLE_GROUPING (we use it for role=\"group\", it appears\n> that's not what ATK wants)\n\nhm, I need to look at what that role means in html / xul.\n\n> notification messages like password saving confirmation are proper subject\n> of ATK_ROLE_INFO_BAR\n\nI don't see a existing notification role, so it sounds like we need a bug, or just do it here to add that role and then given it to such  notifications.  How does this differ from ATK_ROLE_ALERT? and what do we currently give as the role for such notifications?"}, {"tags": [], "time": "2011-07-17T06:37:03Z", "raw_text": "The other question here is what to do with atk < 2.2 the easiest answer I think is to say we don't cae and  have GetRoleCB() return a value from the enum that they don't know about.  Mike will this break at-spi2 or at-spi1 if you know off hand?  I think the second easiest thing to do is return ATK_ROLE_UNKNOWN instead of the new role Joanie how sad would that make you?  If we want to be very tricky I think we can add the roles at run time using atk_role_register() in the same order they are defined in atk, and if we are a little lucky it will work.", "attachment_id": null, "bug_id": 670067, "id": 5595324, "is_private": false, "creation_time": "2011-07-17T06:37:03Z", "creator": "tbsaunde+mozbugs@tbsaunde.org", "count": 2, "text": "The other question here is what to do with atk < 2.2 the easiest answer I think is to say we don't cae and  have GetRoleCB() return a value from the enum that they don't know about.  Mike will this break at-spi2 or at-spi1 if you know off hand?  I think the second easiest thing to do is return ATK_ROLE_UNKNOWN instead of the new role Joanie how sad would that make you?  If we want to be very tricky I think we can add the roles at run time using atk_role_register() in the same order they are defined in atk, and if we are a little lucky it will work.", "author": "tbsaunde+mozbugs@tbsaunde.org"}, {"creator": "surkov.alexander@gmail.com", "creation_time": "2011-07-18T07:33:26Z", "is_private": false, "attachment_id": null, "tags": [], "author": "surkov.alexander@gmail.com", "text": "(In reply to comment #1)\n> > *@ATK_ROLE_DOCUMENT_SPREADSHEET: A document frame which contains a\n> > spreadsheet. @Since: ATK-2.0.2\n> > *@ATK_ROLE_DOCUMENT_PRESENTATION: A document frame which contains a\n> > presentation or slide content. @Since: ATK-2.0.2\n> > *@ATK_ROLE_DOCUMENT_TEXT: A document frame which contains textual content,\n> > such as found in a word processing application. @Since: ATK-2.0.2\n> > *@ATK_ROLE_DOCUMENT_WEB: A document frame which contains HTML or other\n> > markup suitable for display in a web browser. @Since: ATK-2.0.2\n> > *@ATK_ROLE_DOCUMENT_EMAIL: A document frame which contains email content to\n> > be displayed or composed either in plain text or HTML. @Since: ATK-2.0.2\n> \n> I can't see how we can reasonable implement these well.  For example suppose\n> we have a set of iframes with slides in them those should be\n> ATK_ROLE_PRESENTATION right? but we have no way I can see of implementing\n> this since we have no way of knowing that it would seem.\n\nCorrect. Maybe we should request to include these into ARIA.\n\n> I'm also not very clear on some of these distinctions for\n> exampleATK_ROLE_DOCUMENT vs ATK_ROLE_DOCUMENT_TEXT suppose you have a html5 \n> word  processor web  app  should the document then be ATK_ROLE_DOCUMENT or\n> ATK_ROLE_DOCUMENT_TEXT?\n\nATK_ROLE_DOCUMENT_WEB I'd say, while ATK_ROLE_DOCUMENT is generic one when there's no more precise role.\n\n> > *@ATK_ROLE_COMMENT: An object found within a document and designed to\n> > present a comment, note, or other annotation. In some cases, this object\n> > might not be visible until activated. @Since: ATK-2.0.2\n> \n> html5 has a note role right?\n\nHTML5 has aside element that is exposed with role=\"complimentary\" (like ARIA role) and has IA2 note role. Also ARIA provides role=\"note\" which doesn't use IA2 note role. I'm not sure what difference between complimentary and note ARIA roles and whether they should share IA2 note role.\n\n> > + *@ATK_ROLE_GROUPING: A group of related widgets. This group typically has\n> > a label. @Since: ATK-2.0.2\n> \n> hm, I'm not really clear on what kind of widget would have this role.  Is\n> the objects only purpose to contain some other widgets? or does it do\n> something else?\n\n> > ROLE_GROUPING -> ATK_ROLE_GROUPING (we use it for role=\"group\", it appears\n> > that's not what ATK wants)\n> \n> hm, I need to look at what that role means in html / xul.\n\nThis is for HTML fieldset and XUL groupbox elements. As I said I'm not sure how to deal with ARIA role=\"group\", maybe it's ok.\n\n> > + *@ATK_ROLE_IMAGE_MAP: An image map object. Usually a graphic with multiple\n> > hotspots, where each hotspot can be activated resulting in the loading of\n> > another document or section of a document. @Since: ATK-2.0.2\n> \n> add a mapping ROLE_IMAGEMAP -> ATK_ROLE_IMAGEMAP\n\nright, missed it\n\n> > Thunderbird message document (for example, editable area) ->\n> > ATK_ROLE_DOCUMENT_EMAIL. Not sure how to implement that. No ARIA for that.\n> > It's not good idea to hard hack gecko's nsDocAccessible to know about\n> > thunderbird. Ideas are wellcome.\n> \n> It seems like we really need help from the markup / author here.  An\n> attirbute on the document frame seems like the right way to find out what\n> the purpose of the document is which I think is the generalization of these\n> document  roles.  I need to look into what is already available in the\n> markup for deciding this before wondering if adding   an attribute to\n> atleast xul makes sense.\n\nagree, either ARIA extension (we could do it even on our side making new attributes deprecated in the web) or nsIXBLAccessible approach (could have problems in content).\n\n> > notification messages like password saving confirmation are proper subject\n> > of ATK_ROLE_INFO_BAR\n> \n> I don't see a existing notification role, so it sounds like we need a bug,\n> or just do it here to add that role and then given it to such \n> notifications.  How does this differ from ATK_ROLE_ALERT? and what do we\n> currently give as the role for such notifications?\n\nI think role alert should be read immediately, this one may be read later or ignored at all (aria live regions analogy). But better to ask AT vendors how they are going to work with it.", "count": 3, "id": 5596035, "bug_id": 670067, "time": "2011-07-18T07:33:26Z", "raw_text": "(In reply to comment #1)\n> > *@ATK_ROLE_DOCUMENT_SPREADSHEET: A document frame which contains a\n> > spreadsheet. @Since: ATK-2.0.2\n> > *@ATK_ROLE_DOCUMENT_PRESENTATION: A document frame which contains a\n> > presentation or slide content. @Since: ATK-2.0.2\n> > *@ATK_ROLE_DOCUMENT_TEXT: A document frame which contains textual content,\n> > such as found in a word processing application. @Since: ATK-2.0.2\n> > *@ATK_ROLE_DOCUMENT_WEB: A document frame which contains HTML or other\n> > markup suitable for display in a web browser. @Since: ATK-2.0.2\n> > *@ATK_ROLE_DOCUMENT_EMAIL: A document frame which contains email content to\n> > be displayed or composed either in plain text or HTML. @Since: ATK-2.0.2\n> \n> I can't see how we can reasonable implement these well.  For example suppose\n> we have a set of iframes with slides in them those should be\n> ATK_ROLE_PRESENTATION right? but we have no way I can see of implementing\n> this since we have no way of knowing that it would seem.\n\nCorrect. Maybe we should request to include these into ARIA.\n\n> I'm also not very clear on some of these distinctions for\n> exampleATK_ROLE_DOCUMENT vs ATK_ROLE_DOCUMENT_TEXT suppose you have a html5 \n> word  processor web  app  should the document then be ATK_ROLE_DOCUMENT or\n> ATK_ROLE_DOCUMENT_TEXT?\n\nATK_ROLE_DOCUMENT_WEB I'd say, while ATK_ROLE_DOCUMENT is generic one when there's no more precise role.\n\n> > *@ATK_ROLE_COMMENT: An object found within a document and designed to\n> > present a comment, note, or other annotation. In some cases, this object\n> > might not be visible until activated. @Since: ATK-2.0.2\n> \n> html5 has a note role right?\n\nHTML5 has aside element that is exposed with role=\"complimentary\" (like ARIA role) and has IA2 note role. Also ARIA provides role=\"note\" which doesn't use IA2 note role. I'm not sure what difference between complimentary and note ARIA roles and whether they should share IA2 note role.\n\n> > + *@ATK_ROLE_GROUPING: A group of related widgets. This group typically has\n> > a label. @Since: ATK-2.0.2\n> \n> hm, I'm not really clear on what kind of widget would have this role.  Is\n> the objects only purpose to contain some other widgets? or does it do\n> something else?\n\n> > ROLE_GROUPING -> ATK_ROLE_GROUPING (we use it for role=\"group\", it appears\n> > that's not what ATK wants)\n> \n> hm, I need to look at what that role means in html / xul.\n\nThis is for HTML fieldset and XUL groupbox elements. As I said I'm not sure how to deal with ARIA role=\"group\", maybe it's ok.\n\n> > + *@ATK_ROLE_IMAGE_MAP: An image map object. Usually a graphic with multiple\n> > hotspots, where each hotspot can be activated resulting in the loading of\n> > another document or section of a document. @Since: ATK-2.0.2\n> \n> add a mapping ROLE_IMAGEMAP -> ATK_ROLE_IMAGEMAP\n\nright, missed it\n\n> > Thunderbird message document (for example, editable area) ->\n> > ATK_ROLE_DOCUMENT_EMAIL. Not sure how to implement that. No ARIA for that.\n> > It's not good idea to hard hack gecko's nsDocAccessible to know about\n> > thunderbird. Ideas are wellcome.\n> \n> It seems like we really need help from the markup / author here.  An\n> attirbute on the document frame seems like the right way to find out what\n> the purpose of the document is which I think is the generalization of these\n> document  roles.  I need to look into what is already available in the\n> markup for deciding this before wondering if adding   an attribute to\n> atleast xul makes sense.\n\nagree, either ARIA extension (we could do it even on our side making new attributes deprecated in the web) or nsIXBLAccessible approach (could have problems in content).\n\n> > notification messages like password saving confirmation are proper subject\n> > of ATK_ROLE_INFO_BAR\n> \n> I don't see a existing notification role, so it sounds like we need a bug,\n> or just do it here to add that role and then given it to such \n> notifications.  How does this differ from ATK_ROLE_ALERT? and what do we\n> currently give as the role for such notifications?\n\nI think role alert should be read immediately, this one may be read later or ignored at all (aria live regions analogy). But better to ask AT vendors how they are going to work with it."}, {"raw_text": "(In reply to comment #2)\n> The other question here is what to do with atk < 2.2 the easiest answer I\n> think is to say we don't cae and  have GetRoleCB() return a value from the\n> enum that they don't know about.  Mike will this break at-spi2 or at-spi1 if\n> you know off hand?  I think the second easiest thing to do is return\n> ATK_ROLE_UNKNOWN instead of the new role Joanie how sad would that make you?\n> If we want to be very tricky I think we can add the roles at run time using\n> atk_role_register() in the same order they are defined in atk, and if we are\n> a little lucky it will work.\n\nYes, that's a problem. If primary AT on Linux we care about is Orca then we can proceed how Joanie thinks is right.", "attachment_id": null, "time": "2011-07-18T07:37:06Z", "tags": [], "count": 4, "text": "(In reply to comment #2)\n> The other question here is what to do with atk < 2.2 the easiest answer I\n> think is to say we don't cae and  have GetRoleCB() return a value from the\n> enum that they don't know about.  Mike will this break at-spi2 or at-spi1 if\n> you know off hand?  I think the second easiest thing to do is return\n> ATK_ROLE_UNKNOWN instead of the new role Joanie how sad would that make you?\n> If we want to be very tricky I think we can add the roles at run time using\n> atk_role_register() in the same order they are defined in atk, and if we are\n> a little lucky it will work.\n\nYes, that's a problem. If primary AT on Linux we care about is Orca then we can proceed how Joanie thinks is right.", "author": "surkov.alexander@gmail.com", "creator": "surkov.alexander@gmail.com", "creation_time": "2011-07-18T07:37:06Z", "is_private": false, "bug_id": 670067, "id": 5596039}]}}, "comments": {}}