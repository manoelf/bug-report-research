{"bugs": {"665341": {"comments": [{"raw_text": "Bug 490879 fixed the problem about pasting directly an image into a contentEditable area, so that it no longer uses a file:// url and now it's a data: \n\nThat's good, but there is other issue that affects also the privacy of the user and the ability to work correctly with such contentEditable elements, and it's that if some content with an image is copied from MS Word (didn't test other sources at the moment), then a local reference is inserted.\n\nThat means that it won't work on the web and that the user has unexpectedly pasted part of the structure of his hard disk into a public page.\n\nExample of such url:\n\n<p style=\"margin-left:18.0pt;\">\n\t<img height=\"98\" src=\"file:///C:/DOCUME%7E1/ADMINI%7E1/CONFIG%7E1/Temp/msohtml1/01/clip_image002.gif\" width=\"212\" /></p>\n\n\nThe same kind of processing that turned standalone images into data: should be applied when pasting HTML", "attachment_id": null, "tags": [], "text": "Bug 490879 fixed the problem about pasting directly an image into a contentEditable area, so that it no longer uses a file:// url and now it's a data: \n\nThat's good, but there is other issue that affects also the privacy of the user and the ability to work correctly with such contentEditable elements, and it's that if some content with an image is copied from MS Word (didn't test other sources at the moment), then a local reference is inserted.\n\nThat means that it won't work on the web and that the user has unexpectedly pasted part of the structure of his hard disk into a public page.\n\nExample of such url:\n\n<p style=\"margin-left:18.0pt;\">\n\t<img height=\"98\" src=\"file:///C:/DOCUME%7E1/ADMINI%7E1/CONFIG%7E1/Temp/msohtml1/01/clip_image002.gif\" width=\"212\" /></p>\n\n\nThe same kind of processing that turned standalone images into data: should be applied when pasting HTML", "bug_id": 665341, "is_private": false, "id": 5541292, "count": 0, "author": "amla70@gmail.com", "creator": "amla70@gmail.com", "creation_time": "2011-06-19T09:57:11Z", "time": "2011-06-19T09:57:11Z"}, {"tags": [], "text": "That's essentially bug 437217, but not really a duplicate. Since MS Office isn't sending an image over the clipboard but a reference to the image it deposited in a temporary file instead, and it's not drag-and-drop either (for which the image would be converted to a data: URI now as well per bug 609632), the file: URI is retained.\n\nThus, the general question is if anything that's neither http: nor https: should be resolved to a data: URI to ensure that no local references are included.", "bug_id": 665341, "raw_text": "That's essentially bug 437217, but not really a duplicate. Since MS Office isn't sending an image over the clipboard but a reference to the image it deposited in a temporary file instead, and it's not drag-and-drop either (for which the image would be converted to a data: URI now as well per bug 609632), the file: URI is retained.\n\nThus, the general question is if anything that's neither http: nor https: should be resolved to a data: URI to ensure that no local references are included.", "attachment_id": null, "author": "rsx11m.pub@gmail.com", "creation_time": "2011-06-19T17:46:50Z", "time": "2011-06-19T17:46:50Z", "creator": "rsx11m.pub@gmail.com", "count": 1, "id": 5541510, "is_private": false}, {"tags": [], "bug_id": 665341, "text": "I think this is a bug in Microsoft Word.  I don't think we should go inside the injected HTML block and try to replace all of the local file references to data: URIs.\n\nHow do WebKit, Opera and IE handle this?", "raw_text": "I think this is a bug in Microsoft Word.  I don't think we should go inside the injected HTML block and try to replace all of the local file references to data: URIs.\n\nHow do WebKit, Opera and IE handle this?", "attachment_id": null, "author": "ehsan.akhgari@gmail.com", "creator": "ehsan.akhgari@gmail.com", "time": "2011-06-20T18:08:45Z", "creation_time": "2011-06-20T18:08:45Z", "is_private": false, "id": 5543112, "count": 2}, {"creator": "bzbarsky@mit.edu", "time": "2011-06-21T14:48:20Z", "creation_time": "2011-06-21T14:48:20Z", "author": "bzbarsky@mit.edu", "is_private": false, "count": 3, "id": 5545377, "tags": [], "bug_id": 665341, "text": "Right; in this case Word is generating the HTML, not us; we're just getting HTML from the clipboard....", "attachment_id": null, "raw_text": "Right; in this case Word is generating the HTML, not us; we're just getting HTML from the clipboard...."}, {"attachment_id": null, "raw_text": "It is true that the origin of the HTML is external, but that's the point about this bug. When the user pastes something into a page, he doesn't care about the origin, he only sees that in the other app the text included images, but now the images are gone or are some little squares and blames Firefox and the online editor used for not pasting the images.\n\nThe web page can't read those files if the browser doesn't provide access to them, so if you don't think that it's good to replace them with data: like it's done for standalone pictures, then the other solution would be to add them in a Files object in the dataTransfer of the paste event, so that the page can opt to read them and save their contents properly before saving the whole HTML.\n\n\nAbout other browsers, testing in http://ckeditor.com/demo : \nIE8 behaves in this case like Firefox (except that it's pasting a .emz instead of a .gif for the same clipboard content, maybe this is related to the clean up done by the editor)\nChrome 12 is exactly like Firefox, although I have to check if they have started adding support for files in the dataTransfer object, as that would be the explanation about the new \"chrome only\" feature of pasting images in Gmail, then they might expand it to cover this case (certainly I will check that there's a ticket filed at their side about this and they might want to fix it for GMail and GDocs).\nAnd Opera 11 is a mix, includes both the .gif and .emz images", "tags": [], "bug_id": 665341, "text": "It is true that the origin of the HTML is external, but that's the point about this bug. When the user pastes something into a page, he doesn't care about the origin, he only sees that in the other app the text included images, but now the images are gone or are some little squares and blames Firefox and the online editor used for not pasting the images.\n\nThe web page can't read those files if the browser doesn't provide access to them, so if you don't think that it's good to replace them with data: like it's done for standalone pictures, then the other solution would be to add them in a Files object in the dataTransfer of the paste event, so that the page can opt to read them and save their contents properly before saving the whole HTML.\n\n\nAbout other browsers, testing in http://ckeditor.com/demo : \nIE8 behaves in this case like Firefox (except that it's pasting a .emz instead of a .gif for the same clipboard content, maybe this is related to the clean up done by the editor)\nChrome 12 is exactly like Firefox, although I have to check if they have started adding support for files in the dataTransfer object, as that would be the explanation about the new \"chrome only\" feature of pasting images in Gmail, then they might expand it to cover this case (certainly I will check that there's a ticket filed at their side about this and they might want to fix it for GMail and GDocs).\nAnd Opera 11 is a mix, includes both the .gif and .emz images", "id": 5545456, "count": 4, "is_private": false, "time": "2011-06-21T15:09:08Z", "creation_time": "2011-06-21T15:09:08Z", "creator": "amla70@gmail.com", "author": "amla70@gmail.com"}, {"tags": [], "bug_id": 665341, "text": "Can you please test in http://www.mozilla.org/editor/midasdemo/ ?  ckeditor might be doing its own processing in addition to the work done in the browser.\n\nThanks!", "attachment_id": null, "raw_text": "Can you please test in http://www.mozilla.org/editor/midasdemo/ ?  ckeditor might be doing its own processing in addition to the work done in the browser.\n\nThanks!", "creation_time": "2011-06-21T15:55:51Z", "time": "2011-06-21T15:55:51Z", "creator": "ehsan.akhgari@gmail.com", "author": "ehsan.akhgari@gmail.com", "count": 5, "id": 5545590, "is_private": false}, {"count": 6, "id": 5545807, "is_private": false, "author": "amla70@gmail.com", "time": "2011-06-21T17:05:48Z", "creation_time": "2011-06-21T17:05:48Z", "creator": "amla70@gmail.com", "raw_text": "Firefox 4.01 generates this\n\n<!--[if !mso]> <style> v\\:* {behavior:url(#default#VML);} o\\:* {behavior:url(#default#VML);} w\\:* {behavior:url(#default#VML);} .shape {behavior:url(#default#VML);} </style> <![endif]--><!--[if gte mso 9]><xml> <w:WordDocument> <w:View>Normal</w:View> <w:Zoom>0</w:Zoom> <w:HyphenationZone>21</w:HyphenationZone> <w:PunctuationKerning/> <w:ValidateAgainstSchemas/> <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid> <w:IgnoreMixedContent>false</w:IgnoreMixedContent> <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText> <w:Compatibility> <w:BreakWrappedTables/> <w:SnapToGridInCell/> <w:WrapTextWithPunct/> <w:UseAsianBreakRules/> <w:DontGrowAutofit/> </w:Compatibility> <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel> </w:WordDocument> </xml><![endif]--><!--[if gte mso 9]><xml> <w:LatentStyles DefLockedState=\"false\" LatentStyleCount=\"156\"> </w:LatentStyles> </xml><![endif]--><!--[if gte mso 10]> <style> /* Style Definitions */ table.MsoNormalTable {mso-style-name:\"Tabla normal\"; mso-tstyle-rowband-size:0; mso-tstyle-colband-size:0; mso-style-noshow:yes; mso-style-parent:\"\"; mso-padding-alt:0cm 5.4pt 0cm 5.4pt; mso-para-margin:0cm; mso-para-margin-bottom:.0001pt; mso-pagination:widow-orphan; font-size:10.0pt; font-family:\"Times New Roman\"; mso-ansi-language:#0400; mso-fareast-language:#0400; mso-bidi-language:#0400;} </style> <![endif]--> <p class=\"MsoNormal\"><img src=\"file:///C:/DOCUME%7E1/ADMINI%7E1/CONFIG%7E1/Temp/msohtml1/01/clip_image002.gif\" width=\"212\" height=\"98\"></p> \n\n\nIE8 gives an error trying to switch to source mode\n\nChrome 12 generates this\n\n<p class=\"MsoNormal\"><!--[if gte vml 1]><v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\"> <v:stroke joinstyle=\"miter\"/> <v:formulas> <v:f eqn=\"if lineDrawn pixelLineWidth 0\"/> <v:f eqn=\"sum @0 1 0\"/> <v:f eqn=\"sum 0 0 @1\"/> <v:f eqn=\"prod @2 1 2\"/> <v:f eqn=\"prod @3 21600 pixelWidth\"/> <v:f eqn=\"prod @3 21600 pixelHeight\"/> <v:f eqn=\"sum @0 0 1\"/> <v:f eqn=\"prod @6 1 2\"/> <v:f eqn=\"prod @7 21600 pixelWidth\"/> <v:f eqn=\"sum @8 21600 0\"/> <v:f eqn=\"prod @7 21600 pixelHeight\"/> <v:f eqn=\"sum @10 21600 0\"/> </v:formulas> <v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"/> <o:lock v:ext=\"edit\" aspectratio=\"t\"/> </v:shapetype><v:shape id=\"_x0000_i1025\" type=\"#_x0000_t75\" style='width:159pt; height:73.5pt'> <v:imagedata src=\"file:///C:\\DOCUME~1\\ADMINI~1\\CONFIG~1\\Temp\\msohtml1\\01\\clip_image001.emz\" o:title=\"\"/> </v:shape><![endif]--><!--[if !vml]--><img width=\"212\" height=\"98\" src=\"file:///C:/DOCUME~1/ADMINI~1/CONFIG~1/Temp/msohtml1/01/clip_image002.gif\" v:shapes=\"_x0000_i1025\"><!--[endif]--></p>\n\n\nAnd Opera 11.11\n\n<p class=\"MsoNormal\"><v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\"> <v:stroke joinstyle=\"miter\"> <v:formulas> <v:f eqn=\"if lineDrawn pixelLineWidth 0\"> <v:f eqn=\"sum @0 1 0\"> <v:f eqn=\"sum 0 0 @1\"> <v:f eqn=\"prod @2 1 2\"> <v:f eqn=\"prod @3 21600 pixelWidth\"> <v:f eqn=\"prod @3 21600 pixelHeight\"> <v:f eqn=\"sum @0 0 1\"> <v:f eqn=\"prod @6 1 2\"> <v:f eqn=\"prod @7 21600 pixelWidth\"> <v:f eqn=\"sum @8 21600 0\"> <v:f eqn=\"prod @7 21600 pixelHeight\"> <v:f eqn=\"sum @10 21600 0\"> </v:formulas> <v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"> <o:lock v:ext=\"edit\" aspectratio=\"t\"> </v:shapetype><v:shape id=\"_x0000_i1025\" type=\"#_x0000_t75\" style=\"width:159pt; height:73.5pt\"> <v:imagedata src=\"file:///C:\\DOCUME~1\\ADMINI~1\\CONFIG~1\\Temp\\msohtml1\\01\\clip_image001.emz\" o:title=\"\"> </v:shape><img width=\"212\" height=\"98\" src=\"file:///C:\\DOCUME~1\\ADMINI~1\\CONFIG~1\\Temp\\msohtml1\\01\\clip_image002.gif\" v:shapes=\"_x0000_i1025\"></p>", "attachment_id": null, "tags": [], "bug_id": 665341, "text": "Firefox 4.01 generates this\n\n<!--[if !mso]> <style> v\\:* {behavior:url(#default#VML);} o\\:* {behavior:url(#default#VML);} w\\:* {behavior:url(#default#VML);} .shape {behavior:url(#default#VML);} </style> <![endif]--><!--[if gte mso 9]><xml> <w:WordDocument> <w:View>Normal</w:View> <w:Zoom>0</w:Zoom> <w:HyphenationZone>21</w:HyphenationZone> <w:PunctuationKerning/> <w:ValidateAgainstSchemas/> <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid> <w:IgnoreMixedContent>false</w:IgnoreMixedContent> <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText> <w:Compatibility> <w:BreakWrappedTables/> <w:SnapToGridInCell/> <w:WrapTextWithPunct/> <w:UseAsianBreakRules/> <w:DontGrowAutofit/> </w:Compatibility> <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel> </w:WordDocument> </xml><![endif]--><!--[if gte mso 9]><xml> <w:LatentStyles DefLockedState=\"false\" LatentStyleCount=\"156\"> </w:LatentStyles> </xml><![endif]--><!--[if gte mso 10]> <style> /* Style Definitions */ table.MsoNormalTable {mso-style-name:\"Tabla normal\"; mso-tstyle-rowband-size:0; mso-tstyle-colband-size:0; mso-style-noshow:yes; mso-style-parent:\"\"; mso-padding-alt:0cm 5.4pt 0cm 5.4pt; mso-para-margin:0cm; mso-para-margin-bottom:.0001pt; mso-pagination:widow-orphan; font-size:10.0pt; font-family:\"Times New Roman\"; mso-ansi-language:#0400; mso-fareast-language:#0400; mso-bidi-language:#0400;} </style> <![endif]--> <p class=\"MsoNormal\"><img src=\"file:///C:/DOCUME%7E1/ADMINI%7E1/CONFIG%7E1/Temp/msohtml1/01/clip_image002.gif\" width=\"212\" height=\"98\"></p> \n\n\nIE8 gives an error trying to switch to source mode\n\nChrome 12 generates this\n\n<p class=\"MsoNormal\"><!--[if gte vml 1]><v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\"> <v:stroke joinstyle=\"miter\"/> <v:formulas> <v:f eqn=\"if lineDrawn pixelLineWidth 0\"/> <v:f eqn=\"sum @0 1 0\"/> <v:f eqn=\"sum 0 0 @1\"/> <v:f eqn=\"prod @2 1 2\"/> <v:f eqn=\"prod @3 21600 pixelWidth\"/> <v:f eqn=\"prod @3 21600 pixelHeight\"/> <v:f eqn=\"sum @0 0 1\"/> <v:f eqn=\"prod @6 1 2\"/> <v:f eqn=\"prod @7 21600 pixelWidth\"/> <v:f eqn=\"sum @8 21600 0\"/> <v:f eqn=\"prod @7 21600 pixelHeight\"/> <v:f eqn=\"sum @10 21600 0\"/> </v:formulas> <v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"/> <o:lock v:ext=\"edit\" aspectratio=\"t\"/> </v:shapetype><v:shape id=\"_x0000_i1025\" type=\"#_x0000_t75\" style='width:159pt; height:73.5pt'> <v:imagedata src=\"file:///C:\\DOCUME~1\\ADMINI~1\\CONFIG~1\\Temp\\msohtml1\\01\\clip_image001.emz\" o:title=\"\"/> </v:shape><![endif]--><!--[if !vml]--><img width=\"212\" height=\"98\" src=\"file:///C:/DOCUME~1/ADMINI~1/CONFIG~1/Temp/msohtml1/01/clip_image002.gif\" v:shapes=\"_x0000_i1025\"><!--[endif]--></p>\n\n\nAnd Opera 11.11\n\n<p class=\"MsoNormal\"><v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\"> <v:stroke joinstyle=\"miter\"> <v:formulas> <v:f eqn=\"if lineDrawn pixelLineWidth 0\"> <v:f eqn=\"sum @0 1 0\"> <v:f eqn=\"sum 0 0 @1\"> <v:f eqn=\"prod @2 1 2\"> <v:f eqn=\"prod @3 21600 pixelWidth\"> <v:f eqn=\"prod @3 21600 pixelHeight\"> <v:f eqn=\"sum @0 0 1\"> <v:f eqn=\"prod @6 1 2\"> <v:f eqn=\"prod @7 21600 pixelWidth\"> <v:f eqn=\"sum @8 21600 0\"> <v:f eqn=\"prod @7 21600 pixelHeight\"> <v:f eqn=\"sum @10 21600 0\"> </v:formulas> <v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"> <o:lock v:ext=\"edit\" aspectratio=\"t\"> </v:shapetype><v:shape id=\"_x0000_i1025\" type=\"#_x0000_t75\" style=\"width:159pt; height:73.5pt\"> <v:imagedata src=\"file:///C:\\DOCUME~1\\ADMINI~1\\CONFIG~1\\Temp\\msohtml1\\01\\clip_image001.emz\" o:title=\"\"> </v:shape><img width=\"212\" height=\"98\" src=\"file:///C:\\DOCUME~1\\ADMINI~1\\CONFIG~1\\Temp\\msohtml1\\01\\clip_image002.gif\" v:shapes=\"_x0000_i1025\"></p>"}, {"is_private": false, "id": 5546817, "count": 7, "creator": "ehsan.akhgari@gmail.com", "time": "2011-06-21T22:26:26Z", "creation_time": "2011-06-21T22:26:26Z", "author": "ehsan.akhgari@gmail.com", "attachment_id": null, "raw_text": "So, this shows that this is not an interoperability issue, and my comment 2 still applies.  I'm WONTFIXing this bug for now.", "tags": [], "text": "So, this shows that this is not an interoperability issue, and my comment 2 still applies.  I'm WONTFIXing this bug for now.", "bug_id": 665341}, {"tags": [], "bug_id": 665341, "text": "For the records, I don't see this as a bug, but as a new feature.", "attachment_id": null, "raw_text": "For the records, I don't see this as a bug, but as a new feature.", "creator": "fredck@fredck.com", "creation_time": "2011-06-27T19:06:41Z", "time": "2011-06-27T19:06:41Z", "author": "fredck@fredck.com", "is_private": false, "id": 5559417, "count": 8}, {"text": "IE11 has implemented this feature as well as adding an additional twist.\n\nCheck their demo at:\nhttp://ie.microsoft.com/testdrive/browser/Editing_Paste_Image/\n\nIf you leave the default \"no script\" and copy an image into the clipboard from a screenshot for example, both Firefox and IE11 will generate an image with a data URI. Chrome requires to switch to \"blob script\" (IE11 will also paste in this case by generating a blob URI) to use the paste event.\n\nNow open a document in MS Word with some text and one or more images, and try pasting again. Look at the pasted data between all the xml-msword crap:\nFirefox currently removes all the references to the image (so the privacy issue part of this bug is fixed) Only the text is pasted and the user says \"Boo!\"\nChrome seems to paste just what is in the clipboard, but that's a reference to a local file so it's not usable.\n\nIE11 pastes the html embedding the image as base64 (if the no script option is selected) or as blob references (by using the paste event and the files list). So now the page can use the content that exists in Word and the user is very happy because he can finish his task easily.\n\nIs it possible to reopen the bug and review this decision?\n\nThe goal would be to have a behavior like IE 11:\nBy default convert local references in HTML fragments (currently I think that only MS Word generates them) to base64 data URI, and as a next enhancement provide an equivalent to msConvertURL method http://msdn.microsoft.com/en-us/library/ie/dn254951%28v=vs.85%29.aspx", "bug_id": 665341, "tags": [], "attachment_id": null, "raw_text": "IE11 has implemented this feature as well as adding an additional twist.\n\nCheck their demo at:\nhttp://ie.microsoft.com/testdrive/browser/Editing_Paste_Image/\n\nIf you leave the default \"no script\" and copy an image into the clipboard from a screenshot for example, both Firefox and IE11 will generate an image with a data URI. Chrome requires to switch to \"blob script\" (IE11 will also paste in this case by generating a blob URI) to use the paste event.\n\nNow open a document in MS Word with some text and one or more images, and try pasting again. Look at the pasted data between all the xml-msword crap:\nFirefox currently removes all the references to the image (so the privacy issue part of this bug is fixed) Only the text is pasted and the user says \"Boo!\"\nChrome seems to paste just what is in the clipboard, but that's a reference to a local file so it's not usable.\n\nIE11 pastes the html embedding the image as base64 (if the no script option is selected) or as blob references (by using the paste event and the files list). So now the page can use the content that exists in Word and the user is very happy because he can finish his task easily.\n\nIs it possible to reopen the bug and review this decision?\n\nThe goal would be to have a behavior like IE 11:\nBy default convert local references in HTML fragments (currently I think that only MS Word generates them) to base64 data URI, and as a next enhancement provide an equivalent to msConvertURL method http://msdn.microsoft.com/en-us/library/ie/dn254951%28v=vs.85%29.aspx", "time": "2013-11-27T18:57:53Z", "creation_time": "2013-11-27T18:57:53Z", "creator": "amla70@gmail.com", "author": "amla70@gmail.com", "id": 8132261, "count": 9, "is_private": false}, {"tags": [], "text": "Ups, after reviewing the setting in this version of MS Word and disabling the VML option in the export to web panel I see that Firefox hasn't changed anything, the image is pasted as a reference to a local file.", "bug_id": 665341, "attachment_id": null, "raw_text": "Ups, after reviewing the setting in this version of MS Word and disabling the VML option in the export to web panel I see that Firefox hasn't changed anything, the image is pasted as a reference to a local file.", "creator": "amla70@gmail.com", "time": "2013-11-27T19:09:08Z", "creation_time": "2013-11-27T19:09:08Z", "author": "amla70@gmail.com", "is_private": false, "id": 8132330, "count": 10}, {"attachment_id": null, "raw_text": "(In reply to comment #10)\n> Ups, after reviewing the setting in this version of MS Word and disabling the\n> VML option in the export to web panel I see that Firefox hasn't changed\n> anything, the image is pasted as a reference to a local file.\n\nSo are you still suggesting that we should do something here?  If yes, please elaborate.  I'm not sure if I understand what exactly you're asking us to do here.", "tags": [], "text": "(In reply to comment #10)\n> Ups, after reviewing the setting in this version of MS Word and disabling the\n> VML option in the export to web panel I see that Firefox hasn't changed\n> anything, the image is pasted as a reference to a local file.\n\nSo are you still suggesting that we should do something here?  If yes, please elaborate.  I'm not sure if I understand what exactly you're asking us to do here.", "bug_id": 665341, "is_private": false, "count": 11, "id": 8132444, "creator": "ehsan.akhgari@gmail.com", "time": "2013-11-27T19:32:29Z", "creation_time": "2013-11-27T19:32:29Z", "author": "ehsan.akhgari@gmail.com"}, {"creator": "amla70@gmail.com", "creation_time": "2013-11-27T19:53:14Z", "time": "2013-11-27T19:53:14Z", "author": "amla70@gmail.com", "is_private": false, "count": 12, "id": 8132576, "bug_id": 665341, "text": "Comment #10 was just a correction about a statement in #9 that Firefox had changed its behavior since 2011 to fully remove the image, but the change it seems that it was my version of MS Word (I don't use it except for testing :-).\n\nThe initial report stands the same way and IE11 has been released with the requested behavior.\n\n1. In MS Word open a document with some text and at least an image.\n2. Go to http://ie.microsoft.com/testdrive/browser/Editing_Paste_Image/ and paste with Firefox, look at the \"pasted markup\" and you'll get something like this:\n\n<p style=\"margin-bottom:0cm;margin-bottom:.0001pt\">Text before</p>\n<p style=\"margin-bottom:0cm;margin-bottom:.0001pt\"><span style=\"mso-no-proof:\nyes\"><img src=\"file:///C:\\Users\\Alfonso\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image001.png\" height=\"211\" width=\"335\"></span></p>\n...\n\n3. Paste with IE11 and by default it converts the image to base64 data instead of a file: url\nText before</p>\n...\n<img height=\"211\" width=\"335\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA\n...\n\n\nThis feature makes it possible to really copy and paste a document with its content from MS Word to a web page and include the referenced images. \nThis is an example that takes the data and stores the embedded images as files on the server: http://martinezdelizarrondo.com/ckplugins/simpleuploads.demo4/\n\nThanks for the quick reply", "tags": [], "attachment_id": null, "raw_text": "Comment #10 was just a correction about a statement in #9 that Firefox had changed its behavior since 2011 to fully remove the image, but the change it seems that it was my version of MS Word (I don't use it except for testing :-).\n\nThe initial report stands the same way and IE11 has been released with the requested behavior.\n\n1. In MS Word open a document with some text and at least an image.\n2. Go to http://ie.microsoft.com/testdrive/browser/Editing_Paste_Image/ and paste with Firefox, look at the \"pasted markup\" and you'll get something like this:\n\n<p style=\"margin-bottom:0cm;margin-bottom:.0001pt\">Text before</p>\n<p style=\"margin-bottom:0cm;margin-bottom:.0001pt\"><span style=\"mso-no-proof:\nyes\"><img src=\"file:///C:\\Users\\Alfonso\\AppData\\Local\\Temp\\msohtmlclip1\\01\\clip_image001.png\" height=\"211\" width=\"335\"></span></p>\n...\n\n3. Paste with IE11 and by default it converts the image to base64 data instead of a file: url\nText before</p>\n...\n<img height=\"211\" width=\"335\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA\n...\n\n\nThis feature makes it possible to really copy and paste a document with its content from MS Word to a web page and include the referenced images. \nThis is an example that takes the data and stores the embedded images as files on the server: http://martinezdelizarrondo.com/ckplugins/simpleuploads.demo4/\n\nThanks for the quick reply"}, {"count": 13, "id": 8132780, "is_private": false, "creation_time": "2013-11-27T20:33:22Z", "time": "2013-11-27T20:33:22Z", "creator": "ehsan.akhgari@gmail.com", "author": "ehsan.akhgari@gmail.com", "attachment_id": null, "raw_text": "OK, so it looks like what Microsoft has implemented in IE11 is an msConvertURL method on the files collection of window.clipboardData.  See <http://msdn.microsoft.com/en-us/library/ie/dn254951%28v=vs.85%29.aspx>.  I can't find a spec for this method.  As long as this is an IE proprietary API, then this remains WONTFIX I'm afraid.", "text": "OK, so it looks like what Microsoft has implemented in IE11 is an msConvertURL method on the files collection of window.clipboardData.  See <http://msdn.microsoft.com/en-us/library/ie/dn254951%28v=vs.85%29.aspx>.  I can't find a spec for this method.  As long as this is an IE proprietary API, then this remains WONTFIX I'm afraid.", "bug_id": 665341, "tags": []}, {"raw_text": "The msConvertURL method is used to handle the .files property of the clipboardData object to Blob objects, but without any scripting and any new API, now when a user pastes into a contentEditable element from MS Word they will get the images embedded as base64 data.\n\nThe first part of this post shows a table comparing the two pasting options available in IE11 \nhttp://blogs.msdn.com/b/ie/archive/2013/10/24/enhanced-rich-editing-experiences-in-ie11.aspx\n\nThis ticket only requests the first column \"DataURI\". The msConvertURL is used for the \"Blob\" column and as you said, the first task would be to find a spec for it.\nFirefox already supports pasting single images as Data URIs, extending it to handle file: uri and convert those files to base64 data would mean greater compatibility with MS Office (I guess that the same clipboard behavior is present in Outlook for example)", "attachment_id": null, "tags": [], "text": "The msConvertURL method is used to handle the .files property of the clipboardData object to Blob objects, but without any scripting and any new API, now when a user pastes into a contentEditable element from MS Word they will get the images embedded as base64 data.\n\nThe first part of this post shows a table comparing the two pasting options available in IE11 \nhttp://blogs.msdn.com/b/ie/archive/2013/10/24/enhanced-rich-editing-experiences-in-ie11.aspx\n\nThis ticket only requests the first column \"DataURI\". The msConvertURL is used for the \"Blob\" column and as you said, the first task would be to find a spec for it.\nFirefox already supports pasting single images as Data URIs, extending it to handle file: uri and convert those files to base64 data would mean greater compatibility with MS Office (I guess that the same clipboard behavior is present in Outlook for example)", "bug_id": 665341, "is_private": false, "id": 8132853, "count": 14, "author": "amla70@gmail.com", "creator": "amla70@gmail.com", "creation_time": "2013-11-27T20:49:26Z", "time": "2013-11-27T20:49:26Z"}, {"author": "ehsan.akhgari@gmail.com", "creator": "ehsan.akhgari@gmail.com", "time": "2013-11-27T21:32:31Z", "creation_time": "2013-11-27T21:32:31Z", "is_private": false, "count": 15, "id": 8133014, "text": "I see.  OK, reopening this bug then!  Thanks for taking the time to convince me.  :-)", "bug_id": 665341, "tags": [], "raw_text": "I see.  OK, reopening this bug then!  Thanks for taking the time to convince me.  :-)", "attachment_id": null}, {"attachment_id": null, "raw_text": "As the editor of the Clipboard Events spec, I'm proposing a somewhat different take on this: \"cid:\"-URIs for embeds. See http://dev.w3.org/2006/webapi/clipops/clipops.html (search for \"cid:\").\n\nThe idea is that rather than embedding potentially very huge data: URLs or reference local files in the embedded markup, we add a reference to the DataTransferItemList, and use the index of this reference to construct a cid: URI in the markup that clipboardEvent.getData('text/html') will see. The script processing this data can then pull out the cid: URIs, do drag-and-drop style file uploads for referenced clipboard parts, and update the data to refer to the locations on the server eventually (maybe first using an intermediate placeholder image or something like that.)\n\nI'm looking for feedback regarding whether this is implementable and a good solution. I haven't had much (if any) feedback from implementors on this issue yet.", "tags": [], "bug_id": 665341, "text": "As the editor of the Clipboard Events spec, I'm proposing a somewhat different take on this: \"cid:\"-URIs for embeds. See http://dev.w3.org/2006/webapi/clipops/clipops.html (search for \"cid:\").\n\nThe idea is that rather than embedding potentially very huge data: URLs or reference local files in the embedded markup, we add a reference to the DataTransferItemList, and use the index of this reference to construct a cid: URI in the markup that clipboardEvent.getData('text/html') will see. The script processing this data can then pull out the cid: URIs, do drag-and-drop style file uploads for referenced clipboard parts, and update the data to refer to the locations on the server eventually (maybe first using an intermediate placeholder image or something like that.)\n\nI'm looking for feedback regarding whether this is implementable and a good solution. I haven't had much (if any) feedback from implementors on this issue yet.", "id": 8328262, "count": 16, "is_private": false, "creation_time": "2014-01-24T00:07:04Z", "time": "2014-01-24T00:07:04Z", "creator": "hsteen@mozilla.com", "author": "hsteen@mozilla.com"}, {"is_private": false, "count": 17, "id": 8328371, "author": "ehsan.akhgari@gmail.com", "creator": "ehsan.akhgari@gmail.com", "creation_time": "2014-01-24T00:38:12Z", "time": "2014-01-24T00:38:12Z", "raw_text": "(In reply to Hallvord R. M. Steen from comment #16)\n> As the editor of the Clipboard Events spec, I'm proposing a somewhat\n> different take on this: \"cid:\"-URIs for embeds. See\n> http://dev.w3.org/2006/webapi/clipops/clipops.html (search for \"cid:\").\n\nHmm, a cid: URI would be an addition to the Web platform, since it's currently not used anywhere else in the platform (that at least I know of.)  As such, I think the decision on whether or not we should do that should happen in a broader forum.  I'm not sure what that forum would be though, Anne do you know?\n\n> The idea is that rather than embedding potentially very huge data: URLs or\n> reference local files in the embedded markup, we add a reference to the\n> DataTransferItemList, and use the index of this reference to construct a\n> cid: URI in the markup that clipboardEvent.getData('text/html') will see.\n> The script processing this data can then pull out the cid: URIs, do\n> drag-and-drop style file uploads for referenced clipboard parts, and update\n> the data to refer to the locations on the server eventually (maybe first\n> using an intermediate placeholder image or something like that.)\n\nHmm, I'm not sure why that is better than looking at data: URIs, uploading them to a server and replacing them with another URI pointing to the resource stored on the server.  What am I missing?", "attachment_id": null, "text": "(In reply to Hallvord R. M. Steen from comment #16)\n> As the editor of the Clipboard Events spec, I'm proposing a somewhat\n> different take on this: \"cid:\"-URIs for embeds. See\n> http://dev.w3.org/2006/webapi/clipops/clipops.html (search for \"cid:\").\n\nHmm, a cid: URI would be an addition to the Web platform, since it's currently not used anywhere else in the platform (that at least I know of.)  As such, I think the decision on whether or not we should do that should happen in a broader forum.  I'm not sure what that forum would be though, Anne do you know?\n\n> The idea is that rather than embedding potentially very huge data: URLs or\n> reference local files in the embedded markup, we add a reference to the\n> DataTransferItemList, and use the index of this reference to construct a\n> cid: URI in the markup that clipboardEvent.getData('text/html') will see.\n> The script processing this data can then pull out the cid: URIs, do\n> drag-and-drop style file uploads for referenced clipboard parts, and update\n> the data to refer to the locations on the server eventually (maybe first\n> using an intermediate placeholder image or something like that.)\n\nHmm, I'm not sure why that is better than looking at data: URIs, uploading them to a server and replacing them with another URI pointing to the resource stored on the server.  What am I missing?", "bug_id": 665341, "tags": []}, {"raw_text": "I'll ask on public-webapps for a wider review (could also take it to the general whatwg list of course, though that list is too busy for me to follow on a regular basis).\n\nRegarding data: URLs, isn't there a limit to how much data it's convenient (or even possible) to handle in such a format? I suppose we want to support use cases like, say, pasting some HTML that references a local video file. Encoding every binary part no matter its size into a data: URL seems like a kludge to me..", "attachment_id": null, "tags": [], "bug_id": 665341, "text": "I'll ask on public-webapps for a wider review (could also take it to the general whatwg list of course, though that list is too busy for me to follow on a regular basis).\n\nRegarding data: URLs, isn't there a limit to how much data it's convenient (or even possible) to handle in such a format? I suppose we want to support use cases like, say, pasting some HTML that references a local video file. Encoding every binary part no matter its size into a data: URL seems like a kludge to me..", "is_private": false, "id": 8328430, "count": 18, "author": "hsteen@mozilla.com", "creator": "hsteen@mozilla.com", "time": "2014-01-24T00:51:30Z", "creation_time": "2014-01-24T00:51:30Z"}, {"raw_text": "(BTW cid: URIs are of course used millions of times every day in E-mailed HTML. You may define that as outside the scope of the web platform, it is nevertheless a simple and very widely deployed solution to this very problem. I do agree though that this would be the first time it's used in a W3C spec intended for wider web usage, and )", "attachment_id": null, "text": "(BTW cid: URIs are of course used millions of times every day in E-mailed HTML. You may define that as outside the scope of the web platform, it is nevertheless a simple and very widely deployed solution to this very problem. I do agree though that this would be the first time it's used in a W3C spec intended for wider web usage, and )", "bug_id": 665341, "tags": [], "is_private": false, "id": 8328445, "count": 19, "author": "hsteen@mozilla.com", "creator": "hsteen@mozilla.com", "time": "2014-01-24T00:53:59Z", "creation_time": "2014-01-24T00:53:59Z"}, {"attachment_id": null, "raw_text": "oops - sent prematurely. I wanted to finish off saying I fully agree with you that it requires wider review and discussion..", "tags": [], "bug_id": 665341, "text": "oops - sent prematurely. I wanted to finish off saying I fully agree with you that it requires wider review and discussion..", "count": 20, "id": 8328451, "is_private": false, "creation_time": "2014-01-24T00:54:57Z", "time": "2014-01-24T00:54:57Z", "creator": "hsteen@mozilla.com", "author": "hsteen@mozilla.com"}, {"author": "ehsan.akhgari@gmail.com", "creation_time": "2014-01-24T01:07:20Z", "time": "2014-01-24T01:07:20Z", "creator": "ehsan.akhgari@gmail.com", "id": 8328493, "count": 21, "is_private": false, "bug_id": 665341, "text": "(In reply to Hallvord R. M. Steen from comment #18)\n> I'll ask on public-webapps for a wider review (could also take it to the\n> general whatwg list of course, though that list is too busy for me to follow\n> on a regular basis).\n\nSounds good.\n\n> Regarding data: URLs, isn't there a limit to how much data it's convenient\n> (or even possible) to handle in such a format?\n\nThere might be implementation defined limitations.  Gecko doesn't cap the maximum length, as far as I can see in the code.\n\n> I suppose we want to support\n> use cases like, say, pasting some HTML that references a local video file.\n> Encoding every binary part no matter its size into a data: URL seems like a\n> kludge to me..\n\nYeah I guess processing such huge data: URIs won't be very efficient.\n\n(In reply to Hallvord R. M. Steen from comment #19)\n> (BTW cid: URIs are of course used millions of times every day in E-mailed\n> HTML. You may define that as outside the scope of the web platform, it is\n> nevertheless a simple and very widely deployed solution to this very\n> problem. I do agree though that this would be the first time it's used in a\n> W3C spec intended for wider web usage, and )\n\nYeah I'm aware of the usage of cid: URIs for email, but I'm unaware of any browser engine (including Gecko) implementing those URIs, since they're not used anywhere on the web.", "tags": [], "raw_text": "(In reply to Hallvord R. M. Steen from comment #18)\n> I'll ask on public-webapps for a wider review (could also take it to the\n> general whatwg list of course, though that list is too busy for me to follow\n> on a regular basis).\n\nSounds good.\n\n> Regarding data: URLs, isn't there a limit to how much data it's convenient\n> (or even possible) to handle in such a format?\n\nThere might be implementation defined limitations.  Gecko doesn't cap the maximum length, as far as I can see in the code.\n\n> I suppose we want to support\n> use cases like, say, pasting some HTML that references a local video file.\n> Encoding every binary part no matter its size into a data: URL seems like a\n> kludge to me..\n\nYeah I guess processing such huge data: URIs won't be very efficient.\n\n(In reply to Hallvord R. M. Steen from comment #19)\n> (BTW cid: URIs are of course used millions of times every day in E-mailed\n> HTML. You may define that as outside the scope of the web platform, it is\n> nevertheless a simple and very widely deployed solution to this very\n> problem. I do agree though that this would be the first time it's used in a\n> W3C spec intended for wider web usage, and )\n\nYeah I'm aware of the usage of cid: URIs for email, but I'm unaware of any browser engine (including Gecko) implementing those URIs, since they're not used anywhere on the web.", "attachment_id": null}, {"creator": "hsteen@mozilla.com", "creation_time": "2015-08-09T20:07:35Z", "time": "2015-08-09T20:07:35Z", "author": "hsteen@mozilla.com", "is_private": false, "count": 22, "id": 10596557, "bug_id": 665341, "text": "There wasn't much feedback on this issue as far as I remember. I guess lack of discussion is bad rather than good..?", "tags": [], "attachment_id": null, "raw_text": "There wasn't much feedback on this issue as far as I remember. I guess lack of discussion is bad rather than good..?"}, {"raw_text": "Just a note: if the source is Libre Office 4.4, then the image is embedded as base64 data, so any page that has taken this into account (as well as handling normal image pastes in Firefox) would just work if you make the suggested change and bring parity with IE11.\n\nThere are several problems that each browser has related to pasting from the native OS and this is one of the problems in Firefox (as well as the inability to paste files outside a contentEditable element)", "attachment_id": null, "text": "Just a note: if the source is Libre Office 4.4, then the image is embedded as base64 data, so any page that has taken this into account (as well as handling normal image pastes in Firefox) would just work if you make the suggested change and bring parity with IE11.\n\nThere are several problems that each browser has related to pasting from the native OS and this is one of the problems in Firefox (as well as the inability to paste files outside a contentEditable element)", "bug_id": 665341, "tags": [], "id": 10596575, "count": 23, "is_private": false, "author": "amla70@gmail.com", "creation_time": "2015-08-09T20:21:06Z", "time": "2015-08-09T20:21:06Z", "creator": "amla70@gmail.com"}, {"tags": [], "bug_id": 665341, "text": "Still reproducible with Microsoft Word 2013, the file referenced is an image in %AppData%\\Local\\Temp.", "attachment_id": null, "raw_text": "Still reproducible with Microsoft Word 2013, the file referenced is an image in %AppData%\\Local\\Temp.", "creation_time": "2015-08-10T03:01:36Z", "time": "2015-08-10T03:01:36Z", "creator": "rsx11m.pub@gmail.com", "author": "rsx11m.pub@gmail.com", "count": 24, "id": 10597111, "is_private": false}, {"attachment_id": null, "raw_text": "Some observations:\nComment #23:\nYes, LibreOffice places a copied image as base64 data onto the clipboard, so it pastes into contenteditables (incl. Thunderbird's composition window).\n\nComment #24:\nYes, MS Office places the image as a link to somewhere in %AppData%\\Local\\Temp.\nPasting into Thunderbird works nicely, since some logic jumps in, grabs the image, adds it as attachment and changes the link to this a content-id, for example: <img src=\"cid:part1.01070202.08030108@domain.com\">\nSomething similar was mentioned in comment #16 to #19.\n\nPasting into a content editable (URL: data:text/html, <html contenteditable>) shows a broken image. Not sure why.\n\nHowever, using htmlpaste.html (attachment 8593110) from bug 586587 and a version of FF with its patch applied, it does paste correctly. Again, I'm not sure why this works, whereas pasting directly into a contenteditable does not.\n\nAnyway, that's all idle talk since the bug is about converting the \"file:\"-URI to a \"data:\"-URI or a \"cid:\"-URI.", "tags": [], "text": "Some observations:\nComment #23:\nYes, LibreOffice places a copied image as base64 data onto the clipboard, so it pastes into contenteditables (incl. Thunderbird's composition window).\n\nComment #24:\nYes, MS Office places the image as a link to somewhere in %AppData%\\Local\\Temp.\nPasting into Thunderbird works nicely, since some logic jumps in, grabs the image, adds it as attachment and changes the link to this a content-id, for example: <img src=\"cid:part1.01070202.08030108@domain.com\">\nSomething similar was mentioned in comment #16 to #19.\n\nPasting into a content editable (URL: data:text/html, <html contenteditable>) shows a broken image. Not sure why.\n\nHowever, using htmlpaste.html (attachment 8593110) from bug 586587 and a version of FF with its patch applied, it does paste correctly. Again, I'm not sure why this works, whereas pasting directly into a contenteditable does not.\n\nAnyway, that's all idle talk since the bug is about converting the \"file:\"-URI to a \"data:\"-URI or a \"cid:\"-URI.", "bug_id": 665341, "is_private": false, "count": 25, "id": 10892305, "creator": "jorgk-bmo@jorgk.com", "creation_time": "2015-11-01T16:50:09Z", "time": "2015-11-01T16:50:09Z", "author": "jorgk-bmo@jorgk.com"}, {"bug_id": 665341, "text": "(In reply to Jorg K (GMT+2) from comment #25)\n> Pasting into a contenteditable (URL: data:text/html, <html\n> contenteditable>) shows a broken image. Not sure why.\nPasting into \"regular\" page that contains a contenteditable works as expected, but again the MIDAS demo (http://www-archive.mozilla.org/editor/midasdemo/) doesn't. So there are subtle differences.", "tags": [], "attachment_id": null, "raw_text": "(In reply to Jorg K (GMT+2) from comment #25)\n> Pasting into a contenteditable (URL: data:text/html, <html\n> contenteditable>) shows a broken image. Not sure why.\nPasting into \"regular\" page that contains a contenteditable works as expected, but again the MIDAS demo (http://www-archive.mozilla.org/editor/midasdemo/) doesn't. So there are subtle differences.", "creation_time": "2015-11-01T17:04:10Z", "time": "2015-11-01T17:04:10Z", "creator": "jorgk-bmo@jorgk.com", "author": "jorgk-bmo@jorgk.com", "count": 26, "id": 10892313, "is_private": false}, {"tags": [], "bug_id": 665341, "text": "> Pasting into \"regular\" page that contains a contenteditable works as\n> expected, but again the MIDAS demo\n> (http://www-archive.mozilla.org/editor/midasdemo/) doesn't. \n\nWas that \"regular\" page loading from file://? http(s):// resources are not supposed to have access to file:// content, so pasting markup with file:// paths shouldn't work on http(s):// pages..", "raw_text": "> Pasting into \"regular\" page that contains a contenteditable works as\n> expected, but again the MIDAS demo\n> (http://www-archive.mozilla.org/editor/midasdemo/) doesn't. \n\nWas that \"regular\" page loading from file://? http(s):// resources are not supposed to have access to file:// content, so pasting markup with file:// paths shouldn't work on http(s):// pages..", "attachment_id": null, "author": "hsteen@mozilla.com", "time": "2015-11-02T08:20:35Z", "creation_time": "2015-11-02T08:20:35Z", "creator": "hsteen@mozilla.com", "id": 10893412, "count": 27, "is_private": false}, {"is_private": false, "count": 28, "id": 10893480, "author": "jorgk-bmo@jorgk.com", "creator": "jorgk-bmo@jorgk.com", "creation_time": "2015-11-02T09:01:46Z", "time": "2015-11-02T09:01:46Z", "raw_text": "I don't think I understand the question. The \"regular\" page is this:\n  <html><body>\n  <div style=\"background-color:#eee;border:1px solid #000;padding:10px; \n  height:200px;\" contenteditable=\"\"></div>\n  </body></html>\nloaded from a local file.\nWhat doesn't work is http://www-archive.mozilla.org/editor/midasdemo/ and this URL:\n  data:text/html, <html contenteditable>\nI looked at the latter with some developer tools:\nFF says: \"Could not load the image\".\nChrome says: \"Not allowed to load local resource\".\nLooks like it is some security issue, as you indicated.\nSorry, this really has little to do with this bug.", "attachment_id": null, "tags": [], "text": "I don't think I understand the question. The \"regular\" page is this:\n  <html><body>\n  <div style=\"background-color:#eee;border:1px solid #000;padding:10px; \n  height:200px;\" contenteditable=\"\"></div>\n  </body></html>\nloaded from a local file.\nWhat doesn't work is http://www-archive.mozilla.org/editor/midasdemo/ and this URL:\n  data:text/html, <html contenteditable>\nI looked at the latter with some developer tools:\nFF says: \"Could not load the image\".\nChrome says: \"Not allowed to load local resource\".\nLooks like it is some security issue, as you indicated.\nSorry, this really has little to do with this bug.", "bug_id": 665341}, {"creator": "andrew.herron@ephox.com", "time": "2015-11-02T09:03:34Z", "creation_time": "2015-11-02T09:03:34Z", "author": "andrew.herron@ephox.com", "is_private": false, "id": 10893484, "count": 29, "tags": [], "text": "ah, it probably worked because you loaded it from a local file. Local URLs are, I believe, allowed to load images from the filesystem?", "bug_id": 665341, "attachment_id": null, "raw_text": "ah, it probably worked because you loaded it from a local file. Local URLs are, I believe, allowed to load images from the filesystem?"}, {"tags": [], "text": "Indeed. Moving the document to a server and pasting gives the same as the Midas demo: A broken image.\nSo we can close this side issue. Sorry for bringing it up.", "bug_id": 665341, "raw_text": "Indeed. Moving the document to a server and pasting gives the same as the Midas demo: A broken image.\nSo we can close this side issue. Sorry for bringing it up.", "attachment_id": null, "author": "jorgk-bmo@jorgk.com", "creator": "jorgk-bmo@jorgk.com", "creation_time": "2015-11-02T09:44:28Z", "time": "2015-11-02T09:44:28Z", "is_private": false, "count": 30, "id": 10893579}, {"author": "jorgk-bmo@jorgk.com", "creation_time": "2017-04-27T13:24:32Z", "time": "2017-04-27T13:24:32Z", "creator": "jorgk-bmo@jorgk.com", "count": 31, "id": 12271064, "is_private": false, "bug_id": 665341, "text": "In the Thunderbird compose Windows pasting from MS Word will now convert the file: URLs to data: URLs. This works from TB 52 onwards.", "tags": [], "raw_text": "In the Thunderbird compose Windows pasting from MS Word will now convert the file: URLs to data: URLs. This works from TB 52 onwards.", "attachment_id": null}, {"time": "2020-12-14T15:19:11Z", "creation_time": "2020-12-14T15:19:11Z", "creator": "jstutte@mozilla.com", "text": "Bulk-downgrade of unassigned, untouched DOM/Storage bug's priority.\n\nIf you have reason to believe, this is wrong, please write a comment and ni :jstutte.", "bug_id": 665341, "tags": [], "author": "jstutte@mozilla.com", "count": 32, "id": 15173918, "attachment_id": null, "is_private": false, "raw_text": "Bulk-downgrade of unassigned, untouched DOM/Storage bug's priority.\n\nIf you have reason to believe, this is wrong, please write a comment and ni :jstutte."}]}}, "comments": {}}