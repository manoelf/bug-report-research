{"bugs": {"1629670": {"comments": [{"is_private": false, "bug_id": 1629670, "id": 14752616, "author": "iireland@mozilla.com", "attachment_id": null, "text": "Bug 1628835 added support for interpreting regexps. This bug adds support for compiling them to native code.", "tags": [], "time": "2020-04-13T21:51:37Z", "creator": "iireland@mozilla.com", "raw_text": "Bug 1628835 added support for interpreting regexps. This bug adds support for compiling them to native code.", "count": 0, "creation_time": "2020-04-13T21:51:37Z"}, {"raw_text": "\nThe current ForceByteCodeEnum is a glorified boolean. This patch replaces it with a three-value bytecode/jitcode/either enum, which will make our tiering-up logic slightly nicer in the next patch.", "count": 1, "creation_time": "2020-04-14T23:04:00Z", "tags": [], "creator": "iireland@mozilla.com", "time": "2020-04-14T23:04:00Z", "id": 14755608, "author": "iireland@mozilla.com", "attachment_id": 9140618, "text": "Created attachment 9140618\nBug 1629670: Change ForceByteCode to CodeKind r=mgaudet\n\n\nThe current ForceByteCodeEnum is a glorified boolean. This patch replaces it with a three-value bytecode/jitcode/either enum, which will make our tiering-up logic slightly nicer in the next patch.", "is_private": false, "bug_id": 1629670}, {"count": 2, "creation_time": "2020-04-14T23:04:34Z", "raw_text": "\nThe interpreter calls `TierUpTick` whenever we interpret a regexp. Once we hit the tick threshold, compileIfNecessary will compile native code for the regexp.\n\nCurrently the tick threshold is hard-coded to 10. V8's tick threshold is 1, which seems unreasonably low. We can tune this later.\n\nDepends on D70951", "time": "2020-04-14T23:04:34Z", "creator": "iireland@mozilla.com", "tags": [], "text": "Created attachment 9140619\nBug 1629670: Tier up to compiled regexps r=mgaudet\n\n\nThe interpreter calls `TierUpTick` whenever we interpret a regexp. Once we hit the tick threshold, compileIfNecessary will compile native code for the regexp.\n\nCurrently the tick threshold is hard-coded to 10. V8's tick threshold is 1, which seems unreasonably low. We can tune this later.\n\nDepends on D70951", "author": "iireland@mozilla.com", "id": 14755611, "attachment_id": 9140619, "bug_id": 1629670, "is_private": false}, {"tags": [], "creator": "pulsebot@bots.tld", "time": "2020-04-15T19:27:26Z", "raw_text": "Pushed by iireland@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/6de75c45c46c\nChange ForceByteCode to CodeKind r=mgaudet\nhttps://hg.mozilla.org/integration/autoland/rev/e3c3f27d586a\nTier up to compiled regexps r=mgaudet", "creation_time": "2020-04-15T19:27:26Z", "count": 3, "bug_id": 1629670, "is_private": false, "attachment_id": null, "author": "pulsebot@bots.tld", "id": 14757553, "text": "Pushed by iireland@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/6de75c45c46c\nChange ForceByteCode to CodeKind r=mgaudet\nhttps://hg.mozilla.org/integration/autoland/rev/e3c3f27d586a\nTier up to compiled regexps r=mgaudet"}, {"tags": [], "is_private": false, "bug_id": 1629670, "creator": "ncsoregi@mozilla.com", "time": "2020-04-15T20:09:01Z", "attachment_id": null, "raw_text": "Backed out for crashes at [@ js::RegExpRunStatus js::irregexp::InterpretCode<unsigned char>(JSContext*, unsigned char const*, unsigned char const*, unsigned long, unsigned long, js::MatchPairs*, unsigned long*)]\n\nbackout: https://hg.mozilla.org/integration/autoland/rev/0be816646b65bef89a1fa981be7d18d51a24a396\n\nSee https://bugzilla.mozilla.org/show_bug.cgi?id=1628835#c6", "id": 14757653, "author": "ncsoregi@mozilla.com", "creation_time": "2020-04-15T20:09:01Z", "text": "Backed out for crashes at [@ js::RegExpRunStatus js::irregexp::InterpretCode<unsigned char>(JSContext*, unsigned char const*, unsigned char const*, unsigned long, unsigned long, js::MatchPairs*, unsigned long*)]\n\nbackout: https://hg.mozilla.org/integration/autoland/rev/0be816646b65bef89a1fa981be7d18d51a24a396\n\nSee https://bugzilla.mozilla.org/show_bug.cgi?id=1628835#c6", "count": 4}, {"author": "pulsebot@bots.tld", "id": 14757967, "attachment_id": null, "text": "Pushed by iireland@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/a05f70d2f0cb\nChange ForceByteCode to CodeKind r=mgaudet\nhttps://hg.mozilla.org/integration/autoland/rev/65eade01c8c9\nTier up to compiled regexps r=mgaudet", "is_private": false, "bug_id": 1629670, "raw_text": "Pushed by iireland@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/a05f70d2f0cb\nChange ForceByteCode to CodeKind r=mgaudet\nhttps://hg.mozilla.org/integration/autoland/rev/65eade01c8c9\nTier up to compiled regexps r=mgaudet", "count": 5, "creation_time": "2020-04-15T22:08:30Z", "tags": [], "creator": "pulsebot@bots.tld", "time": "2020-04-15T22:08:30Z"}, {"creator": "cbrindusan@mozilla.com", "time": "2020-04-16T09:50:51Z", "tags": ["bugherder"], "creation_time": "2020-04-16T09:50:51Z", "count": 6, "raw_text": "https://hg.mozilla.org/mozilla-central/rev/a05f70d2f0cb\nhttps://hg.mozilla.org/mozilla-central/rev/65eade01c8c9", "bug_id": 1629670, "is_private": false, "text": "https://hg.mozilla.org/mozilla-central/rev/a05f70d2f0cb\nhttps://hg.mozilla.org/mozilla-central/rev/65eade01c8c9", "attachment_id": null, "author": "cbrindusan@mozilla.com", "id": 14758655}]}}, "comments": {}}