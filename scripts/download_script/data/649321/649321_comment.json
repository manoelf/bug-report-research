{"bugs": {"649321": {"comments": [{"text": "User-Agent:       Mozilla/5.0 (X11; Linux x86_64; rv:2.2a1pre) Gecko/20110412 Firefox/4.2a1pre\nBuild Identifier: Mozilla/5.0 (X11; Linux x86_64; rv:2.2a1pre) Gecko/20110412 Firefox/4.2a1pre\n\nWhen downloading a file, a content-type (MIME type) can be added to the Applications Preferences. The description will be reused for other files with the same content-type and it may be incorrect, giving wrong information to the user, who doesn't have access to the content-type itself, only the description.\n\nFirst, having local data modified due to some remote web site is bad as the user may wonder what's going on. It can also be a potential security problem (or at least yield annoying behavior) if the user opens such a file with a wrong application (the file may come from some web site regarded as safe by the user, even under the user's control, but the user will get incorrect information).\n\nReproducible: Always\n\nSteps to Reproduce:\n0. (May be optional) Revert to default settings.\n1. Open a file served as \"Content-Type: application/binary\" with .bz2 extension.\n2. Open a file served as \"Content-Type: application/binary\" with no extension.\nActual Results:  \nThe second file is presented as a \"Bzip archive\".\n\nExpected Results:  \nFirefox should just say that the second file has type application/binary.\n\nThis even affects Safe Mode.", "raw_text": "User-Agent:       Mozilla/5.0 (X11; Linux x86_64; rv:2.2a1pre) Gecko/20110412 Firefox/4.2a1pre\nBuild Identifier: Mozilla/5.0 (X11; Linux x86_64; rv:2.2a1pre) Gecko/20110412 Firefox/4.2a1pre\n\nWhen downloading a file, a content-type (MIME type) can be added to the Applications Preferences. The description will be reused for other files with the same content-type and it may be incorrect, giving wrong information to the user, who doesn't have access to the content-type itself, only the description.\n\nFirst, having local data modified due to some remote web site is bad as the user may wonder what's going on. It can also be a potential security problem (or at least yield annoying behavior) if the user opens such a file with a wrong application (the file may come from some web site regarded as safe by the user, even under the user's control, but the user will get incorrect information).\n\nReproducible: Always\n\nSteps to Reproduce:\n0. (May be optional) Revert to default settings.\n1. Open a file served as \"Content-Type: application/binary\" with .bz2 extension.\n2. Open a file served as \"Content-Type: application/binary\" with no extension.\nActual Results:  \nThe second file is presented as a \"Bzip archive\".\n\nExpected Results:  \nFirefox should just say that the second file has type application/binary.\n\nThis even affects Safe Mode.", "creator": "vincent-moz@vinc17.net", "time": "2011-04-12T13:44:29Z", "count": 0, "bug_id": 649321, "tags": [], "creation_time": "2011-04-12T13:44:29Z", "attachment_id": null, "id": 5403561, "is_private": false, "author": "vincent-moz@vinc17.net"}, {"bug_id": 649321, "text": "Created attachment 525369\n.bz2 file with application/binary content-type", "tags": [], "creation_time": "2011-04-12T13:48:43Z", "attachment_id": 525369, "raw_text": "", "creator": "vincent-moz@vinc17.net", "id": 5403567, "is_private": false, "author": "vincent-moz@vinc17.net", "time": "2011-04-12T13:48:43Z", "count": 1}, {"count": 2, "time": "2011-04-12T13:50:16Z", "creator": "vincent-moz@vinc17.net", "raw_text": "", "text": "Created attachment 525370\ntext file with application/binary content-type", "author": "vincent-moz@vinc17.net", "is_private": false, "id": 5403573, "attachment_id": 525370, "tags": [], "creation_time": "2011-04-12T13:50:16Z", "bug_id": 649321}, {"tags": [], "creation_time": "2011-04-12T14:01:44Z", "attachment_id": null, "raw_text": "I've added two attachments. After saving the first one\n\n  .bz2 file with application/binary content-type\n\na line with \"Bzip archive\" appears in the Applications Preferences. This behavior is wrong because application/binary doesn't necessarily correspond to bzip archives. The consequence of the problem can be seen when opening the second attachment\n\n  text file with application/binary content-type\n\nBasically, what this means is that the correspondence between MIME types and the description provided by Firefox cannot be trusted, even for trusted web sites.", "creator": "vincent-moz@vinc17.net", "bug_id": 649321, "text": "I've added two attachments. After saving the first one\n\n  .bz2 file with application/binary content-type\n\na line with \"Bzip archive\" appears in the Applications Preferences. This behavior is wrong because application/binary doesn't necessarily correspond to bzip archives. The consequence of the problem can be seen when opening the second attachment\n\n  text file with application/binary content-type\n\nBasically, what this means is that the correspondence between MIME types and the description provided by Firefox cannot be trusted, even for trusted web sites.", "is_private": false, "author": "vincent-moz@vinc17.net", "time": "2011-04-12T14:01:44Z", "count": 3, "id": 5403584}, {"is_private": false, "count": 4, "author": "mh+mozilla@glandium.org", "time": "2011-04-12T14:09:50Z", "id": 5403599, "attachment_id": null, "creation_time": "2011-04-12T14:09:50Z", "tags": [], "creator": "mh+mozilla@glandium.org", "raw_text": "Confirmed on Linux. Theoretically, that should affect Windows and Mac, too.\n\n(In reply to comment #3)\n> Basically, what this means is that the correspondence between MIME types and\n> the description provided by Firefox cannot be trusted, even for trusted web\n> sites.\n\n*unknown* MIME types.", "bug_id": 649321, "text": "Confirmed on Linux. Theoretically, that should affect Windows and Mac, too.\n\n(In reply to comment #3)\n> Basically, what this means is that the correspondence between MIME types and\n> the description provided by Firefox cannot be trusted, even for trusted web\n> sites.\n\n*unknown* MIME types."}, {"id": 5403708, "author": "vincent-moz@vinc17.net", "time": "2011-04-12T15:08:25Z", "count": 5, "is_private": false, "text": "FYI, users reported that such additional Applications Preferences data were affecting uploads: https://bugs.launchpad.net/ubuntu/+source/firefox/+bug/84880\n\nUsers also wonder where these data came from...\n\nThis corresponds to Mozilla bug 556977 (still UNCONFIRMED), probably a duplicate of bug 373621, which may be a consequence of this bug.", "bug_id": 649321, "raw_text": "FYI, users reported that such additional Applications Preferences data were affecting uploads: https://bugs.launchpad.net/ubuntu/+source/firefox/+bug/84880\n\nUsers also wonder where these data came from...\n\nThis corresponds to Mozilla bug 556977 (still UNCONFIRMED), probably a duplicate of bug 373621, which may be a consequence of this bug.", "creator": "vincent-moz@vinc17.net", "creation_time": "2011-04-12T15:08:25Z", "tags": [], "attachment_id": null}, {"time": "2011-10-30T12:53:59Z", "count": 6, "text": "This also happens with application/force-download files, which is very annoying since this pseudo-MIME type is precisely used to avoid defining the real MIME type and force downloading. See bug 698265.", "raw_text": "This also happens with application/force-download files, which is very annoying since this pseudo-MIME type is precisely used to avoid defining the real MIME type and force downloading. See bug 698265.", "creator": "nalimilan@club.fr", "id": 5813825, "author": "nalimilan@club.fr", "is_private": false, "bug_id": 649321, "tags": [], "creation_time": "2011-10-30T12:53:59Z", "attachment_id": null}, {"count": 7, "time": "2012-08-19T07:55:45Z", "text": "This affects pdf.js a lot (it pretty much breaks it). Should be fixed before pdf.js is on by default in the released version. PDF files with the content-disposition:attachment header are quite common.", "creator": "spammaaja@yahoo.co.uk", "raw_text": "This affects pdf.js a lot (it pretty much breaks it). Should be fixed before pdf.js is on by default in the released version. PDF files with the content-disposition:attachment header are quite common.", "id": 6565580, "is_private": false, "author": "spammaaja@yahoo.co.uk", "bug_id": 649321, "attachment_id": null, "tags": [], "creation_time": "2012-08-19T07:55:45Z"}, {"id": 8939044, "count": 8, "author": "vincent-moz@vinc17.net", "time": "2014-06-17T09:39:24Z", "is_private": false, "text": "I can't reproduce this bug with:\n  Mozilla/5.0 (X11; Linux x86_64; rv:30.0) Gecko/20100101 Firefox/30.0\n\nwith the testcase provided here: mimeTypes.rdf no longer gets modified.\n\nNote that for old profiles, one may need to clean up mimeTypes.rdf first.", "bug_id": 649321, "creator": "vincent-moz@vinc17.net", "raw_text": "I can't reproduce this bug with:\n  Mozilla/5.0 (X11; Linux x86_64; rv:30.0) Gecko/20100101 Firefox/30.0\n\nwith the testcase provided here: mimeTypes.rdf no longer gets modified.\n\nNote that for old profiles, one may need to clean up mimeTypes.rdf first.", "attachment_id": null, "tags": [], "creation_time": "2014-06-17T09:39:24Z"}, {"time": "2021-11-22T12:04:10Z", "count": 9, "text": "Hey Vincent,\nCan you still reproduce this issue or should we close it?", "raw_text": "Hey Vincent,\nCan you still reproduce this issue or should we close it?", "creator": "andrei.purice@softvision.com", "id": 15667145, "author": "andrei.purice@softvision.com", "is_private": false, "bug_id": 649321, "creation_time": "2021-11-22T12:04:10Z", "tags": [], "attachment_id": null}, {"creator": "vincent-moz@vinc17.net", "raw_text": "In comment 8, I said that I could not reproduce it. And I still cannot reproduce it with Firefox 94 on the provided testcase (BTW, on the .bz2 file, Firefox no longer says \"Bzip archive\", but \"bz2 File\").", "text": "In comment 8, I said that I could not reproduce it. And I still cannot reproduce it with Firefox 94 on the provided testcase (BTW, on the .bz2 file, Firefox no longer says \"Bzip archive\", but \"bz2 File\").", "count": 10, "time": "2021-11-24T00:33:17Z", "attachment_id": null, "creation_time": "2021-11-24T00:33:17Z", "tags": [], "bug_id": 649321, "author": "vincent-moz@vinc17.net", "is_private": false, "id": 15669814}]}}, "comments": {}}