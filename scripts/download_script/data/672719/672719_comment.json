{"comments": {}, "bugs": {"672719": {"comments": [{"id": 5600867, "raw_text": "This would be sort of like the idle memory stats gathering that we currently do. However, it should run at a constant but slow rate. This will ensure that it's not biased by only running when we're idle.\n\nThis kind of thing would be useful for gathering cache hit rates and other statistics that are continuous instead of discrete.", "attachment_id": null, "time": "2011-07-20T03:39:21Z", "tags": [], "text": "This would be sort of like the idle memory stats gathering that we currently do. However, it should run at a constant but slow rate. This will ensure that it's not biased by only running when we're idle.\n\nThis kind of thing would be useful for gathering cache hit rates and other statistics that are continuous instead of discrete.", "author": "jmuizelaar@mozilla.com", "creation_time": "2011-07-20T03:39:21Z", "creator": "jmuizelaar@mozilla.com", "is_private": false, "bug_id": 672719, "count": 0}, {"creator": "taras.mozilla@glek.net", "is_private": false, "count": 1, "author": "taras.mozilla@glek.net", "creation_time": "2011-07-20T17:13:55Z", "tags": [], "time": "2011-07-20T17:13:55Z", "bug_id": 672719, "text": "I agree that the current idle stuff is crap. However the fix for that is to tie to memory allocation. I think cache hit rates should be polled in a different way, that's tied to activity in those caches", "attachment_id": null, "raw_text": "I agree that the current idle stuff is crap. However the fix for that is to tie to memory allocation. I think cache hit rates should be polled in a different way, that's tied to activity in those caches", "id": 5602067}, {"creation_time": "2011-07-22T14:15:10Z", "author": "jmuizelaar@mozilla.com", "text": "(In reply to comment #1)\n> I think cache hit rates should be polled in a\n> different way, that's tied to activity in those caches\n\nCan you elaborate what you have in mind here. Perhaps with an example?", "tags": [], "bug_id": 672719, "time": "2011-07-22T14:15:10Z", "is_private": false, "creator": "jmuizelaar@mozilla.com", "count": 2, "id": 5606980, "attachment_id": null, "raw_text": "(In reply to comment #1)\n> I think cache hit rates should be polled in a\n> different way, that's tied to activity in those caches\n\nCan you elaborate what you have in mind here. Perhaps with an example?"}, {"count": 3, "bug_id": 672719, "raw_text": "I think the current memory reporters should be fixed so they run on something like cycle-collector-begin(but no more often than once a minute) instead of on idle notifications.\n\nIf you are going to be polling cache rates, you should tie to them to something like page-load notifications and have a separate listener for that.", "attachment_id": null, "id": 5607453, "creator": "taras.mozilla@glek.net", "is_private": false, "time": "2011-07-22T17:38:13Z", "tags": [], "text": "I think the current memory reporters should be fixed so they run on something like cycle-collector-begin(but no more often than once a minute) instead of on idle notifications.\n\nIf you are going to be polling cache rates, you should tie to them to something like page-load notifications and have a separate listener for that.", "author": "taras.mozilla@glek.net", "creation_time": "2011-07-22T17:38:13Z"}]}}}