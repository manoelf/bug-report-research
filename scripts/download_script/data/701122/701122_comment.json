{"bugs": {"701122": {"comments": [{"attachment_id": 573270, "time": "2011-11-09T19:53:07Z", "text": "Created attachment 573270\ntest.html\n\nUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.106 Safari/535.2\n\nSteps to reproduce:\n\nClicking on the left half of the first character of the selected text does not start a drag operation. This bug is similar to Bug 307663.\nThis bug happens to contentEditable elements and textAreas.\nThis bug impacts the implementation of drag&drop support for the orion editor (https://bugs.eclipse.org/358623) because we are trying to determine during  a mouse down event if a dragstart will happen or not by verifying if the offset under x, is selected or not.", "creation_time": "2011-11-09T19:53:07Z", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.106 Safari/535.2\n\nSteps to reproduce:\n\nClicking on the left half of the first character of the selected text does not start a drag operation. This bug is similar to Bug 307663.\nThis bug happens to contentEditable elements and textAreas.\nThis bug impacts the implementation of drag&drop support for the orion editor (https://bugs.eclipse.org/358623) because we are trying to determine during  a mouse down event if a dragstart will happen or not by verifying if the offset under x, is selected or not.", "bug_id": 701122, "id": 5837882, "tags": [], "count": 0, "is_private": false, "author": "felipe_heidrich@yahoo.com", "creator": "felipe_heidrich@yahoo.com"}, {"raw_text": "Since this is a bug for contentEditable and textareas, I think this belongs in the Editor component.", "creation_time": "2011-11-14T19:25:50Z", "author": "dangoor@gmail.com", "time": "2011-11-14T19:25:50Z", "attachment_id": null, "text": "Since this is a bug for contentEditable and textareas, I think this belongs in the Editor component.", "creator": "dangoor@gmail.com", "id": 5847322, "tags": [], "is_private": false, "count": 1, "bug_id": 701122}, {"bug_id": 701122, "tags": [], "is_private": false, "count": 2, "id": 5866612, "creator": "ehsan.akhgari@gmail.com", "text": "This seems to me a bug in the event handling code, which is responsible to figure out whether to start a drag operation or not.", "author": "ehsan.akhgari@gmail.com", "time": "2011-11-22T22:17:32Z", "attachment_id": null, "creation_time": "2011-11-22T22:17:32Z", "raw_text": "This seems to me a bug in the event handling code, which is responsible to figure out whether to start a drag operation or not."}, {"author": "enndeakin@gmail.com", "creator": "enndeakin@gmail.com", "time": "2011-11-23T18:16:13Z", "attachment_id": 576532, "text": "Created attachment 576532\nPossible patch\n\nThe third argument to LookupSelection is a length, so a start and end offset of (0, 0) will fail to return anything. Not sure what the right fix here is, but this patch just passes 1 instead.", "raw_text": "The third argument to LookupSelection is a length, so a start and end offset of (0, 0) will fail to return anything. Not sure what the right fix here is, but this patch just passes 1 instead.", "creation_time": "2011-11-23T18:16:13Z", "bug_id": 701122, "id": 5868813, "tags": [], "count": 3, "is_private": false}, {"author": "enndeakin@gmail.com", "creator": "enndeakin@gmail.com", "bug_id": 701122, "id": 5870773, "tags": [], "count": 4, "is_private": false, "time": "2011-11-24T15:00:14Z", "attachment_id": 576760, "text": "Created attachment 576760\nUpdate test", "raw_text": "", "creation_time": "2011-11-24T15:00:14Z"}, {"creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com", "is_private": false, "count": 5, "tags": [], "id": 5887933, "bug_id": 701122, "raw_text": "", "creation_time": "2011-12-02T13:02:25Z", "text": "Created attachment 578549\nTestcase #2", "attachment_id": 578549, "time": "2011-12-02T13:02:25Z"}, {"bug_id": 701122, "count": 6, "is_private": false, "tags": [], "id": 5887937, "text": "Comment on attachment 576760\nUpdate test\n\nSee Testcase #2 - the patch fixes ABCD but not EFGH.\nAlso, selecting AB and then dragging the left part of C\ndoes drag the selection but it shouldn't.\n\nThe real problem is in nsTextFrame::GetCharacterOffsetAtFramePointInternal\nwhich does this half-cluster shift of the content offset.\nThat's what we want when placing the caret for example, but not\nfor determining if the user clicked inside the selection.\n\nCan we make nsIFrame::GetContentOffsetsFromPoint take a flag that\npropagates down to nsTextFrame to avoid the half-cluster shift?\n(something like eForCaretPlacement / eForSelection)", "time": "2011-12-02T13:06:07Z", "attachment_id": 576760, "creation_time": "2011-12-02T13:06:07Z", "raw_text": "See Testcase #2 - the patch fixes ABCD but not EFGH.\nAlso, selecting AB and then dragging the left part of C\ndoes drag the selection but it shouldn't.\n\nThe real problem is in nsTextFrame::GetCharacterOffsetAtFramePointInternal\nwhich does this half-cluster shift of the content offset.\nThat's what we want when placing the caret for example, but not\nfor determining if the user clicked inside the selection.\n\nCan we make nsIFrame::GetContentOffsetsFromPoint take a flag that\npropagates down to nsTextFrame to avoid the half-cluster shift?\n(something like eForCaretPlacement / eForSelection)", "creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com"}, {"creator": "enndeakin@gmail.com", "author": "enndeakin@gmail.com", "raw_text": "Mats, would you be able to take this bug then?", "creation_time": "2011-12-02T15:39:48Z", "text": "Mats, would you be able to take this bug then?", "attachment_id": null, "time": "2011-12-02T15:39:48Z", "count": 7, "is_private": false, "tags": [], "id": 5888206, "bug_id": 701122}]}}, "comments": {}}