{"comments": {}, "bugs": {"640390": {"comments": [{"attachment_id": null, "is_private": false, "time": "2011-03-09T23:42:10Z", "author": "julian.reschke@gmx.de", "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nWhen opening an XML with XSLT-PI, the generated HTML content sometimes displays too wide (though no horizontal scrollbar).\n\nResizing the window fixes the layout problem.\n\nReproducible: Sometimes\n\nSteps to Reproduce:\n1. Open http://greenbytes.de/tech/webdav/rfc5988.xml\n2. Compare to http://greenbytes.de/tech/webdav/rfc5988.html (which is the static transformation result)\n\nActual Results:  \nSometimes, the generated content is too wide, as if a wider screen was assumed.\n\nExpected Results:  \nXML->XSLT->HTML should display exactly the same way as the static HTML version mentioned above.\n\nThis happens only on one of two machines I tried; couldn't figure out the difference yet (both W7SP1).", "id": 5334652, "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nWhen opening an XML with XSLT-PI, the generated HTML content sometimes displays too wide (though no horizontal scrollbar).\n\nResizing the window fixes the layout problem.\n\nReproducible: Sometimes\n\nSteps to Reproduce:\n1. Open http://greenbytes.de/tech/webdav/rfc5988.xml\n2. Compare to http://greenbytes.de/tech/webdav/rfc5988.html (which is the static transformation result)\n\nActual Results:  \nSometimes, the generated content is too wide, as if a wider screen was assumed.\n\nExpected Results:  \nXML->XSLT->HTML should display exactly the same way as the static HTML version mentioned above.\n\nThis happens only on one of two machines I tried; couldn't figure out the difference yet (both W7SP1).", "creation_time": "2011-03-09T23:42:10Z", "bug_id": 640390, "count": 0, "creator": "julian.reschke@gmx.de", "tags": []}, {"author": "hsivonen@mozilla.com", "text": "Can't reproduce this bug assigning to the right component.", "creation_time": "2011-03-10T14:13:20Z", "raw_text": "Can't reproduce this bug assigning to the right component.", "id": 5335977, "bug_id": 640390, "tags": [], "creator": "hsivonen@mozilla.com", "count": 1, "attachment_id": null, "is_private": false, "time": "2011-03-10T14:13:20Z"}, {"author": "julian.reschke@gmx.de", "text": "I just tried with FF4b12 on MacOS, and the effect is the other way round: the display is too small; there's a few inches of white space between the scroll bar and the window border. Again, resizing the window once fixes the problem.", "creation_time": "2011-03-10T14:16:57Z", "raw_text": "I just tried with FF4b12 on MacOS, and the effect is the other way round: the display is too small; there's a few inches of white space between the scroll bar and the window border. Again, resizing the window once fixes the problem.", "id": 5335987, "bug_id": 640390, "creator": "julian.reschke@gmx.de", "count": 2, "tags": [], "attachment_id": null, "is_private": false, "time": "2011-03-10T14:16:57Z"}, {"text": "(In reply to comment #1)\n> Can't reproduce this bug assigning to the right component.\n\nI don't see how this could be an XSLT problem; after all, the transformation happens, it's just rendered incorrectly.\n\nI can still reproduce this; is there anything I can do to provide more information?", "is_private": false, "creation_time": "2011-03-23T18:16:17Z", "raw_text": "(In reply to comment #1)\n> Can't reproduce this bug assigning to the right component.\n\nI don't see how this could be an XSLT problem; after all, the transformation happens, it's just rendered incorrectly.\n\nI can still reproduce this; is there anything I can do to provide more information?", "id": 5363143, "bug_id": 640390, "tags": [], "creator": "julian.reschke@gmx.de", "count": 3, "time": "2011-03-23T18:16:17Z", "author": "julian.reschke@gmx.de", "attachment_id": null}, {"attachment_id": null, "is_private": false, "time": "2011-03-23T21:38:32Z", "author": "jonas@sicking.cc", "creation_time": "2011-03-23T21:38:32Z", "text": "Julian, our XSLT bugzilla component also covers the glue code between the transformation engine and the rest of gecko. Which is likely where this bug lies.\n\nI'm still not seeing the problem though. The only time I get scrollbars is when resizing the window small enough that the <pre>s get too wide. However they have a explicitly declared width of 69em so this seems expected.\n\nCould you try creating a minimized testcase and attach screenshots?", "id": 5363905, "raw_text": "Julian, our XSLT bugzilla component also covers the glue code between the transformation engine and the rest of gecko. Which is likely where this bug lies.\n\nI'm still not seeing the problem though. The only time I get scrollbars is when resizing the window small enough that the <pre>s get too wide. However they have a explicitly declared width of 69em so this seems expected.\n\nCould you try creating a minimized testcase and attach screenshots?", "tags": [], "creator": "jonas@sicking.cc", "count": 4, "bug_id": 640390}, {"attachment_id": null, "is_private": false, "time": "2011-03-23T21:52:56Z", "author": "julian.reschke@gmx.de", "id": 5363973, "raw_text": "I can and will, but it will take some time.", "creation_time": "2011-03-23T21:52:56Z", "text": "I can and will, but it will take some time.", "tags": [], "count": 5, "creator": "julian.reschke@gmx.de", "bug_id": 640390}, {"text": "Interesting effect that may have the same cause:\n\n  http://greenbytes.de/tech/tc/xslt/#ft-system-property\n\nThe page contains <object/> tags containing transformation results, and for this case, it leaks out of the <object>'s box.", "creation_time": "2011-09-17T10:26:57Z", "is_private": false, "raw_text": "Interesting effect that may have the same cause:\n\n  http://greenbytes.de/tech/tc/xslt/#ft-system-property\n\nThe page contains <object/> tags containing transformation results, and for this case, it leaks out of the <object>'s box.", "id": 5721350, "bug_id": 640390, "count": 6, "time": "2011-09-17T10:26:57Z", "tags": [], "creator": "julian.reschke@gmx.de", "author": "julian.reschke@gmx.de", "attachment_id": null}, {"bug_id": 640390, "creator": "julian.reschke@gmx.de", "count": 7, "tags": [], "raw_text": "Shows the effect described in comment 6 in FF6/Win7.", "id": 5721352, "text": "Created attachment 560692\nsee https://bugzilla.mozilla.org/show_bug.cgi?id=640390#c6\n\nShows the effect described in comment 6 in FF6/Win7.", "creation_time": "2011-09-17T10:29:38Z", "author": "julian.reschke@gmx.de", "time": "2011-09-17T10:29:38Z", "is_private": false, "attachment_id": 560692}, {"author": "julian.reschke@gmx.de", "bug_id": 640390, "count": 8, "creator": "julian.reschke@gmx.de", "tags": [], "text": "(In reply to Julian Reschke from comment #7)\n> Created attachment 560692\n> see https://bugzilla.mozilla.org/show_bug.cgi?id=640390#c6\n> \n> Shows the effect described in comment 6 in FF6/Win7.\n\nI can reproduce this with FF6 and 7 on Windows 7, but not with FF6 on MacOs Lion.", "creation_time": "2011-09-19T12:02:02Z", "raw_text": "(In reply to Julian Reschke from comment #7)\n> Created attachment 560692\n> see https://bugzilla.mozilla.org/show_bug.cgi?id=640390#c6\n> \n> Shows the effect described in comment 6 in FF6/Win7.\n\nI can reproduce this with FF6 and 7 on Windows 7, but not with FF6 on MacOs Lion.", "id": 5722757, "attachment_id": null, "time": "2011-09-19T12:02:02Z", "is_private": false}, {"author": "julian.reschke@gmx.de", "creator": "julian.reschke@gmx.de", "tags": [], "count": 9, "bug_id": 640390, "creation_time": "2011-09-19T16:45:54Z", "text": "(In reply to Julian Reschke from comment #8)\n> ...\n> I can reproduce this with FF6 and 7 on Windows 7, but not with FF6 on MacOs\n> Lion.\n\nAnd, on Windows, it requires Zooming in (CTRL-+ twice)", "id": 5723280, "raw_text": "(In reply to Julian Reschke from comment #8)\n> ...\n> I can reproduce this with FF6 and 7 on Windows 7, but not with FF6 on MacOs\n> Lion.\n\nAnd, on Windows, it requires Zooming in (CTRL-+ twice)", "attachment_id": null, "time": "2011-09-19T16:45:54Z", "is_private": false}, {"raw_text": "I think the same thing is happening at this page:\n\nhttp://www.opengl.org/sdk/docs/man/xhtml/glActiveTexture.xml\n\nIt just doesn't fit the content to the displayed window. Resizing the window causes it to fix itself.\n\nNote, this is likely related, or a duplicate of 448756.\n\nMy Platform is (K)Ubuntu 12.04 64-bit (Firefox 14.0.1)", "id": 6549271, "text": "I think the same thing is happening at this page:\n\nhttp://www.opengl.org/sdk/docs/man/xhtml/glActiveTexture.xml\n\nIt just doesn't fit the content to the displayed window. Resizing the window causes it to fix itself.\n\nNote, this is likely related, or a duplicate of 448756.\n\nMy Platform is (K)Ubuntu 12.04 64-bit (Firefox 14.0.1)", "creation_time": "2012-08-12T17:16:57Z", "bug_id": 640390, "creator": "edA-qa@disemia.com", "count": 10, "tags": [], "author": "edA-qa@disemia.com", "is_private": false, "time": "2012-08-12T17:16:57Z", "attachment_id": null}, {"author": "rcopley@gmail.com", "attachment_id": null, "bug_id": 640390, "creator": "rcopley@gmail.com", "count": 11, "tags": [], "time": "2012-09-29T16:45:08Z", "raw_text": "", "id": 6679452, "text": "*** Bug 789835 has been marked as a duplicate of this bug. ***", "creation_time": "2012-09-29T16:45:08Z", "is_private": false}, {"creator": "cmsmcq@acm.org", "count": 12, "tags": [], "bug_id": 640390, "id": 7682519, "raw_text": "Using Firefox 22 under Mac OS X 10.6.8, I find it hard to detect the problem in some of the examples given (which seem to display correctly), so I offer yet another example:  compare the XML and HTML versions of\n\n  http://blackmesatech.com/2013/07/alloy/index.xml\n  http://blackmesatech.com/2013/07/alloy/index.html\n\nThe behavior I expect is that they should look substantially the same; the behavior I observe is:\n\n1 The XML version, processed in-browser by XSLT, is formatted for a window somewhat wider than the current window settings.\n\n2 No horizontal scroll bar is drawn (though the rendered view of the document is cut off on the right).  \n\n3 No vertical scroll bar is drawn, though the document does not all appear on the one screen. (Note: I believe that sometimes a vertical scroll bar may be drawn, but I am not able to make that happen this afternoon.)\n\n4 Right-left scroll gestures with my mouse do not scroll right or left.\n\n5 Up-down scroll gestures with my mouse wheel (or the equivalent) do scroll up and down.\n\n6 If I click in the text area, page up and page down move through the document in something like the normal way. (I say 'something like' because without a scroll bar it doesn't feel quite normal.)\n\n7 At the bottom of the document, some material at the end of the document is not visible.  That is, scroll-down gestures and the page-down key cease to have an effect, but the final part of the page is not visible.\n\n8 Resizing the window in any direction (e.g. by making it taller, shorter, wider, narrower, or any combination of these) causes the text to reflow and to be displayed normally.  If I have the XML and HMLT versions of the document open in adjacent tabs, then after resizing the window, layout is essentially the same in the two tabs.\n\n9 From the line breaking of paragraphs, it's possible to reconstruct (approximately) the width of the area for which the prose text has been formatted.  This varies with the size of the window at the time the XML document is loaded; very roughly, it's as if the renderer were overestimating the width of the display area by about 40% in each case.  \n\n10 The amount of material not displayed at the bottom of the document also varies with the size of the window:  the smaller the window, the less material remains undisplayed; the larger (taller or wider) the window, the more material is undisplayed.", "creation_time": "2013-07-26T20:12:39Z", "text": "Using Firefox 22 under Mac OS X 10.6.8, I find it hard to detect the problem in some of the examples given (which seem to display correctly), so I offer yet another example:  compare the XML and HTML versions of\n\n  http://blackmesatech.com/2013/07/alloy/index.xml\n  http://blackmesatech.com/2013/07/alloy/index.html\n\nThe behavior I expect is that they should look substantially the same; the behavior I observe is:\n\n1 The XML version, processed in-browser by XSLT, is formatted for a window somewhat wider than the current window settings.\n\n2 No horizontal scroll bar is drawn (though the rendered view of the document is cut off on the right).  \n\n3 No vertical scroll bar is drawn, though the document does not all appear on the one screen. (Note: I believe that sometimes a vertical scroll bar may be drawn, but I am not able to make that happen this afternoon.)\n\n4 Right-left scroll gestures with my mouse do not scroll right or left.\n\n5 Up-down scroll gestures with my mouse wheel (or the equivalent) do scroll up and down.\n\n6 If I click in the text area, page up and page down move through the document in something like the normal way. (I say 'something like' because without a scroll bar it doesn't feel quite normal.)\n\n7 At the bottom of the document, some material at the end of the document is not visible.  That is, scroll-down gestures and the page-down key cease to have an effect, but the final part of the page is not visible.\n\n8 Resizing the window in any direction (e.g. by making it taller, shorter, wider, narrower, or any combination of these) causes the text to reflow and to be displayed normally.  If I have the XML and HMLT versions of the document open in adjacent tabs, then after resizing the window, layout is essentially the same in the two tabs.\n\n9 From the line breaking of paragraphs, it's possible to reconstruct (approximately) the width of the area for which the prose text has been formatted.  This varies with the size of the window at the time the XML document is loaded; very roughly, it's as if the renderer were overestimating the width of the display area by about 40% in each case.  \n\n10 The amount of material not displayed at the bottom of the document also varies with the size of the window:  the smaller the window, the less material remains undisplayed; the larger (taller or wider) the window, the more material is undisplayed.", "author": "cmsmcq@acm.org", "time": "2013-07-26T20:12:39Z", "is_private": false, "attachment_id": null}, {"author": "cmsmcq@acm.org", "count": 13, "creator": "cmsmcq@acm.org", "tags": [], "bug_id": 640390, "creation_time": "2013-07-26T20:25:08Z", "text": "The report in bug 448756 says that this happens only when the window is maximized; I observe it regardless of window size (as entailed by observation 9 in comment 12).\n\nClicking the green window-control button to maximize the window causes a reflow and successful formatting of the page; clicking the green button again to return to the original size gets me the display I originally expected.\n\nClicking the yellow window-control button to minimize the window, and then restoring the window by clicking on its representation in the dock, does not cause a reflow and leaves the problematic layout in place. \n\nThis problem appears not to occur in Firefox 12 running under Windows (the only Windows Firefox readily available to me at the moment); there, the page is displayed as expected whether the window is maximized or not.", "id": 7682587, "raw_text": "The report in bug 448756 says that this happens only when the window is maximized; I observe it regardless of window size (as entailed by observation 9 in comment 12).\n\nClicking the green window-control button to maximize the window causes a reflow and successful formatting of the page; clicking the green button again to return to the original size gets me the display I originally expected.\n\nClicking the yellow window-control button to minimize the window, and then restoring the window by clicking on its representation in the dock, does not cause a reflow and leaves the problematic layout in place. \n\nThis problem appears not to occur in Firefox 12 running under Windows (the only Windows Firefox readily available to me at the moment); there, the page is displayed as expected whether the window is maximized or not.", "attachment_id": null, "time": "2013-07-26T20:25:08Z", "is_private": false}, {"creation_time": "2013-07-26T20:51:32Z", "is_private": false, "text": "Created attachment 781914\nSimple test case for rendering width issue\n\nIn comment 4, Jonas Sicking asked for a compact test case.  In the event that a test case would still be useful, I attach a zip file containing a test XML document and an accompanying XSLT stylesheet.  They are also available on the Web at \n\n  http://blackmesatech.com/2013/07/testcase/ \n\nThe XML document has a single element containing a lot of text.  The XSLT stylesheet simply wraps that text in an html document.  It seems to establish that the problem is not due solely to complexity in the XML or XSLT, or to interactions with user-supplied CSS.  Screen shots will follow.", "id": 7682696, "raw_text": "In comment 4, Jonas Sicking asked for a compact test case.  In the event that a test case would still be useful, I attach a zip file containing a test XML document and an accompanying XSLT stylesheet.  They are also available on the Web at \n\n  http://blackmesatech.com/2013/07/testcase/ \n\nThe XML document has a single element containing a lot of text.  The XSLT stylesheet simply wraps that text in an html document.  It seems to establish that the problem is not due solely to complexity in the XML or XSLT, or to interactions with user-supplied CSS.  Screen shots will follow.", "tags": [], "creator": "cmsmcq@acm.org", "time": "2013-07-26T20:51:32Z", "count": 14, "bug_id": 640390, "attachment_id": 781914, "author": "cmsmcq@acm.org"}, {"attachment_id": 781936, "time": "2013-07-26T21:28:19Z", "is_private": false, "author": "cmsmcq@acm.org", "count": 15, "tags": [], "creator": "cmsmcq@acm.org", "bug_id": 640390, "creation_time": "2013-07-26T21:28:19Z", "text": "Created attachment 781936\ntestcase-screenshots.zip\n\nThe attachment is a zip file containing four PNG screen shots showing a Firefox 22 application window under Mac OS X 10.6.8.  Shot 1 shows a small window just after loading test.xml; shot 2 shows a window of approximately the same dimensions after resizing the window caused a redisplay.  Shots 3 and 4 show the same for a window made as wide a possible on the screen and big enough to display the entire text of the sample document.  Note that some text is invisible (e.g. the final comment in English) even though the window is big enough to display it.\n\nThese screen shots are available on the Web at \n\n  http://blackmesatech.com/2013/07/testcase/", "id": 7682838, "raw_text": "The attachment is a zip file containing four PNG screen shots showing a Firefox 22 application window under Mac OS X 10.6.8.  Shot 1 shows a small window just after loading test.xml; shot 2 shows a window of approximately the same dimensions after resizing the window caused a redisplay.  Shots 3 and 4 show the same for a window made as wide a possible on the screen and big enough to display the entire text of the sample document.  Note that some text is invisible (e.g. the final comment in English) even though the window is big enough to display it.\n\nThese screen shots are available on the Web at \n\n  http://blackmesatech.com/2013/07/testcase/"}]}}}