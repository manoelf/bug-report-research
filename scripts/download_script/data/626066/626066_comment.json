{"comments": {}, "bugs": {"626066": {"comments": [{"count": 0, "raw_text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0b9) Gecko/20100101 Firefox/4.0b9\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0b9) Gecko/20100101 Firefox/4.0b9\n\nThis is--in my opinion--a slight usability issue on OSX, possibly on other systems as well. When web pages have a LOOONNNG title, which is pretty common, they appear in the History menu, or when bookmarked in the Bookmarks menu, truncated to a number of characters or words.\n\nThe issue is that this number is quite high, which means the History and Bookmarks menu (or submenus) are often very wide, while other menus (File, Edit, Tools, etc.) are reasonnably narrow.\n\nI have documented this issue with screenshots and comments:\nhttp://dl.dropbox.com/u/145744/screens/ff-widemenu_indexed.png\n\nI suggest using a smaller number of characters/words when truncating, and/or allowing users to customize this. See the comments (red text) in the above image for details.\n\nReproducible: Always", "bug_id": 626066, "attachment_id": null, "author": "florens@fvsch.com", "tags": [], "is_private": false, "time": "2011-01-15T16:19:03Z", "text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0b9) Gecko/20100101 Firefox/4.0b9\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0b9) Gecko/20100101 Firefox/4.0b9\n\nThis is--in my opinion--a slight usability issue on OSX, possibly on other systems as well. When web pages have a LOOONNNG title, which is pretty common, they appear in the History menu, or when bookmarked in the Bookmarks menu, truncated to a number of characters or words.\n\nThe issue is that this number is quite high, which means the History and Bookmarks menu (or submenus) are often very wide, while other menus (File, Edit, Tools, etc.) are reasonnably narrow.\n\nI have documented this issue with screenshots and comments:\nhttp://dl.dropbox.com/u/145744/screens/ff-widemenu_indexed.png\n\nI suggest using a smaller number of characters/words when truncating, and/or allowing users to customize this. See the comments (red text) in the above image for details.\n\nReproducible: Always", "id": 5202390, "creation_time": "2011-01-15T16:19:03Z", "creator": "florens@fvsch.com"}, {"id": 5202392, "text": "Created attachment 504130\nDifferent screenshots of issue, with comments", "time": "2011-01-15T16:22:00Z", "is_private": false, "creation_time": "2011-01-15T16:22:00Z", "creator": "florens@fvsch.com", "count": 1, "raw_text": "", "attachment_id": 504130, "bug_id": 626066, "tags": [], "author": "florens@fvsch.com"}, {"time": "2011-01-15T22:22:08Z", "id": 5202856, "text": "\n\n*** This bug has been marked as a duplicate of bug 625369 ***", "is_private": false, "creation_time": "2011-01-15T22:22:08Z", "creator": "hskupin@gmail.com", "count": 2, "raw_text": "", "bug_id": 626066, "attachment_id": null, "author": "hskupin@gmail.com", "tags": []}, {"bug_id": 626066, "attachment_id": null, "author": "anthony@ricaud.me", "tags": [], "count": 3, "raw_text": "This doesn't look like a duplicate to me. The other bug is about a larger default width, this one is about an unusually long width.", "creation_time": "2011-01-16T01:05:35Z", "creator": "anthony@ricaud.me", "is_private": false, "time": "2011-01-16T01:05:35Z", "text": "This doesn't look like a duplicate to me. The other bug is about a larger default width, this one is about an unusually long width.", "id": 5203050}, {"attachment_id": null, "bug_id": 626066, "tags": [], "author": "limi@mozilla.com", "count": 4, "raw_text": "Agreed, we should limit the width of bookmark and history items. I assume there's a threshold kicking in already, but it seems much to wide.", "creation_time": "2011-01-16T09:11:18Z", "creator": "limi@mozilla.com", "text": "Agreed, we should limit the width of bookmark and history items. I assume there's a threshold kicking in already, but it seems much to wide.", "id": 5203369, "time": "2011-01-16T09:11:18Z", "is_private": false}, {"time": "2011-01-18T01:27:37Z", "text": "This is a duplicate of that bug. We had to increase the maximum menu width to accommodate some locales that use long strings. We'll make this properly locale-dependent post Firefox 4.\n\n*** This bug has been marked as a duplicate of bug 625369 ***", "id": 5206289, "is_private": false, "creator": "gavin.sharp@gmail.com", "creation_time": "2011-01-18T01:27:37Z", "raw_text": "This is a duplicate of that bug. We had to increase the maximum menu width to accommodate some locales that use long strings. We'll make this properly locale-dependent post Firefox 4.", "count": 5, "author": "gavin.sharp@gmail.com", "tags": [], "bug_id": 626066, "attachment_id": null}, {"creation_time": "2011-01-18T08:55:06Z", "creator": "florens@fvsch.com", "time": "2011-01-18T08:55:06Z", "text": "In the issue as I report it, bookmarks are clipped at around 130 characters. This is more than twice the design \u201cbest practice\u201d of having line lengths around 50-70 characters. It also results in barely usable History and Bookmarks menus as highlighted in the attachment for this bug.\n\nI don't understand how localizing the max width of items would fix this issue.", "id": 5206771, "is_private": false, "bug_id": 626066, "attachment_id": null, "author": "florens@fvsch.com", "tags": [], "count": 6, "raw_text": "In the issue as I report it, bookmarks are clipped at around 130 characters. This is more than twice the design \u201cbest practice\u201d of having line lengths around 50-70 characters. It also results in barely usable History and Bookmarks menus as highlighted in the attachment for this bug.\n\nI don't understand how localizing the max width of items would fix this issue."}, {"tags": [], "author": "florens@fvsch.com", "attachment_id": null, "bug_id": 626066, "raw_text": "Reopening because:\n- In bug 625369 the increased width of bookmarks is 70 characters (increased from a previous setting of roughly 50 characters).\n- In this bug we're seeing bookmarks that are 140 characters.\n\nIs this a Mac-specific bug? I guess mac menus might be handled differently, with the clipping handled by the system rather than Firefox itself?", "count": 7, "creator": "florens@fvsch.com", "creation_time": "2011-01-18T09:00:38Z", "is_private": false, "id": 5206777, "text": "Reopening because:\n- In bug 625369 the increased width of bookmarks is 70 characters (increased from a previous setting of roughly 50 characters).\n- In this bug we're seeing bookmarks that are 140 characters.\n\nIs this a Mac-specific bug? I guess mac menus might be handled differently, with the clipping handled by the system rather than Firefox itself?", "time": "2011-01-18T09:00:38Z"}, {"creation_time": "2011-01-18T18:01:43Z", "creator": "sdwilsh@forerunnerdesigns.com", "id": 5207733, "text": "Just because it's a different width does n0t make it a different bug.\n\n*** This bug has been marked as a duplicate of bug 625369 ***", "time": "2011-01-18T18:01:43Z", "is_private": false, "attachment_id": null, "bug_id": 626066, "tags": [], "author": "sdwilsh@forerunnerdesigns.com", "count": 8, "raw_text": "Just because it's a different width does n0t make it a different bug."}, {"bug_id": 626066, "attachment_id": null, "author": "florens@fvsch.com", "tags": [], "count": 9, "raw_text": "I disagree, on two accounts:\n1. bug 625369 is \"max width of bookmarks has changed and is slightly too big\" (and the answer was \"the change is intentional, we may fine-tune in the future\") while this bug is \"max width of bookmarks is MUCH too big\". Twice as big as the already increased value hints at a *different* issue that may not (will not?) be solved by future localization settings.\n2. bug 625369 reports an issue on Windows. This is an issue on OS X. I have little knowledge of this, but I reckon Firefox uses different libraries and possibly different internal code for handling menus in different OSs. Can we tell for certain that this is not a OS X specific issue?\n\nElements that would be helpful for fixing this bug OR solving it as a duplicate with enough information to do so:\n- Can other MAC users confirm this issue? (Please use a bookmark title of more than 200 letters. I can give detailed steps to reproduce what's in the attached screenshot if needed.)\n- If there is a hard max width for truncating history/bookmark entries, what is this limit exactly (X letters, Y words, Z pixels?)?\n- Is that limit consistent with the observations in this bug? In other words, does it explain these observations? If yes, solve this bug as duplicate of bug 625369. If not, investigate as a mac-specific issue (if only seen on mac).\n\n(Reopening. I am persistent but not stubborn, so if my point is deemed invalid I\u2019ll just move on.)", "creation_time": "2011-01-18T19:43:28Z", "creator": "florens@fvsch.com", "is_private": false, "time": "2011-01-18T19:43:28Z", "id": 5208090, "text": "I disagree, on two accounts:\n1. bug 625369 is \"max width of bookmarks has changed and is slightly too big\" (and the answer was \"the change is intentional, we may fine-tune in the future\") while this bug is \"max width of bookmarks is MUCH too big\". Twice as big as the already increased value hints at a *different* issue that may not (will not?) be solved by future localization settings.\n2. bug 625369 reports an issue on Windows. This is an issue on OS X. I have little knowledge of this, but I reckon Firefox uses different libraries and possibly different internal code for handling menus in different OSs. Can we tell for certain that this is not a OS X specific issue?\n\nElements that would be helpful for fixing this bug OR solving it as a duplicate with enough information to do so:\n- Can other MAC users confirm this issue? (Please use a bookmark title of more than 200 letters. I can give detailed steps to reproduce what's in the attached screenshot if needed.)\n- If there is a hard max width for truncating history/bookmark entries, what is this limit exactly (X letters, Y words, Z pixels?)?\n- Is that limit consistent with the observations in this bug? In other words, does it explain these observations? If yes, solve this bug as duplicate of bug 625369. If not, investigate as a mac-specific issue (if only seen on mac).\n\n(Reopening. I am persistent but not stubborn, so if my point is deemed invalid I\u2019ll just move on.)"}, {"creator": "anthony@ricaud.me", "creation_time": "2011-01-18T19:57:10Z", "time": "2011-01-18T19:57:10Z", "id": 5208135, "text": "Another thing that makes me think it is not the same issue:\n\nIn bug 625369, Firefox/4.0b10pre ID:20110112150051 is said to be ok. Florent is seeing this in beta9 so before the problem seen in bug 625369.\n\nAnd the commit that changed this is http://hg.mozilla.org/mozilla-central/rev/a4cbf4b8928b. So max-width: 32em is not as long as seen in this bug.", "is_private": false, "author": "anthony@ricaud.me", "tags": [], "bug_id": 626066, "attachment_id": null, "raw_text": "Another thing that makes me think it is not the same issue:\n\nIn bug 625369, Firefox/4.0b10pre ID:20110112150051 is said to be ok. Florent is seeing this in beta9 so before the problem seen in bug 625369.\n\nAnd the commit that changed this is http://hg.mozilla.org/mozilla-central/rev/a4cbf4b8928b. So max-width: 32em is not as long as seen in this bug.", "count": 10}, {"creation_time": "2011-01-18T20:50:41Z", "creator": "gavin.sharp@gmail.com", "is_private": false, "time": "2011-01-18T20:50:41Z", "text": "OK, sorry for being hasty. I think this probably is a separate issue if it's Mac only, since the styling touched in the original bug is Windows/Linux only.", "id": 5208379, "bug_id": 626066, "attachment_id": null, "author": "gavin.sharp@gmail.com", "tags": [], "count": 11, "raw_text": "OK, sorry for being hasty. I think this probably is a separate issue if it's Mac only, since the styling touched in the original bug is Windows/Linux only."}, {"text": "*** Bug 626906 has been marked as a duplicate of this bug. ***", "id": 5209468, "raw_text": "", "time": "2011-01-19T02:10:24Z", "is_private": false, "count": 12, "tags": [], "creator": "margaret.leibovic@gmail.com", "author": "margaret.leibovic@gmail.com", "attachment_id": null, "bug_id": 626066, "creation_time": "2011-01-19T02:10:24Z"}, {"creator": "gavin.sharp@gmail.com", "creation_time": "2011-01-25T17:08:46Z", "time": "2011-01-25T17:08:46Z", "text": "Need a regression window to make further progress on this bug, I think.", "id": 5225457, "is_private": false, "author": "gavin.sharp@gmail.com", "tags": [], "bug_id": 626066, "attachment_id": null, "raw_text": "Need a regression window to make further progress on this bug, I think.", "count": 13}, {"tags": [], "author": "anthony@ricaud.me", "attachment_id": null, "bug_id": 626066, "raw_text": "http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=2370ecfdcbb7&tochange=6272ce1da6f5\n\nRunning the mozregression tool, I got this range.", "count": 14, "creator": "anthony@ricaud.me", "creation_time": "2011-01-26T11:57:02Z", "id": 5228195, "text": "http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=2370ecfdcbb7&tochange=6272ce1da6f5\n\nRunning the mozregression tool, I got this range.", "time": "2011-01-26T11:57:02Z", "is_private": false}, {"creator": "gavin.sharp@gmail.com", "creation_time": "2011-03-17T00:59:00Z", "time": "2011-03-17T00:59:00Z", "id": 5349979, "text": "The only possible thing that could have affected this in that range is switching to 32/64 bit universal builds (assuming that's what those changesets actually do), but even that would be rather odd.", "is_private": false, "author": "gavin.sharp@gmail.com", "tags": [], "bug_id": 626066, "attachment_id": null, "raw_text": "The only possible thing that could have affected this in that range is switching to 32/64 bit universal builds (assuming that's what those changesets actually do), but even that would be rather odd.", "count": 15}, {"creator": "anthony@ricaud.me", "creation_time": "2011-03-17T14:16:13Z", "is_private": false, "time": "2011-03-17T14:16:13Z", "text": "I just run 20110317 nightly in 32 bits mode and the menu is not wide. So this is definitely a 64bits problem.", "id": 5350622, "author": "anthony@ricaud.me", "tags": [], "bug_id": 626066, "attachment_id": null, "raw_text": "I just run 20110317 nightly in 32 bits mode and the menu is not wide. So this is definitely a 64bits problem.", "count": 16}, {"count": 17, "raw_text": "This is NOT a duplicate and applies to 6.0.1 as well. In Windows, the menu item is part of the FF window, not in Mac OS.\nIn Windows the problem can be fixed using userChrome.css, this does not work in Mac OS", "bug_id": 626066, "attachment_id": null, "author": "kretschmer@videotron.ca", "tags": [], "is_private": false, "time": "2011-09-05T19:33:33Z", "id": 5700882, "text": "This is NOT a duplicate and applies to 6.0.1 as well. In Windows, the menu item is part of the FF window, not in Mac OS.\nIn Windows the problem can be fixed using userChrome.css, this does not work in Mac OS", "creation_time": "2011-09-05T19:33:33Z", "creator": "kretschmer@videotron.ca"}, {"creator": "kretschmer@videotron.ca", "creation_time": "2011-09-05T19:40:12Z", "is_private": false, "text": "(In reply to Anthony Ricaud (:rik) from comment #16)\n> I just run 20110317 nightly in 32 bits mode and the menu is not wide. So\n> this is definitely a 64bits problem.\n\nI doubt this, I am still running on Mac OS 10.5.8 and I have the problem since FF5\nHardware is 2x2.8 GHz Quad-core Xeon", "id": 5700890, "time": "2011-09-05T19:40:12Z", "tags": [], "author": "kretschmer@videotron.ca", "attachment_id": null, "bug_id": 626066, "raw_text": "(In reply to Anthony Ricaud (:rik) from comment #16)\n> I just run 20110317 nightly in 32 bits mode and the menu is not wide. So\n> this is definitely a 64bits problem.\n\nI doubt this, I am still running on Mac OS 10.5.8 and I have the problem since FF5\nHardware is 2x2.8 GHz Quad-core Xeon", "count": 18}, {"author": "kretschmer@videotron.ca", "tags": [], "bug_id": 626066, "attachment_id": null, "raw_text": "I just went up to FF7.0b2 - problem persists", "count": 19, "creator": "kretschmer@videotron.ca", "creation_time": "2011-09-05T20:39:37Z", "time": "2011-09-05T20:39:37Z", "text": "I just went up to FF7.0b2 - problem persists", "id": 5700942, "is_private": false}, {"creation_time": "2011-09-06T00:19:06Z", "creator": "kretschmer@videotron.ca", "time": "2011-09-06T00:19:06Z", "text": "Just to make things interesting: History shows the same silly behaviour.", "id": 5701190, "is_private": false, "bug_id": 626066, "attachment_id": null, "author": "kretschmer@videotron.ca", "tags": [], "count": 20, "raw_text": "Just to make things interesting: History shows the same silly behaviour."}, {"creation_time": "2011-09-07T18:54:54Z", "creator": "kretschmer@videotron.ca", "is_private": false, "id": 5705573, "text": "Done some updating: I am now on FF7.0b2 and Mac OS 10.6.8\nThe problem persists in 64 bit and 32 bit. This is definitely not a 64 bit problem.", "time": "2011-09-07T18:54:54Z", "attachment_id": null, "bug_id": 626066, "tags": [], "author": "kretschmer@videotron.ca", "count": 21, "raw_text": "Done some updating: I am now on FF7.0b2 and Mac OS 10.6.8\nThe problem persists in 64 bit and 32 bit. This is definitely not a 64 bit problem."}, {"creation_time": "2012-01-15T21:09:39Z", "creator": "rbreuer@rbreuer.de", "is_private": false, "id": 5981957, "text": "Just the same with FF9.01 and Mac OS X 10.7.2", "time": "2012-01-15T21:09:39Z", "attachment_id": null, "bug_id": 626066, "tags": [], "author": "rbreuer@rbreuer.de", "count": 22, "raw_text": "Just the same with FF9.01 and Mac OS X 10.7.2"}, {"creator": "de.berberich@icloud.com", "tags": [], "author": "de.berberich@icloud.com", "creation_time": "2012-03-22T23:45:12Z", "attachment_id": null, "bug_id": 626066, "is_private": false, "text": "The problem stills persists with FF 11.0 and Mac OS X 10.6.8", "id": 6164323, "raw_text": "The problem stills persists with FF 11.0 and Mac OS X 10.6.8", "time": "2012-03-22T23:45:12Z", "count": 23}, {"is_private": false, "time": "2013-07-12T01:04:28Z", "id": 7626829, "text": "Is this still an issue for anyone?", "creation_time": "2013-07-12T01:04:28Z", "creator": "u279076@disabled.tld", "count": 24, "raw_text": "Is this still an issue for anyone?", "bug_id": 626066, "attachment_id": null, "author": "u279076@disabled.tld", "tags": []}, {"count": 25, "raw_text": "Yup, still an issue.", "attachment_id": null, "bug_id": 626066, "tags": [], "author": "anthony@ricaud.me", "text": "Yup, still an issue.", "id": 7627684, "time": "2013-07-12T08:56:05Z", "is_private": false, "creation_time": "2013-07-12T08:56:05Z", "creator": "anthony@ricaud.me"}, {"count": 26, "raw_text": "(In reply to Anthony Ricaud (:rik) [out until July 15] from comment #25)\n> Yup, still an issue.\n\nWhich version did you use? Does it reproduce in the latest Firefox Nightly?", "bug_id": 626066, "attachment_id": null, "author": "u279076@disabled.tld", "tags": [], "is_private": false, "time": "2013-07-12T18:33:09Z", "id": 7629736, "text": "(In reply to Anthony Ricaud (:rik) [out until July 15] from comment #25)\n> Yup, still an issue.\n\nWhich version did you use? Does it reproduce in the latest Firefox Nightly?", "creation_time": "2013-07-12T18:33:09Z", "creator": "u279076@disabled.tld"}, {"creation_time": "2013-07-12T19:41:30Z", "creator": "de.berberich@icloud.com", "is_private": false, "id": 7629998, "text": "Still the same issue in FF 22 and Nightly 25.0a1.\nRunning Mac OS X 10.6.", "time": "2013-07-12T19:41:30Z", "attachment_id": null, "bug_id": 626066, "tags": [], "author": "de.berberich@icloud.com", "count": 27, "raw_text": "Still the same issue in FF 22 and Nightly 25.0a1.\nRunning Mac OS X 10.6."}, {"creator": "u279076@disabled.tld", "creation_time": "2013-07-12T20:32:47Z", "is_private": false, "id": 7630228, "text": "Thanks Eckard.\n\nGavin I'm wondering how we can proceed with this bug? The regression window is quite old so I'm not sure what can be done. Maybe an engineer can look at the menus code to see what might cause this to happen?", "time": "2013-07-12T20:32:47Z", "tags": [], "author": "u279076@disabled.tld", "attachment_id": null, "bug_id": 626066, "raw_text": "Thanks Eckard.\n\nGavin I'm wondering how we can proceed with this bug? The regression window is quite old so I'm not sure what can be done. Maybe an engineer can look at the menus code to see what might cause this to happen?", "count": 28}, {"raw_text": "I think the 64-bit switch that we saw at the time is still the core of the issue. I have no idea why OS X frameworks would behave differently.", "count": 29, "author": "anthony@ricaud.me", "tags": [], "bug_id": 626066, "attachment_id": null, "is_private": false, "time": "2013-07-13T00:32:13Z", "text": "I think the 64-bit switch that we saw at the time is still the core of the issue. I have no idea why OS X frameworks would behave differently.", "id": 7631215, "creator": "anthony@ricaud.me", "creation_time": "2013-07-13T00:32:13Z"}, {"bug_id": 626066, "attachment_id": null, "creation_time": "2013-07-17T22:24:35Z", "author": "gavin.sharp@gmail.com", "creator": "gavin.sharp@gmail.com", "tags": [], "count": 30, "time": "2013-07-17T22:24:35Z", "text": "Sounds like a cocoa widget/popup issue of some sort, maybe smichaud has an idea.", "raw_text": "Sounds like a cocoa widget/popup issue of some sort, maybe smichaud has an idea.", "id": 7647865, "is_private": false}, {"count": 31, "raw_text": "Someone please post a link to a page with a very long title, which can be used to reproduce this bug.  Please also provide detailed STR.", "attachment_id": null, "bug_id": 626066, "tags": [], "author": "smichaud@pobox.com", "is_private": false, "id": 7648073, "text": "Someone please post a link to a page with a very long title, which can be used to reproduce this bug.  Please also provide detailed STR.", "time": "2013-07-17T23:09:20Z", "creation_time": "2013-07-17T23:09:20Z", "creator": "smichaud@pobox.com"}, {"raw_text": "STR:\n1. Bookmark any page in the top level Bookmarks menu (that's the default when clicking on the bookmark star in URL field)\n2. Change the bookmark title to a really long string\n3. Open the Bookmark menubar\n\nActual:\nSee attachment 504130\n\nExpected:\nThis menu's width should be smaller.", "count": 32, "tags": [], "author": "anthony@ricaud.me", "attachment_id": null, "bug_id": 626066, "text": "STR:\n1. Bookmark any page in the top level Bookmarks menu (that's the default when clicking on the bookmark star in URL field)\n2. Change the bookmark title to a really long string\n3. Open the Bookmark menubar\n\nActual:\nSee attachment 504130\n\nExpected:\nThis menu's width should be smaller.", "id": 7648309, "time": "2013-07-18T00:04:49Z", "is_private": false, "creator": "anthony@ricaud.me", "creation_time": "2013-07-18T00:04:49Z"}, {"raw_text": "As best I can tell, there's no longer any difference in behavior between 64-bit mode and 32-bit mode.  And it's a relief not to have to deal with that weirdness.\n\nI agree that menu items corresponding to long titles are \"too long\", but it's very difficult to tell who's at fault.  For example (as others have pointed out) menus work very differently on Windows and Linux -- too differently to tell whether or not the problem lies in cross-platform code.\n\nVery long menu items *are* abbreviated (using \"...\"), but I don't know where that comes from (from cross-platform code, from Cocoa widget code, or from the OS).  Anyone know?  (I could try to find out myself, but it'll be a while before I have time to do that.)", "count": 33, "author": "smichaud@pobox.com", "tags": [], "bug_id": 626066, "attachment_id": null, "is_private": false, "time": "2013-07-18T16:06:12Z", "id": 7650902, "text": "As best I can tell, there's no longer any difference in behavior between 64-bit mode and 32-bit mode.  And it's a relief not to have to deal with that weirdness.\n\nI agree that menu items corresponding to long titles are \"too long\", but it's very difficult to tell who's at fault.  For example (as others have pointed out) menus work very differently on Windows and Linux -- too differently to tell whether or not the problem lies in cross-platform code.\n\nVery long menu items *are* abbreviated (using \"...\"), but I don't know where that comes from (from cross-platform code, from Cocoa widget code, or from the OS).  Anyone know?  (I could try to find out myself, but it'll be a while before I have time to do that.)", "creator": "smichaud@pobox.com", "creation_time": "2013-07-18T16:06:12Z"}, {"is_private": false, "text": "XUL menu/menuitems do have a max-width set in menu.css (line 154-157):\n\nmenupopup > menu,\nmenupopup > menuitem {\n  max-width: 42em;\n}\n\nI doesn't look like the native menu implementation honor any of this css styling and when it comes to width I don't see any obvious way in the NSMenu and NSMenuItem documentation to set a max-width (or a width for that matter). I suppose the title string could be truncated if it's over a certain length to limit the width of the menuitem (won't really match the css, though).", "id": 8796179, "time": "2014-05-15T09:32:56Z", "creation_time": "2014-05-15T09:32:56Z", "creator": "stefanh@inbox.com", "count": 34, "raw_text": "XUL menu/menuitems do have a max-width set in menu.css (line 154-157):\n\nmenupopup > menu,\nmenupopup > menuitem {\n  max-width: 42em;\n}\n\nI doesn't look like the native menu implementation honor any of this css styling and when it comes to width I don't see any obvious way in the NSMenu and NSMenuItem documentation to set a max-width (or a width for that matter). I suppose the title string could be truncated if it's over a certain length to limit the width of the menuitem (won't really match the css, though).", "attachment_id": null, "bug_id": 626066, "tags": [], "author": "stefanh@inbox.com"}, {"is_private": false, "id": 8798933, "text": "Here\u2019s what I believe is going on:\n\n(1)  The width of the menus is not being constrained in any way. They expand to accommodate their contents up to the screen edge or whatever the OS allows.\n\n(2)  The menu items are always created with full-length titles. In other words, no truncation happens at the application level.\n\nThis is a diagram of my actual Bookmarks menu with two submenus open: http://i.imgur.com/ChVVFEr.png\n\nThe first level menu is 1154px wide because that\u2019s the width of the longest title; no truncation happens here. The second level contains truncated items because the size of the submenu is now limited by the screen edge. The third level also contains one truncated item because the OS won\u2019t expand the submenu past the left border of the first level.\n\nJudging by this behavior, I\u2019d say the truncation is only happening due to OS intervention when the items won\u2019t fit on the screen anymore.\n\nThe bug could be fixed by remedying either (1) or (2) above. Either set a maximum size for the menu and let the OS truncate the titles, or set up an unconstrained menu like now but feed it truncated titles.\n\nThe origin of this bug is possibly explained in bug 459729.\n\n(In reply to Stefan [:stefanh] from comment #34)\n> I doesn't look like the native menu implementation honor any of this css\n> styling and when it comes to width I don't see any obvious way in the NSMenu\n> and NSMenuItem documentation to set a max-width (or a width for that\n> matter).\n\nPerhaps the answer is NSMenuDelegate and its method confinementRectForMenu that allows one to specify screen coordinates within which the menu should appear. It requires absolute coordinates, though, so some calculations would be needed to figure out the correct placement. Also, I don\u2019t know if confinementRectForMenu is enough to invoke the automatic truncating behavior or if OS X would just stretch the menu anyway. The documentation says: \u201cThe returned rect may not be honored in all cases, for example, if it would force the menu to be too small.\u201d", "time": "2014-05-15T19:35:40Z", "creation_time": "2014-05-15T19:35:40Z", "creator": "kalle@goodtimes.fi", "count": 35, "raw_text": "Here\u2019s what I believe is going on:\n\n(1)  The width of the menus is not being constrained in any way. They expand to accommodate their contents up to the screen edge or whatever the OS allows.\n\n(2)  The menu items are always created with full-length titles. In other words, no truncation happens at the application level.\n\nThis is a diagram of my actual Bookmarks menu with two submenus open: http://i.imgur.com/ChVVFEr.png\n\nThe first level menu is 1154px wide because that\u2019s the width of the longest title; no truncation happens here. The second level contains truncated items because the size of the submenu is now limited by the screen edge. The third level also contains one truncated item because the OS won\u2019t expand the submenu past the left border of the first level.\n\nJudging by this behavior, I\u2019d say the truncation is only happening due to OS intervention when the items won\u2019t fit on the screen anymore.\n\nThe bug could be fixed by remedying either (1) or (2) above. Either set a maximum size for the menu and let the OS truncate the titles, or set up an unconstrained menu like now but feed it truncated titles.\n\nThe origin of this bug is possibly explained in bug 459729.\n\n(In reply to Stefan [:stefanh] from comment #34)\n> I doesn't look like the native menu implementation honor any of this css\n> styling and when it comes to width I don't see any obvious way in the NSMenu\n> and NSMenuItem documentation to set a max-width (or a width for that\n> matter).\n\nPerhaps the answer is NSMenuDelegate and its method confinementRectForMenu that allows one to specify screen coordinates within which the menu should appear. It requires absolute coordinates, though, so some calculations would be needed to figure out the correct placement. Also, I don\u2019t know if confinementRectForMenu is enough to invoke the automatic truncating behavior or if OS X would just stretch the menu anyway. The documentation says: \u201cThe returned rect may not be honored in all cases, for example, if it would force the menu to be too small.\u201d", "attachment_id": null, "bug_id": 626066, "tags": [], "author": "kalle@goodtimes.fi"}]}}}