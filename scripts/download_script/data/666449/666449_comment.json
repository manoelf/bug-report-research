{"bugs": {"666449": {"comments": [{"creator": "jmuizelaar@mozilla.com", "is_private": false, "count": 0, "author": "jmuizelaar@mozilla.com", "creation_time": "2011-06-23T00:13:20Z", "time": "2011-06-23T00:13:20Z", "tags": [], "bug_id": 666449, "text": "Alice0775 White:\n\nI narrowed down regression range using this exsample http://www.gamepron.com/news/2010/09/07/scott-pilgrim-vs-the-world-free-pixel-art/\n\n\nCPU(C2Q8300) 2-5%\nhttp://hg.mozilla.org/mozilla-central/rev/2968d19b0165\nMozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.3a5pre) Gecko/20100426 Minefield/3.7a5pre ID:20100426040533\n\nCPU 15-25%\nhttp://hg.mozilla.org/mozilla-central/rev/f236632a9747\nMozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.3a5pre) Gecko/20100426 Minefield/3.7a5pre ID:20100426084628\n\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=2968d19b0165&tochange=f236632a9747\n\nAnd I revert in local build.\n2968d19b0165 : CPU 6-10%\ne3e80935c165 : CPU 7-10%\nf236632a9747 :CPU 22-25%\n\nSo, Bug 542605 causes the problem", "attachment_id": null, "raw_text": "Alice0775 White:\n\nI narrowed down regression range using this exsample http://www.gamepron.com/news/2010/09/07/scott-pilgrim-vs-the-world-free-pixel-art/\n\n\nCPU(C2Q8300) 2-5%\nhttp://hg.mozilla.org/mozilla-central/rev/2968d19b0165\nMozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.3a5pre) Gecko/20100426 Minefield/3.7a5pre ID:20100426040533\n\nCPU 15-25%\nhttp://hg.mozilla.org/mozilla-central/rev/f236632a9747\nMozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.3a5pre) Gecko/20100426 Minefield/3.7a5pre ID:20100426084628\n\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=2968d19b0165&tochange=f236632a9747\n\nAnd I revert in local build.\n2968d19b0165 : CPU 6-10%\ne3e80935c165 : CPU 7-10%\nf236632a9747 :CPU 22-25%\n\nSo, Bug 542605 causes the problem", "id": 5549887}, {"author": "jmuizelaar@mozilla.com", "creation_time": "2011-06-23T00:16:48Z", "tags": [], "time": "2011-06-23T00:16:48Z", "bug_id": 666449, "text": "We should compare profiles of both of these builds and see what changed.", "creator": "jmuizelaar@mozilla.com", "is_private": false, "count": 1, "id": 5549901, "attachment_id": null, "raw_text": "We should compare profiles of both of these builds and see what changed."}, {"attachment_id": null, "raw_text": "I'm a little surprised that this regression wasn't a blocker for 4-release or 5-release. Animated gifs are used everywhere (especially social media sites, forums, etc.). If your system doesn't have spare cores to handle things not choked by the animated gif problem, then it really kills responsiveness.", "id": 5571212, "is_private": false, "creator": "mark@wolfbeast.com", "count": 2, "creation_time": "2011-07-02T15:04:55Z", "author": "mark@wolfbeast.com", "text": "I'm a little surprised that this regression wasn't a blocker for 4-release or 5-release. Animated gifs are used everywhere (especially social media sites, forums, etc.). If your system doesn't have spare cores to handle things not choked by the animated gif problem, then it really kills responsiveness.", "tags": [], "bug_id": 666449, "time": "2011-07-02T15:04:55Z"}, {"id": 5656217, "raw_text": "(In reply to Mark Straver from comment #2)\n> I'm a little surprised that this regression wasn't a blocker for 4-release\n> or 5-release. Animated gifs are used everywhere (especially social media\n> sites, forums, etc.). If your system doesn't have spare cores to handle\n> things not choked by the animated gif problem, then it really kills\n> responsiveness.\n\nAnother Vote on this. Gif is something from last decade, my modern computer should be able to handle it with ease. Considering it takes less CPU resources to software decode my 1080P H.264 High Profile then some animated Gif.", "attachment_id": null, "tags": [], "time": "2011-08-16T06:58:37Z", "bug_id": 666449, "text": "(In reply to Mark Straver from comment #2)\n> I'm a little surprised that this regression wasn't a blocker for 4-release\n> or 5-release. Animated gifs are used everywhere (especially social media\n> sites, forums, etc.). If your system doesn't have spare cores to handle\n> things not choked by the animated gif problem, then it really kills\n> responsiveness.\n\nAnother Vote on this. Gif is something from last decade, my modern computer should be able to handle it with ease. Considering it takes less CPU resources to software decode my 1080P H.264 High Profile then some animated Gif.", "author": "edchick@gmail.com", "creation_time": "2011-08-16T06:58:37Z", "count": 3, "creator": "edchick@gmail.com", "is_private": false}, {"author": "mark@wolfbeast.com", "creation_time": "2011-08-17T15:09:01Z", "time": "2011-08-17T15:09:01Z", "bug_id": 666449, "tags": [], "text": "I'm no cairo guru, but it seems at least an odd problem. What happens is that you are saturating one (and only one) core of whatever machine if there's more than a handful of animated gifs on a page. (quad core seeing 25% CPU, dual core seeing 50% CPU, and if you have a single core machine, your responsiveness goes down the drain with 100% CPU)\n\nI assume (correct me if I'm wrong) that the cairo library is multithreaded; it would not make much sense that the load stays limited to one core then, unless it's some sub-process that -all- animated gif threads have to wait on, something that has only one copy of it running on one CPU thread... Right? Does that narrow down the causes?", "creator": "mark@wolfbeast.com", "is_private": false, "count": 4, "id": 5659632, "attachment_id": null, "raw_text": "I'm no cairo guru, but it seems at least an odd problem. What happens is that you are saturating one (and only one) core of whatever machine if there's more than a handful of animated gifs on a page. (quad core seeing 25% CPU, dual core seeing 50% CPU, and if you have a single core machine, your responsiveness goes down the drain with 100% CPU)\n\nI assume (correct me if I'm wrong) that the cairo library is multithreaded; it would not make much sense that the load stays limited to one core then, unless it's some sub-process that -all- animated gif threads have to wait on, something that has only one copy of it running on one CPU thread... Right? Does that narrow down the causes?"}, {"time": "2012-01-16T04:04:48Z", "tags": [], "bug_id": 666449, "text": "(In reply to Mark Straver from comment #4)\n> I assume (correct me if I'm wrong) that the cairo library is multithreaded;\n> it would not make much sense that the load stays limited to one core then,\n> unless it's some sub-process that -all- animated gif threads have to wait\n> on, something that has only one copy of it running on one CPU thread...\n> Right? Does that narrow down the causes?\n\nCairo is not multi-threaded, so it may very well be something inside Cairo.", "author": "bas@basschouten.com", "creation_time": "2012-01-16T04:04:48Z", "count": 5, "creator": "bas@basschouten.com", "is_private": false, "id": 5982229, "raw_text": "(In reply to Mark Straver from comment #4)\n> I assume (correct me if I'm wrong) that the cairo library is multithreaded;\n> it would not make much sense that the load stays limited to one core then,\n> unless it's some sub-process that -all- animated gif threads have to wait\n> on, something that has only one copy of it running on one CPU thread...\n> Right? Does that narrow down the causes?\n\nCairo is not multi-threaded, so it may very well be something inside Cairo.", "attachment_id": null}, {"raw_text": "I've been following several other bugs (bug 615063, bug 666446), and this one should be marked as a duplicate of bug 666446, I think, seeing FF11 builds that implement cairo fixes take care of this problem.", "attachment_id": null, "id": 5982358, "count": 6, "is_private": false, "creator": "mark@wolfbeast.com", "text": "I've been following several other bugs (bug 615063, bug 666446), and this one should be marked as a duplicate of bug 666446, I think, seeing FF11 builds that implement cairo fixes take care of this problem.", "tags": [], "time": "2012-01-16T07:42:08Z", "bug_id": 666449, "creation_time": "2012-01-16T07:42:08Z", "author": "mark@wolfbeast.com"}, {"count": 7, "creator": "fehe@hotmail.com", "is_private": false, "tags": [], "bug_id": 666449, "time": "2012-01-17T04:17:13Z", "text": "Definitely fixed by bug 666446, so resolving this fixed.  If someone believes it should instead be dup'ed to something else or whatever, go for it.", "author": "fehe@hotmail.com", "creation_time": "2012-01-17T04:17:13Z", "raw_text": "Definitely fixed by bug 666446, so resolving this fixed.  If someone believes it should instead be dup'ed to something else or whatever, go for it.", "attachment_id": null, "id": 5984340}, {"id": 5984349, "attachment_id": null, "raw_text": "Oops.  Sorry Jeff. Missed that you are actually assigned to look into something specific to this.", "author": "fehe@hotmail.com", "creation_time": "2012-01-17T04:22:34Z", "tags": [], "time": "2012-01-17T04:22:34Z", "bug_id": 666449, "text": "Oops.  Sorry Jeff. Missed that you are actually assigned to look into something specific to this.", "creator": "fehe@hotmail.com", "is_private": false, "count": 8}, {"id": 7050879, "attachment_id": null, "raw_text": "I wonder if this bug is what I'm seeing here:\n\nhttp://popcorn.webmadecontent.org/iln\n\nChrome seems to have no problem, but FF 18.0.1 on Mac 10.6.8 is really choppy and slow playing the GIFs\n\nShould I file a new bug or is this related?", "creation_time": "2013-01-29T21:57:54Z", "author": "david.humphrey@senecacollege.ca", "text": "I wonder if this bug is what I'm seeing here:\n\nhttp://popcorn.webmadecontent.org/iln\n\nChrome seems to have no problem, but FF 18.0.1 on Mac 10.6.8 is really choppy and slow playing the GIFs\n\nShould I file a new bug or is this related?", "time": "2013-01-29T21:57:54Z", "tags": [], "is_private": false, "creator": "david.humphrey@senecacollege.ca", "bug_id": 666449, "count": 9}, {"is_private": false, "creator": "tnikkel@gmail.com", "count": 10, "creation_time": "2013-01-30T02:48:00Z", "author": "tnikkel@gmail.com", "text": "I woyld say a new bug until we can determine the exact problem.", "bug_id": 666449, "tags": [], "time": "2013-01-30T02:48:00Z", "attachment_id": null, "raw_text": "I woyld say a new bug until we can determine the exact problem.", "id": 7051978}, {"author": "david.humphrey@senecacollege.ca", "creation_time": "2013-01-30T03:32:45Z", "tags": [], "time": "2013-01-30T03:32:45Z", "text": "I've filed bug 836167.", "creator": "david.humphrey@senecacollege.ca", "is_private": false, "id": 7052062, "attachment_id": null, "raw_text": "I've filed bug 836167.", "bug_id": 666449, "count": 11}]}}, "comments": {}}