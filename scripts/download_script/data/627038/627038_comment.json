{"bugs": {"627038": {"comments": [{"tags": [], "time": "2011-01-19T16:34:08Z", "author": "usdcad@gmail.com", "creation_time": "2011-01-19T16:34:08Z", "count": 0, "id": 5210590, "attachment_id": null, "creator": "usdcad@gmail.com", "bug_id": 627038, "is_private": false, "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b9) Gecko/20100101 Firefox/4.0b9\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b9) Gecko/20100101 Firefox/4.0b9\n\nNOTE: this happens with Aero maximize/minimize animation *disabled*.\n\nFirefox will flash on restoring from minimized or when maximizing.\nEmpty white canvas appears, after a small but perceptible delay, viewport repaints the window. \n\nWhen expanding window size, you could see a white space between the edge being resized, and then after a short delay, window fills in, which cases a noticable flicker.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Disable Windows Aero window animations. \n(Control Panel -> System -> Advanced System settings - Performance Ooptions - Visual effects - uncheck \"Animate windows when maximizing and minimizing\"\n\n2. Open Firefox, open a few new tabs (most visible with a new empty tab), and minimize.\n\n3. Double click on taskbar panel, firefox re-opens, a flash will be perceptible, especially around titlebar and tab-bar area.\n\n4. With firefox window taking up about half the screen, click the maximize button. a white flash appears again, around edges being expanded.\nActual Results:  \nWindow flashes on any restore/expand/maximize operation.\n\nExpected Results:  \nDefault resizing/restoring behaviour of Firefox 3.6.*, with redraws on restoring/expanding/maximizing not causing a perceptible flash.\n\nTested on:  \n\nfirefox 4b8, firefox4b9 and nightlies with onboard (sandy bridge HD3000) and discrete video (nvidia 8600gs and ati 5850) on Win 7 64bit. I was told it could be a directX problem, so I had installed directx 9c 2010 as well. Issue persists. Tried various drivers - same issue. No other software produces this behaviour.\n\nFirefox produces same issue with any directx/video driver combination.", "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b9) Gecko/20100101 Firefox/4.0b9\nBuild Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b9) Gecko/20100101 Firefox/4.0b9\n\nNOTE: this happens with Aero maximize/minimize animation *disabled*.\n\nFirefox will flash on restoring from minimized or when maximizing.\nEmpty white canvas appears, after a small but perceptible delay, viewport repaints the window. \n\nWhen expanding window size, you could see a white space between the edge being resized, and then after a short delay, window fills in, which cases a noticable flicker.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Disable Windows Aero window animations. \n(Control Panel -> System -> Advanced System settings - Performance Ooptions - Visual effects - uncheck \"Animate windows when maximizing and minimizing\"\n\n2. Open Firefox, open a few new tabs (most visible with a new empty tab), and minimize.\n\n3. Double click on taskbar panel, firefox re-opens, a flash will be perceptible, especially around titlebar and tab-bar area.\n\n4. With firefox window taking up about half the screen, click the maximize button. a white flash appears again, around edges being expanded.\nActual Results:  \nWindow flashes on any restore/expand/maximize operation.\n\nExpected Results:  \nDefault resizing/restoring behaviour of Firefox 3.6.*, with redraws on restoring/expanding/maximizing not causing a perceptible flash.\n\nTested on:  \n\nfirefox 4b8, firefox4b9 and nightlies with onboard (sandy bridge HD3000) and discrete video (nvidia 8600gs and ati 5850) on Win 7 64bit. I was told it could be a directX problem, so I had installed directx 9c 2010 as well. Issue persists. Tried various drivers - same issue. No other software produces this behaviour.\n\nFirefox produces same issue with any directx/video driver combination."}, {"text": "Since the flash is due to white canvas being shown, I'd suggest best testing with dark Aero colors/theme fore best visibility, but it does appear almost as visible even with transparency off and a white skin.", "is_private": false, "bug_id": 627038, "raw_text": "Since the flash is due to white canvas being shown, I'd suggest best testing with dark Aero colors/theme fore best visibility, but it does appear almost as visible even with transparency off and a white skin.", "creator": "usdcad@gmail.com", "id": 5210622, "attachment_id": null, "creation_time": "2011-01-19T16:43:19Z", "count": 1, "time": "2011-01-19T16:43:19Z", "author": "usdcad@gmail.com", "tags": []}, {"text": "Raphael: Using Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b10pre) Gecko/20110119 Firefox/4.0b10pre and the latest trunk nightly I am not seeing exactly what you describe, but I will try it on my 2 other Windows 7 machines.", "attachment_id": null, "creator": "mozillamarcia.knous@gmail.com", "author": "mozillamarcia.knous@gmail.com", "creation_time": "2011-01-19T19:19:46Z", "tags": [], "is_private": false, "bug_id": 627038, "raw_text": "Raphael: Using Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b10pre) Gecko/20110119 Firefox/4.0b10pre and the latest trunk nightly I am not seeing exactly what you describe, but I will try it on my 2 other Windows 7 machines.", "id": 5211173, "time": "2011-01-19T19:19:46Z", "count": 2}, {"tags": [], "count": 3, "creation_time": "2011-01-19T19:30:53Z", "author": "mozillamarcia.knous@gmail.com", "time": "2011-01-19T19:30:53Z", "creator": "mozillamarcia.knous@gmail.com", "attachment_id": null, "id": 5211220, "text": "Ok, confirming since I can reproduce on this other machine using Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b10pre) Gecko/20110119 Firefox/4.0b10pre. I think I may not have \"applied\" the change on the machine in Comment 2 and that is why I did not see it.\n\nI don't see the \"flash\" for very long though.", "raw_text": "Ok, confirming since I can reproduce on this other machine using Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b10pre) Gecko/20110119 Firefox/4.0b10pre. I think I may not have \"applied\" the change on the machine in Comment 2 and that is why I did not see it.\n\nI don't see the \"flash\" for very long though.", "is_private": false, "bug_id": 627038}, {"count": 4, "creation_time": "2011-01-19T20:21:55Z", "author": "usdcad@gmail.com", "time": "2011-01-19T20:21:55Z", "tags": [], "text": "Here's a screencast:\n\nhttp://www.youtube.com/watch?v=OGeUUmZ21zE", "raw_text": "Here's a screencast:\n\nhttp://www.youtube.com/watch?v=OGeUUmZ21zE", "is_private": false, "bug_id": 627038, "creator": "usdcad@gmail.com", "attachment_id": null, "id": 5211385}, {"creator": "asa@mozilla.com", "attachment_id": null, "id": 5225375, "text": "I believe this is one of the flags that Windows can automatically flip based on the \"Windows Experience Index\" rating score. If so, then it's probably that millions or even tens of millions of users have this as their default. In light of that, and the ugliness of the experience with this bug, I think we should at least consider blocking on this.", "raw_text": "I believe this is one of the flags that Windows can automatically flip based on the \"Windows Experience Index\" rating score. If so, then it's probably that millions or even tens of millions of users have this as their default. In light of that, and the ugliness of the experience with this bug, I think we should at least consider blocking on this.", "bug_id": 627038, "is_private": false, "tags": [], "count": 5, "creation_time": "2011-01-25T16:39:28Z", "author": "asa@mozilla.com", "time": "2011-01-25T16:39:28Z"}, {"bug_id": 627038, "is_private": false, "raw_text": "--> Core::Widget", "text": "--> Core::Widget", "id": 5229471, "attachment_id": null, "creator": "mbeltzner@gmail.com", "time": "2011-01-26T20:08:27Z", "author": "mbeltzner@gmail.com", "creation_time": "2011-01-26T20:08:27Z", "count": 6, "tags": []}, {"tags": [], "count": 7, "creation_time": "2011-01-28T02:19:03Z", "author": "joe@drew.ca", "time": "2011-01-28T02:19:03Z", "creator": "joe@drew.ca", "attachment_id": null, "id": 5234257, "text": "Softblocker at worst. Bas, can you reproduce this?", "raw_text": "Softblocker at worst. Bas, can you reproduce this?", "bug_id": 627038, "is_private": false}, {"attachment_id": null, "id": 5270704, "creator": "bas@basschouten.com", "raw_text": "Could you post your about:graphics information?", "bug_id": 627038, "is_private": false, "text": "Could you post your about:graphics information?", "tags": [], "author": "bas@basschouten.com", "time": "2011-02-10T21:28:33Z", "count": 8, "creation_time": "2011-02-10T21:28:33Z"}, {"raw_text": "I can't reproduce this bug in general. I can, if I look very carefully, occasionally see the 'glass' background flash black while executing the maximize step, but only the aero background, I don't think that's something we're doing wrong but just a side effect of drawing glass areas ourselves. This also occurs with hardware acceleration switched off.", "bug_id": 627038, "is_private": false, "text": "I can't reproduce this bug in general. I can, if I look very carefully, occasionally see the 'glass' background flash black while executing the maximize step, but only the aero background, I don't think that's something we're doing wrong but just a side effect of drawing glass areas ourselves. This also occurs with hardware acceleration switched off.", "attachment_id": null, "id": 5270731, "creator": "bas@basschouten.com", "author": "bas@basschouten.com", "time": "2011-02-10T21:34:10Z", "count": 9, "creation_time": "2011-02-10T21:34:10Z", "tags": []}, {"text": "Ah, so for some reason, I'm seeing it very briefly now I think. It's independent of hardware acceleration though, so this too, I believe to be a side-effect of drawing glass areas ourselves.", "attachment_id": null, "creator": "bas@basschouten.com", "author": "bas@basschouten.com", "creation_time": "2011-02-10T21:35:44Z", "tags": [], "bug_id": 627038, "is_private": false, "raw_text": "Ah, so for some reason, I'm seeing it very briefly now I think. It's independent of hardware acceleration though, so this too, I believe to be a side-effect of drawing glass areas ourselves.", "id": 5270738, "time": "2011-02-10T21:35:44Z", "count": 10}, {"is_private": false, "bug_id": 627038, "raw_text": "This is the machine I recorded video on:\n\nAdapter Description        Intel(R)  HD Graphics Family\nVendor ID                  8086\nDevice ID                  0112\nAdapter RAM                Unknown\nAdapter Drivers            igdumd64 igd10umd64 igd10umd64 igdumdx32 igd10umd32 igd10umd32\n\nDriver Version             8.15.10.2266\nDriver Date                12-16-2010\nDirect2DEnabled            true\nDirectWrite Enabled        true (6.1.7600.16385, font cache 5.14 MB)\nWebGL Renderer             (WebGL unavailable)\nGPU Accelerated Windows    1/1 Direct3D 10", "text": "This is the machine I recorded video on:\n\nAdapter Description        Intel(R)  HD Graphics Family\nVendor ID                  8086\nDevice ID                  0112\nAdapter RAM                Unknown\nAdapter Drivers            igdumd64 igd10umd64 igd10umd64 igdumdx32 igd10umd32 igd10umd32\n\nDriver Version             8.15.10.2266\nDriver Date                12-16-2010\nDirect2DEnabled            true\nDirectWrite Enabled        true (6.1.7600.16385, font cache 5.14 MB)\nWebGL Renderer             (WebGL unavailable)\nGPU Accelerated Windows    1/1 Direct3D 10", "id": 5272937, "attachment_id": null, "creator": "usdcad@gmail.com", "time": "2011-02-11T17:03:41Z", "author": "usdcad@gmail.com", "creation_time": "2011-02-11T17:03:41Z", "count": 11, "tags": []}, {"attachment_id": null, "creator": "bas@basschouten.com", "text": "(In reply to comment #11)\n> This is the machine I recorded video on:\n> \n> Adapter Description        Intel(R)  HD Graphics Family\n> Vendor ID                  8086\n> Device ID                  0112\n> Adapter RAM                Unknown\n> Adapter Drivers            igdumd64 igd10umd64 igd10umd64 igdumdx32 igd10umd32\n> igd10umd32\n> \n> Driver Version             8.15.10.2266\n> Driver Date                12-16-2010\n> Direct2DEnabled            true\n> DirectWrite Enabled        true (6.1.7600.16385, font cache 5.14 MB)\n> WebGL Renderer             (WebGL unavailable)\n> GPU Accelerated Windows    1/1 Direct3D 10\n\nCould you update to the latest beta and see if it's still the same. Also, could you try disabling hardware acceleration and seeing if that fixes it.", "tags": [], "author": "bas@basschouten.com", "creation_time": "2011-02-15T18:18:05Z", "id": 5280218, "is_private": false, "bug_id": 627038, "raw_text": "(In reply to comment #11)\n> This is the machine I recorded video on:\n> \n> Adapter Description        Intel(R)  HD Graphics Family\n> Vendor ID                  8086\n> Device ID                  0112\n> Adapter RAM                Unknown\n> Adapter Drivers            igdumd64 igd10umd64 igd10umd64 igdumdx32 igd10umd32\n> igd10umd32\n> \n> Driver Version             8.15.10.2266\n> Driver Date                12-16-2010\n> Direct2DEnabled            true\n> DirectWrite Enabled        true (6.1.7600.16385, font cache 5.14 MB)\n> WebGL Renderer             (WebGL unavailable)\n> GPU Accelerated Windows    1/1 Direct3D 10\n\nCould you update to the latest beta and see if it's still the same. Also, could you try disabling hardware acceleration and seeing if that fixes it.", "time": "2011-02-15T18:18:05Z", "count": 12}, {"time": "2011-02-18T02:49:51Z", "count": 13, "id": 5288542, "raw_text": "Bas, I have updated to b11 now. also updated Intel drivers.\n\nit happens with both hardware accel on and off, but unfortunately its not very straightforward. hardware accel swtich DOES affect it, but not quite clear if its improved or not.\n\nwith b11: \n\nI disabled Aero completely, Windows Basic theme, blank profile:\nhardware accel on or off: Result: works close to 3.6\n\nWith aero on: \nhardware accel on: bigger delay, you can clearly see white canvas, and then toolbars and everything else redrawn, cant tell what redraws first, BUT, it feels that somehow the tabs are bumped upwards.\n\nhardware accel off: smaller delay, perceptible on websites with colored backgrounds, less perceptible on white background web pages.\n\nHOWEVER: the toolbar area, including tabs/navigation flickers regardless of hardware accel turned on/off. this makes me think its not the hardware accel per se, but something else, that somehow becomes magnified with hardware accel on.\n\nALSO: there are glimpses of proper behavior. you click to restore a minimized window - bang, the window is there, absolutely no perception of anything being redrawn. However, I cannot reproduce this or the bug itself consistently with b11, happens randomly, but seems to happen a lot more frequently with 10-15+ tabs. perfect behavior does happen - but very rare, and i cant figure out how to make it reproducible, either proper or broken behavior. it just happens a few times - and then i cannot bring it back.\n\nThe video I posted does not capture finer details of this well, only white canvas being filled, and I dont know of any high fps software to record with, CamStudio doesnt go very high, maybe seeing finer details would help.\n\nif there are any tests to run/record, please let me know how can I help further.", "is_private": false, "bug_id": 627038, "tags": [], "author": "usdcad@gmail.com", "creation_time": "2011-02-18T02:49:51Z", "attachment_id": null, "creator": "usdcad@gmail.com", "text": "Bas, I have updated to b11 now. also updated Intel drivers.\n\nit happens with both hardware accel on and off, but unfortunately its not very straightforward. hardware accel swtich DOES affect it, but not quite clear if its improved or not.\n\nwith b11: \n\nI disabled Aero completely, Windows Basic theme, blank profile:\nhardware accel on or off: Result: works close to 3.6\n\nWith aero on: \nhardware accel on: bigger delay, you can clearly see white canvas, and then toolbars and everything else redrawn, cant tell what redraws first, BUT, it feels that somehow the tabs are bumped upwards.\n\nhardware accel off: smaller delay, perceptible on websites with colored backgrounds, less perceptible on white background web pages.\n\nHOWEVER: the toolbar area, including tabs/navigation flickers regardless of hardware accel turned on/off. this makes me think its not the hardware accel per se, but something else, that somehow becomes magnified with hardware accel on.\n\nALSO: there are glimpses of proper behavior. you click to restore a minimized window - bang, the window is there, absolutely no perception of anything being redrawn. However, I cannot reproduce this or the bug itself consistently with b11, happens randomly, but seems to happen a lot more frequently with 10-15+ tabs. perfect behavior does happen - but very rare, and i cant figure out how to make it reproducible, either proper or broken behavior. it just happens a few times - and then i cannot bring it back.\n\nThe video I posted does not capture finer details of this well, only white canvas being filled, and I dont know of any high fps software to record with, CamStudio doesnt go very high, maybe seeing finer details would help.\n\nif there are any tests to run/record, please let me know how can I help further."}, {"time": "2011-02-18T04:18:49Z", "author": "usdcad@gmail.com", "creation_time": "2011-02-18T04:18:49Z", "count": 14, "tags": [], "bug_id": 627038, "is_private": false, "raw_text": "I downloaded an extension to disable glass completely, Hide Titlebar Plus. \n\nEverything works absolutely perfectly without glass, with or without acceleration.", "text": "I downloaded an extension to disable glass completely, Hide Titlebar Plus. \n\nEverything works absolutely perfectly without glass, with or without acceleration.", "id": 5288659, "attachment_id": null, "creator": "usdcad@gmail.com"}, {"text": "Correct: in comment 14 - I had forgotten to disable XP sp2 compatiblity mode.\nIt works great with that mode on and that extension.\n\nWithout compatibility mode enabled - delays reappear again, even without any glassy areas.", "bug_id": 627038, "is_private": false, "raw_text": "Correct: in comment 14 - I had forgotten to disable XP sp2 compatiblity mode.\nIt works great with that mode on and that extension.\n\nWithout compatibility mode enabled - delays reappear again, even without any glassy areas.", "creator": "usdcad@gmail.com", "id": 5288706, "attachment_id": null, "creation_time": "2011-02-18T05:00:02Z", "count": 15, "time": "2011-02-18T05:00:02Z", "author": "usdcad@gmail.com", "tags": []}, {"bug_id": 627038, "is_private": false, "raw_text": "** PRODUCT DRIVERS PLEASE NOTE **\n\nThis bug is one of 7 automatically changed from blocking2.0:final+ to blocking2.0:.x during the endgame of Firefox 4 for the following reasons:\n\n - it was marked as a soft blocking issue without a requirement for beta coverage", "text": "** PRODUCT DRIVERS PLEASE NOTE **\n\nThis bug is one of 7 automatically changed from blocking2.0:final+ to blocking2.0:.x during the endgame of Firefox 4 for the following reasons:\n\n - it was marked as a soft blocking issue without a requirement for beta coverage", "id": 5318569, "attachment_id": null, "creator": "mbeltzner@gmail.com", "time": "2011-03-03T15:21:33Z", "author": "mbeltzner@gmail.com", "creation_time": "2011-03-03T15:21:33Z", "count": 16, "tags": []}]}}, "comments": {}}