{"comments": {}, "bugs": {"657155": {"comments": [{"text": "foreignObject inline in HTML isn't reliably reflowed before the document 'load' event is fired, so document.elementFromPoint() fails. See bug 580983 comment 116. Reflow tardiness isn't confirmed to be the problem, but it's almost certainly the case. Someone should enable the disabled test in test_pointer-events-2.xhtml and check.\n\nBoris, what's your opinion on whether people should be able to rely on foreignObject being reflowed before the document 'load' event is fired? Seems to me like elementFromPoint() should work onload, so it should.", "count": 0, "author": "jwatt@jwatt.org", "creator": "jwatt@jwatt.org", "attachment_id": null, "id": 5470378, "time": "2011-05-14T19:12:20Z", "tags": [], "raw_text": "foreignObject inline in HTML isn't reliably reflowed before the document 'load' event is fired, so document.elementFromPoint() fails. See bug 580983 comment 116. Reflow tardiness isn't confirmed to be the problem, but it's almost certainly the case. Someone should enable the disabled test in test_pointer-events-2.xhtml and check.\n\nBoris, what's your opinion on whether people should be able to rely on foreignObject being reflowed before the document 'load' event is fired? Seems to me like elementFromPoint() should work onload, so it should.", "bug_id": 657155, "creation_time": "2011-05-14T19:12:20Z", "is_private": false}, {"attachment_id": null, "creator": "roc@ocallahan.org", "author": "roc@ocallahan.org", "count": 1, "text": "The issue here is not that reflow must happen before \"load\" runs. There is no such requirement.\n\nThe issue here is that document.elementFromPoint flushes reflow, but apparently that reflow flush is not actually causing the foreignObject to be reflowed.", "is_private": false, "tags": [], "bug_id": 657155, "creation_time": "2011-05-16T01:49:05Z", "raw_text": "The issue here is not that reflow must happen before \"load\" runs. There is no such requirement.\n\nThe issue here is that document.elementFromPoint flushes reflow, but apparently that reflow flush is not actually causing the foreignObject to be reflowed.", "id": 5471519, "time": "2011-05-16T01:49:05Z"}, {"author": "bzbarsky@mit.edu", "count": 2, "text": "Fwiw, that is _exactly_ what I was going to say.\n\nThis sounds like one of the existing \"foreignobject doesn't update layout dynamically correctly\" bugs...", "attachment_id": null, "creator": "bzbarsky@mit.edu", "id": 5471532, "time": "2011-05-16T02:11:45Z", "is_private": false, "tags": [], "raw_text": "Fwiw, that is _exactly_ what I was going to say.\n\nThis sounds like one of the existing \"foreignobject doesn't update layout dynamically correctly\" bugs...", "creation_time": "2011-05-16T02:11:45Z", "bug_id": 657155}, {"is_private": false, "attachment_id": null, "raw_text": "Changed summary to reflect comments.", "creation_time": "2011-05-16T14:40:25Z", "bug_id": 657155, "creator": "longsonr@gmail.com", "tags": [], "author": "longsonr@gmail.com", "time": "2011-05-16T14:40:25Z", "id": 5472220, "text": "Changed summary to reflect comments.", "count": 3}, {"time": "2011-05-16T14:51:06Z", "id": 5472251, "is_private": false, "raw_text": "A testcase would be useful too.", "bug_id": 657155, "creation_time": "2011-05-16T14:51:06Z", "tags": [], "author": "bzbarsky@mit.edu", "count": 4, "text": "A testcase would be useful too.", "attachment_id": null, "creator": "bzbarsky@mit.edu"}]}}}