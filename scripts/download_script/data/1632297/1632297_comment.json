{"bugs": {"1632297": {"comments": [{"time": "2020-04-22T20:54:31Z", "creator": "mtrinkala@mozilla.com", "tags": [], "creation_time": "2020-04-22T20:54:31Z", "count": 0, "raw_text": "See attached list", "bug_id": 1632297, "is_private": false, "text": "Created attachment 9142543\nworkerPoolIds that are missing cost data\n\nSee attached list", "attachment_id": 9142543, "author": "mtrinkala@mozilla.com", "id": 14772681}, {"time": "2020-07-07T16:26:52Z", "creator": "mtrinkala@mozilla.com", "tags": [], "count": 1, "creation_time": "2020-07-07T16:26:52Z", "raw_text": "A good number of these are containers. Mapping them back to the instance they were running on, the number of containers per instance and the number of concurrent tasks configured per container at that moment in time to get the proper time divisor is not something that can be easily done.  The scriptworkers-k8 run in moz-fx-relengworker-prod-a67d and cost about 11K a month.  These costs could be divided among the tasks, that would conceal any overhead but it is an incremental improvement over no costs at all.  Better ideas?", "bug_id": 1632297, "is_private": false, "text": "A good number of these are containers. Mapping them back to the instance they were running on, the number of containers per instance and the number of concurrent tasks configured per container at that moment in time to get the proper time divisor is not something that can be easily done.  The scriptworkers-k8 run in moz-fx-relengworker-prod-a67d and cost about 11K a month.  These costs could be divided among the tasks, that would conceal any overhead but it is an incremental improvement over no costs at all.  Better ideas?", "id": 14923238, "author": "mtrinkala@mozilla.com", "attachment_id": null}, {"text": "I updated the workerType cost report with scriptworker-k8s costs (as described above).  Since the billing data doesn't have workerType tagging any overhead is attributed to workerPoolId \"scriptworker-k8s/\".  The only overhead displayed is when the billing hours are greater than the TC hours.  If the TC hours are greater than the billing hours (due to concurrency) the cost is simply divided among the TC time; in this case there can still be overhead but we won't be able to see it.  I will be reviewing the data in more detail but hope to officially close this out by the end of the week if no issues are found.\n\nhttps://github.com/mozilla-services/lua_sandbox_extensions/pull/520", "id": 14926188, "author": "mtrinkala@mozilla.com", "attachment_id": null, "bug_id": 1632297, "is_private": false, "count": 2, "creation_time": "2020-07-08T20:58:12Z", "raw_text": "I updated the workerType cost report with scriptworker-k8s costs (as described above).  Since the billing data doesn't have workerType tagging any overhead is attributed to workerPoolId \"scriptworker-k8s/\".  The only overhead displayed is when the billing hours are greater than the TC hours.  If the TC hours are greater than the billing hours (due to concurrency) the cost is simply divided among the TC time; in this case there can still be overhead but we won't be able to see it.  I will be reviewing the data in more detail but hope to officially close this out by the end of the week if no issues are found.\n\nhttps://github.com/mozilla-services/lua_sandbox_extensions/pull/520", "creator": "mtrinkala@mozilla.com", "time": "2020-07-08T20:58:12Z", "tags": []}, {"tags": [], "time": "2020-07-09T12:31:53Z", "creator": "jmaher@mozilla.com", "raw_text": "this sounds reasonable.  It provides more insight into the data and accounts for over/under billing.  Of course the risk is once we have this data and dig into it, we might want more details and it might require redoing this.  Hopefully this isn't a temporary step, but a building block.", "creation_time": "2020-07-09T12:31:53Z", "count": 3, "is_private": false, "bug_id": 1632297, "attachment_id": null, "id": 14927351, "author": "jmaher@mozilla.com", "text": "this sounds reasonable.  It provides more insight into the data and accounts for over/under billing.  Of course the risk is once we have this data and dig into it, we might want more details and it might require redoing this.  Hopefully this isn't a temporary step, but a building block."}]}}, "comments": {}}