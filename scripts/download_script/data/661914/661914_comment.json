{"comments": {}, "bugs": {"661914": {"comments": [{"creator": "gobzo@aim.com", "is_private": false, "creation_time": "2011-06-03T19:38:50Z", "attachment_id": null, "tags": [], "author": "gobzo@aim.com", "text": "User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.17) Gecko/20110428 Fedora/3.6.17-1.fc14 Firefox 3.6.3 (.NET CLR 3.5.30729)\nBuild Identifier: Mozilla 4.0.1 source\n\nConfigure is successful under Fedora14 64bit.\nMake fails as follows:\n\nc++ -o dump_syms  -fno-rtti -fno-exceptions -Wall -Wpointer-arith -Woverloaded-virtual -Wsynth -Wno-ctor-dtor-privacy -Wno-non-virtual-dtor -Wcast-align -Wno-invalid-offsetof -Wno-variadic-macros -Werror=return-type -pedantic -Wno-long-long -fno-strict-aliasing -fshort-wchar -pthread -pipe  -DNDEBUG -DTRIMMED -Os -freorder-blocks -fomit-frame-pointer -finline-limit=50 -lpthread   -Wl,-rpath-link,/home/alexim/Compile/mozilla-2.0/dist/bin -Wl,-rpath-link,/usr/local/lib  -static host_dump_syms.o ../../../../../../../toolkit/crashreporter/google-breakpad/src/common/linux/libhost_breakpad_linux_common_s.a ../../../../../../../toolkit/crashreporter/google-breakpad/src/common/libhost_breakpad_common_s.a ../../../../../../../toolkit/crashreporter/google-breakpad/src/common/dwarf/libhost_breakpad_dwarf_s.a  \n/usr/bin/ld: cannot find -lpthread\n/usr/bin/ld: cannot find -lstdc++\n/usr/bin/ld: cannot find -lm\n/usr/bin/ld: cannot find -lpthread\n/usr/bin/ld: cannot find -lc\ncollect2: ld returned 1 exit status\nmake[5]: *** [dump_syms] Error 1\nmake[5]: Leaving directory `/home/alexim/Compile/mozilla-2.0/toolkit/crashreporter/google-breakpad/src/tools/linux/dump_syms'\nmake[4]: *** [libs] Error 2\nmake[4]: Leaving directory `/home/alexim/Compile/mozilla-2.0/toolkit/crashreporter'\nmake[3]: *** [crashreporter_libs] Error 2\nmake[3]: Leaving directory `/home/alexim/Compile/mozilla-2.0/toolkit'\nmake[2]: *** [libs_tier_platform] Error 2\nmake[2]: Leaving directory `/home/alexim/Compile/mozilla-2.0'\nmake[1]: *** [tier_platform] Error 2\nmake[1]: Leaving directory `/home/alexim/Compile/mozilla-2.0'\nmake: *** [default] Error 2\n\n\nReproducible: Always", "count": 0, "bug_id": 661914, "id": 5511615, "time": "2011-06-03T19:38:50Z", "raw_text": "User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.17) Gecko/20110428 Fedora/3.6.17-1.fc14 Firefox 3.6.3 (.NET CLR 3.5.30729)\nBuild Identifier: Mozilla 4.0.1 source\n\nConfigure is successful under Fedora14 64bit.\nMake fails as follows:\n\nc++ -o dump_syms  -fno-rtti -fno-exceptions -Wall -Wpointer-arith -Woverloaded-virtual -Wsynth -Wno-ctor-dtor-privacy -Wno-non-virtual-dtor -Wcast-align -Wno-invalid-offsetof -Wno-variadic-macros -Werror=return-type -pedantic -Wno-long-long -fno-strict-aliasing -fshort-wchar -pthread -pipe  -DNDEBUG -DTRIMMED -Os -freorder-blocks -fomit-frame-pointer -finline-limit=50 -lpthread   -Wl,-rpath-link,/home/alexim/Compile/mozilla-2.0/dist/bin -Wl,-rpath-link,/usr/local/lib  -static host_dump_syms.o ../../../../../../../toolkit/crashreporter/google-breakpad/src/common/linux/libhost_breakpad_linux_common_s.a ../../../../../../../toolkit/crashreporter/google-breakpad/src/common/libhost_breakpad_common_s.a ../../../../../../../toolkit/crashreporter/google-breakpad/src/common/dwarf/libhost_breakpad_dwarf_s.a  \n/usr/bin/ld: cannot find -lpthread\n/usr/bin/ld: cannot find -lstdc++\n/usr/bin/ld: cannot find -lm\n/usr/bin/ld: cannot find -lpthread\n/usr/bin/ld: cannot find -lc\ncollect2: ld returned 1 exit status\nmake[5]: *** [dump_syms] Error 1\nmake[5]: Leaving directory `/home/alexim/Compile/mozilla-2.0/toolkit/crashreporter/google-breakpad/src/tools/linux/dump_syms'\nmake[4]: *** [libs] Error 2\nmake[4]: Leaving directory `/home/alexim/Compile/mozilla-2.0/toolkit/crashreporter'\nmake[3]: *** [crashreporter_libs] Error 2\nmake[3]: Leaving directory `/home/alexim/Compile/mozilla-2.0/toolkit'\nmake[2]: *** [libs_tier_platform] Error 2\nmake[2]: Leaving directory `/home/alexim/Compile/mozilla-2.0'\nmake[1]: *** [tier_platform] Error 2\nmake[1]: Leaving directory `/home/alexim/Compile/mozilla-2.0'\nmake: *** [default] Error 2\n\n\nReproducible: Always"}, {"bug_id": 661914, "id": 5511830, "text": "$ ./configure --enable-application=browser --disable-necko-wifi | grep pthread\nchecking for pthread_create in -lpthreads... no\nchecking for pthread_create in -lpthread... yes\nchecking whether gcc accepts -pthread... yes\n\n$ ldconfig -v | grep pthread\n        libpthread.so.0 -> libpthread-2.13.so\n        libpthread.so.0 -> libpthread-2.13.so\n        libgpgme-pthread.so.11 -> libgpgme-pthread.so.11.7.0\n        libgpgme++-pthread.so.2 -> libgpgme++-pthread.so.2.8.0\n\n$ ldconfig -v | grep stdc\n        libstdc++.so.6 -> libstdc++.so.6.0.14\n        libstdc++.so.6 -> libstdc++.so.6.0.14", "count": 1, "author": "gobzo@aim.com", "time": "2011-06-03T21:11:47Z", "raw_text": "$ ./configure --enable-application=browser --disable-necko-wifi | grep pthread\nchecking for pthread_create in -lpthreads... no\nchecking for pthread_create in -lpthread... yes\nchecking whether gcc accepts -pthread... yes\n\n$ ldconfig -v | grep pthread\n        libpthread.so.0 -> libpthread-2.13.so\n        libpthread.so.0 -> libpthread-2.13.so\n        libgpgme-pthread.so.11 -> libgpgme-pthread.so.11.7.0\n        libgpgme++-pthread.so.2 -> libgpgme++-pthread.so.2.8.0\n\n$ ldconfig -v | grep stdc\n        libstdc++.so.6 -> libstdc++.so.6.0.14\n        libstdc++.so.6 -> libstdc++.so.6.0.14", "creation_time": "2011-06-03T21:11:47Z", "is_private": false, "creator": "gobzo@aim.com", "tags": [], "attachment_id": null}, {"raw_text": "I think that we can probably drop the -static here now since we fixed the libstdc++ dep problem, right? That'd avoid this annoyance where people don't have a static libstdc++ installed.", "time": "2011-06-04T17:34:29Z", "id": 5513475, "bug_id": 661914, "text": "I think that we can probably drop the -static here now since we fixed the libstdc++ dep problem, right? That'd avoid this annoyance where people don't have a static libstdc++ installed.", "count": 2, "author": "ted@mielczarek.org", "tags": [], "attachment_id": null, "creation_time": "2011-06-04T17:34:29Z", "is_private": false, "creator": "ted@mielczarek.org"}, {"tags": [], "attachment_id": null, "creation_time": "2011-06-04T20:32:48Z", "is_private": false, "creator": "gobzo@aim.com", "raw_text": "So what's the solution? I can install static stdc++, no problem. Should I?\n\nUnderstand, guys - I report bugs here and your only response is to upgrade to a new version. Now that I am ready to give it a try, it does not even compile. Kind of pain.", "time": "2011-06-04T20:32:48Z", "bug_id": 661914, "id": 5513563, "count": 3, "text": "So what's the solution? I can install static stdc++, no problem. Should I?\n\nUnderstand, guys - I report bugs here and your only response is to upgrade to a new version. Now that I am ready to give it a try, it does not even compile. Kind of pain.", "author": "gobzo@aim.com"}, {"text": "Sorry, we're not perfect! Yes, installing static-libstdc++ will probably fix this issue. My comment was because we've since applied a workaround to our tree that might make the \"-static\" in this link line unnecessary.", "count": 4, "author": "ted@mielczarek.org", "creator": "ted@mielczarek.org", "is_private": false, "creation_time": "2011-06-04T21:30:44Z", "bug_id": 661914, "id": 5513591, "raw_text": "Sorry, we're not perfect! Yes, installing static-libstdc++ will probably fix this issue. My comment was because we've since applied a workaround to our tree that might make the \"-static\" in this link line unnecessary.", "attachment_id": null, "time": "2011-06-04T21:30:44Z", "tags": []}, {"raw_text": "I guess replacing -static with -static-libstdc++ would work on firefox 4, though. As for m-c, if we drop -static, we may need to add the stdcxx-compat.cpp hack in there (it's opt-in)", "attachment_id": null, "time": "2011-06-04T23:53:13Z", "tags": [], "count": 5, "text": "I guess replacing -static with -static-libstdc++ would work on firefox 4, though. As for m-c, if we drop -static, we may need to add the stdcxx-compat.cpp hack in there (it's opt-in)", "author": "mh+mozilla@glandium.org", "creator": "mh+mozilla@glandium.org", "creation_time": "2011-06-04T23:53:13Z", "is_private": false, "id": 5513676, "bug_id": 661914}, {"time": "2011-06-05T13:33:00Z", "raw_text": "Ah. The only reason we added that was because the build slaves would build a dump_syms linked to a libstdc++ that wasn't in their default library path, so they couldn't run the resulting binary.", "attachment_id": null, "tags": [], "creator": "ted@mielczarek.org", "text": "Ah. The only reason we added that was because the build slaves would build a dump_syms linked to a libstdc++ that wasn't in their default library path, so they couldn't run the resulting binary.", "count": 6, "author": "ted@mielczarek.org", "id": 5514016, "bug_id": 661914, "is_private": false, "creation_time": "2011-06-05T13:33:00Z"}, {"time": "2011-06-05T16:59:01Z", "raw_text": "No one is perfect, but why are we not seeing those issues under Win? Is Linux a bastard child?", "id": 5514132, "bug_id": 661914, "author": "gobzo@aim.com", "count": 7, "text": "No one is perfect, but why are we not seeing those issues under Win? Is Linux a bastard child?", "tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-06-05T16:59:01Z", "creator": "gobzo@aim.com"}, {"tags": [], "attachment_id": null, "creation_time": "2011-06-05T17:25:04Z", "is_private": false, "creator": "ted@mielczarek.org", "raw_text": "No, we simply build different parts of the code base for different operating systems. Please don't ascribe malice to bugs. We have plenty of bugs on Windows as well.", "time": "2011-06-05T17:25:04Z", "bug_id": 661914, "id": 5514138, "text": "No, we simply build different parts of the code base for different operating systems. Please don't ascribe malice to bugs. We have plenty of bugs on Windows as well.", "count": 8, "author": "ted@mielczarek.org"}, {"time": "2011-07-08T08:06:54Z", "raw_text": "Mozilla/5.0 (X11; Linux i686; rv:8.0a1) Gecko/20110707 Firefox/8.0a1\n\nReporter, does installing static-libstdc++ solve your problem? Are you still able to reproduce your issue?", "bug_id": 661914, "id": 5580465, "author": "george.carstoiu@gmail.com", "count": 9, "text": "Mozilla/5.0 (X11; Linux i686; rv:8.0a1) Gecko/20110707 Firefox/8.0a1\n\nReporter, does installing static-libstdc++ solve your problem? Are you still able to reproduce your issue?", "tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-07-08T08:06:54Z", "creator": "george.carstoiu@gmail.com"}, {"count": 10, "text": "I have the same problem with fedora 14 and Mozilla/5.0 (X11; Linux x86_64; rv:8.0a1) Gecko/20110801 Firefox/8.0a1 (Build on 2011-08-01)\n\nInstalling libstdc++-static and glibc-static solved the issue for me.", "author": "gurketsky@googlemail.com", "creator": "gurketsky@googlemail.com", "creation_time": "2011-08-01T19:39:08Z", "is_private": false, "bug_id": 661914, "id": 5625968, "raw_text": "I have the same problem with fedora 14 and Mozilla/5.0 (X11; Linux x86_64; rv:8.0a1) Gecko/20110801 Firefox/8.0a1 (Build on 2011-08-01)\n\nInstalling libstdc++-static and glibc-static solved the issue for me.", "attachment_id": null, "time": "2011-08-01T19:39:08Z", "tags": []}, {"attachment_id": null, "tags": [], "creator": "khuey@kylehuey.com", "is_private": false, "creation_time": "2011-08-14T22:22:34Z", "time": "2011-08-14T22:22:34Z", "raw_text": "Had another user run into this on #introduction today.", "author": "khuey@kylehuey.com", "count": 11, "text": "Had another user run into this on #introduction today.", "bug_id": 661914, "id": 5653133}, {"attachment_id": null, "tags": [], "creator": "froydnj+bz@gmail.com", "creation_time": "2011-11-23T19:41:52Z", "is_private": false, "time": "2011-11-23T19:41:52Z", "raw_text": "Ran into this on my Fedora VM today; marking as confirmed.", "author": "froydnj+bz@gmail.com", "count": 12, "text": "Ran into this on my Fedora VM today; marking as confirmed.", "id": 5869087, "bug_id": 661914}]}}}