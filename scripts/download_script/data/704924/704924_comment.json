{"bugs": {"704924": {"comments": [{"creator": "jaws@mozilla.com", "author": "jaws@mozilla.com", "text": "Created attachment 576582\nTest for full-screen button\n\nBug 470628 added a full-screen button to the <video> controls. There was a test made with that patch, but it is getting occasional timeouts on Mac and Linux builds.\n\nThis bug is to fix up the test to figure out why the timeouts are occurring and get the test landed.", "count": 0, "bug_id": 704924, "id": 5869113, "is_private": false, "creation_time": "2011-11-23T19:47:16Z", "time": "2011-11-23T19:47:16Z", "attachment_id": 576582, "raw_text": "Bug 470628 added a full-screen button to the <video> controls. There was a test made with that patch, but it is getting occasional timeouts on Mac and Linux builds.\n\nThis bug is to fix up the test to figure out why the timeouts are occurring and get the test landed.", "tags": []}, {"tags": [], "raw_text": "Sorry, I meant to say that the oranges are happening on Linux Opt/Debug and WinXP opt/debug.", "attachment_id": null, "time": "2011-11-23T19:49:20Z", "creation_time": "2011-11-23T19:49:20Z", "is_private": false, "id": 5869119, "bug_id": 704924, "count": 1, "text": "Sorry, I meant to say that the oranges are happening on Linux Opt/Debug and WinXP opt/debug.", "author": "jaws@mozilla.com", "creator": "jaws@mozilla.com"}, {"author": "jaws@mozilla.com", "count": 2, "text": "https://tbpl.mozilla.org/?tree=Try&rev=bc66d8d3d583", "creator": "jaws@mozilla.com", "creation_time": "2011-11-23T19:54:22Z", "is_private": false, "bug_id": 704924, "id": 5869127, "attachment_id": null, "raw_text": "https://tbpl.mozilla.org/?tree=Try&rev=bc66d8d3d583", "time": "2011-11-23T19:54:22Z", "tags": []}, {"is_private": false, "creation_time": "2011-11-23T21:13:51Z", "id": 5869369, "bug_id": 704924, "author": "jaws@mozilla.com", "text": "Created attachment 576601\nPatch for bug 704924 - Test for full-screen button\n\nThis is the part of the previous patch that was specifically adding the new test.", "count": 3, "creator": "jaws@mozilla.com", "tags": [], "attachment_id": 576601, "raw_text": "This is the part of the previous patch that was specifically adding the new test.", "time": "2011-11-23T21:13:51Z"}, {"attachment_id": null, "tags": [], "creator": "jaws@mozilla.com", "is_private": false, "creation_time": "2012-01-27T22:33:01Z", "time": "2012-01-27T22:33:01Z", "raw_text": "Note: There is a potential that the timeouts were the cause of bug 718107. Knowing this now, there may be a workaround that we can do to get these tests landed.", "author": "jaws@mozilla.com", "count": 4, "text": "Note: There is a potential that the timeouts were the cause of bug 718107. Knowing this now, there may be a workaround that we can do to get these tests landed.", "bug_id": 704924, "id": 6015661}, {"is_private": false, "creation_time": "2012-07-16T13:44:28Z", "creator": "jaws@mozilla.com", "tags": [], "attachment_id": 642565, "id": 6475661, "bug_id": 704924, "count": 5, "text": "Created attachment 642565\nPatch v2\n\nPushed to try: https://tbpl.mozilla.org/?tree=Try&rev=710b15ca44f8", "author": "jaws@mozilla.com", "time": "2012-07-16T13:44:28Z", "raw_text": "Pushed to try: https://tbpl.mozilla.org/?tree=Try&rev=710b15ca44f8"}, {"tags": [], "attachment_id": null, "creation_time": "2012-07-17T19:39:15Z", "is_private": false, "creator": "jaws@mozilla.com", "raw_text": "Working on fixing some of the oranges in OS X 10.7 and Win XP.\n\nIt looks like I've fixed the oranges in OSX 10.7 (https://tbpl.mozilla.org/?tree=Try&rev=d499df23938e), and I've got another version that I just pushed to tryserver to see if it will fix Windows XP (https://tbpl.mozilla.org/?tree=Try&rev=2274914b1297).", "time": "2012-07-17T19:39:15Z", "bug_id": 704924, "id": 6480969, "author": "jaws@mozilla.com", "count": 6, "text": "Working on fixing some of the oranges in OS X 10.7 and Win XP.\n\nIt looks like I've fixed the oranges in OSX 10.7 (https://tbpl.mozilla.org/?tree=Try&rev=d499df23938e), and I've got another version that I just pushed to tryserver to see if it will fix Windows XP (https://tbpl.mozilla.org/?tree=Try&rev=2274914b1297)."}, {"bug_id": 704924, "id": 6491182, "is_private": false, "creation_time": "2012-07-20T14:05:46Z", "creator": "jaws@mozilla.com", "text": "Created attachment 644308\nPatch v3\n\nOk, this patch passes on all platforms \\o/\n\nhttps://tbpl.mozilla.org/?tree=Try&rev=beabbe11c24b\n\nThe resize grippy on XP popup windows got in the way of clicking on the fullscreen button. Moving the pixel location of the mouse click a few pixels away fixed it.", "count": 7, "author": "jaws@mozilla.com", "tags": [], "time": "2012-07-20T14:05:46Z", "raw_text": "Ok, this patch passes on all platforms \\o/\n\nhttps://tbpl.mozilla.org/?tree=Try&rev=beabbe11c24b\n\nThe resize grippy on XP popup windows got in the way of clicking on the fullscreen button. Moving the pixel location of the mouse click a few pixels away fixed it.", "attachment_id": 644308}, {"bug_id": 704924, "id": 6491658, "is_private": false, "creation_time": "2012-07-20T16:21:19Z", "creator": "jdinbox@gmail.com", "author": "jdinbox@gmail.com", "count": 8, "text": "Comment on attachment 644308\nPatch v3\n\nReview of attachment 644308:\n-----------------------------------------------------------------\n\n::: toolkit/content/tests/widgets/test_videocontrols_fullscreen.html\n@@ +75,5 @@\n> +      var fullscreenButtonCenterX = win.screen.width - Math.round(fullscreenButtonWidth / 2);\n> +      var fullscreenButtonCenterY = win.screen.height - Math.round(fullscreenButtonHeight / 2);\n> +\n> +      // Sometimes the window hasn't fully finished redrawing when the event is fired.\n> +      setTimeout(function() {\n\n*frowny face*\n\nWould be good to get rid of this. Can you force it with a style flush? Or onpaint listener? Polling setInterval to (somehow) see if it's ready to click?", "tags": [], "time": "2012-07-20T16:21:19Z", "attachment_id": 644308, "raw_text": "Review of attachment 644308:\n-----------------------------------------------------------------\n\n::: toolkit/content/tests/widgets/test_videocontrols_fullscreen.html\n@@ +75,5 @@\n> +      var fullscreenButtonCenterX = win.screen.width - Math.round(fullscreenButtonWidth / 2);\n> +      var fullscreenButtonCenterY = win.screen.height - Math.round(fullscreenButtonHeight / 2);\n> +\n> +      // Sometimes the window hasn't fully finished redrawing when the event is fired.\n> +      setTimeout(function() {\n\n*frowny face*\n\nWould be good to get rid of this. Can you force it with a style flush? Or onpaint listener? Polling setInterval to (somehow) see if it's ready to click?"}, {"creator": "jaws@mozilla.com", "author": "jaws@mozilla.com", "count": 9, "text": "I tried doing a style flush (calling video.clientTop) but the test still timed out on OS X. <https://tbpl.mozilla.org/?tree=Try&rev=b53cd1740a35>\n\nSince this is native anonymous content, we don't have a good way to know when the element is visible or ready to be clicked on.", "id": 6513134, "bug_id": 704924, "is_private": false, "creation_time": "2012-07-27T22:42:59Z", "time": "2012-07-27T22:42:59Z", "attachment_id": null, "raw_text": "I tried doing a style flush (calling video.clientTop) but the test still timed out on OS X. <https://tbpl.mozilla.org/?tree=Try&rev=b53cd1740a35>\n\nSince this is native anonymous content, we don't have a good way to know when the element is visible or ready to be clicked on.", "tags": []}]}}, "comments": {}}