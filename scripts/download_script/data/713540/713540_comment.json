{"bugs": {"713540": {"comments": [{"bug_id": 713540, "id": 5940055, "author": "Ken@klbproductions.com", "count": 0, "text": "Custom themes that use custom XUL scrollbars rather than OS Native scrollbars are intermittently losing background images in their scrollbars.  I first noticed this issue with FF9.0.1 (and I see a lot of themes as am AMO editor), however, some theme developers have reported noticing this issue since FF4.\n\nI have not been able to isolate out the cause of scrollbars losing their background images as the issue doesn't consistently occur with every FF start of a theme that uses XUL scrollbars. In fact, I've had the same theme installed in multiple profiles running on the same computer and using the same FF9.0.1 install and the scrollbars will appear broken in one instance, but not another.\n\nHere are some sample themes that I have noticed this issue with in the past week (I have linked to versions I tested for this problem):\nhttps://addons.mozilla.org/firefox/downloads/file/139815/oldfactory-4.1.4-fx.xpi\nhttps://addons.mozilla.org/firefox/downloads/file/139972/pink_bee-2.7.6-fx.xpi\nhttps://addons.mozilla.org/firefox/downloads/file/139719/classic_compact-4.0.9.5-fx.xpi\n\nThe third theme above, Classic Compact is my theme and it has had no design changes to its XUL scrollbar since at least FF3.6 and I did not notice any issues with it until FF9.0.\n\nIt seems this issue only impacts Windows as I have observed it on WinXP, but not Linux (I can't test it on OS-X).\n\nWhatever is causing this issue, it has the potential to affect scores of themes as using custom scrollbars is very common.  You can read more about this issue at: http://forums.mozillazine.org/viewtopic.php?f=18&t=2231045", "raw_text": "Custom themes that use custom XUL scrollbars rather than OS Native scrollbars are intermittently losing background images in their scrollbars.  I first noticed this issue with FF9.0.1 (and I see a lot of themes as am AMO editor), however, some theme developers have reported noticing this issue since FF4.\n\nI have not been able to isolate out the cause of scrollbars losing their background images as the issue doesn't consistently occur with every FF start of a theme that uses XUL scrollbars. In fact, I've had the same theme installed in multiple profiles running on the same computer and using the same FF9.0.1 install and the scrollbars will appear broken in one instance, but not another.\n\nHere are some sample themes that I have noticed this issue with in the past week (I have linked to versions I tested for this problem):\nhttps://addons.mozilla.org/firefox/downloads/file/139815/oldfactory-4.1.4-fx.xpi\nhttps://addons.mozilla.org/firefox/downloads/file/139972/pink_bee-2.7.6-fx.xpi\nhttps://addons.mozilla.org/firefox/downloads/file/139719/classic_compact-4.0.9.5-fx.xpi\n\nThe third theme above, Classic Compact is my theme and it has had no design changes to its XUL scrollbar since at least FF3.6 and I did not notice any issues with it until FF9.0.\n\nIt seems this issue only impacts Windows as I have observed it on WinXP, but not Linux (I can't test it on OS-X).\n\nWhatever is causing this issue, it has the potential to affect scores of themes as using custom scrollbars is very common.  You can read more about this issue at: http://forums.mozillazine.org/viewtopic.php?f=18&t=2231045", "time": "2011-12-26T17:48:42Z", "creation_time": "2011-12-26T17:48:42Z", "is_private": false, "creator": "Ken@klbproductions.com", "tags": [], "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "jorgev@fastmail.fm", "is_private": false, "creation_time": "2011-12-26T18:54:28Z", "raw_text": "Dao, do you know who could look into this?", "time": "2011-12-26T18:54:28Z", "text": "Dao, do you know who could look into this?", "count": 1, "author": "jorgev@fastmail.fm", "id": 5940098, "bug_id": 713540}, {"attachment_id": null, "raw_text": "Screenshots would be helpful.", "time": "2011-12-26T19:04:59Z", "tags": [], "author": "kmaglione+bmo@mozilla.com", "count": 2, "text": "Screenshots would be helpful.", "creator": "kmaglione+bmo@mozilla.com", "creation_time": "2011-12-26T19:04:59Z", "is_private": false, "bug_id": 713540, "id": 5940107}, {"id": 5940119, "bug_id": 713540, "author": "Ken@klbproductions.com", "count": 3, "text": "Created attachment 584336\nExample of correct and broken scrollbars\n\nI've attached a JPG of two screen captures of my theme Classic Compact (the customize toolbar dialog) showing a properly displayed scrollbar and a scrollbar missing background images.  Both screen captures were made using FF9.0.1 running Classic Compact 4.0.9.5 and Windows XP SP3.\n\nThe CSS for the scrollbars has been virtually unchanged since at least FF3.5", "time": "2011-12-26T19:20:57Z", "raw_text": "I've attached a JPG of two screen captures of my theme Classic Compact (the customize toolbar dialog) showing a properly displayed scrollbar and a scrollbar missing background images.  Both screen captures were made using FF9.0.1 running Classic Compact 4.0.9.5 and Windows XP SP3.\n\nThe CSS for the scrollbars has been virtually unchanged since at least FF3.5", "is_private": false, "creation_time": "2011-12-26T19:20:57Z", "creator": "Ken@klbproductions.com", "tags": [], "attachment_id": 584336}, {"tags": [], "attachment_id": 584421, "is_private": false, "creation_time": "2011-12-27T14:10:34Z", "creator": "Ken@klbproductions.com", "time": "2011-12-27T14:10:34Z", "raw_text": "I've added a screen capture that shows scrollbars with missing background images even though DOM Inspector shows that there is a background image. I could find no errors/warnings in the error console that could be related to this issue.\n\nAnother interesting thing is that even when the normal state background images are missing from the scrollbars, the hover state background images will be displayed.\n\nI've been restarting a test profile with a bare minimum of extensions installed and using the theme Classic Compact to see what happens. Here are the results (each number represents a restart, I set the browser window size small enough to ensure horizontal and vertical scrollbars):\n\n1, 5, 7) Only left horizontal arrow missing background image (browser started on about:addons and then loaded tab https://addons.mozilla.org/en-US/firefox/addon/classic-compact/reviews/).\n\n2, 3, 4, 6) All four scroll arrows and both grippers missing background images (browser started on https://addons.mozilla.org/en-US/firefox/addon/classic-compact/reviews/).\n\n8) All four scroll arrows and both grippers missing background images (browser started on about:home and then loaded tab https://addons.mozilla.org/en-US/firefox/addon/classic-compact/reviews/).\n\n9) Only left horizontal arrow missing background image (browser started on about:home and then tab about:permissions loaded).\n\n10,14,15,16,17,18) Only left horizontal arrow missing background image (browser started on about:permissions).\n\n11, 12) All scrollbar arrows and both grippers missing background images (browser started on about:permissions).\n\n13) Only left horizontal arrow missing background image (browser started on about:addons and then about:permissions tab loaded).\n\n19) Only left horizontal arrow missing background image (browser started on http://www.google.com).\n\n20) All scrollbar arrows and both grippers missing background images (browser started on blank tab and then switched to about:permissions)\n\n21) Only left horizontal arrow missing background image (browser started on file:///c:/ and then switched to about:permissions).\n\nAlthough I can normally get Firefox to load Classic Compact's scrollbars correctly, I could not do so this morning after 22 tries.", "bug_id": 713540, "id": 5940800, "author": "Ken@klbproductions.com", "text": "Created attachment 584421\nScreen Capture w/ missing scrollbar backgrounds and DOM Inspector computed CSS rules.\n\nI've added a screen capture that shows scrollbars with missing background images even though DOM Inspector shows that there is a background image. I could find no errors/warnings in the error console that could be related to this issue.\n\nAnother interesting thing is that even when the normal state background images are missing from the scrollbars, the hover state background images will be displayed.\n\nI've been restarting a test profile with a bare minimum of extensions installed and using the theme Classic Compact to see what happens. Here are the results (each number represents a restart, I set the browser window size small enough to ensure horizontal and vertical scrollbars):\n\n1, 5, 7) Only left horizontal arrow missing background image (browser started on about:addons and then loaded tab https://addons.mozilla.org/en-US/firefox/addon/classic-compact/reviews/).\n\n2, 3, 4, 6) All four scroll arrows and both grippers missing background images (browser started on https://addons.mozilla.org/en-US/firefox/addon/classic-compact/reviews/).\n\n8) All four scroll arrows and both grippers missing background images (browser started on about:home and then loaded tab https://addons.mozilla.org/en-US/firefox/addon/classic-compact/reviews/).\n\n9) Only left horizontal arrow missing background image (browser started on about:home and then tab about:permissions loaded).\n\n10,14,15,16,17,18) Only left horizontal arrow missing background image (browser started on about:permissions).\n\n11, 12) All scrollbar arrows and both grippers missing background images (browser started on about:permissions).\n\n13) Only left horizontal arrow missing background image (browser started on about:addons and then about:permissions tab loaded).\n\n19) Only left horizontal arrow missing background image (browser started on http://www.google.com).\n\n20) All scrollbar arrows and both grippers missing background images (browser started on blank tab and then switched to about:permissions)\n\n21) Only left horizontal arrow missing background image (browser started on file:///c:/ and then switched to about:permissions).\n\nAlthough I can normally get Firefox to load Classic Compact's scrollbars correctly, I could not do so this morning after 22 tries.", "count": 4}, {"author": "alfredkayser@gmail.com", "count": 5, "text": "Note, this also happens with my themes: Nautipolis, Walnut, Walnut2, etc.\nIt seems an intermittent problem, which happens sometimes, and my feeling it is a racing problem that sometimes the images fail to load during the startup when the scrollbars are directly needed.", "creator": "alfredkayser@gmail.com", "creation_time": "2011-12-28T11:16:36Z", "is_private": false, "bug_id": 713540, "id": 5942526, "attachment_id": null, "raw_text": "Note, this also happens with my themes: Nautipolis, Walnut, Walnut2, etc.\nIt seems an intermittent problem, which happens sometimes, and my feeling it is a racing problem that sometimes the images fail to load during the startup when the scrollbars are directly needed.", "time": "2011-12-28T11:16:36Z", "tags": []}, {"time": "2012-02-02T15:30:01Z", "raw_text": "Whatever is causing this issue, it seems to be getting worse. For the first time yesterday I saw this problem on Linux (I was using FF10.0).", "attachment_id": null, "tags": [], "creator": "Ken@klbproductions.com", "count": 6, "text": "Whatever is causing this issue, it seems to be getting worse. For the first time yesterday I saw this problem on Linux (I was using FF10.0).", "author": "Ken@klbproductions.com", "bug_id": 713540, "id": 6028981, "is_private": false, "creation_time": "2012-02-02T15:30:01Z"}, {"creator": "Ken@klbproductions.com", "creation_time": "2012-02-02T15:39:36Z", "is_private": false, "attachment_id": 593839, "tags": [], "text": "Created attachment 593839\nscrollbars.css from the theme Classic Compact\n\nI've attached a copy of the scrollbar.css from my theme Classic Compact as it might be relevant to figuring out what is going on. On FF10 I'm starting to see more random loses of background images from scrollbar objects. Again this seems to be a total heisenbug situation because each time FF starts the icons may or may not appear and I can not find any pattern to justify the problem.", "count": 7, "author": "Ken@klbproductions.com", "bug_id": 713540, "id": 6029011, "time": "2012-02-02T15:39:36Z", "raw_text": "I've attached a copy of the scrollbar.css from my theme Classic Compact as it might be relevant to figuring out what is going on. On FF10 I'm starting to see more random loses of background images from scrollbar objects. Again this seems to be a total heisenbug situation because each time FF starts the icons may or may not appear and I can not find any pattern to justify the problem."}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2012-02-02T17:35:43Z", "creator": "Ken@klbproductions.com", "raw_text": "Alfred,\n\nDo you have any idea of when you first noticed scroll bar background images not being loaded? I'm trying to narrow down a regression window.", "time": "2012-02-02T17:35:43Z", "id": 6029428, "bug_id": 713540, "author": "Ken@klbproductions.com", "text": "Alfred,\n\nDo you have any idea of when you first noticed scroll bar background images not being loaded? I'm trying to narrow down a regression window.", "count": 8}, {"is_private": false, "creation_time": "2012-02-02T22:01:15Z", "id": 6030445, "bug_id": 713540, "count": 9, "text": "1. When this happens it also sometimes takes the image for the resizer element with it.  I can inspect the resizer and it shows clearly as a square box, and the resizer controls appear but the graphic is just gone.\n\n2. If you look carefully at the images you've posted you will see that it's taking the background gradient and not just the arrows.\n\n3. If the scrollbar is created entirly using border-image, the entire scrollbar will disappear. \n\n4. I had thought maybe it was a problem with the folder the graphics were in so I moved them around, no dice.\n\n5. Have not yet tried moving the graphics into another skin... although global does seem like it should be the correct skin.\n\n6. If Mozilla is going to be using custom scrollbars for Lion or in the future for Metro, they might encounter this problem as well.", "author": "pjdkrunkt@lycos.com", "creator": "pjdkrunkt@lycos.com", "tags": [], "raw_text": "1. When this happens it also sometimes takes the image for the resizer element with it.  I can inspect the resizer and it shows clearly as a square box, and the resizer controls appear but the graphic is just gone.\n\n2. If you look carefully at the images you've posted you will see that it's taking the background gradient and not just the arrows.\n\n3. If the scrollbar is created entirly using border-image, the entire scrollbar will disappear. \n\n4. I had thought maybe it was a problem with the folder the graphics were in so I moved them around, no dice.\n\n5. Have not yet tried moving the graphics into another skin... although global does seem like it should be the correct skin.\n\n6. If Mozilla is going to be using custom scrollbars for Lion or in the future for Metro, they might encounter this problem as well.", "attachment_id": null, "time": "2012-02-02T22:01:15Z"}, {"time": "2012-02-02T22:04:20Z", "raw_text": "Also, this definitely began at some point during the Firefox 4 betas, but I have no idea how to narrow it down.  Also, I didn't do any theme testing on 3.7 so I cannot say if it started there or only after the 4.0 split.", "attachment_id": null, "tags": [], "creator": "pjdkrunkt@lycos.com", "text": "Also, this definitely began at some point during the Firefox 4 betas, but I have no idea how to narrow it down.  Also, I didn't do any theme testing on 3.7 so I cannot say if it started there or only after the 4.0 split.", "count": 10, "author": "pjdkrunkt@lycos.com", "id": 6030457, "bug_id": 713540, "creation_time": "2012-02-02T22:04:20Z", "is_private": false}, {"time": "2012-02-02T22:10:18Z", "raw_text": "Possible related bugs:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=629869\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=621475", "text": "Possible related bugs:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=629869\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=621475", "count": 11, "author": "pjdkrunkt@lycos.com", "bug_id": 713540, "id": 6030483, "attachment_id": null, "tags": [], "creator": "pjdkrunkt@lycos.com", "creation_time": "2012-02-02T22:10:18Z", "is_private": false}, {"creator": "Ken@klbproductions.com", "author": "Ken@klbproductions.com", "count": 12, "text": "REGRESSION WINDOW FOUND!\n\nI've tracked down where this bug first appeared.\n\nThe very first build of FF that I could replicate this issue in is:\n\nhttps://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2011/03/2011-03-23-16-mozilla-central/\n\nI could not replicate this issue in the previous build.", "id": 6030843, "bug_id": 713540, "creation_time": "2012-02-03T00:02:31Z", "is_private": false, "time": "2012-02-03T00:02:31Z", "attachment_id": null, "raw_text": "REGRESSION WINDOW FOUND!\n\nI've tracked down where this bug first appeared.\n\nThe very first build of FF that I could replicate this issue in is:\n\nhttps://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2011/03/2011-03-23-16-mozilla-central/\n\nI could not replicate this issue in the previous build.", "tags": []}, {"author": "Ken@klbproductions.com", "text": "I forgot to mention this as it may help understand the cause of the problem. I had two nearly identical profiles, however, one of them I could not reproduce this issue with one profile but could with the other.  The difference was that the profile where I could reproduce this bug was on my network server where as the other profile was on my local hard drive. This tends to make me think that it is a timing or speed issue.", "count": 13, "id": 6030904, "bug_id": 713540, "time": "2012-02-03T00:28:15Z", "raw_text": "I forgot to mention this as it may help understand the cause of the problem. I had two nearly identical profiles, however, one of them I could not reproduce this issue with one profile but could with the other.  The difference was that the profile where I could reproduce this bug was on my network server where as the other profile was on my local hard drive. This tends to make me think that it is a timing or speed issue.", "creator": "Ken@klbproductions.com", "creation_time": "2012-02-03T00:28:15Z", "is_private": false, "attachment_id": null, "tags": []}, {"creation_time": "2012-02-03T01:38:13Z", "is_private": false, "creator": "Ken@klbproductions.com", "tags": [], "attachment_id": null, "bug_id": 713540, "id": 6031076, "count": 14, "text": "Mercurial link for the offending build: http://hg.mozilla.org/mozilla-central/rev/4902d72f6072", "author": "Ken@klbproductions.com", "time": "2012-02-03T01:38:13Z", "raw_text": "Mercurial link for the offending build: http://hg.mozilla.org/mozilla-central/rev/4902d72f6072"}, {"raw_text": "This is the Mercurial link for the last build that DID NOT have this scrollbar issue: http://hg.mozilla.org/mozilla-central/rev/200a746e0fac", "time": "2012-02-03T01:59:14Z", "author": "Ken@klbproductions.com", "text": "This is the Mercurial link for the last build that DID NOT have this scrollbar issue: http://hg.mozilla.org/mozilla-central/rev/200a746e0fac", "count": 15, "bug_id": 713540, "id": 6031128, "attachment_id": null, "tags": [], "creator": "Ken@klbproductions.com", "is_private": false, "creation_time": "2012-02-03T01:59:14Z"}, {"raw_text": "http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=200a746e0fac&tochange=4902d72f6072", "attachment_id": null, "time": "2012-02-03T02:03:14Z", "tags": [], "text": "http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=200a746e0fac&tochange=4902d72f6072", "count": 16, "author": "ryanvm@gmail.com", "creator": "ryanvm@gmail.com", "is_private": false, "creation_time": "2012-02-03T02:03:14Z", "id": 6031132, "bug_id": 713540}, {"creator": "alfredkayser@gmail.com", "text": "This problem is happening indeed for almost a year. I don't have the exact moment in time when it started to happen, but that timeframe should be about right.\n\nTwo suspectable bugs are:\nBug 580531 - Expose framerate/statistics of <video> playback\nBug 595785 - Getting a download's nsIChannel appears unreliable\n\nMy feeling that is an intermittent effect, hinting at failing to get a 'image downloaded completed' message to the rendering image, causing it to think that the image has not (or failed to) load.", "count": 17, "author": "alfredkayser@gmail.com", "bug_id": 713540, "id": 6031697, "is_private": false, "creation_time": "2012-02-03T10:01:38Z", "time": "2012-02-03T10:01:38Z", "raw_text": "This problem is happening indeed for almost a year. I don't have the exact moment in time when it started to happen, but that timeframe should be about right.\n\nTwo suspectable bugs are:\nBug 580531 - Expose framerate/statistics of <video> playback\nBug 595785 - Getting a download's nsIChannel appears unreliable\n\nMy feeling that is an intermittent effect, hinting at failing to get a 'image downloaded completed' message to the rendering image, causing it to think that the image has not (or failed to) load.", "attachment_id": null, "tags": []}, {"creation_time": "2012-02-05T07:20:38Z", "is_private": false, "creator": "pjdkrunkt@lycos.com", "tags": [], "attachment_id": null, "bug_id": 713540, "id": 6035529, "count": 18, "text": "Should I file a separate bug about the disappearing resizers?  I'm noticing that the resizers in textboxes are also disappearing when the scrollbar graphics fail.", "author": "pjdkrunkt@lycos.com", "time": "2012-02-05T07:20:38Z", "raw_text": "Should I file a separate bug about the disappearing resizers?  I'm noticing that the resizers in textboxes are also disappearing when the scrollbar graphics fail."}, {"creator": "Ken@klbproductions.com", "text": "It is probably all related so whatever fixes scrollbars will probably also fix text box resizers.", "count": 19, "author": "Ken@klbproductions.com", "id": 6035738, "bug_id": 713540, "creation_time": "2012-02-05T14:07:35Z", "is_private": false, "time": "2012-02-05T14:07:35Z", "raw_text": "It is probably all related so whatever fixes scrollbars will probably also fix text box resizers.", "attachment_id": null, "tags": []}]}}, "comments": {}}