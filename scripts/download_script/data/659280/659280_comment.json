{"comments": {}, "bugs": {"659280": {"comments": [{"is_private": false, "tags": [], "raw_text": "I'm trying to get a shark enabled build on MacOS X but the build systematically fails.\nI tried with explicitly enabling profiling (--enable-profiling) and without. I also did a clobber build in case of. Nothing changed.\n\nThe failure is the following:\nMakefile:39: httpserver XPI_NAME=\nMakefile:169: test_crashing2.html disabled due to random orange; see bug 566049\nMakefile:115: test_bug435128.html disabled because it takes 60 seconds\nUndefined symbols:\n  \"_JS_StopProfiling\", referenced from:\n      _PlatformStopProfile(char const*)in TestNativeXMLHttpRequest.o\n  \"_JS_StartProfiling\", referenced from:\n      _PlatformStartProfile(char const*)in TestNativeXMLHttpRequest.o\nld: symbol(s) not found\ncollect2: ld returned 1 exit status\nUndefined symbols:\n  \"_JS_StopProfiling\", referenced from:\n      _PlatformStopProfile(char const*)in TestPlainTextSerializer.o\n  \"_JS_StartProfiling\", referenced from:\n      _PlatformStartProfile(char const*)in TestPlainTextSerializer.o\nld: symbol(s) not found\ncollect2: ld returned 1 exit status\nUndefined symbols:\n  \"_JS_StopProfiling\", referenced from:\n      _PlatformStopProfile(char const*)in TestGetURL.o\n  \"_JS_StartProfiling\", referenced from:\n      _PlatformStartProfile(char const*)in TestGetURL.o\nld: symbol(s) not found\ncollect2: ld returned 1 exit status\nmake[5]: *** [TestNativeXMLHttpRequest] Error 1\nmake[5]: *** Waiting for unfinished jobs....\nmake[5]: *** [TestPlainTextSerializer] Error 1\nmake[5]: *** [TestGetURL] Error 1\nmake[4]: *** [tools] Error 2\nmake[3]: *** [base_tools] Error 2\nmake[2]: *** [tools_tier_platform] Error 2\nmake[1]: *** [tier_platform] Error 2\nmake: *** [default] Error 2\n\nBoth methods are inside a #ifdef MOZ_PROFILING.", "bug_id": 659280, "creation_time": "2011-05-24T12:14:39Z", "id": 5488945, "time": "2011-05-24T12:14:39Z", "attachment_id": null, "creator": "mounir@lamouri.fr", "author": "mounir@lamouri.fr", "text": "I'm trying to get a shark enabled build on MacOS X but the build systematically fails.\nI tried with explicitly enabling profiling (--enable-profiling) and without. I also did a clobber build in case of. Nothing changed.\n\nThe failure is the following:\nMakefile:39: httpserver XPI_NAME=\nMakefile:169: test_crashing2.html disabled due to random orange; see bug 566049\nMakefile:115: test_bug435128.html disabled because it takes 60 seconds\nUndefined symbols:\n  \"_JS_StopProfiling\", referenced from:\n      _PlatformStopProfile(char const*)in TestNativeXMLHttpRequest.o\n  \"_JS_StartProfiling\", referenced from:\n      _PlatformStartProfile(char const*)in TestNativeXMLHttpRequest.o\nld: symbol(s) not found\ncollect2: ld returned 1 exit status\nUndefined symbols:\n  \"_JS_StopProfiling\", referenced from:\n      _PlatformStopProfile(char const*)in TestPlainTextSerializer.o\n  \"_JS_StartProfiling\", referenced from:\n      _PlatformStartProfile(char const*)in TestPlainTextSerializer.o\nld: symbol(s) not found\ncollect2: ld returned 1 exit status\nUndefined symbols:\n  \"_JS_StopProfiling\", referenced from:\n      _PlatformStopProfile(char const*)in TestGetURL.o\n  \"_JS_StartProfiling\", referenced from:\n      _PlatformStartProfile(char const*)in TestGetURL.o\nld: symbol(s) not found\ncollect2: ld returned 1 exit status\nmake[5]: *** [TestNativeXMLHttpRequest] Error 1\nmake[5]: *** Waiting for unfinished jobs....\nmake[5]: *** [TestPlainTextSerializer] Error 1\nmake[5]: *** [TestGetURL] Error 1\nmake[4]: *** [tools] Error 2\nmake[3]: *** [base_tools] Error 2\nmake[2]: *** [tools_tier_platform] Error 2\nmake[1]: *** [tier_platform] Error 2\nmake: *** [default] Error 2\n\nBoth methods are inside a #ifdef MOZ_PROFILING.", "count": 0}, {"author": "ted@mielczarek.org", "text": "Possible this is fallout from bug 584474?", "count": 1, "attachment_id": null, "creator": "ted@mielczarek.org", "id": 5489012, "time": "2011-05-24T12:46:28Z", "is_private": false, "tags": [], "raw_text": "Possible this is fallout from bug 584474?", "creation_time": "2011-05-24T12:46:28Z", "bug_id": 659280}, {"creation_time": "2011-05-24T13:03:48Z", "bug_id": 659280, "raw_text": "Possible. This looks like some lib missing when linking, and from the looks of it, that would be libmozjs. The failing command line would be helpful, here.", "tags": [], "creator": "mh+mozilla@glandium.org", "is_private": false, "attachment_id": null, "text": "Possible. This looks like some lib missing when linking, and from the looks of it, that would be libmozjs. The failing command line would be helpful, here.", "count": 2, "time": "2011-05-24T13:03:48Z", "author": "mh+mozilla@glandium.org", "id": 5489039}, {"creation_time": "2011-05-24T13:07:15Z", "bug_id": 659280, "raw_text": "(In reply to comment #2)\n> Possible. This looks like some lib missing when linking, and from the looks\n> of it, that would be libmozjs. The failing command line would be helpful,\n> here.\n\nI'm not sure I understand... I just called make -f client.mk. Or you meant something else by \"failing command line\"?", "tags": [], "creator": "mounir@lamouri.fr", "attachment_id": null, "is_private": false, "text": "(In reply to comment #2)\n> Possible. This looks like some lib missing when linking, and from the looks\n> of it, that would be libmozjs. The failing command line would be helpful,\n> here.\n\nI'm not sure I understand... I just called make -f client.mk. Or you meant something else by \"failing command line\"?", "count": 3, "time": "2011-05-24T13:07:15Z", "author": "mounir@lamouri.fr", "id": 5489050}, {"is_private": false, "raw_text": "The linking command line. The one saying g++ -o TestNativeXMLHttpRequest ... (which means not running make in silent mode)", "bug_id": 659280, "creation_time": "2011-05-24T13:11:32Z", "tags": [], "time": "2011-05-24T13:11:32Z", "id": 5489058, "attachment_id": null, "creator": "mh+mozilla@glandium.org", "author": "mh+mozilla@glandium.org", "text": "The linking command line. The one saying g++ -o TestNativeXMLHttpRequest ... (which means not running make in silent mode)", "count": 4}, {"id": 5489362, "time": "2011-05-24T15:03:45Z", "tags": [], "raw_text": "Oh, hmm.  So my shark builds work fine, but I build with --enable-shared-js which may be saving me.  Except when mrbkap breaks it.", "creation_time": "2011-05-24T15:03:45Z", "bug_id": 659280, "is_private": false, "count": 5, "text": "Oh, hmm.  So my shark builds work fine, but I build with --enable-shared-js which may be saving me.  Except when mrbkap breaks it.", "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "attachment_id": null}]}}}