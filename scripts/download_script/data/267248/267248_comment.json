{"comments": {}, "bugs": {"267248": {"comments": [{"is_private": false, "attachment_id": null, "time": "2004-11-02T02:45:54Z", "count": 0, "id": 2314469, "bug_id": 267248, "tags": [], "author": "niederstrasser@gmail.com", "creation_time": "2004-11-02T02:45:54Z", "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20041027 Firefox/1.0RC1\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20041027 Firefox/1.0RC1\n\nI have the following in userContent.css\n\na[target~=\"_blank\"]:after\n{\n  content: url(new.png);\n}\n\nWhen I load a local file that has <a href=\"\" target=\"_blank\">, the image\n\"new.png\" is placed just after the linked text.  However, the same remote page\ndoes not load the image and throws a security error in the JS console.\n\nReproducible: Always\nSteps to Reproduce:\n1. Place the above code into userContent.css (and get a suitably named new.png file)\n2. load a local HTML file with a link having target=\"blank\"\n3. watch the little image show up after the link\n4. now load a similar remote HTML file\n5. watch the missing icon and notice an extra space where the image would go.\n\n\n\n\nThe following error shows up in the JS console.\n\nSecurity Error: Content at https://bugzilla.mozilla.org/show_bug.cgi?id=151249\nmay not load or link to\nfile:///C:/Documents%20and%20Settings/nieder/Application%20Data/Mozilla/Firefox/Profiles/profilename/chrome/new.png.\n\nThe error indicates that the image was not loaded to prevent remote files from\nloading local files.  While this makes 100% sense for a remote page doing\nsomething like <img src=\"file://image.png\">, it does not make sense that this\nlogic gets applied to content generated via userContent.css.\n\nThis worked fine until about 2 weeks ago, and then it stopped.  Searching\nsuggests the fix for Bug 69070 caused this.  This is not a dupe of that bug\nbecause that bug deals with http: documents loading file: images, while this\nreport is specifically for userContent.css being able to load file: images.", "creator": "niederstrasser@gmail.com", "raw_text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20041027 Firefox/1.0RC1\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20041027 Firefox/1.0RC1\n\nI have the following in userContent.css\n\na[target~=\"_blank\"]:after\n{\n  content: url(new.png);\n}\n\nWhen I load a local file that has <a href=\"\" target=\"_blank\">, the image\n\"new.png\" is placed just after the linked text.  However, the same remote page\ndoes not load the image and throws a security error in the JS console.\n\nReproducible: Always\nSteps to Reproduce:\n1. Place the above code into userContent.css (and get a suitably named new.png file)\n2. load a local HTML file with a link having target=\"blank\"\n3. watch the little image show up after the link\n4. now load a similar remote HTML file\n5. watch the missing icon and notice an extra space where the image would go.\n\n\n\n\nThe following error shows up in the JS console.\n\nSecurity Error: Content at https://bugzilla.mozilla.org/show_bug.cgi?id=151249\nmay not load or link to\nfile:///C:/Documents%20and%20Settings/nieder/Application%20Data/Mozilla/Firefox/Profiles/profilename/chrome/new.png.\n\nThe error indicates that the image was not loaded to prevent remote files from\nloading local files.  While this makes 100% sense for a remote page doing\nsomething like <img src=\"file://image.png\">, it does not make sense that this\nlogic gets applied to content generated via userContent.css.\n\nThis worked fine until about 2 weeks ago, and then it stopped.  Searching\nsuggests the fix for Bug 69070 caused this.  This is not a dupe of that bug\nbecause that bug deals with http: documents loading file: images, while this\nreport is specifically for userContent.css being able to load file: images."}, {"is_private": false, "attachment_id": null, "time": "2004-11-02T02:52:09Z", "count": 1, "id": 2314476, "bug_id": 267248, "tags": [], "author": "brade@comcast.net", "creation_time": "2004-11-02T02:52:09Z", "text": "Who are the correct people to cc on this bug?  Should it be reassigned?", "creator": "brade@comcast.net", "raw_text": "Who are the correct people to cc on this bug?  Should it be reassigned?"}, {"tags": [], "attachment_id": null, "count": 2, "time": "2004-11-02T04:03:06Z", "is_private": false, "bug_id": 267248, "id": 2314505, "author": "bzbarsky@mit.edu", "raw_text": "In 1.7, the image is actually loaded by the document the CSS is applied to.  In\nother words, the remote document.  The document has no idea what CSS file the\nstyle comes from.\n\nOn trunk, the CSS file is what loads the image, so things work fine.\n\nMarking worksforme, since this works fine on trunk and is filed as a trunk bug.", "creator": "bzbarsky@mit.edu", "creation_time": "2004-11-02T04:03:06Z", "text": "In 1.7, the image is actually loaded by the document the CSS is applied to.  In\nother words, the remote document.  The document has no idea what CSS file the\nstyle comes from.\n\nOn trunk, the CSS file is what loads the image, so things work fine.\n\nMarking worksforme, since this works fine on trunk and is filed as a trunk bug."}, {"is_private": false, "time": "2004-11-02T13:08:13Z", "count": 3, "attachment_id": null, "id": 2314756, "bug_id": 267248, "tags": [], "author": "niederstrasser@gmail.com", "creation_time": "2004-11-02T13:08:13Z", "text": "checked around: this only happens with a firefox-aviary build (FF and seamonkey\ntrunks are OK).  Changing product and version to FF 1.0branch and reopening.", "creator": "niederstrasser@gmail.com", "raw_text": "checked around: this only happens with a firefox-aviary build (FF and seamonkey\ntrunks are OK).  Changing product and version to FF 1.0branch and reopening."}, {"tags": [], "attachment_id": null, "time": "2004-11-02T21:08:42Z", "count": 4, "is_private": false, "id": 2315201, "bug_id": 267248, "author": "timeless@bemail.org", "creator": "timeless@bemail.org", "creation_time": "2004-11-02T21:08:42Z", "text": "note that changing this for ff1.0 would mean changing this for mozilla1.7.x. and\nof course, if this was fixed by some huge rewrite then it really shouldn't move\nto any branches, especially at this late date.", "raw_text": "note that changing this for ff1.0 would mean changing this for mozilla1.7.x. and\nof course, if this was fixed by some huge rewrite then it really shouldn't move\nto any branches, especially at this late date."}, {"attachment_id": null, "time": "2004-11-03T05:27:34Z", "count": 5, "is_private": false, "bug_id": 267248, "id": 2315532, "author": "bzbarsky@mit.edu", "tags": [], "raw_text": "> if this was fixed by some huge rewrite\n\nIt was.  Hence my not just pushing the bug off onto branch.", "creator": "bzbarsky@mit.edu", "text": "> if this was fixed by some huge rewrite\n\nIt was.  Hence my not just pushing the bug off onto branch.", "creation_time": "2004-11-03T05:27:34Z"}, {"tags": [], "bug_id": 267248, "id": 2316273, "is_private": false, "count": 6, "attachment_id": null, "time": "2004-11-03T22:03:12Z", "raw_text": "(In reply to comment #5)\n> > if this was fixed by some huge rewrite\n> \n> It was.  Hence my not just pushing the bug off onto branch.\n\nWell, the bug IS occuring in the aviary branch.  Since fixing it apparently\nwould entail large changes to the branch that shouldn't be done due to\nstability, etc etc etc, it probably deserves to be WONTFIXed then.", "creation_time": "2004-11-03T22:03:12Z", "text": "(In reply to comment #5)\n> > if this was fixed by some huge rewrite\n> \n> It was.  Hence my not just pushing the bug off onto branch.\n\nWell, the bug IS occuring in the aviary branch.  Since fixing it apparently\nwould entail large changes to the branch that shouldn't be done due to\nstability, etc etc etc, it probably deserves to be WONTFIXed then.", "creator": "niederstrasser@gmail.com", "author": "niederstrasser@gmail.com"}, {"tags": [], "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "creation_time": "2004-11-03T22:28:02Z", "text": "Yeah, that's probably the right resolution.", "raw_text": "Yeah, that's probably the right resolution.", "count": 7, "time": "2004-11-03T22:28:02Z", "attachment_id": null, "is_private": false, "id": 2316303, "bug_id": 267248}]}}}