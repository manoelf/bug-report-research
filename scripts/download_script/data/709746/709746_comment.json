{"bugs": {"709746": {"comments": [{"tags": [], "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; rv:8.0.1) Gecko/20100101 Firefox/8.0.1\nBuild ID: 20111120135848\n\nSteps to reproduce:\n\nI am having 1 jsp page containing one div, i am trying to update html of div while reading content from server after specified time out using timeout function in js (reading string & displaying it in div using jsorpc); also page is having cancel button; basically purpose of page is to display server side updates to user; when cancel button is clicked it will send one message on server to stop processing.(Cancel button is painted in other div)\n\n\nActual results:\n\nWhen cancel button is clicked having some onclick event, onclick event is not getting fired; even though dummy alert message(Hi) is added; firebug properly shows same code when verified; same thing works properly in internet explorer,google chrome,safari just fails in firefox; there are no javascript errors/warnings\n\n\nExpected results:\n\nActually on click on cancel it should have alerted \"Hi\" but onclick event itself is not getting fired, it is getting fired once entire div updation is finished then if you click on cancel button it gives Hi alert; so seems it is not able to fire onclick event if div content is getting updated dynamically; this works perfectly in other browsers like internet explorer,chrome,safari.I have tried same in firefox 4,6,7 & 8.0.1 everywhere it fails, there are no javascript errors", "attachment_id": 580871, "time": "2011-12-12T11:39:47Z", "is_private": false, "creation_time": "2011-12-12T11:39:47Z", "id": 5908272, "bug_id": 709746, "text": "Created attachment 580871\nDiv where content keeps updating & Cancel button for which onclick event is not getting fired.\n\nUser Agent: Mozilla/5.0 (Windows NT 6.1; rv:8.0.1) Gecko/20100101 Firefox/8.0.1\nBuild ID: 20111120135848\n\nSteps to reproduce:\n\nI am having 1 jsp page containing one div, i am trying to update html of div while reading content from server after specified time out using timeout function in js (reading string & displaying it in div using jsorpc); also page is having cancel button; basically purpose of page is to display server side updates to user; when cancel button is clicked it will send one message on server to stop processing.(Cancel button is painted in other div)\n\n\nActual results:\n\nWhen cancel button is clicked having some onclick event, onclick event is not getting fired; even though dummy alert message(Hi) is added; firebug properly shows same code when verified; same thing works properly in internet explorer,google chrome,safari just fails in firefox; there are no javascript errors/warnings\n\n\nExpected results:\n\nActually on click on cancel it should have alerted \"Hi\" but onclick event itself is not getting fired, it is getting fired once entire div updation is finished then if you click on cancel button it gives Hi alert; so seems it is not able to fire onclick event if div content is getting updated dynamically; this works perfectly in other browsers like internet explorer,chrome,safari.I have tried same in firefox 4,6,7 & 8.0.1 everywhere it fails, there are no javascript errors", "count": 0, "author": "amey7p@yahoo.com", "creator": "amey7p@yahoo.com"}, {"raw_text": "If I am understanding your approach correctly, then this should answer it.\nThe design of DOM events works by a First-in-First-out and no other events can be fired while another is being finished. \n\nhttp://www.w3.org/TR/DOM-Level-3-Events/#dom-event-architecture - Take a read at this and determine how you want to approach your code.\n\nReopen if this description does not fit your approach.", "time": "2011-12-12T11:56:38Z", "count": 1, "text": "If I am understanding your approach correctly, then this should answer it.\nThe design of DOM events works by a First-in-First-out and no other events can be fired while another is being finished. \n\nhttp://www.w3.org/TR/DOM-Level-3-Events/#dom-event-architecture - Take a read at this and determine how you want to approach your code.\n\nReopen if this description does not fit your approach.", "author": "jesper@staunhansen.dk", "bug_id": 709746, "id": 5908291, "attachment_id": null, "tags": [], "creator": "jesper@staunhansen.dk", "creation_time": "2011-12-12T11:56:38Z", "is_private": false}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-12-12T14:53:36Z", "creator": "amey7p@yahoo.com", "time": "2011-12-12T14:53:36Z", "raw_text": "See i have already painted entire page & after that single div is getting updated to update content from server side processing; during that time onclick event on already painted button is not getting fired", "id": 5908564, "bug_id": 709746, "count": 2, "text": "See i have already painted entire page & after that single div is getting updated to update content from server side processing; during that time onclick event on already painted button is not getting fired", "author": "amey7p@yahoo.com"}, {"is_private": false, "creation_time": "2011-12-12T15:49:27Z", "creator": "MatsPalmgren_bugz@use.startmail.com", "tags": [], "attachment_id": null, "id": 5908658, "bug_id": 709746, "author": "MatsPalmgren_bugz@use.startmail.com", "text": "Amey, can you make a testcase (or provide a public URL) that demonstrates the problem?\n(and please stop messing with Priority/Severity)", "count": 3, "time": "2011-12-12T15:49:27Z", "raw_text": "Amey, can you make a testcase (or provide a public URL) that demonstrates the problem?\n(and please stop messing with Priority/Severity)"}, {"tags": [], "time": "2011-12-12T16:19:18Z", "raw_text": "Mats,\ni can not share public URL but i will provide details.\nI am painting one jsp page which is having 3 divs; 1st div to display title of page, 2nd div to display server side processing to user; 3rd div which contents buttons Generate(to start processing on server) & Cancel button (to stop processing on server.)\nWhen page is loaded at that time obviously server side processing is not started hence 2nd div is in hidden state; also since processing is not started Cancel button is in hidden state.\nWhen user click on Generate button once entire page is completely rendered; it fires request to server using jsonrpc (onclick event of Generate button fires this request ) & once this request is fired; 2nd div is made to visible & Cancel button is enabled & Generate button is hidden;one function is registered against 1 sec timeout period & same is called which checks for messages generated by server (using jsonrpc) & appends message in 2nd div.If server side process is not completed ie server is processing request & div content is getting updated ; during such case if Cancel button is clicked; onclick event on such button does not get fired.\nThere are no javascript errors/warnings moreover this behavior works properly in internet explorer/google chrome/safari everywhere but fails in Mozilla 8.0.1 & previous versions.", "attachment_id": null, "id": 5908750, "bug_id": 709746, "is_private": false, "creation_time": "2011-12-12T16:19:18Z", "creator": "amey7p@yahoo.com", "text": "Mats,\ni can not share public URL but i will provide details.\nI am painting one jsp page which is having 3 divs; 1st div to display title of page, 2nd div to display server side processing to user; 3rd div which contents buttons Generate(to start processing on server) & Cancel button (to stop processing on server.)\nWhen page is loaded at that time obviously server side processing is not started hence 2nd div is in hidden state; also since processing is not started Cancel button is in hidden state.\nWhen user click on Generate button once entire page is completely rendered; it fires request to server using jsonrpc (onclick event of Generate button fires this request ) & once this request is fired; 2nd div is made to visible & Cancel button is enabled & Generate button is hidden;one function is registered against 1 sec timeout period & same is called which checks for messages generated by server (using jsonrpc) & appends message in 2nd div.If server side process is not completed ie server is processing request & div content is getting updated ; during such case if Cancel button is clicked; onclick event on such button does not get fired.\nThere are no javascript errors/warnings moreover this behavior works properly in internet explorer/google chrome/safari everywhere but fails in Mozilla 8.0.1 & previous versions.", "count": 4, "author": "amey7p@yahoo.com"}, {"attachment_id": 581552, "raw_text": "Test.html file is html file which can help to reproduce issue; this html file works properly in Mozilla/IE/Chrome everywhere just click on Regenerate button; so it will add some hard coded strings in div; if you click on Cancel-Regenerate button it will alert Hi which is proper; no in real time if you add some jsonrpc calls which is commented on line no 148 ie jsonrpc.JSONHelper.logData(\"test\"); when such call is added then on click event on cancel button ie to alert Hi behaves randomly only in Firefox; it alerts Hi after Cancel-Regenerate button after clicking on same for 3-4 times or even some times does not respond at all; there are no java script errors & also this behavior is specific to firefox; works perfectly in IE/Chrome & Safari.", "time": "2011-12-14T07:41:14Z", "tags": [], "author": "amey7p@yahoo.com", "count": 5, "text": "Created attachment 581552\nTest HTML file to help reproducing issue\n\nTest.html file is html file which can help to reproduce issue; this html file works properly in Mozilla/IE/Chrome everywhere just click on Regenerate button; so it will add some hard coded strings in div; if you click on Cancel-Regenerate button it will alert Hi which is proper; no in real time if you add some jsonrpc calls which is commented on line no 148 ie jsonrpc.JSONHelper.logData(\"test\"); when such call is added then on click event on cancel button ie to alert Hi behaves randomly only in Firefox; it alerts Hi after Cancel-Regenerate button after clicking on same for 3-4 times or even some times does not respond at all; there are no java script errors & also this behavior is specific to firefox; works perfectly in IE/Chrome & Safari.", "creator": "amey7p@yahoo.com", "creation_time": "2011-12-14T07:41:14Z", "is_private": false, "bug_id": 709746, "id": 5914809}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-12-14T14:27:59Z", "creator": "amey7p@yahoo.com", "raw_text": "Mats,Jesper; let me know you need anything else from my side; i have provided html code also; now you just have to check in jsp with some test class & api which needs to be called using JSONRPCBridge(com.metaparadigm.jsonrpc.JSONRPCBridge) from jsp", "time": "2011-12-14T14:27:59Z", "id": 5915443, "bug_id": 709746, "count": 6, "text": "Mats,Jesper; let me know you need anything else from my side; i have provided html code also; now you just have to check in jsp with some test class & api which needs to be called using JSONRPCBridge(com.metaparadigm.jsonrpc.JSONRPCBridge) from jsp", "author": "amey7p@yahoo.com"}, {"tags": [], "time": "2011-12-14T14:54:05Z", "attachment_id": null, "raw_text": "What does jsonrpc.JSONHelper.logData do exactly - does it boil down to a synchronous\nXMLHttpRequest in Firefox?  If so, is it possible to reproduce the problem using a\nXHR instead?  (I'd like to avoid having to setup a jsonrpc server to reproduce the\nproblem)", "bug_id": 709746, "id": 5915497, "creation_time": "2011-12-14T14:54:05Z", "is_private": false, "creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com", "text": "What does jsonrpc.JSONHelper.logData do exactly - does it boil down to a synchronous\nXMLHttpRequest in Firefox?  If so, is it possible to reproduce the problem using a\nXHR instead?  (I'd like to avoid having to setup a jsonrpc server to reproduce the\nproblem)", "count": 7}, {"creator": "amey7p@yahoo.com", "count": 8, "text": "logData is some dummy API which will just log some constant string say \"abc\" on server ; in actual case API is getting fired on server in regular interval to read processing message from server; for testing/debugging purpose you can just add some API (just having one System.out.println(\"abc\") statement); i am not sure weather it will get reproduced with XMLHttpRequest or not.", "author": "amey7p@yahoo.com", "bug_id": 709746, "id": 5915518, "creation_time": "2011-12-14T15:02:12Z", "is_private": false, "time": "2011-12-14T15:02:12Z", "raw_text": "logData is some dummy API which will just log some constant string say \"abc\" on server ; in actual case API is getting fired on server in regular interval to read processing message from server; for testing/debugging purpose you can just add some API (just having one System.out.println(\"abc\") statement); i am not sure weather it will get reproduced with XMLHttpRequest or not.", "attachment_id": null, "tags": []}, {"id": 5915807, "bug_id": 709746, "count": 9, "text": "> logData is some dummy API which will just log some constant string say \"abc\"\n> on server\n\nYes, it's not important what happens on the server for that rpc call.\nI'm interested in what the client (Firefox) does to make that call - I suspect\nit's a synchronous XHR, but it depends on the details of the jsonrpc package\nyou're using on the client side.\n\nIt would help a lot if we can reproduce the problem using XHR, since that avoids\nhaving to involve any third party jsonrpc packages.", "author": "MatsPalmgren_bugz@use.startmail.com", "raw_text": "> logData is some dummy API which will just log some constant string say \"abc\"\n> on server\n\nYes, it's not important what happens on the server for that rpc call.\nI'm interested in what the client (Firefox) does to make that call - I suspect\nit's a synchronous XHR, but it depends on the details of the jsonrpc package\nyou're using on the client side.\n\nIt would help a lot if we can reproduce the problem using XHR, since that avoids\nhaving to involve any third party jsonrpc packages.", "time": "2011-12-14T16:31:43Z", "is_private": false, "creation_time": "2011-12-14T16:31:43Z", "creator": "MatsPalmgren_bugz@use.startmail.com", "tags": [], "attachment_id": null}, {"tags": [], "time": "2011-12-15T06:12:07Z", "attachment_id": null, "raw_text": "Working fine with xmlhttp, across all browsers; i added some dummy xmlhttp calls by replacing  jsonrpc.JSONHelper.logData with\n\n\t\tif (window.XMLHttpRequest) \n\t\t{\n\t\t\treq_change = new XMLHttpRequest();\n\t\t}\n\t\telse if (window.ActiveXObject)\n\t\t{\n\t\t\treq_change = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t}\n\t\treq_change.open(\"GET\", \"path_to_some_dummy_jsp_on_server\",true);\n\t\treq_change.onreadystatechange = onComplete;\n\t\treq_change.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\treq_change.send(\"\");\n\n& \n\nfunction onComplete()\n{\n  ;\n}\n\nfunction defined in js\n\nSeems it is very specific to jsonrpc(JSONRPCBridge) & anyways after fixing we will have to verify that fix will work for jsonrpc also.", "id": 5918020, "bug_id": 709746, "is_private": false, "creation_time": "2011-12-15T06:12:07Z", "creator": "amey7p@yahoo.com", "author": "amey7p@yahoo.com", "text": "Working fine with xmlhttp, across all browsers; i added some dummy xmlhttp calls by replacing  jsonrpc.JSONHelper.logData with\n\n\t\tif (window.XMLHttpRequest) \n\t\t{\n\t\t\treq_change = new XMLHttpRequest();\n\t\t}\n\t\telse if (window.ActiveXObject)\n\t\t{\n\t\t\treq_change = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t}\n\t\treq_change.open(\"GET\", \"path_to_some_dummy_jsp_on_server\",true);\n\t\treq_change.onreadystatechange = onComplete;\n\t\treq_change.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\treq_change.send(\"\");\n\n& \n\nfunction onComplete()\n{\n  ;\n}\n\nfunction defined in js\n\nSeems it is very specific to jsonrpc(JSONRPCBridge) & anyways after fixing we will have to verify that fix will work for jsonrpc also.", "count": 10}, {"attachment_id": null, "raw_text": "Mats; let me know if you need anything else; issue is working properly for xmlhttp but fails for jsonrpc only", "time": "2011-12-16T06:43:38Z", "tags": [], "author": "amey7p@yahoo.com", "text": "Mats; let me know if you need anything else; issue is working properly for xmlhttp but fails for jsonrpc only", "count": 11, "creator": "amey7p@yahoo.com", "creation_time": "2011-12-16T06:43:38Z", "is_private": false, "bug_id": 709746, "id": 5921196}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-12-17T16:10:54Z", "creator": "MatsPalmgren_bugz@use.startmail.com", "raw_text": "Does the problem occur if you change the last open() argument to false?\n\nWe need a way to reproduce the problem in order to debug it.", "time": "2011-12-17T16:10:54Z", "id": 5924445, "bug_id": 709746, "text": "Does the problem occur if you change the last open() argument to false?\n\nWe need a way to reproduce the problem in order to debug it.", "count": 12, "author": "MatsPalmgren_bugz@use.startmail.com"}, {"text": "Yes,random onclick alert behavior is observed when parameter is set to false; which works properly in chrome/IE & safari; but how do we ensure that xmlhttp fix from mozilla side will resolve jsonrpc issue as well?", "count": 13, "author": "amey7p@yahoo.com", "creator": "amey7p@yahoo.com", "creation_time": "2011-12-19T05:54:35Z", "is_private": false, "bug_id": 709746, "id": 5926034, "raw_text": "Yes,random onclick alert behavior is observed when parameter is set to false; which works properly in chrome/IE & safari; but how do we ensure that xmlhttp fix from mozilla side will resolve jsonrpc issue as well?", "attachment_id": null, "time": "2011-12-19T05:54:35Z", "tags": []}, {"attachment_id": null, "raw_text": "Mats, you need anything else from my side? also in which release of firefox can we expect fix for this?", "time": "2011-12-20T15:05:58Z", "tags": [], "author": "amey7p@yahoo.com", "count": 14, "text": "Mats, you need anything else from my side? also in which release of firefox can we expect fix for this?", "creator": "amey7p@yahoo.com", "is_private": false, "creation_time": "2011-12-20T15:05:58Z", "id": 5929561, "bug_id": 709746}, {"is_private": false, "creation_time": "2011-12-21T08:53:34Z", "creator": "jesper@staunhansen.dk", "tags": [], "attachment_id": null, "bug_id": 709746, "id": 5932036, "author": "jesper@staunhansen.dk", "count": 15, "text": "Testcase works in nightly", "time": "2011-12-21T08:53:34Z", "raw_text": "Testcase works in nightly"}, {"tags": [], "time": "2011-12-21T09:31:58Z", "attachment_id": null, "raw_text": "Jesper, we're actively investigating a problem here, we know the attached testcase\nappears to work.  Please be a little more careful before resolving bugs, ok?", "bug_id": 709746, "id": 5932067, "is_private": false, "creation_time": "2011-12-21T09:31:58Z", "creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com", "text": "Jesper, we're actively investigating a problem here, we know the attached testcase\nappears to work.  Please be a little more careful before resolving bugs, ok?", "count": 16}, {"creation_time": "2011-12-22T07:17:51Z", "is_private": false, "creator": "amey7p@yahoo.com", "tags": [], "attachment_id": null, "id": 5934659, "bug_id": 709746, "author": "amey7p@yahoo.com", "text": "Thanks Mats for reopening issue which was mistakenly closed by Jasper, are you able to reproduce this locally? also can you tell me in which version of firefox can we get fix for this?Same is reproducible on firefox 9 as well, you want me to change version to 9 branch? Also i can not switch to xmlhttp now because i will have to change complete code which is big thing for me.", "count": 17, "raw_text": "Thanks Mats for reopening issue which was mistakenly closed by Jasper, are you able to reproduce this locally? also can you tell me in which version of firefox can we get fix for this?Same is reproducible on firefox 9 as well, you want me to change version to 9 branch? Also i can not switch to xmlhttp now because i will have to change complete code which is big thing for me.", "time": "2011-12-22T07:17:51Z"}, {"creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com", "count": 18, "text": "I haven't had time yet...  If you can attach an updated testcase with the sync XHR\nthat you used to reproduce the problem, that would be much appreciated.\nJust so we know that we're looking at the exact same test.", "id": 5934726, "bug_id": 709746, "creation_time": "2011-12-22T08:51:01Z", "is_private": false, "time": "2011-12-22T08:51:01Z", "attachment_id": null, "raw_text": "I haven't had time yet...  If you can attach an updated testcase with the sync XHR\nthat you used to reproduce the problem, that would be much appreciated.\nJust so we know that we're looking at the exact same test.", "tags": []}, {"is_private": false, "creation_time": "2011-12-23T08:00:29Z", "creator": "amey7p@yahoo.com", "tags": [], "attachment_id": 581552, "id": 5937123, "bug_id": 709746, "author": "amey7p@yahoo.com", "text": "Comment on attachment 581552\nTest HTML file to help reproducing issue\n\n    <html>\n    <head>\n\t<title>Regenerate Report</title>\n<script language=\"javascript\">\nvar w_completeMessage = \"\";\nvar w_tempMessage = \"Start\";\nvar w_previousMessage = \"\";\nvar w_timerVariable = \"\";\nvar w_timerDuration = 1;\nvar w_runid = '0';\nvar w_segmentList = new Array();\nvar w_timerVariableArray = new Array();\nvar jsonrpc = null;\nvar w_lastMessage = '';\nvar w_reportGenerated = false;\nfunction afterSubmit() \n{\n\tvar w_selected = false;\n\tfor (var i=0 ; i<document.ReportRegeneration.elements.length ; i++)\n\t{\n\t\tif(document.ReportRegeneration.elements[i].type == \"checkbox\" &&\n\t\t\tdocument.ReportRegeneration.elements[i].name == \"checkItem\")\n\t\t{\n\t\t\tif(document.ReportRegeneration.elements[i].checked)\n\t\t\t{\n\t\t\t\tw_selected = true;\n\t\t\t}\n\t\t}\n\t}\n\tif (w_selected)\n\t{\n\t\tshowButtons('preRegenerate');\n\t\tregenerateComponent();\n\t}\n\telse\n\t{\n\t\talert('Please select atleast one Item.');\n\t\tshowButtons('postRegenerate');\n\t}\n}\n\nfunction regenerateComponent()\n{\n\ttry\n\t{\n\t\tdocument.getElementById(\"regenerationDiv\").style.display = \"\";\n\t\tdocument.getElementById(\"regenerationTD\").style.overflow = \"auto\";\n\t\tdocument.getElementById(\"regenerationTD\").style.height = \"250px\";\n\t\tdocument.getElementById(\"regenerationTD\").innerHTML = \"\";\n\t\tupdateRegenerationDivs();\n\t}\n\tcatch(e)\n\t{\n\t\talert('Exception '+e.description);\n\t}\n}\n\nfunction showButtons(a_action) \n{\n\tif(a_action=='preRegenerate') {\n\t\tdocument.getElementById(\"button1\").style.display = \"none\";\n\t\tdocument.getElementById(\"button2\").style.display = \"none\";\n\t\tdocument.getElementById(\"button3\").style.display = \"\";\n\t} else {\n\t\tdocument.getElementById(\"button1\").style.display = \"\";\n\t\tdocument.getElementById(\"button2\").style.display = \"\";\n\t\tdocument.getElementById(\"button3\").style.display = \"none\";\n\t}\n}\n\nfunction checkUnCheckAllPreserveItems()\n{\n    var w_checked = document.getElementById(\"preservedata\").checked;\n    var w_preserveCheckItems = document.getElementsByTagName(\"input\");\n    if (w_preserveCheckItems != undefined && w_preserveCheckItems != null)\n    {\n        for (var i=0; i<w_preserveCheckItems.length; i++)\n        {\n            if (w_preserveCheckItems[i].type=='checkbox' && w_preserveCheckItems[i].name.indexOf(\"preservedata_\") != -1)\n                w_preserveCheckItems[i].checked = w_checked;\n        }\n    }\n}\n\nfunction onCheckUnCheckPreserve()\n{\n    var w_allChecked = true;\n    var w_preserveCheckItems = document.getElementsByTagName(\"input\");\n    if (w_preserveCheckItems != undefined && w_preserveCheckItems != null)\n    {\n        for (var i=0; i<w_preserveCheckItems.length; i++)\n        {\n            if (w_preserveCheckItems[i].type=='checkbox' && w_preserveCheckItems[i].name.indexOf(\"preservedata_\") != -1)\n                w_allChecked = w_allChecked && w_preserveCheckItems[i].checked;\n        }\n    }\n\n    document.getElementById(\"preservedata\").checked = w_allChecked;\n}\n\nfunction cancelRegeneration()\n{\n\talert('Hi');\n}\n\nfunction updateRegenerationDivs()\n{\n\ttry\n\t{\n\t\tsetSegmentListDivContents(false);\n\t\tupdateRegenerationDiv();\n\t}\n\tcatch(e)\n\t{\n\t\talert('Exception '+e.description);\n\t}\n}\n\nfunction setSegmentListDivContents(a_enable)\n{\n\tvar w_inputElements = document.getElementsByTagName(\"input\");\n\tfor (i=0; i < w_inputElements.length; i++)\n\t{\n\t\tif (w_inputElements[i].type == 'checkbox')\n\t\t\tw_inputElements[i].disabled = !a_enable;\n\t}\n}\n\nfunction updateRegenerationDiv()\n{\n\tvar w_innerHTMLLength = document.getElementById(\"regenerationTD\").innerHTML.length;\n\tif (w_innerHTMLLength >= 4000)\n\t{\n\t\t for (var i=0; i<w_timerVariable.length; i++)\n\t\t {\n\t\t\tclearTimeout(w_timerVariable[i]);\n\t\t }\n\t\t document.getElementById(\"regenerationTD\").style.overflow = \"auto\";\n\t\t document.getElementById(\"regenerationTD\").style.height = \"50px\";\n\t\t document.getElementById(\"regenerationTD\").innerHTML = \"<table width='100%'><tr><td class='ValueLeftWrap'>\"+w_lastMessage+\"</td></tr></table>\";\n\t\t resetRegenerationVariables();\n\t\t showButtons('postRegenerate');\n\t\t setSegmentListDivContents(true);\n\t\t return;\n\t}\n\tw_timerVariable = setTimeout(function(){\n\tvar w_innerHTMLLength = document.getElementById(\"regenerationTD\").innerHTML.length;\n\t//jsonrpc.JSONHelper.logData(\"test\");\n\t/*if (window.XMLHttpRequest) \n\t\t{\n\t\t\treq_change = new XMLHttpRequest();\n\t\t}\n\t\telse if (window.ActiveXObject)\n\t\t{\n\t\t\treq_change = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t}\n\t\treq_change.open(\"GET\", \"path_to_some_dummy_jsp_on_server\",true);\n\t\treq_change.onreadystatechange = onComplete;\n\t\treq_change.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\treq_change.send(\"\");\n\n\t\tfunction onComplete()\n\t\t{\n\t\t  ;\n\t\t}\n\t*/\n\n\tif (w_innerHTMLLength >= 4000)\n\t\treturn;\n\tw_completeMessage = \"<tr><td class='ValueLeftWrap'>aaa</td></tr>\" +  w_completeMessage;\n\tdocument.getElementById(\"regenerationTD\").innerHTML = \"<table width='100%'>\"+w_completeMessage+\"</table>\";\n\tupdateRegenerationDiv();\n\t}, w_timerDuration);\n\tw_timerVariableArray[w_timerVariableArray.length] = w_timerVariable;\n}\n\nfunction resetRegenerationVariables()\n{\n\tw_completeMessage = \"\";\n\tw_tempMessage = \"Start\";\n\tw_previousMessage = \"\";\n\tw_timerVariable = \"\";\n\tw_runid = '0';\n\tw_timerVariableArray = new Array();\n\tw_lastMessage = '';\n}\nfunction CloseWindow()\n{\n\tif (w_reportGenerated)\n    \twindow.opener.location.reload();\n    window.close();\n}\nfunction pageResize()\n{\n\tdocument.getElementById(\"List\").style.height = getFrameDimension('height') -  xHeight(\"bottomBtn\")-xHeight(\"headerTab\")-10 + \"px\";\n    document.getElementById(\"List\").style.width = getFrameDimension('width') -5 + \"px\";\n}\n</script>\n</head>\n<body >\n<form name=\"ReportRegeneration\" method=\"post\">\n        \t<div id = \"headerTab\">\n\t\t\t\t<table width=\"100%\" class=\"PopHeader\" >\n  \t\t\t\t\t<tr>\n     \t\t\t\t\t<td class=\"PopHeading\">\n\t\t\t\t\t\t<!--  Regenerate Report Segments-->\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tRegenerate Report Sections\n\t\t\t\t\t\t\n     \t\t\t\t\t</td>\n   \t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\n\t<div  id=\"List\" name = 'List' class=\"ListDiv\">\n\t     <table  class=\"list\" width=\"100%\" border=\"0px\" cellpadding=\"0px\" cellspacing=\"0\" >\n         <TBODY>\n         <tr>\n         <td colspan=\"4\" id=\"regenerationDiv\" name=\"regenerationDiv\" style='display:none'>\n         <table width=\"100%\" height=\"100%\">\n         <tr>\n         <td class=\"ColHeader\">Re-Generation Updates</td>\n         </tr>\n         <tr>\n         <td>\n         <div id=\"regenerationTD\" name=\"regenerationTD\" valign=\"top\" style=\"overflow:auto;height :250px\" >&nbsp;</div>\n\t</td>\n\t</tr>\n\t</table>\n         </td>\n         </tr>\n                  <tr>\n\t\t<td>\n\t\t<div id=\"segmentListDiv\" name = \"segmentListDiv\" >\n\t\t<table class=\"list\" width=\"100%\" border=\"0px\"cellpadding=\"0px\" cellspacing=\"0\">\n        <tr>\n            \t<td class=\"ColHeader\" colspan=\"4\">\n\t\t\t \t\t<input type=\"CheckBox\" name=\"eMail\" id=checkB value=\"eMail\" >&nbsp;&nbsp;Send Completion Status By Email\n                </td>\n         \t</tr>\n         \t<TR>\n\t\t\t<TD class=ColHeader rowspan=\"2\">\n\t\t\t\t<INPUT id=\"0\" title=\"Select All\"\n\t\t\t \ttype=\"checkbox\" value=\"checkbox\" name=\"checkAll\" >\n\t\t\t </TD>\n\t\t\t<TD class=\"ColHeader\" rowspan=\"2\">&nbsp;</TD>\n\t\t\t<TD class=\"ColHeaderLink\" rowspan=\"2\">Section Name</TD>\n            <td class=\"ColHeader\">Preserve non-calculated column data</td>\n\t\t\t</TR>\n            <tr>\n            <td class=\"ColSubheader\">\n            <input type=\"checkbox\" name=\"preservedata\" id=\"preservedata\" checked />\n            </td>\n            </tr>\n\n\t\t\t\t\n\t\t\t\t   \t\t\t<script>\n\t\t\t\t   \t\t\tw_segmentList[w_segmentList.length] = \"20010840\";\n\t\t\t\t   \t\t\t</script>\n\t\t\t\t\t\t  \t<TR id='id20010840' >\n\t\t\t\t\t\t       <TD class=RowIndexRight>\n\t\t\t\t\t\t       <INPUT type=checkbox value=\"20010840\" name=\"checkItem\" id=\"checkItemId_20010840\" checked\n\t\t\t\t\t\t       \t\t>\n\t\t\t\t\t\t       \t</TD>\n\t\t\t\t\t\t       <TD class=RowIndexRight>1</TD>\n\t\t\t\t\t\t        <TD class=ValueLeft> METRIC </TD>\n                                <td class=\"ValueCenter\">\n                                    \n                                    <input type=\"checkbox\" id=\"preservedata_20010840\" name=\"preservedata_20010840\" value=\"Y\" checked />\n                                    \n                                </td>\n\n\t\t\t\t\t\t\t</TR>\n\t\t\t\t\t \t\n\n\n                    <!-- field span-->\n            </table>\n            </div>\n\t\t\t</td>\n\t\t\t</tr>\n            </TBODY>\n        </table>\n        </div>\n\n\n\t\t<div id=\"bottomBtn\">\n        <table width=\"100%\" cellpadding=\"0\" align=\"center\" cellspacing=\"0\" border=\"0\" >\n\t\t   <tr align=\"center\">\n\t\t\t  <td class=\"ButtonDarkBg\" height=\"22\" width=\"63%\">\n\t\t\t\t<table>\n\t        \t\t<tr>\n\t\t\t   \t \t\t<td class=\"ButtonSpacing\" id=\"button1\" name=\"button1\"><input type=\"Button\" id=\"RegenerateButton\" name=\"Regenerate\" class=\"ActionButton\"\n\t          \t\t\t\tonclick=\"afterSubmit();\" \" value=\"Regenerate\">\n\t          \t\t\t</td>\n\t          \t\t\t<td class=\"ButtonSpacing\" id=\"button2\" name=\"button2\"><input type=\"Button\" id=\"CancelButton\" name=\"Cancel\" class=\"ActionButton\"\n          \t\t\t\t\tonclick=\"javascript:CloseWindow();\" value=\"Cancel\">\n          \t\t\t\t</td>\n          \t\t\t\t<td class=\"ButtonSpacing\" style=\"display:none\" id=\"button3\" name=\"button3\"><input type=\"Button\" id=\"CancelRegenerateButton\" name=\"CancelRegenerate\" class=\"ActionButton\"\n\t          \t\t\t\tonClick=\"cancelRegeneration();\" value=\"Cancel Re-Generation\">\n\t          \t\t\t</td>\n\t          \t\t</tr>\n\t          \t</table>\n\t         </td>\n\t  \t\t</tr>\n\t\t</table>\n\t\t</div>\n\n</form>\n</body>\n</html>", "count": 19, "raw_text": "    <html>\n    <head>\n\t<title>Regenerate Report</title>\n<script language=\"javascript\">\nvar w_completeMessage = \"\";\nvar w_tempMessage = \"Start\";\nvar w_previousMessage = \"\";\nvar w_timerVariable = \"\";\nvar w_timerDuration = 1;\nvar w_runid = '0';\nvar w_segmentList = new Array();\nvar w_timerVariableArray = new Array();\nvar jsonrpc = null;\nvar w_lastMessage = '';\nvar w_reportGenerated = false;\nfunction afterSubmit() \n{\n\tvar w_selected = false;\n\tfor (var i=0 ; i<document.ReportRegeneration.elements.length ; i++)\n\t{\n\t\tif(document.ReportRegeneration.elements[i].type == \"checkbox\" &&\n\t\t\tdocument.ReportRegeneration.elements[i].name == \"checkItem\")\n\t\t{\n\t\t\tif(document.ReportRegeneration.elements[i].checked)\n\t\t\t{\n\t\t\t\tw_selected = true;\n\t\t\t}\n\t\t}\n\t}\n\tif (w_selected)\n\t{\n\t\tshowButtons('preRegenerate');\n\t\tregenerateComponent();\n\t}\n\telse\n\t{\n\t\talert('Please select atleast one Item.');\n\t\tshowButtons('postRegenerate');\n\t}\n}\n\nfunction regenerateComponent()\n{\n\ttry\n\t{\n\t\tdocument.getElementById(\"regenerationDiv\").style.display = \"\";\n\t\tdocument.getElementById(\"regenerationTD\").style.overflow = \"auto\";\n\t\tdocument.getElementById(\"regenerationTD\").style.height = \"250px\";\n\t\tdocument.getElementById(\"regenerationTD\").innerHTML = \"\";\n\t\tupdateRegenerationDivs();\n\t}\n\tcatch(e)\n\t{\n\t\talert('Exception '+e.description);\n\t}\n}\n\nfunction showButtons(a_action) \n{\n\tif(a_action=='preRegenerate') {\n\t\tdocument.getElementById(\"button1\").style.display = \"none\";\n\t\tdocument.getElementById(\"button2\").style.display = \"none\";\n\t\tdocument.getElementById(\"button3\").style.display = \"\";\n\t} else {\n\t\tdocument.getElementById(\"button1\").style.display = \"\";\n\t\tdocument.getElementById(\"button2\").style.display = \"\";\n\t\tdocument.getElementById(\"button3\").style.display = \"none\";\n\t}\n}\n\nfunction checkUnCheckAllPreserveItems()\n{\n    var w_checked = document.getElementById(\"preservedata\").checked;\n    var w_preserveCheckItems = document.getElementsByTagName(\"input\");\n    if (w_preserveCheckItems != undefined && w_preserveCheckItems != null)\n    {\n        for (var i=0; i<w_preserveCheckItems.length; i++)\n        {\n            if (w_preserveCheckItems[i].type=='checkbox' && w_preserveCheckItems[i].name.indexOf(\"preservedata_\") != -1)\n                w_preserveCheckItems[i].checked = w_checked;\n        }\n    }\n}\n\nfunction onCheckUnCheckPreserve()\n{\n    var w_allChecked = true;\n    var w_preserveCheckItems = document.getElementsByTagName(\"input\");\n    if (w_preserveCheckItems != undefined && w_preserveCheckItems != null)\n    {\n        for (var i=0; i<w_preserveCheckItems.length; i++)\n        {\n            if (w_preserveCheckItems[i].type=='checkbox' && w_preserveCheckItems[i].name.indexOf(\"preservedata_\") != -1)\n                w_allChecked = w_allChecked && w_preserveCheckItems[i].checked;\n        }\n    }\n\n    document.getElementById(\"preservedata\").checked = w_allChecked;\n}\n\nfunction cancelRegeneration()\n{\n\talert('Hi');\n}\n\nfunction updateRegenerationDivs()\n{\n\ttry\n\t{\n\t\tsetSegmentListDivContents(false);\n\t\tupdateRegenerationDiv();\n\t}\n\tcatch(e)\n\t{\n\t\talert('Exception '+e.description);\n\t}\n}\n\nfunction setSegmentListDivContents(a_enable)\n{\n\tvar w_inputElements = document.getElementsByTagName(\"input\");\n\tfor (i=0; i < w_inputElements.length; i++)\n\t{\n\t\tif (w_inputElements[i].type == 'checkbox')\n\t\t\tw_inputElements[i].disabled = !a_enable;\n\t}\n}\n\nfunction updateRegenerationDiv()\n{\n\tvar w_innerHTMLLength = document.getElementById(\"regenerationTD\").innerHTML.length;\n\tif (w_innerHTMLLength >= 4000)\n\t{\n\t\t for (var i=0; i<w_timerVariable.length; i++)\n\t\t {\n\t\t\tclearTimeout(w_timerVariable[i]);\n\t\t }\n\t\t document.getElementById(\"regenerationTD\").style.overflow = \"auto\";\n\t\t document.getElementById(\"regenerationTD\").style.height = \"50px\";\n\t\t document.getElementById(\"regenerationTD\").innerHTML = \"<table width='100%'><tr><td class='ValueLeftWrap'>\"+w_lastMessage+\"</td></tr></table>\";\n\t\t resetRegenerationVariables();\n\t\t showButtons('postRegenerate');\n\t\t setSegmentListDivContents(true);\n\t\t return;\n\t}\n\tw_timerVariable = setTimeout(function(){\n\tvar w_innerHTMLLength = document.getElementById(\"regenerationTD\").innerHTML.length;\n\t//jsonrpc.JSONHelper.logData(\"test\");\n\t/*if (window.XMLHttpRequest) \n\t\t{\n\t\t\treq_change = new XMLHttpRequest();\n\t\t}\n\t\telse if (window.ActiveXObject)\n\t\t{\n\t\t\treq_change = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t}\n\t\treq_change.open(\"GET\", \"path_to_some_dummy_jsp_on_server\",true);\n\t\treq_change.onreadystatechange = onComplete;\n\t\treq_change.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\treq_change.send(\"\");\n\n\t\tfunction onComplete()\n\t\t{\n\t\t  ;\n\t\t}\n\t*/\n\n\tif (w_innerHTMLLength >= 4000)\n\t\treturn;\n\tw_completeMessage = \"<tr><td class='ValueLeftWrap'>aaa</td></tr>\" +  w_completeMessage;\n\tdocument.getElementById(\"regenerationTD\").innerHTML = \"<table width='100%'>\"+w_completeMessage+\"</table>\";\n\tupdateRegenerationDiv();\n\t}, w_timerDuration);\n\tw_timerVariableArray[w_timerVariableArray.length] = w_timerVariable;\n}\n\nfunction resetRegenerationVariables()\n{\n\tw_completeMessage = \"\";\n\tw_tempMessage = \"Start\";\n\tw_previousMessage = \"\";\n\tw_timerVariable = \"\";\n\tw_runid = '0';\n\tw_timerVariableArray = new Array();\n\tw_lastMessage = '';\n}\nfunction CloseWindow()\n{\n\tif (w_reportGenerated)\n    \twindow.opener.location.reload();\n    window.close();\n}\nfunction pageResize()\n{\n\tdocument.getElementById(\"List\").style.height = getFrameDimension('height') -  xHeight(\"bottomBtn\")-xHeight(\"headerTab\")-10 + \"px\";\n    document.getElementById(\"List\").style.width = getFrameDimension('width') -5 + \"px\";\n}\n</script>\n</head>\n<body >\n<form name=\"ReportRegeneration\" method=\"post\">\n        \t<div id = \"headerTab\">\n\t\t\t\t<table width=\"100%\" class=\"PopHeader\" >\n  \t\t\t\t\t<tr>\n     \t\t\t\t\t<td class=\"PopHeading\">\n\t\t\t\t\t\t<!--  Regenerate Report Segments-->\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tRegenerate Report Sections\n\t\t\t\t\t\t\n     \t\t\t\t\t</td>\n   \t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\n\t<div  id=\"List\" name = 'List' class=\"ListDiv\">\n\t     <table  class=\"list\" width=\"100%\" border=\"0px\" cellpadding=\"0px\" cellspacing=\"0\" >\n         <TBODY>\n         <tr>\n         <td colspan=\"4\" id=\"regenerationDiv\" name=\"regenerationDiv\" style='display:none'>\n         <table width=\"100%\" height=\"100%\">\n         <tr>\n         <td class=\"ColHeader\">Re-Generation Updates</td>\n         </tr>\n         <tr>\n         <td>\n         <div id=\"regenerationTD\" name=\"regenerationTD\" valign=\"top\" style=\"overflow:auto;height :250px\" >&nbsp;</div>\n\t</td>\n\t</tr>\n\t</table>\n         </td>\n         </tr>\n                  <tr>\n\t\t<td>\n\t\t<div id=\"segmentListDiv\" name = \"segmentListDiv\" >\n\t\t<table class=\"list\" width=\"100%\" border=\"0px\"cellpadding=\"0px\" cellspacing=\"0\">\n        <tr>\n            \t<td class=\"ColHeader\" colspan=\"4\">\n\t\t\t \t\t<input type=\"CheckBox\" name=\"eMail\" id=checkB value=\"eMail\" >&nbsp;&nbsp;Send Completion Status By Email\n                </td>\n         \t</tr>\n         \t<TR>\n\t\t\t<TD class=ColHeader rowspan=\"2\">\n\t\t\t\t<INPUT id=\"0\" title=\"Select All\"\n\t\t\t \ttype=\"checkbox\" value=\"checkbox\" name=\"checkAll\" >\n\t\t\t </TD>\n\t\t\t<TD class=\"ColHeader\" rowspan=\"2\">&nbsp;</TD>\n\t\t\t<TD class=\"ColHeaderLink\" rowspan=\"2\">Section Name</TD>\n            <td class=\"ColHeader\">Preserve non-calculated column data</td>\n\t\t\t</TR>\n            <tr>\n            <td class=\"ColSubheader\">\n            <input type=\"checkbox\" name=\"preservedata\" id=\"preservedata\" checked />\n            </td>\n            </tr>\n\n\t\t\t\t\n\t\t\t\t   \t\t\t<script>\n\t\t\t\t   \t\t\tw_segmentList[w_segmentList.length] = \"20010840\";\n\t\t\t\t   \t\t\t</script>\n\t\t\t\t\t\t  \t<TR id='id20010840' >\n\t\t\t\t\t\t       <TD class=RowIndexRight>\n\t\t\t\t\t\t       <INPUT type=checkbox value=\"20010840\" name=\"checkItem\" id=\"checkItemId_20010840\" checked\n\t\t\t\t\t\t       \t\t>\n\t\t\t\t\t\t       \t</TD>\n\t\t\t\t\t\t       <TD class=RowIndexRight>1</TD>\n\t\t\t\t\t\t        <TD class=ValueLeft> METRIC </TD>\n                                <td class=\"ValueCenter\">\n                                    \n                                    <input type=\"checkbox\" id=\"preservedata_20010840\" name=\"preservedata_20010840\" value=\"Y\" checked />\n                                    \n                                </td>\n\n\t\t\t\t\t\t\t</TR>\n\t\t\t\t\t \t\n\n\n                    <!-- field span-->\n            </table>\n            </div>\n\t\t\t</td>\n\t\t\t</tr>\n            </TBODY>\n        </table>\n        </div>\n\n\n\t\t<div id=\"bottomBtn\">\n        <table width=\"100%\" cellpadding=\"0\" align=\"center\" cellspacing=\"0\" border=\"0\" >\n\t\t   <tr align=\"center\">\n\t\t\t  <td class=\"ButtonDarkBg\" height=\"22\" width=\"63%\">\n\t\t\t\t<table>\n\t        \t\t<tr>\n\t\t\t   \t \t\t<td class=\"ButtonSpacing\" id=\"button1\" name=\"button1\"><input type=\"Button\" id=\"RegenerateButton\" name=\"Regenerate\" class=\"ActionButton\"\n\t          \t\t\t\tonclick=\"afterSubmit();\" \" value=\"Regenerate\">\n\t          \t\t\t</td>\n\t          \t\t\t<td class=\"ButtonSpacing\" id=\"button2\" name=\"button2\"><input type=\"Button\" id=\"CancelButton\" name=\"Cancel\" class=\"ActionButton\"\n          \t\t\t\t\tonclick=\"javascript:CloseWindow();\" value=\"Cancel\">\n          \t\t\t\t</td>\n          \t\t\t\t<td class=\"ButtonSpacing\" style=\"display:none\" id=\"button3\" name=\"button3\"><input type=\"Button\" id=\"CancelRegenerateButton\" name=\"CancelRegenerate\" class=\"ActionButton\"\n\t          \t\t\t\tonClick=\"cancelRegeneration();\" value=\"Cancel Re-Generation\">\n\t          \t\t\t</td>\n\t          \t\t</tr>\n\t          \t</table>\n\t         </td>\n\t  \t\t</tr>\n\t\t</table>\n\t\t</div>\n\n</form>\n</body>\n</html>", "time": "2011-12-23T08:00:29Z"}, {"bug_id": 709746, "id": 5937130, "author": "amey7p@yahoo.com", "count": 20, "text": "Created attachment 584020\nModified Test HTML file to help reproducing issue\n\nModified Test HTML file to help reproducing issue; remove commented code from line no 149 to line no 166; replace path_to_some_dummy_jsp_on_server with valid path on  server & also import required js files from server to get xmlhttp", "raw_text": "Modified Test HTML file to help reproducing issue; remove commented code from line no 149 to line no 166; replace path_to_some_dummy_jsp_on_server with valid path on  server & also import required js files from server to get xmlhttp", "time": "2011-12-23T08:07:56Z", "creation_time": "2011-12-23T08:07:56Z", "is_private": false, "creator": "amey7p@yahoo.com", "tags": [], "attachment_id": 584020}, {"attachment_id": null, "tags": [], "creator": "amey7p@yahoo.com", "creation_time": "2011-12-23T08:12:50Z", "is_private": false, "time": "2011-12-23T08:12:50Z", "raw_text": "Mats, i have updated html with code changes(new file test_modified.html); additional changes which you need to do from your side are:\n1:remove commented code from line no 149 to line no 166\n2:replace path_to_some_dummy_jsp_on_server with valid path on  server \n3:import required js files from server to get xmlhttp working without any js errors.\nAlso i added some code in comment 19 but not able to delete it; if possible please delete it .\nLet me know if you are able to reproduce this locally & when we can get fix for same.", "count": 21, "text": "Mats, i have updated html with code changes(new file test_modified.html); additional changes which you need to do from your side are:\n1:remove commented code from line no 149 to line no 166\n2:replace path_to_some_dummy_jsp_on_server with valid path on  server \n3:import required js files from server to get xmlhttp working without any js errors.\nAlso i added some code in comment 19 but not able to delete it; if possible please delete it .\nLet me know if you are able to reproduce this locally & when we can get fix for same.", "author": "amey7p@yahoo.com", "id": 5937133, "bug_id": 709746}, {"id": 5937242, "bug_id": 709746, "creation_time": "2011-12-23T11:42:41Z", "is_private": false, "creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com", "text": "Created attachment 584033\nLast test with the suggested updates\n\n> 1:remove commented code from line no 149 to line no 166\n\nok, I uncommented those lines\n\n> 2:replace path_to_some_dummy_jsp_on_server with valid path on  server \n\nI changed it to \"https://bugzilla.mozilla.org/show_bug.cgi?id=709746\"\n\n> 3:import required js files from server to get xmlhttp working without any js\n> errors.\n\nI don't understand.  There's nothing special needed to use XMLHttpRequest\nin Firefox.\n\nI can't reproduce the problem.  I also tried Chrome which has the same\nbehavior for this test.\n\nCan you reproduce the problem with this file?", "count": 22, "tags": [], "time": "2011-12-23T11:42:41Z", "attachment_id": 584033, "raw_text": "> 1:remove commented code from line no 149 to line no 166\n\nok, I uncommented those lines\n\n> 2:replace path_to_some_dummy_jsp_on_server with valid path on  server \n\nI changed it to \"https://bugzilla.mozilla.org/show_bug.cgi?id=709746\"\n\n> 3:import required js files from server to get xmlhttp working without any js\n> errors.\n\nI don't understand.  There's nothing special needed to use XMLHttpRequest\nin Firefox.\n\nI can't reproduce the problem.  I also tried Chrome which has the same\nbehavior for this test.\n\nCan you reproduce the problem with this file?"}, {"creator": "amey7p@yahoo.com", "author": "amey7p@yahoo.com", "text": "Mats, sorry mistake from my side; you need to set 3rd parameter(async) to false ; i tried this code in jsp deployed on server, works perfectly; where as plain html file with same code works properly in IE since IE allows script execution but where as firefox gives js error; request you to try in some jsp deployed locally.", "count": 23, "bug_id": 709746, "id": 5937417, "creation_time": "2011-12-23T14:50:54Z", "is_private": false, "time": "2011-12-23T14:50:54Z", "attachment_id": null, "raw_text": "Mats, sorry mistake from my side; you need to set 3rd parameter(async) to false ; i tried this code in jsp deployed on server, works perfectly; where as plain html file with same code works properly in IE since IE allows script execution but where as firefox gives js error; request you to try in some jsp deployed locally.", "tags": []}, {"creation_time": "2011-12-23T17:56:57Z", "is_private": false, "bug_id": 709746, "id": 5937662, "text": "> where as firefox gives js error\n\nPlease copy-paste the error text from the Error Console into a comment here.\n\nI suspect it's the req_change.send(\"\") that fails due to \"Cross-site HTTP request\"\nhttps://developer.mozilla.org/En/HTTP_access_control\nWhat happens if wrap the send() in a try-catch block?", "count": 24, "author": "MatsPalmgren_bugz@use.startmail.com", "creator": "MatsPalmgren_bugz@use.startmail.com", "tags": [], "raw_text": "> where as firefox gives js error\n\nPlease copy-paste the error text from the Error Console into a comment here.\n\nI suspect it's the req_change.send(\"\") that fails due to \"Cross-site HTTP request\"\nhttps://developer.mozilla.org/En/HTTP_access_control\nWhat happens if wrap the send() in a try-catch block?", "attachment_id": null, "time": "2011-12-23T17:56:57Z"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-12-26T04:13:08Z", "creator": "amey7p@yahoo.com", "time": "2011-12-26T04:13:08Z", "raw_text": "Mats, try catch block logic worked but now issue is not getting reproduced, reason i think is we are not sending request ie it is getting catched in catch block; \nError in  firefox without try/catch:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE)\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: file:///C:/desktop/test_modified.html :: <TOP_LEVEL> :: line 161\"  data: no]", "id": 5939659, "bug_id": 709746, "author": "amey7p@yahoo.com", "text": "Mats, try catch block logic worked but now issue is not getting reproduced, reason i think is we are not sending request ie it is getting catched in catch block; \nError in  firefox without try/catch:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE)\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: file:///C:/desktop/test_modified.html :: <TOP_LEVEL> :: line 161\"  data: no]", "count": 25}, {"time": "2011-12-26T09:26:14Z", "raw_text": "Yeah, I guess you need to load the test from the server to avoid that.\n\nAnyway, which version of the jsonrpc package do you use?\nI found some source here: http://oss.metaparadigm.com/jsonrpc-dist/\nbut I can't find the strings 'JSONHelper' or 'logData' in it -- does that\ncome from somewhere else?  Can you provide the source for JSONHelper.logData?", "author": "MatsPalmgren_bugz@use.startmail.com", "text": "Yeah, I guess you need to load the test from the server to avoid that.\n\nAnyway, which version of the jsonrpc package do you use?\nI found some source here: http://oss.metaparadigm.com/jsonrpc-dist/\nbut I can't find the strings 'JSONHelper' or 'logData' in it -- does that\ncome from somewhere else?  Can you provide the source for JSONHelper.logData?", "count": 26, "bug_id": 709746, "id": 5939757, "attachment_id": null, "tags": [], "creator": "MatsPalmgren_bugz@use.startmail.com", "creation_time": "2011-12-26T09:26:14Z", "is_private": false}, {"raw_text": "Mats, issue is reproducible with xmlhttp ;just rename same html file to jsp & deploy it on server & try to access it issue gets reproduced.\nJSONHelper is custom developed java class & logData is API inside that class; having just logger statement.", "time": "2011-12-26T09:45:28Z", "bug_id": 709746, "id": 5939761, "count": 27, "text": "Mats, issue is reproducible with xmlhttp ;just rename same html file to jsp & deploy it on server & try to access it issue gets reproduced.\nJSONHelper is custom developed java class & logData is API inside that class; having just logger statement.", "author": "amey7p@yahoo.com", "tags": [], "attachment_id": null, "creation_time": "2011-12-26T09:45:28Z", "is_private": false, "creator": "amey7p@yahoo.com"}, {"id": 5939826, "bug_id": 709746, "is_private": false, "creation_time": "2011-12-26T11:49:41Z", "creator": "MatsPalmgren_bugz@use.startmail.com", "author": "MatsPalmgren_bugz@use.startmail.com", "text": "(In reply to amey from comment #27)\n> Mats, issue is reproducible with xmlhttp ;\n\nPlease attach the file you used in case anyone else\nwants to try to reproduce the problem.\n\n> just rename same html file to jsp\n\nI don't see why that would that matter when the test is plain HTML + JavaScript?\nDoes the jsp server inject stuff into the test file before sending it?\nIt would help a lot if you can make a test that demonstrates the\nproblem when served as text/html.\n\n> & deploy it on server & try to access it issue gets reproduced.\n\nI'm not going to set up a jsp server to test this.  The chance\nthat I would get the exact same environment as yours is slim.\n\n> JSONHelper is custom developed java class & logData is API inside that class;\n\nPlease disable all Java plugins in Firefox and restart (just to make sure Java\nisn't part of the problem).  Does the problem still occur?\n\nPlease capture a HTTP log from Firefox while reproducing the problem, see:\nhttps://developer.mozilla.org/en/HTTP_Logging\nthen attach the log file to this bug.", "count": 28, "tags": [], "time": "2011-12-26T11:49:41Z", "attachment_id": null, "raw_text": "(In reply to amey from comment #27)\n> Mats, issue is reproducible with xmlhttp ;\n\nPlease attach the file you used in case anyone else\nwants to try to reproduce the problem.\n\n> just rename same html file to jsp\n\nI don't see why that would that matter when the test is plain HTML + JavaScript?\nDoes the jsp server inject stuff into the test file before sending it?\nIt would help a lot if you can make a test that demonstrates the\nproblem when served as text/html.\n\n> & deploy it on server & try to access it issue gets reproduced.\n\nI'm not going to set up a jsp server to test this.  The chance\nthat I would get the exact same environment as yours is slim.\n\n> JSONHelper is custom developed java class & logData is API inside that class;\n\nPlease disable all Java plugins in Firefox and restart (just to make sure Java\nisn't part of the problem).  Does the problem still occur?\n\nPlease capture a HTTP log from Firefox while reproducing the problem, see:\nhttps://developer.mozilla.org/en/HTTP_Logging\nthen attach the log file to this bug."}, {"raw_text": "Mats,\ni have exposed my application URL & sample test URL over internet.\nFollowing are details:\n\nhttp://61.12.28.75/digite/Request?Key=login\nLogin Id/Password = amey/11111\n\nPost login, one screen will appear; on this screen filter on Type = ECR & click on Go; It will list one row; Click on ECR1; It will open new screen ; On that screen you will see one icon with refresh button image (blue colored;tooltip as Re-Generate; last in panel) click on that; It will open one popup with Regenerate & Cancel buttons; click on Regenerate & after that click on Cancel Re-Generation button; on cancel button click it should open confirmation box saying \"Are you sure, you want to Cancel this?\"\nThis confirmation box consistently appears in chrome/safari where as in firefox it fails to open;\nYou can check view source to verify onclick/js functions etc. or even check with Firebug.\n\nI have deployed simple test jsp with xmlhttp in following path; \nhttp://61.12.28.75/digite/cobrand/test_modified.jsp\nClick on Generate & after that keep clicking on Cancel-Regenerate; you will observe that 'Hi' is not alerted for some clicks; it behaves randomly.\n\nLet me know if you need anything else from my side.", "time": "2011-12-28T12:54:24Z", "id": 5942591, "bug_id": 709746, "author": "amey7p@yahoo.com", "count": 29, "text": "Mats,\ni have exposed my application URL & sample test URL over internet.\nFollowing are details:\n\nhttp://61.12.28.75/digite/Request?Key=login\nLogin Id/Password = amey/11111\n\nPost login, one screen will appear; on this screen filter on Type = ECR & click on Go; It will list one row; Click on ECR1; It will open new screen ; On that screen you will see one icon with refresh button image (blue colored;tooltip as Re-Generate; last in panel) click on that; It will open one popup with Regenerate & Cancel buttons; click on Regenerate & after that click on Cancel Re-Generation button; on cancel button click it should open confirmation box saying \"Are you sure, you want to Cancel this?\"\nThis confirmation box consistently appears in chrome/safari where as in firefox it fails to open;\nYou can check view source to verify onclick/js functions etc. or even check with Firebug.\n\nI have deployed simple test jsp with xmlhttp in following path; \nhttp://61.12.28.75/digite/cobrand/test_modified.jsp\nClick on Generate & after that keep clicking on Cancel-Regenerate; you will observe that 'Hi' is not alerted for some clicks; it behaves randomly.\n\nLet me know if you need anything else from my side.", "tags": [], "attachment_id": null, "creation_time": "2011-12-28T12:54:24Z", "is_private": false, "creator": "amey7p@yahoo.com"}, {"raw_text": "(In reply to amey from comment #29)\n> http://61.12.28.75/digite/Request?Key=login\n> Login Id/Password = amey/11111\n\nIt says \"The Login Id or the Password is not valid.\"\n\n> I have deployed simple test jsp with xmlhttp in following path; \n> http://61.12.28.75/digite/cobrand/test_modified.jsp\n\nThis works, and I can reproduce the problem.  Thanks!", "attachment_id": null, "time": "2011-12-28T23:47:24Z", "tags": [], "text": "(In reply to amey from comment #29)\n> http://61.12.28.75/digite/Request?Key=login\n> Login Id/Password = amey/11111\n\nIt says \"The Login Id or the Password is not valid.\"\n\n> I have deployed simple test jsp with xmlhttp in following path; \n> http://61.12.28.75/digite/cobrand/test_modified.jsp\n\nThis works, and I can reproduce the problem.  Thanks!", "count": 30, "author": "MatsPalmgren_bugz@use.startmail.com", "creator": "MatsPalmgren_bugz@use.startmail.com", "creation_time": "2011-12-28T23:47:24Z", "is_private": false, "bug_id": 709746, "id": 5943970}, {"tags": [], "raw_text": "So we're spinning a nested event loop for sync XHR here:\nhttp://hg.mozilla.org/mozilla-central/annotate/010fe7e7df1a/content/base/src/nsXMLHttpRequest.cpp#l2649\nand while we do that we suppress events for the document, except that\nthe pres shell saves some events for delayed execution (only MOUSE_UP?):\nhttp://hg.mozilla.org/mozilla-central/annotate/010fe7e7df1a/layout/base/nsPresShell.cpp#l5977\n\nFwiw, if I change that block to unconditionally store both DOWN and UP events,\nand do it on \"frame->PresContext()->PresShell()\" rather than \"this\" then\nthe sync XHR test[1] works reasonably well.\n[1] http://61.12.28.75/digite/cobrand/test_modified.jsp", "attachment_id": null, "time": "2011-12-29T00:06:48Z", "is_private": false, "creation_time": "2011-12-29T00:06:48Z", "bug_id": 709746, "id": 5944005, "text": "So we're spinning a nested event loop for sync XHR here:\nhttp://hg.mozilla.org/mozilla-central/annotate/010fe7e7df1a/content/base/src/nsXMLHttpRequest.cpp#l2649\nand while we do that we suppress events for the document, except that\nthe pres shell saves some events for delayed execution (only MOUSE_UP?):\nhttp://hg.mozilla.org/mozilla-central/annotate/010fe7e7df1a/layout/base/nsPresShell.cpp#l5977\n\nFwiw, if I change that block to unconditionally store both DOWN and UP events,\nand do it on \"frame->PresContext()->PresShell()\" rather than \"this\" then\nthe sync XHR test[1] works reasonably well.\n[1] http://61.12.28.75/digite/cobrand/test_modified.jsp", "count": 31, "author": "MatsPalmgren_bugz@use.startmail.com", "creator": "MatsPalmgren_bugz@use.startmail.com"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-12-29T03:26:26Z", "creator": "amey7p@yahoo.com", "time": "2011-12-29T03:26:26Z", "raw_text": "Sorry, my mistake; password is 111111\n\n(In reply to Mats Palmgren [:mats] from comment #30)\n> (In reply to amey from comment #29)\n> > http://61.12.28.75/digite/Request?Key=login\n> > Login Id/Password = amey/11111\n> \n> It says \"The Login Id or the Password is not valid.\"\n> \n> > I have deployed simple test jsp with xmlhttp in following path; \n> > http://61.12.28.75/digite/cobrand/test_modified.jsp\n> \n> This works, and I can reproduce the problem.  Thanks!", "bug_id": 709746, "id": 5944314, "text": "Sorry, my mistake; password is 111111\n\n(In reply to Mats Palmgren [:mats] from comment #30)\n> (In reply to amey from comment #29)\n> > http://61.12.28.75/digite/Request?Key=login\n> > Login Id/Password = amey/11111\n> \n> It says \"The Login Id or the Password is not valid.\"\n> \n> > I have deployed simple test jsp with xmlhttp in following path; \n> > http://61.12.28.75/digite/cobrand/test_modified.jsp\n> \n> This works, and I can reproduce the problem.  Thanks!", "count": 32, "author": "amey7p@yahoo.com"}, {"id": 5944317, "bug_id": 709746, "is_private": false, "creation_time": "2011-12-29T03:29:49Z", "creator": "amey7p@yahoo.com", "count": 33, "text": "So FF have accepted this as bug? When can i expect fix for same? Will this fix work for jsonrpc(JSONRPCBridge-com.metaparadigm.jsonrpc.JSONRPCBridge) as well?\n\n(In reply to Mats Palmgren [:mats] from comment #31)\n> So we're spinning a nested event loop for sync XHR here:\n> http://hg.mozilla.org/mozilla-central/annotate/010fe7e7df1a/content/base/src/\n> nsXMLHttpRequest.cpp#l2649\n> and while we do that we suppress events for the document, except that\n> the pres shell saves some events for delayed execution (only MOUSE_UP?):\n> http://hg.mozilla.org/mozilla-central/annotate/010fe7e7df1a/layout/base/\n> nsPresShell.cpp#l5977\n> \n> Fwiw, if I change that block to unconditionally store both DOWN and UP\n> events,\n> and do it on \"frame->PresContext()->PresShell()\" rather than \"this\" then\n> the sync XHR test[1] works reasonably well.\n> [1] http://61.12.28.75/digite/cobrand/test_modified.jsp", "author": "amey7p@yahoo.com", "tags": [], "time": "2011-12-29T03:29:49Z", "raw_text": "So FF have accepted this as bug? When can i expect fix for same? Will this fix work for jsonrpc(JSONRPCBridge-com.metaparadigm.jsonrpc.JSONRPCBridge) as well?\n\n(In reply to Mats Palmgren [:mats] from comment #31)\n> So we're spinning a nested event loop for sync XHR here:\n> http://hg.mozilla.org/mozilla-central/annotate/010fe7e7df1a/content/base/src/\n> nsXMLHttpRequest.cpp#l2649\n> and while we do that we suppress events for the document, except that\n> the pres shell saves some events for delayed execution (only MOUSE_UP?):\n> http://hg.mozilla.org/mozilla-central/annotate/010fe7e7df1a/layout/base/\n> nsPresShell.cpp#l5977\n> \n> Fwiw, if I change that block to unconditionally store both DOWN and UP\n> events,\n> and do it on \"frame->PresContext()->PresShell()\" rather than \"this\" then\n> the sync XHR test[1] works reasonably well.\n> [1] http://61.12.28.75/digite/cobrand/test_modified.jsp", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "MatsPalmgren_bugz@use.startmail.com", "is_private": false, "creation_time": "2011-12-29T21:20:46Z", "time": "2011-12-29T21:20:46Z", "raw_text": "> Sorry, my mistake; password is 111111\n\nOk, I was able to login and follow your directions.  It's using sync XHR as\nthe underlying mechanism, and with my hack described above the Cancel button\nseems to work.  (You can remove access to this application now if you want,\nbut please keep the \"test_modified.jsp\" example open if you can.)\n\n(In reply to amey from comment #33)\n> So FF have accepted this as bug?\n\nI think it's a bug in Firefox, yes.\n\n> When can i expect fix for same?\n\nToo early to say at this time.\n\n> Will this fix work for\n> jsonrpc(JSONRPCBridge-com.metaparadigm.jsonrpc.JSONRPCBridge)\n> as well?\n\nIt should, yes.", "text": "> Sorry, my mistake; password is 111111\n\nOk, I was able to login and follow your directions.  It's using sync XHR as\nthe underlying mechanism, and with my hack described above the Cancel button\nseems to work.  (You can remove access to this application now if you want,\nbut please keep the \"test_modified.jsp\" example open if you can.)\n\n(In reply to amey from comment #33)\n> So FF have accepted this as bug?\n\nI think it's a bug in Firefox, yes.\n\n> When can i expect fix for same?\n\nToo early to say at this time.\n\n> Will this fix work for\n> jsonrpc(JSONRPCBridge-com.metaparadigm.jsonrpc.JSONRPCBridge)\n> as well?\n\nIt should, yes.", "count": 34, "author": "MatsPalmgren_bugz@use.startmail.com", "bug_id": 709746, "id": 5945700}, {"creation_time": "2011-12-29T21:31:36Z", "is_private": false, "creator": "MatsPalmgren_bugz@use.startmail.com", "tags": [], "attachment_id": null, "bug_id": 709746, "id": 5945722, "text": "Delaying mouse/key events was added to fix bug 493251:\nhttp://hg.mozilla.org/mozilla-central/rev/3934f51e350f\nwhich indeed appears to be related to sync XHR per bug 493251 comment 2.\n(EventHandlingSuppressed() and delayed events existed even before then\nbut only for focus/blur/activate events, AFAICT)", "count": 35, "author": "MatsPalmgren_bugz@use.startmail.com", "time": "2011-12-29T21:31:36Z", "raw_text": "Delaying mouse/key events was added to fix bug 493251:\nhttp://hg.mozilla.org/mozilla-central/rev/3934f51e350f\nwhich indeed appears to be related to sync XHR per bug 493251 comment 2.\n(EventHandlingSuppressed() and delayed events existed even before then\nbut only for focus/blur/activate events, AFAICT)"}, {"time": "2011-12-29T21:37:45Z", "raw_text": "Olli, bug 493251 comment 7 says the behavior is intentional - did something break\nif you delayed \"new\" mouse/key events too?  bug 493251 comment 8 says Opera and\nWebkit does that, so why can't we?", "author": "MatsPalmgren_bugz@use.startmail.com", "count": 36, "text": "Olli, bug 493251 comment 7 says the behavior is intentional - did something break\nif you delayed \"new\" mouse/key events too?  bug 493251 comment 8 says Opera and\nWebkit does that, so why can't we?", "id": 5945744, "bug_id": 709746, "attachment_id": null, "tags": [], "creator": "MatsPalmgren_bugz@use.startmail.com", "creation_time": "2011-12-29T21:37:45Z", "is_private": false}, {"creation_time": "2011-12-29T22:09:10Z", "is_private": false, "id": 5945809, "bug_id": 709746, "count": 37, "text": "(In reply to Mats Palmgren [:mats] from comment #36)\n> Olli, bug 493251 comment 7 says the behavior is intentional - did something\n> break\n> if you delayed \"new\" mouse/key events too?\nIIRC it was just safer to not do that.\n\n  bug 493251 comment 8 says Opera\n> and\n> Webkit does that, so why can't we?\nIn Opera and Webkit the ordering of key events is (or was?) very wrong when typing while sync XHR\nis active. I tried to not recreate that bug. I don't recall now if the same problem\nhappened with mouse events.", "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi", "tags": [], "raw_text": "(In reply to Mats Palmgren [:mats] from comment #36)\n> Olli, bug 493251 comment 7 says the behavior is intentional - did something\n> break\n> if you delayed \"new\" mouse/key events too?\nIIRC it was just safer to not do that.\n\n  bug 493251 comment 8 says Opera\n> and\n> Webkit does that, so why can't we?\nIn Opera and Webkit the ordering of key events is (or was?) very wrong when typing while sync XHR\nis active. I tried to not recreate that bug. I don't recall now if the same problem\nhappened with mouse events.", "attachment_id": null, "time": "2011-12-29T22:09:10Z"}, {"attachment_id": null, "tags": [], "creator": "amey7p@yahoo.com", "is_private": false, "creation_time": "2011-12-30T08:26:26Z", "raw_text": "Mats, thanks for confirming everything; your hack is working on both test jsp(xmlhttp) as well as actual application(jsonrpc) ie fix is ready then why can't you confirm when we can expect the fix?\nPS: i am keeping application access as well as test_modified.jsp access open; in case if it is required in future.\n\n(In reply to Mats Palmgren [:mats] from comment #34)\n> > Sorry, my mistake; password is 111111\n> \n> Ok, I was able to login and follow your directions.  It's using sync XHR as\n> the underlying mechanism, and with my hack described above the Cancel button\n> seems to work.  (You can remove access to this application now if you want,\n> but please keep the \"test_modified.jsp\" example open if you can.)\n> \n> (In reply to amey from comment #33)\n> > So FF have accepted this as bug?\n> \n> I think it's a bug in Firefox, yes.\n> \n> > When can i expect fix for same?\n> \n> Too early to say at this time.\n> \n> > Will this fix work for\n> > jsonrpc(JSONRPCBridge-com.metaparadigm.jsonrpc.JSONRPCBridge)\n> > as well?\n> \n> It should, yes.", "time": "2011-12-30T08:26:26Z", "author": "amey7p@yahoo.com", "text": "Mats, thanks for confirming everything; your hack is working on both test jsp(xmlhttp) as well as actual application(jsonrpc) ie fix is ready then why can't you confirm when we can expect the fix?\nPS: i am keeping application access as well as test_modified.jsp access open; in case if it is required in future.\n\n(In reply to Mats Palmgren [:mats] from comment #34)\n> > Sorry, my mistake; password is 111111\n> \n> Ok, I was able to login and follow your directions.  It's using sync XHR as\n> the underlying mechanism, and with my hack described above the Cancel button\n> seems to work.  (You can remove access to this application now if you want,\n> but please keep the \"test_modified.jsp\" example open if you can.)\n> \n> (In reply to amey from comment #33)\n> > So FF have accepted this as bug?\n> \n> I think it's a bug in Firefox, yes.\n> \n> > When can i expect fix for same?\n> \n> Too early to say at this time.\n> \n> > Will this fix work for\n> > jsonrpc(JSONRPCBridge-com.metaparadigm.jsonrpc.JSONRPCBridge)\n> > as well?\n> \n> It should, yes.", "count": 38, "bug_id": 709746, "id": 5946554}, {"bug_id": 709746, "id": 5953481, "is_private": false, "creation_time": "2012-01-04T09:26:05Z", "creator": "amey7p@yahoo.com", "text": "Mats, can you confirm in which FF release this issue will get fixed? as confirmed  in reply 34; you have already mentioned fix is working for both xmlhttp & jsonrpc.\n\n(In reply to amey from comment #38)\n> Mats, thanks for confirming everything; your hack is working on both test\n> jsp(xmlhttp) as well as actual application(jsonrpc) ie fix is ready then why\n> can't you confirm when we can expect the fix?\n> PS: i am keeping application access as well as test_modified.jsp access\n> open; in case if it is required in future.\n> \n> (In reply to Mats Palmgren [:mats] from comment #34)\n> > > Sorry, my mistake; password is 111111\n> > \n> > Ok, I was able to login and follow your directions.  It's using sync XHR as\n> > the underlying mechanism, and with my hack described above the Cancel button\n> > seems to work.  (You can remove access to this application now if you want,\n> > but please keep the \"test_modified.jsp\" example open if you can.)\n> > \n> > (In reply to amey from comment #33)\n> > > So FF have accepted this as bug?\n> > \n> > I think it's a bug in Firefox, yes.\n> > \n> > > When can i expect fix for same?\n> > \n> > Too early to say at this time.\n> > \n> > > Will this fix work for\n> > > jsonrpc(JSONRPCBridge-com.metaparadigm.jsonrpc.JSONRPCBridge)\n> > > as well?\n> > \n> > It should, yes.", "count": 39, "author": "amey7p@yahoo.com", "tags": [], "time": "2012-01-04T09:26:05Z", "raw_text": "Mats, can you confirm in which FF release this issue will get fixed? as confirmed  in reply 34; you have already mentioned fix is working for both xmlhttp & jsonrpc.\n\n(In reply to amey from comment #38)\n> Mats, thanks for confirming everything; your hack is working on both test\n> jsp(xmlhttp) as well as actual application(jsonrpc) ie fix is ready then why\n> can't you confirm when we can expect the fix?\n> PS: i am keeping application access as well as test_modified.jsp access\n> open; in case if it is required in future.\n> \n> (In reply to Mats Palmgren [:mats] from comment #34)\n> > > Sorry, my mistake; password is 111111\n> > \n> > Ok, I was able to login and follow your directions.  It's using sync XHR as\n> > the underlying mechanism, and with my hack described above the Cancel button\n> > seems to work.  (You can remove access to this application now if you want,\n> > but please keep the \"test_modified.jsp\" example open if you can.)\n> > \n> > (In reply to amey from comment #33)\n> > > So FF have accepted this as bug?\n> > \n> > I think it's a bug in Firefox, yes.\n> > \n> > > When can i expect fix for same?\n> > \n> > Too early to say at this time.\n> > \n> > > Will this fix work for\n> > > jsonrpc(JSONRPCBridge-com.metaparadigm.jsonrpc.JSONRPCBridge)\n> > > as well?\n> > \n> > It should, yes.", "attachment_id": null}, {"author": "MatsPalmgren_bugz@use.startmail.com", "text": "Created attachment 585870\nwip\n\nThis delays all mouse/key events when event handling is suppressed.\nIt seems to fix the reported problem.  It passed regression tests,\nwith the adjustments to test_bug493251.html (that is, no event is to\nbe dropped)\n\nI've tested this briefly in on Linux and I saw no problems.\nNot tested on Windows / OSX.\nTODO:\n* are there other situations where EventHandlingSuppressed()\n  is true, other than sync XHR?\n* test other platforms and other UAs", "count": 40, "id": 5955299, "bug_id": 709746, "raw_text": "This delays all mouse/key events when event handling is suppressed.\nIt seems to fix the reported problem.  It passed regression tests,\nwith the adjustments to test_bug493251.html (that is, no event is to\nbe dropped)\n\nI've tested this briefly in on Linux and I saw no problems.\nNot tested on Windows / OSX.\nTODO:\n* are there other situations where EventHandlingSuppressed()\n  is true, other than sync XHR?\n* test other platforms and other UAs", "time": "2012-01-04T21:38:15Z", "creator": "MatsPalmgren_bugz@use.startmail.com", "is_private": false, "creation_time": "2012-01-04T21:38:15Z", "attachment_id": 585870, "tags": []}, {"creator": "amey7p@yahoo.com", "is_private": false, "creation_time": "2012-01-09T06:13:12Z", "attachment_id": null, "tags": [], "author": "amey7p@yahoo.com", "text": "Mats, please confirm when is this bug getting fixed?", "count": 41, "bug_id": 709746, "id": 5964645, "raw_text": "Mats, please confirm when is this bug getting fixed?", "time": "2012-01-09T06:13:12Z"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2012-01-11T07:11:19Z", "creator": "amey7p@yahoo.com", "raw_text": "Mats, i have my customers waiting for same since this functionality is breaking in firefox, at least confirm me when will this get fixed.Fix is ready from 29-11-2011 then why can't you simply confirm in which release this is getting fixed?", "time": "2012-01-11T07:11:19Z", "id": 5971280, "bug_id": 709746, "text": "Mats, i have my customers waiting for same since this functionality is breaking in firefox, at least confirm me when will this get fixed.Fix is ready from 29-11-2011 then why can't you simply confirm in which release this is getting fixed?", "count": 42, "author": "amey7p@yahoo.com"}, {"tags": [], "time": "2012-01-11T07:42:35Z", "raw_text": "Sorry, amey, there's not enough information available at this point to offer a reasonable guess. Mats is working on a complete, correct fix. Once that is finished, it will be reviewed by another developer, and if it is perfect, it will be committed. If that happens before the end of the month, the fix will be available in Firefox 12. I suspect it is unlikely that it will be backported to any earlier version.", "attachment_id": null, "bug_id": 709746, "id": 5971329, "creation_time": "2012-01-11T07:42:35Z", "is_private": false, "creator": "josh@joshmatthews.net", "count": 43, "text": "Sorry, amey, there's not enough information available at this point to offer a reasonable guess. Mats is working on a complete, correct fix. Once that is finished, it will be reviewed by another developer, and if it is perfect, it will be committed. If that happens before the end of the month, the fix will be available in Firefox 12. I suspect it is unlikely that it will be backported to any earlier version.", "author": "josh@joshmatthews.net"}, {"attachment_id": null, "tags": [], "creator": "amey7p@yahoo.com", "creation_time": "2012-01-11T09:12:45Z", "is_private": false, "time": "2012-01-11T09:12:45Z", "raw_text": "Thanks Josh for update; so this will get fixed in Firefox12, which is getting released by this month end or definitely in Firefox13.Till what time can you confirm this will get fixed in Firefox12 or not? also can you tell me when Firefox13 is getting released? Firefox hardly releases any patches in major versions but lets say fix is in 2-3 files then can it be patched in earlier versions? \n\n(In reply to Josh Matthews [:jdm] from comment #43)\n> Sorry, amey, there's not enough information available at this point to offer\n> a reasonable guess. Mats is working on a complete, correct fix. Once that is\n> finished, it will be reviewed by another developer, and if it is perfect, it\n> will be committed. If that happens before the end of the month, the fix will\n> be available in Firefox 12. I suspect it is unlikely that it will be\n> backported to any earlier version.", "author": "amey7p@yahoo.com", "count": 44, "text": "Thanks Josh for update; so this will get fixed in Firefox12, which is getting released by this month end or definitely in Firefox13.Till what time can you confirm this will get fixed in Firefox12 or not? also can you tell me when Firefox13 is getting released? Firefox hardly releases any patches in major versions but lets say fix is in 2-3 files then can it be patched in earlier versions? \n\n(In reply to Josh Matthews [:jdm] from comment #43)\n> Sorry, amey, there's not enough information available at this point to offer\n> a reasonable guess. Mats is working on a complete, correct fix. Once that is\n> finished, it will be reviewed by another developer, and if it is perfect, it\n> will be committed. If that happens before the end of the month, the fix will\n> be available in Firefox 12. I suspect it is unlikely that it will be\n> backported to any earlier version.", "bug_id": 709746, "id": 5971450}, {"time": "2012-01-11T09:28:56Z", "raw_text": "If there is a patch ready before the end of this month, this will be in FF12, which will be\nreleased 12 weeks after end of January (FF12 will be first 6 weeks in Aurora and then in Beta).\n\nNote, this is about using sync XHR in window context which is really bad for user experience. So if \njust possible, try to change the code to use async XHR.", "attachment_id": null, "tags": [], "creator": "bugs@pettay.fi", "count": 45, "text": "If there is a patch ready before the end of this month, this will be in FF12, which will be\nreleased 12 weeks after end of January (FF12 will be first 6 weeks in Aurora and then in Beta).\n\nNote, this is about using sync XHR in window context which is really bad for user experience. So if \njust possible, try to change the code to use async XHR.", "author": "bugs@pettay.fi", "bug_id": 709746, "id": 5971468, "is_private": false, "creation_time": "2012-01-11T09:28:56Z"}, {"raw_text": "And this kind of change is highly regression risky, so backporting to FF10 or FF11 is unlikely.", "attachment_id": null, "time": "2012-01-11T09:30:43Z", "tags": [], "count": 46, "text": "And this kind of change is highly regression risky, so backporting to FF10 or FF11 is unlikely.", "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi", "is_private": false, "creation_time": "2012-01-11T09:30:43Z", "bug_id": 709746, "id": 5971470}, {"is_private": false, "creation_time": "2012-01-11T10:55:59Z", "creator": "amey7p@yahoo.com", "tags": [], "attachment_id": null, "id": 5971580, "bug_id": 709746, "author": "amey7p@yahoo.com", "text": "Thanks Olli, in case this is getting fixed in FF12 please post reply over here.\n\n(In reply to Olli Pettay [:smaug] from comment #46)\n> And this kind of change is highly regression risky, so backporting to FF10\n> or FF11 is unlikely.", "count": 47, "time": "2012-01-11T10:55:59Z", "raw_text": "Thanks Olli, in case this is getting fixed in FF12 please post reply over here.\n\n(In reply to Olli Pettay [:smaug] from comment #46)\n> And this kind of change is highly regression risky, so backporting to FF10\n> or FF11 is unlikely."}, {"tags": [], "attachment_id": null, "creation_time": "2012-02-13T14:27:36Z", "is_private": false, "creator": "amey7p@yahoo.com", "raw_text": "Olli/Mats any update for me? we are in 2nd week of feb, expecting something positive; but \"Assigned To:Nobody; OK to take it and work on it\" worries me, still it is not assigned to somebody?\n\n(In reply to amey from comment #47)\n> Thanks Olli, in case this is getting fixed in FF12 please post reply over\n> here.\n> \n> (In reply to Olli Pettay [:smaug] from comment #46)\n> > And this kind of change is highly regression risky, so backporting to FF10\n> > or FF11 is unlikely.", "time": "2012-02-13T14:27:36Z", "bug_id": 709746, "id": 6055836, "text": "Olli/Mats any update for me? we are in 2nd week of feb, expecting something positive; but \"Assigned To:Nobody; OK to take it and work on it\" worries me, still it is not assigned to somebody?\n\n(In reply to amey from comment #47)\n> Thanks Olli, in case this is getting fixed in FF12 please post reply over\n> here.\n> \n> (In reply to Olli Pettay [:smaug] from comment #46)\n> > And this kind of change is highly regression risky, so backporting to FF10\n> > or FF11 is unlikely.", "count": 48, "author": "amey7p@yahoo.com"}, {"tags": [], "attachment_id": null, "raw_text": "This won't be in FF12.\n\nI'm way too busy with other things right now to fix this.\nI don't know whether Mats' patch works. If it does, I'd be happy to review it :)\n\n\n(In general, I would strongly suggest not using sync XHR in window context.\n It is bad for user experience.)", "time": "2012-02-13T14:39:40Z", "is_private": false, "creation_time": "2012-02-13T14:39:40Z", "bug_id": 709746, "id": 6055863, "author": "bugs@pettay.fi", "text": "This won't be in FF12.\n\nI'm way too busy with other things right now to fix this.\nI don't know whether Mats' patch works. If it does, I'd be happy to review it :)\n\n\n(In general, I would strongly suggest not using sync XHR in window context.\n It is bad for user experience.)", "count": 49, "creator": "bugs@pettay.fi"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2012-02-13T15:31:55Z", "creator": "MatsPalmgren_bugz@use.startmail.com", "time": "2012-02-13T15:31:55Z", "raw_text": "I'm also busy on higher priority stuff right now.   The patch was just a first\ncut at what might work.  I think it still needs some investigation, the Selection\nimpact for example.  It's a high risk change.  Still, the patch does simplify the\nexisting code for delaying events slightly so it might worth doing.  It needs a lot\nmore testing, and also investigate what other UAs are doing.  I'll probably not\nget to this bug until FF14 cycle at the earliest.", "bug_id": 709746, "id": 6056000, "author": "MatsPalmgren_bugz@use.startmail.com", "text": "I'm also busy on higher priority stuff right now.   The patch was just a first\ncut at what might work.  I think it still needs some investigation, the Selection\nimpact for example.  It's a high risk change.  Still, the patch does simplify the\nexisting code for delaying events slightly so it might worth doing.  It needs a lot\nmore testing, and also investigate what other UAs are doing.  I'll probably not\nget to this bug until FF14 cycle at the earliest.", "count": 50}, {"is_private": false, "creation_time": "2012-02-14T06:47:20Z", "creator": "amey7p@yahoo.com", "tags": [], "attachment_id": null, "bug_id": 709746, "id": 6058931, "text": "Mats/Olli, i understand you guys are busy/overloaded; case with almost everybody  not just you guys only;i thought it will come either in FF12 or definitely in FF13; now it is getting further delayed by one more release cycle.Please confirm one fixed release in which it will get fixed or prior to that it will get fixed.\nOlli, i am using JSONRPC not xmlhttp; xmlhttp sync was just one sample which i shared to reproduce this issue; Mats have already confirmed fix will work on sync xmlhttp as well as JSONRPC ; changing from JSONRPC to xmlhttp is very big re factoring for me.\n\n(In reply to Mats Palmgren [:mats] from comment #50)\n> I'm also busy on higher priority stuff right now.   The patch was just a\n> first\n> cut at what might work.  I think it still needs some investigation, the\n> Selection\n> impact for example.  It's a high risk change.  Still, the patch does\n> simplify the\n> existing code for delaying events slightly so it might worth doing.  It\n> needs a lot\n> more testing, and also investigate what other UAs are doing.  I'll probably\n> not\n> get to this bug until FF14 cycle at the earliest.", "count": 51, "author": "amey7p@yahoo.com", "time": "2012-02-14T06:47:20Z", "raw_text": "Mats/Olli, i understand you guys are busy/overloaded; case with almost everybody  not just you guys only;i thought it will come either in FF12 or definitely in FF13; now it is getting further delayed by one more release cycle.Please confirm one fixed release in which it will get fixed or prior to that it will get fixed.\nOlli, i am using JSONRPC not xmlhttp; xmlhttp sync was just one sample which i shared to reproduce this issue; Mats have already confirmed fix will work on sync xmlhttp as well as JSONRPC ; changing from JSONRPC to xmlhttp is very big re factoring for me.\n\n(In reply to Mats Palmgren [:mats] from comment #50)\n> I'm also busy on higher priority stuff right now.   The patch was just a\n> first\n> cut at what might work.  I think it still needs some investigation, the\n> Selection\n> impact for example.  It's a high risk change.  Still, the patch does\n> simplify the\n> existing code for delaying events slightly so it might worth doing.  It\n> needs a lot\n> more testing, and also investigate what other UAs are doing.  I'll probably\n> not\n> get to this bug until FF14 cycle at the earliest."}, {"raw_text": "Mats/Olli, please confirm me one fixed release in which this will get fixed or prior to that; i have to communicate same to my customers.", "attachment_id": null, "time": "2012-02-16T06:45:36Z", "tags": [], "count": 52, "text": "Mats/Olli, please confirm me one fixed release in which this will get fixed or prior to that; i have to communicate same to my customers.", "author": "amey7p@yahoo.com", "creator": "amey7p@yahoo.com", "is_private": false, "creation_time": "2012-02-16T06:45:36Z", "id": 6066592, "bug_id": 709746}, {"is_private": false, "creation_time": "2012-02-16T15:21:52Z", "creator": "bugs@pettay.fi", "tags": [], "attachment_id": null, "id": 6067324, "bug_id": 709746, "count": 53, "text": "The release process doesn't work that way. Releases aren't bound to features but dates.\nWhen this gets a reviewed patch, the patch lands to mozilla-central (Nightly).\nEvery 6 weeks there is uplift to Aurora and from Aurora there is uplift to Beta every 6 weeks,\nand releases happen from Beta every 6 weeks.\nSo it takes 12-18 weeks after the patch has landed before the fix is in a release build.\n\nBtw, I'm pretty sure your JSONRPC uses sync XHR, since this bug is all about \nsync XHR.", "author": "bugs@pettay.fi", "time": "2012-02-16T15:21:52Z", "raw_text": "The release process doesn't work that way. Releases aren't bound to features but dates.\nWhen this gets a reviewed patch, the patch lands to mozilla-central (Nightly).\nEvery 6 weeks there is uplift to Aurora and from Aurora there is uplift to Beta every 6 weeks,\nand releases happen from Beta every 6 weeks.\nSo it takes 12-18 weeks after the patch has landed before the fix is in a release build.\n\nBtw, I'm pretty sure your JSONRPC uses sync XHR, since this bug is all about \nsync XHR."}, {"raw_text": "Olli, thanks for explanation of complete mozilla cycle, my point is i need some timeline either firefox version or weeks , which i can confirm to my customers; you must be targeting this bug in some release, correct? This bug was reported on 12-Dec-2011; Mats confirmed this as bug on 28-Dec-2011 & today it is 17-Feb-2012..almost 1 & half months post bug acceptance & still i do not have any confirmation, when this is going to get fix", "attachment_id": null, "time": "2012-02-17T06:21:39Z", "tags": [], "text": "Olli, thanks for explanation of complete mozilla cycle, my point is i need some timeline either firefox version or weeks , which i can confirm to my customers; you must be targeting this bug in some release, correct? This bug was reported on 12-Dec-2011; Mats confirmed this as bug on 28-Dec-2011 & today it is 17-Feb-2012..almost 1 & half months post bug acceptance & still i do not have any confirmation, when this is going to get fix", "count": 54, "author": "amey7p@yahoo.com", "creator": "amey7p@yahoo.com", "creation_time": "2012-02-17T06:21:39Z", "is_private": false, "id": 6070035, "bug_id": 709746}, {"attachment_id": null, "raw_text": "\"8.4% of all hangs in IE9 in the past month are caused by XMLHttpRequest objects blocking the UI thread with a synchronous request. That\u2019s a huge number!\"\nhttp://blogs.msdn.com/b/wer/archive/2011/08/03/why-you-should-use-xmlhttprequest-asynchronously.aspx\n\nWow.", "time": "2012-02-24T01:33:18Z", "tags": [], "author": "MatsPalmgren_bugz@use.startmail.com", "count": 55, "text": "\"8.4% of all hangs in IE9 in the past month are caused by XMLHttpRequest objects blocking the UI thread with a synchronous request. That\u2019s a huge number!\"\nhttp://blogs.msdn.com/b/wer/archive/2011/08/03/why-you-should-use-xmlhttprequest-asynchronously.aspx\n\nWow.", "creator": "MatsPalmgren_bugz@use.startmail.com", "is_private": false, "creation_time": "2012-02-24T01:33:18Z", "bug_id": 709746, "id": 6088865}, {"time": "2012-05-24T13:15:26Z", "raw_text": "I expect behavior of application same across all browsers, rather than giving excuses for fixing this.\n\n(In reply to Mats Palmgren [:mats] from comment #55)\n> \"8.4% of all hangs in IE9 in the past month are caused by XMLHttpRequest\n> objects blocking the UI thread with a synchronous request. That\u2019s a huge\n> number!\"\n> http://blogs.msdn.com/b/wer/archive/2011/08/03/why-you-should-use-\n> xmlhttprequest-asynchronously.aspx\n> \n> Wow.", "id": 6334377, "bug_id": 709746, "count": 56, "text": "I expect behavior of application same across all browsers, rather than giving excuses for fixing this.\n\n(In reply to Mats Palmgren [:mats] from comment #55)\n> \"8.4% of all hangs in IE9 in the past month are caused by XMLHttpRequest\n> objects blocking the UI thread with a synchronous request. That\u2019s a huge\n> number!\"\n> http://blogs.msdn.com/b/wer/archive/2011/08/03/why-you-should-use-\n> xmlhttprequest-asynchronously.aspx\n> \n> Wow.", "author": "amey7p@yahoo.com", "tags": [], "attachment_id": null, "creation_time": "2012-05-24T13:15:26Z", "is_private": false, "creator": "amey7p@yahoo.com"}, {"text": "Still open after 5 months", "count": 57, "author": "amey7p@yahoo.com", "id": 6347659, "bug_id": 709746, "raw_text": "Still open after 5 months", "time": "2012-05-30T05:51:56Z", "creator": "amey7p@yahoo.com", "is_private": false, "creation_time": "2012-05-30T05:51:56Z", "attachment_id": null, "tags": []}, {"author": "amey7p@yahoo.com", "text": "Mats/Olli; please be kind enough to respond.", "count": 58, "creator": "amey7p@yahoo.com", "creation_time": "2012-06-07T07:45:23Z", "is_private": false, "id": 6371001, "bug_id": 709746, "attachment_id": null, "raw_text": "Mats/Olli; please be kind enough to respond.", "time": "2012-06-07T07:45:23Z", "tags": []}, {"creation_time": "2012-06-07T13:58:59Z", "is_private": false, "creator": "mjh563@yahoo.co.uk", "tags": [], "attachment_id": null, "id": 6371717, "bug_id": 709746, "author": "mjh563@yahoo.co.uk", "text": "Amey, it looks unlikely this bug will be fixed any time soon. Have you considered redesigning the code so it uses asynchronous XMLHttpRequest instead?", "count": 59, "raw_text": "Amey, it looks unlikely this bug will be fixed any time soon. Have you considered redesigning the code so it uses asynchronous XMLHttpRequest instead?", "time": "2012-06-07T13:58:59Z"}, {"creation_time": "2012-06-07T18:05:51Z", "is_private": false, "creator": "amey7p@yahoo.com", "tags": [], "attachment_id": null, "bug_id": 709746, "id": 6372686, "count": 60, "text": "mj...it is almost 6 months now, i have listened various reasons from bandwidth/work issues to poor performance for this fix; if thing works across all browsers why i can't expect same behavior from firefox rather than changing my code? some other user might be facing this issue right now or in future do you expect everybody to change there codes just because your browser does not support it?", "author": "amey7p@yahoo.com", "time": "2012-06-07T18:05:51Z", "raw_text": "mj...it is almost 6 months now, i have listened various reasons from bandwidth/work issues to poor performance for this fix; if thing works across all browsers why i can't expect same behavior from firefox rather than changing my code? some other user might be facing this issue right now or in future do you expect everybody to change there codes just because your browser does not support it?"}, {"count": 61, "text": "Given that this patch actually simplifies the event suppression code, it actually seems worth driving in. And having things work in other browsers but not in Firefox is generally a bad thing for our users.\n\nI looked over the current patch and it generally makes sense to me though Olli should review. Would it make sense to review as-is or are there things that should be looked into/fixed first?\n\n\namey: Yes, things *should* work in all browsers. However note that synchronous XMLHttpRequest gives a bad experience in *all* browsers. The specification for the API actually mandates that the webpage lock up while the network request is happening. I.e. the spec actually mandates behavior that is annoying to users.\n\nIt might work fine for you, but if a customer of yours has a slow internet connection, has some other program running at the same time which uses up a lot of bandwidth or is travelling and is far away from your webserver, then that customer will experience the webpage locking up. Again, this is the case in *all* browsers and not just in Firefox. So even if you technically should be able to keep the code as-is, it's beneficial for you, for reasons beyond this bug, to switch to using asynchronous requests.\n\nI'll further note that nagging in this bug is not going to help get the patch fixed sooner. In fact, I wouldn't be surprised if the momentum the patch did have a few months ago was lost because of too many unhelpful comments in this bug. There's also no need to quote whole comments that you are replying to. This isn't email and everyone can see previous comments quite easily.\n\nPlease read the bugzilla etiquette guide here:\n\nhttps://bugzilla.mozilla.org/page.cgi?id=etiquette.html", "author": "jonas@sicking.cc", "creator": "jonas@sicking.cc", "is_private": false, "creation_time": "2012-06-07T19:45:50Z", "id": 6373063, "bug_id": 709746, "raw_text": "Given that this patch actually simplifies the event suppression code, it actually seems worth driving in. And having things work in other browsers but not in Firefox is generally a bad thing for our users.\n\nI looked over the current patch and it generally makes sense to me though Olli should review. Would it make sense to review as-is or are there things that should be looked into/fixed first?\n\n\namey: Yes, things *should* work in all browsers. However note that synchronous XMLHttpRequest gives a bad experience in *all* browsers. The specification for the API actually mandates that the webpage lock up while the network request is happening. I.e. the spec actually mandates behavior that is annoying to users.\n\nIt might work fine for you, but if a customer of yours has a slow internet connection, has some other program running at the same time which uses up a lot of bandwidth or is travelling and is far away from your webserver, then that customer will experience the webpage locking up. Again, this is the case in *all* browsers and not just in Firefox. So even if you technically should be able to keep the code as-is, it's beneficial for you, for reasons beyond this bug, to switch to using asynchronous requests.\n\nI'll further note that nagging in this bug is not going to help get the patch fixed sooner. In fact, I wouldn't be surprised if the momentum the patch did have a few months ago was lost because of too many unhelpful comments in this bug. There's also no need to quote whole comments that you are replying to. This isn't email and everyone can see previous comments quite easily.\n\nPlease read the bugzilla etiquette guide here:\n\nhttps://bugzilla.mozilla.org/page.cgi?id=etiquette.html", "attachment_id": null, "time": "2012-06-07T19:45:50Z", "tags": []}, {"author": "bugs@pettay.fi", "text": "Note, it is not specified anywhere how browsers should handle user initiated events when\nuser interacts with the browser during sync XHR.", "count": 62, "id": 6373077, "bug_id": 709746, "raw_text": "Note, it is not specified anywhere how browsers should handle user initiated events when\nuser interacts with the browser during sync XHR.", "time": "2012-06-07T19:51:39Z", "creator": "bugs@pettay.fi", "is_private": false, "creation_time": "2012-06-07T19:51:39Z", "attachment_id": null, "tags": []}, {"tags": [], "time": "2012-06-11T09:41:43Z", "raw_text": "Sicking, \nLets see what kind of professionalism firefox is delivering.\nIts more than 6 months, already bandwidth/resources explanations gives; even earlier intention was clear to fix this; patch is also provided in attachment; but still post 6 months no progress on issue; as good as zero; except we are fighting over here.\nApplication gets accessed from different areas across globe; from high speed connection to low speed net; till date nobody has reported slowness behavior.\nDon't you think if it was so much of trouble in this method; why would one develop it & moreover why all other browsers except mozilla supports it?\n\n(In reply to Jonas Sicking (:sicking) Vacation June 11-22 from comment #61)\n> Given that this patch actually simplifies the event suppression code, it\n> actually seems worth driving in. And having things work in other browsers\n> but not in Firefox is generally a bad thing for our users.\n> \n> I looked over the current patch and it generally makes sense to me though\n> Olli should review. Would it make sense to review as-is or are there things\n> that should be looked into/fixed first?\n> \n> \n> amey: Yes, things *should* work in all browsers. However note that\n> synchronous XMLHttpRequest gives a bad experience in *all* browsers. The\n> specification for the API actually mandates that the webpage lock up while\n> the network request is happening. I.e. the spec actually mandates behavior\n> that is annoying to users.\n> \n> It might work fine for you, but if a customer of yours has a slow internet\n> connection, has some other program running at the same time which uses up a\n> lot of bandwidth or is travelling and is far away from your webserver, then\n> that customer will experience the webpage locking up. Again, this is the\n> case in *all* browsers and not just in Firefox. So even if you technically\n> should be able to keep the code as-is, it's beneficial for you, for reasons\n> beyond this bug, to switch to using asynchronous requests.\n> \n> I'll further note that nagging in this bug is not going to help get the\n> patch fixed sooner. In fact, I wouldn't be surprised if the momentum the\n> patch did have a few months ago was lost because of too many unhelpful\n> comments in this bug. There's also no need to quote whole comments that you\n> are replying to. This isn't email and everyone can see previous comments\n> quite easily.\n> \n> Please read the bugzilla etiquette guide here:\n> \n> https://bugzilla.mozilla.org/page.cgi?id=etiquette.html", "attachment_id": null, "id": 6379691, "bug_id": 709746, "is_private": false, "creation_time": "2012-06-11T09:41:43Z", "creator": "amey7p@yahoo.com", "text": "Sicking, \nLets see what kind of professionalism firefox is delivering.\nIts more than 6 months, already bandwidth/resources explanations gives; even earlier intention was clear to fix this; patch is also provided in attachment; but still post 6 months no progress on issue; as good as zero; except we are fighting over here.\nApplication gets accessed from different areas across globe; from high speed connection to low speed net; till date nobody has reported slowness behavior.\nDon't you think if it was so much of trouble in this method; why would one develop it & moreover why all other browsers except mozilla supports it?\n\n(In reply to Jonas Sicking (:sicking) Vacation June 11-22 from comment #61)\n> Given that this patch actually simplifies the event suppression code, it\n> actually seems worth driving in. And having things work in other browsers\n> but not in Firefox is generally a bad thing for our users.\n> \n> I looked over the current patch and it generally makes sense to me though\n> Olli should review. Would it make sense to review as-is or are there things\n> that should be looked into/fixed first?\n> \n> \n> amey: Yes, things *should* work in all browsers. However note that\n> synchronous XMLHttpRequest gives a bad experience in *all* browsers. The\n> specification for the API actually mandates that the webpage lock up while\n> the network request is happening. I.e. the spec actually mandates behavior\n> that is annoying to users.\n> \n> It might work fine for you, but if a customer of yours has a slow internet\n> connection, has some other program running at the same time which uses up a\n> lot of bandwidth or is travelling and is far away from your webserver, then\n> that customer will experience the webpage locking up. Again, this is the\n> case in *all* browsers and not just in Firefox. So even if you technically\n> should be able to keep the code as-is, it's beneficial for you, for reasons\n> beyond this bug, to switch to using asynchronous requests.\n> \n> I'll further note that nagging in this bug is not going to help get the\n> patch fixed sooner. In fact, I wouldn't be surprised if the momentum the\n> patch did have a few months ago was lost because of too many unhelpful\n> comments in this bug. There's also no need to quote whole comments that you\n> are replying to. This isn't email and everyone can see previous comments\n> quite easily.\n> \n> Please read the bugzilla etiquette guide here:\n> \n> https://bugzilla.mozilla.org/page.cgi?id=etiquette.html", "count": 63, "author": "amey7p@yahoo.com"}, {"attachment_id": null, "raw_text": "(In reply to amey from comment #63)\n> Sicking, \n> Lets see what kind of professionalism firefox is delivering.\n\nSomeone can probably explain it better, but: http://mozillamemes.tumblr.com/post/19404172326/youll-be-missed", "time": "2012-06-11T10:12:22Z", "tags": [], "author": "jesper@staunhansen.dk", "count": 64, "text": "(In reply to amey from comment #63)\n> Sicking, \n> Lets see what kind of professionalism firefox is delivering.\n\nSomeone can probably explain it better, but: http://mozillamemes.tumblr.com/post/19404172326/youll-be-missed", "creator": "jesper@staunhansen.dk", "creation_time": "2012-06-11T10:12:22Z", "is_private": false, "id": 6379741, "bug_id": 709746}, {"creator": "amey7p@yahoo.com", "creation_time": "2012-06-11T11:21:13Z", "is_private": false, "attachment_id": null, "tags": [], "text": "+1 & like\n\nSo sweet of you :)\n\n(In reply to Jesper Hansen from comment #64)\n> (In reply to amey from comment #63)\n> > Sicking, \n> > Lets see what kind of professionalism firefox is delivering.\n> \n> Someone can probably explain it better, but:\n> http://mozillamemes.tumblr.com/post/19404172326/youll-be-missed", "count": 65, "author": "amey7p@yahoo.com", "bug_id": 709746, "id": 6379865, "raw_text": "+1 & like\n\nSo sweet of you :)\n\n(In reply to Jesper Hansen from comment #64)\n> (In reply to amey from comment #63)\n> > Sicking, \n> > Lets see what kind of professionalism firefox is delivering.\n> \n> Someone can probably explain it better, but:\n> http://mozillamemes.tumblr.com/post/19404172326/youll-be-missed", "time": "2012-06-11T11:21:13Z"}, {"text": "Any plans to fix this[i guess fix is ready, review is pending from more than 1 year]?", "count": 66, "author": "amey7p@yahoo.com", "bug_id": 709746, "id": 7041383, "time": "2013-01-26T06:27:43Z", "raw_text": "Any plans to fix this[i guess fix is ready, review is pending from more than 1 year]?", "creator": "amey7p@yahoo.com", "is_private": false, "creation_time": "2013-01-26T06:27:43Z", "attachment_id": null, "tags": []}]}}, "comments": {}}