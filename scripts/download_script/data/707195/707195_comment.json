{"bugs": {"707195": {"comments": [{"author": "pwalton@mozilla.com", "creator": "pwalton@mozilla.com", "attachment_id": null, "time": "2011-12-02T17:02:38Z", "text": "On comments on news.ycombinator.com, comments get inflated to different sizes depending on their nesting depth, resulting in bizarre output. Hacker News uses nested <table> elements to render comments.", "creation_time": "2011-12-02T17:02:38Z", "raw_text": "On comments on news.ycombinator.com, comments get inflated to different sizes depending on their nesting depth, resulting in bizarre output. Hacker News uses nested <table> elements to render comments.", "bug_id": 707195, "id": 5888459, "count": 0, "is_private": false, "tags": []}, {"attachment_id": null, "time": "2011-12-07T22:37:38Z", "text": "*** Bug 707725 has been marked as a duplicate of this bug. ***", "creation_time": "2011-12-07T22:37:38Z", "raw_text": "", "bug_id": 707195, "id": 5898745, "tags": [], "is_private": false, "count": 1, "author": "dbaron@dbaron.org", "creator": "dbaron@dbaron.org"}, {"creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org", "text": "This might just well be expected behavior for sites like this.  I think iOS Safari may well do the same thing here.  Or does it somehow manage to do better?  (We could do better if we could determine which blocks were part of the same flow and which weren't, but I don't know any decent heuristic for that.)", "attachment_id": null, "time": "2011-12-07T22:40:04Z", "raw_text": "This might just well be expected behavior for sites like this.  I think iOS Safari may well do the same thing here.  Or does it somehow manage to do better?  (We could do better if we could determine which blocks were part of the same flow and which weren't, but I don't know any decent heuristic for that.)", "creation_time": "2011-12-07T22:40:04Z", "bug_id": 707195, "is_private": false, "count": 2, "tags": [], "id": 5898752}, {"bug_id": 707195, "tags": [], "count": 3, "is_private": false, "id": 5898766, "text": "I just looked at this on an iPhone, and while it happens some there, it's not nearly as bad.  Fewer comments are shrunk, and they're shrunk by less.", "attachment_id": null, "time": "2011-12-07T22:42:48Z", "raw_text": "I just looked at this on an iPhone, and while it happens some there, it's not nearly as bad.  Fewer comments are shrunk, and they're shrunk by less.", "creation_time": "2011-12-07T22:42:48Z", "creator": "samth@indiana.edu", "author": "samth@indiana.edu"}, {"author": "jaywir3@gmail.com", "creator": "jaywir3@gmail.com", "time": "2011-12-08T18:01:32Z", "attachment_id": 580084, "text": "Created attachment 580084\nScreenshot of the behavior\n\nThis screenshot is on an HTC evo 4g, with Nightly from 12-7-11.", "raw_text": "This screenshot is on an HTC evo 4g, with Nightly from 12-7-11.", "creation_time": "2011-12-08T18:01:32Z", "bug_id": 707195, "id": 5901114, "is_private": false, "count": 4, "tags": []}, {"time": "2011-12-08T19:49:47Z", "attachment_id": null, "author": "jaywir3@gmail.com", "creator": "jaywir3@gmail.com", "text": "(In reply to David Baron [:dbaron] from comment #2)\n> This might just well be expected behavior for sites like this.  I think iOS\n> Safari may well do the same thing here.  Or does it somehow manage to do\n> better?  (We could do better if we could determine which blocks were part of\n> the same flow and which weren't, but I don't know any decent heuristic for\n> that.)\n\nHmm.. well, could we take the outermost <table> element and somehow scale the font size to the largest available of all its children? So, for example, if we had:\n\n<table>\n<tr>\n<td>\nSome text 1\n</td>\n<td>\n  <table>\n  <tr>\n  <td>Some text 2.\n  </td>\n  </tr>\n  </table>\n</td>\n</tr>\n</table>\n\nIf we found an appropriate size to inflate the \"some text 2\" text at, could we bound \"some text 1\" by that, so that it can inflate to no greater than that size? \n\nIt would require a two-pass solution, though, since we'd have to figure out the font inflation size of all of a frame's children before we could set the font inflation size for that frame.", "creation_time": "2011-12-08T19:49:47Z", "raw_text": "(In reply to David Baron [:dbaron] from comment #2)\n> This might just well be expected behavior for sites like this.  I think iOS\n> Safari may well do the same thing here.  Or does it somehow manage to do\n> better?  (We could do better if we could determine which blocks were part of\n> the same flow and which weren't, but I don't know any decent heuristic for\n> that.)\n\nHmm.. well, could we take the outermost <table> element and somehow scale the font size to the largest available of all its children? So, for example, if we had:\n\n<table>\n<tr>\n<td>\nSome text 1\n</td>\n<td>\n  <table>\n  <tr>\n  <td>Some text 2.\n  </td>\n  </tr>\n  </table>\n</td>\n</tr>\n</table>\n\nIf we found an appropriate size to inflate the \"some text 2\" text at, could we bound \"some text 1\" by that, so that it can inflate to no greater than that size? \n\nIt would require a two-pass solution, though, since we'd have to figure out the font inflation size of all of a frame's children before we could set the font inflation size for that frame.", "bug_id": 707195, "id": 5901661, "count": 5, "is_private": false, "tags": []}, {"creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org", "creation_time": "2011-12-09T04:28:53Z", "raw_text": "The problem is that it's hard to distinguish that case from the (probably more common) case where the outer table doesn't have any text in it and the inner table does have text in it.  In that case, we want the inflation to be based on the inner table.", "text": "The problem is that it's hard to distinguish that case from the (probably more common) case where the outer table doesn't have any text in it and the inner table does have text in it.  In that case, we want the inflation to be based on the inner table.", "attachment_id": null, "time": "2011-12-09T04:28:53Z", "is_private": false, "count": 6, "tags": [], "id": 5903302, "bug_id": 707195}, {"creator": "emanuel.hoogeveen@protonmail.com", "author": "emanuel.hoogeveen@protonmail.com", "text": "Isn't that the case that Scott was talking about? That is, he proposed the text in the outer table (Some text 1) be bounded (from above) by the text in the inner table (Some text 2.), if I'm reading his comment right.", "attachment_id": null, "time": "2011-12-10T11:24:38Z", "raw_text": "Isn't that the case that Scott was talking about? That is, he proposed the text in the outer table (Some text 1) be bounded (from above) by the text in the inner table (Some text 2.), if I'm reading his comment right.", "creation_time": "2011-12-10T11:24:38Z", "bug_id": 707195, "count": 7, "is_private": false, "tags": [], "id": 5906267}, {"author": "emanuel.hoogeveen@protonmail.com", "creator": "emanuel.hoogeveen@protonmail.com", "time": "2011-12-10T11:30:41Z", "attachment_id": null, "text": "Ah, I should clarify, I mean that regardless of whether there's any text in the outer table, what he proposed would not impose any (additional) limits on text in the inner table.", "raw_text": "Ah, I should clarify, I mean that regardless of whether there's any text in the outer table, what he proposed would not impose any (additional) limits on text in the inner table.", "creation_time": "2011-12-10T11:30:41Z", "bug_id": 707195, "id": 5906270, "tags": [], "count": 8, "is_private": false}, {"creation_time": "2012-02-24T03:27:25Z", "raw_text": "Beta blockers.", "time": "2012-02-24T03:27:25Z", "attachment_id": null, "text": "Beta blockers.", "id": 6089062, "tags": [], "count": 9, "is_private": false, "bug_id": 707195, "author": "jpr@mozilla.com", "creator": "jpr@mozilla.com"}, {"id": 6111208, "is_private": false, "count": 10, "tags": [], "bug_id": 707195, "raw_text": "I thought I had a plan for fixing this in bug 706193 comment 13, but I don't think it's going to work.  I think this should not be a beta blocker, and should perhaps even be wontfix.", "creation_time": "2012-03-03T00:07:01Z", "time": "2012-03-03T00:07:01Z", "attachment_id": null, "text": "I thought I had a plan for fixing this in bug 706193 comment 13, but I don't think it's going to work.  I think this should not be a beta blocker, and should perhaps even be wontfix.", "author": "dbaron@dbaron.org", "creator": "dbaron@dbaron.org"}, {"count": 11, "is_private": false, "tags": [], "id": 6111249, "bug_id": 707195, "raw_text": "Actually, I think I can make it work by only considering the widths of things that are ancestors of the first piece of text -- I think that should be sufficient, and we know those.", "creation_time": "2012-03-03T00:21:04Z", "text": "Actually, I think I can make it work by only considering the widths of things that are ancestors of the first piece of text -- I think that should be sufficient, and we know those.", "attachment_id": null, "time": "2012-03-03T00:21:04Z", "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org"}, {"attachment_id": null, "time": "2012-03-20T16:22:02Z", "text": "Reassigning to dbaron, since he's attacking this in combination with bug 706193.", "creation_time": "2012-03-20T16:22:02Z", "raw_text": "Reassigning to dbaron, since he's attacking this in combination with bug 706193.", "bug_id": 707195, "id": 6155459, "is_private": false, "count": 12, "tags": [], "author": "jaywir3@gmail.com", "creator": "jaywir3@gmail.com"}, {"author": "jaywir3@gmail.com", "creator": "jaywir3@gmail.com", "bug_id": 707195, "id": 6214304, "tags": [], "count": 13, "is_private": false, "time": "2012-04-11T17:14:04Z", "attachment_id": null, "text": "dbaron, \n\nblassey asked for status on this bug during the mobile engineering meeting today. I said you told me that this likely won't be worth fixing, but I just wanted to ping you for an update in the bug, in the event that something has changed since last we spoke.", "creation_time": "2012-04-11T17:14:04Z", "raw_text": "dbaron, \n\nblassey asked for status on this bug during the mobile engineering meeting today. I said you told me that this likely won't be worth fixing, but I just wanted to ping you for an update in the bug, in the event that something has changed since last we spoke."}, {"tags": [], "is_private": false, "count": 14, "id": 6219278, "bug_id": 707195, "raw_text": "This was previously blocking-fennec1.0: beta+.  I'm renominating with the suggestion that we punt on this bug for now and minus it.\n\nI tried to fix this as part of work on bug 706193, but I couldn't find a reasonable way around the basic chicken-and-egg problem:  to fix this we'd want to know the widths of the containers of all the text, which requires doing layout on the whole subtree (or at least a decent part of it), but we need to know the inflation numbers before we do layout.  (It's probably doable by constructing reflow states for the entire subtree as we walk it, but that would be a significant performance hit that I don't think we want to take.)\n\nFor the record, the point where I gave up was https://hg.mozilla.org/users/dbaron_mozilla.com/patches/rev/3b2eb3585f6a\n\nI'd also note that at least based on my memory, I think iOS Safari has similar behavior on this site, though comment 3 notes that our differentiation is more drastic.", "creation_time": "2012-04-12T22:50:10Z", "text": "This was previously blocking-fennec1.0: beta+.  I'm renominating with the suggestion that we punt on this bug for now and minus it.\n\nI tried to fix this as part of work on bug 706193, but I couldn't find a reasonable way around the basic chicken-and-egg problem:  to fix this we'd want to know the widths of the containers of all the text, which requires doing layout on the whole subtree (or at least a decent part of it), but we need to know the inflation numbers before we do layout.  (It's probably doable by constructing reflow states for the entire subtree as we walk it, but that would be a significant performance hit that I don't think we want to take.)\n\nFor the record, the point where I gave up was https://hg.mozilla.org/users/dbaron_mozilla.com/patches/rev/3b2eb3585f6a\n\nI'd also note that at least based on my memory, I think iOS Safari has similar behavior on this site, though comment 3 notes that our differentiation is more drastic.", "attachment_id": null, "time": "2012-04-12T22:50:10Z", "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org"}, {"tags": [], "count": 15, "is_private": false, "id": 6219298, "bug_id": 707195, "creation_time": "2012-04-12T22:59:39Z", "raw_text": "(In reply to David Baron [:dbaron] from comment #14)\n> This was previously blocking-fennec1.0: beta+.  I'm renominating with the\n> suggestion that we punt on this bug for now and minus it.\n>\n> I'd also note that at least based on my memory, I think iOS Safari has\n> similar behavior on this site, though comment 3 notes that our\n> differentiation is more drastic.\n\nI read HN a lot on my phone, and this bug makes it a pretty poor experience.  Somewhere between 1 in 5 and 1 in 10 comments are unreadable.  The iOS Safari experience is very different -- you can tell there's a bug, but every comment is readable.", "text": "(In reply to David Baron [:dbaron] from comment #14)\n> This was previously blocking-fennec1.0: beta+.  I'm renominating with the\n> suggestion that we punt on this bug for now and minus it.\n>\n> I'd also note that at least based on my memory, I think iOS Safari has\n> similar behavior on this site, though comment 3 notes that our\n> differentiation is more drastic.\n\nI read HN a lot on my phone, and this bug makes it a pretty poor experience.  Somewhere between 1 in 5 and 1 in 10 comments are unreadable.  The iOS Safari experience is very different -- you can tell there's a bug, but every comment is readable.", "attachment_id": null, "time": "2012-04-12T22:59:39Z", "creator": "samth@indiana.edu", "author": "samth@indiana.edu"}, {"id": 6226988, "count": 16, "is_private": false, "tags": [], "bug_id": 707195, "raw_text": "dbaron, we talked through a strategy for fixing this a few weeks ago. What has changed since then?", "creation_time": "2012-04-16T20:12:53Z", "attachment_id": null, "time": "2012-04-16T20:12:53Z", "author": "lassey@chromium.org", "creator": "lassey@chromium.org", "text": "dbaron, we talked through a strategy for fixing this a few weeks ago. What has changed since then?"}, {"raw_text": "I tried doing it, and couldn't figure out how (see comment 14).\n\n(Once display list based invalidation lands, we can probably make some architectural changes to Reflow that would make this easier, though.)", "creation_time": "2012-04-16T23:08:08Z", "attachment_id": null, "time": "2012-04-16T23:08:08Z", "author": "dbaron@dbaron.org", "text": "I tried doing it, and couldn't figure out how (see comment 14).\n\n(Once display list based invalidation lands, we can probably make some architectural changes to Reflow that would make this easier, though.)", "creator": "dbaron@dbaron.org", "id": 6227704, "is_private": false, "count": 17, "tags": [], "bug_id": 707195}, {"author": "dmandelin@mozilla.com", "creator": "dmandelin@mozilla.com", "raw_text": "I see very similar behavior on the headlines on reddit.com. (Also see http://reddit.com/r/TrueReddit) Desktop and Opera Mobile both display it correctly.", "creation_time": "2012-04-23T17:41:38Z", "attachment_id": null, "time": "2012-04-23T17:41:38Z", "text": "I see very similar behavior on the headlines on reddit.com. (Also see http://reddit.com/r/TrueReddit) Desktop and Opera Mobile both display it correctly.", "id": 6246197, "tags": [], "is_private": false, "count": 18, "bug_id": 707195}, {"creator": "lassey@chromium.org", "author": "lassey@chromium.org", "tags": [], "is_private": false, "count": 19, "id": 6253917, "bug_id": 707195, "raw_text": "", "creation_time": "2012-04-25T19:06:34Z", "text": "*** Bug 748446 has been marked as a duplicate of this bug. ***", "attachment_id": null, "time": "2012-04-25T19:06:34Z"}, {"author": "dbaron@dbaron.org", "creator": "dbaron@dbaron.org", "id": 6254304, "count": 20, "is_private": false, "tags": [], "bug_id": 707195, "raw_text": "An easier way to fix this just occurred to me,  I think:  just use the ncaWidth that we compute in the nsFontInflationData for the width (and thus mostly get rid of the idea of a font inflation container).", "creation_time": "2012-04-25T20:49:51Z", "time": "2012-04-25T20:49:51Z", "attachment_id": null, "text": "An easier way to fix this just occurred to me,  I think:  just use the ncaWidth that we compute in the nsFontInflationData for the width (and thus mostly get rid of the idea of a font inflation container)."}, {"author": "dbaron@dbaron.org", "creator": "dbaron@dbaron.org", "time": "2012-04-26T20:25:57Z", "attachment_id": null, "text": "Actually, that would likely fix reddit, but it wouldn't fix ycombinator since ycombinator is using a separate table for each comment.", "creation_time": "2012-04-26T20:25:57Z", "raw_text": "Actually, that would likely fix reddit, but it wouldn't fix ycombinator since ycombinator is using a separate table for each comment.", "bug_id": 707195, "id": 6257826, "count": 21, "is_private": false, "tags": []}, {"bug_id": 707195, "is_private": false, "count": 22, "tags": [], "id": 6259813, "text": "Can we do the reddit fix and then continue on with ycombinator as a separate bug?", "creator": "jpr@mozilla.com", "time": "2012-04-27T12:22:25Z", "attachment_id": null, "author": "jpr@mozilla.com", "raw_text": "Can we do the reddit fix and then continue on with ycombinator as a separate bug?", "creation_time": "2012-04-27T12:22:25Z"}, {"creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org", "text": "I have a set of patches, but it doesn't fix reddit either.  Not sure where to put it.  It's possible it might be useful as progress towards a fix, but I'm skeptical.  (Need to debug reddit a bit, but for some reason the inspector devtool mysteriously stopped working for me, so I need to figure out how to get it working again to do so.)\n\nThere's a danger to trying to tweak this continuously.  What font inflation is is a set of heuristics to (a) figure out what text forms a coherent chunk and ought to be treated together and (b) to figure out which pieces of text are safe to be inflated without breaking the page.  Any changes to these heuristics to fix one page have a risk of breaking another page, and they (being heuristics) are never going to be perfect.  At some point we have to stop tweaking and either decide that we want the feature as a whole or we don't want it; I'd like to know when that's going to be.  (If we don't want it, an alternative is implementing Android-browser-style zooming that reflows on rewrap.)\n\nI'd also note that (from memory, it's been a little while since I've done this testing, but perhaps somebody could verify) other mobile browsers don't do particularly well on this sort of page either.  My memory is that, on news.ycombinator.com comment pages:\n * iOS Safari (which also uses a font inflation approach) limits its inflation and thus preserves the visual appearance better but also doesn't actually inflate the text enough so that it's readable, which thus means that scrolling side-to-side for each line is needed (at least with the device in portait mode)\n * Opera mobile does a bit better, but still requires (as we do) resetting of context for reading each comment (not as bad as for each line), though in Opera mobile's case the context the user has to change is only horizontal panning rather than panning and zooming\n * Android native browser (on my Android devices, anyway) does nothing at all to make the text readable, and it requires scrolling side-to-side for each line.  (On some Android versions or devices the Android native browser takes a zooming approach like what I see on Opera mobile, but I haven't actually seen that in action for ages, since I don't have such a device/version.)", "time": "2012-04-27T16:44:03Z", "attachment_id": null, "creation_time": "2012-04-27T16:44:03Z", "raw_text": "I have a set of patches, but it doesn't fix reddit either.  Not sure where to put it.  It's possible it might be useful as progress towards a fix, but I'm skeptical.  (Need to debug reddit a bit, but for some reason the inspector devtool mysteriously stopped working for me, so I need to figure out how to get it working again to do so.)\n\nThere's a danger to trying to tweak this continuously.  What font inflation is is a set of heuristics to (a) figure out what text forms a coherent chunk and ought to be treated together and (b) to figure out which pieces of text are safe to be inflated without breaking the page.  Any changes to these heuristics to fix one page have a risk of breaking another page, and they (being heuristics) are never going to be perfect.  At some point we have to stop tweaking and either decide that we want the feature as a whole or we don't want it; I'd like to know when that's going to be.  (If we don't want it, an alternative is implementing Android-browser-style zooming that reflows on rewrap.)\n\nI'd also note that (from memory, it's been a little while since I've done this testing, but perhaps somebody could verify) other mobile browsers don't do particularly well on this sort of page either.  My memory is that, on news.ycombinator.com comment pages:\n * iOS Safari (which also uses a font inflation approach) limits its inflation and thus preserves the visual appearance better but also doesn't actually inflate the text enough so that it's readable, which thus means that scrolling side-to-side for each line is needed (at least with the device in portait mode)\n * Opera mobile does a bit better, but still requires (as we do) resetting of context for reading each comment (not as bad as for each line), though in Opera mobile's case the context the user has to change is only horizontal panning rather than panning and zooming\n * Android native browser (on my Android devices, anyway) does nothing at all to make the text readable, and it requires scrolling side-to-side for each line.  (On some Android versions or devices the Android native browser takes a zooming approach like what I see on Opera mobile, but I haven't actually seen that in action for ages, since I don't have such a device/version.)", "bug_id": 707195, "tags": [], "is_private": false, "count": 23, "id": 6260737}, {"creation_time": "2012-04-27T21:54:59Z", "raw_text": "(The reason we don't inflate reddit at all, by the way, is that we detect it as a mobile site because of its <meta name=\"viewport\" content=\"width=1024\" />, which leads to nsContentUtils::GetViewportInfo returning a value that has defaultZoom set to 1.0, which in turn means that nsLayoutUtils::FontSizeInflationEnabled returns false.)", "time": "2012-04-27T21:54:59Z", "attachment_id": null, "text": "(The reason we don't inflate reddit at all, by the way, is that we detect it as a mobile site because of its <meta name=\"viewport\" content=\"width=1024\" />, which leads to nsContentUtils::GetViewportInfo returning a value that has defaultZoom set to 1.0, which in turn means that nsLayoutUtils::FontSizeInflationEnabled returns false.)", "id": 6261716, "tags": [], "count": 24, "is_private": false, "bug_id": 707195, "author": "dbaron@dbaron.org", "creator": "dbaron@dbaron.org"}, {"bug_id": 707195, "count": 25, "is_private": false, "tags": [], "id": 6261729, "text": "And the reason the patches wouldn't fix reddit even without the <meta viewport> is reddit's use of overflow:hidden/overflow:auto in a bunch of places, which creates an inflation flow root.  Now, I think I could change things so that overflow:hidden / overflow:auto don't make something an inflation flow root, except I remember dealing with that case when working on bug 706193, so I think either (a) there was some technical issue that made that necessary to avoid crashing or (b) one of the sites that was fixed by bug 706193 depended on making overflow!=visible make something an inflation flow root.\n\nFor the record, the patches I'm testing are:\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/save-nca-width\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/change-to-auto-disable-for-shrink-wrap\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/use-constant-width\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/fix-list-control-frame\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/remove-width-determination\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/remove-current-inflation-container\nand they might be a useful simplification anyway.", "time": "2012-04-27T22:04:57Z", "attachment_id": null, "creation_time": "2012-04-27T22:04:57Z", "raw_text": "And the reason the patches wouldn't fix reddit even without the <meta viewport> is reddit's use of overflow:hidden/overflow:auto in a bunch of places, which creates an inflation flow root.  Now, I think I could change things so that overflow:hidden / overflow:auto don't make something an inflation flow root, except I remember dealing with that case when working on bug 706193, so I think either (a) there was some technical issue that made that necessary to avoid crashing or (b) one of the sites that was fixed by bug 706193 depended on making overflow!=visible make something an inflation flow root.\n\nFor the record, the patches I'm testing are:\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/save-nca-width\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/change-to-auto-disable-for-shrink-wrap\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/use-constant-width\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/fix-list-control-frame\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/remove-width-determination\nhttps://hg.mozilla.org/users/dbaron_mozilla.com/patches/raw-file/a54e29a0bbb6/remove-current-inflation-container\nand they might be a useful simplification anyway.", "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org"}, {"author": "mark.finkle@gmail.com", "creator": "mark.finkle@gmail.com", "raw_text": "Madhava, Ian: We're interested in your thoughts on this issue.", "creation_time": "2012-05-01T19:20:16Z", "time": "2012-05-01T19:20:16Z", "attachment_id": null, "text": "Madhava, Ian: We're interested in your thoughts on this issue.", "id": 6270015, "tags": [], "is_private": false, "count": 26, "bug_id": 707195}, {"time": "2012-05-01T19:45:23Z", "attachment_id": null, "text": "From a UX perspective, we should really try to fix this somehow. Reddit and ycombinator look terrible in our browser right now. Some examples:\n\nycombinator http://cl.ly/0l2f2v0p3v0e290J0A0W\n\nReddit http://cl.ly/1M452m2a2D3D04070S1I\n\nThese pages look perfectly fine in stock Browser -- they are a little wonky in Chrome but still better than us.", "creation_time": "2012-05-01T19:45:23Z", "raw_text": "From a UX perspective, we should really try to fix this somehow. Reddit and ycombinator look terrible in our browser right now. Some examples:\n\nycombinator http://cl.ly/0l2f2v0p3v0e290J0A0W\n\nReddit http://cl.ly/1M452m2a2D3D04070S1I\n\nThese pages look perfectly fine in stock Browser -- they are a little wonky in Chrome but still better than us.", "bug_id": 707195, "id": 6270121, "tags": [], "is_private": false, "count": 27, "author": "ibarlow@mozilla.com", "creator": "ibarlow@mozilla.com"}, {"creation_time": "2012-05-07T16:47:02Z", "raw_text": "", "text": "*** Bug 748026 has been marked as a duplicate of this bug. ***", "time": "2012-05-07T16:47:02Z", "attachment_id": null, "tags": [], "count": 28, "is_private": false, "id": 6285932, "bug_id": 707195, "creator": "nhirata.bugzilla@gmail.com", "author": "nhirata.bugzilla@gmail.com"}, {"time": "2012-05-08T14:11:41Z", "attachment_id": null, "text": "*** Bug 752429 has been marked as a duplicate of this bug. ***", "raw_text": "", "creation_time": "2012-05-08T14:11:41Z", "bug_id": 707195, "id": 6289163, "tags": [], "is_private": false, "count": 29, "author": "aaron.train@gmail.com", "creator": "aaron.train@gmail.com"}, {"time": "2012-05-17T15:26:06Z", "attachment_id": null, "author": "n.t.koopman@nandoe.net", "text": "(In reply to David Baron [:dbaron] from comment #23)\n> I'd also note that (from memory, it's been a little while since I've done\n> this testing, but perhaps somebody could verify) other mobile browsers don't\n> do particularly well on this sort of page either. \n\nSo, from this post I assume that text inflation is not standardised? Maybe getting some input from other vendors would be a good idea before this turns into another endless source of frustration for designers.", "creator": "n.t.koopman@nandoe.net", "raw_text": "(In reply to David Baron [:dbaron] from comment #23)\n> I'd also note that (from memory, it's been a little while since I've done\n> this testing, but perhaps somebody could verify) other mobile browsers don't\n> do particularly well on this sort of page either. \n\nSo, from this post I assume that text inflation is not standardised? Maybe getting some input from other vendors would be a good idea before this turns into another endless source of frustration for designers.", "creation_time": "2012-05-17T15:26:06Z", "bug_id": 707195, "id": 6315735, "is_private": false, "count": 30, "tags": []}, {"creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org", "is_private": false, "count": 31, "tags": [], "id": 6316725, "bug_id": 707195, "raw_text": "(In reply to Tim from comment #30)\n> So, from this post I assume that text inflation is not standardised? Maybe\n> getting some input from other vendors would be a good idea before this turns\n> into another endless source of frustration for designers.\n\nI've started trying to do this; see http://dev.w3.org/csswg/css-size-adjust/ .  However, so far Apple hasn't provided feedback.  (And I also haven't had a chance to update it to changes I've made recently.)", "creation_time": "2012-05-17T19:56:00Z", "text": "(In reply to Tim from comment #30)\n> So, from this post I assume that text inflation is not standardised? Maybe\n> getting some input from other vendors would be a good idea before this turns\n> into another endless source of frustration for designers.\n\nI've started trying to do this; see http://dev.w3.org/csswg/css-size-adjust/ .  However, so far Apple hasn't provided feedback.  (And I also haven't had a chance to update it to changes I've made recently.)", "attachment_id": null, "time": "2012-05-17T19:56:00Z"}, {"text": "(In reply to David Baron [:dbaron] from comment #25)\n> And the reason the patches wouldn't fix reddit even without the <meta\n> viewport> is reddit's use of overflow:hidden/overflow:auto in a bunch of\n> places, which creates an inflation flow root.  Now, I think I could change\n> things so that overflow:hidden / overflow:auto don't make something an\n> inflation flow root, except I remember dealing with that case when working\n> on bug 706193, so I think either (a) there was some technical issue that\n> made that necessary to avoid crashing or (b) one of the sites that was fixed\n> by bug 706193 depended on making overflow!=visible make something an\n> inflation flow root.\n\nIt turns out to be (b) -- removing this breaks http://www.nytimes.com/ again (the original problem in bug 706193), though probably most of the other things fixed by bug 706193 are still fixed.", "attachment_id": null, "time": "2012-05-18T14:51:40Z", "creation_time": "2012-05-18T14:51:40Z", "raw_text": "(In reply to David Baron [:dbaron] from comment #25)\n> And the reason the patches wouldn't fix reddit even without the <meta\n> viewport> is reddit's use of overflow:hidden/overflow:auto in a bunch of\n> places, which creates an inflation flow root.  Now, I think I could change\n> things so that overflow:hidden / overflow:auto don't make something an\n> inflation flow root, except I remember dealing with that case when working\n> on bug 706193, so I think either (a) there was some technical issue that\n> made that necessary to avoid crashing or (b) one of the sites that was fixed\n> by bug 706193 depended on making overflow!=visible make something an\n> inflation flow root.\n\nIt turns out to be (b) -- removing this breaks http://www.nytimes.com/ again (the original problem in bug 706193), though probably most of the other things fixed by bug 706193 are still fixed.", "bug_id": 707195, "count": 32, "is_private": false, "tags": [], "id": 6318923, "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org"}, {"bug_id": 707195, "tags": [], "is_private": false, "count": 33, "id": 6319640, "creator": "dbaron@dbaron.org", "text": "(In reply to David Baron [:dbaron] from comment #32)\n> (In reply to David Baron [:dbaron] from comment #25)\n> > And the reason the patches wouldn't fix reddit even without the <meta\n> > viewport> is reddit's use of overflow:hidden/overflow:auto in a bunch of\n> > places, which creates an inflation flow root.  Now, I think I could change\n> > things so that overflow:hidden / overflow:auto don't make something an\n> > inflation flow root, except I remember dealing with that case when working\n> > on bug 706193, so I think either (a) there was some technical issue that\n> > made that necessary to avoid crashing or (b) one of the sites that was fixed\n> > by bug 706193 depended on making overflow!=visible make something an\n> > inflation flow root.\n> \n> It turns out to be (b) -- removing this breaks http://www.nytimes.com/ again\n> (the original problem in bug 706193), though probably most of the other\n> things fixed by bug 706193 are still fixed.\n\nEr, oops, I was testing in a build with a non-default lineThreshold pref.  It actually seems fine.", "author": "dbaron@dbaron.org", "attachment_id": null, "time": "2012-05-18T18:33:53Z", "raw_text": "(In reply to David Baron [:dbaron] from comment #32)\n> (In reply to David Baron [:dbaron] from comment #25)\n> > And the reason the patches wouldn't fix reddit even without the <meta\n> > viewport> is reddit's use of overflow:hidden/overflow:auto in a bunch of\n> > places, which creates an inflation flow root.  Now, I think I could change\n> > things so that overflow:hidden / overflow:auto don't make something an\n> > inflation flow root, except I remember dealing with that case when working\n> > on bug 706193, so I think either (a) there was some technical issue that\n> > made that necessary to avoid crashing or (b) one of the sites that was fixed\n> > by bug 706193 depended on making overflow!=visible make something an\n> > inflation flow root.\n> \n> It turns out to be (b) -- removing this breaks http://www.nytimes.com/ again\n> (the original problem in bug 706193), though probably most of the other\n> things fixed by bug 706193 are still fixed.\n\nEr, oops, I was testing in a build with a non-default lineThreshold pref.  It actually seems fine.", "creation_time": "2012-05-18T18:33:53Z"}, {"creation_time": "2012-05-18T19:02:31Z", "raw_text": "I'm going to put the first phase of work for this bug in bug 747720, since that's the first dependency I found that's entirely fixed by that first phase.  (I think reddit also would be, if it weren't for bug 756518.)", "attachment_id": null, "time": "2012-05-18T19:02:31Z", "text": "I'm going to put the first phase of work for this bug in bug 747720, since that's the first dependency I found that's entirely fixed by that first phase.  (I think reddit also would be, if it weren't for bug 756518.)", "id": 6319749, "count": 34, "is_private": false, "tags": [], "bug_id": 707195, "author": "dbaron@dbaron.org", "creator": "dbaron@dbaron.org"}, {"author": "dbaron@dbaron.org", "creator": "dbaron@dbaron.org", "bug_id": 707195, "id": 6325618, "is_private": false, "count": 35, "tags": [], "time": "2012-05-21T23:02:19Z", "attachment_id": null, "text": "So, the basic thing with tables is that we want:\n (a) data tables *not* to make inflation flow roots\n (b) layout tables used for indentation *not* to make inflation flow roots (required to fix this bug)\n (c) layout tables used as grids to make their cells inflation flow roots (required not to break http://www.nytimes.com/)\n\nThe question is how to find a way to distinguish case (c) from cases (a) and (b) that:\n (1) is accurate enough\n (2) doesn't involve too many heuristics that make it hard for authors to understand the behavior\n (3) doesn't cause too many cases where a tiny change to the page can cause the result to change\n\nI'm still thinking about whether it's better to start from the assumption that we do want to make cells flow roots and look for cases where we shouldn't, or the other way around.", "raw_text": "So, the basic thing with tables is that we want:\n (a) data tables *not* to make inflation flow roots\n (b) layout tables used for indentation *not* to make inflation flow roots (required to fix this bug)\n (c) layout tables used as grids to make their cells inflation flow roots (required not to break http://www.nytimes.com/)\n\nThe question is how to find a way to distinguish case (c) from cases (a) and (b) that:\n (1) is accurate enough\n (2) doesn't involve too many heuristics that make it hard for authors to understand the behavior\n (3) doesn't cause too many cases where a tiny change to the page can cause the result to change\n\nI'm still thinking about whether it's better to start from the assumption that we do want to make cells flow roots and look for cases where we shouldn't, or the other way around.", "creation_time": "2012-05-21T23:02:19Z"}, {"creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org", "is_private": false, "count": 36, "tags": [], "id": 6338691, "bug_id": 707195, "raw_text": "So I have a patch that fixes this while simultaneously not breaking bug 706193.  However, it uses a complicated condition that feels to me like it's just fixing a single site, and I think it's a bad idea to complicate the Web platform to fix a single site rather than to fix a real pattern.\n\nI've made a set of three test builds to allow others to test this.  They vary in when they consider table cells to be a barrier for scoping the region in which we make font size inflation decisions.\n\nThe first build is equivalent to a mozilla-central build from a few days ago (in particular, based on https://hg.mozilla.org/mozilla-central/rev/8cf563a575fd) and always considers table cells to be a barrier:\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/dbaron@mozilla.com-869b1a345058/\n\nThe second build uses the complicated condition that fixes this bug while not breaking bug 706193:\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/dbaron@mozilla.com-b53b151c3f00/\n\nThe third build changes to *never* considers table cells to be a barrier, which fixes this bug *and* breaks bug 706193:\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/dbaron@mozilla.com-d4cc4ac5c1c7/\n\nSo what I'd like to know is:\n (a) where do the first and third builds produce different behavior?  (So far, the only two sites I know of are ycombinator.com comments and the nytimes.com homepage)\n (b) in each of those cases, which of the first and third build is better, and does the second build go with the better option?\n\nObvious places to look for things to test are dependencies/blockers of this bug, bug 706193, and bug 747720, but perhaps any other readibility bugs.", "creation_time": "2012-05-25T16:24:57Z", "text": "So I have a patch that fixes this while simultaneously not breaking bug 706193.  However, it uses a complicated condition that feels to me like it's just fixing a single site, and I think it's a bad idea to complicate the Web platform to fix a single site rather than to fix a real pattern.\n\nI've made a set of three test builds to allow others to test this.  They vary in when they consider table cells to be a barrier for scoping the region in which we make font size inflation decisions.\n\nThe first build is equivalent to a mozilla-central build from a few days ago (in particular, based on https://hg.mozilla.org/mozilla-central/rev/8cf563a575fd) and always considers table cells to be a barrier:\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/dbaron@mozilla.com-869b1a345058/\n\nThe second build uses the complicated condition that fixes this bug while not breaking bug 706193:\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/dbaron@mozilla.com-b53b151c3f00/\n\nThe third build changes to *never* considers table cells to be a barrier, which fixes this bug *and* breaks bug 706193:\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/dbaron@mozilla.com-d4cc4ac5c1c7/\n\nSo what I'd like to know is:\n (a) where do the first and third builds produce different behavior?  (So far, the only two sites I know of are ycombinator.com comments and the nytimes.com homepage)\n (b) in each of those cases, which of the first and third build is better, and does the second build go with the better option?\n\nObvious places to look for things to test are dependencies/blockers of this bug, bug 706193, and bug 747720, but perhaps any other readibility bugs.", "attachment_id": null, "time": "2012-05-25T16:24:57Z"}, {"tags": [], "count": 37, "is_private": false, "id": 6338695, "bug_id": 707195, "creation_time": "2012-05-25T16:26:49Z", "raw_text": "And I'd note that it may be easier to test using the desktop builds by setting the font.size.inflation.emPerLine preference to some number in the range 10-20 than by typing lots of urls on the Android builds.", "text": "And I'd note that it may be easier to test using the desktop builds by setting the font.size.inflation.emPerLine preference to some number in the range 10-20 than by typing lots of urls on the Android builds.", "time": "2012-05-25T16:26:49Z", "attachment_id": null, "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org"}, {"text": "And one further note:  any bug where builds one and three don't make a difference should not be a dependency of this bug.", "time": "2012-05-25T17:07:49Z", "attachment_id": null, "creation_time": "2012-05-25T17:07:49Z", "raw_text": "And one further note:  any bug where builds one and three don't make a difference should not be a dependency of this bug.", "bug_id": 707195, "tags": [], "is_private": false, "count": 38, "id": 6338840, "creator": "dbaron@dbaron.org", "author": "dbaron@dbaron.org"}, {"attachment_id": null, "time": "2012-05-29T22:39:57Z", "text": "Re-nomming this one to force a re-test against the posted builds.", "creation_time": "2012-05-29T22:39:57Z", "raw_text": "Re-nomming this one to force a re-test against the posted builds.", "bug_id": 707195, "id": 6346815, "tags": [], "is_private": false, "count": 39, "author": "bugs@junglecode.net", "creator": "bugs@junglecode.net"}, {"author": "xian_nicolae2004@yahoo.com", "creator": "xian_nicolae2004@yahoo.com", "id": 6355338, "count": 40, "is_private": false, "tags": [], "bug_id": 707195, "creation_time": "2012-06-01T13:13:59Z", "raw_text": "Build 1\n\n    Bugzilla: font inflation issue is noticeable for the text on the Search button and for the text above the Search input field. Rotating the device to landscape will not resolve the issue and it still persist if the device is switched back to portrait.\n    Google News: the main news frame covers the entire screen when the page is loaded for the 1st time and if the page is panned, bug 747720 is easy noticeable for some news entries. The left and right frames are not displayed at all. If the device is switched to landscape and then back to portrait, the font inflation issues seems to be fixed.\n    NYTimes: the webpage looks fine both in portrait in landscape. If the page orientation is changed, no changes will occur regarding the font inflation.\n    YouTube: the main frame which contain the videos list, looks really bad. Text is hyper inflated and rotating the device, will not fix the issue. It seems to be permanent, like for the Bugzilla case.\n\n\nBuild 2\n\n    Bugzilla: font is inflated much more than the 1st build. If the device orientation is switched to landscape and back to portrait, will not resolve the font inflation issue.\n    Google News: all 3 frames are displayed even from the 1st page load. The text from the main frame is a little bit more inflated than the side frames, but it looks OK. If the page is switched to landscape and then back to portrait, the text from the main frame seems to be smaller than it was just after the page was loaded, and also quite the same level as it on the left and right frame. So the Google News will look perfect in this case if the white space between the main frame and the right one will be reduced.\n    NYTimes: the font seems to be a little bit less inflated than it is on the 1st build, but the difference is barely noticeable. The webpage looks fine\n    YouTube: there is the same result as for the 1st build.\n\n\nBuild 3\n\n    Bugzilla: the font seems to be even more inflated than it is for the first 2 builds. Again, there are no changes if the device orientation is switched to landscape and back to portrait.\n    Google News: there are no words to describe how bad this page looks when it's loaded for the 1st time (see attached screenshots for build 3). After the device rotation, the font inflation issue still persist and the page still look really bad,\n    NYTimes: the page's footer is highly inflated and also the Inside NYTimes.com section look horrible (we have to mention that the page cannot be panned on that side and things might be complicated when that section covers the entire screen)\n    YouTube: there is the same result as for the 1st build.\n\n\nConclusions:\n\n- Build 3 is far the worst test build.\n- Build 2 is better then the 1st one, because of the good layout shapes for Google News and NYTimes, but none of them could even candidate for the final release in our opinion\n- Bugzilla and YouTube pages looks awful on all 3 test builds, but as David said in bug 707195 c#36, a real pattern should be fixed, instead of fixing individual websites", "attachment_id": 629163, "time": "2012-06-01T13:13:59Z", "text": "Created attachment 629163\nscreenshots\n\nBuild 1\n\n    Bugzilla: font inflation issue is noticeable for the text on the Search button and for the text above the Search input field. Rotating the device to landscape will not resolve the issue and it still persist if the device is switched back to portrait.\n    Google News: the main news frame covers the entire screen when the page is loaded for the 1st time and if the page is panned, bug 747720 is easy noticeable for some news entries. The left and right frames are not displayed at all. If the device is switched to landscape and then back to portrait, the font inflation issues seems to be fixed.\n    NYTimes: the webpage looks fine both in portrait in landscape. If the page orientation is changed, no changes will occur regarding the font inflation.\n    YouTube: the main frame which contain the videos list, looks really bad. Text is hyper inflated and rotating the device, will not fix the issue. It seems to be permanent, like for the Bugzilla case.\n\n\nBuild 2\n\n    Bugzilla: font is inflated much more than the 1st build. If the device orientation is switched to landscape and back to portrait, will not resolve the font inflation issue.\n    Google News: all 3 frames are displayed even from the 1st page load. The text from the main frame is a little bit more inflated than the side frames, but it looks OK. If the page is switched to landscape and then back to portrait, the text from the main frame seems to be smaller than it was just after the page was loaded, and also quite the same level as it on the left and right frame. So the Google News will look perfect in this case if the white space between the main frame and the right one will be reduced.\n    NYTimes: the font seems to be a little bit less inflated than it is on the 1st build, but the difference is barely noticeable. The webpage looks fine\n    YouTube: there is the same result as for the 1st build.\n\n\nBuild 3\n\n    Bugzilla: the font seems to be even more inflated than it is for the first 2 builds. Again, there are no changes if the device orientation is switched to landscape and back to portrait.\n    Google News: there are no words to describe how bad this page looks when it's loaded for the 1st time (see attached screenshots for build 3). After the device rotation, the font inflation issue still persist and the page still look really bad,\n    NYTimes: the page's footer is highly inflated and also the Inside NYTimes.com section look horrible (we have to mention that the page cannot be panned on that side and things might be complicated when that section covers the entire screen)\n    YouTube: there is the same result as for the 1st build.\n\n\nConclusions:\n\n- Build 3 is far the worst test build.\n- Build 2 is better then the 1st one, because of the good layout shapes for Google News and NYTimes, but none of them could even candidate for the final release in our opinion\n- Bugzilla and YouTube pages looks awful on all 3 test builds, but as David said in bug 707195 c#36, a real pattern should be fixed, instead of fixing individual websites"}, {"bug_id": 707195, "id": 6363312, "is_private": false, "count": 41, "tags": [], "attachment_id": null, "time": "2012-06-05T00:46:12Z", "author": "dbaron@dbaron.org", "text": "So the summary of that is that so far we have 4 sites where builds (1) and (3) are known to differ:\n\n                           build           build          build\n                            (1)             (2)            (3)\nycombinator comments        BAD             good           good\nnytimes.com                 good            good           BAD\nGoogle News                  ?               ?             BAD\nBugzilla                     ?               ?              ?\n\n(? marks are for where I can't tell from comment 40 which builds produce better results)\n\n\nSo so far that provides no evidence that the compromise in build (2) applies any more broadly than the two sites for which the condition was designed (ycombinator comments and nytimes.com).\n\nBut per discussion in the triage meeting today, more testing is in progress.", "creator": "dbaron@dbaron.org", "raw_text": "So the summary of that is that so far we have 4 sites where builds (1) and (3) are known to differ:\n\n                           build           build          build\n                            (1)             (2)            (3)\nycombinator comments        BAD             good           good\nnytimes.com                 good            good           BAD\nGoogle News                  ?               ?             BAD\nBugzilla                     ?               ?              ?\n\n(? marks are for where I can't tell from comment 40 which builds produce better results)\n\n\nSo so far that provides no evidence that the compromise in build (2) applies any more broadly than the two sites for which the condition was designed (ycombinator comments and nytimes.com).\n\nBut per discussion in the triage meeting today, more testing is in progress.", "creation_time": "2012-06-05T00:46:12Z"}, {"id": 6364373, "count": 42, "is_private": false, "tags": [], "bug_id": 707195, "raw_text": "The following websites were tested and might be helpful to find a solution for this issue:\n\nhttp://en.wikipedia.org/w/index.php?title=Dark_side\nhttp://support.microsoft.com/ph/14019\nhttp://www.apple.com/itunes/\nhttp://forum.xda-developers.com/showthread.php?t=794444\nhttp://wordpress.org/\nhttp://www.android.com/about/ice-cream-sandwich/\nhttp://www.imdb.com/", "creation_time": "2012-06-05T13:32:12Z", "attachment_id": null, "time": "2012-06-05T13:32:12Z", "text": "The following websites were tested and might be helpful to find a solution for this issue:\n\nhttp://en.wikipedia.org/w/index.php?title=Dark_side\nhttp://support.microsoft.com/ph/14019\nhttp://www.apple.com/itunes/\nhttp://forum.xda-developers.com/showthread.php?t=794444\nhttp://wordpress.org/\nhttp://www.android.com/about/ice-cream-sandwich/\nhttp://www.imdb.com/", "author": "xian_nicolae2004@yahoo.com", "creator": "xian_nicolae2004@yahoo.com"}, {"bug_id": 707195, "tags": [], "count": 43, "is_private": false, "id": 6364550, "text": "Some additional gatherings \u2014 albeit a bit inconclusive, I have ran through a variety of varied top-sites by country which serve desktop-optimized content across all posted builds. The content served has markup which is not greatly affected by the font-inflation heuristics tweaked in each build with the exception of some greatly noticeable differences in Bugzilla and Y Combinator and Drudge Report. \n\nhttp://people.mozilla.com/~atrain/mobile/Evangelism/font-inflation-compare/", "attachment_id": null, "time": "2012-06-05T14:39:27Z", "raw_text": "Some additional gatherings \u2014 albeit a bit inconclusive, I have ran through a variety of varied top-sites by country which serve desktop-optimized content across all posted builds. The content served has markup which is not greatly affected by the font-inflation heuristics tweaked in each build with the exception of some greatly noticeable differences in Bugzilla and Y Combinator and Drudge Report. \n\nhttp://people.mozilla.com/~atrain/mobile/Evangelism/font-inflation-compare/", "creation_time": "2012-06-05T14:39:27Z", "creator": "aaron.train@gmail.com", "author": "aaron.train@gmail.com"}, {"creation_time": "2012-06-05T14:42:16Z", "raw_text": "(In reply to Aaron Train [:aaronmt] from comment #43)\n> Some additional gatherings \u2014 albeit a bit inconclusive, I have ran through a\n> variety of varied top-sites by country which serve desktop-optimized content\n> across all posted builds. The content served has markup which is not greatly\n> affected by the font-inflation heuristics tweaked in each build with the\n> exception of some greatly noticeable differences in Bugzilla and Y\n> Combinator and Drudge Report. \n> \n> http://people.mozilla.com/~atrain/mobile/Evangelism/font-inflation-compare/\n\nAnd I think only Bugzilla is negatively affected. Y-Combinator and Drudge Report are more readable with the inflation.", "attachment_id": null, "time": "2012-06-05T14:42:16Z", "text": "(In reply to Aaron Train [:aaronmt] from comment #43)\n> Some additional gatherings \u2014 albeit a bit inconclusive, I have ran through a\n> variety of varied top-sites by country which serve desktop-optimized content\n> across all posted builds. The content served has markup which is not greatly\n> affected by the font-inflation heuristics tweaked in each build with the\n> exception of some greatly noticeable differences in Bugzilla and Y\n> Combinator and Drudge Report. \n> \n> http://people.mozilla.com/~atrain/mobile/Evangelism/font-inflation-compare/\n\nAnd I think only Bugzilla is negatively affected. Y-Combinator and Drudge Report are more readable with the inflation.", "id": 6364559, "tags": [], "count": 44, "is_private": false, "bug_id": 707195, "author": "mark.finkle@gmail.com", "creator": "mark.finkle@gmail.com"}, {"creator": "mbrubeck@limpet.net", "author": "mbrubeck@limpet.net", "creation_time": "2012-06-30T01:18:54Z", "raw_text": "", "text": "*** Bug 769863 has been marked as a duplicate of this bug. ***", "time": "2012-06-30T01:18:54Z", "attachment_id": null, "tags": [], "is_private": false, "count": 45, "id": 6435390, "bug_id": 707195}, {"creator": "chung808@gmail.com", "author": "chung808@gmail.com", "text": "removing qawanted tag, as comment 40 provided testing.  re-nom the qawanted if there's more test builds you'd like investigation on.", "attachment_id": null, "time": "2012-07-09T16:29:27Z", "raw_text": "removing qawanted tag, as comment 40 provided testing.  re-nom the qawanted if there's more test builds you'd like investigation on.", "creation_time": "2012-07-09T16:29:27Z", "bug_id": 707195, "count": 46, "is_private": false, "tags": [], "id": 6455333}, {"creator": "elancaster@mozilla.com", "author": "elancaster@mozilla.com", "bug_id": 707195, "count": 47, "is_private": false, "tags": [], "id": 6505611, "text": "*** Bug 752983 has been marked as a duplicate of this bug. ***", "time": "2012-07-25T21:09:00Z", "attachment_id": null, "creation_time": "2012-07-25T21:09:00Z", "raw_text": ""}, {"author": "bugs@junglecode.net", "creator": "bugs@junglecode.net", "bug_id": 707195, "id": 6505647, "tags": [], "is_private": false, "count": 48, "attachment_id": null, "time": "2012-07-25T21:18:35Z", "text": "P2 per font inflation scrub.", "raw_text": "P2 per font inflation scrub.", "creation_time": "2012-07-25T21:18:35Z"}, {"author": "jaywir3@gmail.com", "creator": "jaywir3@gmail.com", "bug_id": 707195, "id": 6506172, "count": 49, "is_private": false, "tags": [], "time": "2012-07-25T23:40:24Z", "attachment_id": null, "text": "*** Bug 769175 has been marked as a duplicate of this bug. ***", "raw_text": "", "creation_time": "2012-07-25T23:40:24Z"}, {"bug_id": 707195, "id": 6511827, "is_private": false, "count": 50, "tags": [], "time": "2012-07-27T16:38:17Z", "attachment_id": null, "author": "oliver.henshaw@gmail.com", "creator": "oliver.henshaw@gmail.com", "text": "Apologies if I'm stating the obvious, since I can't see this explicitly mentioned: don't the tiny comments on ycombinator tend to be the shorter ones? i.e. the different sizes have more to do with the length of the comment than the nesting depth. This pattern holds for e.g. phoronix.com forums and guardian comments (bug 752429), neither of which have nested threads (and the guardian comments page uses floats not tables).\n\nTake http://news.ycombinator.com/item?id=4291084 as a recent example. I see shrunken comments at all nesting levels. Additionally, take the direct link to this comment: http://news.ycombinator.com/item?id=4293161 which at the time of posting has no replies so there's only one level of nesting, and it's still shrunken and hard to read without zooming in.\n\nSo based on my inexpert reading of http://dev.w3.org/csswg/css-size-adjust/ isn't the problem with comments too short to trigger text inflation?", "raw_text": "Apologies if I'm stating the obvious, since I can't see this explicitly mentioned: don't the tiny comments on ycombinator tend to be the shorter ones? i.e. the different sizes have more to do with the length of the comment than the nesting depth. This pattern holds for e.g. phoronix.com forums and guardian comments (bug 752429), neither of which have nested threads (and the guardian comments page uses floats not tables).\n\nTake http://news.ycombinator.com/item?id=4291084 as a recent example. I see shrunken comments at all nesting levels. Additionally, take the direct link to this comment: http://news.ycombinator.com/item?id=4293161 which at the time of posting has no replies so there's only one level of nesting, and it's still shrunken and hard to read without zooming in.\n\nSo based on my inexpert reading of http://dev.w3.org/csswg/css-size-adjust/ isn't the problem with comments too short to trigger text inflation?", "creation_time": "2012-07-27T16:38:17Z"}, {"bug_id": 707195, "tags": [], "is_private": false, "count": 51, "id": 6512190, "text": "(In reply to Oliver Henshaw from comment #50)\n> Apologies if I'm stating the obvious, since I can't see this explicitly\n> mentioned: don't the tiny comments on ycombinator tend to be the shorter\n> ones? i.e. the different sizes have more to do with the length of the\n> comment than the nesting depth. This pattern holds for e.g. phoronix.com\n> forums and guardian comments (bug 752429), neither of which have nested\n> threads (and the guardian comments page uses floats not tables).\n> \n> Take http://news.ycombinator.com/item?id=4291084 as a recent example. I see\n> shrunken comments at all nesting levels. Additionally, take the direct link\n> to this comment: http://news.ycombinator.com/item?id=4293161 which at the\n> time of posting has no replies so there's only one level of nesting, and\n> it's still shrunken and hard to read without zooming in.\n> \n> So based on my inexpert reading of http://dev.w3.org/csswg/css-size-adjust/\n> isn't the problem with comments too short to trigger text inflation?\n\nOliver:\n\nYes, you're correct. It has to do with table cells being assigned as font-inflation \"flow roots\", which is what we call a node in the frame tree where font inflation data aggregation begins. So, in other words, what's happening is that at each table cell, we're making a decision about how much text is underneath the given flow root and determining whether we should inflate based on this. Unfortunately, since every table cell is a flow root, it means that we're restarting aggregation of font inflation data for each table cell, when we should be doing it for the whole set of comments in total. \n\nThe real crux of the issue, though, is that this is ONLY the case for situations where tables are being used for layout with respect to positioning - if a table is being used for representing tabular data, or to create a grid-like layout (as in the nytimes.com case), then we still want table cells to be marked as flow roots. We can't distinguish between these cases readily enough, because our system isn't designed to treat these two cases differently. We need to come up with an heuristic that allows us to distinguish these two cases.", "attachment_id": null, "time": "2012-07-27T18:10:11Z", "creation_time": "2012-07-27T18:10:11Z", "raw_text": "(In reply to Oliver Henshaw from comment #50)\n> Apologies if I'm stating the obvious, since I can't see this explicitly\n> mentioned: don't the tiny comments on ycombinator tend to be the shorter\n> ones? i.e. the different sizes have more to do with the length of the\n> comment than the nesting depth. This pattern holds for e.g. phoronix.com\n> forums and guardian comments (bug 752429), neither of which have nested\n> threads (and the guardian comments page uses floats not tables).\n> \n> Take http://news.ycombinator.com/item?id=4291084 as a recent example. I see\n> shrunken comments at all nesting levels. Additionally, take the direct link\n> to this comment: http://news.ycombinator.com/item?id=4293161 which at the\n> time of posting has no replies so there's only one level of nesting, and\n> it's still shrunken and hard to read without zooming in.\n> \n> So based on my inexpert reading of http://dev.w3.org/csswg/css-size-adjust/\n> isn't the problem with comments too short to trigger text inflation?\n\nOliver:\n\nYes, you're correct. It has to do with table cells being assigned as font-inflation \"flow roots\", which is what we call a node in the frame tree where font inflation data aggregation begins. So, in other words, what's happening is that at each table cell, we're making a decision about how much text is underneath the given flow root and determining whether we should inflate based on this. Unfortunately, since every table cell is a flow root, it means that we're restarting aggregation of font inflation data for each table cell, when we should be doing it for the whole set of comments in total. \n\nThe real crux of the issue, though, is that this is ONLY the case for situations where tables are being used for layout with respect to positioning - if a table is being used for representing tabular data, or to create a grid-like layout (as in the nytimes.com case), then we still want table cells to be marked as flow roots. We can't distinguish between these cases readily enough, because our system isn't designed to treat these two cases differently. We need to come up with an heuristic that allows us to distinguish these two cases.", "creator": "jaywir3@gmail.com", "author": "jaywir3@gmail.com"}, {"creator": "ts.bugzilla@gmx.net", "author": "ts.bugzilla@gmx.net", "bug_id": 707195, "tags": [], "is_private": false, "count": 52, "id": 6534579, "text": "Created attachment 649331\nScreenshot hg.mozilla.org pushloghtml\n\njwir3 asked me to provide this screenshot of http://hg.mozilla.org/mozilla-central/pushloghtml \nThis site also suffers from the separate inflation roots for individual table cells, although this page uses tables for tabular data, not presentation.", "attachment_id": 649331, "time": "2012-08-06T18:44:42Z", "creation_time": "2012-08-06T18:44:42Z", "raw_text": "jwir3 asked me to provide this screenshot of http://hg.mozilla.org/mozilla-central/pushloghtml \nThis site also suffers from the separate inflation roots for individual table cells, although this page uses tables for tabular data, not presentation."}, {"bug_id": 707195, "id": 6534791, "tags": [], "count": 53, "is_private": false, "author": "jaywir3@gmail.com", "time": "2012-08-06T19:53:26Z", "attachment_id": null, "text": "(In reply to Thomas Stache from comment #52)\n> Created attachment 649331\n> Screenshot hg.mozilla.org pushloghtml\n> \n> jwir3 asked me to provide this screenshot of\n> http://hg.mozilla.org/mozilla-central/pushloghtml \n> This site also suffers from the separate inflation roots for individual\n> table cells, although this page uses tables for tabular data, not\n> presentation.\n\nThanks, Thomas!", "creator": "jaywir3@gmail.com", "creation_time": "2012-08-06T19:53:26Z", "raw_text": "(In reply to Thomas Stache from comment #52)\n> Created attachment 649331\n> Screenshot hg.mozilla.org pushloghtml\n> \n> jwir3 asked me to provide this screenshot of\n> http://hg.mozilla.org/mozilla-central/pushloghtml \n> This site also suffers from the separate inflation roots for individual\n> table cells, although this page uses tables for tabular data, not\n> presentation.\n\nThanks, Thomas!"}, {"raw_text": "This also seems to apply to anything based on Simple Machines Forum software.\n\nSee http://www.simplemachines.org/community/index.php?topic=483398.0 as an example\n\nThis page displays fine on a Firfox desktop but some items have tiny text using Android ARM on my HTC One V (ICS) or Nexus 7 (Jelly Bean).", "creation_time": "2012-08-30T13:05:14Z", "text": "This also seems to apply to anything based on Simple Machines Forum software.\n\nSee http://www.simplemachines.org/community/index.php?topic=483398.0 as an example\n\nThis page displays fine on a Firfox desktop but some items have tiny text using Android ARM on my HTC One V (ICS) or Nexus 7 (Jelly Bean).", "creator": "dggrr@musician.org", "time": "2012-08-30T13:05:14Z", "attachment_id": null, "author": "dggrr@musician.org", "count": 54, "is_private": false, "tags": [], "id": 6596541, "bug_id": 707195}, {"bug_id": 707195, "id": 6738366, "count": 55, "is_private": false, "tags": [], "attachment_id": null, "time": "2012-10-17T17:24:14Z", "text": "(In reply to dggrr from comment #54)\n> This also seems to apply to anything based on Simple Machines Forum software.\nDefault phpBB3 theme as well (prosilver), and I think I've also seen it on Slashdot.", "creation_time": "2012-10-17T17:24:14Z", "raw_text": "(In reply to dggrr from comment #54)\n> This also seems to apply to anything based on Simple Machines Forum software.\nDefault phpBB3 theme as well (prosilver), and I think I've also seen it on Slashdot.", "author": "tomer.moz.bugs@tomercohen.com", "creator": "tomer.moz.bugs@tomercohen.com"}, {"creation_time": "2012-11-21T08:34:02Z", "raw_text": "Some of my most frequented online forums suffer from this bug; they are indeed phpBB based so I guess that posting more URLs doesn't make sense but this defect is for me probably the biggest reason why I'm not using more FireFox on Android.\n\nThe Android native browser and Dolphin (which uses the native browser engine) do not suffer from this same problem (at least not visibly to my eye!).\n\nI have also never observed this issue on desktop.", "time": "2012-11-21T08:34:02Z", "attachment_id": null, "author": "tnleeuw@gmail.com", "creator": "tnleeuw@gmail.com", "text": "Some of my most frequented online forums suffer from this bug; they are indeed phpBB based so I guess that posting more URLs doesn't make sense but this defect is for me probably the biggest reason why I'm not using more FireFox on Android.\n\nThe Android native browser and Dolphin (which uses the native browser engine) do not suffer from this same problem (at least not visibly to my eye!).\n\nI have also never observed this issue on desktop.", "id": 6841082, "count": 56, "is_private": false, "tags": [], "bug_id": 707195}, {"tags": [], "is_private": false, "count": 57, "id": 6952375, "bug_id": 707195, "raw_text": "I'm new to Firefox for Android, as I own an ARMv6 mobile, and in my opinion this is the biggest problem. It makes a lot of pages barely readable.\n(That's too bad because, for the rest, I love having Sync in my pocket)", "creation_time": "2012-12-30T18:07:45Z", "text": "I'm new to Firefox for Android, as I own an ARMv6 mobile, and in my opinion this is the biggest problem. It makes a lot of pages barely readable.\n(That's too bad because, for the rest, I love having Sync in my pocket)", "time": "2012-12-30T18:07:45Z", "attachment_id": null, "creator": "hr@herverenault.fr", "author": "hr@herverenault.fr"}, {"author": "jaywir3@gmail.com", "creator": "jaywir3@gmail.com", "time": "2013-02-10T22:42:45Z", "attachment_id": null, "text": "*** Bug 826744 has been marked as a duplicate of this bug. ***", "raw_text": "", "creation_time": "2013-02-10T22:42:45Z", "bug_id": 707195, "id": 7089228, "count": 58, "is_private": false, "tags": []}, {"bug_id": 707195, "id": 7267746, "is_private": false, "count": 59, "tags": [], "time": "2013-04-02T17:16:02Z", "attachment_id": null, "text": "*** Bug 857164 has been marked as a duplicate of this bug. ***", "creation_time": "2013-04-02T17:16:02Z", "raw_text": "", "author": "aaron.train@gmail.com", "creator": "aaron.train@gmail.com"}, {"time": "2013-04-17T01:52:36Z", "attachment_id": null, "author": "sepero111@gmx.com", "text": "I submitted this bug before and it was marked as a dup in this thread. I just wanted to give a big thanks to everyone working hard to fix this. Everything you're doing is appreciated. David, Patrick, Sam, Scott, Emanuel, Brad, JP, Ian, Jet, Christian, Aaron, Tony, Oliver, and anyone I might have missed. Thank you", "creator": "sepero111@gmx.com", "creation_time": "2013-04-17T01:52:36Z", "raw_text": "I submitted this bug before and it was marked as a dup in this thread. I just wanted to give a big thanks to everyone working hard to fix this. Everything you're doing is appreciated. David, Patrick, Sam, Scott, Emanuel, Brad, JP, Ian, Jet, Christian, Aaron, Tony, Oliver, and anyone I might have missed. Thank you", "bug_id": 707195, "id": 7323435, "count": 60, "is_private": false, "tags": []}, {"attachment_id": null, "time": "2013-08-07T15:42:34Z", "text": "For me every page mentioned works and is displayed as it should. \nTo achieve that I have set the font size to tiny and enabled fit text size after zoom. \nI have additionally set browser.viewport.defaultZoom pref to 1000 in about:config\nTry it out!", "raw_text": "For me every page mentioned works and is displayed as it should. \nTo achieve that I have set the font size to tiny and enabled fit text size after zoom. \nI have additionally set browser.viewport.defaultZoom pref to 1000 in about:config\nTry it out!", "creation_time": "2013-08-07T15:42:34Z", "bug_id": 707195, "id": 7721694, "count": 61, "is_private": false, "tags": [], "author": "f.niedernolte@gmail.com", "creator": "f.niedernolte@gmail.com"}, {"author": "alex@wunschik.net", "creator": "alex@wunschik.net", "attachment_id": null, "time": "2013-11-13T14:57:16Z", "text": "I had a similar problem with Firefox 25.0 on a Nexus 7. \nSetting \"-moz-text-size-adjust: none;\" in the CSS does the trick for me!", "raw_text": "I had a similar problem with Firefox 25.0 on a Nexus 7. \nSetting \"-moz-text-size-adjust: none;\" in the CSS does the trick for me!", "creation_time": "2013-11-13T14:57:16Z", "bug_id": 707195, "id": 8075824, "tags": [], "count": 62, "is_private": false}, {"creator": "paolo@paolomontrasio.com", "author": "paolo@paolomontrasio.com", "bug_id": 707195, "is_private": false, "count": 63, "tags": [], "id": 9071142, "text": "Thank you Alexander for that CSS rule. I added it to my pages and Firefox handles them in a saner way.\n\nHowever any other browser handles font inflation in a better way by default. This is my biggest complaint about FF on Android. To make developers understand how important it is, this is the reason why I don't use FF on Android even if it is my primary desktop browser and this is the reason why I won't neither consider nor recomment a Firefox OS phone: basically I'm sure that a Firefox OS phone can't be used to browse the web.\n\nNevertheless, thanks for trying but please find a solution.", "attachment_id": null, "time": "2014-07-18T07:20:11Z", "creation_time": "2014-07-18T07:20:11Z", "raw_text": "Thank you Alexander for that CSS rule. I added it to my pages and Firefox handles them in a saner way.\n\nHowever any other browser handles font inflation in a better way by default. This is my biggest complaint about FF on Android. To make developers understand how important it is, this is the reason why I don't use FF on Android even if it is my primary desktop browser and this is the reason why I won't neither consider nor recomment a Firefox OS phone: basically I'm sure that a Firefox OS phone can't be used to browse the web.\n\nNevertheless, thanks for trying but please find a solution."}, {"bug_id": 707195, "id": 9205106, "tags": [], "count": 64, "is_private": false, "attachment_id": null, "time": "2014-08-20T07:08:50Z", "text": "One of a most annoying \"features\". Example:\nhttp://www.overclockers.ru/hardnews/63102/Vypuskat_planshety_stanovitsya_vse_menee_vygodno.html", "creation_time": "2014-08-20T07:08:50Z", "raw_text": "One of a most annoying \"features\". Example:\nhttp://www.overclockers.ru/hardnews/63102/Vypuskat_planshety_stanovitsya_vse_menee_vygodno.html", "author": "ezh@menelon.ee", "creator": "ezh@menelon.ee"}, {"creator": "ezh@menelon.ee", "author": "ezh@menelon.ee", "raw_text": "(In reply to Eugene Savitsky from comment #64)\n> One of a most annoying \"features\". Example:\n> http://www.overclockers.ru/hardnews/63102/\n> Vypuskat_planshety_stanovitsya_vse_menee_vygodno.html\n\nIn the comments area at the bottom.", "creation_time": "2014-08-20T07:13:38Z", "text": "(In reply to Eugene Savitsky from comment #64)\n> One of a most annoying \"features\". Example:\n> http://www.overclockers.ru/hardnews/63102/\n> Vypuskat_planshety_stanovitsya_vse_menee_vygodno.html\n\nIn the comments area at the bottom.", "attachment_id": null, "time": "2014-08-20T07:13:38Z", "count": 65, "is_private": false, "tags": [], "id": 9205112, "bug_id": 707195}, {"attachment_id": null, "time": "2014-10-28T14:09:18Z", "text": "*** Bug 1090166 has been marked as a duplicate of this bug. ***", "raw_text": "", "creation_time": "2014-10-28T14:09:18Z", "bug_id": 707195, "id": 9510733, "tags": [], "count": 66, "is_private": false, "author": "aaron.train@gmail.com", "creator": "aaron.train@gmail.com"}, {"author": "aaron.train@gmail.com", "time": "2015-02-23T16:28:27Z", "attachment_id": null, "text": "*** Bug 1135699 has been marked as a duplicate of this bug. ***", "creator": "aaron.train@gmail.com", "creation_time": "2015-02-23T16:28:27Z", "raw_text": "", "bug_id": 707195, "id": 9946921, "tags": [], "is_private": false, "count": 67}, {"creation_time": "2018-10-15T08:36:56Z", "raw_text": "No assignee, updating the status.", "attachment_id": null, "time": "2018-10-15T08:36:56Z", "text": "No assignee, updating the status.", "id": 13685279, "tags": [], "is_private": false, "count": 68, "bug_id": 707195, "author": "sledru@mozilla.com", "creator": "sledru@mozilla.com"}, {"raw_text": "No assignee, updating the status.", "creation_time": "2018-10-15T08:44:06Z", "time": "2018-10-15T08:44:06Z", "attachment_id": null, "text": "No assignee, updating the status.", "id": 13686141, "tags": ["spam"], "is_private": false, "count": 69, "bug_id": 707195, "author": "sledru@mozilla.com", "creator": "sledru@mozilla.com"}, {"text": "I'm not sure if bug 786382 is a straight duplicate or not, but bug 786382 comment 11 has some pointers to how Chrome handles the problem of inconsistent inflation between similar elements (though I've got no idea how tables specifically work in Chrome's font inflation algorithm).", "time": "2019-04-05T06:46:41Z", "attachment_id": null, "raw_text": "I'm not sure if bug 786382 is a straight duplicate or not, but bug 786382 comment 11 has some pointers to how Chrome handles the problem of inconsistent inflation between similar elements (though I've got no idea how tables specifically work in Chrome's font inflation algorithm).", "creation_time": "2019-04-05T06:46:41Z", "bug_id": 707195, "tags": [], "count": 70, "is_private": false, "id": 14035064, "creator": "jh+bugzilla@buttercookie.de", "author": "jh+bugzilla@buttercookie.de"}]}}, "comments": {}}