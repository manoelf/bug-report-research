{"comments": {}, "bugs": {"1235520": {"comments": [{"creator": "aros@gmx.com", "author": "aros@gmx.com", "raw_text": "User Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:44.0) Gecko/20100101 Firefox/44.0\nBuild ID: 20151228134903\n\nSteps to reproduce:\n\nInstalled Firefox 44 beta 4.\n\n\nActual results:\n\nFirefox 44 beta 4 has a totally broken appearance under Linux/CentOS 6.7 i686:\n\n1. When using the address bar, drop down list entries are NOT highlighted when you select them.\n2. Text selection is totally black (including the address/web search bars).\n3. Preferences button shows some garbage - a transparent block with broken fonts.\n4. The address and the search bars have a strange black margin.\n\n\nExpected results:\n\nNothing.\n\nSome relevant libraries:\n\ngtk2-2.24.23-6.el6.i686\ngtk2-devel-2.24.23-6.el6.i686\ngtk2-engines-2.18.4-5.el6.centos.i686\ngtk-nodoka-engine-0.7.5-5.el6.i686\n\nMy GTK2 settings:\n\n$ cat /home/birdie/.gtkrc-2.0\ninclude \"/usr/share/themes/Nodoka/gtk-2.0/gtkrc\"\n           gtk-theme-name=\"Nodoka\"\n\nstyle \"user-font\"\n{\n        font_name=\"Tahoma 9\"\n}\n\nwidget_class \"*\" style \"user-font\"\n\ngtk-font-name=\"Tahoma 9\"", "is_private": false, "bug_id": 1235520, "attachment_id": 8702496, "id": 11034538, "count": 0, "creation_time": "2015-12-29T08:59:40Z", "text": "Created attachment 8702496\nbroken44.png\n\nUser Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:44.0) Gecko/20100101 Firefox/44.0\nBuild ID: 20151228134903\n\nSteps to reproduce:\n\nInstalled Firefox 44 beta 4.\n\n\nActual results:\n\nFirefox 44 beta 4 has a totally broken appearance under Linux/CentOS 6.7 i686:\n\n1. When using the address bar, drop down list entries are NOT highlighted when you select them.\n2. Text selection is totally black (including the address/web search bars).\n3. Preferences button shows some garbage - a transparent block with broken fonts.\n4. The address and the search bars have a strange black margin.\n\n\nExpected results:\n\nNothing.\n\nSome relevant libraries:\n\ngtk2-2.24.23-6.el6.i686\ngtk2-devel-2.24.23-6.el6.i686\ngtk2-engines-2.18.4-5.el6.centos.i686\ngtk-nodoka-engine-0.7.5-5.el6.i686\n\nMy GTK2 settings:\n\n$ cat /home/birdie/.gtkrc-2.0\ninclude \"/usr/share/themes/Nodoka/gtk-2.0/gtkrc\"\n           gtk-theme-name=\"Nodoka\"\n\nstyle \"user-font\"\n{\n        font_name=\"Tahoma 9\"\n}\n\nwidget_class \"*\" style \"user-font\"\n\ngtk-font-name=\"Tahoma 9\"", "tags": [], "time": "2015-12-29T08:59:40Z"}, {"text": "OK, I've removed my gtk2 settings file and nothing has changed - Firefox is a as broken as it was.\n\nFirefox 43.0.3 has exactly zero problems here.\n\nI'm using the official Mozilla binaries from https://ftp.mozilla.org/pub/firefox/releases/", "creation_time": "2015-12-29T09:02:32Z", "tags": [], "time": "2015-12-29T09:02:32Z", "is_private": false, "bug_id": 1235520, "author": "aros@gmx.com", "creator": "aros@gmx.com", "raw_text": "OK, I've removed my gtk2 settings file and nothing has changed - Firefox is a as broken as it was.\n\nFirefox 43.0.3 has exactly zero problems here.\n\nI'm using the official Mozilla binaries from https://ftp.mozilla.org/pub/firefox/releases/", "id": 11034544, "attachment_id": null, "count": 1}, {"bug_id": 1235520, "is_private": false, "raw_text": "Everything is quite the same in safe mode.\n\nI know you're deprecating GTK2 support, but that doesn't mean you have to intentionally break it for God's sake.", "creator": "aros@gmx.com", "author": "aros@gmx.com", "count": 2, "attachment_id": null, "id": 11034545, "text": "Everything is quite the same in safe mode.\n\nI know you're deprecating GTK2 support, but that doesn't mean you have to intentionally break it for God's sake.", "creation_time": "2015-12-29T09:04:46Z", "time": "2015-12-29T09:04:46Z", "tags": []}, {"is_private": false, "bug_id": 1235520, "creator": "karlt@mozbugz.karlt.net", "author": "karlt@mozbugz.karlt.net", "raw_text": "This build is not using GTK3, though it is quite possible that one of the changes for the GTK3 port has accidentally broken something for the GTK2 port.\nIt might also be a graphics change that has caused the problem.", "id": 11036299, "attachment_id": null, "count": 3, "text": "This build is not using GTK3, though it is quite possible that one of the changes for the GTK3 port has accidentally broken something for the GTK2 port.\nIt might also be a graphics change that has caused the problem.", "creation_time": "2015-12-30T02:50:29Z", "tags": [], "time": "2015-12-30T02:50:29Z"}, {"creation_time": "2015-12-30T03:03:58Z", "bug_id": 1235520, "raw_text": "Would you be able to see if you can find a regression range, please, using the builds at https://archive.mozilla.org/pub/firefox/tinderbox-builds/elm-linux/\ne.g. https://archive.mozilla.org/pub/firefox/tinderbox-builds/elm-linux/1442884682/firefox-44.0a1.en-US.linux-i686.tar.bz2\n\nI'm not able to reproduce any of these issues with Nodoka installed on amd64 Gentoo.", "creator": "karlt@mozbugz.karlt.net", "count": 4, "id": 11036319, "text": "Would you be able to see if you can find a regression range, please, using the builds at https://archive.mozilla.org/pub/firefox/tinderbox-builds/elm-linux/\ne.g. https://archive.mozilla.org/pub/firefox/tinderbox-builds/elm-linux/1442884682/firefox-44.0a1.en-US.linux-i686.tar.bz2\n\nI'm not able to reproduce any of these issues with Nodoka installed on amd64 Gentoo.", "time": "2015-12-30T03:03:58Z", "tags": [], "is_private": false, "author": "karlt@mozbugz.karlt.net", "attachment_id": null}, {"creation_time": "2015-12-30T04:36:15Z", "creator": "aros@gmx.com", "raw_text": "OK, I've found out what breaks Firefox locally, it's these 4 settings:\n\nuser_pref(\"ui.textHighlightBackground\", \"#EF0FFF\");\nuser_pref(\"ui.textHighlightForeground\", \"#FFFFFF\");\nuser_pref(\"ui.textSelectBackgroundAttention\", \"#38d878\");\nuser_pref(\"ui.use_native_colors\", false);\n\nI've no idea how I got them and for some reasons Firefox 43.x and earlier don't care about them, but Firefox 44 totally breaks.", "bug_id": 1235520, "id": 11036409, "count": 5, "text": "OK, I've found out what breaks Firefox locally, it's these 4 settings:\n\nuser_pref(\"ui.textHighlightBackground\", \"#EF0FFF\");\nuser_pref(\"ui.textHighlightForeground\", \"#FFFFFF\");\nuser_pref(\"ui.textSelectBackgroundAttention\", \"#38d878\");\nuser_pref(\"ui.use_native_colors\", false);\n\nI've no idea how I got them and for some reasons Firefox 43.x and earlier don't care about them, but Firefox 44 totally breaks.", "tags": [], "time": "2015-12-30T04:36:15Z", "author": "aros@gmx.com", "is_private": false, "attachment_id": null}, {"time": "2015-12-31T01:31:08Z", "tags": [], "text": "Thanks.  That's helpful.\n\nPerhaps the effect of ui.use_native_colors may have changed with changes in bug 232227.\nWhat actually changed there looks quite different from its bug description.\n\nI don't know what other than the tor browser may have set these.", "attachment_id": null, "is_private": false, "author": "karlt@mozbugz.karlt.net", "creation_time": "2015-12-31T01:31:08Z", "count": 6, "id": 11038365, "bug_id": 1235520, "raw_text": "Thanks.  That's helpful.\n\nPerhaps the effect of ui.use_native_colors may have changed with changes in bug 232227.\nWhat actually changed there looks quite different from its bug description.\n\nI don't know what other than the tor browser may have set these.", "creator": "karlt@mozbugz.karlt.net"}, {"tags": [], "time": "2015-12-31T01:37:03Z", "text": "(In reply to Artem S. Tashkinov from comment #1)\n> Firefox 43.0.3 has exactly zero problems here.\n\nThat was a GTK3 build I think, but I don't know why that would make a difference.", "attachment_id": null, "author": "karlt@mozbugz.karlt.net", "is_private": false, "creation_time": "2015-12-31T01:37:03Z", "id": 11038372, "count": 7, "creator": "karlt@mozbugz.karlt.net", "raw_text": "(In reply to Artem S. Tashkinov from comment #1)\n> Firefox 43.0.3 has exactly zero problems here.\n\nThat was a GTK3 build I think, but I don't know why that would make a difference.", "bug_id": 1235520}, {"count": 8, "id": 11108357, "raw_text": "Firefox 44, which has just been released, also suffers from this bug.\n\nI know no one really needs another confirmation, but it's strange that an easily reproducible bug report gets exactly zero attention from developers.", "creator": "aros@gmx.com", "bug_id": 1235520, "creation_time": "2016-01-26T13:53:57Z", "attachment_id": null, "author": "aros@gmx.com", "is_private": false, "time": "2016-01-26T13:53:57Z", "tags": [], "text": "Firefox 44, which has just been released, also suffers from this bug.\n\nI know no one really needs another confirmation, but it's strange that an easily reproducible bug report gets exactly zero attention from developers."}, {"text": "Created attachment 8712332\nBroken appearance of plugin activation dialog\n\nLet me add some more points: \n5. I set \"Shockwave Flash\" to \"Ask to activate\" in the Plugins tab of Add-ons Manager. And this is the screenshot when I choose to enable a Flash movie - transparent like 3.", "time": "2016-01-26T20:01:33Z", "tags": [], "author": "yan12125+foss@gmail.com", "is_private": false, "attachment_id": 8712332, "creation_time": "2016-01-26T20:01:33Z", "raw_text": "Let me add some more points: \n5. I set \"Shockwave Flash\" to \"Ask to activate\" in the Plugins tab of Add-ons Manager. And this is the screenshot when I choose to enable a Flash movie - transparent like 3.", "creator": "yan12125+foss@gmail.com", "bug_id": 1235520, "count": 9, "id": 11109884}, {"time": "2016-01-26T20:07:43Z", "tags": [], "text": "Created attachment 8712335\nDisabled menu items are not grayed\n\n6. Disabled menu items are not grayed. In this attachment at least Edit->Undo and Edit->Redo should be grayed, but they're not.", "attachment_id": 8712335, "author": "yan12125+foss@gmail.com", "is_private": false, "creation_time": "2016-01-26T20:07:43Z", "count": 10, "id": 11109911, "raw_text": "6. Disabled menu items are not grayed. In this attachment at least Edit->Undo and Edit->Redo should be grayed, but they're not.", "creator": "yan12125+foss@gmail.com", "bug_id": 1235520}, {"count": 11, "attachment_id": null, "id": 11109936, "raw_text": "7. General <select> in webpages suffer the problem in 1. too\n8. Tooltip of links is also totally black, similar to 2.\n\nWith ui.use_native_colors set to true, everything is solved. I'm using the official Arch Linux package firefox 44.0-1. The building scripts can be found at [1].\n\n[1] https://projects.archlinux.org/svntogit/packages.git/tree/trunk/pkgbuild?h=packages/firefox", "creator": "yan12125+foss@gmail.com", "author": "yan12125+foss@gmail.com", "bug_id": 1235520, "is_private": false, "time": "2016-01-26T20:11:57Z", "tags": [], "creation_time": "2016-01-26T20:11:57Z", "text": "7. General <select> in webpages suffer the problem in 1. too\n8. Tooltip of links is also totally black, similar to 2.\n\nWith ui.use_native_colors set to true, everything is solved. I'm using the official Arch Linux package firefox 44.0-1. The building scripts can be found at [1].\n\n[1] https://projects.archlinux.org/svntogit/packages.git/tree/trunk/pkgbuild?h=packages/firefox"}, {"creator": "jaws@mozilla.com", "raw_text": "Gijs, I remember there were some changes to default colors in the preferences. Does that ring a bell for you?", "bug_id": 1235520, "id": 11110324, "count": 12, "creation_time": "2016-01-26T21:50:18Z", "author": "jaws@mozilla.com", "is_private": false, "attachment_id": null, "text": "Gijs, I remember there were some changes to default colors in the preferences. Does that ring a bell for you?", "tags": [], "time": "2016-01-26T21:50:18Z"}, {"creation_time": "2016-01-27T07:38:09Z", "id": 11111424, "count": 13, "creator": "gijskruitbosch+bugs@gmail.com", "raw_text": "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #12)\n> Gijs, I remember there were some changes to default colors in the\n> preferences. Does that ring a bell for you?\n\nWe changed how we showed them in the colorpicker, but those color prefs are different prefs from the prefs mentioned in comment #5. I don't think it's related.\n\n(In reply to Artem S. Tashkinov from comment #5)\n> OK, I've found out what breaks Firefox locally, it's these 4 settings:\n> \n> user_pref(\"ui.textHighlightBackground\", \"#EF0FFF\");\n> user_pref(\"ui.textHighlightForeground\", \"#FFFFFF\");\n> user_pref(\"ui.textSelectBackgroundAttention\", \"#38d878\");\n> user_pref(\"ui.use_native_colors\", false);\n> \n> I've no idea how I got them and for some reasons Firefox 43.x and earlier\n> don't care about them, but Firefox 44 totally breaks.\n\nWell, Firefox seems to be doing what you told it to do and not using native theme colors for some things. Before bug 232227 we ignored that pref, which was wrong.\n\nFrom the screenshots, it seems there might be some system colors which aren't implemented in the fallback system, and so we're falling back to transparent and/or black. But the fact that some borders are solid black and/or ugly I don't think is a bug.", "bug_id": 1235520, "tags": [], "time": "2016-01-27T07:38:09Z", "text": "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #12)\n> Gijs, I remember there were some changes to default colors in the\n> preferences. Does that ring a bell for you?\n\nWe changed how we showed them in the colorpicker, but those color prefs are different prefs from the prefs mentioned in comment #5. I don't think it's related.\n\n(In reply to Artem S. Tashkinov from comment #5)\n> OK, I've found out what breaks Firefox locally, it's these 4 settings:\n> \n> user_pref(\"ui.textHighlightBackground\", \"#EF0FFF\");\n> user_pref(\"ui.textHighlightForeground\", \"#FFFFFF\");\n> user_pref(\"ui.textSelectBackgroundAttention\", \"#38d878\");\n> user_pref(\"ui.use_native_colors\", false);\n> \n> I've no idea how I got them and for some reasons Firefox 43.x and earlier\n> don't care about them, but Firefox 44 totally breaks.\n\nWell, Firefox seems to be doing what you told it to do and not using native theme colors for some things. Before bug 232227 we ignored that pref, which was wrong.\n\nFrom the screenshots, it seems there might be some system colors which aren't implemented in the fallback system, and so we're falling back to transparent and/or black. But the fact that some borders are solid black and/or ugly I don't think is a bug.", "attachment_id": null, "author": "gijskruitbosch+bugs@gmail.com", "is_private": false}, {"creation_time": "2016-01-27T07:38:49Z", "bug_id": 1235520, "creator": "gijskruitbosch+bugs@gmail.com", "raw_text": "Dave, can you take a look?", "id": 11111427, "count": 14, "text": "Dave, can you take a look?", "tags": [], "time": "2016-01-27T07:38:49Z", "is_private": false, "author": "gijskruitbosch+bugs@gmail.com", "attachment_id": null}, {"creation_time": "2016-01-29T09:20:08Z", "id": 11119283, "count": 15, "bug_id": 1235520, "creator": "stransky@redhat.com", "raw_text": "I tested FF 44.0 (Mozilla build) and 45 beta (our ESR candidate) on RHEL6.7 (don't have CentOS handy) and I don't see any of the reported problems. Clear profile, no local modifications.", "tags": [], "time": "2016-01-29T09:20:08Z", "text": "I tested FF 44.0 (Mozilla build) and 45 beta (our ESR candidate) on RHEL6.7 (don't have CentOS handy) and I don't see any of the reported problems. Clear profile, no local modifications.", "attachment_id": null, "is_private": false, "author": "stransky@redhat.com"}, {"attachment_id": null, "id": 11119321, "count": 16, "creator": "gijskruitbosch+bugs@gmail.com", "author": "gijskruitbosch+bugs@gmail.com", "raw_text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #15)\n> I tested FF 44.0 (Mozilla build) and 45 beta (our ESR candidate) on RHEL6.7\n> (don't have CentOS handy) and I don't see any of the reported problems.\n> Clear profile, no local modifications.\n\nIt presumably takes at least setting ui.use_native_colors to false to reproduce this, per earlier comments...", "is_private": false, "bug_id": 1235520, "tags": [], "time": "2016-01-29T09:48:57Z", "creation_time": "2016-01-29T09:48:57Z", "text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #15)\n> I tested FF 44.0 (Mozilla build) and 45 beta (our ESR candidate) on RHEL6.7\n> (don't have CentOS handy) and I don't see any of the reported problems.\n> Clear profile, no local modifications.\n\nIt presumably takes at least setting ui.use_native_colors to false to reproduce this, per earlier comments..."}, {"id": 11162627, "attachment_id": null, "count": 17, "author": "u279076@disabled.tld", "creator": "u279076@disabled.tld", "raw_text": "Looks like bug 1247886 is a dupe. I resolved that as INVALID since I couldn't find documentation on whether ui.use_native_color:false is supported. If that's incorrect then I'll dupe that bug over here but it has a reproducible case which I confirmed in a Windows 10 VM.", "is_private": false, "bug_id": 1235520, "tags": [], "time": "2016-02-12T21:18:03Z", "creation_time": "2016-02-12T21:18:03Z", "text": "Looks like bug 1247886 is a dupe. I resolved that as INVALID since I couldn't find documentation on whether ui.use_native_color:false is supported. If that's incorrect then I'll dupe that bug over here but it has a reproducible case which I confirmed in a Windows 10 VM."}, {"attachment_id": null, "id": 11166244, "count": 18, "is_private": false, "bug_id": 1235520, "creator": "stransky@redhat.com", "author": "stransky@redhat.com", "raw_text": "ui.use_native_color are fixed by Bug 232227 (at least on Windows) and also fixes Bug 1208372. Not sure how ui.use_native_color cooperates with \"browser.display.use_system_colors\" which seems to be useless now (or used only for two colors).", "tags": [], "time": "2016-02-15T16:28:40Z", "text": "ui.use_native_color are fixed by Bug 232227 (at least on Windows) and also fixes Bug 1208372. Not sure how ui.use_native_color cooperates with \"browser.display.use_system_colors\" which seems to be useless now (or used only for two colors).", "creation_time": "2016-02-15T16:28:40Z"}, {"text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #18)\n> ui.use_native_color are fixed by Bug 232227 (at least on Windows) and also\n> fixes Bug 1208372. Not sure how ui.use_native_color cooperates with\n> \"browser.display.use_system_colors\" which seems to be useless now (or used\n> only for two colors).\n\nThis is conflating 4 different concepts:\n\n1) what colors do we report for native CSS keywords on the web\n2) what colors do we use to style Firefox\n3) what colors do we use when a web author has not specified a color (default foreground/background colors)\n4) do we override colors used by the web author with those defaults\n\nuse_system_colors addresses (3) very specifically, and the colours are used in lieu of user-defined ones for the foreground/background. They can then be made to override author-specified colors (4) using browser.display.document_color_use .\n\nuse_native_color now does both (1) and (2), but the naming does not make that clear, and it arguably really shouldn't be doing (2) to begin with.\n\nHow can we get this addressed? How are tor browser people even living with a barely-functional thing such as in the screenshot here and in bug 1247886 ? It doesn't look like Dave is responding to needinfo, so I'm pinging Jeff instead.", "creation_time": "2016-02-15T16:46:21Z", "tags": [], "time": "2016-02-15T16:46:21Z", "is_private": false, "bug_id": 1235520, "author": "gijskruitbosch+bugs@gmail.com", "creator": "gijskruitbosch+bugs@gmail.com", "raw_text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #18)\n> ui.use_native_color are fixed by Bug 232227 (at least on Windows) and also\n> fixes Bug 1208372. Not sure how ui.use_native_color cooperates with\n> \"browser.display.use_system_colors\" which seems to be useless now (or used\n> only for two colors).\n\nThis is conflating 4 different concepts:\n\n1) what colors do we report for native CSS keywords on the web\n2) what colors do we use to style Firefox\n3) what colors do we use when a web author has not specified a color (default foreground/background colors)\n4) do we override colors used by the web author with those defaults\n\nuse_system_colors addresses (3) very specifically, and the colours are used in lieu of user-defined ones for the foreground/background. They can then be made to override author-specified colors (4) using browser.display.document_color_use .\n\nuse_native_color now does both (1) and (2), but the naming does not make that clear, and it arguably really shouldn't be doing (2) to begin with.\n\nHow can we get this addressed? How are tor browser people even living with a barely-functional thing such as in the screenshot here and in bug 1247886 ? It doesn't look like Dave is responding to needinfo, so I'm pinging Jeff instead.", "attachment_id": null, "id": 11166275, "count": 19}, {"time": "2016-02-16T13:35:55Z", "tags": [], "text": "Then at least \"browser.display.use_system_colors\" is confusing here when it changes web page properties only.", "creation_time": "2016-02-16T13:35:55Z", "count": 20, "id": 11167893, "attachment_id": null, "bug_id": 1235520, "is_private": false, "raw_text": "Then at least \"browser.display.use_system_colors\" is confusing here when it changes web page properties only.", "author": "stransky@redhat.com", "creator": "stransky@redhat.com"}, {"creation_time": "2016-02-16T13:42:57Z", "count": 21, "id": 11167912, "bug_id": 1235520, "raw_text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #20)\n> Then at least \"browser.display.use_system_colors\" is confusing here when it\n> changes web page properties only.\n\nIt applies to chrome too, but we specify colors for most things... All it does is decide whether or not we use the default foreground/background color prefs, or if we use the system theme instead.", "creator": "gijskruitbosch+bugs@gmail.com", "time": "2016-02-16T13:42:57Z", "tags": [], "text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #20)\n> Then at least \"browser.display.use_system_colors\" is confusing here when it\n> changes web page properties only.\n\nIt applies to chrome too, but we specify colors for most things... All it does is decide whether or not we use the default foreground/background color prefs, or if we use the system theme instead.", "attachment_id": null, "is_private": false, "author": "gijskruitbosch+bugs@gmail.com"}, {"creation_time": "2016-02-16T14:23:58Z", "text": "> 2) what colors do we use to style Firefox\n\nThere's a problem which is addressed by Bug 1158076. \n\nWhen ui.use_native_color is false, picked colors are used instead of the system ones and those colors are selected as black-on-white. \n\nBut the background color is not drawn as color but as a system widgets which follow the system theme settings no matter how ui.use_native_color is set. For dark themes we get black text on black buttons then.\n\nA solutions may be to disable themed widgets in HTML when ui.use_native_color is false or use the light theme as it's in Bug 1158076.", "time": "2016-02-16T14:23:58Z", "tags": [], "raw_text": "> 2) what colors do we use to style Firefox\n\nThere's a problem which is addressed by Bug 1158076. \n\nWhen ui.use_native_color is false, picked colors are used instead of the system ones and those colors are selected as black-on-white. \n\nBut the background color is not drawn as color but as a system widgets which follow the system theme settings no matter how ui.use_native_color is set. For dark themes we get black text on black buttons then.\n\nA solutions may be to disable themed widgets in HTML when ui.use_native_color is false or use the light theme as it's in Bug 1158076.", "author": "stransky@redhat.com", "creator": "stransky@redhat.com", "bug_id": 1235520, "is_private": false, "count": 22, "id": 11167993, "attachment_id": null}, {"creation_time": "2016-02-16T14:29:07Z", "text": "Btw. I believe that a patch from Bug 1158076 can be greatly simplified by ui.use_standins_for_native_colors and/or ui.use_native_color. \n\nWhen dark theme is enabled we may set ui.use_standins_for_native_colors and only draw the background widgets in light theme. Karl, what do you think?", "time": "2016-02-16T14:29:07Z", "tags": [], "raw_text": "Btw. I believe that a patch from Bug 1158076 can be greatly simplified by ui.use_standins_for_native_colors and/or ui.use_native_color. \n\nWhen dark theme is enabled we may set ui.use_standins_for_native_colors and only draw the background widgets in light theme. Karl, what do you think?", "creator": "stransky@redhat.com", "author": "stransky@redhat.com", "bug_id": 1235520, "is_private": false, "count": 23, "attachment_id": null, "id": 11168008}, {"count": 24, "attachment_id": null, "id": 11204842, "raw_text": "just to clarify, ui.use_native_colors assigns native theme colors to the named CSS colors (e.g. ButtonFace) and is a known browser fingerprinting vector.  The ui.use_standins_for_native_colors is a patch from the Tor project that hard codes the native colors to Windows XP/7 colors to mask the OS from fingerprinters.\n\nuse_native_colors should be pref'd on by default and use_standins_for_native_colors pref'd off.  i'll take a look and see if i can repro the breakage with use_native_colors off.", "author": "huseby@bugzilla.email", "creator": "huseby@bugzilla.email", "bug_id": 1235520, "is_private": false, "time": "2016-02-29T20:39:19Z", "tags": [], "creation_time": "2016-02-29T20:39:19Z", "text": "just to clarify, ui.use_native_colors assigns native theme colors to the named CSS colors (e.g. ButtonFace) and is a known browser fingerprinting vector.  The ui.use_standins_for_native_colors is a patch from the Tor project that hard codes the native colors to Windows XP/7 colors to mask the OS from fingerprinters.\n\nuse_native_colors should be pref'd on by default and use_standins_for_native_colors pref'd off.  i'll take a look and see if i can repro the breakage with use_native_colors off."}, {"text": "(In reply to Dave Huseby [:huseby] from comment #24)\n> just to clarify, ui.use_native_colors assigns native theme colors to the\n> named CSS colors (e.g. ButtonFace) and is a known browser fingerprinting\n> vector.  The ui.use_standins_for_native_colors is a patch from the Tor\n> project that hard codes the native colors to Windows XP/7 colors to mask the\n> OS from fingerprinters.\n\nRight, and this all makes sense for content documents, but less so for chrome ones, and even if we do want it to apply to chrome ones, we should ensure popups and so on don't become transparent/unusable.\n\n> use_native_colors should be pref'd on by default and\n> use_standins_for_native_colors pref'd off.  i'll take a look and see if i\n> can repro the breakage with use_native_colors off.\n\nOK, leaving needinfo for this.", "time": "2016-03-02T10:19:55Z", "tags": [], "author": "gijskruitbosch+bugs@gmail.com", "is_private": false, "attachment_id": null, "creation_time": "2016-03-02T10:19:55Z", "raw_text": "(In reply to Dave Huseby [:huseby] from comment #24)\n> just to clarify, ui.use_native_colors assigns native theme colors to the\n> named CSS colors (e.g. ButtonFace) and is a known browser fingerprinting\n> vector.  The ui.use_standins_for_native_colors is a patch from the Tor\n> project that hard codes the native colors to Windows XP/7 colors to mask the\n> OS from fingerprinters.\n\nRight, and this all makes sense for content documents, but less so for chrome ones, and even if we do want it to apply to chrome ones, we should ensure popups and so on don't become transparent/unusable.\n\n> use_native_colors should be pref'd on by default and\n> use_standins_for_native_colors pref'd off.  i'll take a look and see if i\n> can repro the breakage with use_native_colors off.\n\nOK, leaving needinfo for this.", "creator": "gijskruitbosch+bugs@gmail.com", "bug_id": 1235520, "count": 25, "id": 11210324}, {"text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #23)\n> Btw. I believe that a patch from Bug 1158076 can be greatly simplified by\n> ui.use_standins_for_native_colors and/or ui.use_native_color. \n> \n> When dark theme is enabled we may set ui.use_standins_for_native_colors and\n> only draw the background widgets in light theme. Karl, what do you think?\n\nI prefer using native colors even in the light theme, which an approach like attachment 8753289 should provide.", "creation_time": "2016-08-08T03:21:11Z", "tags": [], "time": "2016-08-08T03:21:11Z", "is_private": false, "bug_id": 1235520, "author": "karlt@mozbugz.karlt.net", "creator": "karlt@mozbugz.karlt.net", "raw_text": "(In reply to Martin Str\u00e1nsk\u00fd from comment #23)\n> Btw. I believe that a patch from Bug 1158076 can be greatly simplified by\n> ui.use_standins_for_native_colors and/or ui.use_native_color. \n> \n> When dark theme is enabled we may set ui.use_standins_for_native_colors and\n> only draw the background widgets in light theme. Karl, what do you think?\n\nI prefer using native colors even in the light theme, which an approach like attachment 8753289 should provide.", "id": 11605925, "attachment_id": null, "count": 26}, {"creation_time": "2017-03-09T16:57:33Z", "text": "This bug affects GTK3 enabled Firefox (version 46+) as well.", "time": "2017-03-09T16:57:33Z", "tags": [], "raw_text": "This bug affects GTK3 enabled Firefox (version 46+) as well.", "author": "aros@gmx.com", "creator": "aros@gmx.com", "bug_id": 1235520, "is_private": false, "count": 27, "attachment_id": null, "id": 12130538}, {"creation_time": "2017-03-09T17:00:21Z", "text": "(In reply to Artem S. Tashkinov from comment #27)\n> This bug affects GTK3 enabled Firefox (version 46+) as well.\n\nI don't understand why you closed this if it's still broken. It sounds like it still needs to be fixed.", "tags": [], "time": "2017-03-09T17:00:21Z", "author": "gijskruitbosch+bugs@gmail.com", "creator": "gijskruitbosch+bugs@gmail.com", "raw_text": "(In reply to Artem S. Tashkinov from comment #27)\n> This bug affects GTK3 enabled Firefox (version 46+) as well.\n\nI don't understand why you closed this if it's still broken. It sounds like it still needs to be fixed.", "is_private": false, "bug_id": 1235520, "id": 12130546, "attachment_id": null, "count": 28}, {"tags": [], "time": "2021-09-02T07:20:22Z", "creation_time": "2021-09-02T07:20:22Z", "text": "aros, do you still see this problem?", "attachment_id": null, "id": 15552250, "count": 29, "author": "vseerror@lehigh.edu", "creator": "vseerror@lehigh.edu", "raw_text": "aros, do you still see this problem?", "is_private": false, "bug_id": 1235520}, {"is_private": false, "author": "yan12125+foss@gmail.com", "attachment_id": null, "text": "Maybe this issue is no longer relevant as `ui.use_native_colors` is removed and assumed true since Firefox 87: https://hg.mozilla.org/mozilla-central/rev/530980f4a015", "time": "2021-09-02T09:12:53Z", "tags": [], "bug_id": 1235520, "raw_text": "Maybe this issue is no longer relevant as `ui.use_native_colors` is removed and assumed true since Firefox 87: https://hg.mozilla.org/mozilla-central/rev/530980f4a015", "creator": "yan12125+foss@gmail.com", "count": 30, "id": 15552378, "creation_time": "2021-09-02T09:12:53Z"}, {"count": 31, "attachment_id": null, "id": 15552389, "bug_id": 1235520, "is_private": false, "raw_text": "Yeah, let's close it then.", "creator": "aros@gmx.com", "author": "aros@gmx.com", "time": "2021-09-02T09:21:54Z", "tags": [], "text": "Yeah, let's close it then.", "creation_time": "2021-09-02T09:21:54Z"}]}}}