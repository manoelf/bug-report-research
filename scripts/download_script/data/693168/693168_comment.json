{"comments": {}, "bugs": {"693168": {"comments": [{"id": 5770063, "raw_text": "Unfortunately, FGLRX does not provide a driver version number in GL_VERSION string. Currently we use the OpenGL version as only discriminant factor, we require it to be >= 3.0. Unfortunately we have some unsolvable bugs even with recent drivers supporting GL 3.3 so we might have to blacklist it completely. Alternatively one might say that distros don't ship it by default anyways, so we might do as for the Nouveau drivers and just ignore bugs rather than blacklisting.", "attachment_id": null, "text": "Unfortunately, FGLRX does not provide a driver version number in GL_VERSION string. Currently we use the OpenGL version as only discriminant factor, we require it to be >= 3.0. Unfortunately we have some unsolvable bugs even with recent drivers supporting GL 3.3 so we might have to blacklist it completely. Alternatively one might say that distros don't ship it by default anyways, so we might do as for the Nouveau drivers and just ignore bugs rather than blacklisting.", "bug_id": 693168, "tags": [], "time": "2011-10-09T15:31:31Z", "creation_time": "2011-10-09T15:31:31Z", "author": "jacob.benoit.1@gmail.com", "count": 0, "is_private": false, "creator": "jacob.benoit.1@gmail.com"}, {"id": 6158008, "raw_text": "Version available in file /etc/ati/amdpcsdb.default", "attachment_id": null, "text": "Version available in file /etc/ati/amdpcsdb.default", "time": "2012-03-21T04:15:42Z", "tags": [], "bug_id": 693168, "creation_time": "2012-03-21T04:15:42Z", "author": "russianneuromancer@ya.ru", "count": 1, "is_private": false, "creator": "russianneuromancer@ya.ru"}, {"creator": "john@nextraweb.com", "is_private": false, "count": 2, "author": "john@nextraweb.com", "creation_time": "2012-04-29T09:34:16Z", "bug_id": 693168, "time": "2012-04-29T09:34:16Z", "tags": [], "text": "(In reply to runetmember from comment #1)\n> Version available in file /etc/ati/amdpcsdb.default\n\nLike so:\n\njohn@joran ~/bin/firefox-nightly/firefox > cat /etc/ati/amdpcsdb.default | grep Version\nReleaseVersion=S8.84.6-110324a-116088C-ATI", "attachment_id": null, "raw_text": "(In reply to runetmember from comment #1)\n> Version available in file /etc/ati/amdpcsdb.default\n\nLike so:\n\njohn@joran ~/bin/firefox-nightly/firefox > cat /etc/ati/amdpcsdb.default | grep Version\nReleaseVersion=S8.84.6-110324a-116088C-ATI", "id": 6263575}, {"id": 6263703, "attachment_id": null, "raw_text": "OK, I see.\n\nSince we have to do this during startup, it really, but really sucks to have to fopen() another small file. Even though we do it on a different process in parallel, it's still potentially a seek on the same hard disk drive that we have to load firefox from. So it could easily slow down Firefox startup by twice the seek time (round trip) which could be 25 ms.", "author": "jacob.benoit.1@gmail.com", "creation_time": "2012-04-29T13:36:25Z", "time": "2012-04-29T13:36:25Z", "bug_id": 693168, "tags": [], "text": "OK, I see.\n\nSince we have to do this during startup, it really, but really sucks to have to fopen() another small file. Even though we do it on a different process in parallel, it's still potentially a seek on the same hard disk drive that we have to load firefox from. So it could easily slow down Firefox startup by twice the seek time (round trip) which could be 25 ms.", "creator": "jacob.benoit.1@gmail.com", "is_private": false, "count": 3}, {"id": 6263771, "attachment_id": null, "raw_text": "(In reply to Benoit Jacob [:bjacob] from comment #3)\n> Since we have to do this during startup, it really, but really sucks to have\n> to fopen() another small file. Even though we do it on a different process\n> in parallel, it's still potentially a seek on the same hard disk drive that\n> we have to load firefox from. So it could easily slow down Firefox startup\n> by twice the seek time (round trip) which could be 25 ms.\n\nCould it be something lazily requested the first time a webgl context is requested [and stored until browser restart]?", "author": "john@nextraweb.com", "creation_time": "2012-04-29T15:37:09Z", "time": "2012-04-29T15:37:09Z", "bug_id": 693168, "tags": [], "text": "(In reply to Benoit Jacob [:bjacob] from comment #3)\n> Since we have to do this during startup, it really, but really sucks to have\n> to fopen() another small file. Even though we do it on a different process\n> in parallel, it's still potentially a seek on the same hard disk drive that\n> we have to load firefox from. So it could easily slow down Firefox startup\n> by twice the seek time (round trip) which could be 25 ms.\n\nCould it be something lazily requested the first time a webgl context is requested [and stored until browser restart]?", "creator": "john@nextraweb.com", "is_private": false, "count": 4}, {"raw_text": "For now yes, but we want to shortly turn on GL compositing, for which we need to check the blacklist on startup.\n\nWe could cache this, but only if we have a reasonable way of invalidating the cache when needed.\n\nIs the last, fairly long number in the GL_VERSION string unique to a FGLRX version? If yes, it could be used as the key for cache validity.", "attachment_id": null, "id": 6263773, "count": 5, "creator": "jacob.benoit.1@gmail.com", "is_private": false, "bug_id": 693168, "tags": [], "time": "2012-04-29T15:41:10Z", "text": "For now yes, but we want to shortly turn on GL compositing, for which we need to check the blacklist on startup.\n\nWe could cache this, but only if we have a reasonable way of invalidating the cache when needed.\n\nIs the last, fairly long number in the GL_VERSION string unique to a FGLRX version? If yes, it could be used as the key for cache validity.", "author": "jacob.benoit.1@gmail.com", "creation_time": "2012-04-29T15:41:10Z"}, {"is_private": false, "creator": "john@nextraweb.com", "count": 6, "creation_time": "2012-04-29T16:07:58Z", "author": "john@nextraweb.com", "text": "(In reply to Benoit Jacob [:bjacob] from comment #5)\n> For now yes, but we want to shortly turn on GL compositing, for which we\n> need to check the blacklist on startup.\n> \n> We could cache this, but only if we have a reasonable way of invalidating\n> the cache when needed.\n> \n> Is the last, fairly long number in the GL_VERSION string unique to a FGLRX\n> version? If yes, it could be used as the key for cache validity.\n\nThere doesn\u2019t appear to be anything that correlates, I\u2019ll have to wait for the next driver update and reply with a confirmation or not.\n\nFrom the above driver version, this is the GL_VERSION\nOpenGL version string: 3.3.10665 Compatibility Profile Context", "bug_id": 693168, "tags": [], "time": "2012-04-29T16:07:58Z", "attachment_id": null, "raw_text": "(In reply to Benoit Jacob [:bjacob] from comment #5)\n> For now yes, but we want to shortly turn on GL compositing, for which we\n> need to check the blacklist on startup.\n> \n> We could cache this, but only if we have a reasonable way of invalidating\n> the cache when needed.\n> \n> Is the last, fairly long number in the GL_VERSION string unique to a FGLRX\n> version? If yes, it could be used as the key for cache validity.\n\nThere doesn\u2019t appear to be anything that correlates, I\u2019ll have to wait for the next driver update and reply with a confirmation or not.\n\nFrom the above driver version, this is the GL_VERSION\nOpenGL version string: 3.3.10665 Compatibility Profile Context", "id": 6263790}, {"is_private": false, "creator": "mirh@protonmail.ch", "count": 7, "creation_time": "2018-10-18T16:53:25Z", "author": "mirh@protonmail.ch", "text": "In newer catalyst (if you are still interested to this) they added kernel driver version after \"profile context\". \nAfter giving a quick check to opengl.gpuinfo.org and the good reports of geeks3d, I believe somewhere between 4.2.11762 (fglrx 12.8) and 4.2.12002, 9.12.0.0 (fglrx 13.1). \nEven though one would technically be interested to the userspace opengl component, in my experience kernel build is far more telling of whatever branch (hence major bugs) binary comes.", "tags": [], "time": "2018-10-18T16:53:25Z", "bug_id": 693168, "attachment_id": null, "raw_text": "In newer catalyst (if you are still interested to this) they added kernel driver version after \"profile context\". \nAfter giving a quick check to opengl.gpuinfo.org and the good reports of geeks3d, I believe somewhere between 4.2.11762 (fglrx 12.8) and 4.2.12002, 9.12.0.0 (fglrx 13.1). \nEven though one would technically be interested to the userspace opengl component, in my experience kernel build is far more telling of whatever branch (hence major bugs) binary comes.", "id": 13696809}]}}}