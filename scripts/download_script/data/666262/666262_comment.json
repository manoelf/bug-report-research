{"bugs": {"666262": {"comments": [{"id": 5548253, "raw_text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; de; rv:1.9.2.18) Gecko/20110614 Firefox/3.6.18 ( .NET CLR 3.5.30729; .NET4.0C)\nBuild Identifier: Mozilla/5.0 (Windows NT 6.0; rv:5.0) Gecko/20100101 Firefox/5.0\n\nI wanted to display the content of a canvas object, after Firefox 5 has opened the tab with the image(took ~130s). It will reload the tab, when doing anything with the Firefox Window. When restarting it, it nothing can be done anymore.\nThis also happens in Safe Mode.\n\nThen tried in Firefox 3.6.18 and Mozilla/5.0 (Windows NT 6.0; rv:2.0b7pre) Gecko/20100925 Firefox/4.0b7pre.\nIt didn't take that long to display the canvas and they continued to work after the tab is displayed.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Create new profile\n2. Open Firefox 5 (either SafeMode, or NormalMode)\n3. Open the URL\n4. Press Draw until N=12 (canvas width and height will be 4096 after that)\n5. Right-click on the canvas, click \"View Image\"\n   (when using N=11 (width and height=2048) firefox will continue to work as expected)\n\nActual Results:  \nFirefox hangs up and will consume much cpu.\nSome time later, it's finished. When doing something with the window (e.g. clicking on it), it will reload the image and it starts again.\n\nExpected Results:  \nOpen the tab and display the image. Then it shouldn't reload when doing anything.\nEverything should works as for the image with the width of 2048.\n\nI think it's got something to do with the base64-link(it's ~5-9mb large for N=12), which is generated by then canvas when doing RightClick->ViewImage.", "attachment_id": null, "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; de; rv:1.9.2.18) Gecko/20110614 Firefox/3.6.18 ( .NET CLR 3.5.30729; .NET4.0C)\nBuild Identifier: Mozilla/5.0 (Windows NT 6.0; rv:5.0) Gecko/20100101 Firefox/5.0\n\nI wanted to display the content of a canvas object, after Firefox 5 has opened the tab with the image(took ~130s). It will reload the tab, when doing anything with the Firefox Window. When restarting it, it nothing can be done anymore.\nThis also happens in Safe Mode.\n\nThen tried in Firefox 3.6.18 and Mozilla/5.0 (Windows NT 6.0; rv:2.0b7pre) Gecko/20100925 Firefox/4.0b7pre.\nIt didn't take that long to display the canvas and they continued to work after the tab is displayed.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Create new profile\n2. Open Firefox 5 (either SafeMode, or NormalMode)\n3. Open the URL\n4. Press Draw until N=12 (canvas width and height will be 4096 after that)\n5. Right-click on the canvas, click \"View Image\"\n   (when using N=11 (width and height=2048) firefox will continue to work as expected)\n\nActual Results:  \nFirefox hangs up and will consume much cpu.\nSome time later, it's finished. When doing something with the window (e.g. clicking on it), it will reload the image and it starts again.\n\nExpected Results:  \nOpen the tab and display the image. Then it shouldn't reload when doing anything.\nEverything should works as for the image with the width of 2048.\n\nI think it's got something to do with the base64-link(it's ~5-9mb large for N=12), which is generated by then canvas when doing RightClick->ViewImage.", "time": "2011-06-22T15:02:16Z", "tags": [], "creation_time": "2011-06-22T15:02:16Z", "author": "megaviruzz@googlemail.com", "is_private": false, "creator": "megaviruzz@googlemail.com", "bug_id": 666262, "count": 0}, {"creator": "megaviruzz@googlemail.com", "is_private": false, "count": 1, "author": "megaviruzz@googlemail.com", "creation_time": "2011-06-22T15:10:20Z", "bug_id": 666262, "time": "2011-06-22T15:10:20Z", "tags": [], "text": "It seems that https://bugzilla.mozilla.org/show_bug.cgi?id=621688 describes a similar problem, because the URL mentioned there also uses canvases and the \"save\" button opens the base64-link of the canvas.", "attachment_id": null, "raw_text": "It seems that https://bugzilla.mozilla.org/show_bug.cgi?id=621688 describes a similar problem, because the URL mentioned there also uses canvases and the \"save\" button opens the base64-link of the canvas.", "id": 5548261}, {"creator": "xtc4uall@gmail.com", "is_private": false, "count": 2, "author": "xtc4uall@gmail.com", "creation_time": "2011-06-22T18:05:57Z", "time": "2011-06-22T18:05:57Z", "tags": [], "bug_id": 666262, "text": "Confirmed against Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0 ID:20110615151330 with >110s Loading Time.\n\nAgainst Mozilla/5.0 (Windows NT 5.1; rv:7.0a1) Gecko/20110622 Firefox/7.0a1 ID:20110622030844 there's Improvement since for me it takes ~15s.\n\nCan you test against a Nightly Build and confirm the Improvement?\nhttp://nightly.mozilla.org/", "attachment_id": null, "raw_text": "Confirmed against Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0 ID:20110615151330 with >110s Loading Time.\n\nAgainst Mozilla/5.0 (Windows NT 5.1; rv:7.0a1) Gecko/20110622 Firefox/7.0a1 ID:20110622030844 there's Improvement since for me it takes ~15s.\n\nCan you test against a Nightly Build and confirm the Improvement?\nhttp://nightly.mozilla.org/", "id": 5548781}, {"text": "Created attachment 541114\nReporter's Testcase", "bug_id": 666262, "tags": [], "time": "2011-06-22T18:06:28Z", "creation_time": "2011-06-22T18:06:28Z", "author": "xtc4uall@gmail.com", "count": 3, "is_private": false, "creator": "xtc4uall@gmail.com", "id": 5548783, "raw_text": "", "attachment_id": 541114}, {"id": 5549076, "raw_text": "Mozilla/5.0 (Windows NT 6.0; rv:7.0a1) Gecko/20110622 Firefox/7.0a1\nn=12 it takes ~35s, and it will work as expected\n\nbut when using n=13 it just crashes before it can display the image (out of memory? ... but there was still free memory available)\nwhen testing a second time at n=13 it said: \"image cannot be displayed because it contains errors\"\n\nWhen playing around with the testcase I also discovered, that it's the size of the png and not the size of the canvas which makes the difference.\nin ff5 sizes over 5/6mb will lead to errors.\nin the nightly it's something about 10-15mb", "attachment_id": null, "text": "Mozilla/5.0 (Windows NT 6.0; rv:7.0a1) Gecko/20110622 Firefox/7.0a1\nn=12 it takes ~35s, and it will work as expected\n\nbut when using n=13 it just crashes before it can display the image (out of memory? ... but there was still free memory available)\nwhen testing a second time at n=13 it said: \"image cannot be displayed because it contains errors\"\n\nWhen playing around with the testcase I also discovered, that it's the size of the png and not the size of the canvas which makes the difference.\nin ff5 sizes over 5/6mb will lead to errors.\nin the nightly it's something about 10-15mb", "bug_id": 666262, "tags": [], "time": "2011-06-22T19:55:03Z", "creation_time": "2011-06-22T19:55:03Z", "author": "megaviruzz@googlemail.com", "count": 4, "is_private": false, "creator": "megaviruzz@googlemail.com"}, {"attachment_id": null, "raw_text": "Is this a regression from Firefox 4?  Comment 0 mentions 4.0b7, but not 4.0 final...", "id": 5549186, "is_private": false, "creator": "bzbarsky@mit.edu", "count": 5, "creation_time": "2011-06-22T20:29:21Z", "author": "bzbarsky@mit.edu", "text": "Is this a regression from Firefox 4?  Comment 0 mentions 4.0b7, but not 4.0 final...", "tags": [], "time": "2011-06-22T20:29:21Z", "bug_id": 666262}, {"count": 6, "creator": "megaviruzz@googlemail.com", "is_private": false, "tags": [], "bug_id": 666262, "time": "2011-06-24T09:56:13Z", "text": "Mozilla/5.0 (Windows NT 6.0; rv:2.0) Gecko/20100101 Firefox/4.0\nIt can display n=12, but the canvas seems to break with n=13. It's just black and clicking ViewImage won't do anything.\n\nFirefox 3.6.18 can display n=13\n\nSo I would say: the loading times have improved, but since ff4 firefox has problems displaying big images over 4. The limiting size has increased for v5 and v7 to ~12mb.", "author": "megaviruzz@googlemail.com", "creation_time": "2011-06-24T09:56:13Z", "raw_text": "Mozilla/5.0 (Windows NT 6.0; rv:2.0) Gecko/20100101 Firefox/4.0\nIt can display n=12, but the canvas seems to break with n=13. It's just black and clicking ViewImage won't do anything.\n\nFirefox 3.6.18 can display n=13\n\nSo I would say: the loading times have improved, but since ff4 firefox has problems displaying big images over 4. The limiting size has increased for v5 and v7 to ~12mb.", "attachment_id": null, "id": 5553613}, {"count": 7, "creator": "xtc4uall@gmail.com", "is_private": false, "bug_id": 666262, "tags": [], "time": "2013-08-11T21:30:18Z", "text": "FWIW, on a different Box as in Comment 2 and against a recent Trunk Build I can go up to\n\nN=13; width=8192; height=8192\n\nWith N=14 I only get a black Rectangle.\n\nChrome 30 crashes the GPU with N=13.", "author": "xtc4uall@gmail.com", "creation_time": "2013-08-11T21:30:18Z", "raw_text": "FWIW, on a different Box as in Comment 2 and against a recent Trunk Build I can go up to\n\nN=13; width=8192; height=8192\n\nWith N=14 I only get a black Rectangle.\n\nChrome 30 crashes the GPU with N=13.", "attachment_id": null, "id": 7735698}, {"raw_text": "(In reply to XtC4UaLL [:xtc4uall] from comment #7)\n> FWIW, on a different Box as in Comment 2 and against a recent Trunk Build I\n> can go up to\n> \n> N=13; width=8192; height=8192\n> \n> With N=14 I only get a black Rectangle.\nActually the black rectangle is more of an artifact of downscaling, not a bug in Firefox\n\nNow, with current Nightly (win7 64-bit, 26.0a1), the Actual Results are slightly different.\nThe main problem still exists though:\n  \"Right-click on the canvas, click \"View Image\" and wait forever\"", "attachment_id": null, "id": 7735751, "count": 8, "creator": "megaviruzz@googlemail.com", "is_private": false, "tags": [], "bug_id": 666262, "time": "2013-08-11T23:13:21Z", "text": "(In reply to XtC4UaLL [:xtc4uall] from comment #7)\n> FWIW, on a different Box as in Comment 2 and against a recent Trunk Build I\n> can go up to\n> \n> N=13; width=8192; height=8192\n> \n> With N=14 I only get a black Rectangle.\nActually the black rectangle is more of an artifact of downscaling, not a bug in Firefox\n\nNow, with current Nightly (win7 64-bit, 26.0a1), the Actual Results are slightly different.\nThe main problem still exists though:\n  \"Right-click on the canvas, click \"View Image\" and wait forever\"", "author": "megaviruzz@googlemail.com", "creation_time": "2013-08-11T23:13:21Z"}]}}, "comments": {}}