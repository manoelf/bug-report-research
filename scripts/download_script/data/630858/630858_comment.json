{"comments": {}, "bugs": {"630858": {"comments": [{"text": "I'm trying to get a web storage view into Data Manager (add-on / SeaMonkey built-in), see bug 588415, and for doing such a management UI in chrome, I'd need a possibility to get a list of all URIs using indexedDB - from there, the current methods of nsIIndexedDatabaseManager do the rest that's needed, like getting usage or deleting the DB, but without even knowing which databases are stored in the user's browser, it doesn't help much if I can let him operate on them. ;-)\n\nkhuey says on IRC: you want to be able to enumerate the hashtable at http://mxr.mozilla.org/mozilla-central/source/dom/indexedDB/IndexedDatabaseManager.h#221\n\nOf course, all I know is JS, so I can't directly access this hashtable, could we have a method for this added to nsIIndexedDatabaseManager?", "is_private": false, "count": 0, "id": 5247183, "tags": [], "creation_time": "2011-02-02T15:34:39Z", "bug_id": 630858, "raw_text": "I'm trying to get a web storage view into Data Manager (add-on / SeaMonkey built-in), see bug 588415, and for doing such a management UI in chrome, I'd need a possibility to get a list of all URIs using indexedDB - from there, the current methods of nsIIndexedDatabaseManager do the rest that's needed, like getting usage or deleting the DB, but without even knowing which databases are stored in the user's browser, it doesn't help much if I can let him operate on them. ;-)\n\nkhuey says on IRC: you want to be able to enumerate the hashtable at http://mxr.mozilla.org/mozilla-central/source/dom/indexedDB/IndexedDatabaseManager.h#221\n\nOf course, all I know is JS, so I can't directly access this hashtable, could we have a method for this added to nsIIndexedDatabaseManager?", "time": "2011-02-02T15:34:39Z", "author": "kairo@kairo.at", "creator": "kairo@kairo.at", "attachment_id": null}, {"attachment_id": null, "creator": "kairo@kairo.at", "author": "kairo@kairo.at", "time": "2011-02-02T16:22:22Z", "tags": [], "creation_time": "2011-02-02T16:22:22Z", "id": 5247300, "count": 1, "raw_text": "Oh, and just as a note (haven't checked yet, as I'm not there with my implementation yet), if there's no events one can observe for adding/removal/etc. of indexed databases, we probably want them as well, just like cookies, permissions, passwords, etc. have them. This may be yet another bug, though.", "bug_id": 630858, "is_private": false, "text": "Oh, and just as a note (haven't checked yet, as I'm not there with my implementation yet), if there's no events one can observe for adding/removal/etc. of indexed databases, we probably want them as well, just like cookies, permissions, passwords, etc. have them. This may be yet another bug, though."}, {"raw_text": "(In reply to comment #0)\n> khuey says on IRC: you want to be able to enumerate the hashtable at\n> http://mxr.mozilla.org/mozilla-central/source/dom/indexedDB/IndexedDatabaseManager.h#221\n\nThat hash only contains databases that are live in memory, not all that have ever been created on disk, so I don't think that's actually what you want.", "id": 5247334, "count": 2, "text": "(In reply to comment #0)\n> khuey says on IRC: you want to be able to enumerate the hashtable at\n> http://mxr.mozilla.org/mozilla-central/source/dom/indexedDB/IndexedDatabaseManager.h#221\n\nThat hash only contains databases that are live in memory, not all that have ever been created on disk, so I don't think that's actually what you want.", "bug_id": 630858, "is_private": false, "tags": [], "creation_time": "2011-02-02T16:38:53Z", "author": "bent.mozilla@gmail.com", "creator": "bent.mozilla@gmail.com", "attachment_id": null, "time": "2011-02-02T16:38:53Z"}, {"raw_text": "Yeah, I think the only way to do this would be to get a directory listing of the directory where we stick all indexedDB database directories. There is no central repository of all databases ever created.", "bug_id": 630858, "creator": "jonas@sicking.cc", "author": "jonas@sicking.cc", "attachment_id": null, "time": "2011-02-02T21:38:21Z", "count": 3, "id": 5248405, "is_private": false, "text": "Yeah, I think the only way to do this would be to get a directory listing of the directory where we stick all indexedDB database directories. There is no central repository of all databases ever created.", "creation_time": "2011-02-02T21:38:21Z", "tags": []}, {"author": "kairo@kairo.at", "creator": "kairo@kairo.at", "attachment_id": null, "time": "2011-02-02T22:42:22Z", "raw_text": "OK, good to know. Still I think it would be better if we had a method on nsIIndexedDatabaseManager that does this instead of needing to do that on the \"consumer\" side and scrape domain names from the directory names.", "bug_id": 630858, "tags": [], "creation_time": "2011-02-02T22:42:22Z", "id": 5248685, "count": 4, "text": "OK, good to know. Still I think it would be better if we had a method on nsIIndexedDatabaseManager that does this instead of needing to do that on the \"consumer\" side and scrape domain names from the directory names.", "is_private": false}]}}}