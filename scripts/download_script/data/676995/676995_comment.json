{"bugs": {"676995": {"comments": [{"attachment_id": null, "tags": [], "creator": "gbrown@mozilla.com", "creation_time": "2011-08-06T01:00:04Z", "is_private": false, "raw_text": "With patches for bug 668349 and 668351, xpcshell tests can be run on an Android device, and the majority of tests pass. \n\nHowever, uriloader/exthandler/tests/unit_ipc/test_encoding.js hangs consistently if run on Android.", "time": "2011-08-06T01:00:04Z", "text": "With patches for bug 668349 and 668351, xpcshell tests can be run on an Android device, and the majority of tests pass. \n\nHowever, uriloader/exthandler/tests/unit_ipc/test_encoding.js hangs consistently if run on Android.", "count": 0, "author": "gbrown@mozilla.com", "id": 5637160, "bug_id": 676995}, {"tags": [], "raw_text": "In all likelihood this is the same kind of problem as bug 676963.  Please attach logs to these bugs.", "attachment_id": null, "time": "2011-08-06T01:12:35Z", "creation_time": "2011-08-06T01:12:35Z", "is_private": false, "id": 5637178, "bug_id": 676995, "count": 1, "text": "In all likelihood this is the same kind of problem as bug 676963.  Please attach logs to these bugs.", "author": "cjones.bugs@gmail.com", "creator": "cjones.bugs@gmail.com"}, {"is_private": false, "creation_time": "2011-08-09T20:53:06Z", "creator": "gbrown@mozilla.com", "tags": [], "attachment_id": null, "bug_id": 676995, "id": 5643315, "author": "gbrown@mozilla.com", "text": "geoff@geoff-MacBookPro:~/src/mozilla-central/objdir-droid$ make SOLO_FILE=test_encoding.js -C uriloader/exthandler/tests check-one-remote\nmake: Entering directory `/home/geoff/src/mozilla-central/objdir-droid/uriloader/exthandler/tests'\n/usr/bin/python2.6 -u ../../../../config/pythonpath.py \\\n\t  -I../../../../build \\\n\t  -I../../../../build/mobile \\\n\t  ../../../../testing/xpcshell/remotexpcshelltests.py \\\n\t  --symbols-path=../../../dist/crashreporter-symbols \\\n\t  --build-info-json=../../../mozinfo.json \\\n\t  --test-path=test_encoding.js \\\n\t  --profile-name=fennec \\\n\t  --verbose \\\n\t   \\\n\t  --dm_trans=adb \\\n\t  --deviceIP= \\\n\t  --objdir=../../.. \\\n\t  --apk=../../../dist/fennec-8.0a1.en-US.eabi-arm.apk \\\n          --noSetup \\\n\t  ../../../_tests/xpcshell/uriloader/exthandler/tests/unit ../../../_tests/xpcshell/uriloader/exthandler/tests/unit_ipc\npackage set: org.mozilla.fennec_unofficial\nchmod /data/local/tests/xpcshell/p\nTEST-INFO | profile dir is /data/local/tests/xpcshell/p\nTEST-INFO | /home/geoff/src/mozilla-central/objdir-droid/_tests/xpcshell/uriloader/exthandler/tests/unit_ipc/test_encoding.js | running test ...\ncd /data/local/tests/xpcshell/uriloader/exthandler/tests/unit_ipc; LD_LIBRARY_PATH=/data/local/tests/xpcshell/b; export CACHE_PATH=/data/local/tests/xpcshell/b; export GRE_HOME=/data/data/org.mozilla.fennec_unofficial; export XPCSHELL_TEST_PROFILE_DIR=/data/local/tests/xpcshell/p; /data/local/tests/xpcshell/b/xpcshell -r /data/local/tests/xpcshell/c/httpd.manifest --greomni /data/local/tests/xpcshell/b/fennec-8.0a1.en-US.eabi-arm.apk -j -s -e 'const _HTTPD_JS_PATH = \"/data/local/tests/xpcshell/c/httpd.js\";' -e 'const _HEAD_JS_PATH = \"/data/local/tests/xpcshell/head.js\";' -f /data/local/tests/xpcshell/head.js -e 'const _SERVER_ADDR = \"localhost\"' -e 'const _HEAD_FILES = [];' -e 'const _TAIL_FILES = [];' -e 'const _TEST_FILE = [\"test_encoding.js\"];' -e '_execute_test(); quit(0);'\n^CTEST-UNEXPECTED-FAIL | /home/geoff/src/mozilla-central/objdir-droid/_tests/xpcshell/uriloader/exthandler/tests/unit_ipc/test_encoding.js | test failed (with xpcshell return code: -2), see following log:\n>>>>>>>\nWARNING: XPCOM objects created/destroyed from static ctor/dtor: file /home/geoff/src/mozilla-central/xpcom/base/nsTraceRefcntImpl.cpp, line 172\nWARNING: No default pref files found.: file /home/geoff/src/mozilla-central/modules/libpref/src/Preferences.cpp, line 923\nWARNING: GetIsLinkUp is not supported without a bridge connection: file /home/geoff/src/mozilla-central/netwerk/system/android/nsAndroidNetworkLinkService.cpp, line 61\n\nTEST-INFO | (xpcshell/head.js) | test 1 pending\n\nTEST-INFO | (xpcshell/head.js) | test 2 pending\n\nTEST-INFO | (xpcshell/head.js) | test 2 finished\n\nTEST-INFO | (xpcshell/head.js) | running event loop\nWARNING: XPCOM objects created/destroyed from static ctor/dtor: file /home/geoff/src/mozilla-central/xpcom/base/nsTraceRefcntImpl.cpp, line 172\nWARNING: Unable to read system value: 'aValue > 0', file /home/geoff/src/mozilla-central/xpcom/base/nsSystemInfo.cpp, line 191\nWARNING: NS_ENSURE_TRUE(mMainThread) failed: file /home/geoff/src/mozilla-central/xpcom/threads/nsThreadManager.cpp, line 282\nWARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0xC1F30001: file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/nsThreadUtils.cpp, line 168\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\nWARNING: No default pref files found.: file /home/geoff/src/mozilla-central/modules/libpref/src/Preferences.cpp, line 923\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: SQLite returned error code 1 , Storage will convert it to NS_ERROR_FAILURE: file /home/geoff/src/mozilla-central/storage/src/mozStoragePrivateHelpers.cpp, line 113\n************************************************************\n* Call to xpconnect wrapped JSObject produced this error:  *\n[Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIProperties.get]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: jar:file:///data/local/tests/xpcshell/b/fennec-8.0a1.en-US.eabi-arm.apk!/components/nsHandlerService.js :: <TOP_LEVEL> :: line 925\"  data: no]\n************************************************************\nWARNING: NS_ENSURE_TRUE(window) failed: file /home/geoff/src/mozilla-central/uriloader/exthandler/nsExternalHelperAppService.cpp, line 2515\nWARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0x80004005: file /home/geoff/src/mozilla-central/uriloader/exthandler/nsExternalHelperAppService.cpp, line 1411\n<<<<<<<\nTEST-UNEXPECTED-FAIL | Received SIGINT (control-C) during test execution\nINFO | Result summary:\nINFO | Passed: 0\nINFO | Failed: 1\nINFO | Todo: 0\nTEST-UNEXPECTED-FAIL | Received SIGINT (control-C), so stopped run. (Use --keep-going to keep running tests after killing one with SIGINT)\nmake: *** [check-one-remote] Error 1", "count": 2, "time": "2011-08-09T20:53:06Z", "raw_text": "geoff@geoff-MacBookPro:~/src/mozilla-central/objdir-droid$ make SOLO_FILE=test_encoding.js -C uriloader/exthandler/tests check-one-remote\nmake: Entering directory `/home/geoff/src/mozilla-central/objdir-droid/uriloader/exthandler/tests'\n/usr/bin/python2.6 -u ../../../../config/pythonpath.py \\\n\t  -I../../../../build \\\n\t  -I../../../../build/mobile \\\n\t  ../../../../testing/xpcshell/remotexpcshelltests.py \\\n\t  --symbols-path=../../../dist/crashreporter-symbols \\\n\t  --build-info-json=../../../mozinfo.json \\\n\t  --test-path=test_encoding.js \\\n\t  --profile-name=fennec \\\n\t  --verbose \\\n\t   \\\n\t  --dm_trans=adb \\\n\t  --deviceIP= \\\n\t  --objdir=../../.. \\\n\t  --apk=../../../dist/fennec-8.0a1.en-US.eabi-arm.apk \\\n          --noSetup \\\n\t  ../../../_tests/xpcshell/uriloader/exthandler/tests/unit ../../../_tests/xpcshell/uriloader/exthandler/tests/unit_ipc\npackage set: org.mozilla.fennec_unofficial\nchmod /data/local/tests/xpcshell/p\nTEST-INFO | profile dir is /data/local/tests/xpcshell/p\nTEST-INFO | /home/geoff/src/mozilla-central/objdir-droid/_tests/xpcshell/uriloader/exthandler/tests/unit_ipc/test_encoding.js | running test ...\ncd /data/local/tests/xpcshell/uriloader/exthandler/tests/unit_ipc; LD_LIBRARY_PATH=/data/local/tests/xpcshell/b; export CACHE_PATH=/data/local/tests/xpcshell/b; export GRE_HOME=/data/data/org.mozilla.fennec_unofficial; export XPCSHELL_TEST_PROFILE_DIR=/data/local/tests/xpcshell/p; /data/local/tests/xpcshell/b/xpcshell -r /data/local/tests/xpcshell/c/httpd.manifest --greomni /data/local/tests/xpcshell/b/fennec-8.0a1.en-US.eabi-arm.apk -j -s -e 'const _HTTPD_JS_PATH = \"/data/local/tests/xpcshell/c/httpd.js\";' -e 'const _HEAD_JS_PATH = \"/data/local/tests/xpcshell/head.js\";' -f /data/local/tests/xpcshell/head.js -e 'const _SERVER_ADDR = \"localhost\"' -e 'const _HEAD_FILES = [];' -e 'const _TAIL_FILES = [];' -e 'const _TEST_FILE = [\"test_encoding.js\"];' -e '_execute_test(); quit(0);'\n^CTEST-UNEXPECTED-FAIL | /home/geoff/src/mozilla-central/objdir-droid/_tests/xpcshell/uriloader/exthandler/tests/unit_ipc/test_encoding.js | test failed (with xpcshell return code: -2), see following log:\n>>>>>>>\nWARNING: XPCOM objects created/destroyed from static ctor/dtor: file /home/geoff/src/mozilla-central/xpcom/base/nsTraceRefcntImpl.cpp, line 172\nWARNING: No default pref files found.: file /home/geoff/src/mozilla-central/modules/libpref/src/Preferences.cpp, line 923\nWARNING: GetIsLinkUp is not supported without a bridge connection: file /home/geoff/src/mozilla-central/netwerk/system/android/nsAndroidNetworkLinkService.cpp, line 61\n\nTEST-INFO | (xpcshell/head.js) | test 1 pending\n\nTEST-INFO | (xpcshell/head.js) | test 2 pending\n\nTEST-INFO | (xpcshell/head.js) | test 2 finished\n\nTEST-INFO | (xpcshell/head.js) | running event loop\nWARNING: XPCOM objects created/destroyed from static ctor/dtor: file /home/geoff/src/mozilla-central/xpcom/base/nsTraceRefcntImpl.cpp, line 172\nWARNING: Unable to read system value: 'aValue > 0', file /home/geoff/src/mozilla-central/xpcom/base/nsSystemInfo.cpp, line 191\nWARNING: NS_ENSURE_TRUE(mMainThread) failed: file /home/geoff/src/mozilla-central/xpcom/threads/nsThreadManager.cpp, line 282\nWARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0xC1F30001: file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/nsThreadUtils.cpp, line 168\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\n###!!! ERROR: Potential deadlock detected:\n=== Cyclical dependency starts at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\n--- Next dependency:\n--- ReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\n calling context\n  [stack trace unavailable]\n\n=== Cycle completed at\n--- Mutex : nsRecyclingAllocator.mLock calling context\n  [stack trace unavailable]\n\nDeadlock may happen for some other execution\n\n###!!! ASSERTION: Potential deadlock detected:\nCyclical dependency starts at\nMutex : nsRecyclingAllocator.mLock\nNext dependency:\nReentrantMonitor : nsComponentManagerImpl.mMon (currently acquired)\nCycle completed at\nMutex : nsRecyclingAllocator.mLock\nDeadlock may happen for some other execution\n\n: 'Error', file /home/geoff/src/mozilla-central/objdir-droid/xpcom/build/BlockingResourceBase.cpp, line 161\nWARNING: No default pref files found.: file /home/geoff/src/mozilla-central/modules/libpref/src/Preferences.cpp, line 923\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: Startup cache is only available in the chrome process: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 143\nWARNING: NS_ENSURE_TRUE(aFile) failed: file /home/geoff/src/mozilla-central/modules/libjar/zipwriter/src/nsZipWriter.cpp, line 267\nWARNING: could not open zipfile for write: file /home/geoff/src/mozilla-central/startupcache/StartupCache.cpp, line 364\nWARNING: SQLite returned error code 1 , Storage will convert it to NS_ERROR_FAILURE: file /home/geoff/src/mozilla-central/storage/src/mozStoragePrivateHelpers.cpp, line 113\n************************************************************\n* Call to xpconnect wrapped JSObject produced this error:  *\n[Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIProperties.get]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: jar:file:///data/local/tests/xpcshell/b/fennec-8.0a1.en-US.eabi-arm.apk!/components/nsHandlerService.js :: <TOP_LEVEL> :: line 925\"  data: no]\n************************************************************\nWARNING: NS_ENSURE_TRUE(window) failed: file /home/geoff/src/mozilla-central/uriloader/exthandler/nsExternalHelperAppService.cpp, line 2515\nWARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0x80004005: file /home/geoff/src/mozilla-central/uriloader/exthandler/nsExternalHelperAppService.cpp, line 1411\n<<<<<<<\nTEST-UNEXPECTED-FAIL | Received SIGINT (control-C) during test execution\nINFO | Result summary:\nINFO | Passed: 0\nINFO | Failed: 1\nINFO | Todo: 0\nTEST-UNEXPECTED-FAIL | Received SIGINT (control-C), so stopped run. (Use --keep-going to keep running tests after killing one with SIGINT)\nmake: *** [check-one-remote] Error 1"}, {"tags": [], "attachment_id": null, "raw_text": "Thanks.  Just to be clear, you interrupted the test after it had been hung for a while?", "time": "2011-08-09T20:57:03Z", "creation_time": "2011-08-09T20:57:03Z", "is_private": false, "bug_id": 676995, "id": 5643322, "author": "cjones.bugs@gmail.com", "count": 3, "text": "Thanks.  Just to be clear, you interrupted the test after it had been hung for a while?", "creator": "cjones.bugs@gmail.com"}, {"creator": "gbrown@mozilla.com", "author": "gbrown@mozilla.com", "count": 4, "text": "Yes: I waited for about 30 seconds, then hit Ctrl-C.", "bug_id": 676995, "id": 5643331, "is_private": false, "creation_time": "2011-08-09T21:00:04Z", "time": "2011-08-09T21:00:04Z", "attachment_id": null, "raw_text": "Yes: I waited for about 30 seconds, then hit Ctrl-C.", "tags": []}]}}, "comments": {}}