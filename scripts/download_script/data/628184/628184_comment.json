{"comments": {}, "bugs": {"628184": {"comments": [{"count": 0, "creation_time": "2011-01-24T01:50:28Z", "author": "andrej@podzimek.org", "time": "2011-01-24T01:50:28Z", "tags": [], "text": "User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; cs-CZ; rv:1.9.2.13) Gecko/20110102 Firefox/3.6.13\nBuild Identifier: Mozilla/5.0 (X11; U; Linux x86_64; cs-CZ; rv:1.9.2.13) Gecko/20110102 Lightning/1.0b2 Lanikai/3.1.7 ThunderBrowse/3.3.4\n\nMy certificate works fine for decrypting messages and validating signatures, but it cannot be used for encryption. When other people try to send an encrypted message to me, Thunderbird says it could not find any suitable certificate, despite the fact that:\n\n* the certificate is valid, installed and normally used for decryption/validation.\n* the certificate is signed by a trusted authority.\n* other certificates from the *same* authority valid till the *same* date work just fine for encryption.\n\nWe all use exactly the same version of Thunderbird. However, everything seems to work fine on an x86_64 machine, whereas an i686 machines fails. Unfortunately, we don't have more mahcines to check whether this is really related to 32/64 bit systems.\n\nThe distro is ArchLinux (latest rolling release).\n\nI can provide the exact data files:\n\nThe Authority: https://ca.podzimek.org/ca-cert.pem\nThe certificate that fails: https://ca.podzimek.org/andrej.podzimek.crt\nCertificates that work:\n        https://ca.podzimek.org/irma.podzimkova.crt\n        https://ca.podzimek.org/ondrej.podzimek.crt\n        https://ca.podzimek.org/tereza.podzimkova.crt\n\nAs you can see, all certificates are exactly identical (except for the name, e-mail and other personal data, of course).\n\nI tried to remove the malfunctioning certificate and use both possible ways to import it:\na) explicitly,\nb) by accepting/opening a singed (and also encrypted, BTW) message.\n\nBoth of the above work just fine. But the certificate still cannot be used for encryption. :-( Thunderbird says \"not found\" in the security information dialog box and pops up an error message saying that no suitable certificate was found when trying to send an encrypted message to andrej <at> podzimek.org. Presumably, a message for {ondrej,irma,terka} <at> podzimek.org can be generated and sent with no problem at all.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Import the authority and certificates mentioned above.\n2. Try to send an encrypted message with andrej <at> podzimek.org as one of the recipients.\nActual Results:  \nNo suitable certificate found.\n\nExpected Results:  \nA standard encrypted message, just like with all the other certificates.\n\nIf you need any config/output files, just let me know. This is *not* a crash, so I don't have any backtrace/core cump.", "raw_text": "User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; cs-CZ; rv:1.9.2.13) Gecko/20110102 Firefox/3.6.13\nBuild Identifier: Mozilla/5.0 (X11; U; Linux x86_64; cs-CZ; rv:1.9.2.13) Gecko/20110102 Lightning/1.0b2 Lanikai/3.1.7 ThunderBrowse/3.3.4\n\nMy certificate works fine for decrypting messages and validating signatures, but it cannot be used for encryption. When other people try to send an encrypted message to me, Thunderbird says it could not find any suitable certificate, despite the fact that:\n\n* the certificate is valid, installed and normally used for decryption/validation.\n* the certificate is signed by a trusted authority.\n* other certificates from the *same* authority valid till the *same* date work just fine for encryption.\n\nWe all use exactly the same version of Thunderbird. However, everything seems to work fine on an x86_64 machine, whereas an i686 machines fails. Unfortunately, we don't have more mahcines to check whether this is really related to 32/64 bit systems.\n\nThe distro is ArchLinux (latest rolling release).\n\nI can provide the exact data files:\n\nThe Authority: https://ca.podzimek.org/ca-cert.pem\nThe certificate that fails: https://ca.podzimek.org/andrej.podzimek.crt\nCertificates that work:\n        https://ca.podzimek.org/irma.podzimkova.crt\n        https://ca.podzimek.org/ondrej.podzimek.crt\n        https://ca.podzimek.org/tereza.podzimkova.crt\n\nAs you can see, all certificates are exactly identical (except for the name, e-mail and other personal data, of course).\n\nI tried to remove the malfunctioning certificate and use both possible ways to import it:\na) explicitly,\nb) by accepting/opening a singed (and also encrypted, BTW) message.\n\nBoth of the above work just fine. But the certificate still cannot be used for encryption. :-( Thunderbird says \"not found\" in the security information dialog box and pops up an error message saying that no suitable certificate was found when trying to send an encrypted message to andrej <at> podzimek.org. Presumably, a message for {ondrej,irma,terka} <at> podzimek.org can be generated and sent with no problem at all.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Import the authority and certificates mentioned above.\n2. Try to send an encrypted message with andrej <at> podzimek.org as one of the recipients.\nActual Results:  \nNo suitable certificate found.\n\nExpected Results:  \nA standard encrypted message, just like with all the other certificates.\n\nIf you need any config/output files, just let me know. This is *not* a crash, so I don't have any backtrace/core cump.", "bug_id": 628184, "is_private": false, "creator": "andrej@podzimek.org", "attachment_id": null, "id": 5220991}, {"text": "I almost forgot to mention the most obvious symptom of this bug:\n\nandrej <at> podzimek.org cannot send an encrypted message to himself, despite the fact that he can can decrypt his own messages sent earlier and generate (valid) digital signatures.", "bug_id": 628184, "is_private": false, "raw_text": "I almost forgot to mention the most obvious symptom of this bug:\n\nandrej <at> podzimek.org cannot send an encrypted message to himself, despite the fact that he can can decrypt his own messages sent earlier and generate (valid) digital signatures.", "creator": "andrej@podzimek.org", "id": 5221068, "attachment_id": null, "creation_time": "2011-01-24T03:25:45Z", "count": 1, "time": "2011-01-24T03:25:45Z", "author": "andrej@podzimek.org", "tags": []}, {"attachment_id": null, "id": 5265792, "creator": "ludovic@hirlimann.net", "raw_text": "Anything in Tools -> Error console ?\n\nThe same happens in -safe-mode (see http://support.mozillamessaging.com/en-US/kb/Safe+Mode) ?", "bug_id": 628184, "is_private": false, "text": "Anything in Tools -> Error console ?\n\nThe same happens in -safe-mode (see http://support.mozillamessaging.com/en-US/kb/Safe+Mode) ?", "tags": [], "author": "ludovic@hirlimann.net", "time": "2011-02-09T09:51:21Z", "count": 2, "creation_time": "2011-02-09T09:51:21Z"}]}}}