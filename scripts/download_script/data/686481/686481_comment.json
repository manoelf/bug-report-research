{"bugs": {"686481": {"comments": [{"creator": "gec.producto@gmail.com", "author": "gec.producto@gmail.com", "creation_time": "2011-09-13T17:01:35Z", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.0; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\nBuild ID: 20110902133214\n\nSteps to reproduce:\n\nWe have noticed that AJAX asycnchronous calls associated to the unload event are not sent after window is closed. \n\nWe have prepared a demo in the attached file. \nSteps to follow:\n\n1. Unzip contents into a folder\n2. Open index.html with Firefox 4.x or above\n3. Click on \"Open Async Call Pop-up\" link. A pop-up appears\n4. Close window\n5. Nothing happens on main window\n\nIf you run this demo in FF 3.6 and prior versions, IE6, IE7,IE8 and IE9 or Chrome, you will get a message \"Async AJAX Call Done!!!\", which is the expected behaviour.\n\nIf you run the same steps but using \"Open Sync Call Pop-up\" link in step 3 you will get a \"Synchronous AJAX Call Done!!!\" message on the main window. This works correctly in all the browsers we have tested so far.\n\n\n\nActual results:\n\nNo AJAX call is done when closing the window\n\n\nExpected results:\n\nAfter the pop-up is closed the AJAX call should be performed. This is the behaviour we get in all the major browsers and this is what Firefox used to do until FF 4.0. None of the next versions behaves as expected (we have tested up to the last nightly build)", "text": "Created attachment 559980\najax_onunload_test.zip\n\nUser Agent: Mozilla/5.0 (Windows NT 6.0; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\nBuild ID: 20110902133214\n\nSteps to reproduce:\n\nWe have noticed that AJAX asycnchronous calls associated to the unload event are not sent after window is closed. \n\nWe have prepared a demo in the attached file. \nSteps to follow:\n\n1. Unzip contents into a folder\n2. Open index.html with Firefox 4.x or above\n3. Click on \"Open Async Call Pop-up\" link. A pop-up appears\n4. Close window\n5. Nothing happens on main window\n\nIf you run this demo in FF 3.6 and prior versions, IE6, IE7,IE8 and IE9 or Chrome, you will get a message \"Async AJAX Call Done!!!\", which is the expected behaviour.\n\nIf you run the same steps but using \"Open Sync Call Pop-up\" link in step 3 you will get a \"Synchronous AJAX Call Done!!!\" message on the main window. This works correctly in all the browsers we have tested so far.\n\n\n\nActual results:\n\nNo AJAX call is done when closing the window\n\n\nExpected results:\n\nAfter the pop-up is closed the AJAX call should be performed. This is the behaviour we get in all the major browsers and this is what Firefox used to do until FF 4.0. None of the next versions behaves as expected (we have tested up to the last nightly build)", "attachment_id": 559980, "time": "2011-09-13T17:01:35Z", "tags": [], "is_private": false, "count": 0, "id": 5715593, "bug_id": 686481}, {"creator": "xtc4uall@gmail.com", "author": "xtc4uall@gmail.com", "creation_time": "2011-09-13T23:49:07Z", "raw_text": "Confirmed against Mozilla/5.0 (Windows NT 5.1; rv:9.0a1) Gecko/20110913 Firefox/9.0a1 ID:20110913030846.\n\nFor Mozilla/5.0 (Windows NT 5.1) AppleWebKit/535.3 (KHTML, like Gecko) Chrome/16.0.880.0 Safari/535.3 it doesn't work at all.\n\nFor Opera/9.80 (Windows NT 5.1; U; Edition Next; en) Presto/2.9.196 Version/12.00 only clicking the \"Fire unload function\" Link within the Popup make the \"AJAX Call Done\" Texts appear.", "text": "Confirmed against Mozilla/5.0 (Windows NT 5.1; rv:9.0a1) Gecko/20110913 Firefox/9.0a1 ID:20110913030846.\n\nFor Mozilla/5.0 (Windows NT 5.1) AppleWebKit/535.3 (KHTML, like Gecko) Chrome/16.0.880.0 Safari/535.3 it doesn't work at all.\n\nFor Opera/9.80 (Windows NT 5.1; U; Edition Next; en) Presto/2.9.196 Version/12.00 only clicking the \"Fire unload function\" Link within the Popup make the \"AJAX Call Done\" Texts appear.", "time": "2011-09-13T23:49:07Z", "attachment_id": null, "tags": [], "count": 1, "is_private": false, "id": 5716289, "bug_id": 686481}, {"bug_id": 686481, "id": 5716313, "count": 2, "is_private": false, "tags": [], "time": "2011-09-13T23:56:47Z", "attachment_id": null, "text": "Is this a dup of bug 661739?", "creation_time": "2011-09-13T23:56:47Z", "raw_text": "Is this a dup of bug 661739?", "author": "josh@joshmatthews.net", "creator": "josh@joshmatthews.net"}, {"author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "id": 5716334, "tags": [], "count": 3, "is_private": false, "bug_id": 686481, "creation_time": "2011-09-14T00:11:25Z", "raw_text": "Seems similar....\n\nIn general, an async XHR from unload should not work per spec: closing the window stops all the network connections from it.", "time": "2011-09-14T00:11:25Z", "attachment_id": null, "text": "Seems similar....\n\nIn general, an async XHR from unload should not work per spec: closing the window stops all the network connections from it."}]}}, "comments": {}}