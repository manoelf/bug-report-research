{"comments": {}, "bugs": {"705888": {"comments": [{"tags": [], "bug_id": 705888, "time": "2011-11-28T22:18:47Z", "text": "It's suboptimal that submitting hang reports requires crashing the browser. It'd be better if hang reports popped up a dialog in front of the user saying \"We've detected that Firefox may have stopped responding. Do you want to restart it or wait?\" Simultaneously, we'll submit the hang report. And if the browser starts responding, we can dismiss the dialog.\n\nThis would make it possible for users to continue using Firefox while we're fixing our hangs.", "author": "joe@drew.ca", "creation_time": "2011-11-28T22:18:47Z", "count": 0, "creator": "joe@drew.ca", "is_private": false, "id": 5876986, "raw_text": "It's suboptimal that submitting hang reports requires crashing the browser. It'd be better if hang reports popped up a dialog in front of the user saying \"We've detected that Firefox may have stopped responding. Do you want to restart it or wait?\" Simultaneously, we'll submit the hang report. And if the browser starts responding, we can dismiss the dialog.\n\nThis would make it possible for users to continue using Firefox while we're fixing our hangs.", "attachment_id": null}, {"count": 1, "is_private": false, "creator": "bzcc@fowlsmurf.net", "text": "Would this (automatic submission) be based on the telemetry preference or something else?", "time": "2011-11-29T00:13:51Z", "tags": [], "bug_id": 705888, "creation_time": "2011-11-29T00:13:51Z", "author": "bzcc@fowlsmurf.net", "raw_text": "Would this (automatic submission) be based on the telemetry preference or something else?", "attachment_id": null, "id": 5877396}, {"creation_time": "2011-11-29T01:41:19Z", "author": "ted@mielczarek.org", "text": "Presenting UI while the main thread is hung is hard. We'd probably have to launch a separate process to do it.", "tags": [], "bug_id": 705888, "time": "2011-11-29T01:41:19Z", "is_private": false, "creator": "ted@mielczarek.org", "count": 2, "id": 5877711, "attachment_id": null, "raw_text": "Presenting UI while the main thread is hung is hard. We'd probably have to launch a separate process to do it."}, {"count": 3, "bug_id": 705888, "is_private": false, "creator": "joe@drew.ca", "creation_time": "2011-11-29T01:57:28Z", "author": "joe@drew.ca", "text": "(In reply to James May [:fowl] from comment #1)\n> Would this (automatic submission) be based on the telemetry preference or\n> something else?\n\nGood point. The submission might need to be based on a checkbox on the dialog.\n\n(In reply to Ted Mielczarek [:ted, :luser] from comment #2)\n> Presenting UI while the main thread is hung is hard. We'd probably have to\n> launch a separate process to do it.\n\nYeah, I figured it'd be a separate thread or process. (waves hands) Implementation detail.", "time": "2011-11-29T01:57:28Z", "tags": [], "attachment_id": null, "raw_text": "(In reply to James May [:fowl] from comment #1)\n> Would this (automatic submission) be based on the telemetry preference or\n> something else?\n\nGood point. The submission might need to be based on a checkbox on the dialog.\n\n(In reply to Ted Mielczarek [:ted, :luser] from comment #2)\n> Presenting UI while the main thread is hung is hard. We'd probably have to\n> launch a separate process to do it.\n\nYeah, I figured it'd be a separate thread or process. (waves hands) Implementation detail.", "id": 5877738}, {"count": 4, "creator": "bzcc@fowlsmurf.net", "is_private": false, "time": "2011-11-29T02:26:39Z", "bug_id": 705888, "tags": [], "text": "(In reply to Joe Drew (:JOEDREW!) from comment #3)\n> Good point. The submission might need to be based on a checkbox on the\n> dialog.\n\nUgh. Also, what happens when Firefox starts responding again, what if for a particular bug it's always at (say) 31 seconds, no reports unless you can click very fast?\n\n(In reply to Ted Mielczarek [:ted, :luser] from comment #2)\n> Presenting UI while the main thread is hung is hard. We'd probably have to\n> launch a separate process to do it.\n\nDependent on OOP crash reporting?  (bug 587729)", "author": "bzcc@fowlsmurf.net", "creation_time": "2011-11-29T02:26:39Z", "raw_text": "(In reply to Joe Drew (:JOEDREW!) from comment #3)\n> Good point. The submission might need to be based on a checkbox on the\n> dialog.\n\nUgh. Also, what happens when Firefox starts responding again, what if for a particular bug it's always at (say) 31 seconds, no reports unless you can click very fast?\n\n(In reply to Ted Mielczarek [:ted, :luser] from comment #2)\n> Presenting UI while the main thread is hung is hard. We'd probably have to\n> launch a separate process to do it.\n\nDependent on OOP crash reporting?  (bug 587729)", "attachment_id": null, "id": 5877790}, {"id": 5878578, "raw_text": "(In reply to James May [:fowl] from comment #4)\n> Dependent on OOP crash reporting?  (bug 587729)\n\nNo, we can already write a dump (it's what we're currently doing), we just don't have anywhere to show it. We probably can't just use a separate thread, since the UI thread is already non-responsive (so spawning UI might not work anyway), and most UI toolkits don't like you using UI on multiple threads at once anyway.", "attachment_id": null, "text": "(In reply to James May [:fowl] from comment #4)\n> Dependent on OOP crash reporting?  (bug 587729)\n\nNo, we can already write a dump (it's what we're currently doing), we just don't have anywhere to show it. We probably can't just use a separate thread, since the UI thread is already non-responsive (so spawning UI might not work anyway), and most UI toolkits don't like you using UI on multiple threads at once anyway.", "time": "2011-11-29T13:07:54Z", "bug_id": 705888, "tags": [], "creation_time": "2011-11-29T13:07:54Z", "author": "ted@mielczarek.org", "count": 5, "is_private": false, "creator": "ted@mielczarek.org"}, {"id": 5897304, "attachment_id": null, "raw_text": "Not Apple-specific.\n\n->All/All", "creation_time": "2011-12-07T14:56:17Z", "author": "netrolller.3d@gmail.com", "text": "Not Apple-specific.\n\n->All/All", "time": "2011-12-07T14:56:17Z", "tags": [], "is_private": false, "creator": "netrolller.3d@gmail.com", "bug_id": 705888, "count": 6}, {"id": 6163719, "raw_text": "Bug 712109 does something like this, but only for builds on the \"profiling\" branch and only for transient hangs (those from which Firefox eventually recovers).\n\nhttp://blog.mozilla.com/vdjeric/2012/03/21/introducing-chrome-hang-reporting-and-the-symbolication-server/\n\nFor users who want to report unrecoverable hangs, the workaround for this bug is to set hangmonitor.timeout to 10 temporarily. (See bug 705748.)", "attachment_id": null, "tags": [], "time": "2012-03-22T20:59:18Z", "bug_id": 705888, "text": "Bug 712109 does something like this, but only for builds on the \"profiling\" branch and only for transient hangs (those from which Firefox eventually recovers).\n\nhttp://blog.mozilla.com/vdjeric/2012/03/21/introducing-chrome-hang-reporting-and-the-symbolication-server/\n\nFor users who want to report unrecoverable hangs, the workaround for this bug is to set hangmonitor.timeout to 10 temporarily. (See bug 705748.)", "author": "jruderman@gmail.com", "creation_time": "2012-03-22T20:59:18Z", "count": 7, "creator": "jruderman@gmail.com", "is_private": false}]}}}