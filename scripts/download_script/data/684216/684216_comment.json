{"bugs": {"684216": {"comments": [{"attachment_id": 557811, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.1) Gecko/20100101 Firefox/6.0.1\nBuild ID: 20110830092941\n\nSteps to reproduce:\n\nExtracted information from SVG images that are not in the visible DOM hierarchy.\n\n\nActual results:\n\nISVGLocatable.getTransformToElement() threw this exception:\n\nException... \"The matrix could not be computed\" code: \"2\" nsresult: \"0x80620002 (NS_ERROR_DOM_SVG_MATRIX_NOT_INVERTABLE)\" \n\nActually, in my sample there are no transformations specified explicitly, so they are invertable.\n\n\nExpected results:\n\nAn SVGTransform object should have been created. In my sample this should have been the identity transformation. Chrome and Opera browsers do this.\n\nAlso Firefox works OK if the SVG is displayed first. However, I can not do this in my application.", "tags": [], "text": "Created attachment 557811\ninvisible-svg.html Sample demonstrating the problem.\n\nUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.1) Gecko/20100101 Firefox/6.0.1\nBuild ID: 20110830092941\n\nSteps to reproduce:\n\nExtracted information from SVG images that are not in the visible DOM hierarchy.\n\n\nActual results:\n\nISVGLocatable.getTransformToElement() threw this exception:\n\nException... \"The matrix could not be computed\" code: \"2\" nsresult: \"0x80620002 (NS_ERROR_DOM_SVG_MATRIX_NOT_INVERTABLE)\" \n\nActually, in my sample there are no transformations specified explicitly, so they are invertable.\n\n\nExpected results:\n\nAn SVGTransform object should have been created. In my sample this should have been the identity transformation. Chrome and Opera browsers do this.\n\nAlso Firefox works OK if the SVG is displayed first. However, I can not do this in my application.", "bug_id": 684216, "count": 0, "id": 5696091, "is_private": false, "creation_time": "2011-09-02T13:27:15Z", "time": "2011-09-02T13:27:15Z", "creator": "csabakoncz@gmail.com", "author": "csabakoncz@gmail.com"}, {"author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "time": "2011-09-02T14:56:25Z", "creation_time": "2011-09-02T14:56:25Z", "is_private": false, "id": 5696277, "count": 1, "bug_id": 684216, "text": "Doesn't the transform depend on styles?  And those are not available in display:none subtrees, really.  WebKit and Presto will make up some sort of default styles in this situation, iirc, but the resulting answer may well not match what the answer would be if the display:none were not present...\n\nFundamentally, in this situation there is just no well-defined coordinate system transformation, since one of the coordinate systems doesn't even exist!", "tags": [], "raw_text": "Doesn't the transform depend on styles?  And those are not available in display:none subtrees, really.  WebKit and Presto will make up some sort of default styles in this situation, iirc, but the resulting answer may well not match what the answer would be if the display:none were not present...\n\nFundamentally, in this situation there is just no well-defined coordinate system transformation, since one of the coordinate systems doesn't even exist!", "attachment_id": null}, {"tags": [], "text": "The transform doesn't depend on styles. It does depend on walking up the tree from one element to another though and that's what fails. As Boris said, Webkit and Opera pretend that that is an identity transform.", "bug_id": 684216, "raw_text": "The transform doesn't depend on styles. It does depend on walking up the tree from one element to another though and that's what fails. As Boris said, Webkit and Opera pretend that that is an identity transform.", "attachment_id": null, "author": "longsonr@gmail.com", "creation_time": "2011-09-02T15:07:45Z", "time": "2011-09-02T15:07:45Z", "creator": "longsonr@gmail.com", "count": 2, "id": 5696308, "is_private": false}, {"author": "csabakoncz@gmail.com", "creator": "csabakoncz@gmail.com", "creation_time": "2012-02-10T22:42:21Z", "time": "2012-02-10T22:42:21Z", "is_private": false, "id": 6051956, "count": 3, "text": "Sorry for reacting this late. I think my sample was a bit misleading. I do not think Webkit and Opera only pretend to see an identity transformation, there is really an identity transform and this is the correct response.\n\nI modified the sample a bit so that there is an explicit transformation set. Now the expected output would be:\n transform=[1,0,0,1,10,10]", "bug_id": 684216, "tags": [], "raw_text": "Sorry for reacting this late. I think my sample was a bit misleading. I do not think Webkit and Opera only pretend to see an identity transformation, there is really an identity transform and this is the correct response.\n\nI modified the sample a bit so that there is an explicit transformation set. Now the expected output would be:\n transform=[1,0,0,1,10,10]", "attachment_id": null}, {"tags": [], "text": "Created attachment 596172\nsample with explicit transform attribute", "bug_id": 684216, "raw_text": "", "attachment_id": 596172, "author": "csabakoncz@gmail.com", "creation_time": "2012-02-10T22:43:41Z", "time": "2012-02-10T22:43:41Z", "creator": "csabakoncz@gmail.com", "count": 4, "id": 6051960, "is_private": false}]}}, "comments": {}}