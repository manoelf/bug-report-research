{"bugs": {"680798": {"comments": [{"id": 5668348, "raw_text": "Pushing the \"Open Containing Folder\" button on about:support doesn't work, I only get an error:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: chrome://global/content/aboutSupport.js :: openProfileDirectory :: line 444\"  data: no]", "attachment_id": null, "time": "2011-08-21T21:40:13Z", "tags": [], "bug_id": 680798, "text": "Pushing the \"Open Containing Folder\" button on about:support doesn't work, I only get an error:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: chrome://global/content/aboutSupport.js :: openProfileDirectory :: line 444\"  data: no]", "author": "mnyromyr@tprac.de", "creation_time": "2011-08-21T21:40:13Z", "count": 0, "creator": "mnyromyr@tprac.de", "is_private": false}, {"bug_id": 680798, "tags": [], "time": "2011-08-22T04:12:22Z", "text": "Karsten, what SM version did you test this with, and which OS?", "author": "bugspam.Callek@gmail.com", "creation_time": "2011-08-22T04:12:22Z", "count": 1, "creator": "bugspam.Callek@gmail.com", "is_private": false, "id": 5668584, "raw_text": "Karsten, what SM version did you test this with, and which OS?", "attachment_id": null}, {"raw_text": "I can confirm this bug.  I am using Ubuntu 11.04 64-bit with SeaMonkey 2.3.1.", "attachment_id": null, "id": 5691665, "count": 2, "is_private": false, "creator": "svip@fastmail.com", "text": "I can confirm this bug.  I am using Ubuntu 11.04 64-bit with SeaMonkey 2.3.1.", "tags": [], "bug_id": 680798, "time": "2011-08-31T19:22:41Z", "creation_time": "2011-08-31T19:22:41Z", "author": "svip@fastmail.com"}, {"id": 5691669, "attachment_id": null, "raw_text": "Maybe this is Linux specific?\n\nsvip on #seamonkey said:\n\n> Mozilla/5.0 (X11; Linux i686 on x86_64; rv:6.0.1) Gecko/20110830 Firefox/6.0.1 SeaMonkey/2.3.1\n\n> Error: uncaught exception: [Exception... \"Component returned failure code: 0x80004005\n> (NS_ERROR_FAILURE) [nsILocalFile.reveal]\" nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n> location: \"JS frame :: chrome://global/content/aboutSupport.js :: openProfileDirectory\n> :: line 441\" data: no]", "author": "therubex@yahoo.com", "creation_time": "2011-08-31T19:23:53Z", "time": "2011-08-31T19:23:53Z", "bug_id": 680798, "tags": [], "text": "Maybe this is Linux specific?\n\nsvip on #seamonkey said:\n\n> Mozilla/5.0 (X11; Linux i686 on x86_64; rv:6.0.1) Gecko/20110830 Firefox/6.0.1 SeaMonkey/2.3.1\n\n> Error: uncaught exception: [Exception... \"Component returned failure code: 0x80004005\n> (NS_ERROR_FAILURE) [nsILocalFile.reveal]\" nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n> location: \"JS frame :: chrome://global/content/aboutSupport.js :: openProfileDirectory\n> :: line 441\" data: no]", "creator": "therubex@yahoo.com", "is_private": false, "count": 3}, {"raw_text": "(In reply to therube from comment #3)\n> Maybe this is Linux specific?\n\nYes. I believe it is.  I can confirm on my Slackware Linux.\nMozilla/5.0 (X11; Linux i686; rv:9.0a1) Gecko/20110901 Firefox/9.0a1 SeaMonkey/2.6a1\n\nsame error.", "attachment_id": null, "id": 5695329, "count": 4, "is_private": false, "creator": "ewong@pw-wspx.org", "text": "(In reply to therube from comment #3)\n> Maybe this is Linux specific?\n\nYes. I believe it is.  I can confirm on my Slackware Linux.\nMozilla/5.0 (X11; Linux i686; rv:9.0a1) Gecko/20110901 Firefox/9.0a1 SeaMonkey/2.6a1\n\nsame error.", "tags": [], "bug_id": 680798, "time": "2011-09-02T01:25:49Z", "creation_time": "2011-09-02T01:25:49Z", "author": "ewong@pw-wspx.org"}, {"bug_id": 680798, "count": 5, "author": "blair@theunfocused.net", "creation_time": "2011-09-02T06:27:01Z", "time": "2011-09-02T06:27:01Z", "tags": [], "text": "Callek said he got a report of this is happening on Firefox trunk too.", "creator": "blair@theunfocused.net", "is_private": false, "id": 5695661, "attachment_id": null, "raw_text": "Callek said he got a report of this is happening on Firefox trunk too."}, {"time": "2011-09-02T06:35:18Z", "tags": [], "text": "Works for me on Ubuntu 10.04 with a nightly Firefox build from 8-17.\n\nAlso works for me on the most recent 9-1 Nightly build...\n\nSo, something with the new Ubuntu interface post 10.04, then?", "author": "kwierso@gmail.com", "creation_time": "2011-09-02T06:35:18Z", "creator": "kwierso@gmail.com", "is_private": false, "id": 5695669, "raw_text": "Works for me on Ubuntu 10.04 with a nightly Firefox build from 8-17.\n\nAlso works for me on the most recent 9-1 Nightly build...\n\nSo, something with the new Ubuntu interface post 10.04, then?", "attachment_id": null, "bug_id": 680798, "count": 6}, {"id": 5695763, "raw_text": "Mozilla/5.0 (X11; Linux i686; rv:9.0a1) Gecko/20110902 Firefox/9.0a1\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: chrome://global/content/aboutSupport.js :: openProfileDirectory :: line 443\"  data: no]", "attachment_id": null, "tags": [], "bug_id": 680798, "time": "2011-09-02T08:38:38Z", "text": "Mozilla/5.0 (X11; Linux i686; rv:9.0a1) Gecko/20110902 Firefox/9.0a1\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: chrome://global/content/aboutSupport.js :: openProfileDirectory :: line 443\"  data: no]", "author": "ewong@pw-wspx.org", "creation_time": "2011-09-02T08:38:38Z", "count": 7, "creator": "ewong@pw-wspx.org", "is_private": false}, {"count": 8, "bug_id": 680798, "creator": "jh@junetz.de", "is_private": false, "time": "2012-01-01T22:08:27Z", "tags": [], "text": "I see this on Kubuntu (KDE; VirtualBox) with all SM versions from 2.1 to 2.9a1 (trunk), plus Nightly (FF trunk).\n\nSince I don't have (and don't want!) a Gnome system, I probably do not fulfill the requirements that nsLocalFile::Reveal() (nsLocalFileUnix.cpp#1800) has to work as expected:\n\n#ifdef MOZ_WIDGET_GTK2\n    nsCOMPtr<nsIGIOService> giovfs = do_GetService(NS_GIOSERVICE_CONTRACTID);\n    nsCOMPtr<nsIGnomeVFSService> gnomevfs = do_GetService(NS_GNOMEVFSSERVICE_CONTRACTID);\n    if (!giovfs && !gnomevfs)\n        return NS_ERROR_FAILURE;\n\nSynaptic says I have installed:\n* libgnomevfs2-0, libgnomevfs2-common, libgnomevfs2-dev (all 1:2.24.4-1ubuntu1)\n* gvfs, gvfs-bin (all 1.10.0-0ubuntu1)\n\nI guess openProfileDirectory() should take care of the failure and display an alert with the path instead.\n\nMoving to Toolkit due to the breakage trigger being in aboutSupport.js. Feel free to move to Core in case nsLocalFileUnix.cpp needs to be fixed instead. And please give this some priority; an important about:support feature is broken on non-Gnome Linux.", "author": "jh@junetz.de", "creation_time": "2012-01-01T22:08:27Z", "raw_text": "I see this on Kubuntu (KDE; VirtualBox) with all SM versions from 2.1 to 2.9a1 (trunk), plus Nightly (FF trunk).\n\nSince I don't have (and don't want!) a Gnome system, I probably do not fulfill the requirements that nsLocalFile::Reveal() (nsLocalFileUnix.cpp#1800) has to work as expected:\n\n#ifdef MOZ_WIDGET_GTK2\n    nsCOMPtr<nsIGIOService> giovfs = do_GetService(NS_GIOSERVICE_CONTRACTID);\n    nsCOMPtr<nsIGnomeVFSService> gnomevfs = do_GetService(NS_GNOMEVFSSERVICE_CONTRACTID);\n    if (!giovfs && !gnomevfs)\n        return NS_ERROR_FAILURE;\n\nSynaptic says I have installed:\n* libgnomevfs2-0, libgnomevfs2-common, libgnomevfs2-dev (all 1:2.24.4-1ubuntu1)\n* gvfs, gvfs-bin (all 1.10.0-0ubuntu1)\n\nI guess openProfileDirectory() should take care of the failure and display an alert with the path instead.\n\nMoving to Toolkit due to the breakage trigger being in aboutSupport.js. Feel free to move to Core in case nsLocalFileUnix.cpp needs to be fixed instead. And please give this some priority; an important about:support feature is broken on non-Gnome Linux.", "attachment_id": null, "id": 5949116}, {"id": 5949159, "attachment_id": 585227, "raw_text": "Mozilla/5.0 (X11; Linux x86_64; rv:12.0a1) Gecko/20120101 Firefox/12.0a1 SeaMonkey/2.9a1 ID:20120101003006\nopenSUSE Linux 12.1\n\nI have Gnome installed, as shown in the attachment, and yet I see the same error as Karsten in comment #0, and nothing else happens when I click the button in question.\n\nOn this build, the error (as \"copied\" from the Error Console) is:\n\nError: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\nSource file: chrome://global/content/aboutSupport.js\nLine: 465", "creation_time": "2012-01-01T23:45:05Z", "author": "antoine.mechelynck@gmail.com", "text": "Created attachment 585227\noutput of \"rpm -qa | grep ^gnome\" on my system\n\nMozilla/5.0 (X11; Linux x86_64; rv:12.0a1) Gecko/20120101 Firefox/12.0a1 SeaMonkey/2.9a1 ID:20120101003006\nopenSUSE Linux 12.1\n\nI have Gnome installed, as shown in the attachment, and yet I see the same error as Karsten in comment #0, and nothing else happens when I click the button in question.\n\nOn this build, the error (as \"copied\" from the Error Console) is:\n\nError: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\nSource file: chrome://global/content/aboutSupport.js\nLine: 465", "tags": [], "time": "2012-01-01T23:45:05Z", "bug_id": 680798, "is_private": false, "creator": "antoine.mechelynck@gmail.com", "count": 9}, {"attachment_id": null, "raw_text": "Is this a regression? If so regression range wanted. Or perhaps it never worked?", "id": 5949235, "is_private": false, "creator": "philip.chee@gmail.com", "count": 10, "creation_time": "2012-01-02T01:37:48Z", "author": "philip.chee@gmail.com", "text": "Is this a regression? If so regression range wanted. Or perhaps it never worked?", "tags": [], "time": "2012-01-02T01:37:48Z", "bug_id": 680798}, {"id": 5949511, "attachment_id": null, "raw_text": "(In reply to Philip Chee from comment #10)\n> Is this a regression? If so regression range wanted. Or perhaps it never\n> worked?\n\nI don't know, I don't remember trying it before.\nKarsten? Edmund?", "author": "antoine.mechelynck@gmail.com", "creation_time": "2012-01-02T11:36:15Z", "tags": [], "time": "2012-01-02T11:36:15Z", "bug_id": 680798, "text": "(In reply to Philip Chee from comment #10)\n> Is this a regression? If so regression range wanted. Or perhaps it never\n> worked?\n\nI don't know, I don't remember trying it before.\nKarsten? Edmund?", "creator": "antoine.mechelynck@gmail.com", "is_private": false, "count": 11}, {"creation_time": "2012-01-05T23:13:33Z", "author": "mnyromyr@tprac.de", "text": "If I understand bug 367596 right, about:support was first seen in Firefox 3.6; this is already broken for me [Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.2) Gecko/20100115 Firefox/3.6]:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: about:support :: openProfileDirectory :: line 351\"  data: no]\n\n\nThe bug is still present these days, e.g. in yesterday's SeaMonkey trunk\n[Mozilla/5.0 (X11; Linux x86_64; rv:12.0a1) Gecko/20120104 Firefox/12.0a1 SeaMonkey/2.9a1]:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: chrome://global/content/aboutSupport.js :: openProfileDirectory :: line 465\"  data: no]", "tags": [], "time": "2012-01-05T23:13:33Z", "bug_id": 680798, "is_private": false, "creator": "mnyromyr@tprac.de", "count": 12, "id": 5958917, "attachment_id": null, "raw_text": "If I understand bug 367596 right, about:support was first seen in Firefox 3.6; this is already broken for me [Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.2) Gecko/20100115 Firefox/3.6]:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: about:support :: openProfileDirectory :: line 351\"  data: no]\n\n\nThe bug is still present these days, e.g. in yesterday's SeaMonkey trunk\n[Mozilla/5.0 (X11; Linux x86_64; rv:12.0a1) Gecko/20120104 Firefox/12.0a1 SeaMonkey/2.9a1]:\n\nError: uncaught exception: [Exception... \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsILocalFile.reveal]\"  nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"  location: \"JS frame :: chrome://global/content/aboutSupport.js :: openProfileDirectory :: line 465\"  data: no]"}, {"count": 13, "is_private": false, "creator": "t.matsuu@gmail.com", "text": "Hmm.\n\nI cannot reproduce with self build on Fedora 16.\n\nBy comparing \"Configuration arguments\" at about:buildconfig\", \"--enable-gio --disable-gnomevfs\" may be affected.", "time": "2012-01-29T13:42:31Z", "tags": [], "bug_id": 680798, "creation_time": "2012-01-29T13:42:31Z", "author": "t.matsuu@gmail.com", "raw_text": "Hmm.\n\nI cannot reproduce with self build on Fedora 16.\n\nBy comparing \"Configuration arguments\" at about:buildconfig\", \"--enable-gio --disable-gnomevfs\" may be affected.", "attachment_id": null, "id": 6017761}, {"raw_text": "It's broken for me too, using Ubuntu with Unity.\n\nAlso, if I use \"Open Containing Folder\" in the Downloads window, I get an app picker (!?).\n\nRunning \"nautilus [folder]\" from the command line works fine on this system, btw.", "attachment_id": null, "id": 6030150, "count": 14, "creator": "jruderman@gmail.com", "is_private": false, "bug_id": 680798, "time": "2012-02-02T20:41:49Z", "tags": [], "text": "It's broken for me too, using Ubuntu with Unity.\n\nAlso, if I use \"Open Containing Folder\" in the Downloads window, I get an app picker (!?).\n\nRunning \"nautilus [folder]\" from the command line works fine on this system, btw.", "author": "jruderman@gmail.com", "creation_time": "2012-02-02T20:41:49Z"}, {"raw_text": "(In reply to Jesse Ruderman from comment #14)\n> Also, if I use \"Open Containing Folder\" in the Downloads window, I get an\n> app picker (!?).\n\nYeah, because there is no default handler defined for the file: protocol. IOW, if you save your decision, it will be kept. Anyway, that's not this bug (unless someone tries to fix it like in the Downloads window and wonders what's going on of course).", "attachment_id": null, "id": 6030245, "is_private": false, "creator": "jh@junetz.de", "text": "(In reply to Jesse Ruderman from comment #14)\n> Also, if I use \"Open Containing Folder\" in the Downloads window, I get an\n> app picker (!?).\n\nYeah, because there is no default handler defined for the file: protocol. IOW, if you save your decision, it will be kept. Anyway, that's not this bug (unless someone tries to fix it like in the Downloads window and wonders what's going on of course).", "time": "2012-02-02T21:08:07Z", "tags": [], "creation_time": "2012-02-02T21:08:07Z", "author": "jh@junetz.de", "count": 15, "bug_id": 680798}, {"creator": "intendentedelleacque@libero.it", "is_private": false, "count": 16, "author": "intendentedelleacque@libero.it", "creation_time": "2012-09-24T16:48:51Z", "tags": [], "time": "2012-09-24T16:48:51Z", "bug_id": 680798, "text": "I can reproduce this bug on my Debian just removing \"libmozgnome.so\" from \"Components\" directory.\n\nMaybe it could be fixed with this change in chrome://global/content/aboutSupport.js ?\n\n-----------------------------------------------------------\n\nfunction openProfileDirectory() {\n  // Get the profile directory.\n  let currProfD = Services.dirsvc.get(\"ProfD\", Ci.nsIFile);\n  let profileDir = currProfD.path;\n\n  // Show the profile directory.\n  let nsLocalFile = Components.Constructor(\"@mozilla.org/file/local;1\",\n                                           \"nsILocalFile\", \"initWithPath\");\n\n  try {\n\t  new nsLocalFile(profileDir).reveal();\n  }\n  catch(e) {\n         // Fallback if reveal() will fail\n        var file = new nsLocalFile(profileDir);\n\t var uri = Components.classes[\"@mozilla.org/network/io-service;1\"].\n\t\tgetService(Components.interfaces.nsIIOService).newFileURI(file);\n\tvar protocolSvc = Components.classes[\"@mozilla.org/uriloader/external-protocol-service;1\"].\n\t\tgetService(Components.interfaces.nsIExternalProtocolService);\n\tprotocolSvc.loadUrl(uri);\n  }\n}", "attachment_id": null, "raw_text": "I can reproduce this bug on my Debian just removing \"libmozgnome.so\" from \"Components\" directory.\n\nMaybe it could be fixed with this change in chrome://global/content/aboutSupport.js ?\n\n-----------------------------------------------------------\n\nfunction openProfileDirectory() {\n  // Get the profile directory.\n  let currProfD = Services.dirsvc.get(\"ProfD\", Ci.nsIFile);\n  let profileDir = currProfD.path;\n\n  // Show the profile directory.\n  let nsLocalFile = Components.Constructor(\"@mozilla.org/file/local;1\",\n                                           \"nsILocalFile\", \"initWithPath\");\n\n  try {\n\t  new nsLocalFile(profileDir).reveal();\n  }\n  catch(e) {\n         // Fallback if reveal() will fail\n        var file = new nsLocalFile(profileDir);\n\t var uri = Components.classes[\"@mozilla.org/network/io-service;1\"].\n\t\tgetService(Components.interfaces.nsIIOService).newFileURI(file);\n\tvar protocolSvc = Components.classes[\"@mozilla.org/uriloader/external-protocol-service;1\"].\n\t\tgetService(Components.interfaces.nsIExternalProtocolService);\n\tprotocolSvc.loadUrl(uri);\n  }\n}", "id": 6660791}, {"author": "ttaubert@mozilla.com", "creation_time": "2012-09-27T08:20:53Z", "tags": [], "time": "2012-09-27T08:20:53Z", "text": "Looks like this will be fixed by bug 713802 which will most likely be merged soon \\o/.", "creator": "ttaubert@mozilla.com", "is_private": false, "id": 6671204, "attachment_id": null, "raw_text": "Looks like this will be fixed by bug 713802 which will most likely be merged soon \\o/.", "bug_id": 680798, "count": 17}, {"author": "ttaubert@mozilla.com", "creation_time": "2012-09-28T15:57:20Z", "bug_id": 680798, "time": "2012-09-28T15:57:20Z", "tags": [], "text": "WFM. I'll mark this as fixed by bug 713802.", "creator": "ttaubert@mozilla.com", "is_private": false, "count": 18, "id": 6676297, "attachment_id": null, "raw_text": "WFM. I'll mark this as fixed by bug 713802."}, {"count": 19, "creator": "jh@junetz.de", "is_private": false, "time": "2012-12-01T15:28:04Z", "tags": [], "bug_id": 680798, "text": "I'm reopening this since I still see it with recent trunk builds of both FF and SM on Kubuntu 12.04. I don't see how bug 713802 could have helped this one. As long as about:support code relies on functionality not provided by hard requirements such as GTK, this bug will continue to exist. As I already suggested in comment 8, it's probably best to just display an alert with the path (and maybe some advice) if the call to reveal() throws.", "author": "jh@junetz.de", "creation_time": "2012-12-01T15:28:04Z", "raw_text": "I'm reopening this since I still see it with recent trunk builds of both FF and SM on Kubuntu 12.04. I don't see how bug 713802 could have helped this one. As long as about:support code relies on functionality not provided by hard requirements such as GTK, this bug will continue to exist. As I already suggested in comment 8, it's probably best to just display an alert with the path (and maybe some advice) if the call to reveal() throws.", "attachment_id": null, "id": 6871388}, {"raw_text": "I'm guessing bug 713802 fixed this for Unity, but not for KDE?", "attachment_id": null, "id": 6873984, "creator": "jruderman@gmail.com", "is_private": false, "time": "2012-12-03T12:55:42Z", "tags": [], "text": "I'm guessing bug 713802 fixed this for Unity, but not for KDE?", "author": "jruderman@gmail.com", "creation_time": "2012-12-03T12:55:42Z", "count": 20, "bug_id": 680798}, {"tags": [], "bug_id": 680798, "time": "2015-02-04T01:03:58Z", "text": "*** Bug 947639 has been marked as a duplicate of this bug. ***", "author": "jidanni@jidanni.org", "creation_time": "2015-02-04T01:03:58Z", "count": 21, "creator": "jidanni@jidanni.org", "is_private": false, "id": 9877585, "raw_text": "", "attachment_id": null}]}}, "comments": {}}