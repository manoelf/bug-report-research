{"bugs": {"641939": {"comments": [{"id": 5346608, "is_private": false, "author": "nparks@inmail24.com", "time": "2011-03-15T20:27:07Z", "count": 0, "bug_id": 641939, "text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20110312 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0b10pre) Gecko/20110114 Thunderbird/3.3a2\n\nWhenever an AT symbol occurs within the text of an email message, Tbird creates a clickable \"mailto\" link out of that text, even though the text is obivously not an email address.\n\nSee attached screenshot.\n\n\nReproducible: Always", "tags": [], "creation_time": "2011-03-15T20:27:07Z", "attachment_id": null, "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20110312 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0b10pre) Gecko/20110114 Thunderbird/3.3a2\n\nWhenever an AT symbol occurs within the text of an email message, Tbird creates a clickable \"mailto\" link out of that text, even though the text is obivously not an email address.\n\nSee attached screenshot.\n\n\nReproducible: Always", "creator": "nparks@inmail24.com"}, {"text": "Created attachment 519495\nMessage containing text with AT @ symbols", "bug_id": 641939, "raw_text": "", "creator": "nparks@inmail24.com", "tags": [], "creation_time": "2011-03-15T20:29:23Z", "attachment_id": 519495, "id": 5346619, "author": "nparks@inmail24.com", "time": "2011-03-15T20:29:23Z", "count": 1, "is_private": false}, {"creator": "rsx11m.pub@gmail.com", "raw_text": "Well, everything in a plain-text message that looks like an e-mail address is linkfied. The '@' alone isn't a sufficient trigger, you need some domain-like component which contains a '.' after the '@' (so test@example.com will trigger a link whereas just test@example shouldn't). The '/' is a special character seen in some e-mail addresses and valid by that standard (e.g., X.400).", "text": "Well, everything in a plain-text message that looks like an e-mail address is linkfied. The '@' alone isn't a sufficient trigger, you need some domain-like component which contains a '.' after the '@' (so test@example.com will trigger a link whereas just test@example shouldn't). The '/' is a special character seen in some e-mail addresses and valid by that standard (e.g., X.400).", "count": 2, "time": "2011-03-15T22:47:08Z", "attachment_id": null, "creation_time": "2011-03-15T22:47:08Z", "tags": [], "bug_id": 641939, "author": "rsx11m.pub@gmail.com", "is_private": false, "id": 5347031}, {"raw_text": "And this 'linkification' in plain-text messages happens again and again each time you reply. So if you don't strip the links from quoted replies, they get linkified each time. I have seen emails with just 3 links grow in size like: 1KB->3KB->9KB->17KB->32KB->64KB->128KB->256KB->512KB ---> then you start noticing. I guess I will file another bug. And link mine to this one.", "creator": "anoop.karollil@gmail.com", "text": "And this 'linkification' in plain-text messages happens again and again each time you reply. So if you don't strip the links from quoted replies, they get linkified each time. I have seen emails with just 3 links grow in size like: 1KB->3KB->9KB->17KB->32KB->64KB->128KB->256KB->512KB ---> then you start noticing. I guess I will file another bug. And link mine to this one.", "time": "2011-06-03T22:31:51Z", "count": 3, "tags": [], "creation_time": "2011-06-03T22:31:51Z", "attachment_id": null, "bug_id": 641939, "is_private": false, "author": "anoop.karollil@gmail.com", "id": 5512011}, {"id": 7429852, "is_private": false, "time": "2013-05-16T10:03:29Z", "author": "bugzilla2007@duellmann24.net", "count": 4, "bug_id": 641939, "text": "bug 656617 in the same corner", "tags": [], "creation_time": "2013-05-16T10:03:29Z", "attachment_id": null, "raw_text": "bug 656617 in the same corner", "creator": "bugzilla2007@duellmann24.net"}, {"id": 9665908, "is_private": false, "author": "bugzilla2007@duellmann24.net", "bug_id": 641939, "attachment_id": null, "tags": [], "creation_time": "2014-12-06T08:57:14Z", "count": 5, "time": "2014-12-06T08:57:14Z", "text": "(In reply to rsx11m from comment #2)\n> Well, everything in a plain-text message that looks like an e-mail address\n> is linkfied. The '@' alone isn't a sufficient trigger, you need some\n> domain-like component which contains a '.' after the '@' (so\n> test@example.com will trigger a link whereas just test@example shouldn't).\n> The '/' is a special character seen in some e-mail addresses and valid by\n> that standard (e.g., X.400).\n\nTrue. However, I wonder which scenario is more likely/frequent:\na) email address having \"/\" in the local or domain part (not quoted in display name) - correctly linkified, but does that ever occur in real life?\nb) web url-ish or other path-ish text having \"/\" and \"@\" - currently false positive (this bug)\nI'd think case of a), physical email addresses having \"/\", are less likely/frequent than b).\nSo it might be better to not use mailto: linkification on such cases of a), which will reduce the number of false positives on the whole if my assumption is correct.\n\nConsequences of false positive linking are much worse than not linking edge cases: exponential message size growth with each reply, problems of copying, inconsistent display, printing etc. Not linking edge cases actually doesn't hurt much, you can still just copy the full address and use it for all purposes. Just my 2 cents.", "creator": "bugzilla2007@duellmann24.net", "raw_text": "(In reply to rsx11m from comment #2)\n> Well, everything in a plain-text message that looks like an e-mail address\n> is linkfied. The '@' alone isn't a sufficient trigger, you need some\n> domain-like component which contains a '.' after the '@' (so\n> test@example.com will trigger a link whereas just test@example shouldn't).\n> The '/' is a special character seen in some e-mail addresses and valid by\n> that standard (e.g., X.400).\n\nTrue. However, I wonder which scenario is more likely/frequent:\na) email address having \"/\" in the local or domain part (not quoted in display name) - correctly linkified, but does that ever occur in real life?\nb) web url-ish or other path-ish text having \"/\" and \"@\" - currently false positive (this bug)\nI'd think case of a), physical email addresses having \"/\", are less likely/frequent than b).\nSo it might be better to not use mailto: linkification on such cases of a), which will reduce the number of false positives on the whole if my assumption is correct.\n\nConsequences of false positive linking are much worse than not linking edge cases: exponential message size growth with each reply, problems of copying, inconsistent display, printing etc. Not linking edge cases actually doesn't hurt much, you can still just copy the full address and use it for all purposes. Just my 2 cents."}, {"is_private": false, "count": 6, "author": "m-wada@usa.com", "time": "2014-12-06T09:23:06Z", "id": 9665933, "attachment_id": null, "creation_time": "2014-12-06T09:23:06Z", "tags": [], "creator": "m-wada@usa.com", "raw_text": "I think both of following is needed.\n(a) Make \"auto-linkify\" optional.\n      Even if correct URL or mail address, if very many URL, mail-addr are contained in a text mail,\n      if physing detecter is enabled, performance problem may arise due to check for phishing detection.\n      This is actually reported case at a forum in Japan.\n      Need a way to disable.\n(b) Reduce false positive in auto-linkify, with help by addon.\n(b-1) Freely replacable JavaScript function for auto-linkify.\n          When stringA@stringB, stringA://stringB like one is detected, call CreteLink().\n(b-2) Addon freely replaces CreteLink() function. That's all.\n          Needless to say, default one provided by Thunderbird is better cleverer than current.", "bug_id": 641939, "text": "I think both of following is needed.\n(a) Make \"auto-linkify\" optional.\n      Even if correct URL or mail address, if very many URL, mail-addr are contained in a text mail,\n      if physing detecter is enabled, performance problem may arise due to check for phishing detection.\n      This is actually reported case at a forum in Japan.\n      Need a way to disable.\n(b) Reduce false positive in auto-linkify, with help by addon.\n(b-1) Freely replacable JavaScript function for auto-linkify.\n          When stringA@stringB, stringA://stringB like one is detected, call CreteLink().\n(b-2) Addon freely replaces CreteLink() function. That's all.\n          Needless to say, default one provided by Thunderbird is better cleverer than current."}, {"time": "2014-12-06T23:34:11Z", "count": 7, "raw_text": "FYI \nmedium/com/abc/def@xxx.yyy.mdn       -> Linkified  as mailto:.  False positive for us.\nmedium/com/abc/def/@xxxxx.yyy.mdn  -> Linkified  as mailto:.  False positive for us.\n\"medium/com/abc/def\"@xxx.yyy.mdn   -> Not Linkified.  False negative, because local part in quote is permitted.\n\"\u3042\u3044\u3046\u3048\u304a\"@\u3042.\u3044.\u3046           -> loclal-part in quote + IDN. What is your expectation?\nxmpp:foo@example.com   -> Linkified  as mailto:.  False positive for us(bug 656617)\nT+08:0 -> Not Linkified on Win. True negative / Error message is shown with some Gnome releases(Bug 541130)\nFor me, \"disable auto-linkify\" feature is needed first :-)\n\nPrimitive check by JavaScript is sufficient to reduce annoying false positives?\n   var mailto=MailtoCheck(aWord);\n     if a word contains one @, split it to localpart + \"@\" + domainpart. else return false.\n     if localpart=\"\" or  domainpart=\"\", return false.\n     if localpart is quoted string, localpart_OK=true. else if localpart consists of a-zA-Z0-9, \"-\", \".\" etc. only, localpart_OK=true.\n     if domainpart is \"dot separated atom in ascii\", domainpart_OK=true.\n     return (localpart_OK && domainpart_OK)\n     Note: \"space in quoted string\" is not supported.\n                I guess current rule is \"anystring excluding quot + @ + dot separated atom\" like one.\n  if mailto==false, var url=URLCheck(aWord) ...", "creator": "m-wada@usa.com", "text": "FYI \nmedium/com/abc/def@xxx.yyy.mdn       -> Linkified  as mailto:.  False positive for us.\nmedium/com/abc/def/@xxxxx.yyy.mdn  -> Linkified  as mailto:.  False positive for us.\n\"medium/com/abc/def\"@xxx.yyy.mdn   -> Not Linkified.  False negative, because local part in quote is permitted.\n\"\u3042\u3044\u3046\u3048\u304a\"@\u3042.\u3044.\u3046           -> loclal-part in quote + IDN. What is your expectation?\nxmpp:foo@example.com   -> Linkified  as mailto:.  False positive for us(bug 656617)\nT+08:0 -> Not Linkified on Win. True negative / Error message is shown with some Gnome releases(Bug 541130)\nFor me, \"disable auto-linkify\" feature is needed first :-)\n\nPrimitive check by JavaScript is sufficient to reduce annoying false positives?\n   var mailto=MailtoCheck(aWord);\n     if a word contains one @, split it to localpart + \"@\" + domainpart. else return false.\n     if localpart=\"\" or  domainpart=\"\", return false.\n     if localpart is quoted string, localpart_OK=true. else if localpart consists of a-zA-Z0-9, \"-\", \".\" etc. only, localpart_OK=true.\n     if domainpart is \"dot separated atom in ascii\", domainpart_OK=true.\n     return (localpart_OK && domainpart_OK)\n     Note: \"space in quoted string\" is not supported.\n                I guess current rule is \"anystring excluding quot + @ + dot separated atom\" like one.\n  if mailto==false, var url=URLCheck(aWord) ...", "author": "m-wada@usa.com", "is_private": false, "id": 9666298, "tags": [], "creation_time": "2014-12-06T23:34:11Z", "attachment_id": null, "bug_id": 641939}]}}, "comments": {}}