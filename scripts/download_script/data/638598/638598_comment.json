{"bugs": {"638598": {"comments": [{"author": "alice0775@gmail.com", "id": 5320197, "raw_text": "Build Identifier:\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b13pre) Gecko/20110303\nFirefox/4.0b13pre ID:20110303030406\n\nIframed page does not scroll to # anchor on certain site.\nFirefox3.6.14 , Google Chrome 9.0.597.107 and Opera 11.0 works as expected.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Start Minefield with new profile\n2. Open http://asukimi.purplesoftware.jp/top/bbs\n3. Click [\u30c8\u30d4\u30c3\u30af\u8868\u793a]\n4. Click a Link in the table (Ex., \"\u30cb\u30b3\u751f\u30c8\u30fc\u30af\u3057\u3088\u3046\u305c\u3043\uff01\")\n5. Click a Link in the tree (Ex. \"Re: \u30cb\u30b3\u751f\u30c8\u30fc\u30af\u3057\u3088\u3046\u305c\u3043\uff01\" )\n\nActual Results:\n page does not scroll to # anchor\n\nExpected Results:\n page should scroll to # anchor", "creation_time": "2011-03-03T23:12:44Z", "text": "Build Identifier:\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b13pre) Gecko/20110303\nFirefox/4.0b13pre ID:20110303030406\n\nIframed page does not scroll to # anchor on certain site.\nFirefox3.6.14 , Google Chrome 9.0.597.107 and Opera 11.0 works as expected.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Start Minefield with new profile\n2. Open http://asukimi.purplesoftware.jp/top/bbs\n3. Click [\u30c8\u30d4\u30c3\u30af\u8868\u793a]\n4. Click a Link in the table (Ex., \"\u30cb\u30b3\u751f\u30c8\u30fc\u30af\u3057\u3088\u3046\u305c\u3043\uff01\")\n5. Click a Link in the tree (Ex. \"Re: \u30cb\u30b3\u751f\u30c8\u30fc\u30af\u3057\u3088\u3046\u305c\u3043\uff01\" )\n\nActual Results:\n page does not scroll to # anchor\n\nExpected Results:\n page should scroll to # anchor", "creator": "alice0775@gmail.com", "count": 0, "tags": [], "bug_id": 638598, "attachment_id": null, "is_private": false, "time": "2011-03-03T23:12:44Z"}, {"id": 5320696, "raw_text": "Regression window:\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/1ed3464aaa92\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b12pre) Gecko/20110211 Firefox/4.0b12pre ID:20110211030400\nFails:\nhttp://hg.mozilla.org/mozilla-central/rev/8013e7a30984\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b12pre) Gecko/20110210 Firefox/4.0b12pre ID:20110210235042\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=1ed3464aaa92&tochange=8013e7a30984\n\nCC jonas", "creation_time": "2011-03-04T02:30:31Z", "is_private": false, "text": "Regression window:\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/1ed3464aaa92\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b12pre) Gecko/20110211 Firefox/4.0b12pre ID:20110211030400\nFails:\nhttp://hg.mozilla.org/mozilla-central/rev/8013e7a30984\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b12pre) Gecko/20110210 Firefox/4.0b12pre ID:20110210235042\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=1ed3464aaa92&tochange=8013e7a30984\n\nCC jonas", "tags": [], "creator": "alice0775@gmail.com", "count": 1, "time": "2011-03-04T02:30:31Z", "bug_id": 638598, "attachment_id": null, "author": "alice0775@gmail.com"}, {"author": "alice0775@gmail.com", "tags": [], "count": 2, "creator": "alice0775@gmail.com", "bug_id": 638598, "id": 5320703, "raw_text": "Also happens on Linux.\nMozilla/5.0 (X11; Linux i686; rv:2.0b13pre) Gecko/20110303 Firefox/4.0b13pre ID:20110303122407", "creation_time": "2011-03-04T02:36:18Z", "text": "Also happens on Linux.\nMozilla/5.0 (X11; Linux i686; rv:2.0b13pre) Gecko/20110303 Firefox/4.0b13pre ID:20110303122407", "attachment_id": null, "time": "2011-03-04T02:36:18Z", "is_private": false}, {"id": 5320726, "raw_text": "", "creation_time": "2011-03-04T02:46:45Z", "text": "Created attachment 516773\nScreenshot(STR)", "creator": "alice0775@gmail.com", "count": 3, "tags": [], "bug_id": 638598, "author": "alice0775@gmail.com", "is_private": false, "time": "2011-03-04T02:46:45Z", "attachment_id": 516773}, {"attachment_id": 516791, "is_private": false, "time": "2011-03-04T04:10:20Z", "author": "alice0775@gmail.com", "raw_text": "[STR for attached textcase]\n1. Extract zip.\n2. Open bbs-main.html\n3. Click \"go to aaa\" link\n\n[Expected result]\nPage should be scrolled to \"aaa\".", "id": 5320898, "text": "Created attachment 516791\ntestcase\n\n[STR for attached textcase]\n1. Extract zip.\n2. Open bbs-main.html\n3. Click \"go to aaa\" link\n\n[Expected result]\nPage should be scrolled to \"aaa\".", "creation_time": "2011-03-04T04:10:20Z", "bug_id": 638598, "tags": [], "count": 4, "creator": "alice0775@gmail.com"}, {"is_private": false, "time": "2011-03-04T04:14:10Z", "attachment_id": null, "raw_text": "We've built release candidates - I think this might be a .x, but I can't see us stopping the release train for this regression from Feb 10.", "id": 5320907, "text": "We've built release candidates - I think this might be a .x, but I can't see us stopping the release train for this regression from Feb 10.", "creation_time": "2011-03-04T04:14:10Z", "bug_id": 638598, "count": 5, "creator": "mbeltzner@gmail.com", "tags": [], "author": "mbeltzner@gmail.com"}, {"attachment_id": null, "is_private": false, "time": "2011-03-04T04:59:01Z", "author": "alice0775@gmail.com", "text": "In local build,\nbuild from 69e9525dff19 : fails\nbuild from 1ed3464aaa92 : works\n\nRegressed by:\n69e9525dff19\tJonas Sicking \u2014 Bug 583889: Prevent scrolling from leaking information. r=dbaron a=blocker", "creation_time": "2011-03-04T04:59:01Z", "raw_text": "In local build,\nbuild from 69e9525dff19 : fails\nbuild from 1ed3464aaa92 : works\n\nRegressed by:\n69e9525dff19\tJonas Sicking \u2014 Bug 583889: Prevent scrolling from leaking information. r=dbaron a=blocker", "id": 5320949, "bug_id": 638598, "tags": [], "count": 6, "creator": "alice0775@gmail.com"}, {"time": "2011-03-04T05:05:49Z", "is_private": false, "attachment_id": 516801, "tags": [], "count": 7, "creator": "alice0775@gmail.com", "bug_id": 638598, "creation_time": "2011-03-04T05:05:49Z", "text": "Created attachment 516801\ntestcase", "id": 5320954, "raw_text": "", "author": "alice0775@gmail.com"}, {"raw_text": "This might be WONTFIX, but it's not a blocker in any case.", "id": 5321630, "text": "This might be WONTFIX, but it's not a blocker in any case.", "creation_time": "2011-03-04T15:28:55Z", "is_private": false, "bug_id": 638598, "count": 8, "creator": "benjamin@smedbergs.us", "time": "2011-03-04T15:28:55Z", "tags": [], "author": "benjamin@smedbergs.us", "attachment_id": null}, {"author": "bzbarsky@mit.edu", "attachment_id": null, "raw_text": "See bug 583889 comment 33.", "id": 5322037, "text": "See bug 583889 comment 33.", "creation_time": "2011-03-04T17:47:19Z", "is_private": false, "bug_id": 638598, "tags": [], "time": "2011-03-04T17:47:19Z", "count": 9, "creator": "bzbarsky@mit.edu"}, {"attachment_id": null, "is_private": false, "time": "2011-03-23T15:47:23Z", "author": "alice0775@gmail.com", "raw_text": "", "id": 5362629, "text": "*** Bug 644158 has been marked as a duplicate of this bug. ***", "creation_time": "2011-03-23T15:47:23Z", "bug_id": 638598, "creator": "alice0775@gmail.com", "count": 10, "tags": []}, {"is_private": false, "time": "2011-03-23T18:18:36Z", "attachment_id": null, "text": "Yeah, I think this is a WONTFIX. Otherwise you could trick the user into clicking a link targeted at an inner iframe and then measure weather that scrolls using an outer iframe.", "creation_time": "2011-03-23T18:18:36Z", "raw_text": "Yeah, I think this is a WONTFIX. Otherwise you could trick the user into clicking a link targeted at an inner iframe and then measure weather that scrolls using an outer iframe.", "id": 5363159, "bug_id": 638598, "tags": [], "creator": "jonas@sicking.cc", "count": 11, "author": "jonas@sicking.cc"}, {"creator": "emorley@mozilla.com", "tags": [], "count": 12, "bug_id": 638598, "creation_time": "2011-03-23T22:17:21Z", "text": "*** Bug 644194 has been marked as a duplicate of this bug. ***", "id": 5364082, "raw_text": "", "author": "emorley@mozilla.com", "time": "2011-03-23T22:17:21Z", "is_private": false, "attachment_id": null}, {"creation_time": "2011-03-24T09:09:29Z", "text": "Please fix this. This bug means that Facebook applications (which are hosted in iFrames) can't use # anchors without resorting to Javascript scrollTo() or equivalent.", "id": 5365304, "raw_text": "Please fix this. This bug means that Facebook applications (which are hosted in iFrames) can't use # anchors without resorting to Javascript scrollTo() or equivalent.", "tags": [], "count": 13, "creator": "yuri@ualberta.ca", "bug_id": 638598, "author": "yuri@ualberta.ca", "is_private": false, "time": "2011-03-24T09:09:29Z", "attachment_id": null}, {"author": "alice0775@gmail.com", "creation_time": "2011-03-25T17:43:12Z", "text": "*** Bug 645025 has been marked as a duplicate of this bug. ***", "id": 5369767, "raw_text": "", "creator": "alice0775@gmail.com", "tags": [], "count": 14, "bug_id": 638598, "attachment_id": null, "is_private": false, "time": "2011-03-25T17:43:12Z"}, {"tags": [], "count": 15, "creator": "mbrenneman@knoxlib.org", "bug_id": 638598, "creation_time": "2011-03-28T15:00:23Z", "text": "I try not to have a scroll bar for my iframe, but without one, the internal links don't work at all.\n\nhttp://knoxrooms.sirsi.net/rooms/portal/page/21728_Reference", "id": 5374316, "raw_text": "I try not to have a scroll bar for my iframe, but without one, the internal links don't work at all.\n\nhttp://knoxrooms.sirsi.net/rooms/portal/page/21728_Reference", "author": "mbrenneman@knoxlib.org", "time": "2011-03-28T15:00:23Z", "is_private": false, "attachment_id": null}, {"author": "miscs3@gmail.com", "attachment_id": null, "bug_id": 638598, "count": 16, "tags": [], "time": "2011-04-05T19:35:41Z", "creator": "miscs3@gmail.com", "text": "The same problem has happend to me.\nIt's way way simple problem which is not happening on Chrome, Safari, IE8, IE7 and Firefox 3.6.7, but happening only on Firefox4.\n\nYou can see what's the problem in the following link.\n\n> http://firedictionary.com/test/parent.html\n\nThe contents inside of the border is in iframe, and links to the anchors just doesn't work.\nThis is obviously problem.\n\nPlease, fix this!!", "creation_time": "2011-04-05T19:35:41Z", "is_private": false, "raw_text": "The same problem has happend to me.\nIt's way way simple problem which is not happening on Chrome, Safari, IE8, IE7 and Firefox 3.6.7, but happening only on Firefox4.\n\nYou can see what's the problem in the following link.\n\n> http://firedictionary.com/test/parent.html\n\nThe contents inside of the border is in iframe, and links to the anchors just doesn't work.\nThis is obviously problem.\n\nPlease, fix this!!", "id": 5391446}, {"author": "miscs3@gmail.com", "attachment_id": null, "bug_id": 638598, "tags": [], "creator": "miscs3@gmail.com", "time": "2011-04-05T19:42:09Z", "count": 17, "text": "Additionally, the links in the test page in the last post works on: Firefox 4.0b10, Firefox 4.0b11, but not on 4.0b12, 4.2a1pre(2011-4-5) and official release version of Firefox 4.0.", "creation_time": "2011-04-05T19:42:09Z", "is_private": false, "raw_text": "Additionally, the links in the test page in the last post works on: Firefox 4.0b10, Firefox 4.0b11, but not on 4.0b12, 4.2a1pre(2011-4-5) and official release version of Firefox 4.0.", "id": 5391454}, {"raw_text": "Nori, the problem is that the old behavior is a security bug.... that's why we changed the behavior.  See comment 11.", "id": 5391558, "text": "Nori, the problem is that the old behavior is a security bug.... that's why we changed the behavior.  See comment 11.", "creation_time": "2011-04-05T21:45:35Z", "bug_id": 638598, "creator": "bzbarsky@mit.edu", "tags": [], "count": 18, "author": "bzbarsky@mit.edu", "is_private": false, "time": "2011-04-05T21:45:35Z", "attachment_id": null}, {"raw_text": "Thank you for your quick reply, Boris.\nMy English is so poor, so I couldn't understand what is a security problem of it.\nIn a comment 11 says 'measure weather that scrolls using an outer iframe.'.\nWhat I don't under stand is that mesure what? and how it affect to the security problem. Please let me know that.", "id": 5391577, "text": "Thank you for your quick reply, Boris.\nMy English is so poor, so I couldn't understand what is a security problem of it.\nIn a comment 11 says 'measure weather that scrolls using an outer iframe.'.\nWhat I don't under stand is that mesure what? and how it affect to the security problem. Please let me know that.", "creation_time": "2011-04-05T21:59:02Z", "is_private": false, "bug_id": 638598, "creator": "miscs3@gmail.com", "count": 19, "tags": [], "time": "2011-04-05T21:59:02Z", "author": "miscs3@gmail.com", "attachment_id": null}, {"id": 5391586, "raw_text": "The security problem is described in detail in bug 583889.", "is_private": false, "creation_time": "2011-04-05T22:06:37Z", "text": "The security problem is described in detail in bug 583889.", "count": 20, "creator": "bzbarsky@mit.edu", "time": "2011-04-05T22:06:37Z", "tags": [], "bug_id": 638598, "attachment_id": null, "author": "bzbarsky@mit.edu"}, {"author": "miscs3@gmail.com", "count": 21, "creator": "miscs3@gmail.com", "tags": [], "bug_id": 638598, "creation_time": "2011-04-05T22:11:30Z", "text": "it sounds like a deep problem, the behavior is simple, though.\n\nThank you.", "id": 5391590, "raw_text": "it sounds like a deep problem, the behavior is simple, though.\n\nThank you.", "attachment_id": null, "time": "2011-04-05T22:11:30Z", "is_private": false}, {"author": "yuri@ualberta.ca", "attachment_id": null, "bug_id": 638598, "tags": [], "count": 22, "creator": "yuri@ualberta.ca", "time": "2011-04-05T22:23:47Z", "raw_text": "My understanding is that bug 583889 has do do with scrolling OUTER frames (although there are legitimate situations where that is required); Nori's example shows that iframes aren't able to scroll _themselves_.", "id": 5391603, "text": "My understanding is that bug 583889 has do do with scrolling OUTER frames (although there are legitimate situations where that is required); Nori's example shows that iframes aren't able to scroll _themselves_.", "is_private": false, "creation_time": "2011-04-05T22:23:47Z"}, {"attachment_id": null, "time": "2011-04-05T22:33:34Z", "is_private": false, "author": "bzbarsky@mit.edu", "count": 23, "creator": "bzbarsky@mit.edu", "tags": [], "bug_id": 638598, "creation_time": "2011-04-05T22:33:34Z", "text": "In Nori's case the iframe doesn't scroll, since it's big enough for the content.  the only thing that can scroll is the outer browser window containing the iframe.", "id": 5391614, "raw_text": "In Nori's case the iframe doesn't scroll, since it's big enough for the content.  the only thing that can scroll is the outer browser window containing the iframe."}, {"bug_id": 638598, "count": 24, "tags": [], "creator": "miscs3@gmail.com", "text": "I made another example of it in which the iframe itself has a scroll bar, and\nthose links work without any problem.\n\nhttp://firedictionary.com/test/parent2.html\n\nIf my first example ( http://firedictionary.com/test/parent.html ) works, an\niframe leaks an information of if some certain id is contained in the inner\ndocument because we can control the url of iframe through iframe.src property.\n\nThis is a problem of a case if the first example working, right Boris?", "creation_time": "2011-04-05T22:41:32Z", "raw_text": "I made another example of it in which the iframe itself has a scroll bar, and\nthose links work without any problem.\n\nhttp://firedictionary.com/test/parent2.html\n\nIf my first example ( http://firedictionary.com/test/parent.html ) works, an\niframe leaks an information of if some certain id is contained in the inner\ndocument because we can control the url of iframe through iframe.src property.\n\nThis is a problem of a case if the first example working, right Boris?", "id": 5391624, "author": "miscs3@gmail.com", "time": "2011-04-05T22:41:32Z", "is_private": false, "attachment_id": null}, {"time": "2011-04-05T22:51:39Z", "is_private": false, "attachment_id": null, "tags": [], "count": 25, "creator": "bzbarsky@mit.edu", "bug_id": 638598, "creation_time": "2011-04-05T22:51:39Z", "text": "Nori: yes, exactly.", "id": 5391636, "raw_text": "Nori: yes, exactly.", "author": "bzbarsky@mit.edu"}, {"id": 5391670, "raw_text": "What is the problem with:\n\na) allowing iFrames to scroll themselves\nb) ignoring the fragment identifier on the src attribute of cross-domain iFrames\n\n?", "creation_time": "2011-04-05T23:34:56Z", "text": "What is the problem with:\n\na) allowing iFrames to scroll themselves\nb) ignoring the fragment identifier on the src attribute of cross-domain iFrames\n\n?", "creator": "yuri@ualberta.ca", "count": 26, "tags": [], "bug_id": 638598, "author": "yuri@ualberta.ca", "is_private": false, "time": "2011-04-05T23:34:56Z", "attachment_id": null}, {"attachment_id": null, "time": "2011-04-05T23:40:00Z", "is_private": false, "author": "bzbarsky@mit.edu", "bug_id": 638598, "creator": "bzbarsky@mit.edu", "tags": [], "count": 27, "raw_text": "I suggest reading this bug again.  That question was already answered in comment 11.", "id": 5391676, "text": "I suggest reading this bug again.  That question was already answered in comment 11.", "creation_time": "2011-04-05T23:40:00Z"}, {"author": "yuri@ualberta.ca", "tags": [], "count": 28, "creator": "yuri@ualberta.ca", "bug_id": 638598, "creation_time": "2011-04-05T23:43:32Z", "text": "The exploit described in comment 11 only works if the outer frame can cause the inner frame to scroll using a fragment identifier.  If the fragment identifier were ignored on cross-domain iframes, no scrolling would occur.", "id": 5391679, "raw_text": "The exploit described in comment 11 only works if the outer frame can cause the inner frame to scroll using a fragment identifier.  If the fragment identifier were ignored on cross-domain iframes, no scrolling would occur.", "attachment_id": null, "time": "2011-04-05T23:43:32Z", "is_private": false}, {"tags": [], "count": 29, "creator": "bzbarsky@mit.edu", "bug_id": 638598, "id": 5391687, "raw_text": "No, you didn't read comment 11 carefully enough...  The src attribute is not being set there.\n\nAs far as restricting to cross-domain, this was discussed in bug 583889.  Potentially doing such a restriction is the only reason this bug is still open.", "creation_time": "2011-04-05T23:48:19Z", "text": "No, you didn't read comment 11 carefully enough...  The src attribute is not being set there.\n\nAs far as restricting to cross-domain, this was discussed in bug 583889.  Potentially doing such a restriction is the only reason this bug is still open.", "author": "bzbarsky@mit.edu", "time": "2011-04-05T23:48:19Z", "is_private": false, "attachment_id": null}, {"is_private": false, "time": "2011-04-08T02:37:14Z", "attachment_id": null, "text": "Sorry, I meant the href attribute.  Basically, if B.com included\n\na target=\"frame2\" href=\"A.com/#asdf\"\n\nwhere A.com != B.com, then the fragment identifier would be ignored, i.e. it would be equivalent to\n\na target=\"frame2\" href=\"A.com\".\n\nHowever, if within A.com (frame2), the user clicked on the link\n\na href=\"#asdf\"\n\nthen the iframe would scroll to #asdf as usual.  What's wrong with this?", "creation_time": "2011-04-08T02:37:14Z", "raw_text": "Sorry, I meant the href attribute.  Basically, if B.com included\n\na target=\"frame2\" href=\"A.com/#asdf\"\n\nwhere A.com != B.com, then the fragment identifier would be ignored, i.e. it would be equivalent to\n\na target=\"frame2\" href=\"A.com\".\n\nHowever, if within A.com (frame2), the user clicked on the link\n\na href=\"#asdf\"\n\nthen the iframe would scroll to #asdf as usual.  What's wrong with this?", "id": 5395730, "bug_id": 638598, "count": 30, "creator": "yuri@ualberta.ca", "tags": [], "author": "yuri@ualberta.ca"}, {"attachment_id": null, "time": "2011-04-08T17:06:34Z", "is_private": false, "author": "miscs3@gmail.com", "count": 31, "creator": "miscs3@gmail.com", "tags": [], "bug_id": 638598, "id": 5396713, "raw_text": "Hi Yuri,\n\nYou mean like this:\n\n> http://firedictionary.com/test/parent3.html\n\nI made a sample web page showing how a link targeted to an iframe works.\nIt looks like a fragment identifier in a link works for both the same domain and a different domains on Firefox 4.0.\n\nDo I misunderstand something?", "creation_time": "2011-04-08T17:06:34Z", "text": "Hi Yuri,\n\nYou mean like this:\n\n> http://firedictionary.com/test/parent3.html\n\nI made a sample web page showing how a link targeted to an iframe works.\nIt looks like a fragment identifier in a link works for both the same domain and a different domains on Firefox 4.0.\n\nDo I misunderstand something?"}, {"author": "jc.direur@gmail.com", "attachment_id": null, "text": "We use frame in same domain origin: top, left, bottom menu in iframe parent and content in iframe child.\n\nBut the implementation for bug 583889, i understand the security problem, is a big regression for user convenience.\n\nWhat can we do to solve that?\n\n(sorry for my english).", "is_private": false, "creation_time": "2011-05-28T21:56:49Z", "raw_text": "We use frame in same domain origin: top, left, bottom menu in iframe parent and content in iframe child.\n\nBut the implementation for bug 583889, i understand the security problem, is a big regression for user convenience.\n\nWhat can we do to solve that?\n\n(sorry for my english).", "id": 5500018, "bug_id": 638598, "time": "2011-05-28T21:56:49Z", "count": 32, "creator": "jc.direur@gmail.com", "tags": []}, {"time": "2011-06-28T17:09:07Z", "is_private": false, "attachment_id": null, "bug_id": 638598, "tags": [], "creator": "cork@box.qzdev.se", "count": 33, "text": "*** Bug 667859 has been marked as a duplicate of this bug. ***", "creation_time": "2011-06-28T17:09:07Z", "raw_text": "", "id": 5562049, "author": "cork@box.qzdev.se"}, {"is_private": false, "time": "2011-06-28T18:28:00Z", "attachment_id": null, "id": 5562279, "raw_text": "Sry but maybe I am too stupid to check the \"security\" reasons or my english is not good enought to understand everything (COmment 11 here and #583889 Bug), but I cant see any \"security\" reason?\n\nI got a simple example. If you sell things on ebay your article description will be inserted like an iframe (without scroling!!!!) - so anchors will not work on ebay article descriptions - BIG FAIL!!!! Dont ask me how but i cant find any iframe tags on the ebay source code but its defenetly any kind of frame because i can right click anywhere in the description and choose (free tranlated) \"current frame\" -> \"show only this frame\" <- dont know how its exactly called in englisch firefox version.\n\nSo what to do? I cant believe that this wount be possilble in any future firefox version. If it is, than I am so sorry to be forced changing my browser. So please fix it. \n\nAgain you cant tell me that >> klicking << an anchor in iframe mean any security reason for the page visitor using firefox!?!?! I cant recognize the email example on ticket #583889. If I understand that ticket correct he means only the possibility to insert a external web page with an #anchor but not klicking it!?!?!", "creation_time": "2011-06-28T18:28:00Z", "text": "Sry but maybe I am too stupid to check the \"security\" reasons or my english is not good enought to understand everything (COmment 11 here and #583889 Bug), but I cant see any \"security\" reason?\n\nI got a simple example. If you sell things on ebay your article description will be inserted like an iframe (without scroling!!!!) - so anchors will not work on ebay article descriptions - BIG FAIL!!!! Dont ask me how but i cant find any iframe tags on the ebay source code but its defenetly any kind of frame because i can right click anywhere in the description and choose (free tranlated) \"current frame\" -> \"show only this frame\" <- dont know how its exactly called in englisch firefox version.\n\nSo what to do? I cant believe that this wount be possilble in any future firefox version. If it is, than I am so sorry to be forced changing my browser. So please fix it. \n\nAgain you cant tell me that >> klicking << an anchor in iframe mean any security reason for the page visitor using firefox!?!?! I cant recognize the email example on ticket #583889. If I understand that ticket correct he means only the possibility to insert a external web page with an #anchor but not klicking it!?!?!", "count": 34, "creator": "info@seo-berg.de", "tags": [], "bug_id": 638598, "author": "info@seo-berg.de"}, {"attachment_id": null, "author": "info@seo-berg.de", "tags": [], "count": 35, "creator": "info@seo-berg.de", "time": "2011-06-29T08:04:53Z", "bug_id": 638598, "id": 5563935, "raw_text": "Come on guys you cant seriously tell me you wount fix this!?!?!", "is_private": false, "creation_time": "2011-06-29T08:04:53Z", "text": "Come on guys you cant seriously tell me you wount fix this!?!?!"}, {"text": "Why is this bug not being fixed?  I don't understand how using an intrapage link within an iFrame can be a big security hole.  \"Back to top\" links within a Yahoo Store are no longer working.  Also, users cannot drill down to specific content.  Please explain why other major browsers do not feel this is a security concern, but Firefox does?  Thanks for your time.", "creation_time": "2011-07-06T14:53:46Z", "is_private": false, "raw_text": "Why is this bug not being fixed?  I don't understand how using an intrapage link within an iFrame can be a big security hole.  \"Back to top\" links within a Yahoo Store are no longer working.  Also, users cannot drill down to specific content.  Please explain why other major browsers do not feel this is a security concern, but Firefox does?  Thanks for your time.", "id": 5576351, "bug_id": 638598, "time": "2011-07-06T14:53:46Z", "tags": [], "count": 36, "creator": "jason@nylontechnology.com", "author": "jason@nylontechnology.com", "attachment_id": null}, {"author": "info@seo-berg.de", "count": 37, "tags": [], "creator": "info@seo-berg.de", "bug_id": 638598, "creation_time": "2011-07-06T14:56:49Z", "text": "@Jason read the whole Request - They dont think this is a bug because they dont understand that klicking and inserting are two different cases... Thats what I try to explain but they didnt answer...\n\n:(", "id": 5576361, "raw_text": "@Jason read the whole Request - They dont think this is a bug because they dont understand that klicking and inserting are two different cases... Thats what I try to explain but they didnt answer...\n\n:(", "attachment_id": null, "time": "2011-07-06T14:56:49Z", "is_private": false}, {"author": "MatsPalmgren_bugz@use.startmail.com", "count": 38, "tags": [], "creator": "MatsPalmgren_bugz@use.startmail.com", "bug_id": 638598, "id": 5648515, "raw_text": "", "creation_time": "2011-08-11T20:41:46Z", "text": "*** Bug 675024 has been marked as a duplicate of this bug. ***", "attachment_id": null, "time": "2011-08-11T20:41:46Z", "is_private": false}, {"attachment_id": null, "time": "2011-08-11T21:20:48Z", "is_private": false, "author": "jonathan.protzenko@gmail.com", "creator": "jonathan.protzenko@gmail.com", "tags": [], "count": 39, "bug_id": 638598, "creation_time": "2011-08-11T21:20:48Z", "text": "Is there any way to revert to the previous behavior when the outer page has chrome privileges? Would that be very involved or would that just involve setting the right flag? I'm asking because that will be a problem for Thunderbird when we switch to displaying emails using seamless iframes (once bug 80713 is fixed), and this is already a problem for Thunderbird Conversations (an official Messaging extension).\n\nRestricting this behavior to cross-domain would indeed be better but that sounds more elaborate.", "id": 5648610, "raw_text": "Is there any way to revert to the previous behavior when the outer page has chrome privileges? Would that be very involved or would that just involve setting the right flag? I'm asking because that will be a problem for Thunderbird when we switch to displaying emails using seamless iframes (once bug 80713 is fixed), and this is already a problem for Thunderbird Conversations (an official Messaging extension).\n\nRestricting this behavior to cross-domain would indeed be better but that sounds more elaborate."}, {"time": "2011-08-11T22:06:00Z", "is_private": false, "attachment_id": null, "creator": "bzbarsky@mit.edu", "tags": [], "count": 40, "bug_id": 638598, "id": 5648758, "raw_text": "If the outer page has chrome privileges, presumably it's in a chrome-type docshell too.  And if the subframe is content-type, then the scroll wouldn't have affected the outer page in the past either...\n\nEmanuel, it's very clear that clicking and inserting are different things; that's why this bug is still open.  One problem is getting that information to the point that needs to make the scroll decision.", "creation_time": "2011-08-11T22:06:00Z", "text": "If the outer page has chrome privileges, presumably it's in a chrome-type docshell too.  And if the subframe is content-type, then the scroll wouldn't have affected the outer page in the past either...\n\nEmanuel, it's very clear that clicking and inserting are different things; that's why this bug is still open.  One problem is getting that information to the point that needs to make the scroll decision.", "author": "bzbarsky@mit.edu"}, {"bug_id": 638598, "time": "2011-09-29T00:24:11Z", "count": 41, "creator": "steven@acko.net", "tags": [], "text": "Having read the security issue, I don't understand why this should block a tall inner iframe from scrolling the outer iframe when the inner frame targets one of its *own* anchors.\n\nThe inner frame has no way of verifying whether the parent's scrolling position changed, as that information is subject to same-origin-policy. All it cares about is that the browser is going to make a reasonable effort to make that anchor visible.", "is_private": false, "creation_time": "2011-09-29T00:24:11Z", "raw_text": "Having read the security issue, I don't understand why this should block a tall inner iframe from scrolling the outer iframe when the inner frame targets one of its *own* anchors.\n\nThe inner frame has no way of verifying whether the parent's scrolling position changed, as that information is subject to same-origin-policy. All it cares about is that the browser is going to make a reasonable effort to make that anchor visible.", "id": 5744875, "author": "steven@acko.net", "attachment_id": null}, {"is_private": false, "time": "2011-09-29T01:33:55Z", "attachment_id": null, "id": 5745011, "raw_text": "steven, in the scenario you describe the outer frame can spy on what the inner frame is doing by observing its own scroll position if it gets scrolled.  Which would violate the same-origin policy.  In this case the inner frame is being protected from the outer one, not vice versa as you seemed to think.", "creation_time": "2011-09-29T01:33:55Z", "text": "steven, in the scenario you describe the outer frame can spy on what the inner frame is doing by observing its own scroll position if it gets scrolled.  Which would violate the same-origin policy.  In this case the inner frame is being protected from the outer one, not vice versa as you seemed to think.", "tags": [], "creator": "bzbarsky@mit.edu", "count": 42, "bug_id": 638598, "author": "bzbarsky@mit.edu"}, {"author": "steven@acko.net", "creation_time": "2011-09-29T01:57:36Z", "text": "Boris: no, we're talking about two different things.\n\nThe security issue you describe occurs when the outer iframe navigates the inner iframe to an anchor. I agree this is an issue.\n\nWhat I'm describing is when the *inner* iframe navigates to one of its own anchors, but when overflow / layout requires the outer iframe to scroll to actually achieve this. This does not seem like a case where information leakage can occur, and yet it is currently forbidden.", "id": 5745043, "raw_text": "Boris: no, we're talking about two different things.\n\nThe security issue you describe occurs when the outer iframe navigates the inner iframe to an anchor. I agree this is an issue.\n\nWhat I'm describing is when the *inner* iframe navigates to one of its own anchors, but when overflow / layout requires the outer iframe to scroll to actually achieve this. This does not seem like a case where information leakage can occur, and yet it is currently forbidden.", "count": 43, "tags": [], "creator": "steven@acko.net", "bug_id": 638598, "attachment_id": null, "is_private": false, "time": "2011-09-29T01:57:36Z"}, {"count": 44, "creator": "bzbarsky@mit.edu", "tags": [], "time": "2011-10-04T04:54:27Z", "bug_id": 638598, "is_private": false, "creation_time": "2011-10-04T04:54:27Z", "text": "steven, I know what you're describing.  I was talking about the same exact thing.\n\nSay the outer frame places the inner frame such that its top is at the bottom of the outer frame when the outer frame is scrolled all the way to top and gives it a very large height, to make sure that no scrolling will actually happen in the inner frame.  Then when the inner frame navigates to an anchor, if this caused the outer frame to scroll the outer frame would be able to read its own scroll position, which will exactly match the location of the anchor in the inner frame, which leaks information from the inner frame (the anchor it navigated to) to the outer frame.\n\nThis is indeed not the same issue as bug 583889: that was about the inner frame leaking information about whether it has an id.  But leaking information about which anchor you're going to is also bad.", "id": 5756498, "raw_text": "steven, I know what you're describing.  I was talking about the same exact thing.\n\nSay the outer frame places the inner frame such that its top is at the bottom of the outer frame when the outer frame is scrolled all the way to top and gives it a very large height, to make sure that no scrolling will actually happen in the inner frame.  Then when the inner frame navigates to an anchor, if this caused the outer frame to scroll the outer frame would be able to read its own scroll position, which will exactly match the location of the anchor in the inner frame, which leaks information from the inner frame (the anchor it navigated to) to the outer frame.\n\nThis is indeed not the same issue as bug 583889: that was about the inner frame leaking information about whether it has an id.  But leaking information about which anchor you're going to is also bad.", "attachment_id": null, "author": "bzbarsky@mit.edu"}, {"author": "alice0775@gmail.com", "id": 5887855, "raw_text": "", "creation_time": "2011-12-02T11:44:52Z", "text": "*** Bug 707113 has been marked as a duplicate of this bug. ***", "tags": [], "creator": "alice0775@gmail.com", "count": 45, "bug_id": 638598, "attachment_id": null, "is_private": false, "time": "2011-12-02T11:44:52Z"}, {"time": "2012-01-17T14:40:39Z", "is_private": false, "attachment_id": null, "count": 46, "tags": [], "creator": "asmodai@in-nomine.org", "bug_id": 638598, "id": 5985186, "raw_text": "I am running into this issue as well. I have a static webpage with same-page anchors that gets iframe included on a larger page part of our larger site. Every single browser *EXCEPT* Firefox works with the same-page links. Somehow I doubt that all the developers on the other browser teams are unaware of the problems of leaking. So why is Firefox solving this problem with an obvious regression in usability?", "creation_time": "2012-01-17T14:40:39Z", "text": "I am running into this issue as well. I have a static webpage with same-page anchors that gets iframe included on a larger page part of our larger site. Every single browser *EXCEPT* Firefox works with the same-page links. Somehow I doubt that all the developers on the other browser teams are unaware of the problems of leaking. So why is Firefox solving this problem with an obvious regression in usability?", "author": "asmodai@in-nomine.org"}, {"attachment_id": null, "is_private": false, "time": "2012-08-29T13:17:47Z", "author": "jsp@pkc.com", "raw_text": "Bug 583889 says \"dbaron asked that we don't apply different rules for cross-site and same-site, which I [sicking] agree is a laudable goal.\"  Comment 29 indicates that this bug remains open because there's some uncertainty about this.  In the interest of furthering the discussion, I'd like to point out that even if the goal is desirable, Firefox's current behavior is problematic in at least one case.\n\nPosit an iframe on a page with script that attempts to size the frame to fit its content, thus avoiding a scroll bar on the frame.  The script is constructed to use a default frame size if it cannot obtain the content height.\n\nIf the content is cross-domain, the script is forbidden access to its height.  The script uses the default frame size, the frame gets a scroll bar if it needs it, and links between sections of the frame's content cause the frame to scroll if necessary.\n\nIf the content is same-site, however, the script is granted access to its height.  The script sizes the frame to match the content.  Links between sections of the frame's content do not scroll the page if necessary to bring the target into view.\n\nThis inconsistency is astonishing, and as a page developer, I haven't come up with a way to protect users from it.  To be consistent, I think Firefox would have to use the same rules for scrolling that apply to access to the iframe's contents.  That either means restricting access to iframe content regardless of whether it's cross-domain or same-site, or allowing the page to scroll when a page-internal link inside same-site iframe content is clicked.  The former seems needlessly limiting.", "id": 6592886, "text": "Bug 583889 says \"dbaron asked that we don't apply different rules for cross-site and same-site, which I [sicking] agree is a laudable goal.\"  Comment 29 indicates that this bug remains open because there's some uncertainty about this.  In the interest of furthering the discussion, I'd like to point out that even if the goal is desirable, Firefox's current behavior is problematic in at least one case.\n\nPosit an iframe on a page with script that attempts to size the frame to fit its content, thus avoiding a scroll bar on the frame.  The script is constructed to use a default frame size if it cannot obtain the content height.\n\nIf the content is cross-domain, the script is forbidden access to its height.  The script uses the default frame size, the frame gets a scroll bar if it needs it, and links between sections of the frame's content cause the frame to scroll if necessary.\n\nIf the content is same-site, however, the script is granted access to its height.  The script sizes the frame to match the content.  Links between sections of the frame's content do not scroll the page if necessary to bring the target into view.\n\nThis inconsistency is astonishing, and as a page developer, I haven't come up with a way to protect users from it.  To be consistent, I think Firefox would have to use the same rules for scrolling that apply to access to the iframe's contents.  That either means restricting access to iframe content regardless of whether it's cross-domain or same-site, or allowing the page to scroll when a page-internal link inside same-site iframe content is clicked.  The former seems needlessly limiting.", "creation_time": "2012-08-29T13:17:47Z", "bug_id": 638598, "tags": [], "creator": "jsp@pkc.com", "count": 47}, {"time": "2012-11-16T22:14:41Z", "is_private": false, "attachment_id": null, "bug_id": 638598, "count": 48, "tags": [], "creator": "ali.ghassemi@gmail.com", "raw_text": "Any chance this can at least be fixed for the same-origin case until a final decision is made on this bug? There are many iframes that resize to fit their content and this is causing navigation issues with content inside those iframes.", "id": 6830287, "text": "Any chance this can at least be fixed for the same-origin case until a final decision is made on this bug? There are many iframes that resize to fit their content and this is causing navigation issues with content inside those iframes.", "creation_time": "2012-11-16T22:14:41Z", "author": "ali.ghassemi@gmail.com"}, {"id": 8875826, "raw_text": "This is still an Issue with FF 29.0.1", "is_private": false, "creation_time": "2014-06-03T09:51:55Z", "text": "This is still an Issue with FF 29.0.1", "tags": [], "count": 49, "creator": "smasala@gmail.com", "time": "2014-06-03T09:51:55Z", "bug_id": 638598, "attachment_id": null, "author": "smasala@gmail.com"}, {"is_private": false, "time": "2014-08-31T16:29:25Z", "attachment_id": null, "id": 9252465, "raw_text": "This bug is a serious problem for users and course developers that use Desire2Learn, a learning management system. This learning management system depends on iframes. All course content is delivered through an iframe so no internal page anchors will work including \"back to top\" links which exist on almost every page of every course. I can't change the LMS, I can only change course content. My choices are: 1. do not use page anchors to enhance internal page navigation and design, or 2. Direct all university instructors and students at our institution to use a different browser. Neither of these solutions is desirable.\n\nPlease fix this bug. Internal page anchors are a very popular means of page navigation. These links work in all other major browsers.", "creation_time": "2014-08-31T16:29:25Z", "text": "This bug is a serious problem for users and course developers that use Desire2Learn, a learning management system. This learning management system depends on iframes. All course content is delivered through an iframe so no internal page anchors will work including \"back to top\" links which exist on almost every page of every course. I can't change the LMS, I can only change course content. My choices are: 1. do not use page anchors to enhance internal page navigation and design, or 2. Direct all university instructors and students at our institution to use a different browser. Neither of these solutions is desirable.\n\nPlease fix this bug. Internal page anchors are a very popular means of page navigation. These links work in all other major browsers.", "tags": [], "creator": "tlsmith@mun.ca", "count": 50, "bug_id": 638598, "author": "tlsmith@mun.ca"}, {"author": "gebser@mousecar.com", "creator": "gebser@mousecar.com", "count": 51, "tags": [], "bug_id": 638598, "id": 9258236, "raw_text": "(In reply to Jonas Sicking (:sicking) from comment #11)\n> Yeah, I think this is a WONTFIX. Otherwise you could trick the user into\n> clicking a link targeted at an inner iframe and then measure weather that\n> scrolls using an outer iframe.\n\nJust to make sure I'm understanding the issue correctly....\n\nIf a webpage has this code:\n\n<iframe name=\"fr1\" src=\"http://example.com/book.html\"></iframe>\n\n<a name=\"fr1\" href=\"http://example.com/book.html\">Book</a>\n\n<a name=\"fr1\" href=\"http://example.com/book.html#chap1\">Chapter 1</a>\n\nthe link to \"Book\" is considered secure, but the link to \"Chapter1\" is thought to \"leak information\"?", "creation_time": "2014-09-02T13:59:04Z", "text": "(In reply to Jonas Sicking (:sicking) from comment #11)\n> Yeah, I think this is a WONTFIX. Otherwise you could trick the user into\n> clicking a link targeted at an inner iframe and then measure weather that\n> scrolls using an outer iframe.\n\nJust to make sure I'm understanding the issue correctly....\n\nIf a webpage has this code:\n\n<iframe name=\"fr1\" src=\"http://example.com/book.html\"></iframe>\n\n<a name=\"fr1\" href=\"http://example.com/book.html\">Book</a>\n\n<a name=\"fr1\" href=\"http://example.com/book.html#chap1\">Chapter 1</a>\n\nthe link to \"Book\" is considered secure, but the link to \"Chapter1\" is thought to \"leak information\"?", "attachment_id": null, "time": "2014-09-02T13:59:04Z", "is_private": false}, {"tags": [], "count": 52, "time": "2014-09-02T14:06:52Z", "creator": "gebser@mousecar.com", "bug_id": 638598, "is_private": false, "creation_time": "2014-09-02T14:06:52Z", "text": "Just to make sure I'm understanding the issue correctly....\n\nIf a webpage has this code:\n\n<iframe name=\"fr1\" src=\"http://example.com/book.html\"></iframe>\n\n<a target=\"fr1\" href=\"http://example.com/book.html\">Book</a>\n\n<a target=\"fr1\" href=\"http://example.com/book.html#chap1\">Chapter 1</a>\n\nthe link to \"Book\" is considered secure, but the link to \"Chapter1\" is thought to \"leak information\"?", "id": 9258286, "raw_text": "Just to make sure I'm understanding the issue correctly....\n\nIf a webpage has this code:\n\n<iframe name=\"fr1\" src=\"http://example.com/book.html\"></iframe>\n\n<a target=\"fr1\" href=\"http://example.com/book.html\">Book</a>\n\n<a target=\"fr1\" href=\"http://example.com/book.html#chap1\">Chapter 1</a>\n\nthe link to \"Book\" is considered secure, but the link to \"Chapter1\" is thought to \"leak information\"?", "attachment_id": null, "author": "gebser@mousecar.com"}, {"attachment_id": null, "time": "2014-09-19T15:30:27Z", "is_private": false, "author": "mossroy@mossroy.fr", "tags": [], "creator": "mossroy@mossroy.fr", "count": 53, "bug_id": 638598, "id": 9334360, "raw_text": "I understand that https://bugzilla.mozilla.org/show_bug.cgi?id=583889 has been done to fix a potential cross-site security issue.\n\nIf I understood correctly, that's the reason why anchors have been disabled when they are in an iframe.\n\nBut wouldn't it be possible to allow them when the iframe is in the same site?\nWe have this case and would like to have at least a workaround...", "creation_time": "2014-09-19T15:30:27Z", "text": "I understand that https://bugzilla.mozilla.org/show_bug.cgi?id=583889 has been done to fix a potential cross-site security issue.\n\nIf I understood correctly, that's the reason why anchors have been disabled when they are in an iframe.\n\nBut wouldn't it be possible to allow them when the iframe is in the same site?\nWe have this case and would like to have at least a workaround..."}, {"author": "mossroy@mossroy.fr", "bug_id": 638598, "tags": [], "count": 54, "creator": "mossroy@mossroy.fr", "raw_text": "If it can help anyone else, the workaround described in http://matthewmanela.com/blog/making-linking-between-anchors-in-an-iframe-work-in-firefox-11-and-above/ worked for me", "id": 9400034, "text": "If it can help anyone else, the workaround described in http://matthewmanela.com/blog/making-linking-between-anchors-in-an-iframe-work-in-firefox-11-and-above/ worked for me", "creation_time": "2014-10-03T15:52:36Z", "attachment_id": null, "time": "2014-10-03T15:52:36Z", "is_private": false}, {"bug_id": 638598, "tags": [], "time": "2014-10-23T15:28:53Z", "count": 55, "creator": "pkreuser@rz-online.de", "text": "Another Sample\n\nhttps://portal.airplus.com/faq.do?anchor=Security\n\nThis JSP page is rendering an iframe with the parameter anchor as anchor to the iframe.\n\n  <iframe class=\"embedded \" name=\"embedded\" id=\"embedded\" src=\"https://portal.airplus.com/html/Help_DE_en.html#Security\" align=\"left\" scrolling=\"auto\" frameborder=\"0\">\n  <p>Unfortunately your browser cannot display embedded frames.</p>\n  </iframe>\n\n\nNeither the original link is selected, nor any other anchor that is clicked from within the iframe.", "creation_time": "2014-10-23T15:28:53Z", "is_private": false, "raw_text": "Another Sample\n\nhttps://portal.airplus.com/faq.do?anchor=Security\n\nThis JSP page is rendering an iframe with the parameter anchor as anchor to the iframe.\n\n  <iframe class=\"embedded \" name=\"embedded\" id=\"embedded\" src=\"https://portal.airplus.com/html/Help_DE_en.html#Security\" align=\"left\" scrolling=\"auto\" frameborder=\"0\">\n  <p>Unfortunately your browser cannot display embedded frames.</p>\n  </iframe>\n\n\nNeither the original link is selected, nor any other anchor that is clicked from within the iframe.", "id": 9491518, "author": "pkreuser@rz-online.de", "attachment_id": null}]}}, "comments": {}}