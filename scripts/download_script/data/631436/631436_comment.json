{"comments": {}, "bugs": {"631436": {"comments": [{"bug_id": 631436, "count": 0, "time": "2011-02-04T03:44:55Z", "creator": "jwatt@jwatt.org", "author": "jwatt@jwatt.org", "raw_text": "nsSVGLength2 does not allow SMIL animation with a different unit type to the base value.\n\nnsSVGLength2 has the following members:\n\n  float mAnimVal;\n  float mBaseVal;\n  PRUint8 mSpecifiedUnitType;\n  PRUint8 mAttrEnum; // element specified tracking for attribute\n  PRUint8 mCtxType; // X, Y or Unspecified\n  PRPackedBool mIsAnimated;\n\nThe clever thing about this class is that it combines two classes of 8 bytes (what would be separate base and anim length instances) into one class of 12 bytes by sharing mAttrEnum and mCtxType...or so it seems. Actually, an animated length may have a different unit to its base value (we support that for <length-list>s), so in fact the combined class is missing an animated counterpart for mSpecifiedUnitType. Adding that member would cause the size of the class to jump to 16 bytes after all. Oh well.\n\nWe should probably be storing mAttrEnum on the DOM wrapper anyway - again in a way similar to what we do for items in <length-list>.", "is_private": false, "tags": [], "creation_time": "2011-02-04T03:44:55Z", "attachment_id": null, "id": 5253700, "text": "nsSVGLength2 does not allow SMIL animation with a different unit type to the base value.\n\nnsSVGLength2 has the following members:\n\n  float mAnimVal;\n  float mBaseVal;\n  PRUint8 mSpecifiedUnitType;\n  PRUint8 mAttrEnum; // element specified tracking for attribute\n  PRUint8 mCtxType; // X, Y or Unspecified\n  PRPackedBool mIsAnimated;\n\nThe clever thing about this class is that it combines two classes of 8 bytes (what would be separate base and anim length instances) into one class of 12 bytes by sharing mAttrEnum and mCtxType...or so it seems. Actually, an animated length may have a different unit to its base value (we support that for <length-list>s), so in fact the combined class is missing an animated counterpart for mSpecifiedUnitType. Adding that member would cause the size of the class to jump to 16 bytes after all. Oh well.\n\nWe should probably be storing mAttrEnum on the DOM wrapper anyway - again in a way similar to what we do for items in <length-list>."}]}}}