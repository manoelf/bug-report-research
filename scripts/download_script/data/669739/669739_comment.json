{"comments": {}, "bugs": {"669739": {"comments": [{"author": "justin.lebar+bug@gmail.com", "creator": "justin.lebar+bug@gmail.com", "bug_id": 669739, "id": 5577307, "count": 0, "is_private": false, "tags": [], "time": "2011-07-06T20:49:43Z", "attachment_id": null, "text": "This is in the spirit of \"browse around for a while, then close all tabs.  Firefox holds onto lots of memory.\"  We discussed this kind of bug at yesterday's MemShrink meeting.\n\nI thought I'd start small.  On my Linux x86-64 machine, I measured memory used immediately after startup, after loading bmo (not logged in), and after closing the tab and clicking minimize memory usage.  I'll attach the full results, but in summary:\n\n* Initial\n\n  RSS: 66m\n  Explicit: 39m\n\n* After loading http://bugzilla.mozilla.org\n\n  RSS: 83m\n  Explicit: 50m\n\n* After closing tab, clicking minimize memory usage:\n\n  RSS: 85m\n  Explicit: 56m\n\nkhuey's suggested technique is to use trace-malloc and diffbloatdump to see where this memory is coming from and going to.", "raw_text": "This is in the spirit of \"browse around for a while, then close all tabs.  Firefox holds onto lots of memory.\"  We discussed this kind of bug at yesterday's MemShrink meeting.\n\nI thought I'd start small.  On my Linux x86-64 machine, I measured memory used immediately after startup, after loading bmo (not logged in), and after closing the tab and clicking minimize memory usage.  I'll attach the full results, but in summary:\n\n* Initial\n\n  RSS: 66m\n  Explicit: 39m\n\n* After loading http://bugzilla.mozilla.org\n\n  RSS: 83m\n  Explicit: 50m\n\n* After closing tab, clicking minimize memory usage:\n\n  RSS: 85m\n  Explicit: 56m\n\nkhuey's suggested technique is to use trace-malloc and diffbloatdump to see where this memory is coming from and going to.", "creation_time": "2011-07-06T20:49:43Z"}, {"is_private": false, "count": 1, "tags": [], "id": 5577334, "bug_id": 669739, "raw_text": "Was this with bugzilla-tweaks installed? Even after the resolution of bug 639626, it still causes leaks from what I've found. (Meant to file something earlier this week).", "creation_time": "2011-07-06T20:58:37Z", "text": "Was this with bugzilla-tweaks installed? Even after the resolution of bug 639626, it still causes leaks from what I've found. (Meant to file something earlier this week).", "attachment_id": null, "time": "2011-07-06T20:58:37Z", "creator": "emorley@mozilla.com", "author": "emorley@mozilla.com"}, {"creator": "justin.lebar+bug@gmail.com", "author": "justin.lebar+bug@gmail.com", "raw_text": "These measurements were taken from safe mode.", "creation_time": "2011-07-06T21:13:24Z", "text": "Created attachment 544340\nabout:memory?verbose before, during, after\n\nThese measurements were taken from safe mode.", "time": "2011-07-06T21:13:24Z", "attachment_id": 544340, "is_private": false, "count": 2, "tags": [], "id": 5577386, "bug_id": 669739}, {"bug_id": 669739, "is_private": false, "count": 3, "tags": [], "id": 5588065, "text": "Generating about:memory causes |explicit| to jump by up to 1.5MB on my Linux64 machine.  \n\nSo the 50MB to 56MB jump in comment 0 is suspicious.  But we don't have detailed data for that.\n\nIn contrast, the jump in the attachment (for which we do have detailed data) is from 56.8MB to 57.1MB, which isn't suspicious at all.", "attachment_id": null, "time": "2011-07-13T00:35:30Z", "raw_text": "Generating about:memory causes |explicit| to jump by up to 1.5MB on my Linux64 machine.  \n\nSo the 50MB to 56MB jump in comment 0 is suspicious.  But we don't have detailed data for that.\n\nIn contrast, the jump in the attachment (for which we do have detailed data) is from 56.8MB to 57.1MB, which isn't suspicious at all.", "creation_time": "2011-07-13T00:35:30Z", "creator": "n.nethercote@gmail.com", "author": "n.nethercote@gmail.com"}, {"attachment_id": null, "time": "2011-07-13T04:15:30Z", "author": "justin.lebar+bug@gmail.com", "text": "What if I retitled this bug \"closing bugzilla main page doesn't decrease memory used\"?  Clearly opening it causes an increase in memory; we don't understand why it doesn't all go away when you close the tab.", "creator": "justin.lebar+bug@gmail.com", "creation_time": "2011-07-13T04:15:30Z", "raw_text": "What if I retitled this bug \"closing bugzilla main page doesn't decrease memory used\"?  Clearly opening it causes an increase in memory; we don't understand why it doesn't all go away when you close the tab.", "bug_id": 669739, "id": 5588282, "is_private": false, "count": 4, "tags": []}]}}}