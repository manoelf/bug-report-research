{"bugs": {"627256": {"comments": [{"author": "jruderman@gmail.com", "count": 0, "raw_text": "If I select \"Never share location\" on http://merged.ca/iphone/html5-geolocation, I get an alert and a doorhanger showing at the same time, and it's all janky.", "creator": "jruderman@gmail.com", "attachment_id": null, "tags": [], "text": "If I select \"Never share location\" on http://merged.ca/iphone/html5-geolocation, I get an alert and a doorhanger showing at the same time, and it's all janky.", "id": 5212312, "bug_id": 627256, "creation_time": "2011-01-20T00:39:16Z", "time": "2011-01-20T00:39:16Z", "is_private": false}, {"count": 1, "author": "jdinbox@gmail.com", "attachment_id": null, "creator": "jdinbox@gmail.com", "raw_text": "Hmm. So it's janky because when you click \"Never for this site\", we're synchronously run the button's handler, which runs nsGeolocationRequest::Cancel(), which synchronously runs page JS, which calls alert().\n\nI don't think this is fixable in the prompting code. Rather, we should either change doorhangers to run their callbacks async (robust, but annoying for tests), or change nsGeolocationRequest::Cancel() (and audit other callbacks) so that they're async.", "bug_id": 627256, "id": 5218870, "text": "Hmm. So it's janky because when you click \"Never for this site\", we're synchronously run the button's handler, which runs nsGeolocationRequest::Cancel(), which synchronously runs page JS, which calls alert().\n\nI don't think this is fixable in the prompting code. Rather, we should either change doorhangers to run their callbacks async (robust, but annoying for tests), or change nsGeolocationRequest::Cancel() (and audit other callbacks) so that they're async.", "tags": [], "is_private": false, "time": "2011-01-22T01:58:55Z", "creation_time": "2011-01-22T01:58:55Z"}, {"id": 8819800, "bug_id": 627256, "tags": [], "text": "Bulk move to Toolkit::Notifications and Alerts\n\nFilter on notifications-and-alerts-component.", "is_private": false, "time": "2014-05-21T05:59:24Z", "creation_time": "2014-05-21T05:59:24Z", "count": 2, "author": "mozilla+bmo@noorenberghe.ca", "creator": "mozilla+bmo@noorenberghe.ca", "raw_text": "Bulk move to Toolkit::Notifications and Alerts\n\nFilter on notifications-and-alerts-component.", "attachment_id": null}]}}, "comments": {}}