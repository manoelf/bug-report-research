{"comments": {}, "bugs": {"640952": {"comments": [{"author": "liornoy@netvision.net.il", "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.3 Safari/534.24\nBuild Identifier: 4.0RC1\n\nI'm trying to register an nsIObserverService observer to observe profile-before-change events, in order to cleanup my add-on's local data after it was uninstalled and the browser was about to be closed.\nMy observer never gets called.\n\nSimilar tries with other events (quit-application/-requested/-granted) have only succeeded with the quit-application-requested event.\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Register an observer for profile-before-change events:\nComponents.classes[\"@mozilla.org/observer-service;1\"].getService(Components.interfaces[\"nsIObserverService\"]).addObserver(ac_observer, \"profile-before-change\", false);\n2. In the observer, do something (pop an alert box/update a localdata preference/...)\n3. \nActual Results:  \nThe observer never seems to be called.\n\nExpected Results:  \nThe observer should be called.", "count": 0, "attachment_id": null, "creator": "liornoy@netvision.net.il", "id": 5338994, "time": "2011-03-11T15:05:35Z", "is_private": false, "tags": [], "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.3 Safari/534.24\nBuild Identifier: 4.0RC1\n\nI'm trying to register an nsIObserverService observer to observe profile-before-change events, in order to cleanup my add-on's local data after it was uninstalled and the browser was about to be closed.\nMy observer never gets called.\n\nSimilar tries with other events (quit-application/-requested/-granted) have only succeeded with the quit-application-requested event.\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Register an observer for profile-before-change events:\nComponents.classes[\"@mozilla.org/observer-service;1\"].getService(Components.interfaces[\"nsIObserverService\"]).addObserver(ac_observer, \"profile-before-change\", false);\n2. In the observer, do something (pop an alert box/update a localdata preference/...)\n3. \nActual Results:  \nThe observer never seems to be called.\n\nExpected Results:  \nThe observer should be called.", "creation_time": "2011-03-11T15:05:35Z", "bug_id": 640952}]}}}