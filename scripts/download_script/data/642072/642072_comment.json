{"comments": {}, "bugs": {"642072": {"comments": [{"count": 0, "text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0) Gecko/20100101 Firefox/4.0\n\nIf another application (e.g. a game) goes full screen, Firefox logs tons of errors to the console, like:\n\nMar 16 00:47:17 ninagal firefox-bin[55431]: kCGErrorInvalidOperation: _CGSFindSharedWindow: WID 5254\nMar 16 00:47:17 ninagal firefox-bin[55431]: kCGErrorInvalidOperation: _CGSFindSharedWindow: WID 5253\nMar 16 00:47:17 ninagal [0x0-0x162162].org.mozilla.firefox[55431]: Wed Mar 16 00:47:17 ninagal.local firefox-bin[55431] <Error>: kCGErrorInvalidOperation: _CGSFindSharedWindow: WID 5254\nMar 16 00:47:17 ninagal [0x0-0x162162].org.mozilla.firefox[55431]: Wed Mar 16 00:47:17 ninagal.local firefox-bin[55431] <Error>: kCGErrorInvalidOperation: _CGSFindSharedWindow: WID 5253\n\nThese will log over and over again (I have one system log over 68megs mostly of this).\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Launch Firefox\n2. Launch application which will claim the screen and go fullscreen\n3. Quit said application and look at /var/log/system.log\nActual Results:  \nMany log entries to system.log\n\nExpected Results:  \nVastly fewer log entries (one each? or none?).\n\nThis is on an older MacBook Pro, 10.6.6, with Firefox running 64bit.", "author": "withay@pobox.com", "creator": "withay@pobox.com", "attachment_id": null, "time": "2011-03-16T06:54:08Z", "id": 5347666, "bug_id": 642072, "creation_time": "2011-03-16T06:54:08Z", "raw_text": "User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0) Gecko/20100101 Firefox/4.0\n\nIf another application (e.g. a game) goes full screen, Firefox logs tons of errors to the console, like:\n\nMar 16 00:47:17 ninagal firefox-bin[55431]: kCGErrorInvalidOperation: _CGSFindSharedWindow: WID 5254\nMar 16 00:47:17 ninagal firefox-bin[55431]: kCGErrorInvalidOperation: _CGSFindSharedWindow: WID 5253\nMar 16 00:47:17 ninagal [0x0-0x162162].org.mozilla.firefox[55431]: Wed Mar 16 00:47:17 ninagal.local firefox-bin[55431] <Error>: kCGErrorInvalidOperation: _CGSFindSharedWindow: WID 5254\nMar 16 00:47:17 ninagal [0x0-0x162162].org.mozilla.firefox[55431]: Wed Mar 16 00:47:17 ninagal.local firefox-bin[55431] <Error>: kCGErrorInvalidOperation: _CGSFindSharedWindow: WID 5253\n\nThese will log over and over again (I have one system log over 68megs mostly of this).\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Launch Firefox\n2. Launch application which will claim the screen and go fullscreen\n3. Quit said application and look at /var/log/system.log\nActual Results:  \nMany log entries to system.log\n\nExpected Results:  \nVastly fewer log entries (one each? or none?).\n\nThis is on an older MacBook Pro, 10.6.6, with Firefox running 64bit.", "tags": [], "is_private": false}, {"time": "2011-03-16T13:26:27Z", "id": 5348011, "creation_time": "2011-03-16T13:26:27Z", "bug_id": 642072, "raw_text": "Cannot reproduce using Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0)\nGecko/20100101 Firefox/4.0 on Mac Mini, 10.6.6.\n\nDoes the issue reproduce on a certain page that is opened in FF? What other application is in full screen mode?", "tags": [], "is_private": false, "text": "Cannot reproduce using Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0)\nGecko/20100101 Firefox/4.0 on Mac Mini, 10.6.6.\n\nDoes the issue reproduce on a certain page that is opened in FF? What other application is in full screen mode?", "count": 1, "author": "moz.teodosia@gmail.com", "creator": "moz.teodosia@gmail.com", "attachment_id": null}, {"tags": [], "raw_text": "No special page needed for Firefox (just checked it with this bug page); one app, which is free, where this happens is Wesnoth (at http://www.wesnoth.org/).  Running it in fullscreen when Firefox was open with just one tab showing this bug, and the log-blast happens.", "bug_id": 642072, "creation_time": "2011-03-17T03:50:59Z", "is_private": false, "id": 5350163, "time": "2011-03-17T03:50:59Z", "creator": "withay@pobox.com", "attachment_id": null, "text": "No special page needed for Firefox (just checked it with this bug page); one app, which is free, where this happens is Wesnoth (at http://www.wesnoth.org/).  Running it in fullscreen when Firefox was open with just one tab showing this bug, and the log-blast happens.", "count": 2, "author": "withay@pobox.com"}, {"author": "djl@mksh.org", "time": "2011-04-28T17:05:19Z", "id": 5437395, "count": 3, "text": "Finally! Someone else who is experiencing this issue :)\n\nIn my case, these errors were being generated at a rate of around 150/second and causing my system.log size to balloon out of control.\n\nAfter a lot of head-scratching I discovered it was caused by ColorSnapper (http://colorsnapper.com/) running in the background. As soon as I quit this app and restarted Firefox the problem went away.\n\nIt looks like that app is running something full-screen but is hidden. My guess is the color picker overlay is constantly running and activating the application just brings makes it visible.\n\nCuriously Path Finder's full-screen desktop and trash can windows don't trigger this nor do a few other full-screen apps (such as Safari).", "is_private": false, "attachment_id": null, "raw_text": "Finally! Someone else who is experiencing this issue :)\n\nIn my case, these errors were being generated at a rate of around 150/second and causing my system.log size to balloon out of control.\n\nAfter a lot of head-scratching I discovered it was caused by ColorSnapper (http://colorsnapper.com/) running in the background. As soon as I quit this app and restarted Firefox the problem went away.\n\nIt looks like that app is running something full-screen but is hidden. My guess is the color picker overlay is constantly running and activating the application just brings makes it visible.\n\nCuriously Path Finder's full-screen desktop and trash can windows don't trigger this nor do a few other full-screen apps (such as Safari).", "creation_time": "2011-04-28T17:05:19Z", "bug_id": 642072, "creator": "djl@mksh.org", "tags": []}, {"time": "2011-04-28T17:58:24Z", "id": 5437552, "is_private": false, "bug_id": 642072, "creation_time": "2011-04-28T17:58:24Z", "raw_text": "This is Firefox, not some other program.", "tags": [], "author": "mozbugz@outlook.com", "text": "This is Firefox, not some other program.", "count": 4, "attachment_id": null, "creator": "mozbugz@outlook.com"}, {"creator": "withay@pobox.com", "attachment_id": null, "text": "(In reply to comment #3)\n> Curiously Path Finder's full-screen desktop and trash can windows don't trigger\n> this nor do a few other full-screen apps (such as Safari).\n\nI think (though this is just a theory) it's related to how a given program goes full-screen.  If they use the big window method, you don't see the messages, but if they do a display capture then the messages come out.", "count": 5, "author": "withay@pobox.com", "tags": [], "raw_text": "(In reply to comment #3)\n> Curiously Path Finder's full-screen desktop and trash can windows don't trigger\n> this nor do a few other full-screen apps (such as Safari).\n\nI think (though this is just a theory) it's related to how a given program goes full-screen.  If they use the big window method, you don't see the messages, but if they do a display capture then the messages come out.", "bug_id": 642072, "creation_time": "2011-04-28T18:14:52Z", "is_private": false, "id": 5437595, "time": "2011-04-28T18:14:52Z"}, {"raw_text": "This is a really simple program which just captures all displays for 10 seconds; during this time Firefox logs the error messages noted.  This is an Xcode project with the built app in build/Release.\n\nMake sure Firefox is running, then run this; check the system.log afterwards.", "bug_id": 642072, "creation_time": "2011-06-12T00:02:19Z", "tags": [], "is_private": false, "time": "2011-06-12T00:02:19Z", "id": 5527018, "creator": "withay@pobox.com", "attachment_id": 538727, "text": "Created attachment 538727\nSimple program which goes full screen and causes Firefox messages\n\nThis is a really simple program which just captures all displays for 10 seconds; during this time Firefox logs the error messages noted.  This is an Xcode project with the built app in build/Release.\n\nMake sure Firefox is running, then run this; check the system.log afterwards.", "count": 6, "author": "withay@pobox.com"}, {"author": "withay@pobox.com", "count": 7, "text": "One followup; make sure to at least move the mouse around when running, if you do nothing Firefox stays quiet for some reason...", "attachment_id": null, "creator": "withay@pobox.com", "time": "2011-06-12T00:05:09Z", "id": 5527020, "is_private": false, "bug_id": 642072, "creation_time": "2011-06-12T00:05:09Z", "raw_text": "One followup; make sure to at least move the mouse around when running, if you do nothing Firefox stays quiet for some reason...", "tags": []}, {"attachment_id": null, "creator": "pelle@kodfabrik.se", "author": "pelle@kodfabrik.se", "text": "ColorSnapper causing this for me as well in both the stable Firefox 5 and the latest nightly. Results in really large log files (mine was over 800 MB).", "count": 8, "is_private": false, "raw_text": "ColorSnapper causing this for me as well in both the stable Firefox 5 and the latest nightly. Results in really large log files (mine was over 800 MB).", "bug_id": 642072, "creation_time": "2011-06-25T09:15:03Z", "tags": [], "time": "2011-06-25T09:15:03Z", "id": 5555867}, {"raw_text": "some additional info:  this behavior appears to possibly be related to a specific NSWindow method:\n\n   - (void)setSharingType:(NSWindowSharingType)type\n\ni have noticed over the past few days that firefox also spams the syslog in a similar way when one of my own programs is running.  i'm working on developing an image/movie-viewer-type application, and i was setting this to NSWindowSharingNone by default for each of the application's image/movie windows (this prevents other processes from accessing my app's window data, something they shouldn't need to be doing; this is just an additional security measure) ... \n\ni was thinking about it, because it was a recent change i had made, and didn't remember my app having a bad interaction w/ ff before ... sure enough, if i comment out that line in my code, ff no longer complains when my app is running.  now if you think about world of warcraft, this also makes perfect sense; they undoubtedly have that parameter set within the game because they're concerned about other apps being used as cheats/bots/etc.  that's probably why wow makes ff freak out like this.\n\nnow, that having been said, what the hell is going on inside firefox that it thinks it needs to be looking at every window of every application running on the system?  at the very least, that's a pretty fucked-up kludge.  i won't go so far as to attribute it to malice, but ...\n\n(also cross-posting this comment to bug 665266).", "bug_id": 642072, "creation_time": "2011-06-28T14:05:50Z", "creator": "gt400.59@gmail.com", "tags": [], "attachment_id": null, "is_private": false, "count": 9, "text": "some additional info:  this behavior appears to possibly be related to a specific NSWindow method:\n\n   - (void)setSharingType:(NSWindowSharingType)type\n\ni have noticed over the past few days that firefox also spams the syslog in a similar way when one of my own programs is running.  i'm working on developing an image/movie-viewer-type application, and i was setting this to NSWindowSharingNone by default for each of the application's image/movie windows (this prevents other processes from accessing my app's window data, something they shouldn't need to be doing; this is just an additional security measure) ... \n\ni was thinking about it, because it was a recent change i had made, and didn't remember my app having a bad interaction w/ ff before ... sure enough, if i comment out that line in my code, ff no longer complains when my app is running.  now if you think about world of warcraft, this also makes perfect sense; they undoubtedly have that parameter set within the game because they're concerned about other apps being used as cheats/bots/etc.  that's probably why wow makes ff freak out like this.\n\nnow, that having been said, what the hell is going on inside firefox that it thinks it needs to be looking at every window of every application running on the system?  at the very least, that's a pretty fucked-up kludge.  i won't go so far as to attribute it to malice, but ...\n\n(also cross-posting this comment to bug 665266).", "author": "gt400.59@gmail.com", "time": "2011-06-28T14:05:50Z", "id": 5561529}, {"creator": "jeannet@vanderdeijl.com", "attachment_id": null, "text": "Experiencing a lott of beachballs over the last two weeks. Checked my system logs i noticed that i get the kCGErrorInvalidOperation message only when i move the (magic)mouse. When i only scroll there's no logging of this error. But when i move the cursor the messages start again. Same thing with the trackpad. \n\nLogging 10 to 30 messages a second. \n\nI second Pelle Wessman (see above): COLORSNAPPER is the cause here too.\nWhen i quit the app the messages stop.", "count": 10, "author": "jeannet@vanderdeijl.com", "tags": [], "raw_text": "Experiencing a lott of beachballs over the last two weeks. Checked my system logs i noticed that i get the kCGErrorInvalidOperation message only when i move the (magic)mouse. When i only scroll there's no logging of this error. But when i move the cursor the messages start again. Same thing with the trackpad. \n\nLogging 10 to 30 messages a second. \n\nI second Pelle Wessman (see above): COLORSNAPPER is the cause here too.\nWhen i quit the app the messages stop.", "bug_id": 642072, "creation_time": "2011-10-12T09:10:15Z", "is_private": false, "id": 5776962, "time": "2011-10-12T09:10:15Z"}]}}}