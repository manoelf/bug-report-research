{"bugs": {"646552": {"comments": [{"author": "wa84it@gmail.com", "attachment_id": null, "id": 5380855, "text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nA mailto: link with attribute target=\"_blank\" opens in the current frame/window.\n\nThis is a problem as the current frame/window may not allow Javascript which some web mail handlers(at least Gmail) require.\n\nAs an example: the NewsFox extension has this problem with its mailto: of links from a frame where Javascript is not allowed, and can never be allowed according to addon.mozilla.org editors.\n\nReproducible: Always", "creator": "wa84it@gmail.com", "creation_time": "2011-03-30T17:56:42Z", "is_private": false, "tags": [], "time": "2011-03-30T17:56:42Z", "count": 0, "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\nBuild Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\n\nA mailto: link with attribute target=\"_blank\" opens in the current frame/window.\n\nThis is a problem as the current frame/window may not allow Javascript which some web mail handlers(at least Gmail) require.\n\nAs an example: the NewsFox extension has this problem with its mailto: of links from a frame where Javascript is not allowed, and can never be allowed according to addon.mozilla.org editors.\n\nReproducible: Always", "bug_id": 646552}, {"id": 5380861, "attachment_id": 523055, "text": "Created attachment 523055\ntestcase", "creator": "wa84it@gmail.com", "author": "wa84it@gmail.com", "creation_time": "2011-03-30T17:59:16Z", "time": "2011-03-30T17:59:16Z", "is_private": false, "tags": [], "raw_text": "", "bug_id": 646552, "count": 1}, {"tags": [], "is_private": false, "time": "2011-08-29T13:56:26Z", "count": 2, "bug_id": 646552, "raw_text": "I don't think that target=\"_blank\" is the issue here, Firefox should regardless open a new tab on mailto: with mailto handler set to a webmail application in Options > Applications. You can bump up the version number as well, as this is still an issue in Fx7beta.", "author": "heraldo99@gmail.com", "text": "I don't think that target=\"_blank\" is the issue here, Firefox should regardless open a new tab on mailto: with mailto handler set to a webmail application in Options > Applications. You can bump up the version number as well, as this is still an issue in Fx7beta.", "creator": "heraldo99@gmail.com", "attachment_id": null, "id": 5684750, "creation_time": "2011-08-29T13:56:26Z"}, {"tags": [], "is_private": false, "raw_text": "Turns out there is another issue here as well, as the page you click the mailto link on will be gone from back-forward history in the tab. Adding an example.", "text": "Created attachment 556605\nmailto links should open in a new tab\n\nTurns out there is another issue here as well, as the page you click the mailto link on will be gone from back-forward history in the tab. Adding an example.", "id": 5685363, "attachment_id": 556605, "creation_time": "2011-08-29T17:43:29Z", "time": "2011-08-29T17:43:29Z", "count": 3, "bug_id": 646552, "author": "heraldo99@gmail.com", "creator": "heraldo99@gmail.com"}, {"time": "2011-08-29T17:53:30Z", "is_private": false, "tags": [], "raw_text": "<!DOCTYPE html>\n<html>\n<head>\n\t<meta charset=\"UTF-8\">\n\t<title></title>\n</head>\n<body>\n\n<ol>\n<li>Open this page in a new tab to make sure that there is no back-forward history for this tab\n<li>Set a webmail provider, eg. gmail, to handle mailto links in Options > Applications\n<li>Click this <a href=\"mailto:test@example.com\">mailto link</a>\n</ol>\n\n<p>Pass if gmail opens in a new tab</p>\n\n<ol>\n<li>If gmail opens in current tab, which is a fail, go back in history to this page using the Back button\n<li>click the mailto link above once again\n \n<p>Pass if this page is in the back-forward history for this tab after last step</p>", "bug_id": 646552, "count": 4, "id": 5685409, "attachment_id": 556605, "creator": "heraldo99@gmail.com", "text": "Comment on attachment 556605\nmailto links should open in a new tab\n\n<!DOCTYPE html>\n<html>\n<head>\n\t<meta charset=\"UTF-8\">\n\t<title></title>\n</head>\n<body>\n\n<ol>\n<li>Open this page in a new tab to make sure that there is no back-forward history for this tab\n<li>Set a webmail provider, eg. gmail, to handle mailto links in Options > Applications\n<li>Click this <a href=\"mailto:test@example.com\">mailto link</a>\n</ol>\n\n<p>Pass if gmail opens in a new tab</p>\n\n<ol>\n<li>If gmail opens in current tab, which is a fail, go back in history to this page using the Back button\n<li>click the mailto link above once again\n \n<p>Pass if this page is in the back-forward history for this tab after last step</p>", "author": "heraldo99@gmail.com", "creation_time": "2011-08-29T17:53:30Z"}, {"count": 5, "bug_id": 646552, "time": "2011-08-29T17:57:47Z", "author": "heraldo99@gmail.com", "creator": "heraldo99@gmail.com", "raw_text": "", "is_private": false, "tags": [], "creation_time": "2011-08-29T17:57:47Z", "id": 5685428, "attachment_id": 556612, "text": "Created attachment 556612\nmailto links should open in a new tab"}, {"tags": [], "is_private": false, "time": "2011-08-29T18:43:18Z", "count": 6, "bug_id": 646552, "raw_text": "(In reply to heraldo from comment #3)\n> Created attachment 556605\n> mailto links should open in a new tab\n> \n> Turns out there is another issue here as well, as the page you click the\n> mailto link on will be gone from back-forward history in the tab. Adding an\n> example.\n\nThis is bug#499527.", "author": "wa84it@gmail.com", "text": "(In reply to heraldo from comment #3)\n> Created attachment 556605\n> mailto links should open in a new tab\n> \n> Turns out there is another issue here as well, as the page you click the\n> mailto link on will be gone from back-forward history in the tab. Adding an\n> example.\n\nThis is bug#499527.", "creator": "wa84it@gmail.com", "attachment_id": null, "id": 5685594, "creation_time": "2011-08-29T18:43:18Z"}, {"count": 7, "bug_id": 646552, "time": "2011-08-29T18:53:02Z", "author": "heraldo99@gmail.com", "creator": "heraldo99@gmail.com", "raw_text": "Thanks R Pruitt, would you be so kind and delete comment nr. 4 for me? I messed up a bit, thought i could edit the attachment directly..", "is_private": false, "tags": [], "creation_time": "2011-08-29T18:53:02Z", "id": 5685633, "attachment_id": null, "text": "Thanks R Pruitt, would you be so kind and delete comment nr. 4 for me? I messed up a bit, thought i could edit the attachment directly.."}, {"tags": [], "is_private": false, "raw_text": "Is this issue expected to be resolved. It seems that target=\"_blank\" should be respected particularly with mailto: links.", "text": "Is this issue expected to be resolved. It seems that target=\"_blank\" should be respected particularly with mailto: links.", "attachment_id": null, "id": 7246045, "creation_time": "2013-03-26T18:53:49Z", "time": "2013-03-26T18:53:49Z", "count": 8, "bug_id": 646552, "author": "minordv8@yahoo.com", "creator": "minordv8@yahoo.com"}, {"creator": "carwellos@gmail.com", "author": "carwellos@gmail.com", "time": "2013-07-04T16:49:55Z", "bug_id": 646552, "count": 9, "id": 7604336, "attachment_id": null, "text": "This is particularly bad with respect to user experience; most sites use a mailto: in order to allow the user to contact the webmaster. This bug will be seen a lot. One of a designer's goals is to keep the user on the site as long as possible (time is money); in the case of a 404 or another error where there's already a certain level of frustration for the user, this problem compounded by the inability to use history to go back to the site elevates that frustration and can cause visitors to abandon the site.\n\nHopefully this can be fixed in the near future.", "creation_time": "2013-07-04T16:49:55Z", "is_private": false, "tags": [], "raw_text": "This is particularly bad with respect to user experience; most sites use a mailto: in order to allow the user to contact the webmaster. This bug will be seen a lot. One of a designer's goals is to keep the user on the site as long as possible (time is money); in the case of a 404 or another error where there's already a certain level of frustration for the user, this problem compounded by the inability to use history to go back to the site elevates that frustration and can cause visitors to abandon the site.\n\nHopefully this can be fixed in the near future."}, {"count": 10, "bug_id": 646552, "time": "2014-06-13T02:05:12Z", "author": "adambanks@pageup.co.nz", "creator": "adambanks@pageup.co.nz", "raw_text": "Firefox 30.0 - I can't get it to respect *ANY* \"_blank\" links - let alone \"mailto\".", "is_private": false, "tags": [], "creation_time": "2014-06-13T02:05:12Z", "id": 8925462, "attachment_id": null, "text": "Firefox 30.0 - I can't get it to respect *ANY* \"_blank\" links - let alone \"mailto\"."}, {"time": "2014-08-07T05:49:00Z", "is_private": false, "tags": [], "raw_text": "Same problem in FF 31 Mac. mailto link ignores target=\"_blank\" and previous (page with the mailto) is missing from browser history when pressing back button.", "bug_id": 646552, "count": 11, "attachment_id": null, "id": 9152070, "text": "Same problem in FF 31 Mac. mailto link ignores target=\"_blank\" and previous (page with the mailto) is missing from browser history when pressing back button.", "creator": "nicholas.jakobsen@gmail.com", "author": "nicholas.jakobsen@gmail.com", "creation_time": "2014-08-07T05:49:00Z"}, {"id": 9282169, "attachment_id": null, "text": "*** Bug 1054290 has been marked as a duplicate of this bug. ***", "creation_time": "2014-09-08T14:56:31Z", "is_private": false, "tags": [], "raw_text": "", "creator": "yfdyh000@gmail.com", "author": "yfdyh000@gmail.com", "time": "2014-09-08T14:56:31Z", "bug_id": 646552, "count": 12}, {"count": 13, "raw_text": "Voting for a fix.", "bug_id": 646552, "is_private": false, "tags": [], "time": "2015-07-15T01:27:25Z", "creation_time": "2015-07-15T01:27:25Z", "author": "ddascalescu@gmail.com", "id": 10494776, "attachment_id": null, "text": "Voting for a fix.", "creator": "ddascalescu@gmail.com"}, {"creation_time": "2015-12-07T11:59:09Z", "text": "Voting for a fix too.", "id": 10992914, "attachment_id": null, "raw_text": "Voting for a fix too.", "tags": [], "is_private": false, "author": "gael.abadin@gmail.com", "creator": "gael.abadin@gmail.com", "count": 14, "bug_id": 646552, "time": "2015-12-07T11:59:09Z"}, {"time": "2016-02-06T01:47:01Z", "count": 15, "bug_id": 646552, "author": "enjoypb@gmail.com", "creator": "enjoypb@gmail.com", "tags": [], "is_private": false, "raw_text": "Voting for a fix although I think this is a significant issue. Especially after the user sends the email they remain on a blank Gmail page? This effectively kills the opportunity to engage the user any more on our sites.", "text": "Voting for a fix although I think this is a significant issue. Especially after the user sends the email they remain on a blank Gmail page? This effectively kills the opportunity to engage the user any more on our sites.", "attachment_id": null, "id": 11143233, "creation_time": "2016-02-06T01:47:01Z"}, {"text": "This issue is nerly 5 years old. Opening the link in the same window kills the usage in web-apps.\nI'm also voting for a fix. Please!", "attachment_id": null, "id": 11274721, "creation_time": "2016-03-24T14:40:40Z", "tags": [], "is_private": false, "raw_text": "This issue is nerly 5 years old. Opening the link in the same window kills the usage in web-apps.\nI'm also voting for a fix. Please!", "creator": "simonfranz85@gmail.com", "author": "simonfranz85@gmail.com", "time": "2016-03-24T14:40:40Z", "bug_id": 646552, "count": 16}, {"tags": [], "is_private": false, "raw_text": "+1", "text": "+1", "attachment_id": null, "id": 11475381, "creation_time": "2016-06-09T13:00:27Z", "time": "2016-06-09T13:00:27Z", "count": 17, "bug_id": 646552, "author": "joern.berkefeld@gmail.com", "creator": "joern.berkefeld@gmail.com"}, {"raw_text": "Please do something to fix this bug of _blank mailto links opening in _self tab !!", "bug_id": 646552, "count": 18, "time": "2016-09-10T13:07:28Z", "is_private": false, "tags": [], "creation_time": "2016-09-10T13:07:28Z", "id": 11700551, "attachment_id": null, "creator": "victor.dhamma@gmail.com", "text": "Please do something to fix this bug of _blank mailto links opening in _self tab !!", "author": "victor.dhamma@gmail.com"}, {"creation_time": "2016-10-03T15:31:05Z", "author": "rudy@ethos7.com", "id": 11755107, "attachment_id": null, "text": "This is an especially bad bug since it kills history as well. Please fix.", "creator": "rudy@ethos7.com", "count": 19, "raw_text": "This is an especially bad bug since it kills history as well. Please fix.", "bug_id": 646552, "is_private": false, "tags": [], "time": "2016-10-03T15:31:05Z"}, {"attachment_id": null, "id": 11766447, "text": "+1\n\nI work on an interactive web app (chat, group annotations, etc).  We are trying to use mailto with target=\"_blank\" to allow people to share an email link to their session, but obviously leaving the webapp to do so is horrible user experience!  I feel like this is a serious issue, and would love a fix.", "creation_time": "2016-10-06T20:25:36Z", "is_private": false, "tags": [], "raw_text": "+1\n\nI work on an interactive web app (chat, group annotations, etc).  We are trying to use mailto with target=\"_blank\" to allow people to share an email link to their session, but obviously leaving the webapp to do so is horrible user experience!  I feel like this is a serious issue, and would love a fix.", "author": "alex.zaslavsky.1990@gmail.com", "creator": "alex.zaslavsky.1990@gmail.com", "time": "2016-10-06T20:25:36Z", "count": 20, "bug_id": 646552}, {"bug_id": 646552, "count": 21, "time": "2017-06-20T10:02:00Z", "creator": "luneya@gmail.com", "author": "luneya@gmail.com", "raw_text": "+1 requesting attention.\nHorrible that this bug has existed for 6 years+ and has not been handled. \n\nWhenever we offer a mailto: link to our visitors, we are making it horrible to click for FF users, of whom there are many in our target audience.", "tags": [], "is_private": false, "creation_time": "2017-06-20T10:02:00Z", "text": "+1 requesting attention.\nHorrible that this bug has existed for 6 years+ and has not been handled. \n\nWhenever we offer a mailto: link to our visitors, we are making it horrible to click for FF users, of whom there are many in our target audience.", "id": 12413914, "attachment_id": null}, {"is_private": false, "tags": [], "raw_text": "I can reproduce this in FF 56. It appears to be the same issue as https://bugzilla.mozilla.org/show_bug.cgi?id=539562, and although https://bugzilla.mozilla.org/show_bug.cgi?id=526736 is supposedly about Prism, I wonder if it's the same bug as well.", "attachment_id": null, "id": 12796644, "text": "I can reproduce this in FF 56. It appears to be the same issue as https://bugzilla.mozilla.org/show_bug.cgi?id=539562, and although https://bugzilla.mozilla.org/show_bug.cgi?id=526736 is supposedly about Prism, I wonder if it's the same bug as well.", "creation_time": "2017-10-27T18:31:45Z", "time": "2017-10-27T18:31:45Z", "count": 22, "bug_id": 646552, "author": "ph@patrickhubenthal.com", "creator": "ph@patrickhubenthal.com"}, {"time": "2018-01-03T04:15:38Z", "bug_id": 646552, "count": 23, "creator": "bug@lafinjack.net", "author": "bug@lafinjack.net", "is_private": false, "tags": [], "raw_text": "Please?", "id": 12940785, "attachment_id": null, "text": "Please?", "creation_time": "2018-01-03T04:15:38Z"}, {"is_private": false, "tags": [], "raw_text": "Pretty please!", "id": 12989624, "attachment_id": null, "text": "Pretty please!", "creation_time": "2018-01-23T18:58:08Z", "time": "2018-01-23T18:58:08Z", "count": 24, "bug_id": 646552, "author": "nick@nicktech.org", "creator": "nick@nicktech.org"}, {"time": "2018-01-26T17:14:32Z", "tags": [], "is_private": false, "bug_id": 646552, "raw_text": "Dudes, really...? I love Firefox btw", "count": 25, "creator": "fraunos@gmail.com", "text": "Dudes, really...? I love Firefox btw", "id": 12997809, "attachment_id": null, "author": "fraunos@gmail.com", "creation_time": "2018-01-26T17:14:32Z"}, {"bug_id": 646552, "count": 26, "time": "2018-05-07T07:47:12Z", "creator": "brunoaiss@gmail.com", "author": "brunoaiss@gmail.com", "raw_text": "Triage pls. Unless... Is there a reason why such feature appears abandoned in time?", "tags": [], "is_private": false, "creation_time": "2018-05-07T07:47:12Z", "text": "Triage pls. Unless... Is there a reason why such feature appears abandoned in time?", "attachment_id": null, "id": 13258784}, {"is_private": false, "tags": [], "time": "2018-06-25T16:55:21Z", "count": 27, "raw_text": "I would say that if this problem is still reproducible it should be fixed, maybe in the way suggested by bug 539562. At this time, however, we don't have a team working on the File Handling component, so it's unlikely to be fixed in the short term.", "bug_id": 646552, "author": "paolo.mozmail@amadzone.org", "id": 13425210, "attachment_id": null, "creator": "paolo.mozmail@amadzone.org", "text": "I would say that if this problem is still reproducible it should be fixed, maybe in the way suggested by bug 539562. At this time, however, we don't have a team working on the File Handling component, so it's unlikely to be fixed in the short term.", "creation_time": "2018-06-25T16:55:21Z"}, {"creator": "gdewilde@gmail.com", "author": "gdewilde@gmail.com", "time": "2019-04-15T12:50:03Z", "bug_id": 646552, "count": 28, "text": "until it is fixed one can use \n\nwindow.open('mailto:.... \n\nor \n\ndata:text/html,<meta http-equiv='refresh' content='10;URL=mailto:gdewilde@gmail.com' />\n\n(you can hate me later)", "attachment_id": null, "id": 14055454, "creation_time": "2019-04-15T12:50:03Z", "tags": [], "is_private": false, "raw_text": "until it is fixed one can use \n\nwindow.open('mailto:.... \n\nor \n\ndata:text/html,<meta http-equiv='refresh' content='10;URL=mailto:gdewilde@gmail.com' />\n\n(you can hate me later)"}, {"time": "2020-01-10T03:41:02Z", "tags": [], "is_private": false, "bug_id": 646552, "raw_text": "The ticket got `qe-verify?` set 5 years ago. Any chance to get this out of backlog (if `firefox-backlog+` still means anything - https://groups.google.com/forum/#!topic/firefox-dev/6mFFmxCGDzo)?", "count": 29, "creator": "albert@scheiner.cc", "text": "The ticket got `qe-verify?` set 5 years ago. Any chance to get this out of backlog (if `firefox-backlog+` still means anything - https://groups.google.com/forum/#!topic/firefox-dev/6mFFmxCGDzo)?", "attachment_id": null, "id": 14584009, "author": "albert@scheiner.cc", "creation_time": "2020-01-10T03:41:02Z"}, {"tags": [], "is_private": false, "raw_text": "Something's off with the priorities assigned to bugs\u2026\n\nThis is a 9-year old bug. Its \"Type\" is (appropriately) set to \"defect\".\n\nBut its priority is set to P3 = \"This isn't a bad idea, and maybe we'll want to implement it at some point in the future, but it's not near-term roadmap material. Some core Bugzilla developer may work on it.\"\n\nIf fixing defects is not a priority, what is?", "text": "Something's off with the priorities assigned to bugs\u2026\n\nThis is a 9-year old bug. Its \"Type\" is (appropriately) set to \"defect\".\n\nBut its priority is set to P3 = \"This isn't a bad idea, and maybe we'll want to implement it at some point in the future, but it's not near-term roadmap material. Some core Bugzilla developer may work on it.\"\n\nIf fixing defects is not a priority, what is?", "id": 14628092, "attachment_id": null, "creation_time": "2020-02-07T08:50:28Z", "time": "2020-02-07T08:50:28Z", "count": 30, "bug_id": 646552, "author": "fabien.snauwaert@gmail.com", "creator": "fabien.snauwaert@gmail.com"}, {"text": "(In reply to fabien.snauwaert from comment #30)\n> But its priority is set to P3 = \"This isn't a bad idea, and maybe we'll want to implement it at some point in the future, but it's not near-term roadmap material. Some core Bugzilla developer may work on it.\"\n> \n> If fixing defects is not a priority, what is?\n\nThat P3 you found is for developers of bugzilla, not used in this instance of bugzilla which is for mozilla products. \nThe P3 for mozilla products means the bug is in the backlog.\nThat means... It may be done... when more priority bugs are dealt with and it won't be handled in the current sprint.", "creator": "brunoaiss@gmail.com", "attachment_id": null, "id": 14629381, "author": "brunoaiss@gmail.com", "creation_time": "2020-02-07T21:20:24Z", "time": "2020-02-07T21:20:24Z", "tags": [], "is_private": false, "bug_id": 646552, "raw_text": "(In reply to fabien.snauwaert from comment #30)\n> But its priority is set to P3 = \"This isn't a bad idea, and maybe we'll want to implement it at some point in the future, but it's not near-term roadmap material. Some core Bugzilla developer may work on it.\"\n> \n> If fixing defects is not a priority, what is?\n\nThat P3 you found is for developers of bugzilla, not used in this instance of bugzilla which is for mozilla products. \nThe P3 for mozilla products means the bug is in the backlog.\nThat means... It may be done... when more priority bugs are dealt with and it won't be handled in the current sprint.", "count": 31}, {"creation_time": "2020-08-24T12:39:16Z", "text": "\n\n*** This bug has been marked as a duplicate of bug 1196151 ***", "id": 15002845, "attachment_id": null, "raw_text": "", "tags": [], "is_private": false, "author": "annevk@annevk.nl", "creator": "annevk@annevk.nl", "count": 32, "bug_id": 646552, "time": "2020-08-24T12:39:16Z"}, {"attachment_id": null, "id": 15219031, "creator": "erik.krause@gmx.de", "text": "This bug is not fixed in firefox 84.0.2 (64-Bit).", "author": "erik.krause@gmx.de", "creation_time": "2021-01-16T11:06:46Z", "time": "2021-01-16T11:06:46Z", "is_private": false, "tags": [], "raw_text": "This bug is not fixed in firefox 84.0.2 (64-Bit).", "bug_id": 646552, "count": 33}, {"author": "roy.nico@free.fr", "id": 15226157, "attachment_id": null, "creator": "roy.nico@free.fr", "text": "I'm also using FF 84.0.2 (64-bit) on Ubuntu ... and wondering why this bug is still here ! :D", "creation_time": "2021-01-21T07:44:18Z", "is_private": false, "tags": [], "time": "2021-01-21T07:44:18Z", "count": 34, "raw_text": "I'm also using FF 84.0.2 (64-bit) on Ubuntu ... and wondering why this bug is still here ! :D", "bug_id": 646552}, {"count": 35, "raw_text": "(In reply to roy.nico from comment #34)\n> I'm also using FF 84.0.2 (64-bit) on Ubuntu ... and wondering why this bug is still here ! :D\n\nTrue. It doesn't sound to hard to handle. We would really appreciate if this would get fixed, since it would change the whole handling and process of our webmailer.", "bug_id": 646552, "is_private": false, "tags": [], "time": "2021-01-21T07:48:20Z", "creation_time": "2021-01-21T07:48:20Z", "author": "vorwerk@netzkultur.de", "id": 15226159, "attachment_id": null, "text": "(In reply to roy.nico from comment #34)\n> I'm also using FF 84.0.2 (64-bit) on Ubuntu ... and wondering why this bug is still here ! :D\n\nTrue. It doesn't sound to hard to handle. We would really appreciate if this would get fixed, since it would change the whole handling and process of our webmailer.", "creator": "vorwerk@netzkultur.de"}, {"id": 15318579, "attachment_id": null, "text": "(In reply to Erik Krause from comment #33)\n> This bug is not fixed in firefox 84.0.2 (64-Bit).\n\nSame here. Still not fixed...", "creation_time": "2021-03-19T10:30:28Z", "is_private": false, "tags": [], "raw_text": "(In reply to Erik Krause from comment #33)\n> This bug is not fixed in firefox 84.0.2 (64-Bit).\n\nSame here. Still not fixed...", "creator": "krejouche@gmail.com", "author": "krejouche@gmail.com", "time": "2021-03-19T10:30:28Z", "bug_id": 646552, "count": 36}, {"time": "2021-03-19T12:17:00Z", "tags": [], "is_private": false, "bug_id": 646552, "raw_text": "@Krejouche and others, I just tested it and it works for me in current Firefox 86 as well as in Nightly. I tested it here: https://codepen.io/scheinercc/full/VwmJqQP", "count": 37, "creator": "albert@scheiner.cc", "text": "@Krejouche and others, I just tested it and it works for me in current Firefox 86 as well as in Nightly. I tested it here: https://codepen.io/scheinercc/full/VwmJqQP", "id": 15318845, "attachment_id": null, "author": "albert@scheiner.cc", "creation_time": "2021-03-19T12:17:00Z"}, {"tags": [], "is_private": false, "time": "2021-03-19T12:48:58Z", "count": 38, "bug_id": 646552, "raw_text": "Hello.\nThanks for looking into this. I can confirm that it works for me too on your codepen.\nBut weirdly enough, it will not work on my website, and I don't understand were the difference is... http://degaudemar.fr/contact.html\nJust in case, would you have any clue ?", "author": "krejouche@gmail.com", "text": "Hello.\nThanks for looking into this. I can confirm that it works for me too on your codepen.\nBut weirdly enough, it will not work on my website, and I don't understand were the difference is... http://degaudemar.fr/contact.html\nJust in case, would you have any clue ?", "creator": "krejouche@gmail.com", "attachment_id": null, "id": 15318892, "creation_time": "2021-03-19T12:48:58Z"}, {"raw_text": "Anne, Gijs, there is something weird going on. Do you mind having a look if the ticket needs to be reopened?\n\nFor some reason the `target=\"_blank\"` seems to work on this pen: https://codepen.io/scheinercc/full/VwmJqQP (I don't think the `click` or the `mousedown` on the iframe's html element have anything to do with it, but might be wrong) ...\n\n... but it does not work on Krejouche's page: http://degaudemar.fr/contact.html\n\n... nor on my example page, where I took the code from the pen and uploaded it somewhere else: https://scheiner.cc/email-test.html\n\nIt does also not work for me with the test case attached to the ticket.", "tags": [], "is_private": false, "creation_time": "2021-03-19T22:30:56Z", "text": "Anne, Gijs, there is something weird going on. Do you mind having a look if the ticket needs to be reopened?\n\nFor some reason the `target=\"_blank\"` seems to work on this pen: https://codepen.io/scheinercc/full/VwmJqQP (I don't think the `click` or the `mousedown` on the iframe's html element have anything to do with it, but might be wrong) ...\n\n... but it does not work on Krejouche's page: http://degaudemar.fr/contact.html\n\n... nor on my example page, where I took the code from the pen and uploaded it somewhere else: https://scheiner.cc/email-test.html\n\nIt does also not work for me with the test case attached to the ticket.", "attachment_id": null, "id": 15320155, "bug_id": 646552, "count": 39, "time": "2021-03-19T22:30:56Z", "creator": "albert@scheiner.cc", "author": "albert@scheiner.cc"}, {"raw_text": "(In reply to Albert Scheiner [:alberts] from comment #39)\n> For some reason the `target=\"_blank\"` seems to work on this pen: https://codepen.io/scheinercc/full/VwmJqQP (I don't think the `click` or the `mousedown` on the iframe's html element have anything to do with it, but might be wrong) ...\n\nIt works because it's in a frame and because we refuse to open the link in the same (sub)frame. The other pages where it doesn't work aren't in frames so we don't correct the target from within the web protocol handling code.\n\nThe web protocol handling code assumes that the target browsing context it gets given is correct. It seems like here, the docshell code should be giving it a different browsing context for the _blank link, but presumably we don't want to do that for all external protocols because if they're not going to be handled in Firefox, what's the point - we would just open a blank tab for no reason at all.\n\nI don't know what the best solution here is. Hopefully :nika has some idea. Maybe we should pass some kind of bool for \"open this in a blank context\" to the file handling code? That feels yucky, but OTOH it is clear that docshell cannot pass a browsing context that doesn't exist...", "tags": [], "is_private": false, "creation_time": "2021-03-19T22:37:39Z", "text": "(In reply to Albert Scheiner [:alberts] from comment #39)\n> For some reason the `target=\"_blank\"` seems to work on this pen: https://codepen.io/scheinercc/full/VwmJqQP (I don't think the `click` or the `mousedown` on the iframe's html element have anything to do with it, but might be wrong) ...\n\nIt works because it's in a frame and because we refuse to open the link in the same (sub)frame. The other pages where it doesn't work aren't in frames so we don't correct the target from within the web protocol handling code.\n\nThe web protocol handling code assumes that the target browsing context it gets given is correct. It seems like here, the docshell code should be giving it a different browsing context for the _blank link, but presumably we don't want to do that for all external protocols because if they're not going to be handled in Firefox, what's the point - we would just open a blank tab for no reason at all.\n\nI don't know what the best solution here is. Hopefully :nika has some idea. Maybe we should pass some kind of bool for \"open this in a blank context\" to the file handling code? That feels yucky, but OTOH it is clear that docshell cannot pass a browsing context that doesn't exist...", "attachment_id": null, "id": 15320162, "bug_id": 646552, "count": 40, "time": "2021-03-19T22:37:39Z", "creator": "gijskruitbosch+bugs@gmail.com", "author": "gijskruitbosch+bugs@gmail.com"}, {"is_private": false, "tags": [], "time": "2021-03-19T22:38:47Z", "count": 41, "raw_text": "Actually, maybe my clearing Anne's needinfo was premature - are there spec conversations about *always* assuming _blank for web-handled (known, rather than web+) protocol links? That would also fix this...", "bug_id": 646552, "author": "gijskruitbosch+bugs@gmail.com", "id": 15320163, "attachment_id": null, "creator": "gijskruitbosch+bugs@gmail.com", "text": "Actually, maybe my clearing Anne's needinfo was premature - are there spec conversations about *always* assuming _blank for web-handled (known, rather than web+) protocol links? That would also fix this...", "creation_time": "2021-03-19T22:38:47Z"}, {"creator": "rudy@ethos7.com", "text": "I can confirm that all my websites which have been waiting years for this fix still do not open in a new tab or window when Firefox is set to use gmail as it's default email.", "id": 15320167, "attachment_id": null, "author": "rudy@ethos7.com", "creation_time": "2021-03-19T22:47:20Z", "time": "2021-03-19T22:47:20Z", "tags": [], "is_private": false, "bug_id": 646552, "raw_text": "I can confirm that all my websites which have been waiting years for this fix still do not open in a new tab or window when Firefox is set to use gmail as it's default email.", "count": 42}, {"count": 43, "raw_text": "See bug 1626068 comment 1 and also https://github.com/whatwg/html/issues/5289. I suppose there are quite a few categories of schemes:\n\n1. Fetch scheme, does the normal navigation thing\n2. `registerProtocolHandler()` registered it\n3. OS registered it\n4. Other\n\nFor anything but 1 I think we should a) not navigate the current document away b) not let the current document get a handle to what was openened (at best it would get something that's closed). That is, `mailto:` which translates to `https:` should behave equivalently to a `mailto:` that does not. The latter results in another OS application to be opened and the former would result in a new tab or window within the browser, but the document that contained the `mailto:` URL isn't able to observe the difference.\n\nThe standards discussion is in https://github.com/whatwg/html/issues/5289.", "bug_id": 646552, "is_private": false, "tags": [], "time": "2021-03-22T11:26:17Z", "creation_time": "2021-03-22T11:26:17Z", "author": "annevk@annevk.nl", "attachment_id": null, "id": 15323064, "text": "See bug 1626068 comment 1 and also https://github.com/whatwg/html/issues/5289. I suppose there are quite a few categories of schemes:\n\n1. Fetch scheme, does the normal navigation thing\n2. `registerProtocolHandler()` registered it\n3. OS registered it\n4. Other\n\nFor anything but 1 I think we should a) not navigate the current document away b) not let the current document get a handle to what was openened (at best it would get something that's closed). That is, `mailto:` which translates to `https:` should behave equivalently to a `mailto:` that does not. The latter results in another OS application to be opened and the former would result in a new tab or window within the browser, but the document that contained the `mailto:` URL isn't able to observe the difference.\n\nThe standards discussion is in https://github.com/whatwg/html/issues/5289.", "creator": "annevk@annevk.nl"}, {"count": 44, "raw_text": "(In reply to Anne (:annevk) from comment #43)\n> The standards discussion is in https://github.com/whatwg/html/issues/5289.\n\nI left a comment there, but always sending `web+` or `ext+` schemes to `_blank` effectively re-breaks the usecase specified at https://bugzilla.mozilla.org/show_bug.cgi?id=1196151#c0 . I assume we don't want to do that, but perhaps I'm missing some rationale. Let's continue the discussion on the standards ticket, I guess...", "bug_id": 646552, "is_private": false, "tags": [], "time": "2021-03-22T11:39:51Z", "creation_time": "2021-03-22T11:39:51Z", "author": "gijskruitbosch+bugs@gmail.com", "id": 15323077, "attachment_id": null, "creator": "gijskruitbosch+bugs@gmail.com", "text": "(In reply to Anne (:annevk) from comment #43)\n> The standards discussion is in https://github.com/whatwg/html/issues/5289.\n\nI left a comment there, but always sending `web+` or `ext+` schemes to `_blank` effectively re-breaks the usecase specified at https://bugzilla.mozilla.org/show_bug.cgi?id=1196151#c0 . I assume we don't want to do that, but perhaps I'm missing some rationale. Let's continue the discussion on the standards ticket, I guess..."}, {"creator": "cpeterson@mozilla.com", "text": "P3", "id": 15323901, "attachment_id": null, "author": "cpeterson@mozilla.com", "creation_time": "2021-03-22T19:15:17Z", "time": "2021-03-22T19:15:17Z", "tags": [], "is_private": false, "bug_id": 646552, "raw_text": "P3", "count": 45}, {"author": "nika@thelayzells.com", "text": "(In reply to :Gijs (he/him) from comment #40)\n> I don't know what the best solution here is. Hopefully :nika has some idea. Maybe we should pass some kind of bool for \"open this in a blank context\" to the file handling code? That feels yucky, but OTOH it is clear that docshell cannot pass a browsing context that doesn't exist...\n\nOne option would be to, instead of passing a `BrowsingContext` through `nsExternalHelperAppService`, `nsIContentDispatchChooser` and friends we could pass a new interface (`nsINavigationTargetInfo`? I'm not great at names) which records both `BrowsingContext openerBrowsingContext` and `AString target`, which could then be passed back into `loadURI` to ensure that the target is configured correctly when navigating. Just passing a boolean down with \"is the navigation target a different window\" would probably be fine as well.", "creator": "nika@thelayzells.com", "id": 15324005, "attachment_id": null, "creation_time": "2021-03-22T20:00:03Z", "tags": [], "is_private": false, "time": "2021-03-22T20:00:03Z", "count": 46, "bug_id": 646552, "raw_text": "(In reply to :Gijs (he/him) from comment #40)\n> I don't know what the best solution here is. Hopefully :nika has some idea. Maybe we should pass some kind of bool for \"open this in a blank context\" to the file handling code? That feels yucky, but OTOH it is clear that docshell cannot pass a browsing context that doesn't exist...\n\nOne option would be to, instead of passing a `BrowsingContext` through `nsExternalHelperAppService`, `nsIContentDispatchChooser` and friends we could pass a new interface (`nsINavigationTargetInfo`? I'm not great at names) which records both `BrowsingContext openerBrowsingContext` and `AString target`, which could then be passed back into `loadURI` to ensure that the target is configured correctly when navigating. Just passing a boolean down with \"is the navigation target a different window\" would probably be fine as well."}]}}, "comments": {}}