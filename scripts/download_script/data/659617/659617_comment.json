{"comments": {}, "bugs": {"659617": {"comments": [{"attachment_id": null, "time": "2011-05-25T12:43:09Z", "is_private": false, "author": "interflap@gmail.com", "creator": "interflap@gmail.com", "tags": [], "count": 0, "bug_id": 659617, "id": 5492027, "raw_text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 6.1; it; rv:1.9.2.17) Gecko/20110414 Thunderbird/3.1.10\n\nSpeaking of Usenet, let's say that one puts a troll's niockname into the TB blacklist.\nHow to delete all the replies written to the troll, without putting in the blacklist EVERY user of the newsgroup? Something like: \"if the text of the message contains: $troll_name ($troll_name wrote at $date:)\"-->\"delete the message\".\nUnfortunately, many users like to reply to the trolls, but they also write useful messages, so they don't deserve to be put in the blacklist.\nManually killing the threads is not the best solution...\nUsing a custom field called \"Body\" in the filter doesn't work.\nAnother request has been made by another user years ago: http://forums.mozillazine.org/viewtopic.php?f=28&t=110271\n\nThanks\n\nReproducible: Always\n\nSteps to Reproduce:\nNews Account->Filters->Body (MISSING FIELD AS OF TODAY)->If body contains $troll_nickname->delete/ignore the message/thread.\n\nActual Results:  \nNothing\n\nExpected Results:  \nDon't show the messages where users reply to the blacklisted trolls.", "creation_time": "2011-05-25T12:43:09Z", "text": "User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 6.1; it; rv:1.9.2.17) Gecko/20110414 Thunderbird/3.1.10\n\nSpeaking of Usenet, let's say that one puts a troll's niockname into the TB blacklist.\nHow to delete all the replies written to the troll, without putting in the blacklist EVERY user of the newsgroup? Something like: \"if the text of the message contains: $troll_name ($troll_name wrote at $date:)\"-->\"delete the message\".\nUnfortunately, many users like to reply to the trolls, but they also write useful messages, so they don't deserve to be put in the blacklist.\nManually killing the threads is not the best solution...\nUsing a custom field called \"Body\" in the filter doesn't work.\nAnother request has been made by another user years ago: http://forums.mozillazine.org/viewtopic.php?f=28&t=110271\n\nThanks\n\nReproducible: Always\n\nSteps to Reproduce:\nNews Account->Filters->Body (MISSING FIELD AS OF TODAY)->If body contains $troll_nickname->delete/ignore the message/thread.\n\nActual Results:  \nNothing\n\nExpected Results:  \nDon't show the messages where users reply to the blacklisted trolls."}, {"author": "interflap@gmail.com", "attachment_id": null, "bug_id": 659617, "count": 1, "time": "2011-06-04T14:27:01Z", "tags": [], "creator": "interflap@gmail.com", "text": "Is somebody actually reading this?", "creation_time": "2011-06-04T14:27:01Z", "is_private": false, "raw_text": "Is somebody actually reading this?", "id": 5513348}, {"bug_id": 659617, "tags": [], "creator": "jporterbugs@gmail.com", "count": 2, "text": "Assuming you have the first message, you can set the filter action to be \"ignore thread\" or \"ignore subthread\".", "creation_time": "2011-06-04T19:35:44Z", "raw_text": "Assuming you have the first message, you can set the filter action to be \"ignore thread\" or \"ignore subthread\".", "id": 5513533, "author": "jporterbugs@gmail.com", "time": "2011-06-04T19:35:44Z", "is_private": false, "attachment_id": null}, {"creation_time": "2011-06-04T22:38:51Z", "is_private": false, "text": "Hi, I tried both options, but unfortunately the filter only deletes the first message (the original message sent by the blacklisted user). I can still see the thread generated by that message (it begins with $blacklisted_username wrote on $date).\nHowever, if I manually kill the subthreads with shift+k and the threads with k, it works.\nAny hints?\nThanks.", "id": 5513621, "raw_text": "Hi, I tried both options, but unfortunately the filter only deletes the first message (the original message sent by the blacklisted user). I can still see the thread generated by that message (it begins with $blacklisted_username wrote on $date).\nHowever, if I manually kill the subthreads with shift+k and the threads with k, it works.\nAny hints?\nThanks.", "time": "2011-06-04T22:38:51Z", "creator": "interflap@gmail.com", "tags": [], "count": 3, "bug_id": 659617, "attachment_id": null, "author": "interflap@gmail.com"}, {"author": "Pidgeot18@gmail.com", "creation_time": "2011-06-04T22:46:45Z", "text": "Due to the necessary semantics of ignoring subthreads, it is impossible to both ignore the subthread and delete the message at the same time: ignoring subthreads is essentially implemented as \"ignore this message.\" The problem with ignoring threads and deleting messages simultaneously is an artefact of the filter system, since we don't know what the thread of a message is until we add it to the database, and deleting messages do not cause them to be added to the message. As a result, the message doesn't carry over the information that it needs to have its thread ignored if it is simultaneously deleted.", "id": 5513629, "raw_text": "Due to the necessary semantics of ignoring subthreads, it is impossible to both ignore the subthread and delete the message at the same time: ignoring subthreads is essentially implemented as \"ignore this message.\" The problem with ignoring threads and deleting messages simultaneously is an artefact of the filter system, since we don't know what the thread of a message is until we add it to the database, and deleting messages do not cause them to be added to the message. As a result, the message doesn't carry over the information that it needs to have its thread ignored if it is simultaneously deleted.", "count": 4, "tags": [], "creator": "Pidgeot18@gmail.com", "bug_id": 659617, "attachment_id": null, "is_private": false, "time": "2011-06-04T22:46:45Z"}, {"attachment_id": null, "is_private": false, "time": "2011-06-04T23:00:50Z", "author": "interflap@gmail.com", "id": 5513639, "raw_text": "That makes sense. However the fact that I can first delete the first message using the filter, and then I can manually kill every eventual thread/subthread generated by it, suggests me that the filter could just HIDE the first message instead of deleting it, so that it could succesfully delete any reply to that message.\nAn alternative could be searching for the name of the blacklisted user in every message body ($blacklisted_user wrote at $date). It would be unefficient and a cpu intensive work, but it could do the trick.", "creation_time": "2011-06-04T23:00:50Z", "text": "That makes sense. However the fact that I can first delete the first message using the filter, and then I can manually kill every eventual thread/subthread generated by it, suggests me that the filter could just HIDE the first message instead of deleting it, so that it could succesfully delete any reply to that message.\nAn alternative could be searching for the name of the blacklisted user in every message body ($blacklisted_user wrote at $date). It would be unefficient and a cpu intensive work, but it could do the trick.", "count": 5, "tags": [], "creator": "interflap@gmail.com", "bug_id": 659617}, {"author": "Pidgeot18@gmail.com", "bug_id": 659617, "tags": [], "count": 6, "creator": "Pidgeot18@gmail.com", "text": "Why not just remove the rule to delete the message? Ignoring the subthread will hide that message in the view anyways....", "creation_time": "2011-06-04T23:01:41Z", "raw_text": "Why not just remove the rule to delete the message? Ignoring the subthread will hide that message in the view anyways....", "id": 5513640, "attachment_id": null, "time": "2011-06-04T23:01:41Z", "is_private": false}, {"bug_id": 659617, "time": "2011-06-04T23:05:29Z", "creator": "interflap@gmail.com", "tags": [], "count": 7, "text": "I already tried it and it didn't work (it just deleted the original message), so I thought that both conditions were necessary.\nhttp://i.imgur.com/CtftD.png (If sender contains \"$nick\" -> Ignore the subthread)", "creation_time": "2011-06-04T23:05:29Z", "is_private": false, "raw_text": "I already tried it and it didn't work (it just deleted the original message), so I thought that both conditions were necessary.\nhttp://i.imgur.com/CtftD.png (If sender contains \"$nick\" -> Ignore the subthread)", "id": 5513643, "author": "interflap@gmail.com", "attachment_id": null}]}}}