{"comments": {}, "bugs": {"681147": {"comments": [{"text": "Created attachment 554995\nSample report\n\nDiscussed in the CrashKill meeting. chofmann ran a report recently which showed a high number of crash signatures that have JS urls and thought we should probe further. I have attached the txt file for review by dmandelin.", "count": 0, "author": "mozillamarcia.knous@gmail.com", "creator": "mozillamarcia.knous@gmail.com", "is_private": false, "creation_time": "2011-08-23T00:20:01Z", "bug_id": 681147, "id": 5670810, "raw_text": "Discussed in the CrashKill meeting. chofmann ran a report recently which showed a high number of crash signatures that have JS urls and thought we should probe further. I have attached the txt file for review by dmandelin.", "attachment_id": 554995, "time": "2011-08-23T00:20:01Z", "tags": []}, {"is_private": false, "creation_time": "2011-08-23T01:23:33Z", "creator": "dmandelin@mozilla.com", "tags": [], "attachment_id": null, "id": 5670958, "bug_id": 681147, "text": "(In reply to Marcia Knous [:marcia] from comment #0)\n> Created attachment 554995\n> Sample report\n> \n> Discussed in the CrashKill meeting. chofmann ran a report recently which\n> showed a high number of crash signatures that have JS urls and thought we\n> should probe further. I have attached the txt file for review by dmandelin.\n\nI don't know how to read this report format.", "count": 1, "author": "dmandelin@mozilla.com", "raw_text": "(In reply to Marcia Knous [:marcia] from comment #0)\n> Created attachment 554995\n> Sample report\n> \n> Discussed in the CrashKill meeting. chofmann ran a report recently which\n> showed a high number of crash signatures that have JS urls and thought we\n> should probe further. I have attached the txt file for review by dmandelin.\n\nI don't know how to read this report format.", "time": "2011-08-23T01:23:33Z"}, {"tags": [], "raw_text": "lines like \"5.0.1 rank# 3\"  \n\n       show the ranking of the signature and any associated bug number with that signature.\n\nthe list of lines underneath each signature like:\n\n      6 \"javascript:\"\"\"\"\"//\n      5 javascript:window.parent.rmAdIframeSrc//\n      6 \"javascript:\"\"\"\"\"\n      5 javascript:window.parent.rmAdIframeSrc\n      2 javascript:window.parent.abanIframeSrc\n\nshow the count of crash urls where \"javascript:\" urls show up in the crash reports for that signature.\n\nThe key thing we want to try and figure out here is if there is something interesting in the content of of a wide variety of pages that we could abstract as a test case, or if there is something in the chrome that puts javascript: urls in the history list and then we stumble along and crash right after that action.\n\ndo we know of any use patterns like this?", "attachment_id": null, "time": "2011-08-23T02:24:32Z", "creation_time": "2011-08-23T02:24:32Z", "is_private": false, "bug_id": 681147, "id": 5671064, "text": "lines like \"5.0.1 rank# 3\"  \n\n       show the ranking of the signature and any associated bug number with that signature.\n\nthe list of lines underneath each signature like:\n\n      6 \"javascript:\"\"\"\"\"//\n      5 javascript:window.parent.rmAdIframeSrc//\n      6 \"javascript:\"\"\"\"\"\n      5 javascript:window.parent.rmAdIframeSrc\n      2 javascript:window.parent.abanIframeSrc\n\nshow the count of crash urls where \"javascript:\" urls show up in the crash reports for that signature.\n\nThe key thing we want to try and figure out here is if there is something interesting in the content of of a wide variety of pages that we could abstract as a test case, or if there is something in the chrome that puts javascript: urls in the history list and then we stumble along and crash right after that action.\n\ndo we know of any use patterns like this?", "count": 2, "author": "chofmann@gmail.com", "creator": "chofmann@gmail.com"}, {"id": 5671077, "bug_id": 681147, "author": "chofmann@gmail.com", "text": "bclary might be able to help figure out if there are any interesting patterns on the content side of this question.\n\nAlso should add that all these javascript: urls might be innocent bystanders in the crashes, but they see so pervasive across a wide variety of signatures that we should just make sure they are not behind some pattern that produces a wide variety of signatures and reflective of a deeper problem.", "count": 3, "raw_text": "bclary might be able to help figure out if there are any interesting patterns on the content side of this question.\n\nAlso should add that all these javascript: urls might be innocent bystanders in the crashes, but they see so pervasive across a wide variety of signatures that we should just make sure they are not behind some pattern that produces a wide variety of signatures and reflective of a deeper problem.", "time": "2011-08-23T02:29:27Z", "is_private": false, "creation_time": "2011-08-23T02:29:27Z", "creator": "chofmann@gmail.com", "tags": [], "attachment_id": null}, {"attachment_id": null, "raw_text": "crashes with some form of javascript: url dropped from ~1000 to ~800 (~10-20%) on 2011-06-23 when Firefox 5 and Firefox 6 Beta released with the fix for bug 656433 landed.\n\nLooking at yesterday's stats I see the top \"urls\" as:\n\n    447 \"javascript:\"\"\"\"\"\n    231 javascript:false;\n     53 javascript:''\n     17 javascript:false\n\nwith a handful of crashes involving javascript:raw dom related code like the window.parent stuff in comment 2 and a handful from google ads where the pattern is \"javascript:\"\"html markup with iframe\"\n\nLooking at the occurrences by branch for yesterday's stats, I see this is primarily Windows (with a handful of Mac OS X) scattered across all branches: 3.6.x, 4.x, 5.x, 6.x, 7.x, 8.x, 9.x.\n\nThe quoted \"javascript:\"\"\"\"\" stuff definitely seems weird. I'm rebuilding stuff atm, but I'll try to reproduce on my windows vm when they finish.", "time": "2011-08-23T03:57:05Z", "tags": [], "author": "bob@bclary.com", "text": "crashes with some form of javascript: url dropped from ~1000 to ~800 (~10-20%) on 2011-06-23 when Firefox 5 and Firefox 6 Beta released with the fix for bug 656433 landed.\n\nLooking at yesterday's stats I see the top \"urls\" as:\n\n    447 \"javascript:\"\"\"\"\"\n    231 javascript:false;\n     53 javascript:''\n     17 javascript:false\n\nwith a handful of crashes involving javascript:raw dom related code like the window.parent stuff in comment 2 and a handful from google ads where the pattern is \"javascript:\"\"html markup with iframe\"\n\nLooking at the occurrences by branch for yesterday's stats, I see this is primarily Windows (with a handful of Mac OS X) scattered across all branches: 3.6.x, 4.x, 5.x, 6.x, 7.x, 8.x, 9.x.\n\nThe quoted \"javascript:\"\"\"\"\" stuff definitely seems weird. I'm rebuilding stuff atm, but I'll try to reproduce on my windows vm when they finish.", "count": 4, "creator": "bob@bclary.com", "is_private": false, "creation_time": "2011-08-23T03:57:05Z", "bug_id": 681147, "id": 5671170}, {"bug_id": 681147, "id": 5671584, "author": "bob@bclary.com", "count": 5, "text": "Created attachment 555064\nstack ASSERTION: Uh, cx is not the current JS context!: 'cx == GetCurrentJSContext()', file c:/work/mozilla/builds/nightly/mozilla/caps/src/nsScriptSecurityManager.cpp, line 396\n\n1. start debug Nightly on WinXP\n2. Attach debugger\n3. Open Web developer console\n4. document.location.href = 'javascript:false'\n\nASSERTION: Uh, cx is not the current JS context!: 'cx == GetCurrentJSContext()', file c:/work/mozilla/builds/nightly/mozilla/caps/src/nsScriptSecurityManager.cpp, line 396\n\nA funny thing happens if you do \n\ndocument.location.href = '<html><body></body></html>' (or other markup)\n\nIt tries to load\n\njar:file:///C:/cygwin/home/bclary/bin/nightly/firefox/omni.jar!/chrome/browser/content/browser/%3Chtml%3E%3Cbody%3E%3C/body%3E%3C/html%3E\n\nI was able to crash once in a debug build, but only after I disconnected the debugger so I didn't get the stack.", "time": "2011-08-23T10:36:16Z", "raw_text": "1. start debug Nightly on WinXP\n2. Attach debugger\n3. Open Web developer console\n4. document.location.href = 'javascript:false'\n\nASSERTION: Uh, cx is not the current JS context!: 'cx == GetCurrentJSContext()', file c:/work/mozilla/builds/nightly/mozilla/caps/src/nsScriptSecurityManager.cpp, line 396\n\nA funny thing happens if you do \n\ndocument.location.href = '<html><body></body></html>' (or other markup)\n\nIt tries to load\n\njar:file:///C:/cygwin/home/bclary/bin/nightly/firefox/omni.jar!/chrome/browser/content/browser/%3Chtml%3E%3Cbody%3E%3C/body%3E%3C/html%3E\n\nI was able to crash once in a debug build, but only after I disconnected the debugger so I didn't get the stack.", "creation_time": "2011-08-23T10:36:16Z", "is_private": false, "creator": "bob@bclary.com", "tags": [], "attachment_id": 555064}]}}}