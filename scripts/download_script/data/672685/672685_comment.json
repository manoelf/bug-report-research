{"comments": {}, "bugs": {"672685": {"comments": [{"raw_text": "Right now, a significant proportion of my duplicate tabs have come from clicking a link outside of Firefox. In this case, Firefox will always open a new tab (assuming browser.link.open_newwindow=3) - even if the link is already open in a tab.\n\nTo further help decrease duplicate tabs, it'd be rather nice to support just switching to a tab if the URL is already open - falling back to opening a new tab.", "attachment_id": null, "id": 5600587, "count": 0, "is_private": false, "creator": "blair@theunfocused.net", "text": "Right now, a significant proportion of my duplicate tabs have come from clicking a link outside of Firefox. In this case, Firefox will always open a new tab (assuming browser.link.open_newwindow=3) - even if the link is already open in a tab.\n\nTo further help decrease duplicate tabs, it'd be rather nice to support just switching to a tab if the URL is already open - falling back to opening a new tab.", "time": "2011-07-19T23:54:18Z", "bug_id": 672685, "tags": [], "creation_time": "2011-07-19T23:54:18Z", "author": "blair@theunfocused.net"}, {"text": "I agree with this change. However, I think we should provide the ability to pref this feature off (switch back to open in new tab).", "bug_id": 672685, "time": "2011-07-21T21:08:17Z", "tags": [], "creation_time": "2011-07-21T21:08:17Z", "author": "u279076@disabled.tld", "count": 1, "is_private": false, "creator": "u279076@disabled.tld", "id": 5605423, "raw_text": "I agree with this change. However, I think we should provide the ability to pref this feature off (switch back to open in new tab).", "attachment_id": null}, {"creation_time": "2011-07-21T22:12:48Z", "author": "blair@theunfocused.net", "text": "(In reply to comment #1)\n> I agree with this change. However, I think we should provide the ability to\n> pref this feature off (switch back to open in new tab).\n\nAgreed. I have a patch that does this already, but it needs tests. \n\nI'm not even sure this should be the default behaviour - or if there should be UI to change it. Need some UX direction there.", "bug_id": 672685, "time": "2011-07-21T22:12:48Z", "tags": [], "is_private": false, "creator": "blair@theunfocused.net", "count": 2, "id": 5605701, "attachment_id": null, "raw_text": "(In reply to comment #1)\n> I agree with this change. However, I think we should provide the ability to\n> pref this feature off (switch back to open in new tab).\n\nAgreed. I have a patch that does this already, but it needs tests. \n\nI'm not even sure this should be the default behaviour - or if there should be UI to change it. Need some UX direction there."}, {"creation_time": "2011-07-21T23:24:59Z", "author": "jboriss@mozilla.com", "text": "This would be great functionality.  And I agree with Comment 1: probably needs an about:config setting as well.  My guess is that this mostly would occur from clicking the same link in the same location, such as if someone knows the link they need is in a particular email, and it's easier to find that email than an open tab (another, separate problem).  It's likely rare that starting a new task, eg in a new tab in the current window, would be the most helpful behavior.", "bug_id": 672685, "time": "2011-07-21T23:24:59Z", "tags": [], "is_private": false, "creator": "jboriss@mozilla.com", "count": 3, "id": 5605900, "attachment_id": null, "raw_text": "This would be great functionality.  And I agree with Comment 1: probably needs an about:config setting as well.  My guess is that this mostly would occur from clicking the same link in the same location, such as if someone knows the link they need is in a particular email, and it's easier to find that email than an open tab (another, separate problem).  It's likely rare that starting a new task, eg in a new tab in the current window, would be the most helpful behavior."}, {"id": 5605904, "attachment_id": 547553, "raw_text": "Bare-minimum patch, implements just the functionality (with a test). No UI to configure it, and the functionality isn't enabled by default. \n\nTo use it, set browser.link.open_newwindow=4", "author": "blair@theunfocused.net", "creation_time": "2011-07-21T23:26:56Z", "bug_id": 672685, "tags": [], "time": "2011-07-21T23:26:56Z", "text": "Created attachment 547553\nPatch v1\n\nBare-minimum patch, implements just the functionality (with a test). No UI to configure it, and the functionality isn't enabled by default. \n\nTo use it, set browser.link.open_newwindow=4", "creator": "blair@theunfocused.net", "is_private": false, "count": 4}, {"bug_id": 672685, "time": "2011-07-21T23:31:51Z", "tags": [], "text": "Created attachment 547554\nPatch v1.1\n\nMade this behaviour the default, based on comment 3.", "author": "blair@theunfocused.net", "creation_time": "2011-07-21T23:31:51Z", "count": 5, "creator": "blair@theunfocused.net", "is_private": false, "id": 5605920, "raw_text": "Made this behaviour the default, based on comment 3.", "attachment_id": 547554}, {"id": 5605943, "raw_text": "I don't think you need/want to touch nsIBrowserDOMWindow for this.", "attachment_id": null, "text": "I don't think you need/want to touch nsIBrowserDOMWindow for this.", "tags": [], "time": "2011-07-21T23:37:17Z", "bug_id": 672685, "creation_time": "2011-07-21T23:37:17Z", "author": "dao+bmo@mozilla.com", "count": 6, "is_private": false, "creator": "dao+bmo@mozilla.com"}, {"tags": [], "time": "2011-07-22T21:33:52Z", "text": "Try builds, for seeing the behaviour:\nhttps://people.mozilla.com/~bmcbride/try/bug672685/", "author": "blair@theunfocused.net", "creation_time": "2011-07-22T21:33:52Z", "creator": "blair@theunfocused.net", "is_private": false, "id": 5608195, "raw_text": "Try builds, for seeing the behaviour:\nhttps://people.mozilla.com/~bmcbride/try/bug672685/", "attachment_id": null, "bug_id": 672685, "count": 7}, {"raw_text": "(In reply to comment #6)\n> I don't think you need/want to touch nsIBrowserDOMWindow for this.\n\nI could, but doing so would mean either:\n* Using an unnamed magic number\n* Having a separate preference, whose meaning depends on browser.link.open_newwindow. This would also make the code more complex too.", "attachment_id": null, "id": 5608200, "count": 8, "is_private": false, "creator": "blair@theunfocused.net", "text": "(In reply to comment #6)\n> I don't think you need/want to touch nsIBrowserDOMWindow for this.\n\nI could, but doing so would mean either:\n* Using an unnamed magic number\n* Having a separate preference, whose meaning depends on browser.link.open_newwindow. This would also make the code more complex too.", "time": "2011-07-22T21:36:13Z", "bug_id": 672685, "tags": [], "creation_time": "2011-07-22T21:36:13Z", "author": "blair@theunfocused.net"}, {"creator": "dao+bmo@mozilla.com", "is_private": false, "tags": [], "time": "2011-07-23T01:58:34Z", "text": "> * Having a separate preference, whose meaning depends on\n> browser.link.open_newwindow. This would also make the code more complex too.\n\nThis sounds like the right way. I don't foresee the complexity; it just means that you handle it as part of OPEN_NEWTAB rather than as a separate case.", "author": "dao+bmo@mozilla.com", "creation_time": "2011-07-23T01:58:34Z", "raw_text": "> * Having a separate preference, whose meaning depends on\n> browser.link.open_newwindow. This would also make the code more complex too.\n\nThis sounds like the right way. I don't foresee the complexity; it just means that you handle it as part of OPEN_NEWTAB rather than as a separate case.", "attachment_id": null, "id": 5608726, "count": 9, "bug_id": 672685}, {"bug_id": 672685, "count": 10, "id": 5609464, "raw_text": "I agree with Dao, I don't think we want to change nsIBrowserDOMWindow for this.\n\nIt's tricky to do this right, since there will always be edge cases that get broken by this (can't determine page \"sameness\" solely with URL comparisons). Switch to tab gets away with this because it's possible to override, and somewhat more obvious what's happening. I guess the failure case for this behavior isn't _too_ bad (you can reload or manually open a new tab), but it still seems like there's potential for confusion. I'm not sure how to best address that.", "attachment_id": 547554, "time": "2011-07-24T02:41:42Z", "tags": [], "text": "Comment on attachment 547554\nPatch v1.1\n\nI agree with Dao, I don't think we want to change nsIBrowserDOMWindow for this.\n\nIt's tricky to do this right, since there will always be edge cases that get broken by this (can't determine page \"sameness\" solely with URL comparisons). Switch to tab gets away with this because it's possible to override, and somewhat more obvious what's happening. I guess the failure case for this behavior isn't _too_ bad (you can reload or manually open a new tab), but it still seems like there's potential for confusion. I'm not sure how to best address that.", "author": "gavin.sharp@gmail.com", "creation_time": "2011-07-24T02:41:42Z", "creator": "gavin.sharp@gmail.com", "is_private": false}, {"id": 5623655, "attachment_id": null, "raw_text": "If this can work from outside Firefox can't we do it for links inside Firefox?", "creation_time": "2011-07-30T14:09:59Z", "author": "dugar.siddhartha@gmail.com", "text": "If this can work from outside Firefox can't we do it for links inside Firefox?", "tags": [], "time": "2011-07-30T14:09:59Z", "is_private": false, "creator": "dugar.siddhartha@gmail.com", "bug_id": 672685, "count": 11}, {"raw_text": "(In reply to Blair McBride (:Unfocused) from comment #7)\n> Try builds, for seeing the behaviour:\n> https://people.mozilla.com/~bmcbride/try/bug672685/\n\nI played around with this patch to see how it would behave with multiple instances of the same URL being opened.  The current patch looks at the most recently active Firefox window, and then searches through the tab strip from the left to find a URL match to the link.  So, if a URL is open also to the right of the first URL match, that instance is ignored.  Effectively, clicking the link repeatedly would bring you back again and again to the leftmost tab.  \n\nThis is acceptable behavior, but an exception may be when the user has one of the instances of that URL actually open on a window.  In this case, the user may actually be interacting with the page content, and in that instance I think we should merely open the window with that active tab.\n\nBlair and I discussed this on IRC: he's going to post a followup patch with this behavior.", "attachment_id": null, "id": 5738016, "count": 12, "is_private": false, "creator": "jboriss@mozilla.com", "text": "(In reply to Blair McBride (:Unfocused) from comment #7)\n> Try builds, for seeing the behaviour:\n> https://people.mozilla.com/~bmcbride/try/bug672685/\n\nI played around with this patch to see how it would behave with multiple instances of the same URL being opened.  The current patch looks at the most recently active Firefox window, and then searches through the tab strip from the left to find a URL match to the link.  So, if a URL is open also to the right of the first URL match, that instance is ignored.  Effectively, clicking the link repeatedly would bring you back again and again to the leftmost tab.  \n\nThis is acceptable behavior, but an exception may be when the user has one of the instances of that URL actually open on a window.  In this case, the user may actually be interacting with the page content, and in that instance I think we should merely open the window with that active tab.\n\nBlair and I discussed this on IRC: he's going to post a followup patch with this behavior.", "time": "2011-09-26T20:55:37Z", "bug_id": 672685, "tags": [], "creation_time": "2011-09-26T20:55:37Z", "author": "jboriss@mozilla.com"}, {"id": 6756861, "raw_text": "", "attachment_id": null, "text": "*** Bug 804568 has been marked as a duplicate of this bug. ***", "time": "2012-10-23T22:38:23Z", "bug_id": 672685, "tags": [], "creation_time": "2012-10-23T22:38:23Z", "author": "bugzilla@mversen.de", "count": 13, "is_private": false, "creator": "bugzilla@mversen.de"}, {"creation_time": "2014-03-13T00:00:32Z", "author": "jboriss@mozilla.com", "text": "Comment on attachment 547554\nPatch v1.1\n\nReview of attachment 547554:\n-----------------------------------------------------------------\n\n(explanation in Comment 12)", "tags": [], "time": "2014-03-13T00:00:32Z", "is_private": false, "creator": "jboriss@mozilla.com", "id": 8526697, "attachment_id": 547554, "raw_text": "Review of attachment 547554:\n-----------------------------------------------------------------\n\n(explanation in Comment 12)", "bug_id": 672685, "count": 14}]}}}