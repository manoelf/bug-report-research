{"bugs": {"692331": {"comments": [{"is_private": false, "id": 5762158, "count": 0, "author": "jruderman@gmail.com", "creator": "jruderman@gmail.com", "time": "2011-10-06T00:13:11Z", "creation_time": "2011-10-06T00:13:11Z", "raw_text": "The dialog is currently:\n\n           Confirm Dialog Preferences\n  Prevent this page from creating addition dialogs\n                 [Cancel] / [OK]\n\nI guess this dialog is for preventing abuse of dialogs that don't have internal checkboxes, such as window.print() and window.showModalDialog().\n\nwindow.print() is not subject to pop-up blocker control, so fixing bug 675574 will not (by itself) make this dialog irrelevant.\n\nBug 600189 shows one situation where this dialog appears.  Presumably http://hg.mozilla.org/mozilla-central/annotate/0f872fecb5a8/dom/tests/mochitest/bugs/test_bug61098.html shows another.\n\nRelevant code:\nhttp://hg.mozilla.org/mozilla-central/file/32536d199fcf/toolkit/locales/en-US/chrome/global/commonDialogs.properties#l17\nhttp://hg.mozilla.org/mozilla-central/file/0f872fecb5a8/dom/base/nsGlobalWindow.cpp#l2665\n(looks like the body of this dialog is the same string as the checkbox inside repeated alerts)", "attachment_id": 565082, "tags": [], "text": "Created attachment 565082\nscreenshot\n\nThe dialog is currently:\n\n           Confirm Dialog Preferences\n  Prevent this page from creating addition dialogs\n                 [Cancel] / [OK]\n\nI guess this dialog is for preventing abuse of dialogs that don't have internal checkboxes, such as window.print() and window.showModalDialog().\n\nwindow.print() is not subject to pop-up blocker control, so fixing bug 675574 will not (by itself) make this dialog irrelevant.\n\nBug 600189 shows one situation where this dialog appears.  Presumably http://hg.mozilla.org/mozilla-central/annotate/0f872fecb5a8/dom/tests/mochitest/bugs/test_bug61098.html shows another.\n\nRelevant code:\nhttp://hg.mozilla.org/mozilla-central/file/32536d199fcf/toolkit/locales/en-US/chrome/global/commonDialogs.properties#l17\nhttp://hg.mozilla.org/mozilla-central/file/0f872fecb5a8/dom/base/nsGlobalWindow.cpp#l2665\n(looks like the body of this dialog is the same string as the checkbox inside repeated alerts)", "bug_id": 692331}, {"tags": [], "text": "Hey Dolske, do you know what this dialog is for and when it appears?", "bug_id": 692331, "attachment_id": null, "raw_text": "Hey Dolske, do you know what this dialog is for and when it appears?", "creator": "jboriss@mozilla.com", "time": "2012-01-27T21:58:32Z", "creation_time": "2012-01-27T21:58:32Z", "author": "jboriss@mozilla.com", "is_private": false, "count": 1, "id": 6015537}, {"attachment_id": null, "raw_text": "Boriss: you can see it by clicking the link at http://gavinsharp.com/tmp/abuse.html , and then accepting the prompt a few times.", "bug_id": 692331, "text": "Boriss: you can see it by clicking the link at http://gavinsharp.com/tmp/abuse.html , and then accepting the prompt a few times.", "tags": [], "count": 2, "id": 6021333, "is_private": false, "time": "2012-01-31T01:13:24Z", "creation_time": "2012-01-31T01:13:24Z", "creator": "gavin.sharp@gmail.com", "author": "gavin.sharp@gmail.com"}, {"creation_time": "2012-01-31T01:29:33Z", "time": "2012-01-31T01:29:33Z", "creator": "jruderman@gmail.com", "author": "jruderman@gmail.com", "id": 6021385, "count": 3, "is_private": false, "bug_id": 692331, "text": "Gavin, I get the in-alert checkbox for your testcase.", "tags": [], "attachment_id": null, "raw_text": "Gavin, I get the in-alert checkbox for your testcase."}, {"time": "2012-02-01T01:19:52Z", "creation_time": "2012-02-01T01:19:52Z", "creator": "gavin.sharp@gmail.com", "author": "gavin.sharp@gmail.com", "id": 6024480, "count": 4, "is_private": false, "tags": [], "bug_id": 692331, "text": "Oh, sorry, I forgot what this was actually about. And I didn't read comment 0 properly, since you already explain it in detail :)\n\nhttp://gavinsharp.com/tmp/abuse-print.html is an easy-to-use testcase (click the link then cancel the dialog ~10 times).", "attachment_id": null, "raw_text": "Oh, sorry, I forgot what this was actually about. And I didn't read comment 0 properly, since you already explain it in detail :)\n\nhttp://gavinsharp.com/tmp/abuse-print.html is an easy-to-use testcase (click the link then cancel the dialog ~10 times)."}, {"author": "jboriss@mozilla.com", "time": "2012-02-03T22:46:43Z", "creation_time": "2012-02-03T22:46:43Z", "creator": "jboriss@mozilla.com", "count": 5, "id": 6033658, "is_private": false, "tags": [], "bug_id": 692331, "text": "Created attachment 594310\nMockup: Prevent Page Dialog as doorhanger\n\nThanks Gavin!  Could we make this shit into a page-modal doorhanger (see attached)?  We already have the icon in mxr: http://mxr.mozilla.org/mozilla-central/source/toolkit/themes/winstripe/global/icons/\n\nIncidentally, UX is working on a non-modal print dialog at the moment, so if that's the only way this appears it may be a matter of time anyway", "raw_text": "Thanks Gavin!  Could we make this shit into a page-modal doorhanger (see attached)?  We already have the icon in mxr: http://mxr.mozilla.org/mozilla-central/source/toolkit/themes/winstripe/global/icons/\n\nIncidentally, UX is working on a non-modal print dialog at the moment, so if that's the only way this appears it may be a matter of time anyway", "attachment_id": 594310}, {"author": "limi@mozilla.com", "creator": "limi@mozilla.com", "time": "2012-02-03T22:52:32Z", "creation_time": "2012-02-03T22:52:32Z", "is_private": false, "id": 6033674, "count": 6, "tags": [], "text": "If the default is 10 times before we show it (and it's not just part of the test page), it should be reduced to 2 or 3 as the threshold.\n\nAs for the text, how about:\n\n  Prevent this page from creating additional dialogs?\n  [Allow] [Prevent]\n\nAnyway, this is a very obscure part of our browser, I don't think we need to invest a lot of time in this \u2014 it mostly just needs to work if anyone gets hijacked. If we can easily make it page-modal instead of window modal, that's great too.", "bug_id": 692331, "raw_text": "If the default is 10 times before we show it (and it's not just part of the test page), it should be reduced to 2 or 3 as the threshold.\n\nAs for the text, how about:\n\n  Prevent this page from creating additional dialogs?\n  [Allow] [Prevent]\n\nAnyway, this is a very obscure part of our browser, I don't think we need to invest a lot of time in this \u2014 it mostly just needs to work if anyone gets hijacked. If we can easily make it page-modal instead of window modal, that's great too.", "attachment_id": null}, {"id": 6507140, "count": 7, "is_private": false, "time": "2012-07-26T10:38:34Z", "creation_time": "2012-07-26T10:38:34Z", "creator": "wallfur+mozbugz@gmail.com", "author": "wallfur+mozbugz@gmail.com", "attachment_id": null, "raw_text": "While you're there, separate the browser UI from the page's. Leave the string sent to alert/confirm/etc. in the white area, but move the \"Prevent this page from creating additional dialogs?\" into the grey area, where the buttons go.", "text": "While you're there, separate the browser UI from the page's. Leave the string sent to alert/confirm/etc. in the white area, but move the \"Prevent this page from creating additional dialogs?\" into the grey area, where the buttons go.", "bug_id": 692331, "tags": []}, {"creator": "jruderman@gmail.com", "time": "2012-07-31T15:58:21Z", "creation_time": "2012-07-31T15:58:21Z", "author": "jruderman@gmail.com", "is_private": false, "id": 6520479, "count": 8, "bug_id": 692331, "text": "Since this bug is about the case where \"Prevent this page from creating additional dialogs\" is a separate dialog, I filed bug 779155 for walf's suggestion.", "tags": [], "attachment_id": null, "raw_text": "Since this bug is about the case where \"Prevent this page from creating additional dialogs\" is a separate dialog, I filed bug 779155 for walf's suggestion."}, {"bug_id": 692331, "text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "tags": [], "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven\u2019t been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "attachment_id": null, "author": "bug-husbandry-bot@mozilla.bugs", "creation_time": "2018-06-29T04:59:46Z", "time": "2018-06-29T04:59:46Z", "creator": "bug-husbandry-bot@mozilla.bugs", "count": 9, "id": 13437111, "is_private": false}, {"id": 14918091, "count": 10, "is_private": false, "author": "cpeterson@mozilla.com", "creation_time": "2020-07-04T19:14:07Z", "time": "2020-07-04T19:14:07Z", "creator": "cpeterson@mozilla.com", "raw_text": "This UX bug still exists. The meanings of the \"Cancel\" and \"OK\" buttons are confusing. Their current behavior is:\n\n* \"OK\" will _prevent_ the page from creating additional dialogs\n* \"Cancel\" will _allow_ the page to create additional dialogs (i.e. it \"cancels the prevention\").", "attachment_id": null, "bug_id": 692331, "text": "This UX bug still exists. The meanings of the \"Cancel\" and \"OK\" buttons are confusing. Their current behavior is:\n\n* \"OK\" will _prevent_ the page from creating additional dialogs\n* \"Cancel\" will _allow_ the page to create additional dialogs (i.e. it \"cancels the prevention\").", "tags": []}]}}, "comments": {}}