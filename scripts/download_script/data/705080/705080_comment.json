{"bugs": {"705080": {"comments": [{"raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; rv:8.0) Gecko/20100101 Firefox/8.0\nBuild ID: 20111104165243\n\nSteps to reproduce:\n\nWhen having followin folder structure:\n- inbox\n- Search folder \n- Folder 1\n- Folder 2\n-- subfolder 2\n\nThe Search folder is saved search folder. For example it could search all messages from sender X from all other folders. All folders are checked when \"select the folders to search\" is viewed.\n\nAnd now Folder 1 (checked) is moved under folder 2 (checked) to be in same level with subfolder 2 (checked).\n\n\nActual results:\n\nThe Search folder doesn't search from Folder 1 anymore. All other folders are searched, but there isn't a check next to Folder 1 in the \"select the folders to search\" in the Search folder properties\n\n\nExpected results:\n\nMaybe the Folder 1 should remain checked  in the \"select the folders to search\" in the Search folder properties. Or at least take the properties of the parent folder.\n\nI don't do this often but this causes some mails to go missing from my search folder event though originally I have set the search folder to check all folders.", "creation_time": "2011-11-24T10:57:36Z", "time": "2011-11-24T10:57:36Z", "attachment_id": null, "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; rv:8.0) Gecko/20100101 Firefox/8.0\nBuild ID: 20111104165243\n\nSteps to reproduce:\n\nWhen having followin folder structure:\n- inbox\n- Search folder \n- Folder 1\n- Folder 2\n-- subfolder 2\n\nThe Search folder is saved search folder. For example it could search all messages from sender X from all other folders. All folders are checked when \"select the folders to search\" is viewed.\n\nAnd now Folder 1 (checked) is moved under folder 2 (checked) to be in same level with subfolder 2 (checked).\n\n\nActual results:\n\nThe Search folder doesn't search from Folder 1 anymore. All other folders are searched, but there isn't a check next to Folder 1 in the \"select the folders to search\" in the Search folder properties\n\n\nExpected results:\n\nMaybe the Folder 1 should remain checked  in the \"select the folders to search\" in the Search folder properties. Or at least take the properties of the parent folder.\n\nI don't do this often but this causes some mails to go missing from my search folder event though originally I have set the search folder to check all folders.", "id": 5870469, "tags": [], "count": 0, "is_private": false, "bug_id": 705080, "author": "antti.paallysaho@gmail.com", "creator": "antti.paallysaho@gmail.com"}, {"raw_text": "IMAP mail folder? Or local mail folder(POP3 or Local Folders)?", "creation_time": "2011-11-26T23:19:47Z", "time": "2011-11-26T23:19:47Z", "attachment_id": null, "text": "IMAP mail folder? Or local mail folder(POP3 or Local Folders)?", "id": 5873929, "count": 1, "is_private": false, "tags": [], "bug_id": 705080, "author": "m-wada@usa.com", "creator": "m-wada@usa.com"}, {"bug_id": 705080, "tags": [], "count": 2, "is_private": false, "id": 5875017, "text": "Server type: IMAP Mail Server, port 993, Connection security: SSL/TLS\n\nAddons: CompactHeader 1.4.5, Enigmail 1.3.3, Extra Folder Columns 1.1.4, Lightning 1.0, Lookout 1.2.13", "attachment_id": null, "time": "2011-11-28T07:51:38Z", "raw_text": "Server type: IMAP Mail Server, port 993, Connection security: SSL/TLS\n\nAddons: CompactHeader 1.4.5, Enigmail 1.3.3, Extra Folder Columns 1.1.4, Lightning 1.0, Lookout 1.2.13", "creation_time": "2011-11-28T07:51:38Z", "creator": "antti.paallysaho@gmail.com", "author": "antti.paallysaho@gmail.com"}, {"author": "m-wada@usa.com", "creator": "m-wada@usa.com", "bug_id": 705080, "id": 5875068, "tags": [], "is_private": false, "count": 3, "time": "2011-11-28T08:51:44Z", "attachment_id": null, "text": "I surely reproduced the problem in a bug by \"rename of search taret folder of virtual folder(saved search folder)\" in the past using local mail folder, but I couldn't reach the bug again.\nI've reached the bug again at last - bug 601455 comment #8. \"Unable to find\" was due to inappropriate bug summry of that bug and uclear initial report of problem in that bug. I prefer keeping this bug open to keeping that bug.\n\n\"IMAP or local mail folder\" was irrelevant when virtual folder.\nIt was relevant when message filter.\n  - Local mail folder : rename is tracked by filter\n                       (delete XX == rename XX to Trash/XX for filter)\n  - IMAP mail folder  : rename is not tracked by filter \n                        rename XX YY == delete XX, create YY for filter, if IMAP\n\n(Following is copy of my bug 601455 comment #8) \n\nVirtual folder is automatically deleted by rename of search target folder(checked with Tb 3.1.5).\n  1. A virtual folder named VF, Search target = F1, F2 (local mail folder)\n  2. Rename F1 to F1X\n     => F1 is removed from scope, if virtualFolders.dat is updated by Tb\n  3. Rename F2 to F2X => Virtual folder of VF is removed from folder pane.\nIf virtual folder, \"Rename of search target folder\" seems same as Delete for Tb.\nAlready known phenomenon?\n\nIf message filter, \"Rename of a folder\" or \"move of a folder\" is automatically reflected to message filter rules.\n\nNote on \"message filter\" and \"delete of folder\":\nIf \"delete of a local mail folder\", folder is moved under local Trash folder. Tb 3.1.5 showed warning of \"filter rule is disabled due to delete\" upon folder delete operation. However, \"move/copy target folder\" in a filter rule was changed to \"folder under local Trash\" and filter rule was kept enabled.\nIf \"Empty Trash\" is executed, \"folder under local Trash\" is deleted, then the filter rule is disabled upon next message filter execution with warning, as before.\n\nFrom user's perspective, consistent behaviour is desirable, on both virtual folder and message filter, among folder delete, folder rename, folder move by user.", "creation_time": "2011-11-28T08:51:44Z", "raw_text": "I surely reproduced the problem in a bug by \"rename of search taret folder of virtual folder(saved search folder)\" in the past using local mail folder, but I couldn't reach the bug again.\nI've reached the bug again at last - bug 601455 comment #8. \"Unable to find\" was due to inappropriate bug summry of that bug and uclear initial report of problem in that bug. I prefer keeping this bug open to keeping that bug.\n\n\"IMAP or local mail folder\" was irrelevant when virtual folder.\nIt was relevant when message filter.\n  - Local mail folder : rename is tracked by filter\n                       (delete XX == rename XX to Trash/XX for filter)\n  - IMAP mail folder  : rename is not tracked by filter \n                        rename XX YY == delete XX, create YY for filter, if IMAP\n\n(Following is copy of my bug 601455 comment #8) \n\nVirtual folder is automatically deleted by rename of search target folder(checked with Tb 3.1.5).\n  1. A virtual folder named VF, Search target = F1, F2 (local mail folder)\n  2. Rename F1 to F1X\n     => F1 is removed from scope, if virtualFolders.dat is updated by Tb\n  3. Rename F2 to F2X => Virtual folder of VF is removed from folder pane.\nIf virtual folder, \"Rename of search target folder\" seems same as Delete for Tb.\nAlready known phenomenon?\n\nIf message filter, \"Rename of a folder\" or \"move of a folder\" is automatically reflected to message filter rules.\n\nNote on \"message filter\" and \"delete of folder\":\nIf \"delete of a local mail folder\", folder is moved under local Trash folder. Tb 3.1.5 showed warning of \"filter rule is disabled due to delete\" upon folder delete operation. However, \"move/copy target folder\" in a filter rule was changed to \"folder under local Trash\" and filter rule was kept enabled.\nIf \"Empty Trash\" is executed, \"folder under local Trash\" is deleted, then the filter rule is disabled upon next message filter execution with warning, as before.\n\nFrom user's perspective, consistent behaviour is desirable, on both virtual folder and message filter, among folder delete, folder rename, folder move by user."}, {"author": "m-wada@usa.com", "creator": "m-wada@usa.com", "creation_time": "2011-11-28T09:04:21Z", "raw_text": "", "time": "2011-11-28T09:04:21Z", "attachment_id": null, "text": "*** Bug 601455 has been marked as a duplicate of this bug. ***", "id": 5875080, "tags": [], "is_private": false, "count": 4, "bug_id": 705080}, {"author": "m-wada@usa.com", "creator": "m-wada@usa.com", "creation_time": "2011-11-28T09:15:14Z", "raw_text": "FYI.\nBug 596794 is for pfenomenon of \"deleted virtual folder due to deletion of last search target folder(Trash in this case) by Empty Trash\".\nBecause Unified folder is implemented by utilizing \"Virtual Folder\", phenomena like next are perhaps reported for Unified folder.\n  - Non last search target folder of an Unified folder is deleted\n    => an account under the Unified folder disappears\n  - Last search target folder of an Unified folder is deleted\n    => the Unified folder disappears", "attachment_id": null, "time": "2011-11-28T09:15:14Z", "text": "FYI.\nBug 596794 is for pfenomenon of \"deleted virtual folder due to deletion of last search target folder(Trash in this case) by Empty Trash\".\nBecause Unified folder is implemented by utilizing \"Virtual Folder\", phenomena like next are perhaps reported for Unified folder.\n  - Non last search target folder of an Unified folder is deleted\n    => an account under the Unified folder disappears\n  - Last search target folder of an Unified folder is deleted\n    => the Unified folder disappears", "id": 5875092, "is_private": false, "count": 5, "tags": [], "bug_id": 705080}, {"bug_id": 705080, "tags": [], "count": 6, "is_private": false, "id": 6334704, "text": "*** Bug 650554 has been marked as a duplicate of this bug. ***", "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "attachment_id": null, "time": "2012-05-24T14:59:31Z", "creation_time": "2012-05-24T14:59:31Z", "raw_text": ""}, {"author": "klonos@gmail.com", "creator": "klonos@gmail.com", "attachment_id": null, "time": "2014-12-12T21:09:42Z", "text": "I'm coming here from #650554 (which is a lot easier to spot than this issue due to the simpler issue title).\n\nCan this issue get some love after 3 years? So frustrating to have to re-edit very saved search each time I rename a folder.", "creation_time": "2014-12-12T21:09:42Z", "raw_text": "I'm coming here from #650554 (which is a lot easier to spot than this issue due to the simpler issue title).\n\nCan this issue get some love after 3 years? So frustrating to have to re-edit very saved search each time I rename a folder.", "bug_id": 705080, "id": 9689665, "is_private": false, "count": 7, "tags": []}, {"creator": "m-wada@usa.com", "author": "m-wada@usa.com", "bug_id": 705080, "tags": [], "count": 8, "is_private": false, "id": 9690837, "text": "From perspective of folder event listner, Rename of folder == Delete folder(a folder is removed from parent folder) + Create folder(new folder is added to parent folder). There is no way to know \"Rename\" by folder event.\nSo, from perspective of \"Virtual Folder==(Saved) Search Folder\", current behavior is called \"Spec\" or \"by Design\".\nHowever, from perspective of user's convenience, \"Rename of folder\" is better reflected to all Search Folders.\n\nAFAIK, Search folder uses folder event to track folder(itemRemoved is hooked), so it can not know \"Rename\".\nDo you know how message filter hooks \"Rename of folder\"? Utilize \"Notification of rename\"?\n\nI think \"Folder management component\" should update Search Folder(Virtul Folder) definition.\nNew msgDB.VirtualFolders like one will be needed?\n  \"What folder is used by a virtual folder \" is held in virtual Folders.dat, so VFNaame->SearchTarget is possible.\n   It's currently pretty hard to know \"By which virtual folder am I used?\"\nvirtualFolders.sqlite is needed? If such database for \"relation between folders\" will be available, job upon \"Rename\" is simple.\nIf rename/move/delete happens, look virtualFolders.sqlite, and update relation, and update required definition such as virtual folder(search folder), message filter, etc. This kind of DB can be used for managing special folders(e.g. This folder is used as Drafts by which identity?).\n.", "attachment_id": null, "time": "2014-12-13T03:27:30Z", "raw_text": "From perspective of folder event listner, Rename of folder == Delete folder(a folder is removed from parent folder) + Create folder(new folder is added to parent folder). There is no way to know \"Rename\" by folder event.\nSo, from perspective of \"Virtual Folder==(Saved) Search Folder\", current behavior is called \"Spec\" or \"by Design\".\nHowever, from perspective of user's convenience, \"Rename of folder\" is better reflected to all Search Folders.\n\nAFAIK, Search folder uses folder event to track folder(itemRemoved is hooked), so it can not know \"Rename\".\nDo you know how message filter hooks \"Rename of folder\"? Utilize \"Notification of rename\"?\n\nI think \"Folder management component\" should update Search Folder(Virtul Folder) definition.\nNew msgDB.VirtualFolders like one will be needed?\n  \"What folder is used by a virtual folder \" is held in virtual Folders.dat, so VFNaame->SearchTarget is possible.\n   It's currently pretty hard to know \"By which virtual folder am I used?\"\nvirtualFolders.sqlite is needed? If such database for \"relation between folders\" will be available, job upon \"Rename\" is simple.\nIf rename/move/delete happens, look virtualFolders.sqlite, and update relation, and update required definition such as virtual folder(search folder), message filter, etc. This kind of DB can be used for managing special folders(e.g. This folder is used as Drafts by which identity?).\n.", "creation_time": "2014-12-13T03:27:30Z"}]}}, "comments": {}}