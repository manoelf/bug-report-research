{"bugs": {"638500": {"comments": [{"raw_text": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.14) Gecko/20110221 Ubuntu/10.04 (lucid) Firefox/3.6.14\nBuild Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.14) Gecko/20110223 Lightning/1.0b2 Thunderbird/3.1.8\n\nAfter enabling to shift junk mail into an extra junk folder, this works only after marking 2 mails as junk. Not with the first mail as expected. No junk folder was present at all before enabling the shifting.\n\nSame goes for drafts. When no drafts folder is present, the first draft isn't saved.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. No junk folders present\n2. Enable shifting junk mail to junk folder (preferences -> security -> junk)\n3. Mark mail as junk - only the folder is created \n4. Mark second mail - mail is shifted\n\n\nExpected Results:  \nShift the first marked mail into the newly created folder.", "creator": "bugzilla@felix-stiehler.de", "tags": [], "creation_time": "2011-03-03T18:56:11Z", "attachment_id": null, "text": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.14) Gecko/20110221 Ubuntu/10.04 (lucid) Firefox/3.6.14\nBuild Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.14) Gecko/20110223 Lightning/1.0b2 Thunderbird/3.1.8\n\nAfter enabling to shift junk mail into an extra junk folder, this works only after marking 2 mails as junk. Not with the first mail as expected. No junk folder was present at all before enabling the shifting.\n\nSame goes for drafts. When no drafts folder is present, the first draft isn't saved.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. No junk folders present\n2. Enable shifting junk mail to junk folder (preferences -> security -> junk)\n3. Mark mail as junk - only the folder is created \n4. Mark second mail - mail is shifted\n\n\nExpected Results:  \nShift the first marked mail into the newly created folder.", "bug_id": 638500, "author": "bugzilla@felix-stiehler.de", "time": "2011-03-03T18:56:11Z", "count": 0, "is_private": false, "id": 5319285}, {"id": 5320760, "is_private": false, "time": "2011-03-04T02:57:47Z", "author": "m-wada@usa.com", "count": 1, "bug_id": 638500, "text": "Created attachment 516776\nIMAP log for, (i) Junk mail is not mved after creation of Junk folder, (ii) Junk is moved by second mark as Junk\n\nLog for next. (obtained by Tb 3.1.8)\n1. Junk folder doesn't exist. Junk move is enabled.\n2. Mark mail of UID=79 in Inbox as Junk.\n   Junk folder is created, but \"copy of UID=79 to Junk\" is not requested.\n   Delete operation(store \\Deleted flag) is not invoked for UID=79 in Inbox,\n   so, mail of UID=79 remains in Inbox with Junk mark is set.\n3. Mark mail of UID=79 in Inbox as Junk again(via Context menu).\n   Mail of UID=79 in Inbox is moved to Junk.\n\nIf Junk folder is selected by setting of \"Junk folder on: account-name\"(not by Others:), and if folder named Junk doesn't exists at server, Tb creates Junk folder upon first \"Mark As Junk\" request after account creation, but Tb fails to move the first mail to Junk folder.\nOnce Junk folder is created, \"Junk Move\" works as expected.\nThis bug won't occur if Junk folder is selected via \"Others:\", because non-existent folder can not be selected via folder selection UI.\n\nUser usually is not aware of this bug, because \"first move of Junk\" is requested by Junk filter upon mail download. User probably sees only one \"mail marked as Junk in Inbox due to this bug\", and it's only once.\n\nI guess this bug was generated by changes for next request.\n  Don't create special folders unless user explicitly uses them.\n  (Some users hate existence of folder they don't use.)\nIIRC, before the change for above request, Junk folder was created earlier stage than first Junk move, then this bug didn't occur.\n\nConfirming.", "tags": [], "creation_time": "2011-03-04T02:57:47Z", "attachment_id": 516776, "raw_text": "Log for next. (obtained by Tb 3.1.8)\n1. Junk folder doesn't exist. Junk move is enabled.\n2. Mark mail of UID=79 in Inbox as Junk.\n   Junk folder is created, but \"copy of UID=79 to Junk\" is not requested.\n   Delete operation(store \\Deleted flag) is not invoked for UID=79 in Inbox,\n   so, mail of UID=79 remains in Inbox with Junk mark is set.\n3. Mark mail of UID=79 in Inbox as Junk again(via Context menu).\n   Mail of UID=79 in Inbox is moved to Junk.\n\nIf Junk folder is selected by setting of \"Junk folder on: account-name\"(not by Others:), and if folder named Junk doesn't exists at server, Tb creates Junk folder upon first \"Mark As Junk\" request after account creation, but Tb fails to move the first mail to Junk folder.\nOnce Junk folder is created, \"Junk Move\" works as expected.\nThis bug won't occur if Junk folder is selected via \"Others:\", because non-existent folder can not be selected via folder selection UI.\n\nUser usually is not aware of this bug, because \"first move of Junk\" is requested by Junk filter upon mail download. User probably sees only one \"mail marked as Junk in Inbox due to this bug\", and it's only once.\n\nI guess this bug was generated by changes for next request.\n  Don't create special folders unless user explicitly uses them.\n  (Some users hate existence of folder they don't use.)\nIIRC, before the change for above request, Junk folder was created earlier stage than first Junk move, then this bug didn't occur.\n\nConfirming.", "creator": "m-wada@usa.com"}, {"is_private": false, "count": 2, "author": "m-wada@usa.com", "time": "2011-03-04T04:28:40Z", "id": 5320922, "attachment_id": null, "creation_time": "2011-03-04T04:28:40Z", "tags": [], "creator": "m-wada@usa.com", "raw_text": "(In reply to comment #0)\n> Same goes for drafts. When no drafts folder is present, the first draft isn't saved.\n\nAFAIR, same problem occurred on Sent and Drafts, as you say. But it occurred even when Drafts or Sent folder is already created manually before first draft save or first mail send. So, I checked it again.\n(Case-1) Drafts folder was manually created.\n         The Drafts folder was opened by folder click at least once\n         after folder creation.\n         The Drafts folder was not opened yet in current Tb session.\n         => Problem didn't occur.\n(Case-2) Drafts folder was manually created.\n         The Drafts folder was never opened after folder creation.\n         => Problem occurred.             \nProblem looks for me;\nIf Junk folder, Sent foldr, Drafts folder is not explicitly opened after folder creation, first Junk move, first Sent mail copy, first Draft save, silently fails, without requesting \"uid copy/uid store +flag \\Deleted)\"(Junk) or \"append\"(Sent, Drafts). \n\nI guess that \"explicit folder open\" is not requested by Junk move/Sent mail copy/Draft save. It may cause \"not-itialized .msf contentent\" and/or \"not-inialized folder cache content\", if folder is just created.\ne.g. Total mail count of folder is not ZERO or is negative value, Previous UIDVALIDITY is unknown, Next-UID or highest-UID is unknown, ....", "bug_id": 638500, "text": "(In reply to comment #0)\n> Same goes for drafts. When no drafts folder is present, the first draft isn't saved.\n\nAFAIR, same problem occurred on Sent and Drafts, as you say. But it occurred even when Drafts or Sent folder is already created manually before first draft save or first mail send. So, I checked it again.\n(Case-1) Drafts folder was manually created.\n         The Drafts folder was opened by folder click at least once\n         after folder creation.\n         The Drafts folder was not opened yet in current Tb session.\n         => Problem didn't occur.\n(Case-2) Drafts folder was manually created.\n         The Drafts folder was never opened after folder creation.\n         => Problem occurred.             \nProblem looks for me;\nIf Junk folder, Sent foldr, Drafts folder is not explicitly opened after folder creation, first Junk move, first Sent mail copy, first Draft save, silently fails, without requesting \"uid copy/uid store +flag \\Deleted)\"(Junk) or \"append\"(Sent, Drafts). \n\nI guess that \"explicit folder open\" is not requested by Junk move/Sent mail copy/Draft save. It may cause \"not-itialized .msf contentent\" and/or \"not-inialized folder cache content\", if folder is just created.\ne.g. Total mail count of folder is not ZERO or is negative value, Previous UIDVALIDITY is unknown, Next-UID or highest-UID is unknown, ...."}, {"text": "*** Bug 703865 has been marked as a duplicate of this bug. ***", "bug_id": 638500, "creator": "euryalus.0@gmail.com", "raw_text": "", "attachment_id": null, "creation_time": "2011-12-11T11:48:53Z", "tags": [], "id": 5907075, "count": 3, "time": "2011-12-11T11:48:53Z", "author": "euryalus.0@gmail.com", "is_private": false}, {"text": "It may be delay in \"special folder attribute\" setting after folder creation.\n\"Whether atribute of special folder is assigned or not\" is reflected on folder icon and context menu(delete/rename is not shown if special folder, Empty Trash is shown only when used as trash folder, Empty Junk is shown only when used as junk folder).", "raw_text": "It may be delay in \"special folder attribute\" setting after folder creation.\n\"Whether atribute of special folder is assigned or not\" is reflected on folder icon and context menu(delete/rename is not shown if special folder, Empty Trash is shown only when used as trash folder, Empty Junk is shown only when used as junk folder).", "creator": "m-wada@usa.com", "time": "2012-02-16T01:36:56Z", "count": 4, "bug_id": 638500, "tags": [], "creation_time": "2012-02-16T01:36:56Z", "attachment_id": null, "id": 6066021, "is_private": false, "author": "m-wada@usa.com"}]}}, "comments": {}}