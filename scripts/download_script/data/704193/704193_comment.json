{"comments": {}, "bugs": {"704193": {"comments": [{"creation_time": "2011-11-21T17:49:33Z", "is_private": false, "creator": "mdmiller1@gmail.com", "tags": [], "attachment_id": null, "id": 5862821, "bug_id": 704193, "author": "mdmiller1@gmail.com", "count": 0, "text": "User Agent: Mozilla/5.0 (Windows NT 6.0; rv:8.0) Gecko/20100101 Firefox/8.0\nBuild ID: 20111104165243\n\nSteps to reproduce:\n\nin IMAP, created template.\ncreate draft-A to individual from template and save/exit\ncreate draft-B to another individual from template and save/exit\nedit draft B and save/exit.\n\n\nActual results:\n\ndraft-A assumes changes made in draft-B, including send-to of draft-B.\nsummary of drafts window does not reflect this change.\nif both draft-A and draft-B are sent, both email go to individual in draft-B and both email drafts include changes made in draft-B.  Draft-A disappears.\n\n\nExpected results:\n\ndraft-A should not have been changed blind, only draft-B should change when editing and saving draft-B.", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.0; rv:8.0) Gecko/20100101 Firefox/8.0\nBuild ID: 20111104165243\n\nSteps to reproduce:\n\nin IMAP, created template.\ncreate draft-A to individual from template and save/exit\ncreate draft-B to another individual from template and save/exit\nedit draft B and save/exit.\n\n\nActual results:\n\ndraft-A assumes changes made in draft-B, including send-to of draft-B.\nsummary of drafts window does not reflect this change.\nif both draft-A and draft-B are sent, both email go to individual in draft-B and both email drafts include changes made in draft-B.  Draft-A disappears.\n\n\nExpected results:\n\ndraft-A should not have been changed blind, only draft-B should change when editing and saving draft-B.", "time": "2011-11-21T17:49:33Z"}, {"attachment_id": null, "raw_text": "(In reply to mdmiller1 from comment #0)\nI followed the steps you mentioned but didn't get changes done to draft-B copied to draft-A. I edited draft-B and draft-A stayed the same.\n\nUser Agent: Mozilla/5.0 (X11; Linux i686; rv:8.0) Gecko/20111105 Thunderbird/8.0\nBuild ID: 20111105021619", "time": "2011-11-22T18:55:52Z", "tags": [], "author": "wraithlike@gmail.com", "text": "(In reply to mdmiller1 from comment #0)\nI followed the steps you mentioned but didn't get changes done to draft-B copied to draft-A. I edited draft-B and draft-A stayed the same.\n\nUser Agent: Mozilla/5.0 (X11; Linux i686; rv:8.0) Gecko/20111105 Thunderbird/8.0\nBuild ID: 20111105021619", "count": 1, "creator": "wraithlike@gmail.com", "is_private": false, "creation_time": "2011-11-22T18:55:52Z", "bug_id": 704193, "id": 5865980}, {"tags": [], "raw_text": "The drafts need to be created from a template.  This does not happen with simple drafts created as originals, only when the draft was created from a template.", "attachment_id": null, "time": "2011-11-22T19:08:02Z", "creation_time": "2011-11-22T19:08:02Z", "is_private": false, "bug_id": 704193, "id": 5866024, "text": "The drafts need to be created from a template.  This does not happen with simple drafts created as originals, only when the draft was created from a template.", "count": 2, "author": "mdmiller1@gmail.com", "creator": "mdmiller1@gmail.com"}, {"attachment_id": null, "raw_text": "(In reply to mdmiller1 from comment #2)\n> The drafts need to be created from a template.  This does not happen with\n> simple drafts created as originals, only when the draft was created from a\n> template.\n\nYes, I created a template and then created drafts from it.", "time": "2011-11-23T06:48:05Z", "tags": [], "author": "wraithlike@gmail.com", "text": "(In reply to mdmiller1 from comment #2)\n> The drafts need to be created from a template.  This does not happen with\n> simple drafts created as originals, only when the draft was created from a\n> template.\n\nYes, I created a template and then created drafts from it.", "count": 3, "creator": "wraithlike@gmail.com", "creation_time": "2011-11-23T06:48:05Z", "is_private": false, "id": 5867806, "bug_id": 704193}, {"tags": [], "time": "2011-12-08T15:06:07Z", "raw_text": "mdmiller1 do you have extensions installed ?", "attachment_id": null, "id": 5900518, "bug_id": 704193, "creation_time": "2011-12-08T15:06:07Z", "is_private": false, "creator": "ludovic@hirlimann.net", "text": "mdmiller1 do you have extensions installed ?", "count": 4, "author": "ludovic@hirlimann.net"}, {"creator": "mdmiller1@gmail.com", "author": "mdmiller1@gmail.com", "count": 5, "text": "I have the following extensions enabled:\nlightning 1.0\nquicknote 0.6.0.10\nfolder pane view switcher 1.7\n\nI disabled all extensions, restarted Thunderbird and the problem as I stated above is the same and unchanged; disabling all extensions has no effect on the problem.", "id": 5900550, "bug_id": 704193, "creation_time": "2011-12-08T15:20:15Z", "is_private": false, "time": "2011-12-08T15:20:15Z", "attachment_id": null, "raw_text": "I have the following extensions enabled:\nlightning 1.0\nquicknote 0.6.0.10\nfolder pane view switcher 1.7\n\nI disabled all extensions, restarted Thunderbird and the problem as I stated above is the same and unchanged; disabling all extensions has no effect on the problem.", "tags": []}, {"creation_time": "2012-01-23T13:17:16Z", "is_private": false, "bug_id": 704193, "id": 6000348, "author": "ludovic@hirlimann.net", "text": "mdmiller1 (sorry for the delay , I have a huge number of bugmail). \n\nIs your draft folder an imap folder ? if so can we get an imap log reproducing the issue (see https://wiki.mozilla.org/MailNews:Logging for getting an imap log) ?", "count": 6, "creator": "ludovic@hirlimann.net", "tags": [], "attachment_id": null, "raw_text": "mdmiller1 (sorry for the delay , I have a huge number of bugmail). \n\nIs your draft folder an imap folder ? if so can we get an imap log reproducing the issue (see https://wiki.mozilla.org/MailNews:Logging for getting an imap log) ?", "time": "2012-01-23T13:17:16Z"}, {"is_private": false, "creation_time": "2012-01-23T16:02:17Z", "bug_id": 704193, "id": 6000771, "author": "mdmiller1@gmail.com", "count": 7, "text": "Created attachment 590719\nCreating email from template in Imap folder\n\ndraft folder is IMAP. \nIMAP log file attached;file events as follows:\n1. create template subject \"test template\" save to Imap Template folder\n2. create email from template to testA@gmail.com and save to Imap Drafts folder\n3. create email from template to testB@gmail.com and save to Imap Drafts folder\n4. IMAP Drafts folder contains two draft emails, both are to testB@gmail.com\nI didn't clean all of the crap out of the log file, hope you can find something that helps.  Many thanks ! !", "creator": "mdmiller1@gmail.com", "tags": [], "attachment_id": 590719, "raw_text": "draft folder is IMAP. \nIMAP log file attached;file events as follows:\n1. create template subject \"test template\" save to Imap Template folder\n2. create email from template to testA@gmail.com and save to Imap Drafts folder\n3. create email from template to testB@gmail.com and save to Imap Drafts folder\n4. IMAP Drafts folder contains two draft emails, both are to testB@gmail.com\nI didn't clean all of the crap out of the log file, hope you can find something that helps.  Many thanks ! !", "time": "2012-01-23T16:02:17Z"}, {"attachment_id": null, "tags": [], "creator": "m-wada@usa.com", "is_private": false, "creation_time": "2012-01-24T03:39:52Z", "raw_text": "Main cause is \"Tb saves same Message-id: when Save As Draft, Save As Template\".\n\n(1) Save As Template\n(1-1) Compose a mail, Save As Template\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: a1@a.a.a)\n(1-2) At same composition window, change To:, second Save As Template\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: a2@a.a.a)\n(1-3) Edit As New of Subject: Template-1, change To:, Save As Template\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: b1@b.b.b\n(1-4) Edit As New of Subject: Template-1, without change Subject, Save As Template\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: c1@c.c.c\n(2) Compose mail from Template-1, To: a1@a.a.a, Save As Draft\n(2-1) Change To:, Save As Draft\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: d1@d.d.d\n(2-2) Change To:, Save As Draft again\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: d2@d.d.d\n(2-3) Draft at step (2-1) is deleted.\n(3) Compose mail mail from Template-1, To: a2@a.a.a, Save As Draft\n(3-1) Change To:, Save As Draft\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: e1@e.e.e\n(3-2) Change To:, Save As Draft again\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: e2@e.e.e\n(3-3) Draft at step (3-1) is deleted.\n\nDue to same Message-Id:, following may occur.\n\n(A) Problem in \"delete old draft\"\nWhen delete of old version of draft mail, search of old draft is done by \"search for Message-Id: 4F1E0C94.7030905@x.x.x\" using SEARCH command of IMAP if UIDPLUS is not supported by IMAP server.\nSo, which draft mail is deleted depends on \"which mail server returns\", and if server returns multiple mails of same Message-Id:, all is up to Tb.\n\nIf Subject: is different, Tb is perhaps not confused. However, if Subject: is same too in addition to same Message-ID:, Tb may deletes oldest one. It may depend on order of returned mail from IMAP server. \n\n(B) \"Problem in \"Reply with Template\" (reporte to bug 533229)\nFilter rule of \"If Subject contains ttt, Reply with template named Template-1(Subject:Template-1) in Templates folder under Local Folders\" is saved in msgFilterRules.dat like next.\n> name=\"reply-with-template-1\"\n> action=\"Reply\"\n> actionValue=\"mailbox://nobody@Local%20Folders/Templates?messageId=4F1E0C94.7030905@x.x.x&subject=Template-1\"\n> condition=\"AND (subject,contains,ttt)\"\nIf multiple template mails have same Messae-ID: and same Subject:, \"which template is used upon Reply with Template\" is unpredictable. All is up to Tb.\n\n(In reply to mdmiller1 from comment #7)\n> Created attachment 590719\n> Creating email from template in Imap folder\n\nSEARCH command is used, and your server returns two UIDs in assending order as expected.\n> 18 uid SEARCH UNDELETED HEADER Message-ID 4F1D8053.8030401@potterfactory.com\n> * SEARCH 112 113\n> 18 OK Search completed.\n\n> 4. IMAP Drafts folder contains two draft emails, both are to testB@gmail.com\n\nTb simply uploaded(APPEND command) two different draft mail data(although same Message-Id:, same Subject:), and Tb didn't request \"store Flag \\Deleted\" to any draft mail.\n> 6 append \"Drafts\" (\\Draft) {737+}\n> Message-ID: <4F1D8053.8030401@potterfactory.com>\n> To: testA@gmail.com\n> Subject: test template\n>\n> 16 append \"Drafts\" (\\Draft) {737+}\n> Message-ID: <4F1D8053.8030401@potterfactory.com>\n> To: testB@gmail.com\n> Subject: test template\n\nSo, phenomenon looks like next.\n- Your server perhaps keeps single copy of mail for a Messaeg-Id:+Subject: in\n  mail DB, and IMAP of your server returns it for two different UIDs of same\n  Messaeg-Id:+Subject:.\n- SEARCH is needed upon delete of old draft. Because Tb actually issued SEARCH,\n  Tb may have stopped to delete because To: is not testA@gmail.com when Tb tried \n  to delete first draft of \"To: testA@gmail.com\".\n\nAnyway, root case is \"Same Message-ID: which is generated by Tb\". Message-ID: should be unique and is requested \"universally unique\". Even though \"absolutely unique always on the Earth\" is currently impossible, \"best effort\" is requested to mailer.\nTb should generate unique Message-ID: upon each Template save and Draft save, if Tb needs to pass template/draft mail data outside of Tb.\nIf Tb continues to generate non-unique Message-Id:, Tb must not pass template/draft mail data to outside of Tb. Problem in \"reply with template of Tb\" is simply a divine justice.", "time": "2012-01-24T03:39:52Z", "author": "m-wada@usa.com", "count": 8, "text": "Main cause is \"Tb saves same Message-id: when Save As Draft, Save As Template\".\n\n(1) Save As Template\n(1-1) Compose a mail, Save As Template\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: a1@a.a.a)\n(1-2) At same composition window, change To:, second Save As Template\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: a2@a.a.a)\n(1-3) Edit As New of Subject: Template-1, change To:, Save As Template\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: b1@b.b.b\n(1-4) Edit As New of Subject: Template-1, without change Subject, Save As Template\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: c1@c.c.c\n(2) Compose mail from Template-1, To: a1@a.a.a, Save As Draft\n(2-1) Change To:, Save As Draft\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: d1@d.d.d\n(2-2) Change To:, Save As Draft again\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: d2@d.d.d\n(2-3) Draft at step (2-1) is deleted.\n(3) Compose mail mail from Template-1, To: a2@a.a.a, Save As Draft\n(3-1) Change To:, Save As Draft\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: e1@e.e.e\n(3-2) Change To:, Save As Draft again\n    Message-ID: <4F1E0C94.7030905@x.x.x>, Subject: Template-1, To: e2@e.e.e\n(3-3) Draft at step (3-1) is deleted.\n\nDue to same Message-Id:, following may occur.\n\n(A) Problem in \"delete old draft\"\nWhen delete of old version of draft mail, search of old draft is done by \"search for Message-Id: 4F1E0C94.7030905@x.x.x\" using SEARCH command of IMAP if UIDPLUS is not supported by IMAP server.\nSo, which draft mail is deleted depends on \"which mail server returns\", and if server returns multiple mails of same Message-Id:, all is up to Tb.\n\nIf Subject: is different, Tb is perhaps not confused. However, if Subject: is same too in addition to same Message-ID:, Tb may deletes oldest one. It may depend on order of returned mail from IMAP server. \n\n(B) \"Problem in \"Reply with Template\" (reporte to bug 533229)\nFilter rule of \"If Subject contains ttt, Reply with template named Template-1(Subject:Template-1) in Templates folder under Local Folders\" is saved in msgFilterRules.dat like next.\n> name=\"reply-with-template-1\"\n> action=\"Reply\"\n> actionValue=\"mailbox://nobody@Local%20Folders/Templates?messageId=4F1E0C94.7030905@x.x.x&subject=Template-1\"\n> condition=\"AND (subject,contains,ttt)\"\nIf multiple template mails have same Messae-ID: and same Subject:, \"which template is used upon Reply with Template\" is unpredictable. All is up to Tb.\n\n(In reply to mdmiller1 from comment #7)\n> Created attachment 590719\n> Creating email from template in Imap folder\n\nSEARCH command is used, and your server returns two UIDs in assending order as expected.\n> 18 uid SEARCH UNDELETED HEADER Message-ID 4F1D8053.8030401@potterfactory.com\n> * SEARCH 112 113\n> 18 OK Search completed.\n\n> 4. IMAP Drafts folder contains two draft emails, both are to testB@gmail.com\n\nTb simply uploaded(APPEND command) two different draft mail data(although same Message-Id:, same Subject:), and Tb didn't request \"store Flag \\Deleted\" to any draft mail.\n> 6 append \"Drafts\" (\\Draft) {737+}\n> Message-ID: <4F1D8053.8030401@potterfactory.com>\n> To: testA@gmail.com\n> Subject: test template\n>\n> 16 append \"Drafts\" (\\Draft) {737+}\n> Message-ID: <4F1D8053.8030401@potterfactory.com>\n> To: testB@gmail.com\n> Subject: test template\n\nSo, phenomenon looks like next.\n- Your server perhaps keeps single copy of mail for a Messaeg-Id:+Subject: in\n  mail DB, and IMAP of your server returns it for two different UIDs of same\n  Messaeg-Id:+Subject:.\n- SEARCH is needed upon delete of old draft. Because Tb actually issued SEARCH,\n  Tb may have stopped to delete because To: is not testA@gmail.com when Tb tried \n  to delete first draft of \"To: testA@gmail.com\".\n\nAnyway, root case is \"Same Message-ID: which is generated by Tb\". Message-ID: should be unique and is requested \"universally unique\". Even though \"absolutely unique always on the Earth\" is currently impossible, \"best effort\" is requested to mailer.\nTb should generate unique Message-ID: upon each Template save and Draft save, if Tb needs to pass template/draft mail data outside of Tb.\nIf Tb continues to generate non-unique Message-Id:, Tb must not pass template/draft mail data to outside of Tb. Problem in \"reply with template of Tb\" is simply a divine justice.", "bug_id": 704193, "id": 6003140}, {"attachment_id": null, "tags": [], "creator": "m-wada@usa.com", "is_private": false, "creation_time": "2012-01-24T04:02:19Z", "time": "2012-01-24T04:02:19Z", "raw_text": "> 4. IMAP Drafts folder contains two draft emails, both are to testB@gmail.com\n\nServer's behaviour was correct. In attached IMAP log, \"To: testA@gmail.com\" is always returned to any \"uid 112 fetch\" or \"uid 112:N fetch\", and \"To: testB@gmail.com\" is returned for UID=113.\n\nAt where \"both are to testB@gmail.com\" is seen?\nAny of thread pane, message header pane, View/Message Source?\nWhat is UID of mails? (show \"Order Received\" column. value is UID if IMAP).\nIs Drafts offline-use=On folder? (Folder Properties/Synchronization)\nCan you see it even after Folder Properties/Repair Folder of Drafts?", "text": "> 4. IMAP Drafts folder contains two draft emails, both are to testB@gmail.com\n\nServer's behaviour was correct. In attached IMAP log, \"To: testA@gmail.com\" is always returned to any \"uid 112 fetch\" or \"uid 112:N fetch\", and \"To: testB@gmail.com\" is returned for UID=113.\n\nAt where \"both are to testB@gmail.com\" is seen?\nAny of thread pane, message header pane, View/Message Source?\nWhat is UID of mails? (show \"Order Received\" column. value is UID if IMAP).\nIs Drafts offline-use=On folder? (Folder Properties/Synchronization)\nCan you see it even after Folder Properties/Repair Folder of Drafts?", "count": 9, "author": "m-wada@usa.com", "bug_id": 704193, "id": 6003163}, {"is_private": false, "creation_time": "2012-01-24T05:37:05Z", "id": 6003268, "bug_id": 704193, "author": "mdmiller1@gmail.com", "count": 10, "text": "Further Description:\nDrafts folder, all-threads view pane shows-\nSubject      || Recipient || Order Received\nTest template     testB@gmail.com   112\nTest template     testB@gmail.com   113\n\nEdit Action:\nBoth are same and Send-to is testB@gmail.com on both draft messages in edit-mode.\n\nViewing:\nView message source of both drafts exactly the same, both are to testB@gmail.com\nView message source both have exactly same time stamp Date: Mon, 23 Jan 2012 09:45:22 \u20130600\n\nProperties status:\nDrafts folder properties are set : offline-use=On\n\nRepair Action taken (Properties \u2013 Repair Folder): \nNow when message is open for edit, 112 is send-to: testA@gmail.com and 113 is send-to: testB@gmail.com, BUT thread-view shows the recipient on each still to testB@gmail.com. However Message-header pane is correct, 112 send-to: testA@gmail.com and 113 send-to: testB@gmail.com\nThe Repair-folder appears to fix the message in message-edit-mode, and fix the message-header view, but does not fix the thread view.", "creator": "mdmiller1@gmail.com", "tags": [], "attachment_id": null, "raw_text": "Further Description:\nDrafts folder, all-threads view pane shows-\nSubject      || Recipient || Order Received\nTest template     testB@gmail.com   112\nTest template     testB@gmail.com   113\n\nEdit Action:\nBoth are same and Send-to is testB@gmail.com on both draft messages in edit-mode.\n\nViewing:\nView message source of both drafts exactly the same, both are to testB@gmail.com\nView message source both have exactly same time stamp Date: Mon, 23 Jan 2012 09:45:22 \u20130600\n\nProperties status:\nDrafts folder properties are set : offline-use=On\n\nRepair Action taken (Properties \u2013 Repair Folder): \nNow when message is open for edit, 112 is send-to: testA@gmail.com and 113 is send-to: testB@gmail.com, BUT thread-view shows the recipient on each still to testB@gmail.com. However Message-header pane is correct, 112 send-to: testA@gmail.com and 113 send-to: testB@gmail.com\nThe Repair-folder appears to fix the message in message-edit-mode, and fix the message-header view, but does not fix the thread view.", "time": "2012-01-24T05:37:05Z"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2012-01-24T07:40:47Z", "creator": "m-wada@usa.com", "raw_text": "As seen in IMAP log attached by you, your server correctly returns UID=112 & UID=113 for two draft mails, and your IMAP server correctly returns \"To: testA@gmail.com\" for UID=112 and \"To: testB@gmail.com\" for UID=113.\nTb is perhaps confused by \"Same Message-ID: and same Subject: for different UID\" which was generated by Tb himself. This is another divine justice :-)\n\nTb may not be confused if Subject: is different even if Message-ID: is same, even when UIDPLUS is not supported.\nIs your problem observed also when different subject is set for mail of \"To: testA\" and \"To: testB\"?\n\nOther concerns.\n(a) Your server supports MULTIAPPEND but not UIDPLUS. Tb may has problem in this case.\n> * CAPABILITY IMAP4rev1 SASL-IR SORT THREAD=REFERENCES MULTIAPPEND\n>  UNSELECT LITERAL+ IDLE CHILDREN NAMESPACE LOGIN-REFERRALS STARTTLS AUTH=PLAIN\n(b) Funny \"CopyNextStreamMessage: Copying 1 of 0\" is seen in log.\n> 6 append \"Drafts\" (\\Draft) {737+}\n> To: testA@gmail.com\n> 6 OK Append completed.\n> 7 noop, 7 OK NOOP completed.\n> 8 uid SEARCH UNDELETED HEADER Message-ID 4F1D8053.8030401@potterfactory.com\n> * SEARCH 112, 8 OK Search completed.\n> Trying to select Drafts. Explicit foler open of Drafts?\n> => CopyNextStreamMessage: Copying 1 of 0\n> 9 noop, 9 OK NOOP completed.\n> 10 UID fetch 1:* (FLAGS), * 1 FETCH (FLAGS (\\Draft) UID 112), 10 OK Fetch completed.\n> 11 UID fetch 112 (UID RFC822.SIZE FLAGS BODY.PEEK[HEADER.FIELDS (From To ...\n\nWorkaround:\n  Set different Message-ID: to template mails in Templates folder.\nA way to change Message-ID: of mail data.\n1. Copy all template mails to local mail folder(call FolderX).\n2. Edit file named FolderX(not FolderX.msf) by text editor.\n   Change Message-ID: header of each template mail.\n   e.g. Insert unique string like IMAPServerName.Template.SeQNumber.\n3. Delete FolderX.msf, restart Tb, Delete all mails in Templates folder,\n   copy or upload template mails to Templates folder.\n4. Never update template mail using Save As Template or by copy of draft.\n   If update is needed, Edit As New, Save As Template, then delete old version,\n   or Compose, Save As Template and never exucute Save As multiple times at the\n   composed window. (Each composition window, new Message-ID is generated).", "time": "2012-01-24T07:40:47Z", "id": 6003383, "bug_id": 704193, "text": "As seen in IMAP log attached by you, your server correctly returns UID=112 & UID=113 for two draft mails, and your IMAP server correctly returns \"To: testA@gmail.com\" for UID=112 and \"To: testB@gmail.com\" for UID=113.\nTb is perhaps confused by \"Same Message-ID: and same Subject: for different UID\" which was generated by Tb himself. This is another divine justice :-)\n\nTb may not be confused if Subject: is different even if Message-ID: is same, even when UIDPLUS is not supported.\nIs your problem observed also when different subject is set for mail of \"To: testA\" and \"To: testB\"?\n\nOther concerns.\n(a) Your server supports MULTIAPPEND but not UIDPLUS. Tb may has problem in this case.\n> * CAPABILITY IMAP4rev1 SASL-IR SORT THREAD=REFERENCES MULTIAPPEND\n>  UNSELECT LITERAL+ IDLE CHILDREN NAMESPACE LOGIN-REFERRALS STARTTLS AUTH=PLAIN\n(b) Funny \"CopyNextStreamMessage: Copying 1 of 0\" is seen in log.\n> 6 append \"Drafts\" (\\Draft) {737+}\n> To: testA@gmail.com\n> 6 OK Append completed.\n> 7 noop, 7 OK NOOP completed.\n> 8 uid SEARCH UNDELETED HEADER Message-ID 4F1D8053.8030401@potterfactory.com\n> * SEARCH 112, 8 OK Search completed.\n> Trying to select Drafts. Explicit foler open of Drafts?\n> => CopyNextStreamMessage: Copying 1 of 0\n> 9 noop, 9 OK NOOP completed.\n> 10 UID fetch 1:* (FLAGS), * 1 FETCH (FLAGS (\\Draft) UID 112), 10 OK Fetch completed.\n> 11 UID fetch 112 (UID RFC822.SIZE FLAGS BODY.PEEK[HEADER.FIELDS (From To ...\n\nWorkaround:\n  Set different Message-ID: to template mails in Templates folder.\nA way to change Message-ID: of mail data.\n1. Copy all template mails to local mail folder(call FolderX).\n2. Edit file named FolderX(not FolderX.msf) by text editor.\n   Change Message-ID: header of each template mail.\n   e.g. Insert unique string like IMAPServerName.Template.SeQNumber.\n3. Delete FolderX.msf, restart Tb, Delete all mails in Templates folder,\n   copy or upload template mails to Templates folder.\n4. Never update template mail using Save As Template or by copy of draft.\n   If update is needed, Edit As New, Save As Template, then delete old version,\n   or Compose, Save As Template and never exucute Save As multiple times at the\n   composed window. (Each composition window, new Message-ID is generated).", "count": 11, "author": "m-wada@usa.com"}, {"creation_time": "2012-01-24T10:27:22Z", "is_private": false, "creator": "m-wada@usa.com", "tags": [], "attachment_id": null, "bug_id": 704193, "id": 6003658, "author": "m-wada@usa.com", "text": "FYI.\nI've opened bug 720646 for issue of comment #8(Save As Template/Draft generate mail of same Message-ID:).", "count": 12, "raw_text": "FYI.\nI've opened bug 720646 for issue of comment #8(Save As Template/Draft generate mail of same Message-ID:).", "time": "2012-01-24T10:27:22Z"}, {"tags": [], "time": "2012-01-24T14:22:11Z", "attachment_id": null, "raw_text": "Summary: changing the subjects does not impact the behavior.\nTEST DRAFT FOR DIFFERENT SUBJECT:\nCreated two saved Drafts from templates with different subjects\nTest template A  testA@gmail.com\nTest template B  testB@gmail.com\n\nThread view incorrectly shows draft list as:\nTest template B testB@gmail.com  114\nTest template B testB@gmail.com  115\n\nView source shows both exactly the same including time stamp.\nEdit mode - both the same subject / recipient\nMessage pane - both the same subject / recipient\n\nRun Folder Repair:\nProperties repair-folder on Draft folder does not repair \"recipient\" in thread view which shows:\nsubject      ||      recipient    ||  UID\nTest template A  testB@gmail.com  114\nTest template B  testB@gmail.com  115", "bug_id": 704193, "id": 6004042, "creation_time": "2012-01-24T14:22:11Z", "is_private": false, "creator": "mdmiller1@gmail.com", "author": "mdmiller1@gmail.com", "text": "Summary: changing the subjects does not impact the behavior.\nTEST DRAFT FOR DIFFERENT SUBJECT:\nCreated two saved Drafts from templates with different subjects\nTest template A  testA@gmail.com\nTest template B  testB@gmail.com\n\nThread view incorrectly shows draft list as:\nTest template B testB@gmail.com  114\nTest template B testB@gmail.com  115\n\nView source shows both exactly the same including time stamp.\nEdit mode - both the same subject / recipient\nMessage pane - both the same subject / recipient\n\nRun Folder Repair:\nProperties repair-folder on Draft folder does not repair \"recipient\" in thread view which shows:\nsubject      ||      recipient    ||  UID\nTest template A  testB@gmail.com  114\nTest template B  testB@gmail.com  115", "count": 13}]}}}