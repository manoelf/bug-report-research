{"bugs": {"676745": {"comments": [{"bug_id": 676745, "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:2.0.1) Gecko/20110504 Firefox/4.0.1\nBuild ID: 20110504035914\n\nSteps to reproduce:\n\nI wrote a new email message, including a .signature, then switched to a different From: address.\n\n\nActual results:\n\nThe .signature text I had just finished composing was lost.\n\n\nExpected results:\n\nA .signature which was edited, rather than just inserted from a file by Thunderbird, should not be discarded when switching to a different From: address.", "tags": [], "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:2.0.1) Gecko/20110504 Firefox/4.0.1\nBuild ID: 20110504035914\n\nSteps to reproduce:\n\nI wrote a new email message, including a .signature, then switched to a different From: address.\n\n\nActual results:\n\nThe .signature text I had just finished composing was lost.\n\n\nExpected results:\n\nA .signature which was edited, rather than just inserted from a file by Thunderbird, should not be discarded when switching to a different From: address.", "attachment_id": null, "author": "era+mozilla@iki.fi", "creator": "era+mozilla@iki.fi", "creation_time": "2011-08-05T03:46:40Z", "time": "2011-08-05T03:46:40Z", "is_private": false, "id": 5635073, "count": 0}, {"is_private": false, "count": 1, "id": 5635077, "creator": "era+mozilla@iki.fi", "time": "2011-08-05T03:55:17Z", "creation_time": "2011-08-05T03:55:17Z", "author": "era+mozilla@iki.fi", "attachment_id": null, "raw_text": "For context, here are some related bugs, mainly of tangential interest.\n\nBug 75497 - Old signature isn't overwritten by new signature on switching account Bug 566825 - Multiple signatures when switching between accounts (signature of previously selected account is not removed) in plaintext editor\nBug 218346 - Switch from an identity set to have signature above the quote, or with suppress_signature_separator set, results in multiple sig's", "bug_id": 676745, "text": "For context, here are some related bugs, mainly of tangential interest.\n\nBug 75497 - Old signature isn't overwritten by new signature on switching account Bug 566825 - Multiple signatures when switching between accounts (signature of previously selected account is not removed) in plaintext editor\nBug 218346 - Switch from an identity set to have signature above the quote, or with suppress_signature_separator set, results in multiple sig's", "tags": []}, {"tags": [], "text": "I would see this as another manifestation of bug 218346, the algorithm to identify an \"old\" signature for removal is too simple and just looks for the signature separator. Per suggestion in bug 58406 comment #198:\n\n> On HTML composition this is fine, as we can detect the start of the signature\n> via a class name on an html node. With plain text composition, we were\n> detecting the \"-- \" as the start of the signature. [...] the potential solution\n> would be to look for the whole signature and remove that.\n\nIf implemented in bug 218346, this would also take care of the issue described here as a modified signature would be detected as such and not removed.", "bug_id": 676745, "attachment_id": null, "raw_text": "I would see this as another manifestation of bug 218346, the algorithm to identify an \"old\" signature for removal is too simple and just looks for the signature separator. Per suggestion in bug 58406 comment #198:\n\n> On HTML composition this is fine, as we can detect the start of the signature\n> via a class name on an html node. With plain text composition, we were\n> detecting the \"-- \" as the start of the signature. [...] the potential solution\n> would be to look for the whole signature and remove that.\n\nIf implemented in bug 218346, this would also take care of the issue described here as a modified signature would be detected as such and not removed.", "creator": "rsx11m.pub@gmail.com", "time": "2011-08-07T15:57:06Z", "creation_time": "2011-08-07T15:57:06Z", "author": "rsx11m.pub@gmail.com", "is_private": false, "count": 2, "id": 5638278}]}}, "comments": {}}