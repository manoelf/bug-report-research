{"comments": {}, "bugs": {"649138": {"comments": [{"raw_text": "data:text/html,<!doctype html>\n<body contenteditable=true>\n<table></table>\n<script>\nvar test = document.querySelector(\"table\");\ntest.innerHTML = \"<b>foo</b>\";\ngetSelection().collapse(test, 0);\ngetSelection().extend(test, 1);\ndocument.execCommand(\"removeformat\", false, \"\");\n</script>\n\nIn Chrome 12 dev and Opera 11: \"foo\" is unbolded.\n\nIn Firefox 4.0 (also tested in April 11 nightly): \"foo\" is bolded.\n\n\nAny of the following makes Firefox behave as expected:\n\n* Changing the <table> to a <p>\n* Doing getSelection().selectAllChildren(test) instead of collapse/extend\n* Stepping through the code in Firebug instead of running it directly", "creator": "ayg@aryeh.name", "tags": [], "creation_time": "2011-04-11T21:45:03Z", "attachment_id": null, "text": "data:text/html,<!doctype html>\n<body contenteditable=true>\n<table></table>\n<script>\nvar test = document.querySelector(\"table\");\ntest.innerHTML = \"<b>foo</b>\";\ngetSelection().collapse(test, 0);\ngetSelection().extend(test, 1);\ndocument.execCommand(\"removeformat\", false, \"\");\n</script>\n\nIn Chrome 12 dev and Opera 11: \"foo\" is unbolded.\n\nIn Firefox 4.0 (also tested in April 11 nightly): \"foo\" is bolded.\n\n\nAny of the following makes Firefox behave as expected:\n\n* Changing the <table> to a <p>\n* Doing getSelection().selectAllChildren(test) instead of collapse/extend\n* Stepping through the code in Firebug instead of running it directly", "bug_id": 649138, "author": "ayg@aryeh.name", "time": "2011-04-11T21:45:03Z", "count": 0, "is_private": false, "id": 5401735}, {"count": 1, "time": "2011-08-25T11:05:21Z", "creator": "fabien@cazenave.cc", "raw_text": "FTR, document.queryCommandEnabled(\"removeformat\") now returns `false' for this case in Nightly.", "text": "FTR, document.queryCommandEnabled(\"removeformat\") now returns `false' for this case in Nightly.", "is_private": false, "author": "fabien@cazenave.cc", "id": 5677365, "attachment_id": null, "creation_time": "2011-08-25T11:05:21Z", "tags": [], "bug_id": 649138}, {"id": 5678033, "is_private": false, "time": "2011-08-25T16:49:21Z", "author": "fabien@cazenave.cc", "count": 2, "bug_id": 649138, "text": "Yet another range promotion issue, this time in RemoveInlinePropertyImpl().\n\nBoth `selectAllChildren' and `collapse/extend' select the <table> element, but:\n \u2022 when using .selectAllChildren(test), PromoteInlineRange() extends the selection to <body>, and the <b> tag is successfully removed;\n \u2022 when using .collapse(test)/.extend(test), IsEditable() returns `false' for the <table> element, and the selection isn\u2019t extended by PromoteInlineRange().\n\nThe problem is, with .extend() the selection anchor nodes behave as if they didn\u2019t have any primary frame (node->GetPrimaryFrame() returns null), which is the reason why IsEditable() returns false.\nLooking as nsTypedSelection::SelectAllChildren() and Extend()\u2026\n\nVolkmar, any idea? :-)", "tags": [], "creation_time": "2011-08-25T16:49:21Z", "attachment_id": null, "raw_text": "Yet another range promotion issue, this time in RemoveInlinePropertyImpl().\n\nBoth `selectAllChildren' and `collapse/extend' select the <table> element, but:\n \u2022 when using .selectAllChildren(test), PromoteInlineRange() extends the selection to <body>, and the <b> tag is successfully removed;\n \u2022 when using .collapse(test)/.extend(test), IsEditable() returns `false' for the <table> element, and the selection isn\u2019t extended by PromoteInlineRange().\n\nThe problem is, with .extend() the selection anchor nodes behave as if they didn\u2019t have any primary frame (node->GetPrimaryFrame() returns null), which is the reason why IsEditable() returns false.\nLooking as nsTypedSelection::SelectAllChildren() and Extend()\u2026\n\nVolkmar, any idea? :-)", "creator": "fabien@cazenave.cc"}, {"time": "2011-08-25T16:56:27Z", "count": 3, "text": "Created attachment 555764\ntestcase", "raw_text": "", "creator": "fabien@cazenave.cc", "id": 5678060, "is_private": false, "author": "fabien@cazenave.cc", "bug_id": 649138, "tags": [], "creation_time": "2011-08-25T16:56:27Z", "attachment_id": 555764}, {"creator": "mounir@lamouri.fr", "raw_text": "This seems fun actually... Aryeh, your test is actually not passing with Chrome 15. I didn't try other versions of Chrome though.\nBut, to make things nice, the testcase Fabien attached is actually describing the behavior you mentioned: working on Chrome/Opera but not on Firefox.\n\nDo we still want the original test case to pass?", "attachment_id": null, "tags": [], "creation_time": "2011-08-25T17:09:34Z", "text": "This seems fun actually... Aryeh, your test is actually not passing with Chrome 15. I didn't try other versions of Chrome though.\nBut, to make things nice, the testcase Fabien attached is actually describing the behavior you mentioned: working on Chrome/Opera but not on Firefox.\n\nDo we still want the original test case to pass?", "bug_id": 649138, "count": 4, "time": "2011-08-25T17:09:34Z", "author": "mounir@lamouri.fr", "is_private": false, "id": 5678096}, {"creator": "ehsan.akhgari@gmail.com", "raw_text": "Aryeh: ping?", "text": "Aryeh: ping?", "count": 5, "time": "2011-09-07T22:21:28Z", "attachment_id": null, "creation_time": "2011-09-07T22:21:28Z", "tags": [], "bug_id": 649138, "is_private": false, "author": "ehsan.akhgari@gmail.com", "id": 5706198}, {"tags": [], "creation_time": "2011-09-12T19:57:49Z", "attachment_id": null, "bug_id": 649138, "author": "ayg@aryeh.name", "is_private": false, "id": 5714486, "raw_text": "Sorry, didn't notice this.  I can confirm Chrome 15 dev now also fails, as does Firefox 8.0a2.  If you modify the testcase to use selectAllChildren() instead of collapse()/extend(), then Chrome still fails but Firefox passes.  So Chrome seems to have a different bug that happens to randomly cause it to fail the same test-case for other reasons.  Actually, Chrome's bug is reproducible in my conformance test suite, so I've added a test case (which Firefox passes):\n\nhttp://aryeh.name/gitweb.cgi?p=editing;a=commitdiff;h=d1ddd1a1\n\nThis bug still stands -- both Gecko and WebKit are now wrong on my original test case.", "creator": "ayg@aryeh.name", "text": "Sorry, didn't notice this.  I can confirm Chrome 15 dev now also fails, as does Firefox 8.0a2.  If you modify the testcase to use selectAllChildren() instead of collapse()/extend(), then Chrome still fails but Firefox passes.  So Chrome seems to have a different bug that happens to randomly cause it to fail the same test-case for other reasons.  Actually, Chrome's bug is reproducible in my conformance test suite, so I've added a test case (which Firefox passes):\n\nhttp://aryeh.name/gitweb.cgi?p=editing;a=commitdiff;h=d1ddd1a1\n\nThis bug still stands -- both Gecko and WebKit are now wrong on my original test case.", "time": "2011-09-12T19:57:49Z", "count": 6}, {"raw_text": "Bulk-downgrade of unassigned, >=5 years untouched DOM/Storage bugs' priority and severity.\n\nIf you have reason to believe this is wrong, please write a comment and ni :jstutte.", "creator": "jstutte@mozilla.com", "text": "Bulk-downgrade of unassigned, >=5 years untouched DOM/Storage bugs' priority and severity.\n\nIf you have reason to believe this is wrong, please write a comment and ni :jstutte.", "time": "2020-12-15T07:16:09Z", "count": 7, "creation_time": "2020-12-15T07:16:09Z", "tags": [], "attachment_id": null, "bug_id": 649138, "author": "jstutte@mozilla.com", "is_private": false, "id": 15175806}]}}}