{"comments": {}, "bugs": {"673782": {"comments": [{"count": 0, "id": 5609752, "is_private": false, "creation_time": "2011-07-24T14:45:42Z", "time": "2011-07-24T14:45:42Z", "creator": "justin.lebar+bug@gmail.com", "author": "justin.lebar+bug@gmail.com", "attachment_id": null, "raw_text": "While thinking about bug 670318 and bug 673467, I realized that it might be useful to be able to say \"no matter how much I navigate this iframe, or how much it navigates itself, don't add entries to the session history.\"\n\nAs an example of a use-case, Google+ runs the Google Talk sidebar in an iframe.  When the page initially loads, the Google Talk iframe points to a blank page -- presumably to speed up the load of the rest of the content.  Some time after the main page loads, the iframe is navigated to a new page, which shows the Google Talk content.\n\nIn FF and IE9, this iframe navigation creates a new session history entry.  (It doesn't in Chrome, and I'm not sure why.)  But we really don't that SHEntry; there should just be one, from the user's perspective.  Right now the only way I know of for G+ not to create this extra SHEntry is to \"navigate\" away from the blank page using XMLHttpRequest and replaceState.  But that's not always possible (suppose you want to navigate to a new origin), and is pretty annoying.\n\nIs this an idea worth looking into?", "text": "While thinking about bug 670318 and bug 673467, I realized that it might be useful to be able to say \"no matter how much I navigate this iframe, or how much it navigates itself, don't add entries to the session history.\"\n\nAs an example of a use-case, Google+ runs the Google Talk sidebar in an iframe.  When the page initially loads, the Google Talk iframe points to a blank page -- presumably to speed up the load of the rest of the content.  Some time after the main page loads, the iframe is navigated to a new page, which shows the Google Talk content.\n\nIn FF and IE9, this iframe navigation creates a new session history entry.  (It doesn't in Chrome, and I'm not sure why.)  But we really don't that SHEntry; there should just be one, from the user's perspective.  Right now the only way I know of for G+ not to create this extra SHEntry is to \"navigate\" away from the blank page using XMLHttpRequest and replaceState.  But that's not always possible (suppose you want to navigate to a new origin), and is pretty annoying.\n\nIs this an idea worth looking into?", "bug_id": 673782, "tags": []}, {"is_private": false, "count": 1, "id": 5609755, "author": "bugs@pettay.fi", "creator": "bugs@pettay.fi", "time": "2011-07-24T14:57:59Z", "creation_time": "2011-07-24T14:57:59Z", "raw_text": "Yes. Worth to post the idea to whatwg?", "attachment_id": null, "text": "Yes. Worth to post the idea to whatwg?", "bug_id": 673782, "tags": []}, {"raw_text": "> Right now the only way I know of for G+ not to create this extra SHEntry is to\n> \"navigate\" away from the blank page using XMLHttpRequest and replaceState.\n\nOr location.replace(), no?\n\n> But that's not always possible (suppose you want to navigate to a new origin)\n\nlocation.replace works.", "attachment_id": null, "text": "> Right now the only way I know of for G+ not to create this extra SHEntry is to\n> \"navigate\" away from the blank page using XMLHttpRequest and replaceState.\n\nOr location.replace(), no?\n\n> But that's not always possible (suppose you want to navigate to a new origin)\n\nlocation.replace works.", "bug_id": 673782, "tags": [], "id": 5609786, "count": 2, "is_private": false, "author": "bzbarsky@mit.edu", "time": "2011-07-24T16:00:04Z", "creation_time": "2011-07-24T16:00:04Z", "creator": "bzbarsky@mit.edu"}, {"author": "justin.lebar+bug@gmail.com", "creation_time": "2011-07-25T19:03:38Z", "time": "2011-07-25T19:03:38Z", "creator": "justin.lebar+bug@gmail.com", "id": 5611727, "count": 3, "is_private": false, "tags": [], "bug_id": 673782, "text": "> location.replace works.\n\nOh.  Right.\n\nMight this be useful from a sandboxing perspective, to keep untrusted iframes from navigating the top-level context?  (The answer might be, yes, it might, but I don't want to deal with regressions for two years after implementing that in docshell...)", "raw_text": "> location.replace works.\n\nOh.  Right.\n\nMight this be useful from a sandboxing perspective, to keep untrusted iframes from navigating the top-level context?  (The answer might be, yes, it might, but I don't want to deal with regressions for two years after implementing that in docshell...)", "attachment_id": null}, {"bug_id": 673782, "text": "I'm not sure what the sandboxing angle is here....", "tags": [], "attachment_id": null, "raw_text": "I'm not sure what the sandboxing angle is here....", "time": "2011-07-25T19:08:51Z", "creation_time": "2011-07-25T19:08:51Z", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "count": 4, "id": 5611744, "is_private": false}, {"tags": [], "bug_id": 673782, "text": "If I load untrusted content in an iframe, it can break the back button by navigating itself a bazillion times.", "raw_text": "If I load untrusted content in an iframe, it can break the back button by navigating itself a bazillion times.", "attachment_id": null, "author": "justin.lebar+bug@gmail.com", "time": "2011-07-25T19:10:07Z", "creation_time": "2011-07-25T19:10:07Z", "creator": "justin.lebar+bug@gmail.com", "id": 5611748, "count": 5, "is_private": false}, {"is_private": false, "id": 5611768, "count": 6, "author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "creation_time": "2011-07-25T19:18:38Z", "time": "2011-07-25T19:18:38Z", "raw_text": "Ah, I see.  Yeah, that could be useful to prevent.", "attachment_id": null, "tags": [], "text": "Ah, I see.  Yeah, that could be useful to prevent.", "bug_id": 673782}, {"text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven't been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "bug_id": 673782, "tags": [], "raw_text": "https://bugzilla.mozilla.org/show_bug.cgi?id=1472046\n\nMove all DOM bugs that haven't been updated in more than 3 years and has no one currently assigned to P5.\n\nIf you have questions, please contact :mdaly.", "attachment_id": null, "author": "bug-husbandry-bot@mozilla.bugs", "time": "2018-06-29T04:39:54Z", "creation_time": "2018-06-29T04:39:54Z", "creator": "bug-husbandry-bot@mozilla.bugs", "id": 13435220, "count": 7, "is_private": false}]}}}