{"bugs": {"630976": {"comments": [{"creation_time": "2011-02-02T20:26:32Z", "creator": "unusualtears@gmail.com", "text": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.8) Gecko/20100729 Iceweasel/3.6.7 (like Firefox/3.6.7)\nBuild Identifier: \n\nlistbox (and by extension richlistbox) currently keep the selectedItems array in the order items were selected.  Worse, it seems that richlistbox can _refreshSelection() which will reorder them as they appear in the listing.\n\nInstead, they should be kept in the order they appear in the listing (eg, rebuild if the listing is sorted, etc.).\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Select items in a (rich)listbox using Cmd+click or via keyboard in a random order.\n2. Iterate over the selectedItems and print the indexes.\nActual Results:  \nThe indexes are printed in the order their items were added to the selection.\n\nExpected Results:  \nThe indexes are printed in the order they appear in the listing.\n\nI'm not aware if anything depends on the current behavior, or whether it was intended.  There are at least some cases where the consumer will want the items in sorted order, though.  bug 626484, where the Web Console copies selected items is an example of that use case.\n\nWorkaround is that the consumer can sort the items to achieve the desired result.", "id": 5248118, "time": "2011-02-02T20:26:32Z", "is_private": false, "attachment_id": null, "bug_id": 630976, "tags": [], "author": "unusualtears@gmail.com", "count": 0, "raw_text": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.8) Gecko/20100729 Iceweasel/3.6.7 (like Firefox/3.6.7)\nBuild Identifier: \n\nlistbox (and by extension richlistbox) currently keep the selectedItems array in the order items were selected.  Worse, it seems that richlistbox can _refreshSelection() which will reorder them as they appear in the listing.\n\nInstead, they should be kept in the order they appear in the listing (eg, rebuild if the listing is sorted, etc.).\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Select items in a (rich)listbox using Cmd+click or via keyboard in a random order.\n2. Iterate over the selectedItems and print the indexes.\nActual Results:  \nThe indexes are printed in the order their items were added to the selection.\n\nExpected Results:  \nThe indexes are printed in the order they appear in the listing.\n\nI'm not aware if anything depends on the current behavior, or whether it was intended.  There are at least some cases where the consumer will want the items in sorted order, though.  bug 626484, where the Web Console copies selected items is an example of that use case.\n\nWorkaround is that the consumer can sort the items to achieve the desired result."}]}}, "comments": {}}