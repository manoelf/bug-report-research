{"bugs": {"682706": {"comments": [{"bug_id": 682706, "id": 5683458, "tags": [], "is_private": false, "count": 0, "attachment_id": null, "time": "2011-08-28T12:54:27Z", "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0\nBuild ID: 20110811165603\n\nSteps to reproduce:\n\nI replaced Profiles/xxxx.default/chrome/userChrome.css with a symbolic link using mklink command on Windows Vista and 7.\n\nHow to reproduce this bug.\n\n1. start cmd.exe as Admin\n2. cd Profiles/xxxx.default/chrome/\n3. mklink userContent.css C:\\Users\\username\\userContent.css\n4. start firefox\n\nThe version of Firefox is \n\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0\n\n\nActual results:\n\nFirefox does not start up, seems to fall into a busy loop.\n\n\nExpected results:\n\nFirefox start up normally.\n\nFirefox 5 started up normally. Firefox 6 does not.", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0\nBuild ID: 20110811165603\n\nSteps to reproduce:\n\nI replaced Profiles/xxxx.default/chrome/userChrome.css with a symbolic link using mklink command on Windows Vista and 7.\n\nHow to reproduce this bug.\n\n1. start cmd.exe as Admin\n2. cd Profiles/xxxx.default/chrome/\n3. mklink userContent.css C:\\Users\\username\\userContent.css\n4. start firefox\n\nThe version of Firefox is \n\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0\n\n\nActual results:\n\nFirefox does not start up, seems to fall into a busy loop.\n\n\nExpected results:\n\nFirefox start up normally.\n\nFirefox 5 started up normally. Firefox 6 does not.", "creation_time": "2011-08-28T12:54:27Z", "author": "sh@sheepman.sakura.ne.jp", "creator": "sh@sheepman.sakura.ne.jp"}, {"bug_id": 682706, "count": 1, "is_private": false, "tags": [], "id": 5683520, "text": "Confirmed on \nhttp://hg.mozilla.org/mozilla-central/rev/6c8a909977d3\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110828 Firefox/9.0a1 ID:20110828030757\n\nFirefox hangs up with CPU 100%/core.\n\nRegression window(cached m-c hourly),\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/4fd08a1e0644\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0a1) Gecko/20110518 Firefox/6.0a1 ID:20110519025757\nHangs:\nhttp://hg.mozilla.org/mozilla-central/rev/3cd7b0b686ff\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0a1) Gecko/20110519 Firefox/6.0a1 ID:20110519061001\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=4fd08a1e0644&tochange=3cd7b0b686ff\n\n\nRegression window(cached cedar hourly),\nWorks:\nhttp://hg.mozilla.org/projects/cedar/rev/36bca8bcdb19\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0a1) Gecko/20110518 Firefox/6.0a1 ID:20110518042946\nHangs:\nhttp://hg.mozilla.org/projects/cedar/rev/5f9f7a49e2e1\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0a1) Gecko/20110518 Firefox/6.0a1 ID:20110518182630\nPushlog:\nhttp://hg.mozilla.org/projects/cedar/pushloghtml?fromchange=36bca8bcdb19&tochange=5f9f7a49e2e1\nSuspected:\nBug 541496 - Always provide strings rather than streams to the CSS parser", "creator": "alice0775@gmail.com", "attachment_id": null, "time": "2011-08-28T15:02:30Z", "author": "alice0775@gmail.com", "raw_text": "Confirmed on \nhttp://hg.mozilla.org/mozilla-central/rev/6c8a909977d3\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110828 Firefox/9.0a1 ID:20110828030757\n\nFirefox hangs up with CPU 100%/core.\n\nRegression window(cached m-c hourly),\nWorks:\nhttp://hg.mozilla.org/mozilla-central/rev/4fd08a1e0644\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0a1) Gecko/20110518 Firefox/6.0a1 ID:20110519025757\nHangs:\nhttp://hg.mozilla.org/mozilla-central/rev/3cd7b0b686ff\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0a1) Gecko/20110519 Firefox/6.0a1 ID:20110519061001\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=4fd08a1e0644&tochange=3cd7b0b686ff\n\n\nRegression window(cached cedar hourly),\nWorks:\nhttp://hg.mozilla.org/projects/cedar/rev/36bca8bcdb19\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0a1) Gecko/20110518 Firefox/6.0a1 ID:20110518042946\nHangs:\nhttp://hg.mozilla.org/projects/cedar/rev/5f9f7a49e2e1\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0a1) Gecko/20110518 Firefox/6.0a1 ID:20110518182630\nPushlog:\nhttp://hg.mozilla.org/projects/cedar/pushloghtml?fromchange=36bca8bcdb19&tochange=5f9f7a49e2e1\nSuspected:\nBug 541496 - Always provide strings rather than streams to the CSS parser", "creation_time": "2011-08-28T15:02:30Z"}, {"id": 5683524, "is_private": false, "count": 2, "tags": [], "bug_id": 682706, "raw_text": "", "creation_time": "2011-08-28T15:10:36Z", "time": "2011-08-28T15:10:36Z", "attachment_id": 556393, "text": "Created attachment 556393\nWinDbg log", "author": "alice0775@gmail.com", "creator": "alice0775@gmail.com"}, {"bug_id": 682706, "tags": [], "count": 3, "is_private": false, "id": 5683533, "text": "Sh, I think I may have a solution; a build of Nightly with that change will come up in a couple of hours at <http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/Ms2ger@gmail.com-70c3c0a8304a/try-win32/>. It would be great if you could test it to see if it fixes your problem. (I don't have access to Windows myself.)", "time": "2011-08-28T15:33:14Z", "attachment_id": null, "raw_text": "Sh, I think I may have a solution; a build of Nightly with that change will come up in a couple of hours at <http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/Ms2ger@gmail.com-70c3c0a8304a/try-win32/>. It would be great if you could test it to see if it fixes your problem. (I don't have access to Windows myself.)", "creation_time": "2011-08-28T15:33:14Z", "creator": "Ms2ger@gmail.com", "author": "Ms2ger@gmail.com"}, {"creator": "alice0775@gmail.com", "author": "alice0775@gmail.com", "tags": [], "is_private": false, "count": 4, "id": 5683577, "bug_id": 682706, "creation_time": "2011-08-28T17:06:02Z", "raw_text": "(In reply to Ms2ger from comment #3)\n> Sh, I think I may have a solution; a build of Nightly with that change will\n> come up in a couple of hours at\n> <http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/Ms2ger@gmail.com-\n> 70c3c0a8304a/try-win32/>. It would be great if you could test it to see if\n> it fixes your problem. (I don't have access to Windows myself.)\n\ncompile failed.", "text": "(In reply to Ms2ger from comment #3)\n> Sh, I think I may have a solution; a build of Nightly with that change will\n> come up in a couple of hours at\n> <http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/Ms2ger@gmail.com-\n> 70c3c0a8304a/try-win32/>. It would be great if you could test it to see if\n> it fixes your problem. (I don't have access to Windows myself.)\n\ncompile failed.", "time": "2011-08-28T17:06:02Z", "attachment_id": null}, {"is_private": false, "count": 5, "tags": [], "id": 5685312, "bug_id": 682706, "creation_time": "2011-08-29T17:30:11Z", "raw_text": "Ms2ger, see comment 4", "text": "Ms2ger, see comment 4", "creator": "bzbarsky@mit.edu", "attachment_id": null, "time": "2011-08-29T17:30:11Z", "author": "bzbarsky@mit.edu"}, {"creator": "Ms2ger@gmail.com", "author": "Ms2ger@gmail.com", "creation_time": "2011-08-31T08:43:56Z", "raw_text": "Thanks Boris.\n\nReporter, Alice, please see <https://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/Ms2ger@gmail.com-3763efcc1bcd/try-win32/>", "text": "Thanks Boris.\n\nReporter, Alice, please see <https://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/Ms2ger@gmail.com-3763efcc1bcd/try-win32/>", "attachment_id": null, "time": "2011-08-31T08:43:56Z", "is_private": false, "count": 6, "tags": [], "id": 5690016, "bug_id": 682706}, {"bug_id": 682706, "id": 5690036, "is_private": false, "count": 7, "tags": [], "time": "2011-08-31T08:58:24Z", "attachment_id": null, "author": "alice0775@gmail.com", "text": "(In reply to Ms2ger from comment #6)\n> Thanks Boris.\n> \n> Reporter, Alice, please see\n> <https://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/Ms2ger@gmail.com-\n> 3763efcc1bcd/try-win32/>\n\nNothing improved. the result is same as comment#0", "creator": "alice0775@gmail.com", "creation_time": "2011-08-31T08:58:24Z", "raw_text": "(In reply to Ms2ger from comment #6)\n> Thanks Boris.\n> \n> Reporter, Alice, please see\n> <https://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/Ms2ger@gmail.com-\n> 3763efcc1bcd/try-win32/>\n\nNothing improved. the result is same as comment#0"}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "bug_id": 682706, "tags": [], "count": 8, "is_private": false, "id": 5692805, "text": "Alice0775, it looks like the call to Available() made in nsSyncLoadService::PushSyncStreamToListener keeps returning nonzero numbers.  Does the value returned there (15836 bytes) match the size of either your symlink file or the link target?  Can you maybe step into that call a few times and see what's going on in there?", "time": "2011-09-01T04:30:29Z", "attachment_id": null, "creation_time": "2011-09-01T04:30:29Z", "raw_text": "Alice0775, it looks like the call to Available() made in nsSyncLoadService::PushSyncStreamToListener keeps returning nonzero numbers.  Does the value returned there (15836 bytes) match the size of either your symlink file or the link target?  Can you maybe step into that call a few times and see what's going on in there?"}, {"bug_id": 682706, "count": 9, "is_private": false, "tags": [], "id": 5692825, "creator": "alice0775@gmail.com", "text": "(In reply to Boris Zbarsky (:bz) from comment #8)\n> Alice0775, it looks like the call to Available() made in\n> nsSyncLoadService::PushSyncStreamToListener keeps returning nonzero numbers.\n> Does the value returned there (15836 bytes) match the size of either your\n> symlink file or the link target? \n\nIt is size of the target file.\n\n> Can you maybe step into that call a few times \nHow?", "time": "2011-09-01T04:46:49Z", "attachment_id": null, "author": "alice0775@gmail.com", "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #8)\n> Alice0775, it looks like the call to Available() made in\n> nsSyncLoadService::PushSyncStreamToListener keeps returning nonzero numbers.\n> Does the value returned there (15836 bytes) match the size of either your\n> symlink file or the link target? \n\nIt is size of the target file.\n\n> Can you maybe step into that call a few times \nHow?", "creation_time": "2011-09-01T04:46:49Z"}, {"creation_time": "2011-09-01T05:11:05Z", "raw_text": "I've never used windbg, so I don't know the details, unfortunately.  :(\n\nThe idea would be to put a breakpoint in nsFileInputStream::Available and see what values the NSPR call checkign the available bytes on the file descriptor returns... and how much that function gets called.", "text": "I've never used windbg, so I don't know the details, unfortunately.  :(\n\nThe idea would be to put a breakpoint in nsFileInputStream::Available and see what values the NSPR call checkign the available bytes on the file descriptor returns... and how much that function gets called.", "time": "2011-09-01T05:11:05Z", "attachment_id": null, "tags": [], "is_private": false, "count": 10, "id": 5692845, "bug_id": 682706, "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"creator": "alice0775@gmail.com", "author": "alice0775@gmail.com", "tags": [], "is_private": false, "count": 11, "id": 5692866, "bug_id": 682706, "raw_text": "(In reply to Boris Zbarsky (:bz) from comment #10)\n> I've never used windbg, so I don't know the details, unfortunately.  :(\n> \n> The idea would be to put a breakpoint in nsFileInputStream::Available and\n> see what values the NSPR call checkign the available bytes on the file\n> descriptor returns... and how much that function gets called.\n\nSorry, I cannot...", "creation_time": "2011-09-01T05:31:31Z", "text": "(In reply to Boris Zbarsky (:bz) from comment #10)\n> I've never used windbg, so I don't know the details, unfortunately.  :(\n> \n> The idea would be to put a breakpoint in nsFileInputStream::Available and\n> see what values the NSPR call checkign the available bytes on the file\n> descriptor returns... and how much that function gets called.\n\nSorry, I cannot...", "time": "2011-09-01T05:31:31Z", "attachment_id": null}, {"bug_id": 682706, "id": 5692877, "is_private": false, "count": 12, "tags": [], "time": "2011-09-01T05:46:01Z", "attachment_id": null, "author": "bzbarsky@mit.edu", "text": "Ms2ger, do you have a Windows build env?  Or should I try to dust mine off?", "creator": "bzbarsky@mit.edu", "raw_text": "Ms2ger, do you have a Windows build env?  Or should I try to dust mine off?", "creation_time": "2011-09-01T05:46:01Z"}, {"raw_text": "I don't.", "creation_time": "2011-09-01T08:15:34Z", "time": "2011-09-01T08:15:34Z", "attachment_id": null, "text": "I don't.", "id": 5693047, "tags": [], "is_private": false, "count": 13, "bug_id": 682706, "author": "Ms2ger@gmail.com", "creator": "Ms2ger@gmail.com"}, {"bug_id": 682706, "count": 14, "is_private": false, "tags": [], "id": 6416596, "text": "As a workaround you can symlink the chrome folder instead.\n\ncd Profiles/xxx.default\nmklink chrome C:\\Users\\username\\chrome", "attachment_id": null, "time": "2012-06-23T06:56:27Z", "creation_time": "2012-06-23T06:56:27Z", "raw_text": "As a workaround you can symlink the chrome folder instead.\n\ncd Profiles/xxx.default\nmklink chrome C:\\Users\\username\\chrome", "creator": "srpen6@gmail.com", "author": "srpen6@gmail.com"}, {"creation_time": "2012-06-23T06:57:17Z", "raw_text": "Edit\n\nmklink /d chrome C:\\Users\\username\\chrome", "time": "2012-06-23T06:57:17Z", "attachment_id": null, "text": "Edit\n\nmklink /d chrome C:\\Users\\username\\chrome", "id": 6416598, "is_private": false, "count": 15, "tags": [], "bug_id": 682706, "author": "srpen6@gmail.com", "creator": "srpen6@gmail.com"}, {"text": "I'll add that Firefox 51.0.1 (64 bits) on OSX will not load userContent.css if it is a symlink.", "attachment_id": null, "time": "2017-02-13T18:28:42Z", "raw_text": "I'll add that Firefox 51.0.1 (64 bits) on OSX will not load userContent.css if it is a symlink.", "creation_time": "2017-02-13T18:28:42Z", "bug_id": 682706, "count": 16, "is_private": false, "tags": [], "id": 12062895, "creator": "sebastien.barre@gmail.com", "author": "sebastien.barre@gmail.com"}]}}, "comments": {}}