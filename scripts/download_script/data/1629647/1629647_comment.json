{"bugs": {"1629647": {"comments": [{"attachment_id": null, "bug_id": 1629647, "author": "khudson@mozilla.com", "id": 14752478, "text": "In order to deploy RS-based messaging experiments, we need a new remote settings collection that can contain messaging experiment recipes.\n\nThe schema for each recipe in this bucket should be compatible with what Normandy uses, with an `arguments` that matches `messaging-experiments`\n\nWe also want to add a new file to the https://github.com/mozilla/messaging-system-inflight-assets", "raw_text": "In order to deploy RS-based messaging experiments, we need a new remote settings collection that can contain messaging experiment recipes.\n\nThe schema for each recipe in this bucket should be compatible with what Normandy uses, with an `arguments` that matches `messaging-experiments`\n\nWe also want to add a new file to the https://github.com/mozilla/messaging-system-inflight-assets", "is_private": false, "time": "2020-04-13T20:25:57Z", "count": 0, "tags": [], "creator": "khudson@mozilla.com", "creation_time": "2020-04-13T20:25:57Z"}, {"tags": [], "count": 1, "bug_id": 1629647, "time": "2020-04-13T20:46:34Z", "attachment_id": null, "is_private": false, "raw_text": "Here's an example of the whole recipe (the card data is omitted for brevity)\n```js\n {\n  id: \"aw_pull_factor_privacy_1\",\n  // This should use the ASRouterTargeting context but will be used to decide enrollment\n  // To limit the population, use the same technique as in normandy (bucketSample)\n  filter_expression: \"localeLanguageCode == \\\"en\\\" && browserSettings.update.channel == \\\"release\\\" && firefoxVersion >= 75 && [userId, \\\"aw_pull_factor_privacy_1\\\"]|bucketSample(0, 2000, 10000)\",\n  arguments: {\n    slug: \"aw_pull_factor_privacy_1\", // experiment id\n    branches: [\n      {\n        slug: \"control\",\n        ratio: 1,\n        value: {},\n      },\n      {\n        slug: \"variant_1\", // branch id\n        ratio: 1,\n        value: {\n          title: \"Welcome to Firefox. Fast, safe, private.\",\n          cards: [\n            PERSONAL_DATA_PROMISE_CARD,\n            FX_MONITOR_CARD,\n            BROWSE_PRIVATELY_CARD,\n          ],\n        },\n      },\n      {\n        slug: \"variant_2\",\n        ratio: 1,\n        value: {\n          title: \"Welcome to Firefox\",\n          cards: [\n            PERSONAL_DATA_PROMISE_CARD,\n            FX_MONITOR_CARD,\n            BROWSE_PRIVATELY_CARD,\n          ],\n        },\n      },\n      {\n        slug: \"variant_3\",\n        ratio: 1,\n        value: {\n          title: \"Welcome to Firefox. Fast, safe, private.\",\n          cards: [SYNC_CARD, FX_MONITOR_CARD, BROWSE_PRIVATELY_CARD],\n        },\n      },\n    ],\n  },\n}\n```", "text": "Here's an example of the whole recipe (the card data is omitted for brevity)\n```js\n {\n  id: \"aw_pull_factor_privacy_1\",\n  // This should use the ASRouterTargeting context but will be used to decide enrollment\n  // To limit the population, use the same technique as in normandy (bucketSample)\n  filter_expression: \"localeLanguageCode == \\\"en\\\" && browserSettings.update.channel == \\\"release\\\" && firefoxVersion >= 75 && [userId, \\\"aw_pull_factor_privacy_1\\\"]|bucketSample(0, 2000, 10000)\",\n  arguments: {\n    slug: \"aw_pull_factor_privacy_1\", // experiment id\n    branches: [\n      {\n        slug: \"control\",\n        ratio: 1,\n        value: {},\n      },\n      {\n        slug: \"variant_1\", // branch id\n        ratio: 1,\n        value: {\n          title: \"Welcome to Firefox. Fast, safe, private.\",\n          cards: [\n            PERSONAL_DATA_PROMISE_CARD,\n            FX_MONITOR_CARD,\n            BROWSE_PRIVATELY_CARD,\n          ],\n        },\n      },\n      {\n        slug: \"variant_2\",\n        ratio: 1,\n        value: {\n          title: \"Welcome to Firefox\",\n          cards: [\n            PERSONAL_DATA_PROMISE_CARD,\n            FX_MONITOR_CARD,\n            BROWSE_PRIVATELY_CARD,\n          ],\n        },\n      },\n      {\n        slug: \"variant_3\",\n        ratio: 1,\n        value: {\n          title: \"Welcome to Firefox. Fast, safe, private.\",\n          cards: [SYNC_CARD, FX_MONITOR_CARD, BROWSE_PRIVATELY_CARD],\n        },\n      },\n    ],\n  },\n}\n```", "author": "khudson@mozilla.com", "creation_time": "2020-04-13T20:46:34Z", "id": 14752516, "creator": "khudson@mozilla.com"}, {"creation_time": "2020-04-13T22:54:55Z", "creator": "pdahiya@mozilla.com", "tags": [], "count": 2, "time": "2020-04-13T22:54:55Z", "is_private": false, "raw_text": "Feedback from Su\n1) Detailed deployment architecture\n2) How are we ensuring that we are enrolling new users\n3) How user exit experiment\n4) Whats the client side server check-in cadence for evaluating recipe - For pull factor re-enforcement we will be enrolling users only at first run. For CFR we might need to support  different cadence\n4) Maintenance - Remove experiment information from experiment field in environment telemetry at the end of the experiment", "text": "Feedback from Su\n1) Detailed deployment architecture\n2) How are we ensuring that we are enrolling new users\n3) How user exit experiment\n4) Whats the client side server check-in cadence for evaluating recipe - For pull factor re-enforcement we will be enrolling users only at first run. For CFR we might need to support  different cadence\n4) Maintenance - Remove experiment information from experiment field in environment telemetry at the end of the experiment", "id": 14752717, "author": "pdahiya@mozilla.com", "bug_id": 1629647, "attachment_id": null}, {"author": "khudson@mozilla.com", "id": 14753786, "is_private": false, "text": "Schema is here, but this is only the `arguments`: https://phabricator.services.mozilla.com/D65366#change-Ke6naAGg0rSt", "raw_text": "Schema is here, but this is only the `arguments`: https://phabricator.services.mozilla.com/D65366#change-Ke6naAGg0rSt", "attachment_id": null, "bug_id": 1629647, "creation_time": "2020-04-14T11:31:44Z", "creator": "khudson@mozilla.com", "time": "2020-04-14T11:31:44Z", "tags": [], "count": 3}, {"creator": "andrei.br92@gmail.com", "creation_time": "2020-04-16T15:39:21Z", "count": 4, "tags": [], "time": "2020-04-16T15:39:21Z", "raw_text": "PR is here https://github.com/mozilla/messaging-system-inflight-assets/pull/31", "text": "PR is here https://github.com/mozilla/messaging-system-inflight-assets/pull/31", "is_private": false, "id": 14759316, "author": "andrei.br92@gmail.com", "bug_id": 1629647, "attachment_id": null}]}}, "comments": {}}