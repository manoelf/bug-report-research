{"bugs": {"677853": {"comments": [{"bug_id": 677853, "id": 5644415, "tags": [], "is_private": false, "count": 0, "attachment_id": null, "time": "2011-08-10T06:07:23Z", "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20110706 Firefox/5.0 SeaMonkey/2.2\nBuild ID: 20110706120824\n\nSteps to reproduce:\n\nSaved the message in EML file.\n\n\nActual results:\n\nThe saved text have first line added:\nFrom - <some date here>\nAlso saved text have extra newline added at the end.\n\n\nExpected results:\n\nMessage saved in canon format, with correct headers and length.", "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20110706 Firefox/5.0 SeaMonkey/2.2\nBuild ID: 20110706120824\n\nSteps to reproduce:\n\nSaved the message in EML file.\n\n\nActual results:\n\nThe saved text have first line added:\nFrom - <some date here>\nAlso saved text have extra newline added at the end.\n\n\nExpected results:\n\nMessage saved in canon format, with correct headers and length.", "creation_time": "2011-08-10T06:07:23Z", "author": "davian818@gmail.com", "creator": "davian818@gmail.com"}, {"creator": "ludovic@hirlimann.net", "author": "ludovic@hirlimann.net", "text": "Where are these messages saved ? \n\nAre you using POP3 or Imap ?", "time": "2011-08-26T09:43:54Z", "attachment_id": null, "creation_time": "2011-08-26T09:43:54Z", "raw_text": "Where are these messages saved ? \n\nAre you using POP3 or Imap ?", "bug_id": 677853, "tags": [], "count": 1, "is_private": false, "id": 5680112}, {"bug_id": 677853, "id": 5680755, "is_private": false, "count": 2, "tags": [], "time": "2011-08-26T15:54:39Z", "attachment_id": null, "text": "In Local Folders.", "creation_time": "2011-08-26T15:54:39Z", "raw_text": "In Local Folders.", "author": "davian818@gmail.com", "creator": "davian818@gmail.com"}, {"raw_text": "So each line get's a extra newline ? Do you have extension installed ?", "creation_time": "2011-09-23T08:20:27Z", "text": "So each line get's a extra newline ? Do you have extension installed ?", "time": "2011-09-23T08:20:27Z", "attachment_id": null, "tags": [], "count": 3, "is_private": false, "id": 5733143, "bug_id": 677853, "creator": "ludovic@hirlimann.net", "author": "ludovic@hirlimann.net"}, {"author": "davian818@gmail.com", "creator": "davian818@gmail.com", "bug_id": 677853, "id": 5733289, "tags": [], "count": 4, "is_private": false, "time": "2011-09-23T10:59:38Z", "attachment_id": null, "text": "No, it has trailing empty lines which are not present in original message.", "creation_time": "2011-09-23T10:59:38Z", "raw_text": "No, it has trailing empty lines which are not present in original message."}, {"text": "For example original message ends in 6E.\n'zilla saves it ending in 6E 0D 0A 0D 0A.", "time": "2011-09-23T11:03:44Z", "attachment_id": null, "raw_text": "For example original message ends in 6E.\n'zilla saves it ending in 6E 0D 0A 0D 0A.", "creation_time": "2011-09-23T11:03:44Z", "bug_id": 677853, "tags": [], "count": 5, "is_private": false, "id": 5733291, "creator": "davian818@gmail.com", "author": "davian818@gmail.com"}, {"text": "Where do you get the original message (on the server) ?", "attachment_id": null, "time": "2011-09-23T14:10:09Z", "creation_time": "2011-09-23T14:10:09Z", "raw_text": "Where do you get the original message (on the server) ?", "bug_id": 677853, "is_private": false, "count": 6, "tags": [], "id": 5733545, "creator": "ludovic@hirlimann.net", "author": "ludovic@hirlimann.net"}, {"creator": "davian818@gmail.com", "author": "davian818@gmail.com", "creation_time": "2011-09-23T14:31:44Z", "raw_text": "Excuse me? Don't understand that question.", "text": "Excuse me? Don't understand that question.", "time": "2011-09-23T14:31:44Z", "attachment_id": null, "count": 7, "is_private": false, "tags": [], "id": 5733574, "bug_id": 677853}, {"text": "(In reply to Alex from comment #7)\n> Excuse me? Don't understand that question.\n\nHow do you know that the original email doesn't have the line (where do you get the original from) ?", "time": "2011-09-23T14:44:42Z", "attachment_id": null, "raw_text": "(In reply to Alex from comment #7)\n> Excuse me? Don't understand that question.\n\nHow do you know that the original email doesn't have the line (where do you get the original from) ?", "creation_time": "2011-09-23T14:44:42Z", "bug_id": 677853, "count": 8, "is_private": false, "tags": [], "id": 5733612, "creator": "ludovic@hirlimann.net", "author": "ludovic@hirlimann.net"}, {"time": "2011-09-23T19:41:09Z", "attachment_id": null, "text": "IMAP folders, POP accounts moved to local folders, same crap.", "raw_text": "IMAP folders, POP accounts moved to local folders, same crap.", "creation_time": "2011-09-23T19:41:09Z", "bug_id": 677853, "id": 5734260, "is_private": false, "count": 9, "tags": [], "author": "davian818@gmail.com", "creator": "davian818@gmail.com"}, {"id": 6051902, "tags": [], "is_private": false, "count": 10, "bug_id": 677853, "creation_time": "2012-02-10T22:25:55Z", "raw_text": "Alex, can you attach a testcase file?", "time": "2012-02-10T22:25:55Z", "attachment_id": null, "text": "Alex, can you attach a testcase file?", "author": "vseerror@lehigh.edu", "creator": "vseerror@lehigh.edu"}, {"id": 6053026, "tags": [], "is_private": false, "count": 11, "bug_id": 677853, "creation_time": "2012-02-11T13:59:34Z", "raw_text": "", "author": "davian818+1@gmail.com", "attachment_id": 596309, "time": "2012-02-11T13:59:34Z", "creator": "davian818+1@gmail.com", "text": "Created attachment 596309\nMessages"}, {"bug_id": 677853, "id": 6053973, "tags": [], "is_private": false, "count": 12, "attachment_id": null, "time": "2012-02-12T04:32:20Z", "text": "(In reply to Alex from comment #5)\n> For example original message ends in 6E.\n\nEven if \"message ends in 6E\" happens at server side,\n  Web Mailer can write mail data without last [CRLF] in his Mail DB,\n  and Web mailer can send the mail data to Browser via HTTP,\n  and .eml file doesn't requests CRLF at end of mail data.\n  So \"message ends in 6E\" can occur at server and PC.\n\"message ends in 6E\" at mail client usually won't occur because;\n- SMTP and POP3 :\n  \"End of message data\" is sequence of \"0x0D0A of last data line\" + \".\" + 0x0D0A\n    last data lile[CRLF] <= last mail data\n    .[CRLF]              <= \"Enf of data\" indicator\n- IMAP :\n  \"End of message data\" is sequence of \"0x0D0A of last data line\" + 0x0D0A\n    last data lile[CRLF] <= last mail data\n    [CRLF]               <= \"Enf of data\" indicator\n- [CRLF] after \"last data line\" before final \"End of data indicator\" is mail data.\nCut of the last [CRLF] at mail client can occur only when \"declared mail data size by server(RFC822.SIZE if IMAP)\" is smaller than actually transfered data and the \"declared size by server\" is applied by client on data transfered via IMAP/POP3.\nCut of the last [CRLF] at mail server can occur only when \"declared mail data size by client(SIZE if SMTP)\" is smaller than actually transfered data and the \"declared size by client\" is applied by server on data transfered via SMTP.\n\nHow was the mail downloaded from IMAP server by OE?\nMail was sent within a Web mail system and the mail was downloaded via MS Exchange? \n\nWhen IMAP and IMAP offline-use=Off folder, \"whether mail data saved in .eml by Tb ends with 6E or not\" is unpredictable in Tb, although almost always mail data ends with 0x0D0A in Tb. Because Tb always uses RFC822.SIZE if offline-use=Off folder, it depends on that RFC822.SIZE includes \"[CRLF] just before final [CRLF] only line\" or not.\n\nCan you get IMAP log for it and check IMAP level flow?\n\n> Actual results:\n> The saved text have first line added:\n> From - <some date here>\n\nAttached Mozilla's .eml file data is for mail downloaded from POP3 server.\nHow was the .eml file created? \"Save As to .eml file\" of Tb? Or copy of Tb's local mail folder file?\nCan you see \"From ...\" line at top of .eml file which is saved by \"Save As to .eml file\" of recent Tb(as of today, Tb 9.0.1)?\n\n> 'zilla saves it ending in 6E 0D 0A 0D 0A.\n\nDo you enable quarantine option? (mailnews.downloadToTempFile=true)\nWas the mail moved or copied by message filter? \nCan you get POP3 log and check POP3 level flow?\n\nActual phenomenon is next, isn't it?\n  \"mail ending in 6E 0D 0A 0D 0A\" is somehow cut at 6E\n  if mail is downloaded by OE via IMAP.", "creation_time": "2012-02-12T04:32:20Z", "raw_text": "(In reply to Alex from comment #5)\n> For example original message ends in 6E.\n\nEven if \"message ends in 6E\" happens at server side,\n  Web Mailer can write mail data without last [CRLF] in his Mail DB,\n  and Web mailer can send the mail data to Browser via HTTP,\n  and .eml file doesn't requests CRLF at end of mail data.\n  So \"message ends in 6E\" can occur at server and PC.\n\"message ends in 6E\" at mail client usually won't occur because;\n- SMTP and POP3 :\n  \"End of message data\" is sequence of \"0x0D0A of last data line\" + \".\" + 0x0D0A\n    last data lile[CRLF] <= last mail data\n    .[CRLF]              <= \"Enf of data\" indicator\n- IMAP :\n  \"End of message data\" is sequence of \"0x0D0A of last data line\" + 0x0D0A\n    last data lile[CRLF] <= last mail data\n    [CRLF]               <= \"Enf of data\" indicator\n- [CRLF] after \"last data line\" before final \"End of data indicator\" is mail data.\nCut of the last [CRLF] at mail client can occur only when \"declared mail data size by server(RFC822.SIZE if IMAP)\" is smaller than actually transfered data and the \"declared size by server\" is applied by client on data transfered via IMAP/POP3.\nCut of the last [CRLF] at mail server can occur only when \"declared mail data size by client(SIZE if SMTP)\" is smaller than actually transfered data and the \"declared size by client\" is applied by server on data transfered via SMTP.\n\nHow was the mail downloaded from IMAP server by OE?\nMail was sent within a Web mail system and the mail was downloaded via MS Exchange? \n\nWhen IMAP and IMAP offline-use=Off folder, \"whether mail data saved in .eml by Tb ends with 6E or not\" is unpredictable in Tb, although almost always mail data ends with 0x0D0A in Tb. Because Tb always uses RFC822.SIZE if offline-use=Off folder, it depends on that RFC822.SIZE includes \"[CRLF] just before final [CRLF] only line\" or not.\n\nCan you get IMAP log for it and check IMAP level flow?\n\n> Actual results:\n> The saved text have first line added:\n> From - <some date here>\n\nAttached Mozilla's .eml file data is for mail downloaded from POP3 server.\nHow was the .eml file created? \"Save As to .eml file\" of Tb? Or copy of Tb's local mail folder file?\nCan you see \"From ...\" line at top of .eml file which is saved by \"Save As to .eml file\" of recent Tb(as of today, Tb 9.0.1)?\n\n> 'zilla saves it ending in 6E 0D 0A 0D 0A.\n\nDo you enable quarantine option? (mailnews.downloadToTempFile=true)\nWas the mail moved or copied by message filter? \nCan you get POP3 log and check POP3 level flow?\n\nActual phenomenon is next, isn't it?\n  \"mail ending in 6E 0D 0A 0D 0A\" is somehow cut at 6E\n  if mail is downloaded by OE via IMAP.", "author": "m-wada@usa.com", "creator": "m-wada@usa.com"}, {"bug_id": 677853, "count": 13, "is_private": false, "tags": [], "id": 6054030, "text": "In IMAP, \"End of data indicator\" was called \"ending token\" and was \")\".\n- IMAP :\n  \"End of message data\" is sequence of \"0x0D0A of last data line\" + \")\" + 0x0D0A\n    last data lile[CRLF] <= last mail data\n    )[CRLF]              <= Endig token", "attachment_id": null, "time": "2012-02-12T06:21:27Z", "creation_time": "2012-02-12T06:21:27Z", "raw_text": "In IMAP, \"End of data indicator\" was called \"ending token\" and was \")\".\n- IMAP :\n  \"End of message data\" is sequence of \"0x0D0A of last data line\" + \")\" + 0x0D0A\n    last data lile[CRLF] <= last mail data\n    )[CRLF]              <= Endig token", "creator": "m-wada@usa.com", "author": "m-wada@usa.com"}, {"author": "m-wada@usa.com", "creator": "m-wada@usa.com", "id": 6054044, "tags": [], "count": 14, "is_private": false, "bug_id": 677853, "raw_text": "FYI.\nFlow of message download in IMAP.\n> 11 UID fetch 61 (UID RFC822.SIZE BODY[])\n> * 3 FETCH (UID 61 RFC822.SIZE 266 BODY[] {286} \t\n>   => Log for start of data. :STREAM:OPEN Size: 266: Begin Message Download\n> mail data lines are sent from server.\n> )\n>   => Log for end of data.   :STREAM:CLOSE: Normal Message End Download Stream\t\nThis final \")\" is closing of \"* 3 FETCH (\" response, so called \"ending token\".\n\nSee bug 402793 comment #28 for getting IMAP/POP3 log.", "creation_time": "2012-02-12T06:55:50Z", "time": "2012-02-12T06:55:50Z", "attachment_id": null, "text": "FYI.\nFlow of message download in IMAP.\n> 11 UID fetch 61 (UID RFC822.SIZE BODY[])\n> * 3 FETCH (UID 61 RFC822.SIZE 266 BODY[] {286} \t\n>   => Log for start of data. :STREAM:OPEN Size: 266: Begin Message Download\n> mail data lines are sent from server.\n> )\n>   => Log for end of data.   :STREAM:CLOSE: Normal Message End Download Stream\t\nThis final \")\" is closing of \"* 3 FETCH (\" response, so called \"ending token\".\n\nSee bug 402793 comment #28 for getting IMAP/POP3 log."}, {"creator": "davian818+1@gmail.com", "author": "davian818+1@gmail.com", "bug_id": 677853, "tags": [], "is_private": false, "count": 15, "id": 6054116, "text": "Created attachment 596437\nDifference occuring in local folders\n\nWhen messages are saved ('Save as...') from IMAP folder, they are binary equivalent.\n\nWhen the same message is saved from Local folders, they are different as shown. Note that TB10 do not have 'From' line, but still has extra newline at the end and some strange headers.", "attachment_id": 596437, "time": "2012-02-12T09:34:14Z", "raw_text": "When messages are saved ('Save as...') from IMAP folder, they are binary equivalent.\n\nWhen the same message is saved from Local folders, they are different as shown. Note that TB10 do not have 'From' line, but still has extra newline at the end and some strange headers.", "creation_time": "2012-02-12T09:34:14Z"}, {"creation_time": "2012-02-13T05:13:05Z", "raw_text": "(In reply to Urmas from comment #15)\n> Created attachment 596437\n> Difference occuring in local folders\n> When messages are saved ('Save as...') from IMAP folder, they are binary equivalent.\n> When the same message is saved from Local folders, they are different as shown. \n\n@@ -1,6 +1,3 @@\n> -X-Mozilla-Status: 0001\n> -X-Mozilla-Status2: 00000000\n> -X-Mozilla-Keys:  \n\nThese are Tb's header for mail meta data in Tb's file for local mail folder. Once these headers are written in mail folder file, these lines is also message header of the mail. \"Copy to .eml file\" perhaps uses code for \"mail copy from local mail folder to local mail folder\" and simply writes all mail data to .eml file.\nThis is current implementation and can be called \"current design\".\nThese are removed if uploaded to IMAP server, although Bug 426651 and bug 667288 exists. See Bug 697635 for funny phenomenon due to these bugs.\n\n> @@ -39,4 +36,3 @@\n>  p://translations.xfce.org/notices/.\n> -\n\n[CRLF] before ending token was not needed. Sorry for my confusion on IMAP with POP3/SMTP.\nFollowing is IMAP log for next mail(no [CRLF] at end of mail, Gmail IMAP).\n  aaa[CRLF]\n  )\n> :CreateNewLineFromSocket: aaa \n> :CreateNewLineFromSocket: )) \n> :STREAM:CLOSE: Normal Message End Download Stream\n\nFollowing was observed on above test mail with Tb 9.0.1 on Win-XP.\n(a) .eml file saved at IMAP folder. (both offline-use=Off and offline-use=On) \n  aaa[CRLF]\n  )[CRLF]\n(b) offline-store file of offline-use=On folder \n  aaa[CRLF]\n  )[CRLF]\n(c) local mail folder file. \n    mail is copied from IMAP folder (both offline-use=Off and offline-use=On)\n  aaa[CRLF]\n  )[CRLF]\n  [CRLF]\n(d) Same saved .eml at IMAP folder, same copied mail in local mail folder, is observed with next mail which has [CRLF] at end of mail.\n  aaa[CRLF]\n  )[CRLF]\n\n(i)  in IMAP, [CRLF] is added to end of mail, if no CRLF at end of mail.\n\n(ii) upon copy from IMAP folder to local folder, [CRLF] is added to end of mail, even when mail ends with [CRLF].\nBecause Unix Mbox file, \"From ...\" line(Unix Mbox mail separator) is required, and [CRLF] is needed before the \"From ...\" line, and [CRLF] is needed at end of file.\n\"Adding [CRLF] at end of file\" seems executed regardless of data at mail end.  \n\n=> Confirmed.\n\n> Note that TB10 do not have 'From' line,\n\nTb 5 looks to have had bug of \"From line is written to .eml file\". I guess;\n- \"Save As to .eml\" uses code for \"copy mail from local to local\".\n- \"copy mail from local to local\" copies all data which starts from\n  \"From ...\" line as-is.\n- \"Save As to .eml\" of Tb 5 didn't care about \"From ...\" line.\nSee bug 339595 for another issue in \"Save As to .eml\".", "text": "(In reply to Urmas from comment #15)\n> Created attachment 596437\n> Difference occuring in local folders\n> When messages are saved ('Save as...') from IMAP folder, they are binary equivalent.\n> When the same message is saved from Local folders, they are different as shown. \n\n@@ -1,6 +1,3 @@\n> -X-Mozilla-Status: 0001\n> -X-Mozilla-Status2: 00000000\n> -X-Mozilla-Keys:  \n\nThese are Tb's header for mail meta data in Tb's file for local mail folder. Once these headers are written in mail folder file, these lines is also message header of the mail. \"Copy to .eml file\" perhaps uses code for \"mail copy from local mail folder to local mail folder\" and simply writes all mail data to .eml file.\nThis is current implementation and can be called \"current design\".\nThese are removed if uploaded to IMAP server, although Bug 426651 and bug 667288 exists. See Bug 697635 for funny phenomenon due to these bugs.\n\n> @@ -39,4 +36,3 @@\n>  p://translations.xfce.org/notices/.\n> -\n\n[CRLF] before ending token was not needed. Sorry for my confusion on IMAP with POP3/SMTP.\nFollowing is IMAP log for next mail(no [CRLF] at end of mail, Gmail IMAP).\n  aaa[CRLF]\n  )\n> :CreateNewLineFromSocket: aaa \n> :CreateNewLineFromSocket: )) \n> :STREAM:CLOSE: Normal Message End Download Stream\n\nFollowing was observed on above test mail with Tb 9.0.1 on Win-XP.\n(a) .eml file saved at IMAP folder. (both offline-use=Off and offline-use=On) \n  aaa[CRLF]\n  )[CRLF]\n(b) offline-store file of offline-use=On folder \n  aaa[CRLF]\n  )[CRLF]\n(c) local mail folder file. \n    mail is copied from IMAP folder (both offline-use=Off and offline-use=On)\n  aaa[CRLF]\n  )[CRLF]\n  [CRLF]\n(d) Same saved .eml at IMAP folder, same copied mail in local mail folder, is observed with next mail which has [CRLF] at end of mail.\n  aaa[CRLF]\n  )[CRLF]\n\n(i)  in IMAP, [CRLF] is added to end of mail, if no CRLF at end of mail.\n\n(ii) upon copy from IMAP folder to local folder, [CRLF] is added to end of mail, even when mail ends with [CRLF].\nBecause Unix Mbox file, \"From ...\" line(Unix Mbox mail separator) is required, and [CRLF] is needed before the \"From ...\" line, and [CRLF] is needed at end of file.\n\"Adding [CRLF] at end of file\" seems executed regardless of data at mail end.  \n\n=> Confirmed.\n\n> Note that TB10 do not have 'From' line,\n\nTb 5 looks to have had bug of \"From line is written to .eml file\". I guess;\n- \"Save As to .eml\" uses code for \"copy mail from local to local\".\n- \"copy mail from local to local\" copies all data which starts from\n  \"From ...\" line as-is.\n- \"Save As to .eml\" of Tb 5 didn't care about \"From ...\" line.\nSee bug 339595 for another issue in \"Save As to .eml\".", "time": "2012-02-13T05:13:05Z", "attachment_id": null, "tags": [], "is_private": false, "count": 16, "id": 6055136, "bug_id": 677853, "creator": "m-wada@usa.com", "author": "m-wada@usa.com"}, {"bug_id": 677853, "id": 6055166, "is_private": false, "count": 17, "tags": [], "attachment_id": null, "time": "2012-02-13T05:32:39Z", "text": "Issue (i) can be called \"restriction by Unix Mbox format\", because \"mail without new line character at end\" can't be held in Unix Mbox file.\n\"Mail without new line character at end\" can't occur when POP3 and SMTP, unless mail data sender declares wrong message size and mail data receiver cuts mail data at the wrong messege size.\nSuch mail can be generated by next only.\n- Web mailer writes mail data to his DB without mail sending via SMTP.\n  Web mail system supports IMAP too.\n- Web mailer sends mail data to browser, and user saves to .eml\n  User uploads mail in the .eml file to IMAP server via IMAP.\n- A mail client or tool cuts [CRLF] at end of .eml, and user uploads it via IMAP.\n  (I did this intentionally for testing of this bug) \nI believe Tb can save \"mail without new line character at end\" in Tb's mail folder file for IMAP even if \"Unix Mbox format\" is used for offline-store file.\nBut I don't think it's mandatory.\n\nFor issue (ii). \nI believe extra [CRLF] upon copy can be avoided, but I'm afraid of unwanted problems due to unexpected issue of \"loss of [CRLF] at end of Unix Mbox file\" or \"loss of [CRLF] before From ... line\".", "creation_time": "2012-02-13T05:32:39Z", "raw_text": "Issue (i) can be called \"restriction by Unix Mbox format\", because \"mail without new line character at end\" can't be held in Unix Mbox file.\n\"Mail without new line character at end\" can't occur when POP3 and SMTP, unless mail data sender declares wrong message size and mail data receiver cuts mail data at the wrong messege size.\nSuch mail can be generated by next only.\n- Web mailer writes mail data to his DB without mail sending via SMTP.\n  Web mail system supports IMAP too.\n- Web mailer sends mail data to browser, and user saves to .eml\n  User uploads mail in the .eml file to IMAP server via IMAP.\n- A mail client or tool cuts [CRLF] at end of .eml, and user uploads it via IMAP.\n  (I did this intentionally for testing of this bug) \nI believe Tb can save \"mail without new line character at end\" in Tb's mail folder file for IMAP even if \"Unix Mbox format\" is used for offline-store file.\nBut I don't think it's mandatory.\n\nFor issue (ii). \nI believe extra [CRLF] upon copy can be avoided, but I'm afraid of unwanted problems due to unexpected issue of \"loss of [CRLF] at end of Unix Mbox file\" or \"loss of [CRLF] before From ... line\".", "author": "m-wada@usa.com", "creator": "m-wada@usa.com"}, {"bug_id": 677853, "id": 9746228, "tags": [], "count": 18, "is_private": false, "author": "rkent@caspia.com", "attachment_id": null, "time": "2015-01-02T08:51:20Z", "creator": "rkent@caspia.com", "text": "I went searching for this bug, because while working on bug 856519 I noticed that there was some duplicated code in nsMsgLocalMailFolder::EndCopy that looked to me like it was adding an extra blank line during message copies. Doing some history searching, these lines did not originally exist, but were added in the massive patch for bug 402392 that added pluggable stores. The extra code blank line was added without comment, which makes me think it was inadvertent. I thought that there must be some real consequences of those extra lines, and was looking for confirmation of that before I suggested that they be removed.\n\nI will probably incorporate that fix into bug 856519 since I am fixing there other oversights in the copy routine for pluggable stores.", "raw_text": "I went searching for this bug, because while working on bug 856519 I noticed that there was some duplicated code in nsMsgLocalMailFolder::EndCopy that looked to me like it was adding an extra blank line during message copies. Doing some history searching, these lines did not originally exist, but were added in the massive patch for bug 402392 that added pluggable stores. The extra code blank line was added without comment, which makes me think it was inadvertent. I thought that there must be some real consequences of those extra lines, and was looking for confirmation of that before I suggested that they be removed.\n\nI will probably incorporate that fix into bug 856519 since I am fixing there other oversights in the copy routine for pluggable stores.", "creation_time": "2015-01-02T08:51:20Z"}]}}, "comments": {}}