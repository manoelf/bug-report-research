{"comments": {}, "bugs": {"699928": {"comments": [{"attachment_id": null, "raw_text": "", "time": "2011-11-04T21:43:10Z", "tags": [], "author": "onecyrenus@gmail.com", "count": 0, "text": "", "creator": "onecyrenus@gmail.com", "is_private": false, "creation_time": "2011-11-04T21:43:10Z", "bug_id": 699928, "id": 5827503}, {"tags": [], "time": "2011-11-04T21:44:46Z", "raw_text": "http://openwebapps-jenkins.qa.phx1.mozilla.com:8080/job/OWA-Extension/15/console\n\nOK\nnose.plugins.jstests: DEBUG: Starting 'typed' [http://openwebapps-jenkins.qa.phx1.mozilla.com:8000/] firefox\nJS: /tests/spec/repo_api.html: example-10 ... ok\nJS: /tests/spec/repo_api.html: example-12 ... ERROR\nJS: /tests/spec/repo_api.html: example-2 ... ERROR\nJS: /tests/spec/repo_api.html: example-26 ... ERROR\nJS: /tests/spec/repo_api.html: example-30 ... ok\nJS: /tests/spec/repo_api.html: example-32 ... ok\nJS: /tests/spec/repo_api.html: example-34 ... ok\nJS: /tests/spec/repo_api.html: example-36 ... ok\nJS: /tests/spec/repo_api.html: example-38 ... ERROR\nJS: /tests/spec/repo_api.html: example-51 ... ok\nJS: /tests/spec/repo_api.html: example-53 ... ERROR\nJS: /tests/spec/repo_api.html: example-6 ... ok\nJS: /tests/spec/repo_api.html: example-60 ... ok\nJS: /tests/spec/repo_api.html: example-61 ... ok\nJS: /tests/spec/repo_api.html: example-62 ... ok\nJS: /tests/spec/repo_api.html: example-63 ... ok\nJS: /tests/spec/repo_api.html: example-64 ... ok\nJS: /tests/spec/repo_api.html: example-65 ... ok\nJS: /tests/spec/repo_api.html: example-66 ... ok\nJS: /tests/spec/repo_api.html: example-67 ... ERROR\nJS: /tests/spec/repo_api.html: example-7 ... ok\nJS: /tests/spec/repo_api.html: example-72 ... ERROR\nJS: /tests/spec/repo_api.html: example-8 ... ok\nJS: /tests/spec/repo_api.html: example-9 ... ok\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-12\n----------------------------------------------------------------------\nJSTestError: example-14 [actual=\"Error: args.url is undefined\" | expected=\"Error: install missing required url argument\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-2\n----------------------------------------------------------------------\nJSTestError: example-4 [actual=\"navigator.mozApps.amInstallednavigator.mozApps.getInstalledBynavigator.mozApps.installnavigator.mozApps.mgmt.clearWatchnavigator.mozApps.mgmt.launchnavigator.mozApps.mgmt.listnavigator.mozApps.mgmt.loadStatenavigator.mozApps.mgmt.loginStatusnavigator.mozApps.mgmt.saveStatenavigator.mozApps.mgmt.uninstallnavigator.mozApps.mgmt.watchUpdatesnavigator.mozApps.startActivity\" | expected=\"navigator.mozApps.amInstallednavigator.mozApps.getInstalledBynavigator.mozApps.installnavigator.mozApps.invokeServicenavigator.mozApps.mgmt.clearWatchnavigator.mozApps.mgmt.launchnavigator.mozApps.mgmt.listnavigator.mozApps.mgmt.uninstallnavigator.mozApps.mgmt.watchUpdates\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-26\n----------------------------------------------------------------------\nJSTestError: example-28 [actual=\"Error: wait(called:Spy('success')) has timed out\" | expected=\"success({  install_origin: \"http://...:...\",  install_time: ...,  manifest: {installs_allowed_from: [\"*\"], name: \"Wild and Crazy Basic App\"},  origin: \"http://...:...\"})\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-38\n----------------------------------------------------------------------\nJSTestError: example-39 [actual=\"Error: wait(called:Spy('success')) has timed out\" | expected=\"success()\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-53\n----------------------------------------------------------------------\nJSTestError: example-54 [actual=\"list([])\" | expected=\"list([  {    install_origin: \"http://...:...\",    install_time: ...,    manifest: {      name: \"An application which does not grant permission for any other origin to install it\"    },    origin: \"http://...:...\"  }])\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-67\n----------------------------------------------------------------------\nJSTestError: example-69 [actual=\"Error: wait(called:Spy('apps.install')) has timed out\" | expected=\"watchUpdates(\"add\", [  {    install_origin: \"http://127.0.0.1:?\",    install_time: ?,    manifest: {installs_allowed_from: [\"*\"], name: \"Super Crazy Basic App\"},    origin: \"http://127.0.0.1:?\"  }])apps.install()\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-72\n----------------------------------------------------------------------\nJSTestError: example-73 [actual=\"Error: wait(called:Spy('watchUpdates')) has timed out\" | expected=\"watchUpdates(\"add\", [  {    install_origin: \"http://127.0.0.1:?\",    install_time: ?,    manifest: {name: \"An application which does not grant permission for any other origin to install it\"},    origin: \"http://127.0.0.1:?\"  }])success()\"] on <firefox/100.0, gecko/8.0>{62} null\n\n----------------------------------------------------------------------\nXML: nosetests.xml\n----------------------------------------------------------------------\nRan 24 tests in 44.766s\n\nBasically the api's are not the same as the purely javascript implementation. \n\nAlso need to be able to build the extension in a \"TEST MODE\" similar to the javascript implementation.", "attachment_id": null, "id": 5827509, "bug_id": 699928, "is_private": false, "creation_time": "2011-11-04T21:44:46Z", "creator": "onecyrenus@gmail.com", "text": "http://openwebapps-jenkins.qa.phx1.mozilla.com:8080/job/OWA-Extension/15/console\n\nOK\nnose.plugins.jstests: DEBUG: Starting 'typed' [http://openwebapps-jenkins.qa.phx1.mozilla.com:8000/] firefox\nJS: /tests/spec/repo_api.html: example-10 ... ok\nJS: /tests/spec/repo_api.html: example-12 ... ERROR\nJS: /tests/spec/repo_api.html: example-2 ... ERROR\nJS: /tests/spec/repo_api.html: example-26 ... ERROR\nJS: /tests/spec/repo_api.html: example-30 ... ok\nJS: /tests/spec/repo_api.html: example-32 ... ok\nJS: /tests/spec/repo_api.html: example-34 ... ok\nJS: /tests/spec/repo_api.html: example-36 ... ok\nJS: /tests/spec/repo_api.html: example-38 ... ERROR\nJS: /tests/spec/repo_api.html: example-51 ... ok\nJS: /tests/spec/repo_api.html: example-53 ... ERROR\nJS: /tests/spec/repo_api.html: example-6 ... ok\nJS: /tests/spec/repo_api.html: example-60 ... ok\nJS: /tests/spec/repo_api.html: example-61 ... ok\nJS: /tests/spec/repo_api.html: example-62 ... ok\nJS: /tests/spec/repo_api.html: example-63 ... ok\nJS: /tests/spec/repo_api.html: example-64 ... ok\nJS: /tests/spec/repo_api.html: example-65 ... ok\nJS: /tests/spec/repo_api.html: example-66 ... ok\nJS: /tests/spec/repo_api.html: example-67 ... ERROR\nJS: /tests/spec/repo_api.html: example-7 ... ok\nJS: /tests/spec/repo_api.html: example-72 ... ERROR\nJS: /tests/spec/repo_api.html: example-8 ... ok\nJS: /tests/spec/repo_api.html: example-9 ... ok\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-12\n----------------------------------------------------------------------\nJSTestError: example-14 [actual=\"Error: args.url is undefined\" | expected=\"Error: install missing required url argument\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-2\n----------------------------------------------------------------------\nJSTestError: example-4 [actual=\"navigator.mozApps.amInstallednavigator.mozApps.getInstalledBynavigator.mozApps.installnavigator.mozApps.mgmt.clearWatchnavigator.mozApps.mgmt.launchnavigator.mozApps.mgmt.listnavigator.mozApps.mgmt.loadStatenavigator.mozApps.mgmt.loginStatusnavigator.mozApps.mgmt.saveStatenavigator.mozApps.mgmt.uninstallnavigator.mozApps.mgmt.watchUpdatesnavigator.mozApps.startActivity\" | expected=\"navigator.mozApps.amInstallednavigator.mozApps.getInstalledBynavigator.mozApps.installnavigator.mozApps.invokeServicenavigator.mozApps.mgmt.clearWatchnavigator.mozApps.mgmt.launchnavigator.mozApps.mgmt.listnavigator.mozApps.mgmt.uninstallnavigator.mozApps.mgmt.watchUpdates\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-26\n----------------------------------------------------------------------\nJSTestError: example-28 [actual=\"Error: wait(called:Spy('success')) has timed out\" | expected=\"success({  install_origin: \"http://...:...\",  install_time: ...,  manifest: {installs_allowed_from: [\"*\"], name: \"Wild and Crazy Basic App\"},  origin: \"http://...:...\"})\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-38\n----------------------------------------------------------------------\nJSTestError: example-39 [actual=\"Error: wait(called:Spy('success')) has timed out\" | expected=\"success()\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-53\n----------------------------------------------------------------------\nJSTestError: example-54 [actual=\"list([])\" | expected=\"list([  {    install_origin: \"http://...:...\",    install_time: ...,    manifest: {      name: \"An application which does not grant permission for any other origin to install it\"    },    origin: \"http://...:...\"  }])\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-67\n----------------------------------------------------------------------\nJSTestError: example-69 [actual=\"Error: wait(called:Spy('apps.install')) has timed out\" | expected=\"watchUpdates(\"add\", [  {    install_origin: \"http://127.0.0.1:?\",    install_time: ?,    manifest: {installs_allowed_from: [\"*\"], name: \"Super Crazy Basic App\"},    origin: \"http://127.0.0.1:?\"  }])apps.install()\"] on <firefox/100.0, gecko/8.0>{62} null\n\n======================================================================\nERROR: JS: /tests/spec/repo_api.html: example-72\n----------------------------------------------------------------------\nJSTestError: example-73 [actual=\"Error: wait(called:Spy('watchUpdates')) has timed out\" | expected=\"watchUpdates(\"add\", [  {    install_origin: \"http://127.0.0.1:?\",    install_time: ?,    manifest: {name: \"An application which does not grant permission for any other origin to install it\"},    origin: \"http://127.0.0.1:?\"  }])success()\"] on <firefox/100.0, gecko/8.0>{62} null\n\n----------------------------------------------------------------------\nXML: nosetests.xml\n----------------------------------------------------------------------\nRan 24 tests in 44.766s\n\nBasically the api's are not the same as the purely javascript implementation. \n\nAlso need to be able to build the extension in a \"TEST MODE\" similar to the javascript implementation.", "count": 1, "author": "onecyrenus@gmail.com"}, {"creation_time": "2011-11-11T01:36:30Z", "is_private": false, "id": 5841927, "bug_id": 699928, "text": "*** Bug 695572 has been marked as a duplicate of this bug. ***", "count": 2, "author": "onecyrenus@gmail.com", "creator": "onecyrenus@gmail.com", "tags": [], "raw_text": "", "attachment_id": null, "time": "2011-11-11T01:36:30Z"}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-11-28T22:12:25Z", "creator": "anant@kix.in", "time": "2011-11-28T22:12:25Z", "raw_text": "Let's change the tests to match what the add-on provides so we have a suite of working test.", "bug_id": 699928, "id": 5876966, "text": "Let's change the tests to match what the add-on provides so we have a suite of working test.", "count": 3, "author": "anant@kix.in"}, {"creator": "ianb@mozilla.com", "count": 4, "text": "Some of these failures are pretty trivial and should be easy to fix up, simply making the test more tolerant of some details (like the list of implemented APIs).  We can also use a condition on test sections, like:\n\n  <div class=\"doctest\">\n  $ if (navigator.mozApps.html5Implementation) AbortSection();\n  ... stuff just for the extension\n  </div>\n\nAnd of course the opposite for HTML-only tests.\n\nThe biggest problem I believe is that the HTML implementation adds some APIs for mocking out user responses (see TESTING_MODE in https://github.com/mozilla/openwebapps/blob/develop/site/jsapi/include.js ) -- without these I found the tests too error-prone, and impossible to test things like user cancellation.  Adding these to the extension should be possible, though should be well-protected by some build flag (the HTML tests rewrite include.js slightly to enable the mocking APIs).", "author": "ianb@mozilla.com", "bug_id": 699928, "id": 5876997, "creation_time": "2011-11-28T22:20:09Z", "is_private": false, "time": "2011-11-28T22:20:09Z", "raw_text": "Some of these failures are pretty trivial and should be easy to fix up, simply making the test more tolerant of some details (like the list of implemented APIs).  We can also use a condition on test sections, like:\n\n  <div class=\"doctest\">\n  $ if (navigator.mozApps.html5Implementation) AbortSection();\n  ... stuff just for the extension\n  </div>\n\nAnd of course the opposite for HTML-only tests.\n\nThe biggest problem I believe is that the HTML implementation adds some APIs for mocking out user responses (see TESTING_MODE in https://github.com/mozilla/openwebapps/blob/develop/site/jsapi/include.js ) -- without these I found the tests too error-prone, and impossible to test things like user cancellation.  Adding these to the extension should be possible, though should be well-protected by some build flag (the HTML tests rewrite include.js slightly to enable the mocking APIs).", "attachment_id": null, "tags": []}, {"creator": "bwalker@mozilla.com", "text": "Per Bill, this is not a blocker for dev preview release", "count": 5, "author": "bwalker@mozilla.com", "bug_id": 699928, "id": 5894979, "creation_time": "2011-12-06T18:33:19Z", "is_private": false, "time": "2011-12-06T18:33:19Z", "raw_text": "Per Bill, this is not a blocker for dev preview release", "attachment_id": null, "tags": []}, {"creator": "jsmith@mozilla.com", "is_private": false, "creation_time": "2012-02-12T00:14:02Z", "attachment_id": null, "tags": [], "author": "jsmith@mozilla.com", "count": 6, "text": "A Pivotal Tracker story has been created for this Bug: http://www.pivotaltracker.com/story/show/24808685", "id": 6053679, "bug_id": 699928, "raw_text": "A Pivotal Tracker story has been created for this Bug: http://www.pivotaltracker.com/story/show/24808685", "time": "2012-02-12T00:14:02Z"}]}}}