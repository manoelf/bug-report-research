{"comments": {}, "bugs": {"1630694": {"comments": [{"author": "francesco.lodolo@gmail.com", "id": 14759573, "text": "It happened to me a few days ago, and today to another person in MoCo:\n- Firefox suddenly started after an update completely white  (I normally use Dark Mode) and missing styling in the toolbar and tabs.\n- In about:addons all themes were deactivated (a state it's impossible to get into from within the browser).\n\nSelecting one the theme (Dark Theme or Default) fixed the issue. Unfortunately I didn't manage to take a screenshot or look into the Console for hints.", "tags": [], "bug_id": 1630694, "count": 0, "is_private": false, "raw_text": "It happened to me a few days ago, and today to another person in MoCo:\n- Firefox suddenly started after an update completely white  (I normally use Dark Mode) and missing styling in the toolbar and tabs.\n- In about:addons all themes were deactivated (a state it's impossible to get into from within the browser).\n\nSelecting one the theme (Dark Theme or Default) fixed the issue. Unfortunately I didn't manage to take a screenshot or look into the Console for hints.", "creation_time": "2020-04-16T17:24:03Z", "time": "2020-04-16T17:24:03Z", "attachment_id": null, "creator": "francesco.lodolo@gmail.com"}, {"creator": "francesco.lodolo@gmail.com", "attachment_id": null, "creation_time": "2020-04-16T17:34:01Z", "id": 14759598, "text": "Both cases happened on macOS. For me it happened after updating to Nightly 77.0a1 (20200408033650), and only happened once.", "time": "2020-04-16T17:34:01Z", "raw_text": "Both cases happened on macOS. For me it happened after updating to Nightly 77.0a1 (20200408033650), and only happened once.", "is_private": false, "count": 1, "tags": [], "bug_id": 1630694, "author": "francesco.lodolo@gmail.com"}, {"time": "2020-04-17T06:12:06Z", "raw_text": "I was testing a localized build, and it happened again.\n\nConsole is full of errors for all built-ins add-ons, e.g.\n\n```\n1587103660060\taddons.xpi\tWARN\tException running bootstrap method update on default-theme@mozilla.org: TypeError: can't access property \"origins\", oldPermissions is null(resource://gre/modules/Extension.jsm:720:7) JS Stack trace: intersectPermissions@Extension.jsm:720:7\nmigratePermissions@Extension.jsm:748:34\nupdate@Extension.jsm:1666:25\ncallBootstrapMethod@XPIProvider.jsm:1795:33\n_install@XPIProvider.jsm:1970:18\nupdate@XPIProvider.jsm:2078:17\nasync*applyStartupChange@XPIDatabase.jsm:3379:67\nprocessFileChanges@XPIDatabase.jsm:3279:14\ncheckForChanges@XPIProvider.jsm:2955:55\nstartup@XPIProvider.jsm:2415:12\ncallProvider@AddonManager.jsm:212:31\n_startProvider@AddonManager.jsm:584:17\nstartup@AddonManager.jsm:808:14\nstartup@AddonManager.jsm:3479:26\nobserve@addonManager.js:87:29\n```\n\nEven restarting the browser doesn't solve the problem, although the console doesn't show any of these warnings anymore.", "tags": [], "bug_id": 1630694, "is_private": false, "count": 2, "author": "francesco.lodolo@gmail.com", "attachment_id": 9141164, "creator": "francesco.lodolo@gmail.com", "creation_time": "2020-04-17T06:12:06Z", "text": "Created attachment 9141164\nScreenshot\n\nI was testing a localized build, and it happened again.\n\nConsole is full of errors for all built-ins add-ons, e.g.\n\n```\n1587103660060\taddons.xpi\tWARN\tException running bootstrap method update on default-theme@mozilla.org: TypeError: can't access property \"origins\", oldPermissions is null(resource://gre/modules/Extension.jsm:720:7) JS Stack trace: intersectPermissions@Extension.jsm:720:7\nmigratePermissions@Extension.jsm:748:34\nupdate@Extension.jsm:1666:25\ncallBootstrapMethod@XPIProvider.jsm:1795:33\n_install@XPIProvider.jsm:1970:18\nupdate@XPIProvider.jsm:2078:17\nasync*applyStartupChange@XPIDatabase.jsm:3379:67\nprocessFileChanges@XPIDatabase.jsm:3279:14\ncheckForChanges@XPIProvider.jsm:2955:55\nstartup@XPIProvider.jsm:2415:12\ncallProvider@AddonManager.jsm:212:31\n_startProvider@AddonManager.jsm:584:17\nstartup@AddonManager.jsm:808:14\nstartup@AddonManager.jsm:3479:26\nobserve@addonManager.js:87:29\n```\n\nEven restarting the browser doesn't solve the problem, although the console doesn't show any of these warnings anymore.", "id": 14760828}, {"time": "2020-04-22T06:13:33Z", "raw_text": "", "is_private": false, "count": 3, "bug_id": 1630694, "tags": [], "author": "francesco.lodolo@gmail.com", "attachment_id": null, "creator": "francesco.lodolo@gmail.com", "creation_time": "2020-04-22T06:13:33Z", "text": "*** Bug 1631893 has been marked as a duplicate of this bug. ***", "id": 14770973}, {"count": 4, "is_private": false, "bug_id": 1630694, "tags": [], "author": "rob@robwu.nl", "id": 14773781, "text": "I just encountered this issue after updating from 76.0a (almost a month old) to 77.0a1 (today's build).\n\nThe issue persists even after restarting the browser.\n\nI don't see the reported warnings, which means that we need to fix up the issue by re-enabling the last known theme when we have a proper fix for bug 1628239.", "creator": "rob@robwu.nl", "attachment_id": null, "time": "2020-04-23T12:43:37Z", "creation_time": "2020-04-23T12:43:37Z", "raw_text": "I just encountered this issue after updating from 76.0a (almost a month old) to 77.0a1 (today's build).\n\nThe issue persists even after restarting the browser.\n\nI don't see the reported warnings, which means that we need to fix up the issue by re-enabling the last known theme when we have a proper fix for bug 1628239."}, {"id": 14784021, "text": "Created attachment 9144021\nBug 1630694 fix maintaining enabled state of themes on app update", "creator": "mixedpuppy@gmail.com", "attachment_id": 9144021, "creation_time": "2020-04-28T14:53:41Z", "tags": [], "bug_id": 1630694, "count": 5, "is_private": false, "author": "mixedpuppy@gmail.com", "time": "2020-04-28T14:53:41Z", "raw_text": ""}, {"id": 14784114, "text": "Pushed by scaraveo@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0e54304aaef3\nfix maintaining enabled state of themes on app update r=aswan", "creator": "pulsebot@bots.tld", "attachment_id": null, "creation_time": "2020-04-28T15:31:43Z", "count": 6, "is_private": false, "bug_id": 1630694, "tags": [], "author": "pulsebot@bots.tld", "time": "2020-04-28T15:31:43Z", "raw_text": "Pushed by scaraveo@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0e54304aaef3\nfix maintaining enabled state of themes on app update r=aswan"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/0e54304aaef3", "id": 14785098, "creation_time": "2020-04-28T21:55:37Z", "creator": "opoprus@mozilla.com", "attachment_id": null, "author": "opoprus@mozilla.com", "is_private": false, "count": 7, "bug_id": 1630694, "tags": ["bugherder"], "raw_text": "https://hg.mozilla.org/mozilla-central/rev/0e54304aaef3", "time": "2020-04-28T21:55:37Z"}, {"author": "rob@robwu.nl", "tags": [], "bug_id": 1630694, "is_private": false, "count": 8, "raw_text": "This did not work for me. I just updated from Nightly 77.0a1 to Nightly 78.0a1 buildID 20200504205324 on macOS, and all themes are still disabled. Before the version bump I also updated a few times within 77.0a1 without success, and hoped that the bump to 78.0a1 would fix it. Unfortunately not.\n\nShane, should this bug be re-opened or should I file a new one?", "time": "2020-05-05T09:23:28Z", "id": 14797406, "text": "This did not work for me. I just updated from Nightly 77.0a1 to Nightly 78.0a1 buildID 20200504205324 on macOS, and all themes are still disabled. Before the version bump I also updated a few times within 77.0a1 without success, and hoped that the bump to 78.0a1 would fix it. Unfortunately not.\n\nShane, should this bug be re-opened or should I file a new one?", "creation_time": "2020-05-05T09:23:28Z", "attachment_id": null, "creator": "rob@robwu.nl"}, {"text": "Filed as new bug at bug 1636177", "id": 14802855, "creation_time": "2020-05-07T16:29:50Z", "creator": "rob@robwu.nl", "attachment_id": null, "author": "rob@robwu.nl", "count": 9, "is_private": false, "tags": [], "bug_id": 1630694, "raw_text": "Filed as new bug at bug 1636177", "time": "2020-05-07T16:29:50Z"}]}}}