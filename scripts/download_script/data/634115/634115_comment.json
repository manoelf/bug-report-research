{"bugs": {"634115": {"comments": [{"count": 0, "raw_text": "When you restore a Firefox session containing multiple windows, each window is opened with the wrong dimensions and a mis-positioned client region before quickly 'snapping' to the correct dimensions (which requires a repaint). This is normally not visible, but if you have enough windows saved (or run a debug build) you can easily observe it.\n\nOddly enough I ran across this bug because a patch I was working on managed to disable the second part of it (snapping to the correct size).\n\nI can reproduce this with a nightly from today, and in a debug build against my local source tree. I wasn't able to reproduce this in regular beta 11 but the effect is transient enough that I may have missed it, so I will investigate further.\n\nI've attached a screen capture that shows the various stages of us restoring windows during a session restore, with the buggy contents highlighted with red boxes.", "bug_id": 634115, "is_private": false, "tags": [], "time": "2011-02-14T23:52:07Z", "creation_time": "2011-02-14T23:52:07Z", "author": "kg@luminance.org", "id": 5278457, "attachment_id": 512315, "creator": "kg@luminance.org", "text": "Created attachment 512315\nScreenshot of some windows during a session restore, with the various stages of the restore highlighted in red\n\nWhen you restore a Firefox session containing multiple windows, each window is opened with the wrong dimensions and a mis-positioned client region before quickly 'snapping' to the correct dimensions (which requires a repaint). This is normally not visible, but if you have enough windows saved (or run a debug build) you can easily observe it.\n\nOddly enough I ran across this bug because a patch I was working on managed to disable the second part of it (snapping to the correct size).\n\nI can reproduce this with a nightly from today, and in a debug build against my local source tree. I wasn't able to reproduce this in regular beta 11 but the effect is transient enough that I may have missed it, so I will investigate further.\n\nI've attached a screen capture that shows the various stages of us restoring windows during a session restore, with the buggy contents highlighted with red boxes."}, {"text": "Created attachment 512316\nVideo capture of a nightly restoring multiple windows\n\nI've attached a short video capture of Minefield restoring multiple windows. It happens quickly, but you can see the bug in action. It's much easier to observe in a debug build, because everything is slower there (especially startup).", "attachment_id": 512316, "id": 5278462, "creation_time": "2011-02-14T23:53:12Z", "tags": [], "is_private": false, "raw_text": "I've attached a short video capture of Minefield restoring multiple windows. It happens quickly, but you can see the bug in action. It's much easier to observe in a debug build, because everything is slower there (especially startup).", "author": "kg@luminance.org", "creator": "kg@luminance.org", "time": "2011-02-14T23:53:12Z", "count": 1, "bug_id": 634115}, {"author": "kg@luminance.org", "creator": "kg@luminance.org", "count": 2, "bug_id": 634115, "time": "2011-02-15T00:07:02Z", "creation_time": "2011-02-15T00:07:02Z", "attachment_id": null, "id": 5278501, "text": "I'm not sure how to do an exhaustive regression range search for this bug since it's difficult to identify/reproduce, but I've tested it against the following nightlies and reproduced it in all of them:\n\nftp://ftp.mozilla.org/pub/firefox/nightly/2010/07/2010-07-01-04-mozilla-central/firefox-4.0b2pre.en-US.win32.zip\nftp://ftp.mozilla.org/pub/firefox/nightly/2010/08/2010-08-01-04-mozilla-central/firefox-4.0b3pre.en-US.win32.zip\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-4.0b12pre.en-US.win32.installer.exe", "raw_text": "I'm not sure how to do an exhaustive regression range search for this bug since it's difficult to identify/reproduce, but I've tested it against the following nightlies and reproduced it in all of them:\n\nftp://ftp.mozilla.org/pub/firefox/nightly/2010/07/2010-07-01-04-mozilla-central/firefox-4.0b2pre.en-US.win32.zip\nftp://ftp.mozilla.org/pub/firefox/nightly/2010/08/2010-08-01-04-mozilla-central/firefox-4.0b3pre.en-US.win32.zip\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-4.0b12pre.en-US.win32.installer.exe", "is_private": false, "tags": []}, {"tags": [], "is_private": false, "raw_text": "Maybe bug 673824 has something to do with this one?", "text": "Maybe bug 673824 has something to do with this one?", "id": 5626711, "attachment_id": null, "creation_time": "2011-08-02T00:09:01Z", "time": "2011-08-02T00:09:01Z", "bug_id": 634115, "count": 3, "creator": "mcastelluccio@mozilla.com", "author": "mcastelluccio@mozilla.com"}]}}, "comments": {}}