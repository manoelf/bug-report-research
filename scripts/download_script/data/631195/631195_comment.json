{"comments": {}, "bugs": {"631195": {"comments": [{"creator": "maciej.dworznik@asseco.pl", "tags": [], "author": "maciej.dworznik@asseco.pl", "attachment_id": null, "bug_id": 631195, "creation_time": "2011-02-03T12:39:43Z", "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; pl; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 6.1; pl; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13\n\nOur application has to invalidate session before user close the browser. Due to that we put some warning on beforeUnload, and then if user confirm, we wont to invoke our servlet to logout. It works fine, when user clicks e.g. 'back' button, but it doesn't work when he close tab or browser. Details below.\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Open attached test case\n2.Click 'reload' - works fine, no errors in Error console\n3.Close tab. Error in Error console\nActual Results:  \nAction is not executed. Error in Error console\n\nExpected Results:  \nwindow.location.href should send the request but not open new window(e.g to invoke some servlet)\n\nExample of error from error console:\nB\u0142\u0105d: uncaught exception: [Exception... \"Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIDOMLocation.href]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: http://localhost:7001/PA_WEB/faces/start?_adf.ctrl-state=apawa1la2_19 :: anonymous :: line 16\"  data: no]", "raw_text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; pl; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 6.1; pl; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13\n\nOur application has to invalidate session before user close the browser. Due to that we put some warning on beforeUnload, and then if user confirm, we wont to invoke our servlet to logout. It works fine, when user clicks e.g. 'back' button, but it doesn't work when he close tab or browser. Details below.\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Open attached test case\n2.Click 'reload' - works fine, no errors in Error console\n3.Close tab. Error in Error console\nActual Results:  \nAction is not executed. Error in Error console\n\nExpected Results:  \nwindow.location.href should send the request but not open new window(e.g to invoke some servlet)\n\nExample of error from error console:\nB\u0142\u0105d: uncaught exception: [Exception... \"Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIDOMLocation.href]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: http://localhost:7001/PA_WEB/faces/start?_adf.ctrl-state=apawa1la2_19 :: anonymous :: line 16\"  data: no]", "id": 5251218, "time": "2011-02-03T12:39:43Z", "is_private": false, "count": 0}, {"tags": [], "creator": "maciej.dworznik@asseco.pl", "author": "maciej.dworznik@asseco.pl", "creation_time": "2011-02-03T12:40:45Z", "attachment_id": 509388, "bug_id": 631195, "is_private": false, "text": "Created attachment 509388\nTest case", "id": 5251220, "raw_text": "", "time": "2011-02-03T12:40:45Z", "count": 1}]}}}