{"comments": {}, "bugs": {"279553": {"comments": [{"author": "tlowe@shaw.ca", "text": "User-Agent:       Opera/6.0 (Windows 2000; U)  [en]\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0\n\nI made a page with 7 frames, like this:\n\n<frameset rows=\"23,7,7,7,7,7,15\" border=\"1\" framespacing=\"0\">\n  <frame src=\"tstFooPlaceholder.htm\" scrolling=\"no\" name=\"TopFrame\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame1\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame2\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame3\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame4\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame5\">\n  <frame src=\"tstFooValidate.htm\" scrolling=\"no\" name=\"BottomFrame\">\n</frameset>\n\ntstFoo.htm has one <input type=\"text\" /> field in it. In the real world, it's actually a file input field where people can choose files to upload, but this is just my quick and dirty test code to verify the bug.\n\nSo I have 5 instances of tstFoo.htm in frames 1 to 5. The page in the top frame doesn't do anything, and the page in the bottom frame (tstFooValidate.htm) has a 'GO' button and some JavaScript code that iterates the contents of each instance of tstFoo.htm and tells us the value of each text field foo.htm (there's only 1). Works fine in IE 5.5 or Opera versions 6 or 7.\n\nHere is the JavaScript code:\n\n<script language=\"JavaScript\">\n\tfunction GoValidate() {\n\t\tfor (var i = 1; i <= 5; i++) {\n\t\t\t// Seems to be this line that doesn't work in FireFox:\n\t\t\t// (although it works in Opera and IE)\n\t\t\tvar sVal = parent.frames[i].frmFoo.txtFoo.value;\n// show me:\nalert (\"sVal = \" + sVal);\n\n\t\t} // next i\n\t} // end function\n\n</script>\n\nThe Firefox JavaScript Console tells me:\n\nError: parent.frames[i].frmFoo has no properties\nSource File: http://192.168.0.101/phptest/tstFooValidate.htm\nLine: 14\n\nThat's this line:\nvar sVal = parent.frames[i].frmFoo.txtFoo.value;\n\nI don't think so. My JavaScript book ('JavaScript Bible, Gold Edition' by Danny Goodman) tells me that that syntax is a valid and legal way to address frames in a child->parent->other child relationship (plus it works in those other browsers).\n\nIs it perhaps not interpreting 'i' properly? Shouldn't that JavaScript Console error message instead say:\n\nError: parent.frames[1].frmUpload has no properties\n\nFor thoroughness, I should also report that the JavaScript Console shows an additional error, thus:\n\nError: syntax error\nSource File: http://wpad/wpad.dat\tLine: 207\nSource Code: <HTML>\n\nI have no idea what that means, but if I click on the http://wpad/wpad.dat link, I see:\n\n<HTML>\n<HEAD><TITLE>500 Server Error</TITLE></HEAD>\n<BODY>\n<H1>Server Error</H1>\n<H4>\nThe following error occurred:<P>\n[code=SERVER_RESPONSE_RESET] The server response could not be read because of an error. Contact your system administrator.\n</H4>\n<HR>\nPlease contact the administrator.\n</BODY>\n</HTML>\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Make a stack of frames with multiple instances of 1 htm file in frames 1 - 5\n2. Write JavaScript loop to reference parent.frames[i].formName.Input.value\n3.  where i = 1 to 5\n\nActual Results:  \nFirefox does not loop through the frames, shows error in JavaScript Console:\nError: parent.frames[i].formName has no properties\n\n\nExpected Results:  \nMy idea is that it should have evaluated 'i' and didn't. Reason I think this is because the same JavaScript code shown above works fine if I remove the stack of frames and the for/next loop, and the parent.frames[i] reference.\n\nI do not use themes. If you want me to send my test htm files, I'll be happy to do that.\n\nI have to add that I'm highly impressed with Firefox. Good work! One thing that I do miss is Opera's F2 key (open new link)...", "tags": [], "bug_id": 279553, "count": 0, "id": 2394826, "is_private": false, "raw_text": "User-Agent:       Opera/6.0 (Windows 2000; U)  [en]\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0\n\nI made a page with 7 frames, like this:\n\n<frameset rows=\"23,7,7,7,7,7,15\" border=\"1\" framespacing=\"0\">\n  <frame src=\"tstFooPlaceholder.htm\" scrolling=\"no\" name=\"TopFrame\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame1\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame2\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame3\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame4\">\n  <frame src=\"tstFoo.htm\" scrolling=\"no\" name=\"Frame5\">\n  <frame src=\"tstFooValidate.htm\" scrolling=\"no\" name=\"BottomFrame\">\n</frameset>\n\ntstFoo.htm has one <input type=\"text\" /> field in it. In the real world, it's actually a file input field where people can choose files to upload, but this is just my quick and dirty test code to verify the bug.\n\nSo I have 5 instances of tstFoo.htm in frames 1 to 5. The page in the top frame doesn't do anything, and the page in the bottom frame (tstFooValidate.htm) has a 'GO' button and some JavaScript code that iterates the contents of each instance of tstFoo.htm and tells us the value of each text field foo.htm (there's only 1). Works fine in IE 5.5 or Opera versions 6 or 7.\n\nHere is the JavaScript code:\n\n<script language=\"JavaScript\">\n\tfunction GoValidate() {\n\t\tfor (var i = 1; i <= 5; i++) {\n\t\t\t// Seems to be this line that doesn't work in FireFox:\n\t\t\t// (although it works in Opera and IE)\n\t\t\tvar sVal = parent.frames[i].frmFoo.txtFoo.value;\n// show me:\nalert (\"sVal = \" + sVal);\n\n\t\t} // next i\n\t} // end function\n\n</script>\n\nThe Firefox JavaScript Console tells me:\n\nError: parent.frames[i].frmFoo has no properties\nSource File: http://192.168.0.101/phptest/tstFooValidate.htm\nLine: 14\n\nThat's this line:\nvar sVal = parent.frames[i].frmFoo.txtFoo.value;\n\nI don't think so. My JavaScript book ('JavaScript Bible, Gold Edition' by Danny Goodman) tells me that that syntax is a valid and legal way to address frames in a child->parent->other child relationship (plus it works in those other browsers).\n\nIs it perhaps not interpreting 'i' properly? Shouldn't that JavaScript Console error message instead say:\n\nError: parent.frames[1].frmUpload has no properties\n\nFor thoroughness, I should also report that the JavaScript Console shows an additional error, thus:\n\nError: syntax error\nSource File: http://wpad/wpad.dat\tLine: 207\nSource Code: <HTML>\n\nI have no idea what that means, but if I click on the http://wpad/wpad.dat link, I see:\n\n<HTML>\n<HEAD><TITLE>500 Server Error</TITLE></HEAD>\n<BODY>\n<H1>Server Error</H1>\n<H4>\nThe following error occurred:<P>\n[code=SERVER_RESPONSE_RESET] The server response could not be read because of an error. Contact your system administrator.\n</H4>\n<HR>\nPlease contact the administrator.\n</BODY>\n</HTML>\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Make a stack of frames with multiple instances of 1 htm file in frames 1 - 5\n2. Write JavaScript loop to reference parent.frames[i].formName.Input.value\n3.  where i = 1 to 5\n\nActual Results:  \nFirefox does not loop through the frames, shows error in JavaScript Console:\nError: parent.frames[i].formName has no properties\n\n\nExpected Results:  \nMy idea is that it should have evaluated 'i' and didn't. Reason I think this is because the same JavaScript code shown above works fine if I remove the stack of frames and the for/next loop, and the parent.frames[i] reference.\n\nI do not use themes. If you want me to send my test htm files, I'll be happy to do that.\n\nI have to add that I'm highly impressed with Firefox. Good work! One thing that I do miss is Opera's F2 key (open new link)...", "attachment_id": null, "creator": "tlowe@shaw.ca", "time": "2005-01-24T08:45:04Z", "creation_time": "2005-01-24T08:45:04Z"}, {"is_private": false, "time": "2005-01-24T08:55:44Z", "creation_time": "2005-01-24T08:55:44Z", "attachment_id": 172246, "creator": "tlowe@shaw.ca", "raw_text": "This is a frameset which loads 3 html files (one of them is loaded 5 times in 5\ndifferent frames). It shows 5 text input fields when loaded. Type something in\nthe input fields, and then click the 'GO' button. You should see 5 alert()\nboxes showing what you typed, but in Firefox I don't see anything.", "bug_id": 279553, "tags": [], "text": "Created attachment 172246\n4 very small html files, frameset plus child files\n\nThis is a frameset which loads 3 html files (one of them is loaded 5 times in 5\ndifferent frames). It shows 5 text input fields when loaded. Type something in\nthe input fields, and then click the 'GO' button. You should see 5 alert()\nboxes showing what you typed, but in Firefox I don't see anything.", "author": "tlowe@shaw.ca", "id": 2394834, "count": 1}, {"count": 2, "id": 2395240, "creation_time": "2005-01-24T18:47:28Z", "time": "2005-01-24T18:47:28Z", "raw_text": "(In reply to comment #1)\nReproduced this behavior in Firefox 1.0, confirmed that it works as expected in\nIE6. However, JavaScript Console in Firefox shows an error of\n\"parent.frames[i].forms has no properties\" or something to that effect.\n\nChanging the object to alert on to \"parent.frames[i].location\" worked as\nexpected, alerting the URL of the frame src document in each iteration of the\nloop. So clearly not a problem looping thru the frames array.\n\nHere's the deal: the \"frame\" object is essentially the same as referring to a\n\"window\" object in the DOM hierarchy, in that they are on the same level of the\ntree. \"location\" is a property of both as well. The problem is, frames and\nwindows technically contain a \"document\" object as well. If I change the\nassignment of sVar in the loop to read:\n\nvar sVal = parent.frames[i].document.frmFoo.txtFoo.value;\n\nit works as expected. The reason the other code worked in IE is because it\nimplicitly uses the \"document\" object of \"frame\" if no object is specified.\nWhile this is convenient, it's not necessarily correct.\n\nAlso, note that the line of code above DOES work in IE as well.\n\nI'd say this is a question of semantics and how strict we want a JS interpreter\nto be rather than a bug.\n\n~Darton", "creator": "dartonw@metalz.org", "attachment_id": null, "is_private": false, "tags": [], "bug_id": 279553, "author": "dartonw@metalz.org", "text": "(In reply to comment #1)\nReproduced this behavior in Firefox 1.0, confirmed that it works as expected in\nIE6. However, JavaScript Console in Firefox shows an error of\n\"parent.frames[i].forms has no properties\" or something to that effect.\n\nChanging the object to alert on to \"parent.frames[i].location\" worked as\nexpected, alerting the URL of the frame src document in each iteration of the\nloop. So clearly not a problem looping thru the frames array.\n\nHere's the deal: the \"frame\" object is essentially the same as referring to a\n\"window\" object in the DOM hierarchy, in that they are on the same level of the\ntree. \"location\" is a property of both as well. The problem is, frames and\nwindows technically contain a \"document\" object as well. If I change the\nassignment of sVar in the loop to read:\n\nvar sVal = parent.frames[i].document.frmFoo.txtFoo.value;\n\nit works as expected. The reason the other code worked in IE is because it\nimplicitly uses the \"document\" object of \"frame\" if no object is specified.\nWhile this is convenient, it's not necessarily correct.\n\nAlso, note that the line of code above DOES work in IE as well.\n\nI'd say this is a question of semantics and how strict we want a JS interpreter\nto be rather than a bug.\n\n~Darton"}, {"tags": [], "bug_id": 279553, "author": "tlowe@shaw.ca", "text": "Darton is right. The problem was in my JavaScript (which I got from my\nbook). I should find myself a good JavaScript forum instead of wasting\neveryone's time with imaginary bugs.\n\nI changed the status of this to INVALID, since no fixing is required.\n\n- Terry\n", "count": 3, "id": 2395391, "is_private": false, "creation_time": "2005-01-24T21:35:08Z", "time": "2005-01-24T21:35:08Z", "raw_text": "Darton is right. The problem was in my JavaScript (which I got from my\nbook). I should find myself a good JavaScript forum instead of wasting\neveryone's time with imaginary bugs.\n\nI changed the status of this to INVALID, since no fixing is required.\n\n- Terry\n", "creator": "tlowe@shaw.ca", "attachment_id": null}]}}}