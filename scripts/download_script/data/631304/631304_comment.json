{"bugs": {"631304": {"comments": [{"time": "2011-02-03T19:19:14Z", "is_private": false, "attachment_id": 509501, "bug_id": 631304, "tags": [], "count": 0, "creator": "u279076@disabled.tld", "text": "Created attachment 509501\nScreenshot\n\nCurrently, in downloadManager.downloadFileOfUnkownType() we only wait for the Download Manager dialog to open.  We don't verify the loading of its content.  As a result, we fail when an empty dialog appears.  While this happens rarely, it does happen (see screenshot).\n\nNOTE: This came out of bug 631246.", "creation_time": "2011-02-03T19:19:14Z", "raw_text": "Currently, in downloadManager.downloadFileOfUnkownType() we only wait for the Download Manager dialog to open.  We don't verify the loading of its content.  As a result, we fail when an empty dialog appears.  While this happens rarely, it does happen (see screenshot).\n\nNOTE: This came out of bug 631246.", "id": 5252173, "author": "u279076@disabled.tld"}, {"is_private": false, "time": "2011-02-03T19:29:35Z", "attachment_id": null, "creation_time": "2011-02-03T19:29:35Z", "text": "With my fix for the mozmill internal window.loaded checks it should normally not happen. When we are searching for the window do we use handleWindow or simply a getMostRecentWindow? We have to wait for window.documentLoaded here.", "id": 5252201, "raw_text": "With my fix for the mozmill internal window.loaded checks it should normally not happen. When we are searching for the window do we use handleWindow or simply a getMostRecentWindow? We have to wait for window.documentLoaded here.", "tags": [], "count": 1, "creator": "hskupin@gmail.com", "bug_id": 631304, "author": "hskupin@gmail.com"}, {"bug_id": 631304, "count": 2, "creator": "u279076@disabled.tld", "tags": [], "time": "2011-02-03T19:42:32Z", "raw_text": "We use getMostRecentWindow before calling handleWindow:\n\ncontroller.waitForEval(\"subject.getMostRecentWindow('').document.documentElement.id == 'unknownContentType'\", gTimeout, 100, mozmill.wm);", "id": 5252251, "text": "We use getMostRecentWindow before calling handleWindow:\n\ncontroller.waitForEval(\"subject.getMostRecentWindow('').document.documentElement.id == 'unknownContentType'\", gTimeout, 100, mozmill.wm);", "is_private": false, "creation_time": "2011-02-03T19:42:32Z", "author": "u279076@disabled.tld", "attachment_id": null}, {"attachment_id": null, "author": "u279076@disabled.tld", "tags": [], "time": "2011-02-03T19:47:33Z", "creator": "u279076@disabled.tld", "count": 3, "bug_id": 631304, "is_private": false, "creation_time": "2011-02-03T19:47:33Z", "text": "I did a test by dumping documentLoaded between the waitForEval and handleWindow.  In the case of the empty dialog, documentLoaded is still TRUE.", "id": 5252268, "raw_text": "I did a test by dumping documentLoaded between the waitForEval and handleWindow.  In the case of the empty dialog, documentLoaded is still TRUE."}, {"author": "u279076@disabled.tld", "text": "Also, adding a sleep(100) here does not prevent the empty dialog from occurring.", "creation_time": "2011-02-03T19:50:39Z", "raw_text": "Also, adding a sleep(100) here does not prevent the empty dialog from occurring.", "id": 5252278, "bug_id": 631304, "count": 4, "creator": "u279076@disabled.tld", "tags": [], "attachment_id": null, "is_private": false, "time": "2011-02-03T19:50:39Z"}, {"creation_time": "2011-02-03T19:55:01Z", "text": "(In reply to comment #4)\n> Also, adding a sleep(100) here does not prevent the empty dialog from\n> occurring.\n\nBumping up the number to 1000 (a full second) seems to have prevented this dialog from happening.  It's far from ideal, but I'm fine with checking this in as a temporary workaround.\n\nHenrik, what do you think?", "id": 5252297, "raw_text": "(In reply to comment #4)\n> Also, adding a sleep(100) here does not prevent the empty dialog from\n> occurring.\n\nBumping up the number to 1000 (a full second) seems to have prevented this dialog from happening.  It's far from ideal, but I'm fine with checking this in as a temporary workaround.\n\nHenrik, what do you think?", "creator": "u279076@disabled.tld", "tags": [], "count": 5, "bug_id": 631304, "author": "u279076@disabled.tld", "is_private": false, "time": "2011-02-03T19:55:01Z", "attachment_id": null}, {"author": "u279076@disabled.tld", "raw_text": "(In reply to comment #5)\n> (In reply to comment #4)\n> > Also, adding a sleep(100) here does not prevent the empty dialog from\n> > occurring.\n> \n> Bumping up the number to 1000 (a full second) seems to have prevented this\n> dialog from happening.  It's far from ideal, but I'm fine with checking this in\n> as a temporary workaround.\n> \n> Henrik, what do you think?\n\nUgh, scratch that...I did a second testrun of 100 and it happened this time...so after 147 testruns it happens once.  A sleep(1000) simply makes it happen far less often.", "id": 5252303, "text": "(In reply to comment #5)\n> (In reply to comment #4)\n> > Also, adding a sleep(100) here does not prevent the empty dialog from\n> > occurring.\n> \n> Bumping up the number to 1000 (a full second) seems to have prevented this\n> dialog from happening.  It's far from ideal, but I'm fine with checking this in\n> as a temporary workaround.\n> \n> Henrik, what do you think?\n\nUgh, scratch that...I did a second testrun of 100 and it happened this time...so after 147 testruns it happens once.  A sleep(1000) simply makes it happen far less often.", "creation_time": "2011-02-03T19:56:31Z", "bug_id": 631304, "count": 6, "creator": "u279076@disabled.tld", "tags": [], "attachment_id": null, "is_private": false, "time": "2011-02-03T19:56:31Z"}, {"creator": "u279076@disabled.tld", "tags": [], "count": 7, "bug_id": 631304, "creation_time": "2011-02-03T19:58:05Z", "text": "I'm wondering if we shouldn't bring in a developer who works on the code in this area. Is it possibly a Firefox bug?", "id": 5252312, "raw_text": "I'm wondering if we shouldn't bring in a developer who works on the code in this area. Is it possibly a Firefox bug?", "author": "u279076@disabled.tld", "time": "2011-02-03T19:58:05Z", "is_private": false, "attachment_id": null}, {"time": "2011-02-03T20:44:46Z", "is_private": false, "attachment_id": null, "tags": [], "count": 8, "creator": "hskupin@gmail.com", "bug_id": 631304, "id": 5252428, "raw_text": "(In reply to comment #7)\n> I'm wondering if we shouldn't bring in a developer who works on the code in\n> this area. Is it possibly a Firefox bug?\n\nSounds like. I think you can ask Shawn Wilsher, or check mxr for the xul/js file. There should be at least some names.", "creation_time": "2011-02-03T20:44:46Z", "text": "(In reply to comment #7)\n> I'm wondering if we shouldn't bring in a developer who works on the code in\n> this area. Is it possibly a Firefox bug?\n\nSounds like. I think you can ask Shawn Wilsher, or check mxr for the xul/js file. There should be at least some names.", "author": "hskupin@gmail.com"}, {"author": "u279076@disabled.tld", "text": "As per email, Shawn, if you have any information we can use to debug what might be happening here, please comment on this bug.\n\nThanks", "creation_time": "2011-02-07T17:45:43Z", "raw_text": "As per email, Shawn, if you have any information we can use to debug what might be happening here, please comment on this bug.\n\nThanks", "id": 5260425, "bug_id": 631304, "count": 9, "creator": "u279076@disabled.tld", "tags": [], "attachment_id": null, "is_private": false, "time": "2011-02-07T17:45:43Z"}, {"is_private": false, "time": "2011-02-08T10:30:21Z", "attachment_id": null, "raw_text": "If this is a core issue we should move it accordingly.\n\nShawn, does this dialog use any timer to lazy display the window content dependent on the MIME type?", "id": 5262650, "text": "If this is a core issue we should move it accordingly.\n\nShawn, does this dialog use any timer to lazy display the window content dependent on the MIME type?", "creation_time": "2011-02-08T10:30:21Z", "bug_id": 631304, "count": 10, "creator": "hskupin@gmail.com", "tags": [], "author": "hskupin@gmail.com"}, {"author": "sdwilsh@forerunnerdesigns.com", "attachment_id": null, "text": "(In reply to comment #10)\n> Shawn, does this dialog use any timer to lazy display the window content\n> dependent on the MIME type?\nIt doesn't use a timer, no.\n\nI'm curious as to what you are testing with this though; it should already have coverage through automated tests.", "is_private": false, "creation_time": "2011-02-08T16:24:43Z", "raw_text": "(In reply to comment #10)\n> Shawn, does this dialog use any timer to lazy display the window content\n> dependent on the MIME type?\nIt doesn't use a timer, no.\n\nI'm curious as to what you are testing with this though; it should already have coverage through automated tests.", "id": 5263269, "bug_id": 631304, "count": 11, "tags": [], "creator": "sdwilsh@forerunnerdesigns.com", "time": "2011-02-08T16:24:43Z"}, {"text": "(In reply to comment #11)\n> I'm curious as to what you are testing with this though; it should already have\n> coverage through automated tests.\n\nAt the moment our Mozmill tests do not support the save file dialog, because those are native. So using the unknown type dialog allows us to run tests for the download manager.", "is_private": false, "creation_time": "2011-02-08T16:29:49Z", "raw_text": "(In reply to comment #11)\n> I'm curious as to what you are testing with this though; it should already have\n> coverage through automated tests.\n\nAt the moment our Mozmill tests do not support the save file dialog, because those are native. So using the unknown type dialog allows us to run tests for the download manager.", "id": 5263284, "bug_id": 631304, "tags": [], "creator": "hskupin@gmail.com", "time": "2011-02-08T16:29:49Z", "count": 12, "author": "hskupin@gmail.com", "attachment_id": null}, {"time": "2011-02-08T16:37:01Z", "is_private": false, "attachment_id": null, "bug_id": 631304, "tags": [], "count": 13, "creator": "sdwilsh@forerunnerdesigns.com", "raw_text": "In mozilla-central, we have this chrome test that opens the dialog:\nhttps://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/tests/chrome/test_unknownContentType_dialog_layout.xul\n\nCheck to make sure you aren't doing something terribly different?", "id": 5263307, "text": "In mozilla-central, we have this chrome test that opens the dialog:\nhttps://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/tests/chrome/test_unknownContentType_dialog_layout.xul\n\nCheck to make sure you aren't doing something terribly different?", "creation_time": "2011-02-08T16:37:01Z", "author": "sdwilsh@forerunnerdesigns.com"}, {"author": "u279076@disabled.tld", "id": 5263370, "raw_text": "Looking at that test file, I'm wondering if we are triggering the simple UI in some cases:\n\n63 let tests = [\n64   { // This URL will trigger the simple UI, where only the Save an Cancel buttons are available\n65     url: \"http://mochi.test:8888/chrome/toolkit/mozapps/downloads/tests/chrome/unknownContentType_dialog_layout_data.pif\",\n66     elements: {\n67       basicBox: { collapsed: false },\n68       normalBox: { collapsed: true }\n69     }\n70   }", "creation_time": "2011-02-08T17:00:16Z", "text": "Looking at that test file, I'm wondering if we are triggering the simple UI in some cases:\n\n63 let tests = [\n64   { // This URL will trigger the simple UI, where only the Save an Cancel buttons are available\n65     url: \"http://mochi.test:8888/chrome/toolkit/mozapps/downloads/tests/chrome/unknownContentType_dialog_layout_data.pif\",\n66     elements: {\n67       basicBox: { collapsed: false },\n68       normalBox: { collapsed: true }\n69     }\n70   }", "count": 14, "tags": [], "creator": "u279076@disabled.tld", "bug_id": 631304, "attachment_id": null, "is_private": false, "time": "2011-02-08T17:00:16Z"}, {"author": "sdwilsh@forerunnerdesigns.com", "raw_text": "(In reply to comment #14)\n> Looking at that test file, I'm wondering if we are triggering the simple UI in\n> some cases:\nThat should give you some buttons still though.", "id": 5263397, "text": "(In reply to comment #14)\n> Looking at that test file, I'm wondering if we are triggering the simple UI in\n> some cases:\nThat should give you some buttons still though.", "creation_time": "2011-02-08T17:07:28Z", "bug_id": 631304, "count": 15, "tags": [], "creator": "sdwilsh@forerunnerdesigns.com", "attachment_id": null, "is_private": false, "time": "2011-02-08T17:07:28Z"}, {"author": "u279076@disabled.tld", "raw_text": "(In reply to comment #15)\n> (In reply to comment #14)\n> > Looking at that test file, I'm wondering if we are triggering the simple UI in\n> > some cases:\n> That should give you some buttons still though.\n\nAs per the attached screenshot, we only get the SUBMIT and CANCEL buttons.", "id": 5263409, "text": "(In reply to comment #15)\n> (In reply to comment #14)\n> > Looking at that test file, I'm wondering if we are triggering the simple UI in\n> > some cases:\n> That should give you some buttons still though.\n\nAs per the attached screenshot, we only get the SUBMIT and CANCEL buttons.", "creation_time": "2011-02-08T17:11:00Z", "bug_id": 631304, "creator": "u279076@disabled.tld", "count": 16, "tags": [], "attachment_id": null, "is_private": false, "time": "2011-02-08T17:11:00Z"}, {"attachment_id": null, "author": "hskupin@gmail.com", "tags": [], "count": 17, "creator": "hskupin@gmail.com", "time": "2011-02-08T17:32:36Z", "bug_id": 631304, "id": 5263487, "raw_text": "(In reply to comment #13)\n> In mozilla-central, we have this chrome test that opens the dialog:\n> https://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/tests/chrome/test_unknownContentType_dialog_layout.xul\n> \n> Check to make sure you aren't doing something terribly different?\n\nThis test doesn't check the radio buttons. Where the code which decides if the simple UI has to be displayed? If we are triggering this behavior some times, it looks like a bug in that code.", "is_private": false, "creation_time": "2011-02-08T17:32:36Z", "text": "(In reply to comment #13)\n> In mozilla-central, we have this chrome test that opens the dialog:\n> https://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/tests/chrome/test_unknownContentType_dialog_layout.xul\n> \n> Check to make sure you aren't doing something terribly different?\n\nThis test doesn't check the radio buttons. Where the code which decides if the simple UI has to be displayed? If we are triggering this behavior some times, it looks like a bug in that code."}, {"time": "2011-02-08T17:51:51Z", "is_private": false, "attachment_id": null, "bug_id": 631304, "count": 18, "tags": [], "creator": "u279076@disabled.tld", "text": "From the XUL file it looks like the dialog has two properties, basicBox and normalBox which are true,false respectively for the full UI.  I'm wonder if we should/could check for this and enforce it in our tests?", "creation_time": "2011-02-08T17:51:51Z", "raw_text": "From the XUL file it looks like the dialog has two properties, basicBox and normalBox which are true,false respectively for the full UI.  I'm wonder if we should/could check for this and enforce it in our tests?", "id": 5263555, "author": "u279076@disabled.tld"}, {"time": "2011-02-08T17:53:05Z", "is_private": false, "attachment_id": null, "count": 19, "tags": [], "creator": "u279076@disabled.tld", "bug_id": 631304, "id": 5263559, "raw_text": "(In reply to comment #18)\n> From the XUL file it looks like the dialog has two properties, basicBox and\n> normalBox which are true,false respectively for the full UI.  I'm wonder if we\n> should/could check for this and enforce it in our tests?\n\nSorry, that should be:\nbasicBox.collapsed = true and\nnormalBox.collapsed = false", "creation_time": "2011-02-08T17:53:05Z", "text": "(In reply to comment #18)\n> From the XUL file it looks like the dialog has two properties, basicBox and\n> normalBox which are true,false respectively for the full UI.  I'm wonder if we\n> should/could check for this and enforce it in our tests?\n\nSorry, that should be:\nbasicBox.collapsed = true and\nnormalBox.collapsed = false", "author": "u279076@disabled.tld"}, {"id": 5263591, "raw_text": "We always should get the same type of dialog. There shouldn't be a flip to the basic box under unknown situations.", "is_private": false, "creation_time": "2011-02-08T18:04:58Z", "text": "We always should get the same type of dialog. There shouldn't be a flip to the basic box under unknown situations.", "creator": "hskupin@gmail.com", "count": 20, "time": "2011-02-08T18:04:58Z", "tags": [], "bug_id": 631304, "attachment_id": null, "author": "hskupin@gmail.com"}, {"author": "u279076@disabled.tld", "attachment_id": null, "raw_text": "(In reply to comment #20)\n> We always should get the same type of dialog. There shouldn't be a flip to the\n> basic box under unknown situations.\n\nWithout discounting that, we should at least extend DownloadsAPI to check that state so we can report \"full UI\" vs \"simple UI\" to brasstacks.\n\nI agree that we should always be getting the same dialog which should also be taken care of on this bug.", "id": 5263602, "text": "(In reply to comment #20)\n> We always should get the same type of dialog. There shouldn't be a flip to the\n> basic box under unknown situations.\n\nWithout discounting that, we should at least extend DownloadsAPI to check that state so we can report \"full UI\" vs \"simple UI\" to brasstacks.\n\nI agree that we should always be getting the same dialog which should also be taken care of on this bug.", "is_private": false, "creation_time": "2011-02-08T18:11:47Z", "bug_id": 631304, "tags": [], "time": "2011-02-08T18:11:47Z", "creator": "u279076@disabled.tld", "count": 21}, {"attachment_id": null, "is_private": false, "time": "2011-02-08T18:14:11Z", "author": "hskupin@gmail.com", "text": "That should be a fairly easy patch. Do you mind working on it? Beside that we should file a separate bug for the dialog itself.", "creation_time": "2011-02-08T18:14:11Z", "raw_text": "That should be a fairly easy patch. Do you mind working on it? Beside that we should file a separate bug for the dialog itself.", "id": 5263610, "bug_id": 631304, "tags": [], "creator": "hskupin@gmail.com", "count": 22}, {"bug_id": 631304, "count": 23, "creator": "u279076@disabled.tld", "tags": [], "raw_text": "(In reply to comment #22)\n> That should be a fairly easy patch. Do you mind working on it? Beside that we\n> should file a separate bug for the dialog itself.\n\nYup, I can work on that patch.  I'll file a new bug for the simple-UI issue.", "id": 5263614, "text": "(In reply to comment #22)\n> That should be a fairly easy patch. Do you mind working on it? Beside that we\n> should file a separate bug for the dialog itself.\n\nYup, I can work on that patch.  I'll file a new bug for the simple-UI issue.", "creation_time": "2011-02-08T18:15:56Z", "author": "u279076@disabled.tld", "time": "2011-02-08T18:15:56Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "time": "2011-02-08T18:34:06Z", "is_private": false, "author": "sdwilsh@forerunnerdesigns.com", "count": 24, "creator": "sdwilsh@forerunnerdesigns.com", "tags": [], "bug_id": 631304, "creation_time": "2011-02-08T18:34:06Z", "text": "(In reply to comment #10)\n> Shawn, does this dialog use any timer to lazy display the window content\n> dependent on the MIME type?\nI forgot that the window is actually opened by a timer:\nhttps://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/nsHelperAppDlg.js#175\n\nThe code to initialize the dialog is here:\nhttps://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/nsHelperAppDlg.js#404", "id": 5263663, "raw_text": "(In reply to comment #10)\n> Shawn, does this dialog use any timer to lazy display the window content\n> dependent on the MIME type?\nI forgot that the window is actually opened by a timer:\nhttps://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/nsHelperAppDlg.js#175\n\nThe code to initialize the dialog is here:\nhttps://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/nsHelperAppDlg.js#404"}, {"author": "hskupin@gmail.com", "bug_id": 631304, "tags": [], "count": 25, "creator": "hskupin@gmail.com", "raw_text": "That would mean that shouldntRememberChoice and openWithDefaultOK() are the only conditions which let us select the type of box here. We could dump both values of the above items to check which one is causing this problem.\n\nI think we should keep this bug for the helper dialog and file a new one for updating our shared module.", "id": 5263691, "text": "That would mean that shouldntRememberChoice and openWithDefaultOK() are the only conditions which let us select the type of box here. We could dump both values of the above items to check which one is causing this problem.\n\nI think we should keep this bug for the helper dialog and file a new one for updating our shared module.", "creation_time": "2011-02-08T18:41:17Z", "attachment_id": null, "time": "2011-02-08T18:41:17Z", "is_private": false}, {"is_private": false, "time": "2011-02-08T18:43:16Z", "attachment_id": null, "raw_text": "(In reply to comment #25)\n> I think we should keep this bug for the helper dialog and file a new one for\n> updating our shared module.\n\nI'm confused about what you want here now...", "id": 5263698, "text": "(In reply to comment #25)\n> I think we should keep this bug for the helper dialog and file a new one for\n> updating our shared module.\n\nI'm confused about what you want here now...", "creation_time": "2011-02-08T18:43:16Z", "bug_id": 631304, "count": 26, "creator": "u279076@disabled.tld", "tags": [], "author": "u279076@disabled.tld"}, {"is_private": false, "time": "2011-02-08T18:45:35Z", "attachment_id": null, "raw_text": "Lets work out the simple update for the download.js module on bug 631246. This bug already has a lot of valuable information which will help to find the reason for that strange behavior.", "id": 5263705, "text": "Lets work out the simple update for the download.js module on bug 631246. This bug already has a lot of valuable information which will help to find the reason for that strange behavior.", "creation_time": "2011-02-08T18:45:35Z", "bug_id": 631304, "tags": [], "count": 27, "creator": "hskupin@gmail.com", "author": "hskupin@gmail.com"}, {"attachment_id": 510736, "author": "u279076@disabled.tld", "is_private": false, "creation_time": "2011-02-08T20:53:15Z", "text": "Created attachment 510736\ntestDownloadStates-simplified.js\n\nHere is a simplified version of testDownloadStates.  Henrik, please test\nlocally and you will see what I mean.\n\nYou should notice that under all conditions (whether we see the Normal UI or\nthe Simple UI), normalBox.collapsed is always FALSE and basicBox.collapsed is\nalways TRUE.", "id": 5264158, "raw_text": "Here is a simplified version of testDownloadStates.  Henrik, please test\nlocally and you will see what I mean.\n\nYou should notice that under all conditions (whether we see the Normal UI or\nthe Simple UI), normalBox.collapsed is always FALSE and basicBox.collapsed is\nalways TRUE.", "tags": [], "creator": "u279076@disabled.tld", "time": "2011-02-08T20:53:15Z", "count": 28, "bug_id": 631304}, {"bug_id": 631304, "count": 29, "tags": [], "creator": "u279076@disabled.tld", "raw_text": "Here is a new version which dumps shouldnRememberChoice and openWithDefaultOK.\n\nHere is a sample output:\n *** TESTRUN 5 ***\n *** MIME-Type: application/x-bzip2\n *** isExecutable: false\n *** shouldntRememberChoice: false\n *** openWithDefaultOK: true\n *** EXPECT normalBox.collapsed=FALSE, basicBox.collapsed=TRUE\n *** normalBox.collapsed: false\n *** basicBox.collapsed: true\n\n\n *** TESTRUN 6 ***\n *** MIME-Type: application/x-bzip2\n *** isExecutable: false\n *** shouldntRememberChoice: false\n *** openWithDefaultOK: true\n *** EXPECT normalBox.collapsed=FALSE, basicBox.collapsed=TRUE\n *** normalBox.collapsed: false\n *** basicBox.collapsed: true\n\nTestrun 5 we get the full UI.\nTestrun 6 we get the simple UI.\nBoth datasets are completely identical.", "id": 5264515, "text": "Created attachment 510788\ntestDownloadStates-simplified.js v2\n\nHere is a new version which dumps shouldnRememberChoice and openWithDefaultOK.\n\nHere is a sample output:\n *** TESTRUN 5 ***\n *** MIME-Type: application/x-bzip2\n *** isExecutable: false\n *** shouldntRememberChoice: false\n *** openWithDefaultOK: true\n *** EXPECT normalBox.collapsed=FALSE, basicBox.collapsed=TRUE\n *** normalBox.collapsed: false\n *** basicBox.collapsed: true\n\n\n *** TESTRUN 6 ***\n *** MIME-Type: application/x-bzip2\n *** isExecutable: false\n *** shouldntRememberChoice: false\n *** openWithDefaultOK: true\n *** EXPECT normalBox.collapsed=FALSE, basicBox.collapsed=TRUE\n *** normalBox.collapsed: false\n *** basicBox.collapsed: true\n\nTestrun 5 we get the full UI.\nTestrun 6 we get the simple UI.\nBoth datasets are completely identical.", "creation_time": "2011-02-08T22:31:42Z", "author": "u279076@disabled.tld", "time": "2011-02-08T22:31:42Z", "is_private": false, "attachment_id": 510788}, {"attachment_id": 510788, "time": "2011-02-08T23:20:02Z", "is_private": false, "author": "hskupin@gmail.com", "bug_id": 631304, "creator": "hskupin@gmail.com", "count": 30, "tags": [], "raw_text": "Looks fine. Now we only need one instance of a test failure. It would probably worth to run it in a vm where it always happened.", "id": 5264707, "text": "Comment on attachment 510788\ntestDownloadStates-simplified.js v2\n\nLooks fine. Now we only need one instance of a test failure. It would probably worth to run it in a vm where it always happened.", "creation_time": "2011-02-08T23:20:02Z"}, {"time": "2011-02-08T23:23:29Z", "is_private": false, "attachment_id": null, "count": 31, "tags": [], "creator": "hskupin@gmail.com", "bug_id": 631304, "id": 5264716, "raw_text": "(In reply to comment #30)\n> Looks fine. Now we only need one instance of a test failure. It would probably\n> worth to run it in a vm where it always happened.\n\nScratch that. Missed to look at the former comments.", "creation_time": "2011-02-08T23:23:29Z", "text": "(In reply to comment #30)\n> Looks fine. Now we only need one instance of a test failure. It would probably\n> worth to run it in a vm where it always happened.\n\nScratch that. Missed to look at the former comments.", "author": "hskupin@gmail.com"}, {"is_private": false, "time": "2011-02-18T00:37:44Z", "attachment_id": null, "id": 5288245, "raw_text": "http://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/nsHelperAppDlg.js#500\n\nI'm wondering if this \"hack\" is failing to work in some cases.  Shawn, do you have any advice on how I can debug this?", "creation_time": "2011-02-18T00:37:44Z", "text": "http://mxr.mozilla.org/mozilla-central/source/toolkit/mozapps/downloads/nsHelperAppDlg.js#500\n\nI'm wondering if this \"hack\" is failing to work in some cases.  Shawn, do you have any advice on how I can debug this?", "tags": [], "count": 32, "creator": "u279076@disabled.tld", "bug_id": 631304, "author": "u279076@disabled.tld"}, {"count": 33, "creator": "hskupin@gmail.com", "tags": [], "bug_id": 631304, "id": 5288272, "raw_text": "Bug 614557 fixed Venkman today. So if you build the extension on your own, you could use it with mozmill, in case we can reproduce it manually. Or another idea, we could create a mozmill test like the testcase on this bug, and check for the simple/normal ui and the radio buttons. If the radio button throw an error lets catch it and call a long sleep so we would have enough time to manually investigate this problem and set breakpoints.", "creation_time": "2011-02-18T00:52:02Z", "text": "Bug 614557 fixed Venkman today. So if you build the extension on your own, you could use it with mozmill, in case we can reproduce it manually. Or another idea, we could create a mozmill test like the testcase on this bug, and check for the simple/normal ui and the radio buttons. If the radio button throw an error lets catch it and call a long sleep so we would have enough time to manually investigate this problem and set breakpoints.", "author": "hskupin@gmail.com", "time": "2011-02-18T00:52:02Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "time": "2011-02-18T02:32:15Z", "is_private": false, "author": "sdwilsh@forerunnerdesigns.com", "bug_id": 631304, "creator": "sdwilsh@forerunnerdesigns.com", "tags": [], "count": 34, "raw_text": "(In reply to comment #32)\n> I'm wondering if this \"hack\" is failing to work in some cases.  Shawn, do you\n> have any advice on how I can debug this?\nI don't even understand why we'd need that.  That code has been there since day one, so there's no bug to look at as to why it was added either :/", "id": 5288517, "text": "(In reply to comment #32)\n> I'm wondering if this \"hack\" is failing to work in some cases.  Shawn, do you\n> have any advice on how I can debug this?\nI don't even understand why we'd need that.  That code has been there since day one, so there's no bug to look at as to why it was added either :/", "creation_time": "2011-02-18T02:32:15Z"}, {"author": "hskupin@gmail.com", "tags": [], "count": 35, "creator": "hskupin@gmail.com", "bug_id": 631304, "id": 5291848, "raw_text": "I have uploaded a temporary version of Venkman with the fix on bug 614557 here:\nhttp://people.mozilla.com/~hskupin/downloads/\n\nLets see if I can come closer to the problem.", "creation_time": "2011-02-19T12:26:56Z", "text": "I have uploaded a temporary version of Venkman with the fix on bug 614557 here:\nhttp://people.mozilla.com/~hskupin/downloads/\n\nLets see if I can come closer to the problem.", "attachment_id": null, "time": "2011-02-19T12:26:56Z", "is_private": false}, {"bug_id": 631304, "count": 36, "time": "2015-05-05T21:34:23Z", "tags": [], "creator": "u279076@disabled.tld", "raw_text": "Is this bug still worth working on or should we just close it?", "id": 10234279, "text": "Is this bug still worth working on or should we just close it?", "is_private": false, "creation_time": "2015-05-05T21:34:23Z", "author": "u279076@disabled.tld", "attachment_id": null}, {"tags": [], "time": "2018-10-15T08:36:27Z", "count": 37, "creator": "sledru@mozilla.com", "bug_id": 631304, "id": 13685218, "raw_text": "No assignee, updating the status.", "is_private": false, "creation_time": "2018-10-15T08:36:27Z", "text": "No assignee, updating the status.", "attachment_id": null, "author": "sledru@mozilla.com"}, {"attachment_id": null, "author": "sledru@mozilla.com", "is_private": false, "creation_time": "2018-10-15T08:40:52Z", "text": "No assignee, updating the status.", "id": 13685537, "raw_text": "No assignee, updating the status.", "count": 38, "creator": "sledru@mozilla.com", "time": "2018-10-15T08:40:52Z", "tags": [], "bug_id": 631304}, {"id": 13685979, "raw_text": "No assignee, updating the status.", "creation_time": "2018-10-15T08:43:35Z", "text": "No assignee, updating the status.", "count": 39, "tags": [], "creator": "sledru@mozilla.com", "bug_id": 631304, "author": "sledru@mozilla.com", "is_private": false, "time": "2018-10-15T08:43:35Z", "attachment_id": null}]}}, "comments": {}}