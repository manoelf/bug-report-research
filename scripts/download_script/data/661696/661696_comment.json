{"comments": {}, "bugs": {"661696": {"comments": [{"attachment_id": null, "raw_text": "Right now InitSessionCacheLocks creates both the server and client\nsession cache locks.\n\nThe corresponding FreeSessionCacheLocks function destroys both the\nserver and client session cache locks, and is called by\nSSL_ShutdownServerSessionIDCache, but not the client-side\nSSL_ClearSessionCache.\n\nIt seems that the server and client session cache locks should be\ncreated and destroyed separately for server and client sides.\nSSL_ClearSessionCache would be a suitable function to destroy the\nclient session cache lock, after clearing the client session cache.\n\nOn the other hand, if SSL_ClearSessionCache should only *clear*\nbut not *destroy* the client session cache, then it should not\ndestroy the client session cache lock.", "tags": [], "text": "Right now InitSessionCacheLocks creates both the server and client\nsession cache locks.\n\nThe corresponding FreeSessionCacheLocks function destroys both the\nserver and client session cache locks, and is called by\nSSL_ShutdownServerSessionIDCache, but not the client-side\nSSL_ClearSessionCache.\n\nIt seems that the server and client session cache locks should be\ncreated and destroyed separately for server and client sides.\nSSL_ClearSessionCache would be a suitable function to destroy the\nclient session cache lock, after clearing the client session cache.\n\nOn the other hand, if SSL_ClearSessionCache should only *clear*\nbut not *destroy* the client session cache, then it should not\ndestroy the client session cache lock.", "bug_id": 661696, "count": 0, "id": 5509820, "is_private": false, "creation_time": "2011-06-02T22:51:22Z", "time": "2011-06-02T22:51:22Z", "creator": "wtc@google.com", "author": "wtc@google.com"}, {"is_private": false, "count": 1, "id": 6848813, "author": "brian@briansmith.org", "creator": "brian@briansmith.org", "creation_time": "2012-11-24T02:39:50Z", "time": "2012-11-24T02:39:50Z", "raw_text": "(In reply to Wan-Teh Chang from comment #0)\n> On the other hand, if SSL_ClearSessionCache should only *clear*\n> but not *destroy* the client session cache, then it should not\n> destroy the client session cache lock.\n\nI believe that SSL_ClearSessionCache should be able to be called at any time by an application, and the application should be able to create new entries in the cache afterward. Firefox definitely expects this behavior and I imagine other application do too.", "attachment_id": null, "text": "(In reply to Wan-Teh Chang from comment #0)\n> On the other hand, if SSL_ClearSessionCache should only *clear*\n> but not *destroy* the client session cache, then it should not\n> destroy the client session cache lock.\n\nI believe that SSL_ClearSessionCache should be able to be called at any time by an application, and the application should be able to create new entries in the cache afterward. Firefox definitely expects this behavior and I imagine other application do too.", "bug_id": 661696, "tags": []}]}}}