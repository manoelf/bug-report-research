{"comments": {}, "bugs": {"707933": {"comments": [{"creator": "petr.v@mujmail.cz", "author": "petr.v@mujmail.cz", "text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:8.0.1) Gecko/20100101 Firefox/8.0.1\nBuild ID: 20111120135848\n\nSteps to reproduce:\n\n- three POP3 accounts imported from Outlook Express\n- all accounts stores emails in global Local Folders and use Message Filters\n- all messages are left on the mail server\n- all accounts have enabled regular checking every 5 minutes\n- 'Automatically download new messages' is checked for all accounts\n\n\n\n\nActual results:\n\nFrom time to time, there is following error in Error Console. It usually happens when messages are checked automatically. Manual checking by \"Get New Messages\" button does not cause the error:\n\nError: [Exception... \"'Component is not available' when calling method: [nsIActivityManager::removeActivity]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: resource:///modules/activity/pop3Download.js :: <TOP_LEVEL> :: line 158\"  data: no]\nSource File: resource:///modules/activity/pop3Download.js\nLine: 158\n\nThere is always at least following sequence (\"ERROR: 4029\") in POP3 log when it occurs:\n\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 8\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: BeginMailDelivery folder locked\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Calling ReleaseFolderLock from AbortMailDelivery\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ERROR: 4029\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 24\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 25\n\nAnd (most of the time) continues as follows:\n\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing server busy in POP3_FREE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing running protocol in POP3_FREE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing server busy in OnStopRequest\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Calling ReleaseFolderLock from ~nsPop3Sink\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Entering NET_ProcessPop3 0\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: POP3: Entering state: 24\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Calling ReleaseFolderLock from AbortMailDelivery\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: POP3: Entering state: 25\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Clearing server busy in POP3_FREE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Clearing running protocol in POP3_FREE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Calling ReleaseFolderLock from ~nsPop3Sink\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:37:43.059000 UTC - 0[e2f140]: Setting server busy in nsPop3Protocol::LoadUrl\n2011-12-06 12:37:43.119000 UTC - 0[e2f140]: Setting server busy in nsPop3Protocol::LoadUrl\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: Entering NET_ProcessPop3 85\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 1\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 2\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 4\n\n\n\nExpected results:\n\nNo errors when checking multiple POP3 accounts.", "count": 0, "id": 5894628, "bug_id": 707933, "is_private": false, "creation_time": "2011-12-06T15:38:42Z", "time": "2011-12-06T15:38:42Z", "attachment_id": null, "raw_text": "User Agent: Mozilla/5.0 (Windows NT 5.1; rv:8.0.1) Gecko/20100101 Firefox/8.0.1\nBuild ID: 20111120135848\n\nSteps to reproduce:\n\n- three POP3 accounts imported from Outlook Express\n- all accounts stores emails in global Local Folders and use Message Filters\n- all messages are left on the mail server\n- all accounts have enabled regular checking every 5 minutes\n- 'Automatically download new messages' is checked for all accounts\n\n\n\n\nActual results:\n\nFrom time to time, there is following error in Error Console. It usually happens when messages are checked automatically. Manual checking by \"Get New Messages\" button does not cause the error:\n\nError: [Exception... \"'Component is not available' when calling method: [nsIActivityManager::removeActivity]\"  nsresult: \"0x80040111 (NS_ERROR_NOT_AVAILABLE)\"  location: \"JS frame :: resource:///modules/activity/pop3Download.js :: <TOP_LEVEL> :: line 158\"  data: no]\nSource File: resource:///modules/activity/pop3Download.js\nLine: 158\n\nThere is always at least following sequence (\"ERROR: 4029\") in POP3 log when it occurs:\n\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 8\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: BeginMailDelivery folder locked\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Calling ReleaseFolderLock from AbortMailDelivery\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ERROR: 4029\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 24\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 25\n\nAnd (most of the time) continues as follows:\n\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing server busy in POP3_FREE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing running protocol in POP3_FREE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing server busy in OnStopRequest\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Calling ReleaseFolderLock from ~nsPop3Sink\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Entering NET_ProcessPop3 0\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: POP3: Entering state: 24\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Calling ReleaseFolderLock from AbortMailDelivery\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: POP3: Entering state: 25\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Clearing server busy in POP3_FREE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Clearing running protocol in POP3_FREE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Calling ReleaseFolderLock from ~nsPop3Sink\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:37:43.059000 UTC - 0[e2f140]: Setting server busy in nsPop3Protocol::LoadUrl\n2011-12-06 12:37:43.119000 UTC - 0[e2f140]: Setting server busy in nsPop3Protocol::LoadUrl\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: Entering NET_ProcessPop3 85\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 1\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 2\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 4\n\n\n\nExpected results:\n\nNo errors when checking multiple POP3 accounts.", "tags": []}, {"raw_text": "The log contains multiple POP3 sessions. Interesting ones are those with \"BeginMailDelivery folder locked\" message.", "attachment_id": 579314, "time": "2011-12-06T16:43:19Z", "tags": [], "count": 1, "text": "Created attachment 579314\nDetailed POP3 log\n\nThe log contains multiple POP3 sessions. Interesting ones are those with \"BeginMailDelivery folder locked\" message.", "author": "petr.v@mujmail.cz", "creator": "petr.v@mujmail.cz", "creation_time": "2011-12-06T16:43:19Z", "is_private": false, "id": 5894706, "bug_id": 707933}, {"time": "2011-12-06T16:48:07Z", "attachment_id": 579317, "raw_text": "The log contains multiple POP3 sessions. Interesting ones are those with \"BeginMailDelivery folder locked\" message", "tags": [], "creator": "petr.v@mujmail.cz", "author": "petr.v@mujmail.cz", "count": 2, "text": "Created attachment 579317\nDetailed POP3 log (7zip)\n\nThe log contains multiple POP3 sessions. Interesting ones are those with \"BeginMailDelivery folder locked\" message", "id": 5894720, "bug_id": 707933, "creation_time": "2011-12-06T16:48:07Z", "is_private": false}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-12-07T07:12:06Z", "creator": "wraithlike@gmail.com", "raw_text": "(In reply to Petr Vones from comment #0)\nThere is some discussion about the same problem here: http://forums.mozillazine.org/viewtopic.php?f=39&t=1911257", "time": "2011-12-07T07:12:06Z", "id": 5896740, "bug_id": 707933, "author": "wraithlike@gmail.com", "text": "(In reply to Petr Vones from comment #0)\nThere is some discussion about the same problem here: http://forums.mozillazine.org/viewtopic.php?f=39&t=1911257", "count": 3}, {"creation_time": "2011-12-07T07:36:26Z", "is_private": false, "creator": "m-wada@usa.com", "tags": [], "attachment_id": null, "id": 5896775, "bug_id": 707933, "author": "m-wada@usa.com", "text": "FYI. Following is bugs of open/updated-within-one-year status and ReleaseFolderLock in comment.\n  bug 584655, bug 604444, bug 609674, bug 675503, bug 707933, bug 700987", "count": 4, "time": "2011-12-07T07:36:26Z", "raw_text": "FYI. Following is bugs of open/updated-within-one-year status and ReleaseFolderLock in comment.\n  bug 584655, bug 604444, bug 609674, bug 675503, bug 707933, bug 700987"}, {"creator": "petr.v@mujmail.cz", "count": 5, "text": "More observations about the issue:\n\n- it happens ONLY for automatic new messages checking via \"Check for new messages every 5 minutes\" option.\n- in NEVER happens for manual checking via \"Get All Messages\" button or Shift+F5 keyboard shortcut.\n\nSince those two actions are different (periodic automatic checking does not show its progress in the Status Bar while manual does) I suspect there is a folders synchronization issue or something like that because of the \"BeginMailDelivery folder locked\" error message in the log.\n\nIf there was an addon running exactly the \"Get All Messages\" action every 5 minutes I believe the problem would go away.", "author": "petr.v@mujmail.cz", "bug_id": 707933, "id": 5896984, "creation_time": "2011-12-07T10:24:59Z", "is_private": false, "time": "2011-12-07T10:24:59Z", "raw_text": "More observations about the issue:\n\n- it happens ONLY for automatic new messages checking via \"Check for new messages every 5 minutes\" option.\n- in NEVER happens for manual checking via \"Get All Messages\" button or Shift+F5 keyboard shortcut.\n\nSince those two actions are different (periodic automatic checking does not show its progress in the Status Bar while manual does) I suspect there is a folders synchronization issue or something like that because of the \"BeginMailDelivery folder locked\" error message in the log.\n\nIf there was an addon running exactly the \"Get All Messages\" action every 5 minutes I believe the problem would go away.", "attachment_id": null, "tags": []}, {"tags": [], "attachment_id": null, "creation_time": "2011-12-07T18:48:20Z", "is_private": false, "creator": "petr.v@mujmail.cz", "raw_text": "Another problem is that the POP3 session where the error occurs is *not* finished by QUIT command properly. See log:\n\n... the POP3 session which fails ...\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 15\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: 276 388066797\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 15\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: 277 388066798\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 15\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: 278 388066799\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 15\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: 279 388066800\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 16\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 3\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: +OK 227 791964\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 8\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: BeginMailDelivery folder locked\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Calling ReleaseFolderLock from AbortMailDelivery\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ERROR: 4029\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 24\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 25\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing server busy in POP3_FREE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing running protocol in POP3_FREE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing server busy in OnStopRequest\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Calling ReleaseFolderLock from ~nsPop3Sink\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Entering NET_ProcessPop3 0\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: POP3: Entering state: 24\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Calling ReleaseFolderLock from AbortMailDelivery\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: POP3: Entering state: 25\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Clearing server busy in POP3_FREE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Clearing running protocol in POP3_FREE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Calling ReleaseFolderLock from ~nsPop3Sink\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:37:43.059000 UTC - 0[e2f140]: Setting server busy in nsPop3Protocol::LoadUrl\n2011-12-06 12:37:43.119000 UTC - 0[e2f140]: Setting server busy in nsPop3Protocol::LoadUrl\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: Entering NET_ProcessPop3 85\n\n\n... new sessions starts here ...\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 1\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 2\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 4\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: RECV: +OK X1 <1908.1323175064655@xxx.xxx.xxx> pop3 service at xxx.xxx.xxx\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 28\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: SendCapa()\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: SEND: CAPA", "time": "2011-12-07T18:48:20Z", "id": 5897902, "bug_id": 707933, "text": "Another problem is that the POP3 session where the error occurs is *not* finished by QUIT command properly. See log:\n\n... the POP3 session which fails ...\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 15\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: 276 388066797\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 15\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: 277 388066798\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 15\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: 278 388066799\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 15\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: 279 388066800\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 12\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Entering NET_ProcessPop3 16\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 3\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: RECV: +OK 227 791964\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 8\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: BeginMailDelivery folder locked\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Calling ReleaseFolderLock from AbortMailDelivery\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ERROR: 4029\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 24\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: POP3: Entering state: 25\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing server busy in POP3_FREE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing running protocol in POP3_FREE\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Clearing server busy in OnStopRequest\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: Calling ReleaseFolderLock from ~nsPop3Sink\n2011-12-06 12:33:13.521000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Entering NET_ProcessPop3 0\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: POP3: Entering state: 24\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Calling ReleaseFolderLock from AbortMailDelivery\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: POP3: Entering state: 25\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Clearing server busy in POP3_FREE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Clearing running protocol in POP3_FREE\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: Calling ReleaseFolderLock from ~nsPop3Sink\n2011-12-06 12:34:53.525000 UTC - 0[e2f140]: ReleaseFolderLock haveSemaphore = FALSE\n2011-12-06 12:37:43.059000 UTC - 0[e2f140]: Setting server busy in nsPop3Protocol::LoadUrl\n2011-12-06 12:37:43.119000 UTC - 0[e2f140]: Setting server busy in nsPop3Protocol::LoadUrl\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: Entering NET_ProcessPop3 85\n\n\n... new sessions starts here ...\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 1\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 2\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 4\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: RECV: +OK X1 <1908.1323175064655@xxx.xxx.xxx> pop3 service at xxx.xxx.xxx\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: POP3: Entering state: 28\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: SendCapa()\n2011-12-06 12:37:43.149000 UTC - 0[e2f140]: SEND: CAPA", "count": 6, "author": "petr.v@mujmail.cz"}, {"bug_id": 707933, "id": 5904887, "author": "petr.v@mujmail.cz", "text": "It looks like a serious folders access serialization issue. The amount of errors depends on how often two or more concurrent POP3 sessions starts. Since it is properly serialized for manual checking via \"Get New Messages\" button, the issue is visible for automatic periodical checking only. \n\nFor manual checking by \"Get New Messages\" the access is property serialized. That's why there are no errors:\n\n2011-12-09 18:44:36.375000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl\n  2011-12-09 18:44:36.703000 UTC - 0[e2b140]: BeginMailDelivery acquiring semaphore\n  2011-12-09 18:44:36.859000 UTC - 0[e2b140]: Calling ReleaseFolderLock from EndMailDelivery\n  2011-12-09 18:44:36.859000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-09 18:44:36.875000 UTC - 0[e2b140]: Clearing server busy in POP3_FREE\n\n2011-12-09 18:44:36.890000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl\n  2011-12-09 18:44:37.015000 UTC - 0[e2b140]: BeginMailDelivery acquiring semaphore\n  2011-12-09 18:44:39.421000 UTC - 0[e2b140]: Calling ReleaseFolderLock from EndMailDelivery\n  2011-12-09 18:44:39.421000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-09 18:44:39.437000 UTC - 0[e2b140]: Clearing server busy in POP3_FREE\n\n2011-12-09 18:44:39.437000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl\n  2011-12-09 18:44:39.593000 UTC - 0[e2b140]: BeginMailDelivery acquiring semaphore\n  2011-12-09 18:44:40.109000 UTC - 0[e2b140]: Calling ReleaseFolderLock from EndMailDelivery\n  2011-12-09 18:44:40.109000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-09 18:44:40.125000 UTC - 0[e2b140]: Clearing server busy in POP3_FREE\n\n\nBut for periodic checking every X minutes, the error occurs in following scenario when the access to global Local Folders is not serialized properly:\n\n2011-12-09 18:49:26.500000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl <- first session\n2011-12-09 18:49:26.531000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl <- second session\n  2011-12-09 18:49:26.625000 UTC - 0[e2b140]: BeginMailDelivery acquiring semaphore  <- first session, ok\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: BeginMailDelivery folder locked        <- second session, error\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: Calling ReleaseFolderLock from AbortMailDelivery\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = FALSE\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: ERROR: 4029\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: Clearing server busy in POP3_FREE\n\n2011-12-09 18:49:56.546000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl\n  2011-12-09 18:49:57.359000 UTC - 0[e2b140]: BeginMailDelivery folder locked        <- third session, error\n  2011-12-09 18:49:57.359000 UTC - 0[e2b140]: Calling ReleaseFolderLock from AbortMailDelivery\n  2011-12-09 18:49:57.359000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = FALSE\n  2011-12-09 18:49:57.359000 UTC - 0[e2b140]: ERROR: 4029\n\n\nThe issue can be minimized by setting different checking period for each POP3 account (i.e. 4,5,6 instead of 5,5,5 minutes) that the \"crashes\" does not happen that often. This is not acceptable workaround of course because the POP3 session is corrupted each time the error occurs. \n\nI can reproduce it on multiple computers.", "count": 7, "time": "2011-12-09T19:23:11Z", "raw_text": "It looks like a serious folders access serialization issue. The amount of errors depends on how often two or more concurrent POP3 sessions starts. Since it is properly serialized for manual checking via \"Get New Messages\" button, the issue is visible for automatic periodical checking only. \n\nFor manual checking by \"Get New Messages\" the access is property serialized. That's why there are no errors:\n\n2011-12-09 18:44:36.375000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl\n  2011-12-09 18:44:36.703000 UTC - 0[e2b140]: BeginMailDelivery acquiring semaphore\n  2011-12-09 18:44:36.859000 UTC - 0[e2b140]: Calling ReleaseFolderLock from EndMailDelivery\n  2011-12-09 18:44:36.859000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-09 18:44:36.875000 UTC - 0[e2b140]: Clearing server busy in POP3_FREE\n\n2011-12-09 18:44:36.890000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl\n  2011-12-09 18:44:37.015000 UTC - 0[e2b140]: BeginMailDelivery acquiring semaphore\n  2011-12-09 18:44:39.421000 UTC - 0[e2b140]: Calling ReleaseFolderLock from EndMailDelivery\n  2011-12-09 18:44:39.421000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-09 18:44:39.437000 UTC - 0[e2b140]: Clearing server busy in POP3_FREE\n\n2011-12-09 18:44:39.437000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl\n  2011-12-09 18:44:39.593000 UTC - 0[e2b140]: BeginMailDelivery acquiring semaphore\n  2011-12-09 18:44:40.109000 UTC - 0[e2b140]: Calling ReleaseFolderLock from EndMailDelivery\n  2011-12-09 18:44:40.109000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = TRUE\n2011-12-09 18:44:40.125000 UTC - 0[e2b140]: Clearing server busy in POP3_FREE\n\n\nBut for periodic checking every X minutes, the error occurs in following scenario when the access to global Local Folders is not serialized properly:\n\n2011-12-09 18:49:26.500000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl <- first session\n2011-12-09 18:49:26.531000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl <- second session\n  2011-12-09 18:49:26.625000 UTC - 0[e2b140]: BeginMailDelivery acquiring semaphore  <- first session, ok\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: BeginMailDelivery folder locked        <- second session, error\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: Calling ReleaseFolderLock from AbortMailDelivery\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = FALSE\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: ERROR: 4029\n  2011-12-09 18:49:26.734000 UTC - 0[e2b140]: Clearing server busy in POP3_FREE\n\n2011-12-09 18:49:56.546000 UTC - 0[e2b140]: Setting server busy in nsPop3Protocol::LoadUrl\n  2011-12-09 18:49:57.359000 UTC - 0[e2b140]: BeginMailDelivery folder locked        <- third session, error\n  2011-12-09 18:49:57.359000 UTC - 0[e2b140]: Calling ReleaseFolderLock from AbortMailDelivery\n  2011-12-09 18:49:57.359000 UTC - 0[e2b140]: ReleaseFolderLock haveSemaphore = FALSE\n  2011-12-09 18:49:57.359000 UTC - 0[e2b140]: ERROR: 4029\n\n\nThe issue can be minimized by setting different checking period for each POP3 account (i.e. 4,5,6 instead of 5,5,5 minutes) that the \"crashes\" does not happen that often. This is not acceptable workaround of course because the POP3 session is corrupted each time the error occurs. \n\nI can reproduce it on multiple computers.", "is_private": false, "creation_time": "2011-12-09T19:23:11Z", "creator": "petr.v@mujmail.cz", "tags": [], "attachment_id": null}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2011-12-09T23:16:12Z", "creator": "petr.v@mujmail.cz", "raw_text": "The 4029 error means:\n\nStatus - write error occurred.\nThis folder is being processed. Please wait until processing is complete to get messages.\n\nIt confirms the description above.", "time": "2011-12-09T23:16:12Z", "bug_id": 707933, "id": 5905547, "count": 8, "text": "The 4029 error means:\n\nStatus - write error occurred.\nThis folder is being processed. Please wait until processing is complete to get messages.\n\nIt confirms the description above.", "author": "petr.v@mujmail.cz"}, {"bug_id": 707933, "id": 5905589, "creation_time": "2011-12-09T23:29:18Z", "is_private": false, "creator": "mozilla@davidbienvenu.org", "count": 9, "text": "yes, I don't think biff (check for new mail) preflights the check that a common inbox isn't busy. If so, the check should probably queue itself, or back-off.", "author": "mozilla@davidbienvenu.org", "tags": [], "time": "2011-12-09T23:29:18Z", "raw_text": "yes, I don't think biff (check for new mail) preflights the check that a common inbox isn't busy. If so, the check should probably queue itself, or back-off.", "attachment_id": null}, {"is_private": false, "creation_time": "2011-12-12T18:51:11Z", "creator": "petr.v@mujmail.cz", "tags": [], "attachment_id": null, "id": 5909340, "bug_id": 707933, "author": "petr.v@mujmail.cz", "text": "I think I've found a workaround:\n\n- set the same checking interval for all POP3 accounts\n- set preference mail.biff.add_interval_jitter to false\n\nThere are no longer 4029 (POP3_MESSAGE_FOLDER_BUSY) errors in POP3 log because multiple account checks are serialized now.", "count": 10, "time": "2011-12-12T18:51:11Z", "raw_text": "I think I've found a workaround:\n\n- set the same checking interval for all POP3 accounts\n- set preference mail.biff.add_interval_jitter to false\n\nThere are no longer 4029 (POP3_MESSAGE_FOLDER_BUSY) errors in POP3 log because multiple account checks are serialized now."}, {"creator": "petr.v@mujmail.cz", "creation_time": "2011-12-14T21:13:51Z", "is_private": false, "attachment_id": null, "tags": [], "author": "petr.v@mujmail.cz", "text": "Unfortunately the workaround does not work if an email is received because the checking period is re-scheduled or something like that.\n\nIt must be fixed.", "count": 11, "bug_id": 707933, "id": 5916880, "time": "2011-12-14T21:13:51Z", "raw_text": "Unfortunately the workaround does not work if an email is received because the checking period is re-scheduled or something like that.\n\nIt must be fixed."}, {"creator": "m-wada@usa.com", "text": "Will new mail check interval like next reduce frequency of your problem?\n POP3 account-1:  7 minutes(1st prime number after 2,3,5, 1 + first perfect number)\n POP3 account-2: 11 minutes(2nd prime number after 2,3,5)\n POP3 account-3: 13 minutes(3rd prime number after 2,3,5)\n POP3 account-4: 17 minutes(4th prime number after 2,3,5)\n POP3 account-5: 19 minutes(5th prime number after 2,3,5)", "count": 12, "author": "m-wada@usa.com", "id": 6042952, "bug_id": 707933, "is_private": false, "creation_time": "2012-02-08T06:23:04Z", "time": "2012-02-08T06:23:04Z", "raw_text": "Will new mail check interval like next reduce frequency of your problem?\n POP3 account-1:  7 minutes(1st prime number after 2,3,5, 1 + first perfect number)\n POP3 account-2: 11 minutes(2nd prime number after 2,3,5)\n POP3 account-3: 13 minutes(3rd prime number after 2,3,5)\n POP3 account-4: 17 minutes(4th prime number after 2,3,5)\n POP3 account-5: 19 minutes(5th prime number after 2,3,5)", "attachment_id": null, "tags": []}, {"tags": [], "time": "2012-02-12T16:24:03Z", "raw_text": "Unfortunately it does not help. There are still about 20 or more errors during a 14 hour session.", "attachment_id": null, "id": 6054342, "bug_id": 707933, "is_private": false, "creation_time": "2012-02-12T16:24:03Z", "creator": "petr.v@mujmail.cz", "text": "Unfortunately it does not help. There are still about 20 or more errors during a 14 hour session.", "count": 13, "author": "petr.v@mujmail.cz"}, {"time": "2012-02-18T20:03:24Z", "raw_text": "How exactly did you setup the 3 accounts so that they download into Local folders?", "id": 6073885, "bug_id": 707933, "author": "acelists@atlas.sk", "text": "How exactly did you setup the 3 accounts so that they download into Local folders?", "count": 14, "tags": [], "attachment_id": null, "creation_time": "2012-02-18T20:03:24Z", "is_private": false, "creator": "acelists@atlas.sk"}, {"time": "2012-03-04T13:00:44Z", "raw_text": "By importing them from Outlook Express. The setup is pretty simple, multiple POP3 accounts targeting all kind of folders into corresponding \"Local Folders\".", "attachment_id": null, "tags": [], "creator": "petr.v@mujmail.cz", "text": "By importing them from Outlook Express. The setup is pretty simple, multiple POP3 accounts targeting all kind of folders into corresponding \"Local Folders\".", "count": 15, "author": "petr.v@mujmail.cz", "bug_id": 707933, "id": 6112736, "creation_time": "2012-03-04T13:00:44Z", "is_private": false}, {"tags": [], "time": "2012-03-04T13:15:29Z", "attachment_id": null, "raw_text": "I mean if you have done it in the Account settings -> account -> Server settings -> Advanced -> store into Global inbox?\nOr if you set Account settings -> account -> Local Directory to point to the same filesystem folder for all accounts.", "id": 6112767, "bug_id": 707933, "is_private": false, "creation_time": "2012-03-04T13:15:29Z", "creator": "acelists@atlas.sk", "author": "acelists@atlas.sk", "count": 16, "text": "I mean if you have done it in the Account settings -> account -> Server settings -> Advanced -> store into Global inbox?\nOr if you set Account settings -> account -> Local Directory to point to the same filesystem folder for all accounts."}, {"raw_text": "The first option: Server Settings -> [Advanced] -> (o) Global Inbox (Local Folders Account). \n\nI did not change Local Directories, I left it as it was created by the import from Outlook Express. All three POP3 accounts have its own separate local directories.", "time": "2012-03-04T13:32:00Z", "id": 6112778, "bug_id": 707933, "count": 17, "text": "The first option: Server Settings -> [Advanced] -> (o) Global Inbox (Local Folders Account). \n\nI did not change Local Directories, I left it as it was created by the import from Outlook Express. All three POP3 accounts have its own separate local directories.", "author": "petr.v@mujmail.cz", "tags": [], "attachment_id": null, "is_private": false, "creation_time": "2012-03-04T13:32:00Z", "creator": "petr.v@mujmail.cz"}, {"tags": [], "attachment_id": null, "raw_text": "Good.", "time": "2012-03-04T13:36:31Z", "creation_time": "2012-03-04T13:36:31Z", "is_private": false, "id": 6112781, "bug_id": 707933, "author": "acelists@atlas.sk", "count": 18, "text": "Good.", "creator": "acelists@atlas.sk"}, {"creator": "acelists@atlas.sk", "is_private": false, "creation_time": "2014-05-21T17:08:29Z", "attachment_id": null, "tags": [], "count": 19, "text": "Line 158 does not exist in pop3Download.js any longer. Can you please paste an updated message (from TB24) ?", "author": "acelists@atlas.sk", "id": 8822827, "bug_id": 707933, "time": "2014-05-21T17:08:29Z", "raw_text": "Line 158 does not exist in pop3Download.js any longer. Can you please paste an updated message (from TB24) ?"}, {"tags": [], "time": "2014-07-12T17:12:38Z", "attachment_id": null, "raw_text": "I reported Bug 827897 in January 2013, unaware of this bug.  But in my case, I was tolerating collisions (POPUP busy messages) that always seemed to happen only when doing a manual GETMAIL of about 15 POP3 accounts, all going to a global inbox (except for a few filters).  It was only when the problem started to happen on automatic fetches that I got concerned.  Automatic timing varies from 10 minutes for a few important (but not busy) accounts, up to an hour for several, and even one or two that are only polled manually.\n\nMy feeling was that the popup message should time out after a minute and try again, rather than just hang forever.  I may not be at my computer for hours and could miss something.  (Also causes emails to pile up waiting to be downloaded.)  An automated process should be fully automatic, not requiring an OK from an operator who can't do anything about the situation anyway.", "bug_id": 707933, "id": 9046826, "is_private": false, "creation_time": "2014-07-12T17:12:38Z", "creator": "dannyfox@pmtech.ca", "author": "dannyfox@pmtech.ca", "count": 20, "text": "I reported Bug 827897 in January 2013, unaware of this bug.  But in my case, I was tolerating collisions (POPUP busy messages) that always seemed to happen only when doing a manual GETMAIL of about 15 POP3 accounts, all going to a global inbox (except for a few filters).  It was only when the problem started to happen on automatic fetches that I got concerned.  Automatic timing varies from 10 minutes for a few important (but not busy) accounts, up to an hour for several, and even one or two that are only polled manually.\n\nMy feeling was that the popup message should time out after a minute and try again, rather than just hang forever.  I may not be at my computer for hours and could miss something.  (Also causes emails to pile up waiting to be downloaded.)  An automated process should be fully automatic, not requiring an OK from an operator who can't do anything about the situation anyway."}, {"is_private": false, "creation_time": "2014-07-23T14:55:46Z", "creator": "vseerror@lehigh.edu", "tags": [], "attachment_id": null, "bug_id": 707933, "id": 9090368, "text": "*** Bug 827897 has been marked as a duplicate of this bug. ***", "count": 21, "author": "vseerror@lehigh.edu", "time": "2014-07-23T14:55:46Z", "raw_text": ""}, {"creator": "petr.v@mujmail.cz", "author": "petr.v@mujmail.cz", "text": "(In reply to :aceman from comment #19)\n> Line 158 does not exist in pop3Download.js any longer. Can you please paste\n> an updated message (from TB24) ?\n\nSorry no. I have already moved everything to single IMAP accout.", "count": 22, "id": 9820240, "bug_id": 707933, "is_private": false, "creation_time": "2015-01-20T23:50:09Z", "time": "2015-01-20T23:50:09Z", "attachment_id": null, "raw_text": "(In reply to :aceman from comment #19)\n> Line 158 does not exist in pop3Download.js any longer. Can you please paste\n> an updated message (from TB24) ?\n\nSorry no. I have already moved everything to single IMAP accout.", "tags": []}, {"attachment_id": null, "raw_text": "Wayne, my bug #827897 was resolved as being a duplicate of *THIS* bug, yet if I understand the flags here, *THIS* bug is a dup of mine.  A bit circular?\n\nIn any case, the issue of busy messages (whatever the cause) still happens today -- regularly if I do a manual GetMail to poll all mailboxes immediately, and occasionally by automatic polling over random times (ie- every once in a while I see the email polling hung waiting for an OK to continue).", "time": "2018-08-03T01:25:08Z", "tags": [], "author": "dannyfox@pmtech.ca", "text": "Wayne, my bug #827897 was resolved as being a duplicate of *THIS* bug, yet if I understand the flags here, *THIS* bug is a dup of mine.  A bit circular?\n\nIn any case, the issue of busy messages (whatever the cause) still happens today -- regularly if I do a manual GetMail to poll all mailboxes immediately, and occasionally by automatic polling over random times (ie- every once in a while I see the email polling hung waiting for an OK to continue).", "count": 23, "creator": "dannyfox@pmtech.ca", "is_private": false, "creation_time": "2018-08-03T01:25:08Z", "bug_id": 707933, "id": 13520329}, {"attachment_id": null, "tags": [], "creator": "vseerror@lehigh.edu", "creation_time": "2018-08-03T10:58:31Z", "is_private": false, "time": "2018-08-03T10:58:31Z", "raw_text": "(In reply to Dan Pernokis from comment #23)\n> Wayne, my bug #827897 was resolved as being a duplicate of *THIS* bug, yet\n> if I understand the flags here, *THIS* bug is a dup of mine.  A bit circular?\n\nIf you mean the blocking field, no, this bug blocks yours.  But I duped yours because this bug has more technical detail. In addition, yours is newer, and we tend to keep the older bug report when duping. And it is preferable to keep the blocking field intact, in case fixing this bug does not fix your issue.", "text": "(In reply to Dan Pernokis from comment #23)\n> Wayne, my bug #827897 was resolved as being a duplicate of *THIS* bug, yet\n> if I understand the flags here, *THIS* bug is a dup of mine.  A bit circular?\n\nIf you mean the blocking field, no, this bug blocks yours.  But I duped yours because this bug has more technical detail. In addition, yours is newer, and we tend to keep the older bug report when duping. And it is preferable to keep the blocking field intact, in case fixing this bug does not fix your issue.", "count": 24, "author": "vseerror@lehigh.edu", "bug_id": 707933, "id": 13521028}, {"count": 25, "text": "Petrv states that all messages are kept on server. This slows up checking for new mail, so perhaps this contributes to making this problem more frequent?\n\nFWIW, a number of \"processing\" bugs have been fixed in the past https://bugzilla.mozilla.org/buglist.cgi?quicksearch=101584%20205379%20466933%20223062&list_id=14264786", "author": "vseerror@lehigh.edu", "id": 13521143, "bug_id": 707933, "raw_text": "Petrv states that all messages are kept on server. This slows up checking for new mail, so perhaps this contributes to making this problem more frequent?\n\nFWIW, a number of \"processing\" bugs have been fixed in the past https://bugzilla.mozilla.org/buglist.cgi?quicksearch=101584%20205379%20466933%20223062&list_id=14264786", "time": "2018-08-03T12:05:58Z", "creator": "vseerror@lehigh.edu", "creation_time": "2018-08-03T12:05:58Z", "is_private": false, "attachment_id": null, "tags": []}, {"bug_id": 707933, "id": 13521418, "text": "Recently, I happened to have TB open/visible while logged into Webmail.  I noticed a message in Webmail that was not yet in TB.  I clicked getmail for the account to DL the message.  As TB was starting its poll, a new message appeared in Webmail -- and TB got the popup about being busy.  So this is a rare but suspected case where TB and the server collide -- TB is polling just as the server is receiving (displaying) a new message.\n\nBut I've only ever actually seen this ONCE this century!  Odds are against it.  But if you do a Getmail (all) twice in succession -- both running concurrently -- sooner or later (in a short time) they WILL collide over something if one has enough mailboxes (I currently have 14 in my list).  Or if I click Getmail for a specific account while Getmail (all) is in process, I might get a collision.\n\nSo this tells me TB is doing something strange, like perhaps not grabbing a lock or something before it runs along.  But my issue is that once it says \"busy\", I have to MANUALLY click OK to continue -- the process that detects busy does not time out and disengage and try again -- it simply hangs forever waiting.  That causes the backlog, because no further polling occurs on any of the other mailboxes.  And it can happen spontaneously too, because occasionally two automatic polls for specific mailboxes might happen simultaneously -- and lock each other out, hanging everything.\n\nSince all of my incoming mail goes to the same shared INBOX, I suspect the common case is that my main INBOX is busy (receiving a message) rather than the server being busy with that account.  Because even when specifically running Getmail (all), a single Getmail poll could be triggered automatically by one of the other mailbox accounts just doing its normal timed fetch, and this could cause busy for that mailbox.  This still happens often enough to be more than just a chance collision.\n\nAnd, as I said (here and elsewhere, in various words):  The biggest impact of the problem is that the process that detects busy does not time out and disengage, thereby hanging (suspending) everything further.", "count": 26, "author": "dannyfox@pmtech.ca", "time": "2018-08-03T14:31:27Z", "raw_text": "Recently, I happened to have TB open/visible while logged into Webmail.  I noticed a message in Webmail that was not yet in TB.  I clicked getmail for the account to DL the message.  As TB was starting its poll, a new message appeared in Webmail -- and TB got the popup about being busy.  So this is a rare but suspected case where TB and the server collide -- TB is polling just as the server is receiving (displaying) a new message.\n\nBut I've only ever actually seen this ONCE this century!  Odds are against it.  But if you do a Getmail (all) twice in succession -- both running concurrently -- sooner or later (in a short time) they WILL collide over something if one has enough mailboxes (I currently have 14 in my list).  Or if I click Getmail for a specific account while Getmail (all) is in process, I might get a collision.\n\nSo this tells me TB is doing something strange, like perhaps not grabbing a lock or something before it runs along.  But my issue is that once it says \"busy\", I have to MANUALLY click OK to continue -- the process that detects busy does not time out and disengage and try again -- it simply hangs forever waiting.  That causes the backlog, because no further polling occurs on any of the other mailboxes.  And it can happen spontaneously too, because occasionally two automatic polls for specific mailboxes might happen simultaneously -- and lock each other out, hanging everything.\n\nSince all of my incoming mail goes to the same shared INBOX, I suspect the common case is that my main INBOX is busy (receiving a message) rather than the server being busy with that account.  Because even when specifically running Getmail (all), a single Getmail poll could be triggered automatically by one of the other mailbox accounts just doing its normal timed fetch, and this could cause busy for that mailbox.  This still happens often enough to be more than just a chance collision.\n\nAnd, as I said (here and elsewhere, in various words):  The biggest impact of the problem is that the process that detects busy does not time out and disengage, thereby hanging (suspending) everything further.", "is_private": false, "creation_time": "2018-08-03T14:31:27Z", "creator": "dannyfox@pmtech.ca", "tags": [], "attachment_id": null}, {"bug_id": 707933, "id": 13900263, "creation_time": "2019-02-03T13:33:17Z", "is_private": false, "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "text": "Dan, was your testing with version 60?\n\nGiacomo, you wrote that you think this is gone, was that with version 60?", "count": 27, "tags": [], "time": "2019-02-03T13:33:17Z", "attachment_id": null, "raw_text": "Dan, was your testing with version 60?\n\nGiacomo, you wrote that you think this is gone, was that with version 60?"}, {"raw_text": "This issue still exists with the new Thunderbird 60.5.0 I just installed. \nWhy do we need an error popup in a modal window? I sometimes absentmindedly click the get mail box twice, and have to close 10 modal windows advising me uselessly of something I know and don't care about. \nIt's stupid. Really stupid. \nThis type of error should be able to be disabled especially after all these years, this bug languishing here.", "time": "2019-02-03T18:29:51Z", "author": "steevo@gmx.co.uk", "text": "This issue still exists with the new Thunderbird 60.5.0 I just installed. \nWhy do we need an error popup in a modal window? I sometimes absentmindedly click the get mail box twice, and have to close 10 modal windows advising me uselessly of something I know and don't care about. \nIt's stupid. Really stupid. \nThis type of error should be able to be disabled especially after all these years, this bug languishing here.", "count": 28, "bug_id": 707933, "id": 13900444, "attachment_id": null, "tags": [], "creator": "steevo@gmx.co.uk", "is_private": false, "creation_time": "2019-02-03T18:29:51Z"}, {"creator": "dannyfox@pmtech.ca", "is_private": false, "creation_time": "2019-02-04T06:17:10Z", "attachment_id": null, "tags": [], "count": 29, "text": "Hi Wayne.  If by testing you mean what was I using in my Comment #26:  That would be TB 52.9.1 (not replaced until 60.3.0, the next public release I am aware of, on 05-Nov-2018).  I installed 60.5.0 just now and clicked two GETMAILs (ALL) -- immediately got a few collisions and popups -- had to click OK to acknowledge and bypass the popups.\n\nUnlike these induced collisions, I have not seen any spontaneous popups during normal (automatic timed) polling in a very long time. But that doesn't mean they won't happen -- if the mailserver just happens to be busy for a split-second, TB *will* hang waiting for OK.\n\nOn the other hand, local collisions do occur occasionally but regularly if I run a GETMAIL (ALL) and an automatic poll overlaps, or if I GETMAIL a specific account just as it is being polled automatically.  I always have to click OK to continue.\n\nBTW, I somewhat agree with Steve (Comment #28) -- for sure the popup should time out on its own and continue polling, but there might be a need to know that a collision has occurred.  The tricky thing would be:  When should the timeout retry the current failed (collided) poll and when should it move on and continue with the next item?  We wouldn't want it repolling forever if something goes wrong with the server, for example, so it should give up when a retry limit is exceeded.  But I would like to see a message if polls are failing, especially if the polling skips an account and moves on to the next.  (I think Steve is saying the popup should be eliminated altogether -- a good idea in many cases -- but I would want it to be a configurable option because some of us need to know when the polls are failing.)", "author": "dannyfox@pmtech.ca", "bug_id": 707933, "id": 13901314, "raw_text": "Hi Wayne.  If by testing you mean what was I using in my Comment #26:  That would be TB 52.9.1 (not replaced until 60.3.0, the next public release I am aware of, on 05-Nov-2018).  I installed 60.5.0 just now and clicked two GETMAILs (ALL) -- immediately got a few collisions and popups -- had to click OK to acknowledge and bypass the popups.\n\nUnlike these induced collisions, I have not seen any spontaneous popups during normal (automatic timed) polling in a very long time. But that doesn't mean they won't happen -- if the mailserver just happens to be busy for a split-second, TB *will* hang waiting for OK.\n\nOn the other hand, local collisions do occur occasionally but regularly if I run a GETMAIL (ALL) and an automatic poll overlaps, or if I GETMAIL a specific account just as it is being polled automatically.  I always have to click OK to continue.\n\nBTW, I somewhat agree with Steve (Comment #28) -- for sure the popup should time out on its own and continue polling, but there might be a need to know that a collision has occurred.  The tricky thing would be:  When should the timeout retry the current failed (collided) poll and when should it move on and continue with the next item?  We wouldn't want it repolling forever if something goes wrong with the server, for example, so it should give up when a retry limit is exceeded.  But I would like to see a message if polls are failing, especially if the polling skips an account and moves on to the next.  (I think Steve is saying the popup should be eliminated altogether -- a good idea in many cases -- but I would want it to be a configurable option because some of us need to know when the polls are failing.)", "time": "2019-02-04T06:17:10Z"}, {"creation_time": "2019-02-04T15:14:51Z", "is_private": false, "id": 13902669, "bug_id": 707933, "author": "steevo@gmx.co.uk", "count": 30, "text": "Any popup that requires user interaction before normal processing will continue on any computer process should be automatically dismissed, because if it's not it hangs the system. \nWhat if the system is unattended and processing 27 mail accounts, like me, and it's stopped by a transient error? And no one is looking at it? It could sit there for years. \nThis is anything on any computer. Alerts can be useful but they cannot stop the system from functioning.", "creator": "steevo@gmx.co.uk", "tags": [], "attachment_id": null, "raw_text": "Any popup that requires user interaction before normal processing will continue on any computer process should be automatically dismissed, because if it's not it hangs the system. \nWhat if the system is unattended and processing 27 mail accounts, like me, and it's stopped by a transient error? And no one is looking at it? It could sit there for years. \nThis is anything on any computer. Alerts can be useful but they cannot stop the system from functioning.", "time": "2019-02-04T15:14:51Z"}, {"author": "steevo@gmx.co.uk", "count": 31, "text": "Maybe it should be a notification of some kind, not a modal window. \nDoes Thunderbird have that? Yeah, I think it does.", "creator": "steevo@gmx.co.uk", "creation_time": "2019-02-04T15:17:18Z", "is_private": false, "bug_id": 707933, "id": 13902676, "attachment_id": null, "raw_text": "Maybe it should be a notification of some kind, not a modal window. \nDoes Thunderbird have that? Yeah, I think it does.", "time": "2019-02-04T15:17:18Z", "tags": []}, {"id": 13907231, "bug_id": 707933, "count": 32, "text": "Is anyone going to take this bug and work it?", "author": "steevo@gmx.co.uk", "time": "2019-02-06T15:00:32Z", "raw_text": "Is anyone going to take this bug and work it?", "creation_time": "2019-02-06T15:00:32Z", "is_private": false, "creator": "steevo@gmx.co.uk", "tags": ["advocacy"], "attachment_id": null}, {"tags": [], "time": "2019-02-13T05:11:52Z", "attachment_id": null, "raw_text": "I guess not, this one has been languishing for 7 years. Someone at Mozilla is going to have to make an executive decision some day and help clean this up. \nI have been involved in these bugzilla discussions before, and there have indeed been those who deny that a problem is a problem until someone comes by and says \"Hey, this is not right.\"  \nThis is one of those times. \nModal windows displaying a transient non fatal failure is just inappropriate. \nThe queue should just continue processing as soon as it can, because this is not a problem that stops everything on an automated system. And no, the user does not necessarily care about that. If there is a collision and it is resolved 45ms later, why do I need to be told? \nThis is automation.", "id": 13922563, "bug_id": 707933, "is_private": false, "creation_time": "2019-02-13T05:11:52Z", "creator": "steevo@gmx.co.uk", "author": "steevo@gmx.co.uk", "text": "I guess not, this one has been languishing for 7 years. Someone at Mozilla is going to have to make an executive decision some day and help clean this up. \nI have been involved in these bugzilla discussions before, and there have indeed been those who deny that a problem is a problem until someone comes by and says \"Hey, this is not right.\"  \nThis is one of those times. \nModal windows displaying a transient non fatal failure is just inappropriate. \nThe queue should just continue processing as soon as it can, because this is not a problem that stops everything on an automated system. And no, the user does not necessarily care about that. If there is a collision and it is resolved 45ms later, why do I need to be told? \nThis is automation.", "count": 33}, {"time": "2019-02-14T14:05:51Z", "raw_text": "I agree with Steve that the process should continue without interruption if at all possible.  I also agree that there is no need for a popup or warning if the issue resolves itself miliseconds later -- and I'd say even seconds later.\n\nHowever, if a poll fails for quite some time (a minute or more?), then a persistent non-halting popup should occur which the user can acknowledge when seen.  That is, a popup should say that a problem occurred, the process should try to continue but eventually time out (give up) AND THEN CONTINUE automatically without intervention, and the user can see later that something happened.\n\nI also have a number of accounts being polled -- and TB hangs in a permanent wait if any one of them fails.  Not good -- and I've also mentioned this for years.  (See my Comment 20 and Comment 23 above.)", "attachment_id": null, "tags": [], "creator": "dannyfox@pmtech.ca", "count": 34, "text": "I agree with Steve that the process should continue without interruption if at all possible.  I also agree that there is no need for a popup or warning if the issue resolves itself miliseconds later -- and I'd say even seconds later.\n\nHowever, if a poll fails for quite some time (a minute or more?), then a persistent non-halting popup should occur which the user can acknowledge when seen.  That is, a popup should say that a problem occurred, the process should try to continue but eventually time out (give up) AND THEN CONTINUE automatically without intervention, and the user can see later that something happened.\n\nI also have a number of accounts being polled -- and TB hangs in a permanent wait if any one of them fails.  Not good -- and I've also mentioned this for years.  (See my Comment 20 and Comment 23 above.)", "author": "dannyfox@pmtech.ca", "bug_id": 707933, "id": 13925617, "creation_time": "2019-02-14T14:05:51Z", "is_private": false}, {"bug_id": 707933, "id": 13928036, "author": "acelists@atlas.sk", "count": 36, "text": "It looks like we already postpone a server if it is busy, when automatically checking for new mail in the background, https://searchfox.org/comm-central/source/mailnews/base/src/nsMsgBiffManager.cpp#305\n\nFor manual checking, we could add a check for busy server e.g. at https://searchfox.org/comm-central/source/mailnews/local/src/nsPop3IncomingServer.cpp#729 or pass a flag into nsPop3Service::GetNewMail() there and and skip errors silently somewhere at https://searchfox.org/comm-central/source/mailnews/local/src/nsPop3Protocol.cpp#2461. But that could get messy. Magnus, what do you think.", "time": "2019-02-15T14:37:50Z", "raw_text": "It looks like we already postpone a server if it is busy, when automatically checking for new mail in the background, https://searchfox.org/comm-central/source/mailnews/base/src/nsMsgBiffManager.cpp#305\n\nFor manual checking, we could add a check for busy server e.g. at https://searchfox.org/comm-central/source/mailnews/local/src/nsPop3IncomingServer.cpp#729 or pass a flag into nsPop3Service::GetNewMail() there and and skip errors silently somewhere at https://searchfox.org/comm-central/source/mailnews/local/src/nsPop3Protocol.cpp#2461. But that could get messy. Magnus, what do you think.", "is_private": false, "creation_time": "2019-02-15T14:37:50Z", "creator": "acelists@atlas.sk", "tags": ["important"], "attachment_id": null}, {"creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "count": 37, "text": "(In reply to :aceman from comment #36)\n\n> It looks like we already postpone a server if it is busy, when automatically checking for new mail in the background, https://searchfox.org/comm-central/source/mailnews/base/src/nsMsgBiffManager.cpp#305\n\nIn that case, should we undupe Dan's manual checking bug 827897 and handle the manual checking issue there?  (And manual checking apparently is also Steve's issue) \n\nAs for automatic checks, this bug, Giacomo wrote me last fall that \"bug 707933 (that message appears only when I press \"GetMail\" while a checkmail process is already running);\" [i.e. bug 827897].  But could bug 383517 and/or bug 1155614 be related?", "bug_id": 707933, "id": 13928226, "creation_time": "2019-02-15T15:44:34Z", "is_private": false, "time": "2019-02-15T15:44:34Z", "attachment_id": null, "raw_text": "(In reply to :aceman from comment #36)\n\n> It looks like we already postpone a server if it is busy, when automatically checking for new mail in the background, https://searchfox.org/comm-central/source/mailnews/base/src/nsMsgBiffManager.cpp#305\n\nIn that case, should we undupe Dan's manual checking bug 827897 and handle the manual checking issue there?  (And manual checking apparently is also Steve's issue) \n\nAs for automatic checks, this bug, Giacomo wrote me last fall that \"bug 707933 (that message appears only when I press \"GetMail\" while a checkmail process is already running);\" [i.e. bug 827897].  But could bug 383517 and/or bug 1155614 be related?", "tags": []}, {"tags": [], "attachment_id": null, "raw_text": "Steve, your issue is only with manual checks, and not automatic checks?  Also, I'm curious how you came to be here on the exact day I posted the needinfo requests - how did that happen?", "time": "2019-02-15T15:45:41Z", "creation_time": "2019-02-15T15:45:41Z", "is_private": false, "id": 13928231, "bug_id": 707933, "author": "vseerror@lehigh.edu", "text": "Steve, your issue is only with manual checks, and not automatic checks?  Also, I'm curious how you came to be here on the exact day I posted the needinfo requests - how did that happen?", "count": 38, "creator": "vseerror@lehigh.edu"}, {"time": "2019-02-15T16:28:01Z", "raw_text": "I mostly only do manual checks. \nAs to timing, I think google finds things that are active with a proper query.", "attachment_id": null, "tags": [], "creator": "steevo@gmx.co.uk", "count": 39, "text": "I mostly only do manual checks. \nAs to timing, I think google finds things that are active with a proper query.", "author": "steevo@gmx.co.uk", "id": 13928332, "bug_id": 707933, "is_private": false, "creation_time": "2019-02-15T16:28:01Z"}, {"creator": "dannyfox@pmtech.ca", "is_private": false, "creation_time": "2019-02-15T16:35:31Z", "attachment_id": null, "tags": [], "count": 40, "text": "Wayne & Aceman...  Some clarifications.\n\n>> Manual:  I presume you mean when I press GET MESSAGES (aka doing a GETMAIL ALL), this is a manual process.  Likewise, that pressing GETMAIL to a specific account is manual.\n\nSo...\n- If I do GETMAIL (ALL) when GETMAIL (ALL) is already in progress, I often get the popup/hang because something collides.  (This is an easy way to see if the problem exists if someone has several accounts, as Steve & I do.)\n- If I do a specific GETMAIL when GETMAIL (ALL) is already in progress, I sometimes get the popup/hang if and when the specific collides with the ALL.\n- You could argue that, since we're doing a manual GETMAIL, we're at the keyboard anyway.  But this is not true if a lot of stuff is coming down.  In any case, the popup stays politely behind the active screen (ie something else being worked on at the moment) so it probably won't be seen for some time -- or not at all if I get up and leave.\n\n\n>> Automatic:  I presume you mean one (or more) of the accounts internally does a GETMAIL poll according to its schedule.\n\nSo...\n- If I do a manual GETMAIL (ALL), I ocasionally get the hang because something collides.  I've always thought (and still do) that an automatic GETMAIL is the cause.  This happens to this day.  But I can't tell you whether the manual or automatic process is at fault.\n- On the other hand, it has been a very long time since I have seen a \"spontaneous\" collision, one where the popup/hang just spontaneously shows up because TB has internally polled an account that happens to be busy.  But it does happen if the server is busy for a moment.  See my Comment 23 (this case) and Comment 26 (manual poll - but had it been an automated poll at that instant, I'm sure it would have collided.)\n- My feeling is that TB is smart enough to *not* do two scheduled (automatic) polls simultaneously, so the issue wouldn't appear.  But if the server is busy with the target account (Comment 26, an email coming in at the exact time of the poll), that timing is beyond TB's control and the collision (and popup/hang) will happen.  The coincidental timing is unlikely, but it does happen, as I inadvertently demonstrated manually.", "author": "dannyfox@pmtech.ca", "id": 13928360, "bug_id": 707933, "time": "2019-02-15T16:35:31Z", "raw_text": "Wayne & Aceman...  Some clarifications.\n\n>> Manual:  I presume you mean when I press GET MESSAGES (aka doing a GETMAIL ALL), this is a manual process.  Likewise, that pressing GETMAIL to a specific account is manual.\n\nSo...\n- If I do GETMAIL (ALL) when GETMAIL (ALL) is already in progress, I often get the popup/hang because something collides.  (This is an easy way to see if the problem exists if someone has several accounts, as Steve & I do.)\n- If I do a specific GETMAIL when GETMAIL (ALL) is already in progress, I sometimes get the popup/hang if and when the specific collides with the ALL.\n- You could argue that, since we're doing a manual GETMAIL, we're at the keyboard anyway.  But this is not true if a lot of stuff is coming down.  In any case, the popup stays politely behind the active screen (ie something else being worked on at the moment) so it probably won't be seen for some time -- or not at all if I get up and leave.\n\n\n>> Automatic:  I presume you mean one (or more) of the accounts internally does a GETMAIL poll according to its schedule.\n\nSo...\n- If I do a manual GETMAIL (ALL), I ocasionally get the hang because something collides.  I've always thought (and still do) that an automatic GETMAIL is the cause.  This happens to this day.  But I can't tell you whether the manual or automatic process is at fault.\n- On the other hand, it has been a very long time since I have seen a \"spontaneous\" collision, one where the popup/hang just spontaneously shows up because TB has internally polled an account that happens to be busy.  But it does happen if the server is busy for a moment.  See my Comment 23 (this case) and Comment 26 (manual poll - but had it been an automated poll at that instant, I'm sure it would have collided.)\n- My feeling is that TB is smart enough to *not* do two scheduled (automatic) polls simultaneously, so the issue wouldn't appear.  But if the server is busy with the target account (Comment 26, an email coming in at the exact time of the poll), that timing is beyond TB's control and the collision (and popup/hang) will happen.  The coincidental timing is unlikely, but it does happen, as I inadvertently demonstrated manually."}, {"is_private": false, "creation_time": "2019-02-15T17:47:21Z", "id": 13928508, "bug_id": 707933, "count": 41, "text": "If I absentmindedly double click get mail, I get 17 popups that must be dismissed. \nThat is pointless. This should all spool. There is no valid reason why I, the user, should have to manually wait to click a button again, like if I am waiting for email to arrive.  \nThe system should realize I clicked and spool that click for when it can be processed, like any other computer process would.", "author": "steevo@gmx.co.uk", "creator": "steevo@gmx.co.uk", "tags": [], "raw_text": "If I absentmindedly double click get mail, I get 17 popups that must be dismissed. \nThat is pointless. This should all spool. There is no valid reason why I, the user, should have to manually wait to click a button again, like if I am waiting for email to arrive.  \nThe system should realize I clicked and spool that click for when it can be processed, like any other computer process would.", "attachment_id": null, "time": "2019-02-15T17:47:21Z"}, {"time": "2019-02-15T17:58:26Z", "raw_text": "Additionally, I can set the get mail interval to 1 minute. \nLets say a large message is taking time to arrive. Big attachment, maybe. \nWould the system throw an error if it's not done? \n\nNo, it should not, it should queue those get mails until they can be started. \n\nIf the system cannot start a new task when another is still in process it ought to be smart enough to know that and wait.\n \nThat this product has been in use so many years and no one has thought that tasks that are requested by the user or by settings that cannot be started should be queued- and the system should dully just give a popup that must be manually dismissed, that just seems like bad architecture.", "attachment_id": null, "tags": [], "creator": "steevo@gmx.co.uk", "count": 42, "text": "Additionally, I can set the get mail interval to 1 minute. \nLets say a large message is taking time to arrive. Big attachment, maybe. \nWould the system throw an error if it's not done? \n\nNo, it should not, it should queue those get mails until they can be started. \n\nIf the system cannot start a new task when another is still in process it ought to be smart enough to know that and wait.\n \nThat this product has been in use so many years and no one has thought that tasks that are requested by the user or by settings that cannot be started should be queued- and the system should dully just give a popup that must be manually dismissed, that just seems like bad architecture.", "author": "steevo@gmx.co.uk", "bug_id": 707933, "id": 13928531, "is_private": false, "creation_time": "2019-02-15T17:58:26Z"}, {"time": "2019-02-15T18:15:30Z", "raw_text": "(In reply to Steve from comment #41)\n\n> If I absentmindedly double click get mail, I get 17 popups that must be dismissed. \n\nPerhaps a regression, because long ago we fixed Bug 392680 - Clicking Get Mail twice or during startup (while first round not finished) returns modal \"This folder is being processed. Please wait until processing is complete to get messages.\" dialog / error message [pop]\n\nI think we have plent of information to proceed.", "author": "vseerror@lehigh.edu", "count": 43, "text": "(In reply to Steve from comment #41)\n\n> If I absentmindedly double click get mail, I get 17 popups that must be dismissed. \n\nPerhaps a regression, because long ago we fixed Bug 392680 - Clicking Get Mail twice or during startup (while first round not finished) returns modal \"This folder is being processed. Please wait until processing is complete to get messages.\" dialog / error message [pop]\n\nI think we have plent of information to proceed.", "id": 13928551, "bug_id": 707933, "attachment_id": null, "tags": [], "creator": "vseerror@lehigh.edu", "is_private": false, "creation_time": "2019-02-15T18:15:30Z"}, {"creator": "dannyfox@pmtech.ca", "author": "dannyfox@pmtech.ca", "text": ">> Perhaps a regression, because long ago we fixed Bug 392680...\n\nWayne, I started using Thunderbird in early 2010.  Being new to the program and to the entire concept of using a non-Microsoft email product, I never really paid attention to the occasional popup, thinking it was just normal -- so I can't say whether I noticed one way or the other which aspect of the problem existed.  That is until it got bothersome and I could see the implications, especially as my email account list grew, so I eventually filed a bug report.  But I can say it looks to me that the problem in 392680 still exists today, and aside from timing (being at startup, or some other time), the visible symptoms are identical.\n\nFYI, I usually have TB running continuously, but there are many times I have it closed, then open it only when needed.  Therefore, I have all my accounts set for delayed startup, because:\n- sometimes I open TB just to check something, then close it immediately and carry on with my work.\n- if I'm pressed for time, the delay allows me to check a few important emails (or perhaps one specific account) without waiting for everything to come down.\n\nSo during startup, as I'm doing GETMAIL on a few selected accounts, suddenly I see a bunch of other mailboxes being polled one after another.  I thought I must have hit GETMAIL (ALL), or the cursor did it by being off-focus or \"between\" the account menu lines.  Since this happens so often (and I'm not all that clumsy), I eventually realized that it was more likely the startup run of all the mailboxes.  Whatever, suddenly bang, there's a collision and a popup/hang on one of the accounts.  Manual (by me checking a specific mailbox and colliding with startup)?  Or automatic (by startup running all accounts and colliding with my specific mailbox)?  Either way, the issue rears its head.", "count": 44, "bug_id": 707933, "id": 13928747, "creation_time": "2019-02-15T19:28:46Z", "is_private": false, "time": "2019-02-15T19:28:46Z", "attachment_id": null, "raw_text": ">> Perhaps a regression, because long ago we fixed Bug 392680...\n\nWayne, I started using Thunderbird in early 2010.  Being new to the program and to the entire concept of using a non-Microsoft email product, I never really paid attention to the occasional popup, thinking it was just normal -- so I can't say whether I noticed one way or the other which aspect of the problem existed.  That is until it got bothersome and I could see the implications, especially as my email account list grew, so I eventually filed a bug report.  But I can say it looks to me that the problem in 392680 still exists today, and aside from timing (being at startup, or some other time), the visible symptoms are identical.\n\nFYI, I usually have TB running continuously, but there are many times I have it closed, then open it only when needed.  Therefore, I have all my accounts set for delayed startup, because:\n- sometimes I open TB just to check something, then close it immediately and carry on with my work.\n- if I'm pressed for time, the delay allows me to check a few important emails (or perhaps one specific account) without waiting for everything to come down.\n\nSo during startup, as I'm doing GETMAIL on a few selected accounts, suddenly I see a bunch of other mailboxes being polled one after another.  I thought I must have hit GETMAIL (ALL), or the cursor did it by being off-focus or \"between\" the account menu lines.  Since this happens so often (and I'm not all that clumsy), I eventually realized that it was more likely the startup run of all the mailboxes.  Whatever, suddenly bang, there's a collision and a popup/hang on one of the accounts.  Manual (by me checking a specific mailbox and colliding with startup)?  Or automatic (by startup running all accounts and colliding with my specific mailbox)?  Either way, the issue rears its head.", "tags": []}, {"tags": [], "time": "2019-02-21T20:33:06Z", "raw_text": "(In reply to Wayne Mery (:wsmwk) from comment #27)\n\n> Dan, was your testing with version 60?\n> \n> Giacomo, you wrote that you think this is gone, was that with version 60?\n\nYes Wayne, I think it is gone. Maybe it hasn't been showing since last September (when I run Thunderbird 52.9.1 64bit on MacOSX 10.13.6.)", "attachment_id": null, "bug_id": 707933, "id": 13940206, "is_private": false, "creation_time": "2019-02-21T20:33:06Z", "creator": "giacomo.mazzini@exposte.it", "count": 45, "text": "(In reply to Wayne Mery (:wsmwk) from comment #27)\n\n> Dan, was your testing with version 60?\n> \n> Giacomo, you wrote that you think this is gone, was that with version 60?\n\nYes Wayne, I think it is gone. Maybe it hasn't been showing since last September (when I run Thunderbird 52.9.1 64bit on MacOSX 10.13.6.)", "author": "giacomo.mazzini@exposte.it"}, {"attachment_id": null, "tags": [], "creator": "steevo@gmx.co.uk", "creation_time": "2019-02-23T00:08:26Z", "is_private": false, "time": "2019-02-23T00:08:26Z", "raw_text": "I can click twice on the get mail button and get 17 modal windows to dismiss. \nIt's here on that basis. \nV60.5.0", "author": "steevo@gmx.co.uk", "text": "I can click twice on the get mail button and get 17 modal windows to dismiss. \nIt's here on that basis. \nV60.5.0", "count": 46, "id": 13942795, "bug_id": 707933}, {"is_private": false, "creation_time": "2019-02-23T01:36:19Z", "creator": "dannyfox@pmtech.ca", "tags": [], "attachment_id": null, "bug_id": 707933, "id": 13942858, "author": "dannyfox@pmtech.ca", "text": "Just to be clear in my Comment #44:\nIf I get \"a\" popup/hang, I usually get several, depending how far through the sequence when the first one hits.  I currently have only 14 accounts included in GETMAIL (ALL), but I could have half of them hang waiting for \"OK\", one after another.\nBTW, running 65.5.1", "count": 47, "raw_text": "Just to be clear in my Comment #44:\nIf I get \"a\" popup/hang, I usually get several, depending how far through the sequence when the first one hits.  I currently have only 14 accounts included in GETMAIL (ALL), but I could have half of them hang waiting for \"OK\", one after another.\nBTW, running 65.5.1", "time": "2019-02-23T01:36:19Z"}, {"raw_text": "We're talking about error message popups. Not a problem with getting the mail. \n\nIt's a dumb computer, if I tell it to check 100 email accounts it ought to go away and do that as best it can without pestering me. Whoever got the idea that a window saying essentially \"Check mail more slowly, I am busy for the next two seconds\" was a good idea needs to be slapped down, a lot. I don't need the computer to try to train me to check mail at the rate it can do it. I just need it to do the best it can.", "attachment_id": null, "time": "2019-02-23T03:45:40Z", "tags": [], "text": "We're talking about error message popups. Not a problem with getting the mail. \n\nIt's a dumb computer, if I tell it to check 100 email accounts it ought to go away and do that as best it can without pestering me. Whoever got the idea that a window saying essentially \"Check mail more slowly, I am busy for the next two seconds\" was a good idea needs to be slapped down, a lot. I don't need the computer to try to train me to check mail at the rate it can do it. I just need it to do the best it can.", "count": 48, "author": "steevo@gmx.co.uk", "creator": "steevo@gmx.co.uk", "creation_time": "2019-02-23T03:45:40Z", "is_private": false, "bug_id": 707933, "id": 13942903}, {"attachment_id": null, "tags": [], "creator": "dannyfox@pmtech.ca", "creation_time": "2019-02-23T05:03:25Z", "is_private": false, "time": "2019-02-23T05:03:25Z", "raw_text": ">> Comment 47:  BTW, running 65.5.1\n\nI meant 60.5.1 -- latest public release from 13-Feb-2019.  (Firefox is v65.)\n\n\n>> Comment 48:  We're talking about error message popups. Not a problem with getting the mail.\n\nNobody is disputing that, Steve -- I too have been talking about the error message popups.  They understand the problem:  A collision happens, the error message pops up, and the mail fetch hangs (does nothing further) until acknowledged.  They're trying to get a handle on the actual cause.  (And they know it really should just time out and continue immediately -- if at all possible.)\n\nEven though it seems like dumb design, there were probably good technical reasons why the process was originally implemented that way -- such as avoiding \"deadly embrace\" and other issues if multiple computers are polling the same account at the same time, or TB having to co-exist with other competing (possibly non-friendly) email clients which may be active simultaneously (perhaps even on the same machine!) -- hence the \"if at all possible\" disclaimer.  (Considering TB was developed just after the end of the dial-up age, when users still paid penalties for overtime and excess traffic, the better option in some circumstances might have been to stop polling.  The last thing you would want in a non-viable situation is a lot of repetitive polling traffic doing useless handshaking and chewing up your bandwidth.)\n\nHopefully the process can be changed, but they have to be sure they won't break it worse by fixing it.", "author": "dannyfox@pmtech.ca", "text": ">> Comment 47:  BTW, running 65.5.1\n\nI meant 60.5.1 -- latest public release from 13-Feb-2019.  (Firefox is v65.)\n\n\n>> Comment 48:  We're talking about error message popups. Not a problem with getting the mail.\n\nNobody is disputing that, Steve -- I too have been talking about the error message popups.  They understand the problem:  A collision happens, the error message pops up, and the mail fetch hangs (does nothing further) until acknowledged.  They're trying to get a handle on the actual cause.  (And they know it really should just time out and continue immediately -- if at all possible.)\n\nEven though it seems like dumb design, there were probably good technical reasons why the process was originally implemented that way -- such as avoiding \"deadly embrace\" and other issues if multiple computers are polling the same account at the same time, or TB having to co-exist with other competing (possibly non-friendly) email clients which may be active simultaneously (perhaps even on the same machine!) -- hence the \"if at all possible\" disclaimer.  (Considering TB was developed just after the end of the dial-up age, when users still paid penalties for overtime and excess traffic, the better option in some circumstances might have been to stop polling.  The last thing you would want in a non-viable situation is a lot of repetitive polling traffic doing useless handshaking and chewing up your bandwidth.)\n\nHopefully the process can be changed, but they have to be sure they won't break it worse by fixing it.", "count": 49, "bug_id": 707933, "id": 13942991}, {"tags": [], "time": "2019-02-23T15:35:14Z", "raw_text": "Oh, I just want to point to the actual problem, which many seem to not see and feel it's fixed. \nMaybe because the vast majority of people only have one account, so it doesn't happen. \nBut as Wayne said, this was supposed to be fixed and this is a regression. And it might be.", "attachment_id": null, "id": 13943286, "bug_id": 707933, "is_private": false, "creation_time": "2019-02-23T15:35:14Z", "creator": "steevo@gmx.co.uk", "text": "Oh, I just want to point to the actual problem, which many seem to not see and feel it's fixed. \nMaybe because the vast majority of people only have one account, so it doesn't happen. \nBut as Wayne said, this was supposed to be fixed and this is a regression. And it might be.", "count": 50, "author": "steevo@gmx.co.uk"}, {"tags": [], "raw_text": "Just updated to the new TB 60.5.2 -- so I tried two overlapping concurrent GETMAIL (ALL) runs, even though Release Notes don't mention our issue being fixed.  As expected, there were a few popup hangs (four) during polling of 14 x 2 accounts.\n\nThe process was a little slow waiting for my ISP's email server, as is typical for this time of day.  But when I manually polled the four accounts that had had popups, one of them did in fact have an email come down which (according to the timestamp) arrived at the server around the time the account was being polled.\n\nJust to be clear:  When the mail server is slow to respond, TB waits patiently as it should, then continues properly and normally.  Only when TB trips over itself -- or when an email is actually coming into the server (rarely, as it appears to have done just now) -- then the popup hang occurs.  (And even though TB had already been running for awhile, there might have been the startup run in effect too, as TB had just restarted itself following the update...)", "attachment_id": null, "time": "2019-02-27T13:59:39Z", "is_private": false, "creation_time": "2019-02-27T13:59:39Z", "id": 13951901, "bug_id": 707933, "text": "Just updated to the new TB 60.5.2 -- so I tried two overlapping concurrent GETMAIL (ALL) runs, even though Release Notes don't mention our issue being fixed.  As expected, there were a few popup hangs (four) during polling of 14 x 2 accounts.\n\nThe process was a little slow waiting for my ISP's email server, as is typical for this time of day.  But when I manually polled the four accounts that had had popups, one of them did in fact have an email come down which (according to the timestamp) arrived at the server around the time the account was being polled.\n\nJust to be clear:  When the mail server is slow to respond, TB waits patiently as it should, then continues properly and normally.  Only when TB trips over itself -- or when an email is actually coming into the server (rarely, as it appears to have done just now) -- then the popup hang occurs.  (And even though TB had already been running for awhile, there might have been the startup run in effect too, as TB had just restarted itself following the update...)", "count": 51, "author": "dannyfox@pmtech.ca", "creator": "dannyfox@pmtech.ca"}, {"time": "2019-03-23T13:56:59Z", "raw_text": "(In reply to :aceman from comment #36)\n> For manual checking, we could add a check for busy server e.g. at\n> https://searchfox.org/comm-central/source/mailnews/local/src/\n> nsPop3IncomingServer.cpp#729 \n\nSounds reasonable.", "attachment_id": null, "tags": [], "creator": "mkmelin+mozilla@iki.fi", "text": "(In reply to :aceman from comment #36)\n> For manual checking, we could add a check for busy server e.g. at\n> https://searchfox.org/comm-central/source/mailnews/local/src/\n> nsPop3IncomingServer.cpp#729 \n\nSounds reasonable.", "count": 52, "author": "mkmelin+mozilla@iki.fi", "bug_id": 707933, "id": 14006351, "creation_time": "2019-03-23T13:56:59Z", "is_private": false}, {"tags": [], "attachment_id": null, "creation_time": "2019-04-07T22:49:35Z", "is_private": false, "creator": "acelists@atlas.sk", "time": "2019-04-07T22:49:35Z", "raw_text": "OK, I have created a test build with an experimental patch. It is a build of TB 60.x plus patch at https://hg.mozilla.org/try-comm-central/rev/9bc7f82566d4a6f3475b887ee2911d7a3dedd358 .\nIt would be great if somebody could try it out.\nFor Windows 64bit, the package is at: https://queue.taskcluster.net/v1/task/X2DUU5y5R0eYnh76dt4dZg/runs/0/artifacts/public/build/target.zip .\nYou just unpack it somewhere and can run from there, it will not affect your existing TB installation, but will run on your existing TB profile (where all your data are). So you can directly test if the behaviour changes.", "id": 14038066, "bug_id": 707933, "text": "OK, I have created a test build with an experimental patch. It is a build of TB 60.x plus patch at https://hg.mozilla.org/try-comm-central/rev/9bc7f82566d4a6f3475b887ee2911d7a3dedd358 .\nIt would be great if somebody could try it out.\nFor Windows 64bit, the package is at: https://queue.taskcluster.net/v1/task/X2DUU5y5R0eYnh76dt4dZg/runs/0/artifacts/public/build/target.zip .\nYou just unpack it somewhere and can run from there, it will not affect your existing TB installation, but will run on your existing TB profile (where all your data are). So you can directly test if the behaviour changes.", "count": 53, "author": "acelists@atlas.sk"}, {"creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "text": "testing of comment 53 needed", "count": 54, "id": 14052345, "bug_id": 707933, "creation_time": "2019-04-13T11:15:24Z", "is_private": false, "time": "2019-04-13T11:15:24Z", "attachment_id": null, "raw_text": "testing of comment 53 needed", "tags": []}, {"id": 14052501, "bug_id": 707933, "creation_time": "2019-04-13T17:27:34Z", "is_private": false, "creator": "dannyfox@pmtech.ca", "text": "I downloaded the ZIP file from /rev/...358 and unpacked (unzipped?) it, but I can't see anything that looks executable.  How do we run this patch to test it?", "count": 55, "author": "dannyfox@pmtech.ca", "tags": [], "time": "2019-04-13T17:27:34Z", "raw_text": "I downloaded the ZIP file from /rev/...358 and unpacked (unzipped?) it, but I can't see anything that looks executable.  How do we run this patch to test it?", "attachment_id": null}, {"is_private": false, "creation_time": "2019-04-13T17:38:57Z", "bug_id": 707933, "id": 14052506, "count": 56, "text": "Use the other link to the zip file with the executable (assuming you are on Windows 64bit).", "author": "acelists@atlas.sk", "creator": "acelists@atlas.sk", "tags": [], "raw_text": "Use the other link to the zip file with the executable (assuming you are on Windows 64bit).", "attachment_id": null, "time": "2019-04-13T17:38:57Z"}, {"attachment_id": null, "tags": [], "creator": "dannyfox@pmtech.ca", "is_private": false, "creation_time": "2019-04-13T17:51:13Z", "time": "2019-04-13T17:51:13Z", "raw_text": "@aceman - Sorry, no, I'm using 32-bit (and Windows 7/Pro if that further restricts things)", "author": "dannyfox@pmtech.ca", "count": 57, "text": "@aceman - Sorry, no, I'm using 32-bit (and Windows 7/Pro if that further restricts things)", "id": 14052510, "bug_id": 707933}, {"tags": [], "attachment_id": null, "is_private": false, "creation_time": "2019-04-13T18:20:39Z", "creator": "steevo@gmx.co.uk", "raw_text": "I am on windows 7 64 bit. I downloaded the second version, the 64 bit one. The installed version of thunderbird I am using is 32 bit. \n\nI extracted the files and clicked thunderbird.exe got a UAC popup but nothing launches.", "time": "2019-04-13T18:20:39Z", "id": 14052521, "bug_id": 707933, "count": 58, "text": "I am on windows 7 64 bit. I downloaded the second version, the 64 bit one. The installed version of thunderbird I am using is 32 bit. \n\nI extracted the files and clicked thunderbird.exe got a UAC popup but nothing launches.", "author": "steevo@gmx.co.uk"}, {"tags": [], "raw_text": "I found the plugin-hang-ui executable. Quit the other instance of tb and it launched. \nI clicked get mail several times. \nI still get the error popups. \nNothing is fixed so far.", "attachment_id": null, "time": "2019-04-13T18:23:52Z", "is_private": false, "creation_time": "2019-04-13T18:23:52Z", "id": 14052522, "bug_id": 707933, "text": "I found the plugin-hang-ui executable. Quit the other instance of tb and it launched. \nI clicked get mail several times. \nI still get the error popups. \nNothing is fixed so far.", "count": 59, "author": "steevo@gmx.co.uk", "creator": "steevo@gmx.co.uk"}, {"creator": "acelists@atlas.sk", "is_private": false, "creation_time": "2019-04-13T18:59:57Z", "attachment_id": null, "tags": [], "author": "acelists@atlas.sk", "count": 60, "text": "Windows 32bit package is here: https://queue.taskcluster.net/v1/task/FkKOT9O0R9SChYvLcLh1oQ/runs/0/artifacts/public/build/target.zip", "bug_id": 707933, "id": 14052541, "time": "2019-04-13T18:59:57Z", "raw_text": "Windows 32bit package is here: https://queue.taskcluster.net/v1/task/FkKOT9O0R9SChYvLcLh1oQ/runs/0/artifacts/public/build/target.zip"}, {"creator": "dannyfox@pmtech.ca", "creation_time": "2019-04-13T20:02:36Z", "is_private": false, "attachment_id": null, "tags": [], "count": 61, "text": ">> Testing on Windows 7 / 32-bit:  Aceman's daily unzipped OK  (TB 60.6.2 Daily)\n\nI clicked GETMAIL (All) twice in succession for the various tests, which polled 14 POP3 accounts.  There were at least two different mail servers involved (at two distinct ISPs).\n\nFirst tried my existing installation (TB 60.6.1 Release).  Tested THREE passes.  Each time I clicked GETMAIL (All) twice in a row, varying the delay between launches slightly each time from ~3 seconds down to click click.\nFirst pass I got two busy popups.  Second pass one popup.  Third pass another two popups.  \n\nThen I tested the patch (TB 60.6.2 Daily).  Tested FOUR passes.  Three times I clicked GETMAIL (All) twice in a row, varying the delay between launches slightly each time from ~3 seconds down to click click.\nFirst pass I again got two busy popups.  Second pass one popup.  Third pass another two popups.\nFor the fourth pass, I clicked GETMAIL (All) once and I was deliberately waiting to get about halfway through to start the second GETMAIL.  About 10 seconds in, suddenly a busy popup occurred, without my second click.  So either the program tripped over itself again, or an automatic timed poll went off and collided with my test pass.\n\n\nI did notice that the hangs sometimes happened on the first of two getmail sessions within the pass, then shortly later watched the second one just sail right by.  The could be an automatic poll interfering.\n\nThere also occurred an overlap of \"No messages to download\" while a poll was in progress -- this would be from an automatic poll that jumped in and ran -- erasing the current display from the current getmails running manually.\n\nSymptoms overall are unchanged, so I agree with Steve -- this test fix hasn't resolved the problem.  But thanks, Ace, let's try again.", "author": "dannyfox@pmtech.ca", "id": 14052583, "bug_id": 707933, "raw_text": ">> Testing on Windows 7 / 32-bit:  Aceman's daily unzipped OK  (TB 60.6.2 Daily)\n\nI clicked GETMAIL (All) twice in succession for the various tests, which polled 14 POP3 accounts.  There were at least two different mail servers involved (at two distinct ISPs).\n\nFirst tried my existing installation (TB 60.6.1 Release).  Tested THREE passes.  Each time I clicked GETMAIL (All) twice in a row, varying the delay between launches slightly each time from ~3 seconds down to click click.\nFirst pass I got two busy popups.  Second pass one popup.  Third pass another two popups.  \n\nThen I tested the patch (TB 60.6.2 Daily).  Tested FOUR passes.  Three times I clicked GETMAIL (All) twice in a row, varying the delay between launches slightly each time from ~3 seconds down to click click.\nFirst pass I again got two busy popups.  Second pass one popup.  Third pass another two popups.\nFor the fourth pass, I clicked GETMAIL (All) once and I was deliberately waiting to get about halfway through to start the second GETMAIL.  About 10 seconds in, suddenly a busy popup occurred, without my second click.  So either the program tripped over itself again, or an automatic timed poll went off and collided with my test pass.\n\n\nI did notice that the hangs sometimes happened on the first of two getmail sessions within the pass, then shortly later watched the second one just sail right by.  The could be an automatic poll interfering.\n\nThere also occurred an overlap of \"No messages to download\" while a poll was in progress -- this would be from an automatic poll that jumped in and ran -- erasing the current display from the current getmails running manually.\n\nSymptoms overall are unchanged, so I agree with Steve -- this test fix hasn't resolved the problem.  But thanks, Ace, let's try again.", "time": "2019-04-13T20:02:36Z"}, {"raw_text": "As to this being a regression. I think I agree with that. \n\nI am at a different location this week, and I have an older version of Thunderbird on a system here which has been checking only one account.\n\n45.6.0\n\nI installed 13 more accounts on it and I get none of these popups. \nNo problems at all. \nIt's nagging me to update, but as of yet I am resisting that. Heh. \n\nI don't know what the changes were from that to later versions, or when the problem appeared again.", "time": "2019-04-21T18:38:09Z", "bug_id": 707933, "id": 14066237, "text": "As to this being a regression. I think I agree with that. \n\nI am at a different location this week, and I have an older version of Thunderbird on a system here which has been checking only one account.\n\n45.6.0\n\nI installed 13 more accounts on it and I get none of these popups. \nNo problems at all. \nIt's nagging me to update, but as of yet I am resisting that. Heh. \n\nI don't know what the changes were from that to later versions, or when the problem appeared again.", "count": 62, "author": "steevo@gmx.co.uk", "tags": [], "attachment_id": null, "creation_time": "2019-04-21T18:38:09Z", "is_private": false, "creator": "steevo@gmx.co.uk"}, {"bug_id": 707933, "id": 14066278, "is_private": false, "creation_time": "2019-04-21T20:58:00Z", "creator": "dannyfox@pmtech.ca", "count": 63, "text": "I was complaining about this issue long before 45.6.0.  My Bug 827897 back in January 2013 was for TB 17.0, wherein I stated the problem had already been occurring for a long time.  I was polling about 13-14 accounts then too, pretty much the same ones I have today.\n\nIf your additional accounts were just newly installed, perhaps the underlying files are of a different type or format on that machine.  Once upon a time (including my start with TB), all messages for an account went into one big file (with pointers to each) -- and that's how my TB operates today.  But as I understand, a switch was made several versions ago to a format where each message goes into its own file.\n\nI'm not sure you can mix the two, but I'm speculating that your isolated location had this newer version of TB, that it was set up differently from the start, and that it uses the newer format (which I believe is now the default for new installations of TB).\n\nA system that relies on updating pointers to a file *must* have lockouts to prevent data collisions -- and lockouts are notoriously tricky and subject to tripping over themselves.  The newer format would be cleaner and less prone to hiccups.  I'm wondering if something in handling the old format is the cause of the problem?\n\nSteve, it would be good to know the file format in use at the isolated location (and your home base too).  Go to TOOLS, OPTIONS, ADVANCED, then \"General\" tab -- look in the bottom box for \"Message Store Type for new accounts\".  Let us know if it is \"File per folder (mbox)\" [the old format] or \"File per message (maildir)\" [the new format]. \n\nIf you are using the new format, it would be a good test if you could upgrade TB to current and let rip a bunch of GetMails.  If that system still doesn't lock up, then we may a few steps closer to a resolution.\n\nSo then -- as a workaround for old format users -- the seriousness of the popup window problem can be resolved by letting the popups expire and continue, without hanging forever waiting on a human response.  (Subject of course to the previously mentioned caveats...)", "author": "dannyfox@pmtech.ca", "tags": [], "time": "2019-04-21T20:58:00Z", "raw_text": "I was complaining about this issue long before 45.6.0.  My Bug 827897 back in January 2013 was for TB 17.0, wherein I stated the problem had already been occurring for a long time.  I was polling about 13-14 accounts then too, pretty much the same ones I have today.\n\nIf your additional accounts were just newly installed, perhaps the underlying files are of a different type or format on that machine.  Once upon a time (including my start with TB), all messages for an account went into one big file (with pointers to each) -- and that's how my TB operates today.  But as I understand, a switch was made several versions ago to a format where each message goes into its own file.\n\nI'm not sure you can mix the two, but I'm speculating that your isolated location had this newer version of TB, that it was set up differently from the start, and that it uses the newer format (which I believe is now the default for new installations of TB).\n\nA system that relies on updating pointers to a file *must* have lockouts to prevent data collisions -- and lockouts are notoriously tricky and subject to tripping over themselves.  The newer format would be cleaner and less prone to hiccups.  I'm wondering if something in handling the old format is the cause of the problem?\n\nSteve, it would be good to know the file format in use at the isolated location (and your home base too).  Go to TOOLS, OPTIONS, ADVANCED, then \"General\" tab -- look in the bottom box for \"Message Store Type for new accounts\".  Let us know if it is \"File per folder (mbox)\" [the old format] or \"File per message (maildir)\" [the new format]. \n\nIf you are using the new format, it would be a good test if you could upgrade TB to current and let rip a bunch of GetMails.  If that system still doesn't lock up, then we may a few steps closer to a resolution.\n\nSo then -- as a workaround for old format users -- the seriousness of the popup window problem can be resolved by letting the popups expire and continue, without hanging forever waiting on a human response.  (Subject of course to the previously mentioned caveats...)", "attachment_id": null}, {"creator": "steevo@gmx.co.uk", "author": "steevo@gmx.co.uk", "count": 64, "text": "The installation that does not exhibit the problem says\nFile per folder (Mbox) \n\nI won't be back at the other location for a while, but that was an upgraded installation where I tried to import mail and settings from eudora. It was an older version that supported that, but it sure didn't go well at all. I upgraded it after that.", "bug_id": 707933, "id": 14066336, "is_private": false, "creation_time": "2019-04-22T00:21:23Z", "time": "2019-04-22T00:21:23Z", "attachment_id": null, "raw_text": "The installation that does not exhibit the problem says\nFile per folder (Mbox) \n\nI won't be back at the other location for a while, but that was an upgraded installation where I tried to import mail and settings from eudora. It was an older version that supported that, but it sure didn't go well at all. I upgraded it after that.", "tags": []}, {"is_private": false, "creation_time": "2019-06-11T22:28:23Z", "bug_id": 707933, "id": 14175328, "count": 65, "text": "The installation that does exhibit the problem says the same\nFile per folder (Mbox)\nI was eagerly going to change it when I got back which I did today, my hopes are dashed. \nThis installation still exhibits the problem. \nI have no explanation. I did bring the 3 GB thunderbird folder from the other location, and I may put it in instead of this one where I am  having problems, still. I do have lots of missing mail that was in Eudora that I could not import. The Eudora mbx files became corrupt at both locations, I suspect one bad email, but I have not been able to find it. Seems to have screwed up their pointers or something in the record structure. And mbx is so simple!", "author": "steevo@gmx.co.uk", "creator": "steevo@gmx.co.uk", "tags": [], "raw_text": "The installation that does exhibit the problem says the same\nFile per folder (Mbox)\nI was eagerly going to change it when I got back which I did today, my hopes are dashed. \nThis installation still exhibits the problem. \nI have no explanation. I did bring the 3 GB thunderbird folder from the other location, and I may put it in instead of this one where I am  having problems, still. I do have lots of missing mail that was in Eudora that I could not import. The Eudora mbx files became corrupt at both locations, I suspect one bad email, but I have not been able to find it. Seems to have screwed up their pointers or something in the record structure. And mbx is so simple!", "attachment_id": null, "time": "2019-06-11T22:28:23Z"}, {"is_private": false, "creation_time": "2019-06-17T23:13:13Z", "creator": "steevo@gmx.co.uk", "tags": [], "attachment_id": null, "bug_id": 707933, "id": 14185814, "author": "steevo@gmx.co.uk", "text": "Does anyone have a suggestion for me? \nFile per folder (Mbox)\nis set, and the collisions still occur.", "count": 66, "raw_text": "Does anyone have a suggestion for me? \nFile per folder (Mbox)\nis set, and the collisions still occur.", "time": "2019-06-17T23:13:13Z"}, {"author": "dannyfox@pmtech.ca", "text": "For what it's worth, it seems that (for reasons unknown) running any single GETMAIL may take milliseconds or might take many seconds, depending on (what?) -- seems like it's my service provider responding quickly or not.  I can't prove this, only by observation and time of day -- sometimes it's fast and sometimes it isn't.  So, a GETMAIL (ALL) may take several millisecond-long fetches and work perfectly, or might take a few minutes in total, pausing for several seconds waiting for each response.  Rarely if ever do I get a collision on the really fast services, but I often get one or more collisions when service is slow -- understandable since there is much more time for (and likelihood of) a spontaneous timed GETMAIL interrupting the otherwise sequential flow.\n\nIn an ideal world, all service requests would be handled quickly.  In reality, things slow down.  Either way, collisions can and do happen.  Going back to a suggestion I made years ago and we're trying to bring forth now:  Please, if a collision popup occurs, let it time out (ie- without requiring user intervention) so the GETMAIL process can continue and finish.", "count": 67, "creator": "dannyfox@pmtech.ca", "creation_time": "2019-06-18T05:12:57Z", "is_private": false, "bug_id": 707933, "id": 14185976, "attachment_id": null, "raw_text": "For what it's worth, it seems that (for reasons unknown) running any single GETMAIL may take milliseconds or might take many seconds, depending on (what?) -- seems like it's my service provider responding quickly or not.  I can't prove this, only by observation and time of day -- sometimes it's fast and sometimes it isn't.  So, a GETMAIL (ALL) may take several millisecond-long fetches and work perfectly, or might take a few minutes in total, pausing for several seconds waiting for each response.  Rarely if ever do I get a collision on the really fast services, but I often get one or more collisions when service is slow -- understandable since there is much more time for (and likelihood of) a spontaneous timed GETMAIL interrupting the otherwise sequential flow.\n\nIn an ideal world, all service requests would be handled quickly.  In reality, things slow down.  Either way, collisions can and do happen.  Going back to a suggestion I made years ago and we're trying to bring forth now:  Please, if a collision popup occurs, let it time out (ie- without requiring user intervention) so the GETMAIL process can continue and finish.", "time": "2019-06-18T05:12:57Z", "tags": []}, {"time": "2019-06-18T15:14:42Z", "attachment_id": null, "raw_text": "Yeah, the problem is when I absentmindedly, or intentionally click get mail more than once. \nThen I often get 10 modal windows that must be dismissed for the processes to continue. \nSilly that this would be a part of an automated process, but for some reason someone put it in and it's a problem. \nThe solution would be to queue the get mail clicks and process them when possible, or ignore extra clicks, but for some reason none of that was done. \n\nSo what we have here is a user training mechanism: \"Click more slowly, or we will annoy you until you do, or move on to another mail client.\"  \n\nThis is to deter the human involved from telling the computer to do something too quickly, whereas I consider the sole purpose of any computer to do my drudgery for me.  So I don't have to. \n\nAnytime a developer involves the user in the computer's drudgery is a defect, and this sure is. A fairly significant defect. \n\nBut my question today is about why this installation acts differently than the other installation in this one regard, since they are both set the same, with that files per folder (mbx) setting. \n\nAs I said, I did bring the entire three gig thunderbird directory from the other location with me. I wonder if there is an INI file or something that I can replace here that would change the behavior? Or should I try to change the entire installation with the other directory from the other location that does not have this problem?", "tags": [], "creator": "steevo@gmx.co.uk", "author": "steevo@gmx.co.uk", "count": 68, "text": "Yeah, the problem is when I absentmindedly, or intentionally click get mail more than once. \nThen I often get 10 modal windows that must be dismissed for the processes to continue. \nSilly that this would be a part of an automated process, but for some reason someone put it in and it's a problem. \nThe solution would be to queue the get mail clicks and process them when possible, or ignore extra clicks, but for some reason none of that was done. \n\nSo what we have here is a user training mechanism: \"Click more slowly, or we will annoy you until you do, or move on to another mail client.\"  \n\nThis is to deter the human involved from telling the computer to do something too quickly, whereas I consider the sole purpose of any computer to do my drudgery for me.  So I don't have to. \n\nAnytime a developer involves the user in the computer's drudgery is a defect, and this sure is. A fairly significant defect. \n\nBut my question today is about why this installation acts differently than the other installation in this one regard, since they are both set the same, with that files per folder (mbx) setting. \n\nAs I said, I did bring the entire three gig thunderbird directory from the other location with me. I wonder if there is an INI file or something that I can replace here that would change the behavior? Or should I try to change the entire installation with the other directory from the other location that does not have this problem?", "id": 14186486, "bug_id": 707933, "creation_time": "2019-06-18T15:14:42Z", "is_private": false}, {"creator": "dannyfox@pmtech.ca", "text": "Do you know for a fact that the location without the problem is actually different?  If the SETTING changes, ie mbx vs not), that does not retroactively change the file structures that existed at the time of the change.  Existing accounts will maintain their original file structure AFAIK.  Perhaps they were set one way when created and the setting was changed afterward and now looks the same as the others but actually isn't the same underneath.\n\n>>  ...when I absentmindedly, or intentionally click get mail more than once.\n\nOn this point, I think there is something else afoot here too.  I often click specific accounts for GETMAIL and occasionally end up with a full GETMAIL of all accounts, of course then resulting in collisions and the busy popups.  This is not an absent-minded click-more-than-once.  Something triggers the full GETMAIL.  Often it's the delayed start of imminent fetches when TB first starts up -- but not always (I've mentioned clicking \"between\" account menu lines in my Comment #44).  Sounds like you might be getting this too, through no fault of your own.  So either the focus area has gaps (allowing \"all\" as a default), or specific clicks randomly switch to GETMAIL ALL (for reasons unknown), or we're both extremely clumsy on the keyboard (not so likely).", "count": 69, "author": "dannyfox@pmtech.ca", "id": 14186509, "bug_id": 707933, "is_private": false, "creation_time": "2019-06-18T15:47:48Z", "time": "2019-06-18T15:47:48Z", "raw_text": "Do you know for a fact that the location without the problem is actually different?  If the SETTING changes, ie mbx vs not), that does not retroactively change the file structures that existed at the time of the change.  Existing accounts will maintain their original file structure AFAIK.  Perhaps they were set one way when created and the setting was changed afterward and now looks the same as the others but actually isn't the same underneath.\n\n>>  ...when I absentmindedly, or intentionally click get mail more than once.\n\nOn this point, I think there is something else afoot here too.  I often click specific accounts for GETMAIL and occasionally end up with a full GETMAIL of all accounts, of course then resulting in collisions and the busy popups.  This is not an absent-minded click-more-than-once.  Something triggers the full GETMAIL.  Often it's the delayed start of imminent fetches when TB first starts up -- but not always (I've mentioned clicking \"between\" account menu lines in my Comment #44).  Sounds like you might be getting this too, through no fault of your own.  So either the focus area has gaps (allowing \"all\" as a default), or specific clicks randomly switch to GETMAIL ALL (for reasons unknown), or we're both extremely clumsy on the keyboard (not so likely).", "attachment_id": null, "tags": []}, {"tags": [], "time": "2019-06-18T23:12:06Z", "attachment_id": null, "raw_text": "I don't know for a fact. This installation was an import from Eudora that didn't go well. \nAnd it works crappy. \nI wonder if I can just replace the directory with the one from the other location?  I can rename it and plop the other files in and the mail will all resync, I think.  Mostly.", "bug_id": 707933, "id": 14187257, "creation_time": "2019-06-18T23:12:06Z", "is_private": false, "creator": "steevo@gmx.co.uk", "author": "steevo@gmx.co.uk", "text": "I don't know for a fact. This installation was an import from Eudora that didn't go well. \nAnd it works crappy. \nI wonder if I can just replace the directory with the one from the other location?  I can rename it and plop the other files in and the mail will all resync, I think.  Mostly.", "count": 70}, {"bug_id": 707933, "id": 14187391, "author": "dannyfox@pmtech.ca", "text": "Not sure how to advise on this.  I have only limited experience with hacking an import -- a POP3 file, actually -- but it went OK and the analogy may work for you.\n\nI had a mailbox file (\"Dan Email\" for illustration) which I wanted to import.  I just created a new account with that name (\"Dan Email\") so that it created the empty files likewise called \"Dan Email\".  Then I substituted the file to be imported directly in place so TB would recognize it, \"repaired\" (rebuilt) the folder (since the internal index structure was obviously new & different), and it was done.  TB was able to fully handle the file and its content.\n\nI'm not sure how an imap folder of files will work, but I suspect as long as you create the new account so that the top file structure (folder) is in place, then fake it out by -- as you say -- plopping the other files in and re-syncing, I suspect it will probably work.  (But you already have more experience than I do with this aspect...)  If it doesn't work right away, at least try the \"repair folder\" option, which I suspect is what you mean by resyncing -- TB has to know what it's looking at.  Good luck with it!", "count": 71, "raw_text": "Not sure how to advise on this.  I have only limited experience with hacking an import -- a POP3 file, actually -- but it went OK and the analogy may work for you.\n\nI had a mailbox file (\"Dan Email\" for illustration) which I wanted to import.  I just created a new account with that name (\"Dan Email\") so that it created the empty files likewise called \"Dan Email\".  Then I substituted the file to be imported directly in place so TB would recognize it, \"repaired\" (rebuilt) the folder (since the internal index structure was obviously new & different), and it was done.  TB was able to fully handle the file and its content.\n\nI'm not sure how an imap folder of files will work, but I suspect as long as you create the new account so that the top file structure (folder) is in place, then fake it out by -- as you say -- plopping the other files in and re-syncing, I suspect it will probably work.  (But you already have more experience than I do with this aspect...)  If it doesn't work right away, at least try the \"repair folder\" option, which I suspect is what you mean by resyncing -- TB has to know what it's looking at.  Good luck with it!", "time": "2019-06-19T02:26:11Z", "creation_time": "2019-06-19T02:26:11Z", "is_private": false, "creator": "dannyfox@pmtech.ca", "tags": [], "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "vseerror@lehigh.edu", "is_private": false, "creation_time": "2019-09-27T11:54:46Z", "time": "2019-09-27T11:54:46Z", "raw_text": "aceman, given the feedback, any ideas for a patch v2?  Or, what more information is needed?", "count": 72, "text": "aceman, given the feedback, any ideas for a patch v2?  Or, what more information is needed?", "author": "vseerror@lehigh.edu", "bug_id": 707933, "id": 14389336}, {"creator": "vseerror@lehigh.edu", "creation_time": "2019-09-27T11:55:05Z", "is_private": false, "attachment_id": null, "tags": [], "count": 73, "text": "*** Bug 1480623 has been marked as a duplicate of this bug. ***", "author": "vseerror@lehigh.edu", "id": 14389338, "bug_id": 707933, "time": "2019-09-27T11:55:05Z", "raw_text": ""}, {"count": 74, "text": "FYI, still happening (exactly as previously described) on TB 68.1.0 and on 68.1.1 (just installed minutes ago).\n\nAnd...  TB happened to log a crash during its update -- there's a pop-under crash screen with an icon in the taskbar.  This would have been the previous instance not closing off properly -- happens to me all the time on Firefox updates (my bug 1544001), but don't recall seeing it happen on TB.", "author": "dannyfox@pmtech.ca", "bug_id": 707933, "id": 14389772, "raw_text": "FYI, still happening (exactly as previously described) on TB 68.1.0 and on 68.1.1 (just installed minutes ago).\n\nAnd...  TB happened to log a crash during its update -- there's a pop-under crash screen with an icon in the taskbar.  This would have been the previous instance not closing off properly -- happens to me all the time on Firefox updates (my bug 1544001), but don't recall seeing it happen on TB.", "time": "2019-09-27T16:10:00Z", "creator": "dannyfox@pmtech.ca", "is_private": false, "creation_time": "2019-09-27T16:10:00Z", "attachment_id": null, "tags": []}, {"is_private": false, "creation_time": "2020-07-20T09:14:40Z", "bug_id": 707933, "id": 14946161, "author": "vseerror@lehigh.edu", "text": "Dan, Do you also see what is described in bug 822625 ?", "count": 75, "creator": "vseerror@lehigh.edu", "tags": [], "attachment_id": null, "raw_text": "Dan, Do you also see what is described in bug 822625 ?", "time": "2020-07-20T09:14:40Z"}, {"count": 76, "text": "I never run with any accounts set to Check-on-Start-up because, when I start, sometimes I want to look at something specific and don't want a bunch of unrelated downloads in my way.  But for the sake of testing, I turned on Check-on-Startup for several accounts -- all at the same ISP -- and opened several emails in those various accounts.  Then I exited specifically using FILE, EXIT as per steps in 822625, and ran various tests.\n\nBefore starting anything, I needed to check my initial situation.  I did two overlapping GET MESSAGES (ALL) four times in total -- 14 accounts at 3 ISPs included in the GET ALL MESSAGES list -- and got the popups 4x, 1x, 1x, and 3x.  So this proves that the popups still happen (TB 68.10.0) when GETMAILs collide.  Then I set up as above and began testing bug 822625.  [[ Sorry, I can no longer find the option that used to say \"Include this account in Get All Messages?\" ]]\n\n> From now on, whenever I say \"close\" or \"exit\", I mean I used FILE, EXIT to close TB, then waited a couple of seconds before continuing.\n\nFirst, with the various Checks-on-Startup set and no emails open, I closed and re-launched TB -- no popups.  Repeated a few times, nothing.\n\nThen I opened several emails representative of various accounts.  I closed TB and re-launched -- there were no popups.  I repeated four or five times -- no popups.  So this seems to disprove bug 822625 (by having more accounts to open and trip over).\n\nFinally, several times I launched TB and immediately launched GET MESSAGES (ALL) so that it overlapped the startup GETMAILs in progress.  No surprise, I got the occasional popup.  This proves two things:  (1) as above, overlapping GETMAILs still collide, whether automatic or manual;  and (2) my own observation of popups during any one single specific manual GETMAIL is in fact due to collision with automatic GETMAILs running in the background -- in this case several at once, but not the complete set as would happen when all items start up after a delay (ie- \"not at startup\").\n\nIf I was guessing, based on my experience with multiple accounts at multiple ISPs (documented above in *this* bug), it might be a matter of timing too.  Even though bug 822625 has only two accounts, the ISP might be a tad slow responding to (and perhaps overlapping) both polls.  Or if the accounts are at different ISPs the responses might return almost simultaneously.  A quick test for bug 822625 would be -- with no emails open -- to click on GET MESSAGES (ALL) several times in quick succession and try to force a collision.  With only two accounts repeating, it might take several tries, but...  If a collision happens quickly, that might prove the popup has everything to do with timing or responses and little to do with emails being open (except that TB has to open the emails while it is polling the startups).", "author": "dannyfox@pmtech.ca", "bug_id": 707933, "id": 14962510, "time": "2020-07-29T16:38:43Z", "raw_text": "I never run with any accounts set to Check-on-Start-up because, when I start, sometimes I want to look at something specific and don't want a bunch of unrelated downloads in my way.  But for the sake of testing, I turned on Check-on-Startup for several accounts -- all at the same ISP -- and opened several emails in those various accounts.  Then I exited specifically using FILE, EXIT as per steps in 822625, and ran various tests.\n\nBefore starting anything, I needed to check my initial situation.  I did two overlapping GET MESSAGES (ALL) four times in total -- 14 accounts at 3 ISPs included in the GET ALL MESSAGES list -- and got the popups 4x, 1x, 1x, and 3x.  So this proves that the popups still happen (TB 68.10.0) when GETMAILs collide.  Then I set up as above and began testing bug 822625.  [[ Sorry, I can no longer find the option that used to say \"Include this account in Get All Messages?\" ]]\n\n> From now on, whenever I say \"close\" or \"exit\", I mean I used FILE, EXIT to close TB, then waited a couple of seconds before continuing.\n\nFirst, with the various Checks-on-Startup set and no emails open, I closed and re-launched TB -- no popups.  Repeated a few times, nothing.\n\nThen I opened several emails representative of various accounts.  I closed TB and re-launched -- there were no popups.  I repeated four or five times -- no popups.  So this seems to disprove bug 822625 (by having more accounts to open and trip over).\n\nFinally, several times I launched TB and immediately launched GET MESSAGES (ALL) so that it overlapped the startup GETMAILs in progress.  No surprise, I got the occasional popup.  This proves two things:  (1) as above, overlapping GETMAILs still collide, whether automatic or manual;  and (2) my own observation of popups during any one single specific manual GETMAIL is in fact due to collision with automatic GETMAILs running in the background -- in this case several at once, but not the complete set as would happen when all items start up after a delay (ie- \"not at startup\").\n\nIf I was guessing, based on my experience with multiple accounts at multiple ISPs (documented above in *this* bug), it might be a matter of timing too.  Even though bug 822625 has only two accounts, the ISP might be a tad slow responding to (and perhaps overlapping) both polls.  Or if the accounts are at different ISPs the responses might return almost simultaneously.  A quick test for bug 822625 would be -- with no emails open -- to click on GET MESSAGES (ALL) several times in quick succession and try to force a collision.  With only two accounts repeating, it might take several tries, but...  If a collision happens quickly, that might prove the popup has everything to do with timing or responses and little to do with emails being open (except that TB has to open the emails while it is polling the startups).", "creator": "dannyfox@pmtech.ca", "creation_time": "2020-07-29T16:38:43Z", "is_private": false, "attachment_id": null, "tags": []}, {"raw_text": "(In reply to :aceman from comment #53)\n> OK, I have created a test build with an experimental patch. It is a build of TB 60.x plus patch at https://hg.mozilla.org/try-comm-central/rev/9bc7f82566d4a6f3475b887ee2911d7a3dedd358 .\n> It would be great if somebody could try it out.\n> For Windows 64bit, the package is at: https://queue.taskcluster.net/v1/task/X2DUU5y5R0eYnh76dt4dZg/runs/0/artifacts/public/build/target.zip .\nAceman, do you still have your patch?\n> You just unpack it somewhere and can run from there, it will not affect your existing TB installation, but will run on your existing TB profile (where all your data are). So you can directly test if the behaviour changes.", "time": "2021-01-02T14:13:08Z", "bug_id": 707933, "id": 15198699, "author": "vseerror@lehigh.edu", "text": "(In reply to :aceman from comment #53)\n> OK, I have created a test build with an experimental patch. It is a build of TB 60.x plus patch at https://hg.mozilla.org/try-comm-central/rev/9bc7f82566d4a6f3475b887ee2911d7a3dedd358 .\n> It would be great if somebody could try it out.\n> For Windows 64bit, the package is at: https://queue.taskcluster.net/v1/task/X2DUU5y5R0eYnh76dt4dZg/runs/0/artifacts/public/build/target.zip .\nAceman, do you still have your patch?\n> You just unpack it somewhere and can run from there, it will not affect your existing TB installation, but will run on your existing TB profile (where all your data are). So you can directly test if the behaviour changes.", "count": 77, "tags": [], "attachment_id": null, "creation_time": "2021-01-02T14:13:08Z", "is_private": false, "creator": "vseerror@lehigh.edu"}, {"time": "2021-01-02T14:18:02Z", "raw_text": "", "author": "vseerror@lehigh.edu", "text": "*** Bug 383517 has been marked as a duplicate of this bug. ***", "count": 78, "bug_id": 707933, "id": 15198701, "attachment_id": null, "tags": [], "creator": "vseerror@lehigh.edu", "is_private": false, "creation_time": "2021-01-02T14:18:02Z"}, {"id": 15198817, "bug_id": 707933, "author": "dannyfox@pmtech.ca", "count": 79, "text": "I just now noticed something different in my current TB installation (TB 78.6.0, running on Windows 7/32 Pro).  As previously reported, I presently have 17 mailboxes for polling, 14 of which are triggered by the GET ALL MESSAGES button (aka GETMAIL).\n\nTriggering two or more GETMAIL streams simultaneously (by pressing the Get Messages button two or more times in quick succession) has always caused the busy popup sooner or later and caused all further email fetches to hang until the popup is acknowledged.  Now, if I trigger two GETMAIL  streams, eventually one will hang with the popup waiting -- but the other continues to completion (nothing else to crash into).  If I trigger three or more, one or more will hang waiting.  Any uncrashed streams complete, followed by any others whose popups have been acknowledged.\n\nSo it looks to me that *THIS* version is on the way to a fix -- at least a fully uncrashed stream will complete without hanging whether or not a popup from some other stream is waiting.  But the popups that do happen still need to time out and continue, as discussed above in this report and elsewhere.", "raw_text": "I just now noticed something different in my current TB installation (TB 78.6.0, running on Windows 7/32 Pro).  As previously reported, I presently have 17 mailboxes for polling, 14 of which are triggered by the GET ALL MESSAGES button (aka GETMAIL).\n\nTriggering two or more GETMAIL streams simultaneously (by pressing the Get Messages button two or more times in quick succession) has always caused the busy popup sooner or later and caused all further email fetches to hang until the popup is acknowledged.  Now, if I trigger two GETMAIL  streams, eventually one will hang with the popup waiting -- but the other continues to completion (nothing else to crash into).  If I trigger three or more, one or more will hang waiting.  Any uncrashed streams complete, followed by any others whose popups have been acknowledged.\n\nSo it looks to me that *THIS* version is on the way to a fix -- at least a fully uncrashed stream will complete without hanging whether or not a popup from some other stream is waiting.  But the popups that do happen still need to time out and continue, as discussed above in this report and elsewhere.", "time": "2021-01-02T21:11:21Z", "creation_time": "2021-01-02T21:11:21Z", "is_private": false, "creator": "dannyfox@pmtech.ca", "tags": [], "attachment_id": null}, {"id": 15720946, "bug_id": 707933, "creation_time": "2022-01-06T04:11:16Z", "is_private": false, "creator": "vseerror@lehigh.edu", "author": "vseerror@lehigh.edu", "count": 80, "text": "(In reply to Dan Pernokis from comment #79)\n> \n> So it looks to me that *THIS* version is on the way to a fix -- at least a fully uncrashed stream will complete without hanging whether or not a popup from some other stream is waiting.  But the popups that do happen still need to time out and continue, as discussed above in this report and elsewhere.\n\nHow is version 91?", "tags": [], "time": "2022-01-06T04:11:16Z", "attachment_id": null, "raw_text": "(In reply to Dan Pernokis from comment #79)\n> \n> So it looks to me that *THIS* version is on the way to a fix -- at least a fully uncrashed stream will complete without hanging whether or not a popup from some other stream is waiting.  But the popups that do happen still need to time out and continue, as discussed above in this report and elsewhere.\n\nHow is version 91?"}, {"creation_time": "2022-01-06T04:54:53Z", "is_private": false, "bug_id": 707933, "id": 15720962, "author": "dannyfox@pmtech.ca", "count": 81, "text": "It took me under two minutes -- far less time than it took to write this message -- to prove all things:  running multiple GETMAIL streams *will* cause collisions and frozen streams, but ONE will finish unimpeded.    (See caveat)\n\n(1)  Running two:  One popup waits for acknowledgement and the other stream continues.\n(2)  Running three:   Two popups are inevitable -- and both freeze until ack while the last one finishes.  An ack'd popup will eventually finish, and the last waits for ack and finishes too.  (See caveat)\n(3)  Running four (if I can click GETMAIL fast enough, because the mouse can't see it if focus is on a popup):  As per three, the last finishes since no collisions are lurking;  the second-last runs when ack'd;  then the remaining stream completes.  (See caveat)\n\nCAVEAT:  Also noticed in this quick test:  When I was running four, and the last of the streams was polling, one of the timed automatic polls triggered and caused a popup.  This is inevitable too, given how I see this thing working now.  Whatever it is in the timing that makes a collision happen is still there.\n\nSo to answer your question, Wayne:  91.4.1 seems to be no different than 78.6.0 in Comment 79.  It is nice that one stream (of multiples) will usually finish, but that has *always* been the case.  Given a number of inboxes being polled, a timed automatic poll *can and does* trigger at any moment, causing a collision/popup in the GETMAIL stream and hanging the whole process.  But at least it appears a given GETMAIL stream doesn't hang its brothers unless they too collide with something.\n\nAnd as I concluded in Comment 79... \"The popups that do happen still need to time out and continue, as discussed above in this report and elsewhere.\"", "creator": "dannyfox@pmtech.ca", "tags": [], "attachment_id": null, "raw_text": "It took me under two minutes -- far less time than it took to write this message -- to prove all things:  running multiple GETMAIL streams *will* cause collisions and frozen streams, but ONE will finish unimpeded.    (See caveat)\n\n(1)  Running two:  One popup waits for acknowledgement and the other stream continues.\n(2)  Running three:   Two popups are inevitable -- and both freeze until ack while the last one finishes.  An ack'd popup will eventually finish, and the last waits for ack and finishes too.  (See caveat)\n(3)  Running four (if I can click GETMAIL fast enough, because the mouse can't see it if focus is on a popup):  As per three, the last finishes since no collisions are lurking;  the second-last runs when ack'd;  then the remaining stream completes.  (See caveat)\n\nCAVEAT:  Also noticed in this quick test:  When I was running four, and the last of the streams was polling, one of the timed automatic polls triggered and caused a popup.  This is inevitable too, given how I see this thing working now.  Whatever it is in the timing that makes a collision happen is still there.\n\nSo to answer your question, Wayne:  91.4.1 seems to be no different than 78.6.0 in Comment 79.  It is nice that one stream (of multiples) will usually finish, but that has *always* been the case.  Given a number of inboxes being polled, a timed automatic poll *can and does* trigger at any moment, causing a collision/popup in the GETMAIL stream and hanging the whole process.  But at least it appears a given GETMAIL stream doesn't hang its brothers unless they too collide with something.\n\nAnd as I concluded in Comment 79... \"The popups that do happen still need to time out and continue, as discussed above in this report and elsewhere.\"", "time": "2022-01-06T04:54:53Z"}]}}}