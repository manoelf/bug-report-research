{"comments": {}, "bugs": {"696608": {"comments": [{"tags": [], "time": "2011-10-22T21:30:29Z", "attachment_id": null, "raw_text": "Spin-off from bug 535128. A couple of exceptions are consistently thrown when increasing or decreasing the number of browser.startup.homepage.* prefs used. On Windows, this happens when the Browser preference pane is closed and changes in the homepage group were made, increasing or decreasing the number of pages listed; on Linux, this happens already while the list is modified (in fact, the prefs are updated immediately as one types).\n\nAs far as I can tell, this has no impact on the expected functionality.\n\nThe following exception is seen when a new browser.startup.homepage.* pref has to be added which didn't exist before, only on Windows 7 though but not on Linux:\n\n> Error: Couldn't get browser.startup.homepage.x pref: [Exception...\n> \"Component returned failure code: 0x8000ffff (NS_ERROR_UNEXPECTED)\n> [nsIPrefBranch2.getComplexValue]\"  nsresult: \"0x8000ffff\n> (NS_ERROR_UNEXPECTED)\"  location: \"JS frame ::\n> chrome://communicator/content/utilityOverlay.js :: GetLocalizedStringPref ::\n> line 194\"  data: no]\n> Source File: chrome://communicator/content/utilityOverlay.js\n> Line: 196\n\nNote that this exception is present in SeaMonkey 2.4.1 and later Windows builds, but not in SeaMonkey 2.3 as released. Both bug 662162 or bug 663629 were checked in during that time frame and deal with string preferences.\n\nWhen the number of home pages in the group is reduced, I get this message on both platforms (and in SM 2.3 already):\n\n> Error: this.preferences is null\n> Source File: chrome://global/content/bindings/preferences.xml\n> Line: 122\n\nAfter reducing, then increasing the number of homepage prefs used, the following may show up in the Error Console on both platforms (this is much less reproducible though):\n\n> Error: [Exception... \"'JavaScript component does not have a method named:\n> \"observe\"' when calling method: [nsIObserver::observe]\"  nsresult:\n> \"0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)\"  location: \"JS\n> frame :: chrome://global/content/bindings/preferences.xml ::\n> set_valueFromPreferences :: line 350\"  data: no]\n> Source File: chrome://global/content/bindings/preferences.xml\n> Line: 350\n\nAlso occasionally observed on line 333 with the same message. The last exception was seen in SM 2.0.4 as well, whereas neither of the other exceptions are thrown in the old branch.", "id": 5798951, "bug_id": 696608, "creation_time": "2011-10-22T21:30:29Z", "is_private": false, "creator": "rsx11m.pub@gmail.com", "author": "rsx11m.pub@gmail.com", "count": 0, "text": "Spin-off from bug 535128. A couple of exceptions are consistently thrown when increasing or decreasing the number of browser.startup.homepage.* prefs used. On Windows, this happens when the Browser preference pane is closed and changes in the homepage group were made, increasing or decreasing the number of pages listed; on Linux, this happens already while the list is modified (in fact, the prefs are updated immediately as one types).\n\nAs far as I can tell, this has no impact on the expected functionality.\n\nThe following exception is seen when a new browser.startup.homepage.* pref has to be added which didn't exist before, only on Windows 7 though but not on Linux:\n\n> Error: Couldn't get browser.startup.homepage.x pref: [Exception...\n> \"Component returned failure code: 0x8000ffff (NS_ERROR_UNEXPECTED)\n> [nsIPrefBranch2.getComplexValue]\"  nsresult: \"0x8000ffff\n> (NS_ERROR_UNEXPECTED)\"  location: \"JS frame ::\n> chrome://communicator/content/utilityOverlay.js :: GetLocalizedStringPref ::\n> line 194\"  data: no]\n> Source File: chrome://communicator/content/utilityOverlay.js\n> Line: 196\n\nNote that this exception is present in SeaMonkey 2.4.1 and later Windows builds, but not in SeaMonkey 2.3 as released. Both bug 662162 or bug 663629 were checked in during that time frame and deal with string preferences.\n\nWhen the number of home pages in the group is reduced, I get this message on both platforms (and in SM 2.3 already):\n\n> Error: this.preferences is null\n> Source File: chrome://global/content/bindings/preferences.xml\n> Line: 122\n\nAfter reducing, then increasing the number of homepage prefs used, the following may show up in the Error Console on both platforms (this is much less reproducible though):\n\n> Error: [Exception... \"'JavaScript component does not have a method named:\n> \"observe\"' when calling method: [nsIObserver::observe]\"  nsresult:\n> \"0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)\"  location: \"JS\n> frame :: chrome://global/content/bindings/preferences.xml ::\n> set_valueFromPreferences :: line 350\"  data: no]\n> Source File: chrome://global/content/bindings/preferences.xml\n> Line: 350\n\nAlso occasionally observed on line 333 with the same message. The last exception was seen in SM 2.0.4 as well, whereas neither of the other exceptions are thrown in the old branch."}, {"creator": "rsx11m.pub@gmail.com", "text": "> chrome://communicator/content/utilityOverlay.js :: GetLocalizedStringPref ::\n\nLooking a bit closer at this, bug 662162 only introduced reporting an exception if the pref is not defined, previously it was just quietly assigning a \"null\" and continuing. Thus, that patch simply may have exposed an issue which was around before already.", "count": 1, "author": "rsx11m.pub@gmail.com", "bug_id": 696608, "id": 5798975, "creation_time": "2011-10-22T22:42:12Z", "is_private": false, "time": "2011-10-22T22:42:12Z", "raw_text": "> chrome://communicator/content/utilityOverlay.js :: GetLocalizedStringPref ::\n\nLooking a bit closer at this, bug 662162 only introduced reporting an exception if the pref is not defined, previously it was just quietly assigning a \"null\" and continuing. Thus, that patch simply may have exposed an issue which was around before already.", "attachment_id": null, "tags": []}]}}}