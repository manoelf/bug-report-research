{"bugs": {"665918": {"comments": [{"creator": "nnever2000@yahoo.it", "author": "nnever2000@yahoo.it", "bug_id": 665918, "tags": [], "count": 0, "is_private": false, "id": 5545586, "text": "User-Agent:       Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729)\nBuild Identifier: Mozilla 5.0 (also present in mozilla 4.0)\n\nLook at this small piece of code:\n\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n    <title>BUG</title>\n</head>\n<body>\n    <table cellspacing=\"0\" rules=\"all\" border=\"1\" style=\"width: 100%; height: 100%; font-size: 8pt;\n        font-family: Verdana; color: Black; border-width: 1px; border-style: Solid; border-color: #D4D0C8;\n        background-color: White; border-collapse: collapse;\">\n        <tr style=\"color: #4073A7; background-color: White; border-color: #D4D0C8; border-width: 1px;\n            border-style: Solid; font-size: 8pt; text-decoration: none;\">\n            <th align=\"center\" scope=\"col\" style=\"width: 100px;\">\n                Data\n            </th>\n            <th align=\"left\" scope=\"col\">\n                Titolo\n            </th>\n        </tr>\n        <tr align=\"center\" style=\"border-color: #D4D0C8; border-width: 1px; border-style: Solid;\n            height: 20px;\">\n            <td align=\"center\">\n                16/06/2011\n            </td>\n            <td align=\"left\">\n                PIPPO\n            </td>\n        </tr>\n    </table>\n</body>\n</html>\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Open in firefox the code in details section\n2.\n3.\n\nActual Results:  \nThe text color and the border color are the same\n\nExpected Results:  \nThe border color should be #D4D0C8 instead is the same of the text", "attachment_id": null, "time": "2011-06-21T15:54:30Z", "creation_time": "2011-06-21T15:54:30Z", "raw_text": "User-Agent:       Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729)\nBuild Identifier: Mozilla 5.0 (also present in mozilla 4.0)\n\nLook at this small piece of code:\n\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n    <title>BUG</title>\n</head>\n<body>\n    <table cellspacing=\"0\" rules=\"all\" border=\"1\" style=\"width: 100%; height: 100%; font-size: 8pt;\n        font-family: Verdana; color: Black; border-width: 1px; border-style: Solid; border-color: #D4D0C8;\n        background-color: White; border-collapse: collapse;\">\n        <tr style=\"color: #4073A7; background-color: White; border-color: #D4D0C8; border-width: 1px;\n            border-style: Solid; font-size: 8pt; text-decoration: none;\">\n            <th align=\"center\" scope=\"col\" style=\"width: 100px;\">\n                Data\n            </th>\n            <th align=\"left\" scope=\"col\">\n                Titolo\n            </th>\n        </tr>\n        <tr align=\"center\" style=\"border-color: #D4D0C8; border-width: 1px; border-style: Solid;\n            height: 20px;\">\n            <td align=\"center\">\n                16/06/2011\n            </td>\n            <td align=\"left\">\n                PIPPO\n            </td>\n        </tr>\n    </table>\n</body>\n</html>\n\n\nReproducible: Always\n\nSteps to Reproduce:\n1.Open in firefox the code in details section\n2.\n3.\n\nActual Results:  \nThe text color and the border color are the same\n\nExpected Results:  \nThe border color should be #D4D0C8 instead is the same of the text"}, {"raw_text": "rules=\"all\" puts borders on all the cells and uses the collapsed border model (which you're using explicitly anyway).\n\nNow your rows have 1px solid borders from your styles and the cells have thin solid borders from the rules=\"all\" (which also means 1px usually).  CSS 2.1 section 17.6.2.1 says:\n\n  If border styles differ only in color, then a style set on a cell wins over\n  one on a row\n\nwhich is exactly what you see here.\n\nfantasai, what do you think the right behavior is here?  Getting the behavior the reporter seems to expect means only setting left/right borders on the cells, and not even doing that for the cells that abut the table edges... which can't be figured out in practice on the selector level anyway.", "creation_time": "2011-06-21T16:04:15Z", "text": "rules=\"all\" puts borders on all the cells and uses the collapsed border model (which you're using explicitly anyway).\n\nNow your rows have 1px solid borders from your styles and the cells have thin solid borders from the rules=\"all\" (which also means 1px usually).  CSS 2.1 section 17.6.2.1 says:\n\n  If border styles differ only in color, then a style set on a cell wins over\n  one on a row\n\nwhich is exactly what you see here.\n\nfantasai, what do you think the right behavior is here?  Getting the behavior the reporter seems to expect means only setting left/right borders on the cells, and not even doing that for the cells that abut the table edges... which can't be figured out in practice on the selector level anyway.", "attachment_id": null, "time": "2011-06-21T16:04:15Z", "tags": [], "count": 1, "is_private": false, "id": 5545620, "bug_id": 665918, "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"author": "bzbarsky@mit.edu", "creator": "bzbarsky@mit.edu", "id": 5545657, "count": 2, "is_private": false, "tags": [], "bug_id": 665918, "raw_text": "Note that the HTML5 spec currently calls for our behavior, but that's at least in part because they lifted our style rules.", "creation_time": "2011-06-21T16:17:16Z", "time": "2011-06-21T16:17:16Z", "attachment_id": null, "text": "Note that the HTML5 spec currently calls for our behavior, but that's at least in part because they lifted our style rules."}, {"text": "Created attachment 540779\ntestcase", "attachment_id": 540779, "time": "2011-06-21T16:51:21Z", "raw_text": "", "creation_time": "2011-06-21T16:51:21Z", "bug_id": 665918, "is_private": false, "count": 3, "tags": [], "id": 5545757, "creator": "moz@jeka.info", "author": "moz@jeka.info"}, {"author": "moz@jeka.info", "creator": "moz@jeka.info", "attachment_id": 540788, "time": "2011-06-21T16:59:48Z", "text": "Created attachment 540788\ntestcase", "creation_time": "2011-06-21T16:59:48Z", "raw_text": "", "bug_id": 665918, "id": 5545784, "tags": [], "count": 4, "is_private": false}, {"author": "nnever2000@yahoo.it", "creator": "nnever2000@yahoo.it", "raw_text": "I would like to point out that about \"CSS 2.1 section 17.6.2.1\" it says that if \"only colored BORDER STYLE Differ\" but in our case the two borders (cell and row) are both the same color (green in the test cases) instead the color that wins is the text color and not the border-color. I really  think it's a bug, and not strict application of the rules of HTML 5.0", "creation_time": "2011-07-01T14:07:47Z", "attachment_id": null, "time": "2011-07-01T14:07:47Z", "text": "I would like to point out that about \"CSS 2.1 section 17.6.2.1\" it says that if \"only colored BORDER STYLE Differ\" but in our case the two borders (cell and row) are both the same color (green in the test cases) instead the color that wins is the text color and not the border-color. I really  think it's a bug, and not strict application of the rules of HTML 5.0", "id": 5569459, "count": 5, "is_private": false, "tags": [], "bug_id": 665918}, {"raw_text": "> but in our case the two borders (cell and row) are both the same color (green\n> in the test cases)\n\nNo.  The table _row_ border colors in the testcase are green.  The table _cell_ border colors are not set by the testcase directly, but setting rules=\"all\" applies a UA style rule that sets the cell borders to solid style and thin width, with the default value of border-color. The default value of border-color is the text color.  So the two cells in the testcase have a red and blue border respectively, which is what you're seeing.", "creation_time": "2011-07-01T14:52:42Z", "author": "bzbarsky@mit.edu", "attachment_id": null, "time": "2011-07-01T14:52:42Z", "creator": "bzbarsky@mit.edu", "text": "> but in our case the two borders (cell and row) are both the same color (green\n> in the test cases)\n\nNo.  The table _row_ border colors in the testcase are green.  The table _cell_ border colors are not set by the testcase directly, but setting rules=\"all\" applies a UA style rule that sets the cell borders to solid style and thin width, with the default value of border-color. The default value of border-color is the text color.  So the two cells in the testcase have a red and blue border respectively, which is what you're seeing.", "id": 5569556, "tags": [], "count": 6, "is_private": false, "bug_id": 665918}, {"tags": [], "is_private": false, "count": 7, "id": 5569586, "bug_id": 665918, "raw_text": "> The default value of border-color is the text color.\n\nOk, I see now.\n\nHaving understood better what was happening I was able to create a centralized way to fix my applications. \n\nMany thanks.", "creation_time": "2011-07-01T15:08:56Z", "creator": "nnever2000@yahoo.it", "text": "> The default value of border-color is the text color.\n\nOk, I see now.\n\nHaving understood better what was happening I was able to create a centralized way to fix my applications. \n\nMany thanks.", "author": "nnever2000@yahoo.it", "attachment_id": null, "time": "2011-07-01T15:08:56Z"}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "text": "You're welcome.  Still thinking about whether there's a good way to change the behavior on our end to be less surprising.", "time": "2011-07-01T15:32:06Z", "attachment_id": null, "raw_text": "You're welcome.  Still thinking about whether there's a good way to change the behavior on our end to be less surprising.", "creation_time": "2011-07-01T15:32:06Z", "bug_id": 665918, "is_private": false, "count": 8, "tags": [], "id": 5569622}, {"author": "fantasai.bugs@inkedblade.net", "creator": "fantasai.bugs@inkedblade.net", "bug_id": 665918, "id": 5569985, "tags": [], "is_private": false, "count": 9, "attachment_id": null, "time": "2011-07-01T18:16:10Z", "text": "I think setting border-color: inherit; unconditionally on all internal table elements would help here. (It won't address the interaction with columns, but there isn't much we can do there.)", "creation_time": "2011-07-01T18:16:10Z", "raw_text": "I think setting border-color: inherit; unconditionally on all internal table elements would help here. (It won't address the interaction with columns, but there isn't much we can do there.)"}, {"creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu", "creation_time": "2011-07-01T18:22:08Z", "raw_text": "Just in the rules=\"all\" case?  Or in general?  I can almost buy setting it in the rules=\"all\" case, but in general would be pretty weird.", "text": "Just in the rules=\"all\" case?  Or in general?  I can almost buy setting it in the rules=\"all\" case, but in general would be pretty weird.", "time": "2011-07-01T18:22:08Z", "attachment_id": null, "is_private": false, "count": 10, "tags": [], "id": 5569996, "bug_id": 665918}, {"author": "fantasai.bugs@inkedblade.net", "creator": "fantasai.bugs@inkedblade.net", "id": 5570071, "tags": [], "is_private": false, "count": 11, "bug_id": 665918, "creation_time": "2011-07-01T18:57:00Z", "raw_text": "I think in general would be best. That makes the behavior very predictable. And if I roll back 10+ years of working with CSS specs and look at what I'd expect as an HTML4 Transitional author, it makes sense for the color to inherit through. That was the conceptual model HTML had for borders and backgrounds on tables.", "time": "2011-07-01T18:57:00Z", "attachment_id": null, "text": "I think in general would be best. That makes the behavior very predictable. And if I roll back 10+ years of working with CSS specs and look at what I'd expect as an HTML4 Transitional author, it makes sense for the color to inherit through. That was the conceptual model HTML had for borders and backgrounds on tables."}, {"text": "So if I have a <table border=\"5\"> and then style some cell with a color you would not expect that cell's border to get that color?", "time": "2011-07-01T19:10:04Z", "attachment_id": null, "raw_text": "So if I have a <table border=\"5\"> and then style some cell with a color you would not expect that cell's border to get that color?", "creation_time": "2011-07-01T19:10:04Z", "bug_id": 665918, "is_private": false, "count": 12, "tags": [], "id": 5570097, "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}, {"author": "fantasai.bugs@inkedblade.net", "creator": "fantasai.bugs@inkedblade.net", "creation_time": "2011-07-01T19:13:25Z", "raw_text": "No, I would not expect that. I'd expect the cell to have the same color as the table border.", "time": "2011-07-01T19:13:25Z", "attachment_id": null, "text": "No, I would not expect that. I'd expect the cell to have the same color as the table border.", "id": 5570102, "count": 13, "is_private": false, "tags": [], "bug_id": 665918}, {"bug_id": 665918, "count": 14, "is_private": false, "tags": [], "id": 5570109, "text": "Hmm.\n\nWhat do other UAs do here, esp. in the separated border model when color is applied to a row and a different one applied to a cell an the cell is given a default-colored border?", "attachment_id": null, "time": "2011-07-01T19:17:14Z", "creation_time": "2011-07-01T19:17:14Z", "raw_text": "Hmm.\n\nWhat do other UAs do here, esp. in the separated border model when color is applied to a row and a different one applied to a cell an the cell is given a default-colored border?", "creator": "bzbarsky@mit.edu", "author": "bzbarsky@mit.edu"}]}}, "comments": {}}