{"bugs": {"669895": {"comments": [{"tags": [], "time": "2011-07-07T14:35:36Z", "bug_id": 669895, "text": "Created attachment 544475\ntestcase\n\nNot a big issue, but something is not completely right in this case.\nWhen going into print preview, an alert comes up and the 'Preparing' dialog stays there. After dismissing those dialogs, you get into the print preview mode, except, the page is not really print previewed, it seems.", "author": "martijn.martijn@gmail.com", "creation_time": "2011-07-07T14:35:36Z", "count": 0, "creator": "martijn.martijn@gmail.com", "is_private": false, "id": 5578605, "raw_text": "Not a big issue, but something is not completely right in this case.\nWhen going into print preview, an alert comes up and the 'Preparing' dialog stays there. After dismissing those dialogs, you get into the print preview mode, except, the page is not really print previewed, it seems.", "attachment_id": 544475}, {"bug_id": 669895, "count": 1, "id": 12981928, "attachment_id": null, "raw_text": "What's currently happening is we open another tab for about:printpreview and the Print Preview progress dialog. Meanwhile back in the original document and its tab (which we can't see) there is an alert popup. That modal popup blocks the 'beforeprint' handler from returning, so the progress dialog in about:printpreview is stuck with no indication of why.", "author": "jwatt@jwatt.org", "creation_time": "2018-01-19T15:11:00Z", "tags": [], "time": "2018-01-19T15:11:00Z", "text": "What's currently happening is we open another tab for about:printpreview and the Print Preview progress dialog. Meanwhile back in the original document and its tab (which we can't see) there is an alert popup. That modal popup blocks the 'beforeprint' handler from returning, so the progress dialog in about:printpreview is stuck with no indication of why.", "creator": "jwatt@jwatt.org", "is_private": false}, {"id": 12991437, "attachment_id": null, "raw_text": "It looks like TemporarilyDisableDialogs[1] is what we would like to use to fix this, but that class is MOZ_RAII (stack class only) so we can't just add it as a member to AutoPrintEventDispatcher[2] since we sometimes store our instance of that class.\n\n1. https://dxr.mozilla.org/mozilla-central/rev/c4ebc8c28a33b785dfbfa533810517cc707d1ad0/dom/base/nsGlobalWindowOuter.h#399\n2. https://dxr.mozilla.org/mozilla-central/rev/5faab9e619901b1513fd4ca137747231be550def/layout/base/nsDocumentViewer.cpp#411", "author": "jwatt@jwatt.org", "creation_time": "2018-01-24T14:17:09Z", "tags": [], "bug_id": 669895, "time": "2018-01-24T14:17:09Z", "text": "It looks like TemporarilyDisableDialogs[1] is what we would like to use to fix this, but that class is MOZ_RAII (stack class only) so we can't just add it as a member to AutoPrintEventDispatcher[2] since we sometimes store our instance of that class.\n\n1. https://dxr.mozilla.org/mozilla-central/rev/c4ebc8c28a33b785dfbfa533810517cc707d1ad0/dom/base/nsGlobalWindowOuter.h#399\n2. https://dxr.mozilla.org/mozilla-central/rev/5faab9e619901b1513fd4ca137747231be550def/layout/base/nsDocumentViewer.cpp#411", "creator": "jwatt@jwatt.org", "is_private": false, "count": 2}]}}, "comments": {}}