{"bugs": {"1631114": {"comments": [{"raw_text": "I am using `Handle<Maybe<Value>>>` in [D64437](https://phabricator.services.mozilla.com/D64437) and there are some usability problems: \n- I have to do `handle.get.isSome()` instead of just `handle.isSome()`.\n- I really want to just pass `Nothing()` to a parameter, instead of having to do \n```\nMaybe<JS::Value> nothing = Nothing();\nf(Handle<Maybe<Value>>::fromMarkedLocation(&nothing));\n```\n(In this case I don't have access to a JSContext without changing a bunch of code)", "time": "2020-04-17T21:13:49Z", "author": "evilpies@gmail.com", "bug_id": 1631114, "tags": [], "is_private": false, "count": 0, "creation_time": "2020-04-17T21:13:49Z", "attachment_id": null, "creator": "evilpies@gmail.com", "id": 14762500, "text": "I am using `Handle<Maybe<Value>>>` in [D64437](https://phabricator.services.mozilla.com/D64437) and there are some usability problems: \n- I have to do `handle.get.isSome()` instead of just `handle.isSome()`.\n- I really want to just pass `Nothing()` to a parameter, instead of having to do \n```\nMaybe<JS::Value> nothing = Nothing();\nf(Handle<Maybe<Value>>::fromMarkedLocation(&nothing));\n```\n(In this case I don't have access to a JSContext without changing a bunch of code)"}, {"raw_text": "Please do try to avoid Handle::fromMarkedLocation.  Ideally we would remove this but it's still necessary in a few places.", "time": "2020-04-20T10:57:28Z", "author": "jcoppeard@mozilla.com", "tags": [], "bug_id": 1631114, "count": 1, "is_private": false, "creation_time": "2020-04-20T10:57:28Z", "creator": "jcoppeard@mozilla.com", "attachment_id": null, "id": 14766148, "text": "Please do try to avoid Handle::fromMarkedLocation.  Ideally we would remove this but it's still necessary in a few places."}, {"text": "Created attachment 9141690\nBug 1631114 - Make Handle<Maybe<Value>> easier to use r?jandem\n\n\nThis adds WrappedPtrOperations and MutableWrappedPtrOperations specialisations for Maybe<T> to all basic Maybe operations to used on Rooted<Maybe<T>>, Handle<Maybe<T>>, etc.  I didn't add all of them; in particular I found ptr() would conflict with the Rooted::ptr data member.\n\nThis also adds JS::NothingHandleValue for passing Nothing to a Handle<Maybe<Value>>.", "id": 14766341, "creation_time": "2020-04-20T12:59:37Z", "creator": "jcoppeard@mozilla.com", "attachment_id": 9141690, "author": "jcoppeard@mozilla.com", "count": 2, "is_private": false, "tags": [], "bug_id": 1631114, "raw_text": "\nThis adds WrappedPtrOperations and MutableWrappedPtrOperations specialisations for Maybe<T> to all basic Maybe operations to used on Rooted<Maybe<T>>, Handle<Maybe<T>>, etc.  I didn't add all of them; in particular I found ptr() would conflict with the Rooted::ptr data member.\n\nThis also adds JS::NothingHandleValue for passing Nothing to a Handle<Maybe<Value>>.", "time": "2020-04-20T12:59:37Z"}, {"creator": "pulsebot@bots.tld", "attachment_id": null, "creation_time": "2020-04-21T08:08:45Z", "text": "Pushed by jcoppeard@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/73d7489248b6\nMake Handle<Maybe<Value>> easier to use r=jandem", "id": 14768456, "time": "2020-04-21T08:08:45Z", "raw_text": "Pushed by jcoppeard@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/73d7489248b6\nMake Handle<Maybe<Value>> easier to use r=jandem", "bug_id": 1631114, "tags": [], "count": 3, "is_private": false, "author": "pulsebot@bots.tld"}, {"raw_text": "https://hg.mozilla.org/mozilla-central/rev/73d7489248b6", "time": "2020-04-21T22:28:56Z", "author": "aiakab@mozilla.com", "count": 4, "is_private": false, "bug_id": 1631114, "tags": ["bugherder"], "creation_time": "2020-04-21T22:28:56Z", "creator": "aiakab@mozilla.com", "attachment_id": null, "id": 14770434, "text": "https://hg.mozilla.org/mozilla-central/rev/73d7489248b6"}]}}, "comments": {}}