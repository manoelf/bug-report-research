{"bugs": {"705842": {"comments": [{"count": 0, "creator": "jwalden@mit.edu", "is_private": false, "time": "2011-11-28T20:51:25Z", "tags": [], "bug_id": 705842, "text": "If I do |./js file|, it should compile and run just as it does in the browser.  Opting into experimental JITs, configurations, &c. or opting out of the defaults should be affirmative actions, and they should require using friend APIs -- obviously-not-fully-public-APIs which we can break and change at will -- to do it.\n\nThis would mean that things like xpcshell and the jsshell wouldn't need argument parsing frobbing every time a new JIT or optimization technique comes along.  (See bug 704696.)  It would also mean benchmarkers would get fully optimized performance without having to know the flag technique du jour to get it.", "author": "jwalden@mit.edu", "creation_time": "2011-11-28T20:51:25Z", "raw_text": "If I do |./js file|, it should compile and run just as it does in the browser.  Opting into experimental JITs, configurations, &c. or opting out of the defaults should be affirmative actions, and they should require using friend APIs -- obviously-not-fully-public-APIs which we can break and change at will -- to do it.\n\nThis would mean that things like xpcshell and the jsshell wouldn't need argument parsing frobbing every time a new JIT or optimization technique comes along.  (See bug 704696.)  It would also mean benchmarkers would get fully optimized performance without having to know the flag technique du jour to get it.", "attachment_id": null, "id": 5876632}, {"id": 5876688, "raw_text": "+1 from me. I think it would be nice if we could make the SpiderMonkey default options the same ones as used in the browser (I'm not sure if that's implied by your comment or not). Would that cause any problems?", "attachment_id": null, "bug_id": 705842, "time": "2011-11-28T21:08:06Z", "tags": [], "text": "+1 from me. I think it would be nice if we could make the SpiderMonkey default options the same ones as used in the browser (I'm not sure if that's implied by your comment or not). Would that cause any problems?", "author": "dmandelin@mozilla.com", "creation_time": "2011-11-28T21:08:06Z", "count": 1, "creator": "dmandelin@mozilla.com", "is_private": false}, {"id": 5876703, "attachment_id": null, "raw_text": "Yeah, that's implied by the comment, basically.  I think the only think in the engine that would need changing is the code in the pref observer for the javascript.options.* stuff, to call friend APIs instead of whatever they call now.", "creation_time": "2011-11-28T21:12:00Z", "author": "jwalden@mit.edu", "text": "Yeah, that's implied by the comment, basically.  I think the only think in the engine that would need changing is the code in the pref observer for the javascript.options.* stuff, to call friend APIs instead of whatever they call now.", "time": "2011-11-28T21:12:00Z", "tags": [], "is_private": false, "creator": "jwalden@mit.edu", "bug_id": 705842, "count": 2}, {"is_private": false, "creator": "jwalden@mit.edu", "count": 3, "creation_time": "2011-11-28T21:15:25Z", "author": "jwalden@mit.edu", "text": "Er, s/think in the engine/thing in the browser/.", "tags": [], "time": "2011-11-28T21:15:25Z", "bug_id": 705842, "attachment_id": null, "raw_text": "Er, s/think in the engine/thing in the browser/.", "id": 5876717}]}}, "comments": {}}