{"comments": {}, "bugs": {"681224": {"comments": [{"author": "bitcores@gmail.com", "time": "2011-08-23T11:28:21Z", "creation_time": "2011-08-23T11:28:21Z", "creator": "bitcores@gmail.com", "count": 0, "id": 5671625, "is_private": false, "bug_id": 681224, "text": "Created attachment 555073\nscreenshot - nightly textarea opacity image background bug\n\nUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110822 Firefox/9.0a1\nBuild ID: 20110822111311\n\nSteps to reproduce:\n\nUsing the CSS abilities of stylish I added an opacity to a div containing a textarea, in this case I used opacity: 0.8\nThe background color is white with an image taking up part of the background, for testing the background color was set to black, part of the image is white, which can be seen in the attached image.\nHardware acceleration is on and my Anti-Aliasing Tuner settings are also in the attached image if they are relevant.\n\n\nActual results:\n\nSometimes, generally when the textarea scrolls due to a carriage return or scrolling the text box, the text will become fully transparent except for a bit of edging.  It will return to full opacity after a few moments or after some input or more scrolling.\n\n\nExpected results:\n\nThe text should stay fully opaque, or partially transparent, but not switch between opacity and transparency.", "tags": [], "raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110822 Firefox/9.0a1\nBuild ID: 20110822111311\n\nSteps to reproduce:\n\nUsing the CSS abilities of stylish I added an opacity to a div containing a textarea, in this case I used opacity: 0.8\nThe background color is white with an image taking up part of the background, for testing the background color was set to black, part of the image is white, which can be seen in the attached image.\nHardware acceleration is on and my Anti-Aliasing Tuner settings are also in the attached image if they are relevant.\n\n\nActual results:\n\nSometimes, generally when the textarea scrolls due to a carriage return or scrolling the text box, the text will become fully transparent except for a bit of edging.  It will return to full opacity after a few moments or after some input or more scrolling.\n\n\nExpected results:\n\nThe text should stay fully opaque, or partially transparent, but not switch between opacity and transparency.", "attachment_id": 555073}, {"raw_text": "Can you also attach the sample HTML page?", "attachment_id": null, "tags": [], "text": "Can you also attach the sample HTML page?", "bug_id": 681224, "is_private": false, "count": 1, "id": 5674487, "author": "acelists@atlas.sk", "creator": "acelists@atlas.sk", "creation_time": "2011-08-24T10:57:05Z", "time": "2011-08-24T10:57:05Z"}, {"raw_text": "I have uploaded a page with the css that causes the problem for me. The easiest way to test it would be to just copy a block of text into the textarea field and then scroll it using either arrow keys, arrow buttons or slowly with the mouse wheel or scroll bar.", "attachment_id": 555562, "tags": [], "text": "Created attachment 555562\na test page and css file\n\nI have uploaded a page with the css that causes the problem for me. The easiest way to test it would be to just copy a block of text into the textarea field and then scroll it using either arrow keys, arrow buttons or slowly with the mouse wheel or scroll bar.", "bug_id": 681224, "id": 5676254, "count": 2, "is_private": false, "author": "bitcores@gmail.com", "creation_time": "2011-08-24T22:14:05Z", "time": "2011-08-24T22:14:05Z", "creator": "bitcores@gmail.com"}, {"is_private": false, "id": 5677139, "count": 3, "author": "acelists@atlas.sk", "creator": "acelists@atlas.sk", "time": "2011-08-25T07:16:04Z", "creation_time": "2011-08-25T07:16:04Z", "raw_text": "On your screenshot the text is green. Is that the problem? In my testing it is always black, which seems correct.", "attachment_id": null, "tags": [], "text": "On your screenshot the text is green. Is that the problem? In my testing it is always black, which seems correct.", "bug_id": 681224}, {"author": "acelists@atlas.sk", "creator": "acelists@atlas.sk", "creation_time": "2011-08-25T07:17:00Z", "time": "2011-08-25T07:17:00Z", "is_private": false, "count": 4, "id": 5677142, "text": "Created attachment 555668\ntestcase in one html file", "bug_id": 681224, "tags": [], "raw_text": "", "attachment_id": 555668}, {"tags": [], "bug_id": 681224, "text": "(In reply to aceman from comment #3)\n> On your screenshot the text is green. Is that the problem? In my testing it\n> is always black, which seems correct.\n\nThe monitor I usually have Nightly on is overly bright, and I am also color blind, but I can see what you mean. I'll attach another screenshot, using your updated testcase which has a grey background under part of the textarea. The text over top of the grey background is grey also, which suggests the the text is becoming transparent.\n\nAlso, I found that I could not replicate the bug on my laptop so I restarted Nightly in safe mode, just the default safe mode, and the bug didn't occur. After then checking all the addons, without finding one that caused it, I tried turning off 'Use hardware acceleration when available' and the bug stopped occurring.\n\nIf it is perhaps linked to the type of graphics card I have, I am running an Nvidia GTX275 on the 275.33 driver.", "attachment_id": null, "raw_text": "(In reply to aceman from comment #3)\n> On your screenshot the text is green. Is that the problem? In my testing it\n> is always black, which seems correct.\n\nThe monitor I usually have Nightly on is overly bright, and I am also color blind, but I can see what you mean. I'll attach another screenshot, using your updated testcase which has a grey background under part of the textarea. The text over top of the grey background is grey also, which suggests the the text is becoming transparent.\n\nAlso, I found that I could not replicate the bug on my laptop so I restarted Nightly in safe mode, just the default safe mode, and the bug didn't occur. After then checking all the addons, without finding one that caused it, I tried turning off 'Use hardware acceleration when available' and the bug stopped occurring.\n\nIf it is perhaps linked to the type of graphics card I have, I am running an Nvidia GTX275 on the 275.33 driver.", "creation_time": "2011-08-25T10:25:57Z", "time": "2011-08-25T10:25:57Z", "creator": "bitcores@gmail.com", "author": "bitcores@gmail.com", "id": 5677323, "count": 5, "is_private": false}, {"raw_text": "", "attachment_id": 555687, "tags": [], "text": "Created attachment 555687\na second example screenshot of the bug", "bug_id": 681224, "count": 6, "id": 5677324, "is_private": false, "author": "bitcores@gmail.com", "creation_time": "2011-08-25T10:26:47Z", "time": "2011-08-25T10:26:47Z", "creator": "bitcores@gmail.com"}, {"author": "acelists@atlas.sk", "creation_time": "2011-08-25T12:05:33Z", "time": "2011-08-25T12:05:33Z", "creator": "acelists@atlas.sk", "count": 7, "id": 5677458, "is_private": false, "tags": [], "bug_id": 681224, "text": "Created attachment 555703\nscreenshot of how the page should look\n\nI gave grey background because you had it in the first screenshot. And it nicely shows the difference between the background and the image behind the textarea. It is very well possible it is dependent on working HW acceleration and your card.\nI can not reproduce it on Win XP, no acceleration, Intel card. Can you verify it also on other machines and Windows versions? I see the textarea is transparent, the text is too, but it is shades of very similar grey (depending whether it covers the grey background or the image). See screenshot.", "raw_text": "I gave grey background because you had it in the first screenshot. And it nicely shows the difference between the background and the image behind the textarea. It is very well possible it is dependent on working HW acceleration and your card.\nI can not reproduce it on Win XP, no acceleration, Intel card. Can you verify it also on other machines and Windows versions? I see the textarea is transparent, the text is too, but it is shades of very similar grey (depending whether it covers the grey background or the image). See screenshot.", "attachment_id": 555703}, {"creator": "bitcores@gmail.com", "time": "2011-08-26T22:37:06Z", "creation_time": "2011-08-26T22:37:06Z", "author": "bitcores@gmail.com", "is_private": false, "id": 5681802, "count": 8, "tags": [], "bug_id": 681224, "text": "Created attachment 556152\nanother example of bug\n\nThe computer that I experience the bug on:\nWindows 7 Ultimate 64bit\nNvidia GTX275\n\nTwo computers I tested it on but did not experience the bug:\nLaptop\nWindows 7 Pro 32bit\nIntel GL960 chipset\n\nDesktop\nWindows XP Home 32bit\nNvidia Geforce 6100 w/ 178 driver\n\nUse hardware acceleration when available was on in all tests, but I was unsure if the laptop and XP desktop were actually using hardware acceleration. I ran the Mozilla hardware acceleration stress test on them and both had high CPU usage when running it, so can I assume they could not utilize hardware acceleration?\nI have no other machines to test it on.", "attachment_id": 556152, "raw_text": "The computer that I experience the bug on:\nWindows 7 Ultimate 64bit\nNvidia GTX275\n\nTwo computers I tested it on but did not experience the bug:\nLaptop\nWindows 7 Pro 32bit\nIntel GL960 chipset\n\nDesktop\nWindows XP Home 32bit\nNvidia Geforce 6100 w/ 178 driver\n\nUse hardware acceleration when available was on in all tests, but I was unsure if the laptop and XP desktop were actually using hardware acceleration. I ran the Mozilla hardware acceleration stress test on them and both had high CPU usage when running it, so can I assume they could not utilize hardware acceleration?\nI have no other machines to test it on."}, {"author": "bitcores@gmail.com", "time": "2011-08-26T22:40:50Z", "creation_time": "2011-08-26T22:40:50Z", "creator": "bitcores@gmail.com", "count": 9, "id": 5681811, "is_private": false, "text": "Forgot to add this to the previous comment:\n\nThe attached screenshot is another example, I thought that I might have been giving the impression that all the text visible in the box would become transparent, this shows otherwise.\nIt is also quite consistent, if I were to scroll back to the top and start scrolling through the textarea again the same lines usually go transparent.", "bug_id": 681224, "tags": [], "raw_text": "Forgot to add this to the previous comment:\n\nThe attached screenshot is another example, I thought that I might have been giving the impression that all the text visible in the box would become transparent, this shows otherwise.\nIt is also quite consistent, if I were to scroll back to the top and start scrolling through the textarea again the same lines usually go transparent.", "attachment_id": null}, {"text": "I see in the screenshot that the last line of text in the textarea is almost invisible (it is a very light green on white background, where you maybe can't see the difference). The other 4 lines above it are OK. I assume you scrolled 1 line down and the line that appeared is broken (invisible).\n\nCan you check which of those machines have HW acceleration really active? Yes, you may have set it in preferences, but it depends on FF it it really uses it. You can check the real state in about:support.\nI think Nvidia 6100 is blacklisted and XP doesn't have HW acceleration in Direct2D or DirectWrite (and you also have ancient driver, version 257 is needed). On Intel GL960 Direct2D is disabled in FF6, but should be enabled in never versions (and you have FF9). But maybe you have an old driver. You can see the rules of blocking here: https://wiki.mozilla.org/Blocklisting/Blocked_Graphics_Drivers", "bug_id": 681224, "tags": [], "raw_text": "I see in the screenshot that the last line of text in the textarea is almost invisible (it is a very light green on white background, where you maybe can't see the difference). The other 4 lines above it are OK. I assume you scrolled 1 line down and the line that appeared is broken (invisible).\n\nCan you check which of those machines have HW acceleration really active? Yes, you may have set it in preferences, but it depends on FF it it really uses it. You can check the real state in about:support.\nI think Nvidia 6100 is blacklisted and XP doesn't have HW acceleration in Direct2D or DirectWrite (and you also have ancient driver, version 257 is needed). On Intel GL960 Direct2D is disabled in FF6, but should be enabled in never versions (and you have FF9). But maybe you have an old driver. You can see the rules of blocking here: https://wiki.mozilla.org/Blocklisting/Blocked_Graphics_Drivers", "attachment_id": null, "author": "acelists@atlas.sk", "creator": "acelists@atlas.sk", "creation_time": "2011-08-27T13:10:52Z", "time": "2011-08-27T13:10:52Z", "is_private": false, "count": 10, "id": 5682558}, {"creation_time": "2011-08-28T01:00:37Z", "time": "2011-08-28T01:00:37Z", "creator": "bitcores@gmail.com", "author": "bitcores@gmail.com", "count": 11, "id": 5683107, "is_private": false, "tags": [], "bug_id": 681224, "text": "The laptop, more correctly, has a GM965 graphics chip with the 8.15.10.1930 driver, about:support states:\nDirect2D Enabled: Blocked for your graphics driver version.\nDirectWrite Enabled: false (6.1.7600.16763)\nGPU Accelerated Windows: 0/1\n\nI updated the graphics driver on the XP desktop to the latest (280) and also picked up correct information on the chip, it is a 6150SE/nforce430, and in the about:support page it just states that GPU acceleration is blocked due to unresolved driver issues.", "attachment_id": null, "raw_text": "The laptop, more correctly, has a GM965 graphics chip with the 8.15.10.1930 driver, about:support states:\nDirect2D Enabled: Blocked for your graphics driver version.\nDirectWrite Enabled: false (6.1.7600.16763)\nGPU Accelerated Windows: 0/1\n\nI updated the graphics driver on the XP desktop to the latest (280) and also picked up correct information on the chip, it is a 6150SE/nforce430, and in the about:support page it just states that GPU acceleration is blocked due to unresolved driver issues."}, {"raw_text": "OK, so we see those 2 machines without the problem do not really have HW acceleration. That is what we needed to find out. The bug is dependent on HW acceleration therefore I can't see it. I do not have such machine.\nCould you also post the HW accel part of about:support from the machine where you see the bug?", "attachment_id": null, "bug_id": 681224, "text": "OK, so we see those 2 machines without the problem do not really have HW acceleration. That is what we needed to find out. The bug is dependent on HW acceleration therefore I can't see it. I do not have such machine.\nCould you also post the HW accel part of about:support from the machine where you see the bug?", "tags": [], "count": 12, "id": 5683430, "is_private": false, "author": "acelists@atlas.sk", "creation_time": "2011-08-28T12:16:14Z", "time": "2011-08-28T12:16:14Z", "creator": "acelists@atlas.sk"}, {"tags": [], "text": "Adapter Description NVIDIA GeForce GTX 275\nVendor ID 10de\nDevice ID 05e6\nAdapter RAM 896\nAdapter Drivers nvd3dumx,nvwgf2umx,nvwgf2umx nvd3dum,nvwgf2um,nvwgf2um\nDriver Version 8.17.12.7533\nDriver Date 5-20-2011\nDirect2D Enabled true\nDirectWrite Enabled true (6.1.7601.17563)\nClearType Parameters ClearType parameters not found\nWebGL Renderer false\nGPU Accelerated Windows 2/2 Direct3D 10\n\nI had manually disabled webgl, but that shouldn't be linked to the issue at hand should it? I tried re-enabling it and testing again but it seemed to have no affect.", "bug_id": 681224, "raw_text": "Adapter Description NVIDIA GeForce GTX 275\nVendor ID 10de\nDevice ID 05e6\nAdapter RAM 896\nAdapter Drivers nvd3dumx,nvwgf2umx,nvwgf2umx nvd3dum,nvwgf2um,nvwgf2um\nDriver Version 8.17.12.7533\nDriver Date 5-20-2011\nDirect2D Enabled true\nDirectWrite Enabled true (6.1.7601.17563)\nClearType Parameters ClearType parameters not found\nWebGL Renderer false\nGPU Accelerated Windows 2/2 Direct3D 10\n\nI had manually disabled webgl, but that shouldn't be linked to the issue at hand should it? I tried re-enabling it and testing again but it seemed to have no affect.", "attachment_id": null, "author": "bitcores@gmail.com", "creator": "bitcores@gmail.com", "time": "2011-08-28T19:27:56Z", "creation_time": "2011-08-28T19:27:56Z", "is_private": false, "id": 5683669, "count": 13}, {"raw_text": "Thanks, it seems you HW acceleration is working on that machine. WebGL shouln't be relevant here.", "attachment_id": null, "tags": [], "bug_id": 681224, "text": "Thanks, it seems you HW acceleration is working on that machine. WebGL shouln't be relevant here.", "count": 14, "id": 5685711, "is_private": false, "author": "acelists@atlas.sk", "creation_time": "2011-08-29T19:08:33Z", "time": "2011-08-29T19:08:33Z", "creator": "acelists@atlas.sk"}, {"raw_text": "The same bug happens not only with textareas, but also with divs.\nIf I remove the div opacity, when I scroll the div doesn't get messed up.\nIf the opacity is anything less than 1.0, when I scroll, the div's contents get all messed up.", "attachment_id": 576983, "tags": [], "text": "Created attachment 576983\nsame bug using divs\n\nThe same bug happens not only with textareas, but also with divs.\nIf I remove the div opacity, when I scroll the div doesn't get messed up.\nIf the opacity is anything less than 1.0, when I scroll, the div's contents get all messed up.", "bug_id": 681224, "id": 5872743, "count": 15, "is_private": false, "author": "rodrigoyasuda@gmail.com", "creation_time": "2011-11-25T20:27:27Z", "time": "2011-11-25T20:27:27Z", "creator": "rodrigoyasuda@gmail.com"}, {"is_private": false, "count": 16, "id": 6031989, "creator": "RNicoletto@gmail.com", "time": "2012-02-03T13:20:06Z", "creation_time": "2012-02-03T13:20:06Z", "author": "RNicoletto@gmail.com", "attachment_id": null, "raw_text": "This is WFM with Firefox 10 on Windows XP (Intel video card).", "bug_id": 681224, "text": "This is WFM with Firefox 10 on Windows XP (Intel video card).", "tags": []}]}}}