{"bugs": {"667457": {"comments": [{"raw_text": "User Agent: Mozilla/5.0 (Windows NT 6.1; rv:7.0a1) Gecko/20110626 Firefox/7.0a1\nBuild ID: 20110626030756\n\nSteps to reproduce:\n\nI'm try to find a way to clean the applicationCache in javascript.\n\nSuch method currently not exists.\n\nI use a simple page which has a manifest.\n\n<!DOCTYPE html>\n<html manifest=\"site.manifest\">\n<head>\t\n\t<script src=\"js/libs/modernizr-2.0.4.custom.min.js\"></script>\n</head>\n<body>\n\t<button onclick=\"cleanCache()\">Clean this site cached data.</button> \n\n\t<!-- Grab local. fall back to Google CDN's jQuery if necessary -->\n\t<script src=\"js/libs/jquery-1.6.1.min.js\"></script>\n\t<script>!window.jQuery && document.write('<script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.js\">\\x3C/script>')</script>\n\n\t<script>\n\t\tfunction cleanCache(){\n\t\t\tif( Modernizr.applicationcache ){\n\t\t\t\t/*\n\t\t\t\t\t@toto javascript method\n\t\t\t\t*/\n\t\t\t\tconsole.log(window.applicationCache);\n                                console.log(window.applicationCache.mozItems);\n\t\t\t}\n\n\t\t\tif( Modernizr.localstorage ){\n\t\t\t\tlocalStorage.clear();\n\t\t\t} else {\n\t\t\t\tdocument.cookie = \"localStorage=; path=/\";\n\t\t\t}\n\t\t}\n\t</script>\n</body>\n</html>\n\n\n\nActual results:\n\n\nconsole result :\n0 items in offline cache\nDOMStringList { length=0}\n\n\nBut when i go in \"Options > Advanced > Network\" my site is listed with 272kb of data.\n\n\n\n\n\nExpected results:\n\nlocalStorage has a method for it, \"localStorage.clear()\"\n\napplicationCache object should have a similar method.\n\nI saw in #461569 that an items property to list the applicationCache entries was added.\nI commented the #461569 for the mozItems related bug.\n\nI could use mozItems and mozRemove methods to erase all entries one by one.\nBut a \"clear\" global method will be easier to use as a developer.", "creation_time": "2011-06-27T15:05:32Z", "time": "2011-06-27T15:05:32Z", "attachment_id": null, "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; rv:7.0a1) Gecko/20110626 Firefox/7.0a1\nBuild ID: 20110626030756\n\nSteps to reproduce:\n\nI'm try to find a way to clean the applicationCache in javascript.\n\nSuch method currently not exists.\n\nI use a simple page which has a manifest.\n\n<!DOCTYPE html>\n<html manifest=\"site.manifest\">\n<head>\t\n\t<script src=\"js/libs/modernizr-2.0.4.custom.min.js\"></script>\n</head>\n<body>\n\t<button onclick=\"cleanCache()\">Clean this site cached data.</button> \n\n\t<!-- Grab local. fall back to Google CDN's jQuery if necessary -->\n\t<script src=\"js/libs/jquery-1.6.1.min.js\"></script>\n\t<script>!window.jQuery && document.write('<script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.js\">\\x3C/script>')</script>\n\n\t<script>\n\t\tfunction cleanCache(){\n\t\t\tif( Modernizr.applicationcache ){\n\t\t\t\t/*\n\t\t\t\t\t@toto javascript method\n\t\t\t\t*/\n\t\t\t\tconsole.log(window.applicationCache);\n                                console.log(window.applicationCache.mozItems);\n\t\t\t}\n\n\t\t\tif( Modernizr.localstorage ){\n\t\t\t\tlocalStorage.clear();\n\t\t\t} else {\n\t\t\t\tdocument.cookie = \"localStorage=; path=/\";\n\t\t\t}\n\t\t}\n\t</script>\n</body>\n</html>\n\n\n\nActual results:\n\n\nconsole result :\n0 items in offline cache\nDOMStringList { length=0}\n\n\nBut when i go in \"Options > Advanced > Network\" my site is listed with 272kb of data.\n\n\n\n\n\nExpected results:\n\nlocalStorage has a method for it, \"localStorage.clear()\"\n\napplicationCache object should have a similar method.\n\nI saw in #461569 that an items property to list the applicationCache entries was added.\nI commented the #461569 for the mozItems related bug.\n\nI could use mozItems and mozRemove methods to erase all entries one by one.\nBut a \"clear\" global method will be easier to use as a developer.", "id": 5558685, "count": 0, "is_private": false, "tags": [], "bug_id": 667457, "author": "gmoulin.dev@gmail.com", "creator": "gmoulin.dev@gmail.com"}, {"creation_time": "2012-01-18T18:47:20Z", "raw_text": "Bump. Combine this with the fact that mozItems and and mozRemove are apparently un-usable in the web console and it's infuriating to build offline apps in firefox.", "text": "Bump. Combine this with the fact that mozItems and and mozRemove are apparently un-usable in the web console and it's infuriating to build offline apps in firefox.", "time": "2012-01-18T18:47:20Z", "attachment_id": null, "tags": [], "is_private": false, "count": 1, "id": 5989484, "bug_id": 667457, "creator": "lcrouch@mozilla.com", "author": "lcrouch@mozilla.com"}]}}, "comments": {}}